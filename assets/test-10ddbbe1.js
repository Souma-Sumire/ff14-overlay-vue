import"./index-1013f9d7.js";/* empty css               */import{u as e}from"./useWebSocket-3c7a9d0a.js";/* empty css               *//* empty css                */import{_ as t}from"./ThemeToggle-739a1f1f.js";/* empty css                  */import{N as a}from"./netregexes-ed180b06.js";import{a as n,c as i}from"./overlay_plugin_api-974cdd44.js";import{U as s}from"./user_config-cf0555d1.js";import{h as o,M as r,r as l,s as c,S as u}from"./element-plus-31eb5454.js";import{t as g,r as d,v as m,x as v,u as f,A as x,J as y,M as p,K as C,E as L,L as b,a9 as E,G as h,D as _}from"./vue-vendor-e9f6d682.js";import{_ as D}from"./_plugin-vue_export-helper-6a8c15be.js";import"./index-bc46afe1.js";import"./regexes-da03e94d.js";import"./content_type-e6dd7239.js";import"./zone_id-712c4b9c.js";import"./zone_info-e69ac441.js";const S={id:"app"},k={key:0,class:"container"},P={class:"header"},w={style:{"text-align":"right"},flex:"~ gap-2"},T={class:"section"},A={class:"info-table"},j={class:"info-key"},M={class:"section"},I={class:"card-title"},U={class:"event-content"},N={class:"section"},O={class:"card-title"},V={class:"event-content"},G={class:"section"},Z={class:"card-title"},z={class:"event-content"},B={key:1},R=D(g({__name:"test",setup(g){const{wsConnected:D}=e({addWsParam:!0,allowClose:!1}),R=s.getDefaultBaseOptions(),W=d({ParserLanguage:"",ShortLocale:"",DisplayLanguage:"",TextAlertsEnabled:!1,SoundAlertsEnabled:!1,SpokenAlertsEnabled:!1,GroupSpokenAlertsEnabled:!1,SystemInfo:{cactbotVersion:"",overlayPluginVersion:"",ffxivPluginVersion:"",actVersion:"",gameRegion:""},Debug:!1,Language:"",SystemLocale:"",CactbotUserDirectory:"",DefaultAlertOutput:""}),F=d(""),H=()=>F.value=(new Date).toLocaleString();H(),setInterval(H,1e3);const K=d({ChangePrimaryPlayer:{title:"当前角色",instruction:"切换角色以触发事件"},ChangeZone:{title:"当前区域",instruction:"移动一次区域以触发事件"},CombatData:{title:"战斗信息",instruction:"进入战斗以触发事件"},EnmityTargetData:{title:"目标信息",instruction:"选中一个目标以触发事件"},PartyChanged:{title:"队伍列表",instruction:"切换职业/组成小队以触发事件"},onGameExistsEvent:{title:"游戏存在",instruction:"打开游戏以触发事件"},onGameActiveChangedEvent:{title:"游戏活动状态",instruction:"操作游戏以触发事件"},onInCombatChangedEvent:{title:"战斗状态",instruction:"进入战斗以触发事件"},onZoneChangedEvent:{title:"区域变化",instruction:"移动一次区域以触发事件"},onPlayerDied:{title:"玩家死亡",instruction:"死一次以触发事件"},onPlayerChangedEvent:{title:"玩家变化",instruction:"移动角色以触发事件"}});s.getUserConfigLocation("soumatest",R,()=>{W.value.ParserLanguage=R.ParserLanguage,W.value.DisplayLanguage=R.DisplayLanguage,W.value.SystemInfo=R.SystemInfo,W.value.CactbotUserDirectory=s.savedConfig.general.CactbotUserDirectory,W.value.DefaultAlertOutput=s.savedConfig.raidboss.DefaultAlertOutput});const J=d({});function X(e){if("EnmityTargetData"===e.type&&!e.Target)return;const{type:t,...a}={...e};J.value[e.type]=a}const $=d({changeZone:{title:"Line 01 (0x01): ChangeZone",instruction:"切换地图",regex:a.changeZone()},addedCombatant:{title:"Line 03 (0x03): AddCombatant",instruction:"切换地图",regex:a.addedCombatant()},removingCombatant:{title:"Line 04 (0x04): RemoveCombatant",instruction:"切换地图",regex:a.removingCombatant()},startsUsing:{title:"Line 20 (0x14): NetworkStartsCasting",instruction:"读条技能",regex:a.startsUsing()},ability:{title:"Line 21 (0x15): NetworkAbility",instruction:"使用技能",regex:a.ability()},networkDoT:{title:"Line 24 (0x18): NetworkDoT",instruction:"获得 DoT/Hot 效果",regex:a.networkDoT()},wasDefeated:{title:"Line 25 (0x19): NetworkDeath",instruction:"被击倒",regex:a.wasDefeated()},gainsEffect:{title:"Line 26 (0x1A): NetworkBuff",instruction:"获得buff",regex:a.gainsEffect()},headMarker:{title:"Line 27 (0x1B): NetworkTargetIcon",instruction:"获得头顶点名（分摊/分散/死刑/麻将）",regex:a.headMarker()},losesEffect:{title:"Line 30 (0x1E): NetworkBuffRemove",instruction:"失去buff",regex:a.losesEffect()},network6d:{title:"Line 33 (0x21): Network6D",instruction:"打本触发（本越新越好）",regex:a.network6d()},tether:{title:"Line 35 (0x23): NetworkTether",instruction:"获得连线效果",regex:a.tether()},map:{title:"Line 40 (0x28): Map",instruction:"切换地图",regex:a.map()},systemLogMessage:{title:"Line 41 (0x29): SystemLogMessage",instruction:"系统日志信息",regex:a.systemLogMessage()}}),q=d({mapEffect:{title:"Line 257 (0x101): MapEffect",instruction:"打本触发（本越新越好）",regex:a.mapEffect()},inCombat:{title:"Line 260 (0x104): InCombat",instruction:"进入战斗",regex:a.inCombat()},combatantMemory:{title:"Line 261 (0x105): CombatantMemory",instruction:"打本触发（本越新越好）",regex:a.combatantMemory()},startsUsingExtra:{title:"Line 263 (0x107): StartsUsingExtra",instruction:"读条技能",regex:a.startsUsingExtra()},abilityExtra:{title:"Line 264 (0x108): AbilityExtra",instruction:"使用技能",regex:a.abilityExtra()},countdown:{title:"Line 268 (0x10C): Countdown",instruction:"开启倒计时",regex:a.countdown()},actorMove:{title:"Line 270 (0x10E): ActorMove",instruction:"打本触发（本越新越好）",regex:a.actorMove()},actorSetPos:{title:"Line 271 (0x10F): ActorSetPos",instruction:"打本触发（本越新越好）",regex:a.actorSetPos()},actorControlExtra:{title:"Line 273 (0x111): ActorControlExtra",instruction:"打本触发（本越新越好）",regex:a.actorControlExtra()}});return n("ChangePrimaryPlayer",X),n("ChangeZone",X),n("CombatData",X),n("EnmityTargetData",X),n("PartyChanged",X),n("onGameExistsEvent",X),n("onGameActiveChangedEvent",X),n("onInCombatChangedEvent",X),n("onZoneChangedEvent",X),n("onPlayerDied",X),n("onPlayerChangedEvent",X),n("LogLine",e=>{for(const t in $.value){$.value[t].regex.test(e.rawLine)&&(J.value[t]=!0)}for(const t in q.value){q.value[t].regex.test(e.rawLine)&&(J.value[t]=!0)}}),(e,a)=>{const n=o,s=t,g=l,d=r,R=c,H=u;return v(),m("div",S,[f(D)?(v(),m("div",k,[x("div",P,[a[3]||(a[3]=x("div",null,[x("h1",{style:{color:"#409eff",margin:"0"}}," 自助测试页 ")],-1)),x("div",w,[a[2]||(a[2]=x("i",{class:"el-icon-time"},null,-1)),y(" 系统时间: "+C(f(F)||"无数据")+" ",1),p(n,{type:"primary",size:"small",onClick:a[0]||(a[0]=e=>{return t=`测试TTS${(new Date).getTime().toString().slice(-4)}`,void i({call:"cactbotSay",text:t});var t})},{default:L(()=>a[1]||(a[1]=[y(" 测试TTS ")])),_:1,__:[1]}),p(s)])]),x("div",T,[a[4]||(a[4]=x("div",{class:"section-title"},[x("i",{class:"el-icon-setting"}),y(" 用户配置信息 ")],-1)),p(R,{gutter:12},{default:L(()=>[p(d,{span:24},{default:L(()=>[p(g,{shadow:"hover"},{default:L(()=>[x("div",A,[(v(!0),m(b,null,E({"ACT版本":f(W).SystemInfo.actVersion,"解析插件版本":f(W).SystemInfo.ffxivPluginVersion,"OverlayPlugin版本":f(W).SystemInfo.overlayPluginVersion,"Cactbot版本":f(W).SystemInfo.cactbotVersion,"解析语言":f(W).ParserLanguage,"Cactbot 显示语言":f(W).DisplayLanguage,"游戏区域":f(W).SystemInfo.gameRegion,"Raidboss 默认输出":f(W).DefaultAlertOutput,"用户文件夹":f(W).CactbotUserDirectory},(e,t)=>(v(),m("div",{key:t,class:"info-row"},[x("div",j,C(t),1),x("div",{class:h(["info-val",{"no-data":!e}])},C(e||"无数据"),3)]))),128))])]),_:1})]),_:1})]),_:1})]),x("div",M,[a[5]||(a[5]=x("div",{class:"section-title"},[x("i",{class:"el-icon-document"}),y(" ACT 网络日志测试（常用部分） ")],-1)),a[6]||(a[6]=x("div",{class:"header-tip"}," 如果无法触发这部分事件，说明你需要更新解析插件。 ",-1)),p(R,{gutter:12},{default:L(()=>[(v(!0),m(b,null,E(f($),(e,t)=>(v(),_(d,{key:t,xs:24,sm:12,md:8,lg:6},{default:L(()=>[p(g,{class:h(["event-card",f(J)[t]?"success":"danger"])},{default:L(()=>[x("div",I,[y(C(f($)[t].title)+" ",1),p(H,{type:f(J)[t]?"success":"danger",size:"small"},{default:L(()=>[y(C(f(J)[t]?"成功":"未触发"),1)]),_:2},1032,["type"])]),x("div",U,C(f(J)[t]?"":"请尝试：")+C(e.instruction),1)]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})]),x("div",N,[a[7]||(a[7]=x("div",{class:"section-title"},[x("i",{class:"el-icon-s-data"}),y(" OverlayPlugin 事件测试（常用部分） ")],-1)),a[8]||(a[8]=x("div",{class:"header-tip"}," 如果无法触发这部分事件，说明你需要更新 OverlayPlugin 插件。 ",-1)),p(R,{gutter:12},{default:L(()=>[(v(!0),m(b,null,E(f(K),(e,t)=>(v(),_(d,{key:t,xs:24,sm:12,md:8,lg:6},{default:L(()=>[p(g,{class:h(["event-card",f(J)[t]?"success":"danger"])},{default:L(()=>[x("div",O,[y(C(e.title)+"（"+C(t)+"） ",1),p(H,{type:f(J)[t]?"success":"danger",size:"small"},{default:L(()=>[y(C(f(J)[t]?"成功":"未触发"),1)]),_:2},1032,["type"])]),x("div",V,C(f(J)[t]?"":"请尝试：")+C(e.instruction),1)]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})]),x("div",G,[a[9]||(a[9]=x("div",{class:"section-title"},[x("i",{class:"el-icon-cpu"}),y(" OverlayPlugin 日志测试（常用部分） ")],-1)),a[10]||(a[10]=x("div",{class:"header-tip"}," 如果无法触发这部分事件，说明你需要更新 OverlayPlugin 插件。 ",-1)),p(R,{gutter:12},{default:L(()=>[(v(!0),m(b,null,E(f(q),(e,t)=>(v(),_(d,{key:t,xs:24,sm:12,md:8,lg:6},{default:L(()=>[p(g,{class:h(["event-card",f(J)[t]?"success":"danger"])},{default:L(()=>[x("div",Z,[y(C(f(q)[t].title)+" ",1),p(H,{type:f(J)[t]?"success":"danger",size:"small"},{default:L(()=>[y(C(f(J)[t]?"成功":"未触发"),1)]),_:2},1032,["type"])]),x("div",z,C(f(J)[t]?"":"请尝试：")+C(e.instruction),1)]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})])])):(v(),m("div",B,a[11]||(a[11]=[x("p",null,"等待 WebSocket 连接...",-1)])))])}}}),[["__scopeId","data-v-738cfd8d"]]);export{R as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dnc-106bb92b.js","assets/vue-vendor-db4de8ea.js","assets/overlay_plugin_api-974cdd44.js","assets/index-de57c9c1.js","assets/element-plus-ad97716d.js","assets/_plugin-vue_export-helper-6a8c15be.js","assets/dnc-4b29b86d.css","assets/el-popconfirm-eeeb73c6.css","assets/el-popper-c6e7047e.css","assets/el-popover-a4b65e5f.css","assets/el-button-83a9f205.css","assets/el-switch-79953196.css","assets/el-input-b3fbe902.css","assets/el-input-number-d450f3d6.css","assets/zoneMacro-b57764d4.js","assets/el-space-abb157f5.js","assets/el-space-15ab1104.css","assets/postNamazu-538b186f.js","assets/zoneInfo-40d5d60a.js","assets/zone_info-e69ac441.js","assets/useWebSocket-7da34f1a.js","assets/useWebSocket-ba049b31.css","assets/content_type-e6dd7239.js","assets/zoneMacro-fa13cee0.css","assets/el-footer-62c0dac3.css","assets/el-main-abd33944.css","assets/el-card-1fc1038b.css","assets/el-table-column-8aa0f1b4.css","assets/el-tooltip-c83c72a6.css","assets/el-select-3d4b0561.css","assets/el-tag-e58c1071.css","assets/github-markdown-light-924542b1.css","assets/timelineSettings-e0abc1a0.js","assets/TimelineShow-92f8cf63.js","assets/regexes-da03e94d.js","assets/util-c5e2dd68.js","assets/xivapi-3a0d4d4e.js","assets/TimelineShow-4ab5a313.css","assets/lz-string-adfe5a8e.js","assets/lz-string-ed212c0b.css","assets/actionChinese-e2356100.js","assets/utils-4cf81527.js","assets/timelineSettings-aebe5d04.css","assets/el-col-c3d559fe.css","assets/el-form-6aac98cc.css","assets/animate-5a564c78.css","assets/timelineHelp-a6f9ce31.js","assets/timeline-754b2edd.js","assets/timeline-bcc6c001.css","assets/time-7434c12a.js","assets/time-718e092c.css","assets/test-d5384b84.js","assets/netregexes-ed180b06.js","assets/user_config-cf0555d1.js","assets/zone_id-712c4b9c.js","assets/test-54f504e1.css","assets/startPages-4144c724.js","assets/startPages-2c196b6a.css","assets/showBarrier-ac04fefe.js","assets/DragJob-8c46d6c3.js","assets/DragJob-dcd78e23.css","assets/showBarrier-5110a601.css","assets/okVpr2-c74f407a.js","assets/okVpr-0eae5f2d.js","assets/okDncDance-4a75473b.js","assets/obs2-8f9a20c7.js","assets/obs-e6ebd277.js","assets/obs2-e4bd42ee.css","assets/obs-a2c8bf60.js","assets/style-1f970b29.js","assets/obs-d133553d.css","assets/keigennRecord2-dc07f35b.js","assets/status-84583663.js","assets/keigennRecord2-827b30ea.css","assets/instancedAreaInfo-5805a7ab.js","assets/instancedAreaInfo-c095a549.css","assets/hunt-2ce72722.js","assets/hunt-347d4008.css","assets/hexcode-99e6cf86.js","assets/hexcode-1a2ac68e.css","assets/ffxivAxisWebFont-4bf3c8fb.js","assets/ffxivAxisWebFont-9137db36.css","assets/fflogsUploaderDownload-1d410e06.js","assets/fflogsUploaderDownload-8d7537f4.css","assets/enmity-e4968f37.js","assets/enmity-154844ad.css","assets/dsrp6-cbe17f7c.js","assets/dsrp6-9de893db.css","assets/castingToChinese-d796e7ec.js","assets/castingToChinese-674c89b8.css","assets/castingMonitor-45e53f50.js","assets/castingMonitor-d32e49d9.css","assets/cactbotRuntime-316ed135.js","assets/cactbotRuntime-8ec777bc.css","assets/blubook-ede33c02.js","assets/blubook-3b778095.css","assets/aether-71792992.js","assets/aether-14db342f.css"])))=>i.map(i=>d[i]);
import{ao as e,n as t,i as n,ap as o,u as l,r,d as a,w as i,U as s,a2 as c,W as u,g as d,t as p,V as m,c as g,f,P as v,M as h,p as b,H as x,ak as w,a8 as y,ae as C,a0 as S,ab as E,D,x as T,E as O,aq as k,v as R,ar as I,as as P,at as F,au as M}from"./vue-vendor-db4de8ea.js";import{g as A,E as V,b as $}from"./element-plus-ad97716d.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const N=new Set(["title","titleTemplate","script","style","noscript"]),L=new Set(["base","meta","link","style","script","noscript"]),_=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),B=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),z=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),j="undefined"!=typeof window;function H(e){let t=9;for(let n=0;n<e.length;)t=Math.imul(t^e.charCodeAt(n++),9**9);return(65536+(t^t>>>9)).toString(16).substring(1,8).toLowerCase()}function W(e){if(e._h)return e._h;if(e._d)return H(e._d);let t=`${e.tag}:${e.textContent||e.innerHTML||""}:`;for(const n in e.props)t+=`${n}:${String(e.props[n])},`;return H(t)}function q(e,t,n,o){const l=o||K("object"!=typeof t||"function"==typeof t||t instanceof Promise?{["script"===e||"noscript"===e||"style"===e?"innerHTML":"textContent"]:t}:{...t},"templateParams"===e||"titleTemplate"===e);if(l instanceof Promise)return l.then(o=>q(e,t,n,o));const r={tag:e,props:l};for(const a of z){const e=void 0!==r.props[a]?r.props[a]:n[a];void 0!==e&&(("innerHTML"!==a&&"textContent"!==a&&"children"!==a||N.has(r.tag))&&(r["children"===a?"innerHTML":a]=e),delete r.props[a])}return r.props.body&&(r.tagPosition="bodyClose",delete r.props.body),"script"===r.tag&&"object"==typeof r.innerHTML&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(e=>({...r,props:{...r.props,content:e}})):r}function G(e,t){const n="class"===e?" ":";";return t&&"object"==typeof t&&!Array.isArray(t)&&(t=Object.entries(t).filter(([,e])=>e).map(([t,n])=>"style"===e?`${t}:${n}`:t)),String(Array.isArray(t)?t.join(n):t)?.split(n).filter(e=>Boolean(e.trim())).join(n)}function U(e,t,n,o){for(let l=o;l<n.length;l+=1){const o=n[l];if("class"!==o&&"style"!==o){if(e[o]instanceof Promise)return e[o].then(r=>(e[o]=r,U(e,t,n,l)));if(!t&&!z.has(o)){const t=String(e[o]),n=o.startsWith("data-");"true"===t||""===t?e[o]=!n||"true":e[o]||(n&&"false"===t?e[o]="false":delete e[o])}}else e[o]=G(o,e[o])}}function K(e,t=!1){const n=U(e,t,Object.keys(e),0);return n instanceof Promise?n.then(()=>e):e}function Y(e,t,n){for(let o=n;o<t.length;o+=1){const n=t[o];if(n instanceof Promise)return n.then(n=>(t[o]=n,Y(e,t,o)));Array.isArray(n)?e.push(...n):e.push(n)}}function X(e){const t=[],n=e.resolvedInput;for(const a in n){if(!Object.prototype.hasOwnProperty.call(n,a))continue;const o=n[a];if(void 0!==o&&_.has(a))if(Array.isArray(o))for(const n of o)t.push(q(a,n,e));else t.push(q(a,o,e))}if(0===t.length)return[];const o=[];return l=Y(o,t,0),r=()=>o.map((t,n)=>(t._e=e._i,e.mode&&(t._m=e.mode),t._p=(e._i<<10)+n,t)),l instanceof Promise?l.then(r):r(l);var l,r}const Z=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),Q={base:-10,title:10},J={critical:-80,high:-10,low:20};function ee(e){const t=e.tagPriority;if("number"==typeof t)return t;let n=100;return"meta"===e.tag?"content-security-policy"===e.props["http-equiv"]?n=-30:e.props.charset?n=-20:"viewport"===e.props.name&&(n=-15):"link"===e.tag&&"preconnect"===e.props.rel?n=20:e.tag in Q&&(n=Q[e.tag]),t&&t in J?n+J[t]:n}const te=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],ne=["name","property","http-equiv"];function oe(e){const{props:t,tag:n}=e;if(B.has(n))return n;if("link"===n&&"canonical"===t.rel)return"canonical";if(t.charset)return"charset";if(t.id)return`${n}:id:${t.id}`;for(const o of ne)if(void 0!==t[o])return`${n}:${o}:${t[o]}`;return!1}const le="%separator";const re=new RegExp(`${le}(?:\\s*${le})*`,"g");function ae(e,t,n,o=!1){if("string"!=typeof e||!e.includes("%"))return e;let l=e;try{l=decodeURI(e)}catch{}const r=l.match(/%\w+(?:\.\w+)?/g);if(!r)return e;const a=e.includes(le);return e=e.replace(/%\w+(?:\.\w+)?/g,e=>{if(e===le||!r.includes(e))return e;const n=function(e,t,n=!1){let o;if("s"===t||"pageTitle"===t)o=e.pageTitle;else if(t.includes(".")){const n=t.indexOf(".");o=e[t.substring(0,n)]?.[t.substring(n+1)]}else o=e[t];if(void 0!==o)return n?(o||"").replace(/"/g,'\\"'):o||""}(t,e.slice(1),o);return void 0!==n?n:e}).trim(),a&&(e.endsWith(le)&&(e=e.slice(0,-10)),e.startsWith(le)&&(e=e.slice(10)),e=e.replace(re,n).trim()),e}function ie(e,t){return null==e?t||null:"function"==typeof e?e(t):e}function se(e,t={}){const n=t.delayFn||(e=>setTimeout(e,10));return e._domDebouncedUpdatePromise=e._domDebouncedUpdatePromise||new Promise(o=>n(()=>async function(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const o={shouldRender:!0,tags:[]};return await e.hooks.callHook("dom:beforeRender",o),o.shouldRender?(e._domUpdatePromise||(e._domUpdatePromise=new Promise(async t=>{const o=(await e.resolveTags()).map(e=>({tag:e,id:L.has(e.tag)?W(e):e.tag,shouldRender:!0}));let l=e._dom;if(!l){l={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};const e=new Set;for(const t of["body","head"]){const o=n[t]?.children;for(const t of o){const n=t.tagName.toLowerCase();if(!L.has(n))continue;const o={tag:n,props:await K(t.getAttributeNames().reduce((e,n)=>({...e,[n]:t.getAttribute(n)}),{})),innerHTML:t.innerHTML},r=oe(o);let a=r,i=1;for(;a&&e.has(a);)a=`${r}:${i++}`;a&&(o._d=a,e.add(a)),l.elMap[t.getAttribute("data-hid")||W(o)]=t}}}function r(e,t,n){const o=`${e}:${t}`;l.sideEffects[o]=n,delete l.pendingSideEffects[o]}function a({id:e,$el:t,tag:o}){const a=o.tag.endsWith("Attrs");if(l.elMap[e]=t,a||(o.textContent&&o.textContent!==t.textContent&&(t.textContent=o.textContent),o.innerHTML&&o.innerHTML!==t.innerHTML&&(t.innerHTML=o.innerHTML),r(e,"el",()=>{l.elMap[e]?.remove(),delete l.elMap[e]})),o._eventHandlers)for(const l in o._eventHandlers)Object.prototype.hasOwnProperty.call(o._eventHandlers,l)&&""!==t.getAttribute(`data-${l}`)&&(("bodyAttrs"===o.tag?n.defaultView:t).addEventListener(l.substring(2),o._eventHandlers[l].bind(t)),t.setAttribute(`data-${l}`,""));for(const n in o.props){if(!Object.prototype.hasOwnProperty.call(o.props,n))continue;const l=o.props[n],i=`attr:${n}`;if("class"===n){if(!l)continue;for(const n of l.split(" "))a&&r(e,`${i}:${n}`,()=>t.classList.remove(n)),!t.classList.contains(n)&&t.classList.add(n)}else if("style"===n){if(!l)continue;for(const n of l.split(";")){const o=n.indexOf(":"),l=n.substring(0,o).trim(),a=n.substring(o+1).trim();r(e,`${i}:${l}`,()=>{t.style.removeProperty(l)}),t.style.setProperty(l,a)}}else t.getAttribute(n)!==l&&t.setAttribute(n,!0===l?"":String(l)),a&&r(e,i,()=>t.removeAttribute(n))}}l.pendingSideEffects={...l.sideEffects},l.sideEffects={};const i=[],s={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const e of o){const{tag:t,shouldRender:o,id:r}=e;o&&("title"!==t.tag?(e.$el=e.$el||l.elMap[r],e.$el?a(e):L.has(t.tag)&&i.push(e)):n.title=t.textContent)}for(const e of i){const t=e.tag.tagPosition||"head";e.$el=n.createElement(e.tag.tag),a(e),s[t]=s[t]||n.createDocumentFragment(),s[t].appendChild(e.$el)}for(const c of o)await e.hooks.callHook("dom:renderTag",c,n,r);s.head&&n.head.appendChild(s.head),s.bodyOpen&&n.body.insertBefore(s.bodyOpen,n.body.firstChild),s.bodyClose&&n.body.appendChild(s.bodyClose);for(const e in l.pendingSideEffects)l.pendingSideEffects[e]();e._dom=l,await e.hooks.callHook("dom:rendered",{renders:o}),t()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise):void 0}(e,t).then(()=>{delete e._domDebouncedUpdatePromise,o()})))}function ce(e){return t=>{const n=t.resolvedOptions.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return n&&t.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":t=>{se(t,e)}}}}}const ue=new Set(["templateParams","htmlAttrs","bodyAttrs"]),de={hooks:{"tag:normalise":({tag:e})=>{e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.key&&(e.key=e.props.key,delete e.props.key);const t=oe(e);!t||t.startsWith("meta:og:")||t.startsWith("meta:twitter:")||delete e.key;const n=t||!!e.key&&`${e.tag}:${e.key}`;n&&(e._d=n)},"tags:resolve":e=>{const t=Object.create(null);for(const o of e.tags){const e=(o.key?`${o.tag}:${o.key}`:o._d)||W(o),n=t[e];if(n){let l=o?.tagDuplicateStrategy;if(!l&&ue.has(o.tag)&&(l="merge"),"merge"===l){const l=n.props;l.style&&o.props.style&&(";"!==l.style[l.style.length-1]&&(l.style+=";"),o.props.style=`${l.style} ${o.props.style}`),l.class&&o.props.class?o.props.class=`${l.class} ${o.props.class}`:l.class&&(o.props.class=l.class),t[e].props={...l,...o.props};continue}if(o._e===n._e){n._duped=n._duped||[],o._d=`${n._d}:${n._duped.length+1}`,n._duped.push(o);continue}if(ee(o)>ee(n))continue}o.innerHTML||o.textContent||0!==Object.keys(o.props).length||!L.has(o.tag)?t[e]=o:delete t[e]}const n=[];for(const o in t){const e=t[o],l=e._duped;n.push(e),l&&(delete e._duped,n.push(...l))}e.tags=n,e.tags=e.tags.filter(e=>!("meta"===e.tag&&(e.props.name||e.props.property)&&!e.props.content))}}},pe=new Set(["script","link","bodyAttrs"]),me=e=>({hooks:{"tags:resolve":t=>{for(const n of t.tags){if(!pe.has(n.tag))continue;const t=n.props;for(const o in t){if("o"!==o[0]||"n"!==o[1])continue;if(!Object.prototype.hasOwnProperty.call(t,o))continue;const l=t[o];"function"==typeof l&&(e.ssr&&Z.has(o)?t[o]=`this.dataset.${o}fired = true`:delete t[o],n._eventHandlers=n._eventHandlers||{},n._eventHandlers[o]=l)}e.ssr&&n._eventHandlers&&(n.props.src||n.props.href)&&(n.key=n.key||H(n.props.src||n.props.href))}},"dom:renderTag":({$el:e,tag:t})=>{const n=e?.dataset;if(n)for(const o in n){if(!o.endsWith("fired"))continue;const n=o.slice(0,-5);Z.has(n)&&t._eventHandlers?.[n]?.call(e,new Event(n.substring(2)))}}}}),ge=new Set(["link","style","script","noscript"]),fe={hooks:{"tag:normalise":({tag:e})=>{e.key&&ge.has(e.tag)&&(e.props["data-hid"]=e._h=H(e.key))}}},ve={mode:"server",hooks:{"tags:beforeResolve":e=>{const t={};let n=!1;for(const o of e.tags)"server"!==o._m||"titleTemplate"!==o.tag&&"templateParams"!==o.tag&&"title"!==o.tag||(t[o.tag]="title"===o.tag||"titleTemplate"===o.tag?o.textContent:o.props,n=!0);n&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},he={hooks:{"tags:resolve":e=>{for(const t of e.tags)if("string"==typeof t.tagPriority)for(const{prefix:n,offset:o}of te){if(!t.tagPriority.startsWith(n))continue;const l=t.tagPriority.substring(n.length),r=e.tags.find(e=>e._d===l)?._p;if(void 0!==r){t._p=r+o;break}}e.tags.sort((e,t)=>{const n=ee(e),o=ee(t);return n<o?-1:n>o?1:e._p-t._p})}}},be={meta:"content",link:"href",htmlAttrs:"lang"},xe=["innerHTML","textContent"],we=e=>({hooks:{"tags:resolve":t=>{const{tags:n}=t;let o;for(let e=0;e<n.length;e+=1){"templateParams"===n[e].tag&&(o=t.tags.splice(e,1)[0].props,e-=1)}const l=o||{},r=l.separator||"|";delete l.separator,l.pageTitle=ae(l.pageTitle||n.find(e=>"title"===e.tag)?.textContent||"",l,r);for(const e of n){if(!1===e.processTemplateParams)continue;const t=be[e.tag];if(t&&"string"==typeof e.props[t])e.props[t]=ae(e.props[t],l,r);else if(e.processTemplateParams||"titleTemplate"===e.tag||"title"===e.tag)for(const n of xe)"string"==typeof e[n]&&(e[n]=ae(e[n],l,r,"script"===e.tag&&e.props.type.endsWith("json")))}e._templateParams=l,e._separator=r},"tags:afterResolve":({tags:t})=>{let n;for(let e=0;e<t.length;e+=1){const o=t[e];"title"===o.tag&&!1!==o.processTemplateParams&&(n=o)}n?.textContent&&(n.textContent=ae(n.textContent,e._templateParams,e._separator))}}}),ye={hooks:{"tags:resolve":e=>{const{tags:t}=e;let n,o;for(let l=0;l<t.length;l+=1){const e=t[l];"title"===e.tag?n=e:"titleTemplate"===e.tag&&(o=e)}if(o&&n){const t=ie(o.textContent,n.textContent);null!==t?n.textContent=t||n.textContent:e.tags.splice(e.tags.indexOf(n),1)}else if(o){const e=ie(o.textContent);null!==e&&(o.textContent=e,o.tag="title",o=void 0)}o&&e.tags.splice(e.tags.indexOf(o),1)}}},Ce={hooks:{"tags:afterResolve":e=>{for(const t of e.tags)"string"==typeof t.innerHTML&&(!t.innerHTML||"application/ld+json"!==t.props.type&&"application/json"!==t.props.type?t.innerHTML=t.innerHTML.replace(new RegExp(`</${t.tag}`,"g"),`<\\/${t.tag}`):t.innerHTML=t.innerHTML.replace(/</g,"\\u003C"))}}};let Se;function Ee(t={}){const n=function(t={}){const n=e();n.addHooks(t.hooks||{}),t.document=t.document||(j?document:void 0);const o=!t.document,l=()=>{s.dirty=!0,n.callHook("entries:updated",s)};let r=0,a=[];const i=[],s={plugins:i,dirty:!1,resolvedOptions:t,hooks:n,headEntries:()=>a,use(e){const t="function"==typeof e?e(s):e;t.key&&i.some(e=>e.key===t.key)||(i.push(t),De(t.mode,o)&&n.addHooks(t.hooks||{}))},push(e,t){delete t?.head;const n={_i:r++,input:e,...t};return De(n.mode,o)&&(a.push(n),l()),{dispose(){a=a.filter(e=>e._i!==n._i),l()},patch(e){for(const t of a)t._i===n._i&&(t.input=n.input=e);l()}}},async resolveTags(){const e={tags:[],entries:[...a]};await n.callHook("entries:resolve",e);for(const t of e.entries){const o=t.resolvedInput||t.input;if(t.resolvedInput=await(t.transform?t.transform(o):o),t.resolvedInput)for(const l of await X(t)){const o={tag:l,entry:t,resolvedOptions:s.resolvedOptions};await n.callHook("tag:normalise",o),e.tags.push(o.tag)}}return await n.callHook("tags:beforeResolve",e),await n.callHook("tags:resolve",e),await n.callHook("tags:afterResolve",e),e.tags},ssr:o};return[de,ve,me,fe,he,we,ye,Ce,...t?.plugins||[]].forEach(e=>s.use(e)),s.hooks.callHook("init",s),s}(t);return n.use(ce()),Se=n}function De(e,t){return!e||"server"===e&&t||"client"===e&&!t}const Te="3"===o[0];function Oe(e){if(e instanceof Promise||e instanceof Date||e instanceof RegExp)return e;const t="function"==typeof(n=e)?n():l(n);var n;if(!e||!t)return t;if(Array.isArray(t))return t.map(e=>Oe(e));if("object"==typeof t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&("titleTemplate"===n||"o"===n[0]&&"n"===n[1]?e[n]=l(t[n]):e[n]=Oe(t[n]));return e}return t}const ke={hooks:{"entries:resolve":e=>{for(const t of e.entries)t.resolvedInput=Oe(t.input)}}},Re="usehead";function Ie(e={}){e.domDelayFn=e.domDelayFn||(e=>t(()=>setTimeout(()=>e(),0)));const n=Ee(e);return n.use(ke),n.install=function(e){return{install(t){Te&&(t.config.globalProperties.$unhead=e,t.config.globalProperties.$head=e,t.provide(Re,e))}}.install}(n),n}const Pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Fe="__unhead_injection_handler__";function Me(){if(Fe in Pe)return Pe[Fe]();return n(Re)||Se}function Ae(e,t={}){const n=t.head||Me();if(n)return n.ssr?n.push(e,t):function(e,t,n={}){const o=r(!1),l=r({});a(()=>{l.value=o.value?{}:Oe(t)});const p=e.push(l.value,n);i(l,e=>{p.patch(e)});d()&&(s(()=>{p.dispose()}),c(()=>{o.value=!0}),u(()=>{o.value=!1}));return p}(n,e,t)}
/*!
 * Vue-Lazyload.js v3.0.0
 * (c) 2023 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */
function Ve(e,t){return e(t={exports:{}},t.exports),t.exports}var $e=Ve(function(e){const t=Object.prototype.toString,n=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;e.exports=(e,...l)=>{if("function"!=typeof(r=e)&&"[object Object]"!==t.call(r)&&!Array.isArray(r))throw new TypeError("expected the first argument to be an object");var r;if(0===l.length||"function"!=typeof Symbol||"function"!=typeof o)return e;for(let t of l){let l=o(t);for(let o of l)n.call(t,o)&&(e[o]=t[o])}return e}}),Ne=Object.freeze({__proto__:null,default:$e,__moduleExports:$e}),Le=Ne&&$e||Ne,_e=Ve(function(e){const t=Object.prototype.toString,n=e=>"__proto__"!==e&&"constructor"!==e&&"prototype"!==e,o=e.exports=(e,...t)=>{let r=0;var a;for(("object"==typeof(a=e)?null===a:"function"!=typeof a)&&(e=t[r++]),e||(e={});r<t.length;r++)if(l(t[r])){for(const a of Object.keys(t[r]))n(a)&&(l(e[a])&&l(t[r][a])?o(e[a],t[r][a]):e[a]=t[r][a]);Le(e,t[r])}return e};function l(e){return"function"==typeof e||"[object Object]"===t.call(e)}});const Be="undefined"!=typeof window&&null!==window,ze=function(){if(Be&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0;return!1}();const je="event",He="observer";function We(e,t){if(!e.length)return;const n=e.indexOf(t);return n>-1?e.splice(n,1):void 0}function qe(e,t){if("IMG"!==e.tagName||!e.getAttribute("data-srcset"))return"";let n=e.getAttribute("data-srcset").trim().split(",");const o=[],l=e.parentNode.offsetWidth*t;let r,a,i;n.forEach(e=>{e=e.trim(),r=e.lastIndexOf(" "),-1===r?(a=e,i=99999):(a=e.substr(0,r),i=parseInt(e.substr(r+1,e.length-r-2),10)),o.push([i,a])}),o.sort((e,t)=>{if(e[0]<t[0])return 1;if(e[0]>t[0])return-1;if(e[0]===t[0]){if(-1!==t[1].indexOf(".webp",t[1].length-5))return 1;if(-1!==e[1].indexOf(".webp",e[1].length-5))return-1}return 0});let s,c="";for(let u=0;u<o.length;u++){s=o[u],c=s[1];const e=o[u+1];if(e&&e[0]<l){c=s[1];break}if(!e){c=s[1];break}}return c}const Ge=(e=1)=>Be&&window.devicePixelRatio||e;function Ue(){if(!Be)return!1;let e=!0;function t(e,t){const n=new Image;n.onload=function(){const e=n.width>0&&n.height>0;t(e)},n.onerror=function(){t(!1)},n.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[e]}return t("lossy",t=>{e=t}),t("lossless",t=>{e=t}),t("alpha",t=>{e=t}),t("animation",t=>{e=t}),e}const Ke=function(){if(!Be)return!1;let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",Je,t)}catch(t){}return e}(),Ye={on(e,t,n,o=!1){Ke?e.addEventListener(t,n,{capture:o,passive:!0}):e.addEventListener(t,n,o)},off(e,t,n,o=!1){e.removeEventListener(t,n,o)}},Xe=(e,t,n)=>{let o=new Image;if(!e||!e.src){const e=new Error("image src is required");return n(e)}e.cors&&(o.crossOrigin=e.cors),o.src=e.src,o.onload=function(){t({naturalHeight:o.naturalHeight,naturalWidth:o.naturalWidth,src:o.src}),o=null},o.onerror=function(e){n(e)}},Ze=(e,t)=>"undefined"!=typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.style[t],Qe=e=>Ze(e,"overflow")+Ze(e,"overflowY")+Ze(e,"overflowX");function Je(){}class et{constructor(e){this.max=e||100,this._caches=[]}has(e){return this._caches.indexOf(e)>-1}add(e){this.has(e)||(this._caches.push(e),this._caches.length>this.max&&this.free())}free(){this._caches.shift()}}class tt{constructor(e,t,n,o,l,r,a,i,s,c){this.el=e,this.src=t,this.error=n,this.loading=o,this.bindType=l,this.attempt=0,this.cors=i,this.naturalHeight=0,this.naturalWidth=0,this.options=a,this.rect={},this.$parent=r,this.elRenderer=s,this._imageCache=c,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(e){this.performanceData[e]=Date.now()}update(e){const t=this.src;this.src=e.src,this.loading=e.loading,this.error=e.error,this.filter(),t!==this.src&&(this.attempt=0,this.initState())}getRect(){this.rect=this.el.getBoundingClientRect()}checkInView(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}filter(){for(const e in this.options.filter)this.options.filter[e](this,this.options)}renderLoading(e){this.state.loading=!0,Xe({src:this.loading,cors:this.cors},()=>{this.render("loading",!1),this.state.loading=!1,e()},()=>{e(),this.state.loading=!1,this.options.silent})}load(e=Je){return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent,void e()):this.state.rendered&&this.state.loaded?void 0:this._imageCache.has(this.src)?(this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,e()):void this.renderLoading(()=>{this.attempt++,this.options.adapter.beforeLoad&&this.options.adapter.beforeLoad(this,this.options),this.record("loadStart"),Xe({src:this.src,cors:this.cors},t=>{this.naturalHeight=t.naturalHeight,this.naturalWidth=t.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this._imageCache.add(this.src),e()},e=>{this.options.silent,this.state.error=!0,this.state.loaded=!1,this.render("error",!1)})})}render(e,t){this.elRenderer(this,e,t)}performance(){let e="loading",t=0;return this.state.loaded&&(e="loaded",t=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e="error"),{src:this.src,state:e,time:t}}$destroy(){this.el=null,this.src="",this.error=null,this.loading="",this.bindType=null,this.attempt=0}}const nt="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ot=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],lt={rootMargin:"0px",threshold:0};class rt{constructor({preLoad:e,error:t,throttleWait:n,preLoadTop:o,dispatchEvent:l,loading:r,attempt:a,silent:i=!0,scale:s,listenEvents:c,filter:u,adapter:d,observer:p,observerOptions:m}){this.version='"3.0.0"',this.lazyContainerMananger=null,this.mode=je,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:i,dispatchEvent:!!l,throttleWait:n||200,preLoad:e||1.3,preLoadTop:o||0,error:t||nt,loading:r||nt,attempt:a||3,scale:s||Ge(s),listenEvents:c||ot,supportWebp:Ue(),filter:u||{},adapter:d||{},observer:!!p,observerOptions:m||lt},this._initEvent(),this._imageCache=new et(200),this.lazyLoadHandler=function(e,t){let n=null,o=0;return function(){if(n)return;const l=Date.now()-o,r=this,a=arguments,i=function(){o=Date.now(),n=!1,e.apply(r,a)};l>=t?i():n=setTimeout(i,t)}}(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?He:je)}performance(){const e=[];return this.ListenerQueue.map(t=>e.push(t.performance())),e}addLazyBox(e){this.ListenerQueue.push(e),Be&&(this._addListenerTarget(window),this._observer&&this._observer.observe(e.el),e.$el&&e.$el.parentNode&&this._addListenerTarget(e.$el.parentNode))}add(e,n,o){if(this.ListenerQueue.some(t=>t.el===e))return this.update(e,n),t(this.lazyLoadHandler);let{src:l,loading:r,error:a,cors:i}=this._valueFormatter(n.value);t(()=>{l=qe(e,this.options.scale)||l,this._observer&&this._observer.observe(e);const o=Object.keys(n.modifiers)[0];let s;o&&(s=n.instance.$refs[o],s=s?s.el||s:document.getElementById(o)),s||(s=(e=>{if(!Be)return;if(!(e instanceof Element))return window;let t=e;for(;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(Qe(t)))return t;t=t.parentNode}return window})(e));const c=new tt(e,l,a,r,n.arg,s,this.options,i,this._elRenderer.bind(this),this._imageCache);this.ListenerQueue.push(c),Be&&(this._addListenerTarget(window),this._addListenerTarget(s)),t(this.lazyLoadHandler)})}update(e,n,o){let{src:l,loading:r,error:a}=this._valueFormatter(n.value);l=qe(e,this.options.scale)||l;const i=this.ListenerQueue.find(t=>t.el===e);i?i.update({src:l,loading:r,error:a}):"loaded"===e.getAttribute("lazy")&&e.dataset.src===l||this.add(e,n,o),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),t(this.lazyLoadHandler)}remove(e){if(!e)return;this._observer&&this._observer.unobserve(e);const t=this.ListenerQueue.find(t=>t.el===e);t&&(this._removeListenerTarget(t.$parent),this._removeListenerTarget(window),We(this.ListenerQueue,t),t.$destroy&&t.$destroy())}removeComponent(e){e&&(We(this.ListenerQueue,e),this._observer&&this._observer.unobserve(e.el),e.$parent&&e.$el.parentNode&&this._removeListenerTarget(e.$el.parentNode),this._removeListenerTarget(window))}setMode(e){ze||e!==He||(e=je),this.mode=e,e===je?(this._observer&&(this.ListenerQueue.forEach(e=>{this._observer.unobserve(e.el)}),this._observer=null),this.TargetQueue.forEach(e=>{this._initListen(e.el,!0)})):(this.TargetQueue.forEach(e=>{this._initListen(e.el,!1)}),this._initIntersectionObserver())}_addListenerTarget(e){if(!e)return;let t=this.TargetQueue.find(t=>t.el===e);return t?t.childrenCount++:(t={el:e,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===je&&this._initListen(t.el,!0),this.TargetQueue.push(t)),this.TargetIndex}_removeListenerTarget(e){this.TargetQueue.forEach((t,n)=>{t.el===e&&(t.childrenCount--,t.childrenCount||(this._initListen(t.el,!1),this.TargetQueue.splice(n,1),t=null))})}_initListen(e,t){this.options.listenEvents.forEach(n=>Ye[t?"on":"off"](e,n,this.lazyLoadHandler))}_initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(e,t)=>{this.Event.listeners[e]||(this.Event.listeners[e]=[]),this.Event.listeners[e].push(t)},this.$once=(e,t)=>{const n=this;this.$on(e,function o(){n.$off(e,o),t.apply(n,arguments)})},this.$off=(e,t)=>{if(t)We(this.Event.listeners[e],t);else{if(!this.Event.listeners[e])return;this.Event.listeners[e].length=0}},this.$emit=(e,t,n)=>{this.Event.listeners[e]&&this.Event.listeners[e].forEach(e=>e(t,n))}}_lazyLoadHandler(){const e=[];this.ListenerQueue.forEach((t,n)=>{t.el&&t.el.parentNode&&!t.state.loaded||e.push(t);t.checkInView()&&(t.state.loaded||t.load())}),e.forEach(e=>{We(this.ListenerQueue,e),e.$destroy&&e.$destroy()})}_initIntersectionObserver(){ze&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(e=>{this._observer.observe(e.el)}))}_observerHandler(e){e.forEach(e=>{e.isIntersecting&&this.ListenerQueue.forEach(t=>{if(t.el===e.target){if(t.state.loaded)return this._observer.unobserve(t.el);t.load()}})})}_elRenderer(e,t,n){if(!e.el)return;const{el:o,bindType:l}=e;let r;switch(t){case"loading":r=e.loading;break;case"error":r=e.error;break;default:r=e.src}if(l?o.style[l]='url("'+r+'")':o.getAttribute("src")!==r&&o.setAttribute("src",r),o.setAttribute("lazy",t),this.$emit(t,e,n),this.options.adapter[t]&&this.options.adapter[t](e,this.options),this.options.dispatchEvent){const n=new CustomEvent(t,{detail:e});o.dispatchEvent(n)}}_valueFormatter(e){return null!==(t=e)&&"object"==typeof t?(!e.src&&this.options.silent,{src:e.src,loading:e.loading||this.options.loading,error:e.error||this.options.error,cors:this.options.cors}):{src:e,loading:this.options.loading,error:this.options.error,cors:this.options.cors};var t}}const at=(e,t)=>{let n=m({});return{rect:n,checkInView:()=>(n=e.value.getBoundingClientRect(),Be&&n.top<window.innerHeight*t&&n.bottom>0&&n.left<window.innerWidth*t&&n.right>0)}};class it{constructor(e){this.lazy=e,e.lazyContainerMananger=this,this._queue=[]}bind(e,t,n){const o=new ct(e,t,n,this.lazy);this._queue.push(o)}update(e,t,n){const o=this._queue.find(t=>t.el===e);o&&o.update(e,t)}unbind(e,t,n){const o=this._queue.find(t=>t.el===e);o&&(o.clear(),We(this._queue,o))}}const st={selector:"img",error:"",loading:""};class ct{constructor(e,t,n,o){this.el=e,this.vnode=n,this.binding=t,this.options={},this.lazy=o,this._queue=[],this.update(e,t)}update(e,t){this.el=e,this.options=_e({},st,t.value);this.getImgs().forEach(e=>{this.lazy.add(e,_e({},this.binding,{value:{src:e.getAttribute("data-src")||e.dataset.src,error:e.getAttribute("data-error")||e.dataset.error||this.options.error,loading:e.getAttribute("data-loading")||e.dataset.loading||this.options.loading}}),this.vnode)})}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach(e=>this.lazy.remove(e)),this.vnode=null,this.binding=null,this.lazy=null}}var ut=e=>p({setup(t,{slots:n}){const o=r(),l=m({src:"",error:"",loading:"",attempt:e.options.attempt}),a=m({loaded:!1,error:!1,attempt:0}),{rect:s,checkInView:c}=at(o,e.options.preLoad),u=r(""),d=(t=Je)=>{if(a.attempt>l.attempt-1&&a.error)return e.options.silent,t();const n=l.src;Xe({src:n},({src:e})=>{u.value=e,a.loaded=!0},()=>{a.attempt++,u.value=l.error,a.error=!0})},p=g(()=>({el:o.value,rect:s,checkInView:c,load:d,state:a}));f(()=>{e.addLazyBox(p.value),e.lazyLoadHandler()}),v(()=>{e.removeComponent(p.value)});return i(()=>t.src,()=>{(()=>{const{src:n,loading:o,error:r}=e._valueFormatter(t.src);a.loaded=!1,l.src=n,l.error=r,l.loading=o,u.value=l.loading})(),e.addLazyBox(p.value),e.lazyLoadHandler()},{immediate:!0}),()=>{var e;return h(t.tag||"img",{src:u.value,ref:o},[null===(e=n.default)||void 0===e?void 0:e.call(n)])}}}),dt={install(e,t={}){const n=new rt(t),o=new it(n);if(Number(e.version.split(".")[0])<3)return new Error("Vue version at least 3.0");e.config.globalProperties.$Lazyload=n,e.provide("Lazyload",n),t.lazyComponent&&e.component("lazy-component",(e=>p({props:{tag:{type:String,default:"div"}},emits:["show"],setup(t,{emit:n,slots:o}){const l=r(),a=m({loaded:!1,error:!1,attempt:0}),i=r(!1),{rect:s,checkInView:c}=at(l,e.options.preLoad),u=()=>{i.value=!0,a.loaded=!0,n("show",i.value)},d=g(()=>({el:l.value,rect:s,checkInView:c,load:u,state:a}));return f(()=>{e.addLazyBox(d.value),e.lazyLoadHandler()}),v(()=>{e.removeComponent(d.value)}),()=>{var e;return h(t.tag,{ref:l},[i.value&&(null===(e=o.default)||void 0===e?void 0:e.call(o))])}}}))(n)),t.lazyImage&&e.component("lazy-image",ut(n)),e.directive("lazy",{beforeMount:n.add.bind(n),beforeUpdate:n.update.bind(n),updated:n.lazyLoadHandler.bind(n),unmounted:n.remove.bind(n)}),e.directive("lazy-container",{beforeMount:o.bind.bind(o),updated:o.update.bind(o),unmounted:o.unbind.bind(o)})}};const pt="4.1.5",mt={coreVersion:pt,uiVersion:"",tableVersion:""};var gt,ft,vt,ht,bt,xt,wt,yt,Ct,St,Et,Dt,Tt,Ot,kt,Rt,It,Pt,Ft,Mt,At,Vt,$t,Nt,Lt,_t,Bt,zt,jt,Ht,Wt,qt,Gt,Ut,Kt,Yt,Xt,Zt,Qt,Jt,en,tn,nn,on,ln,rn,an,sn,cn,un,dn,pn,mn,gn,fn,vn,hn,bn,xn,wn,yn,Cn,Sn,En,Dn,Tn,On,kn,Rn,In,Pn,Fn,Mn,An,Vn,$n,Nn,Ln,_n,Bn,zn,jn,Hn,Wn,qn,Gn,Un,Kn,Yn,Xn,Zn,Qn,Jn,eo,to,no,oo,lo,ro,ao,io,so,co,uo,po,mo,go,fo,vo,ho,bo,xo,wo,yo,Co,So,Eo,Do,To,Oo,ko,Ro,Io,Po,Fo,Mo,Ao,Vo,$o,No,Lo,_o,Bo,zo,jo,Ho,Wo,qo,Go,Uo,Ko,Yo,Xo,Zo,Qo,Jo,el,tl,nl,ol,ll,rl,al,il,sl,cl,ul,dl,pl,ml,gl,fl,vl,hl,bl,xl,wl,yl,Cl,Sl,El,Dl,Tl,Ol,kl,Rl,Il,Pl,Fl,Ml,Al,Vl,$l,Nl,Ll,_l,Bl,zl,jl,Hl,Wl,ql,Gl,Ul,Kl,Yl,Xl,Zl,Ql,Jl,er,tr,nr,or,lr,rr,ar,ir,sr,cr,ur,dr,pr,mr,gr,fr,vr,hr,br,xr,wr,yr,Cr,Sr,Er,Dr,Tr,Or,kr,Rr,Ir,Pr,Fr,Mr,Ar,Vr,$r,Nr,Lr,_r,Br,zr,jr,Hr,Wr,qr,Gr,Ur,Kr,Yr,Xr,Zr,Qr,Jr,ea,ta,na,oa,la,ra,aa,ia,sa,ca,ua,da,pa,ma,ga,fa,va,ha,ba,xa,wa,ya,Ca,Sa,Ea,Da,Ta,Oa,ka,Ra,Ia,Pa,Fa,Ma,Aa,Va,$a,Na,La,_a,Ba,za,ja,Ha,Wa,qa,Ga,Ua,Ka,Ya,Xa,Za,Qa,Ja,ei,ti,ni,oi,li,ri,ai,ii,si,ci,ui,di,pi,mi,gi,fi,vi,hi,bi,xi,wi,yi,Ci,Si,Ei,Di,Ti,Oi,ki,Ri,Ii,Pi,Fi,Mi,Ai,Vi,$i,Ni,Li,_i,Bi,zi,ji,Hi,Wi,qi,Gi,Ui,Ki,Yi,Xi,Zi,Qi,Ji,es,ts,ns,os,ls,rs,as,is,ss,cs,us,ds,ps,ms,gs,fs,vs,hs,bs,xs,ws,ys,Cs,Ss,Es,Ds,Ts,Os,ks,Rs,Is,Ps,Fs,Ms,As,Vs,$s,Ns,Ls,_s,Bs,zs,js,Hs,Ws,qs,Gs,Us,Ks,Ys,Xs,Zs,Qs,Js,ec,tc,nc,oc,lc,rc,ac,ic,sc,cc,uc,dc,pc,mc,gc,fc,vc,hc,bc,xc,wc,yc,Cc,Sc,Ec,Dc,Tc,Oc,kc,Rc;function Ic(){if(ft)return gt;ft=1;return gt={keyId:1,cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1}}function Pc(){if(ht)return vt;return ht=1,vt=function(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else for(var o=0,l=e.length;o<l;o++)t.call(n,e[o],o,e)}}function Fc(){if(xt)return bt;xt=1;var e=Object.prototype.toString;return bt=e}function Mc(){if(yt)return wt;yt=1;var e=Fc();return wt=function(t){return function(n){return"[object "+t+"]"===e.call(n)}}}function Ac(){if(St)return Ct;St=1;var e=Mc(),t=Array.isArray||e("Array");return Ct=t}function Vc(){if(Dt)return Et;return Dt=1,Et=function(e,t){return!(!e||!e.hasOwnProperty)&&e.hasOwnProperty(t)}}function $c(){if(Ot)return Tt;Ot=1;var e=Vc();return Tt=function(t,n,o){if(t)for(var l in t)e(t,l)&&n.call(o,t[l],l,t)}}function Nc(){if(Rt)return kt;Rt=1;var e=Ac(),t=Pc(),n=$c();return kt=function(o,l,r){return o?(e(o)?t:n)(o,l,r):o}}function Lc(){if(Pt)return It;return Pt=1,It=function(e){return function(t){return typeof t===e}}}function _c(){if(Mt)return Ft;Mt=1;var e=Lc()("function");return Ft=e}function Bc(){if(Vt)return At;Vt=1;var e=Nc();return At=function(t,n){var o=Object[t];return function(t){var l=[];if(t){if(o)return o(t);e(t,n>1?function(e){l.push([""+e,t[e]])}:function(){l.push(arguments[n])})}return l}},At}function zc(){if(Nt)return $t;Nt=1;var e=Bc()("keys",1);return $t=e}function jc(){if(_t)return Lt;_t=1;var e=Fc(),t=$c(),n=Pc();function o(e,t){var n=e.__proto__.constructor;return t?new n(t):new n}function l(e,t){return t?r(e,t):e}function r(r,a){if(r)switch(e.call(r)){case"[object Object]":var i=Object.create(Object.getPrototypeOf(r));return t(r,function(e,t){i[t]=l(e,a)}),i;case"[object Date]":case"[object RegExp]":return o(r,r.valueOf());case"[object Array]":case"[object Arguments]":var s=[];return n(r,function(e){s.push(l(e,a))}),s;case"[object Set]":var c=o(r);return c.forEach(function(e){c.add(l(e,a))}),c;case"[object Map]":var u=o(r);return u.forEach(function(e,t){u.set(t,l(e,a))}),u}return r}return Lt=function(e,t){return e?r(e,t):e}}function Hc(){if(zt)return Bt;zt=1;var e=Pc(),t=zc(),n=Ac(),o=jc(),l=Object.assign;function r(n,l,r){for(var a,i=l.length,s=1;s<i;s++)a=l[s],e(t(l[s]),r?function(e){n[e]=o(a[e],r)}:function(e){n[e]=a[e]});return n}return Bt=function(e){if(e){var t=arguments;if(!0!==e)return l?l.apply(Object,t):r(e,t);if(t.length>1)return r(e=n(e[1])?[]:{},t,!0)}return e},Bt}function Wc(){if(qt)return Wt;return qt=1,Wt=function(e,t,n){for(var o=e.length-1;o>=0;o--)t.call(n,e[o],o,e)}}function qc(){if(Ut)return Gt;Ut=1;var e=Wc(),t=zc();return Gt=function(n,o,l){e(t(n),function(e){o.call(l,n[e],e,n)})}}function Gc(){if(Yt)return Kt;return Yt=1,Kt=function(e){return null===e}}function Uc(){if(Zt)return Xt;Zt=1;var e=Gc();return Xt=function(t,n){return function(o){return e(o)?n:o[t]}}}function Kc(){if(tn)return en;return tn=1,en=function(e){return!!e&&e.constructor===Object}}function Yc(){if(on)return nn;return on=1,nn=function(e){return"__proto__"!==e&&"constructor"!==e}}function Xc(){if(sn)return an;sn=1;var e=Nc();return an=function(t,n,o){var l=[];if(t&&arguments.length>1){if(t.map)return t.map(n,o);e(t,function(){l.push(n.apply(o,arguments))})}return l},an}function Zc(){if(un)return cn;un=1;var e=Vc(),t=Ac();return cn=function(n,o,l,r,a){return function(i,s,c){if(i&&s){if(n&&i[n])return i[n](s,c);if(o&&t(i)){for(var u=0,d=i.length;u<d;u++)if(!!s.call(c,i[u],u,i)===r)return[!0,!1,u,i[u]][l]}else for(var p in i)if(e(i,p)&&!!s.call(c,i[p],p,i)===r)return[!0,!1,p,i[p]][l]}return a}}}function Qc(){if(pn)return dn;pn=1;var e=Zc()("some",1,0,!0,!1);return dn=e}function Jc(){if(gn)return mn;gn=1;var e=Zc()("every",1,1,!1,!0);return mn=e}function eu(){if(vn)return fn;vn=1;var e=Vc();return fn=function(t,n){if(t){if(t.includes)return t.includes(n);for(var o in t)if(e(t,o)&&n===t[o])return!0}return!1}}function tu(){if(bn)return hn;bn=1;var e=Ac(),t=eu();return hn=function(n,o){var l,r=0;if(e(n)&&e(o)){for(l=o.length;r<l;r++)if(!t(n,o[r]))return!1;return!0}return t(n,o)}}function nu(){if(wn)return xn;wn=1;var e=Nc(),t=eu(),n=_c(),o=Uc();return xn=function(l,r,a){var i=[];if(r){n(r)||(r=o(r));var s,c={};e(l,function(e,t){s=r.call(a,e,t,l),c[s]||(c[s]=1,i.push(e))})}else e(l,function(e){t(i,e)||i.push(e)});return i}}function ou(){if(Cn)return yn;Cn=1;var e=Xc();return yn=function(t){return e(t,function(e){return e})}}function lu(){if(Tn)return Dn;Tn=1;return Dn="undefined"}function ru(){if(kn)return On;kn=1;var e=lu(),t=Lc()(e);return On=t}function au(){if(In)return Rn;In=1;var e=Gc(),t=ru();return Rn=function(n){return e(n)||t(n)}}function iu(){if(Fn)return Pn;Fn=1;return Pn=/(.+)?\[(\d+)\]$/}function su(){if(An)return Mn;return An=1,Mn=function(e){return e?e.splice&&e.join?e:(""+e).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}}function cu(){if($n)return Vn;$n=1;var e=iu(),t=su(),n=Vc(),o=ru(),l=au();function r(t,n){var o=n?n.match(e):"";return o?o[1]?t[o[1]]?t[o[1]][o[2]]:void 0:t[o[2]]:t[n]}return Vn=function(e,a,i){if(l(e))return i;var s=function(e,o){if(e){var a,i,s,c=0;if(e[o]||n(e,o))return e[o];if(s=(i=t(o)).length)for(a=e;c<s;c++)if(a=r(a,i[c]),l(a))return c===s-1?a:void 0;return a}}(e,a);return o(s)?i:s}}function uu(){if(Ln)return Nn;Ln=1;var e=Pc(),t=ou(),n=Xc(),o=Ac(),l=_c(),r=Kc(),a=ru(),i=Gc(),s=au(),c=cu(),u=Uc();function d(e,t){return a(e)?1:i(e)?a(t)?-1:1:e&&e.localeCompare?e.localeCompare(t):e>t?1:-1}function p(e,t,n){return function(o,l){var r=o[e],a=l[e];return r===a?n?n(o,l):0:"desc"===t.order?d(a,r):d(r,a)}}return Nn=function(a,i,m){if(a){if(s(i))return t(a).sort(d);for(var g,f=n(a,function(e){return{data:e}}),v=function(t,n,a,i){var s=[];return a=o(a)?a:[a],e(a,function(a,u){if(a){var d,p=a;o(a)?(p=a[0],d=a[1]):r(a)&&(p=a.field,d=a.order),s.push({field:p,order:d||"asc"}),e(n,l(p)?function(e,n){e[u]=p.call(i,e.data,n,t)}:function(e){e[u]=p?c(e.data,p):e.data})}}),s}(a,f,i,m),h=v.length-1;h>=0;)g=p(h,v[h],g),h--;return g&&(f=f.sort(g)),n(f,u("data"))}return[]}}function du(){if(jn)return zn;return jn=1,zn=function(e,t){return e>=t?e:(e|=0)+Math.round(Math.random()*((t||9)-e))}}function pu(){if(Wn)return Hn;Wn=1;var e=Bc()("values",0);return Hn=e}function mu(){if(Gn)return qn;Gn=1;var e=du(),t=pu();return qn=function(n){for(var o,l=[],r=t(n),a=r.length-1;a>=0;a--)o=a>0?e(0,a):0,l.push(r[o]),r.splice(o,1);return l}}function gu(){if(Xn)return Yn;return Xn=1,Yn=function(e){return function(t){if(t){var n=e(t&&t.replace?t.replace(/,/g,""):t);if(!isNaN(n))return n}return 0}}}function fu(){if(Qn)return Zn;Qn=1;var e=gu()(parseFloat);return Zn=e}function vu(){if(eo)return Jn;eo=1;var e=fu();return Jn=function(t,n,o){var l=[],r=arguments.length;if(t){if(n=r>=2?e(n):0,o=r>=3?e(o):t.length,t.slice)return t.slice(n,o);for(;n<o;n++)l.push(t[n])}return l},Jn}function hu(){if(ho)return vo;ho=1;var e=Xc(),t=Uc();return vo=function(n,o){return e(n,t(o))}}function bu(){if(xo)return bo;xo=1;var e=_c(),t=au(),n=cu(),o=Pc();return bo=function(l){return function(r,a){var i,s;return r&&r.length?(o(r,function(o,c){a&&(o=e(a)?a(o,c,r):n(o,a)),t(o)||!t(i)&&!l(i,o)||(s=c,i=o)}),r[s]):i}}}function xu(){if(yo)return wo;yo=1;var e=bu()(function(e,t){return e<t});return wo=e}function wu(){if(So)return Co;So=1;var e=hu(),t=xu();return Co=function(n){var o,l,r,a=[];if(n&&n.length)for(o=0,r=(l=t(n,function(e){return e?e.length:0}))?l.length:0;o<r;o++)a.push(e(n,o));return a}}function yu(){if(Ro)return ko;Ro=1;var e=Ac(),t=Pc();function n(o,l){var r=[];return t(o,function(t){r=r.concat(e(t)?l?n(t,l):t:[t])}),r}return ko=function(t,o){return e(t)?n(t,o):[]}}function Cu(){if(Mo)return Fo;return Mo=1,Fo=function(e,t){try{delete e[t]}catch(n){e[t]=void 0}}}function Su(){if(Vo)return Ao;Vo=1;var e=Ac(),t=Wc(),n=qc();return Ao=function(o,l,r){return o?(e(o)?t:n)(o,l,r):o}}function Eu(){if(No)return $o;No=1;var e=Lc()("object");return $o=e}function Du(){if(_o)return Lo;_o=1;var e=Cu(),t=Kc(),n=Eu(),o=Ac(),l=Gc(),r=Hc(),a=$c();return Lo=function(i,s,c){if(i){var u,d=arguments.length>1&&(l(s)||!n(s)),p=d?c:s;if(t(i))a(i,d?function(e,t){i[t]=s}:function(t,n){e(i,n)}),p&&r(i,p);else if(o(i)){if(d)for(u=i.length;u>0;)u--,i[u]=s;else i.length=0;p&&i.push.apply(i,p)}}return i},Lo}function Tu(){if(zo)return Bo;zo=1;var e=Cu(),t=_c(),n=Ac(),o=Nc(),l=Pc(),r=Su(),a=Du(),i=au();return Bo=function(s,c,u){if(s){if(!i(c)){var d=[],p=[];return t(c)||(m=c,c=function(e,t){return t===m}),o(s,function(e,t,n){c.call(u,e,t,n)&&d.push(t)}),n(s)?r(d,function(e,t){p.push(s[e]),s.splice(e,1)}):(p={},l(d,function(t){p[t]=s[t],e(s,t)})),p}return a(s)}var m;return s}}function Ou(){if(Ho)return jo;Ho=1;var e=Ic();Xc();var t=uu(),n=jc(),o=au(),l=Nc(),r=Tu(),a=Hc();return jo=function(i,s){var c,u,d,p=a({},e.treeOptions,s),m=p.strict,g=p.key,f=p.parentKey,v=p.children,h=p.mapChildren,b=p.sortKey,x=p.reverse,w=p.data,y=[],C={},S={};return b&&(i=t(n(i),b),x&&(i=i.reverse())),l(i,function(e){c=e[g],S[c]=!0}),l(i,function(e){c=e[g],w?(u={})[w]=e:u=e,d=e[f],C[c]=C[c]||[],u[g]=c,u[f]=d,c===d&&(d=null),C[d]=C[d]||[],C[d].push(u),u[v]=C[c],h&&(u[h]=C[c]),(!m||m&&o(d))&&(S[d]||y.push(u))}),m&&function(e,t){l(e,function(e){e[t]&&!e[t].length&&r(e,t)})}(i,v),y}}function ku(){if(qo)return Wo;qo=1;var e=Ic(),t=Pc(),n=Hc();function o(e,n,l,r){var a=r.key,i=r.parentKey,s=r.children,c=r.data,u=r.updated,d=r.clear;return t(l,function(t){var l=t[s];c&&(t=t[c]),!1!==u&&(t[i]=n?n[a]:null),e.push(t),l&&l.length&&o(e,t,l,r),d&&delete t[s]}),e}return Wo=function(t,l){return o([],null,t,n({},e.treeOptions,l))}}function Ru(){if(Uo)return Go;return Uo=1,Go=function(e){return function(t,n,o,l){var r=o||{},a=r.children||"children";return e(null,t,n,l,[],[],a,r)}}}function Iu(){if(Zo)return Xo;Zo=1;var e=Ru(),t=Nc();var n=e(function e(n,o,l,r,a,i,s,c){var u,d;t(o,function(t,c){u=a.concat([""+c]),d=i.concat([t]),l.call(r,t,c,o,u,n,d),t&&s&&(u.push(s),e(t,t[s],l,r,u,d,s))})});return Xo=n}function Pu(){if(ol)return nl;ol=1;var e=Ru(),t=Pc(),n=Hc();function o(e,l,r,a,i,s,c,u,d){var p,m,g,f,v,h=[],b=d.original,x=d.data,w=d.mapChildren||u,y=d.isEvery;return t(r,function(t,C){p=s.concat([""+C]),m=c.concat([t]),f=e&&!y||a.call(i,t,C,r,p,l,m),v=u&&t[u],f||v?(b?g=t:(g=n({},t),x&&(g[x]=t)),g[w]=o(f,t,t[u],a,i,p,m,u,d),(f||g[w].length)&&h.push(g)):f&&h.push(g)}),h}var l=e(function(e,t,n,l,r,a,i,s){return o(0,e,t,n,l,r,a,i,s)});return nl=l}function Fu(){if(rl)return ll;return rl=1,ll=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,o=e.length;n<o;n++)if(t===e[n])return n}}function Mu(){if(il)return al;return il=1,al=function(e,t){if(e.lastIndexOf)return e.lastIndexOf(t);for(var n=e.length-1;n>=0;n--)if(t===e[n])return n;return-1}}function Au(){if(cl)return sl;cl=1;var e=Lc()("number");return sl=e}function Vu(){if(ml)return pl;ml=1;var e=Lc()("string");return pl=e}function $u(){if(fl)return gl;fl=1;var e=Mc()("Date");return gl=e}function Nu(){if(hl)return vl;hl=1;var e=parseInt;return vl=e}function Lu(){if(yl)return wl;return yl=1,wl=function(e){return e.getTime()}}function _u(){if(Sl)return Cl;Sl=1;var e=Nu(),t=xl?bl:(xl=1,bl=function(e){return Date.UTC(e.y,e.M||0,e.d||1,e.H||0,e.m||0,e.s||0,e.S||0)}),n=Lu(),o=Vu(),l=$u();function r(e){return"(\\d{"+e+"})"}function a(t){return isNaN(t)?t:e(t)}for(var i=r(2),s=r("1,2"),c=r("1,7"),u=r("3,4"),d=".{1}",p=d+s,m="(([zZ])|([-+]\\d{2}:?\\d{2}))",g=[u,p,p,p,p,p,d+c,m],f=[],v=g.length-1;v>=0;v--){for(var h="",b=0;b<v+1;b++)h+=g[b];f.push(new RegExp("^"+h+"$"))}var x=[["yyyy",u],["yy",i],["MM",i],["M",s],["dd",i],["d",s],["HH",i],["H",s],["mm",i],["m",s],["ss",i],["s",s],["SSS",r(3)],["S",c],["Z",m]],w={},y=["\\[([^\\]]+)\\]"];for(b=0;b<x.length;b++){var C=x[b];w[C[0]]=C[1]+"?",y.push(C[0])}var S=new RegExp(y.join("|"),"g"),E={};return Cl=function(r,i){if(r){var s=l(r);if(s||!i&&/^[0-9]{11,15}$/.test(r))return new Date(s?n(r):e(r));if(o(r)){var c=i?function(e,t){var n=E[t];if(!n){var o=[],l=t.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(S,function(e,t){var n=e.charAt(0);return"["===n?t:(o.push(n),w[e])});n=E[t]={_i:o,_r:new RegExp(l)}}var r={},a=e.match(n._r);if(a){for(var i=n._i,s=1,c=a.length;s<c;s++)r[i[s-1]]=a[s];return r}return r}(r,i):function(e){for(var t,n={},o=0,l=f.length;o<l;o++)if(t=e.match(f[o])){n.y=t[1],n.M=t[2],n.d=t[3],n.H=t[4],n.m=t[5],n.s=t[6],n.S=t[7],n.Z=t[8];break}return n}(r);if(c.y)return c.M&&(c.M=a(c.M)-1),c.S&&(c.S=(u=a(c.S.substring(0,3)))<10?100*u:u<100?10*u:u),c.Z?function(n){if(/^[zZ]/.test(n.Z))return new Date(t(n));var o=n.Z.match(/([-+])(\d{2}):?(\d{2})/);return o?new Date(t(n)-("-"===o[1]?-1:1)*e(o[2])*36e5+6e4*e(o[3])):new Date("")}(c):new Date(c.y,c.M||0,c.d||1,c.H||0,c.m||0,c.s||0,c.S||0)}}var u;return new Date("")}}function Bu(){if(Dl)return El;return Dl=1,El=function(){return new Date}}function zu(){if(Ol)return Tl;Ol=1;var e=$u(),t=_u(),n=Bu();return Tl=function(o){var l,r=o?t(o):n();return!!e(r)&&((l=r.getFullYear())%4==0&&(l%100!=0||l%400==0))}}function ju(){if(Ml)return Fl;Ml=1;var e=Ac(),t=Vu(),n=Vc();return Fl=function(o,l){return function(r,a){if(r){if(r[o])return r[o](a);if(t(r)||e(r))return l(r,a);for(var i in r)if(n(r,i)&&a===r[i])return i}return-1}}}function Hu(){if(Nl)return $l;Nl=1;var e=ju()("lastIndexOf",Mu());return $l=e}function Wu(){if(_l)return Ll;_l=1;var e=Ac(),t=Vu(),n=Nc();return Ll=function(o){var l=0;return t(o)||e(o)?o.length:(n(o,function(){l++}),l)}}function qu(){if(Hl)return jl;Hl=1;var e=Ac(),t=Gc();return jl=function(n){return!t(n)&&!isNaN(n)&&!e(n)&&n%1==0}}function Gu(){if(Ul)return Gl;Ul=1;var e=Lc()("boolean");return Gl=e}function Uu(){if(Yl)return Kl;Yl=1;var e=Mc()("RegExp");return Kl=e}function Ku(){if(Zl)return Xl;Zl=1;var e=Mc()("Error");return Xl=e}function Yu(){if(tr)return er;return tr=1,er=function(e){for(var t in e)return!1;return!0}}function Xu(){if(or)return nr;or=1;var e=lu(),t=typeof Symbol!==e;return nr=function(e){return t&&Symbol.isSymbol?Symbol.isSymbol(e):"symbol"==typeof e}}function Zu(){if(cr)return sr;cr=1;var e=lu(),t=typeof document===e?0:document;return sr=t}function Qu(){if(mr)return pr;mr=1;var e=lu(),t=typeof window===e?0:window;return pr=t}function Ju(){if(Or)return Tr;Or=1;var e=_c(),t=Vu(),n=Ac(),o=Vc();return Tr=function(l){return function(r,a,i){if(r&&e(a)){if(n(r)||t(r))return l(r,a,i);for(var s in r)if(o(r,s)&&a.call(i,r[s],s,r))return s}return-1}}}function ed(){if(Rr)return kr;Rr=1;var e=Ju()(function(e,t,n){for(var o=0,l=e.length;o<l;o++)if(t.call(n,e[o],o,e))return o;return-1});return kr=e}function td(){if(Pr)return Ir;Pr=1;var e=Au(),t=Ac(),n=Vu(),o=Uu(),l=$u(),r=Gu(),a=ru(),i=zc(),s=Jc();return Ir=function c(u,d,p,m,g,f,v){if(u===d)return!0;if(u&&d&&!e(u)&&!e(d)&&!n(u)&&!n(d)){if(o(u))return p(""+u,""+d,g,f,v);if(l(u)||r(u))return p(+u,+d,g,f,v);var h,b,x,w=t(u),y=t(d);if(w||y?w&&y:u.constructor===d.constructor)return b=i(u),x=i(d),m&&(h=m(u,d,g)),b.length===x.length&&(a(h)?s(b,function(e,t){return e===x[t]&&c(u[e],d[x[t]],p,m,w||y?t:e,u,d)}):!!h)}return p(u,d,g,f,v)},Ir}function nd(){if(Mr)return Fr;return Mr=1,Fr=function(e,t){return e===t}}function od(){if(Vr)return Ar;Vr=1;var e=td(),t=nd();return Ar=function(n,o){return e(n,o,t)}}function ld(){if(Jr)return Qr;Jr=1;var e=_c(),t=Ac(),n=Nc(),o=ed();return Qr=function(l,r){return function(a,i){var s,c,u={},d=[],p=this,m=arguments,g=m.length;if(!e(i)){for(c=1;c<g;c++)s=m[c],d.push.apply(d,t(s)?s:[s]);i=0}return n(a,function(e,t){((i?i.call(p,e,t,a):o(d,function(e){return e===t})>-1)?l:r)&&(u[t]=e)}),u}},Qr}function rd(){if(ma)return pa;ma=1;var e=Yu(),t=Eu(),n=_c(),o=Uc(),l=Nc();return pa=function(r,a,i){var s,c={};return r&&(a&&t(a)?a=function(t){return function(){return e(t)}}(a):n(a)||(a=o(a)),l(r,function(e,t){s=a?a.call(i,e,t,r):e,c[s]?c[s].push(e):c[s]=[e]})),c}}function ad(){if(ha)return va;return ha=1,va=function(e,t,n){var o,l,r=[],a=arguments;if(a.length<2&&(t=a[0],e=0),l=t|0,(o=e|0)<t)for(n=n|0||1;o<l;o+=n)r.push(o);return r},va}function id(){if(Sa)return Ca;return Sa=1,Ca=function(e){return(e.split(".")[1]||"").length}}function sd(){if(Da)return Ea;Da=1;var e=Nu();return Ea=function(t,n){if(t.repeat)return t.repeat(n);var o=isNaN(n)?[]:new Array(e(n));return o.join(t)+(o.length>0?t:"")}}function cd(){if(Oa)return Ta;return Oa=1,Ta=function(e,t){return e.substring(0,t)+"."+e.substring(t,e.length)}}function ud(){if(Ra)return ka;Ra=1;var e=sd(),t=cd();return ka=function(n){var o=""+n,l=o.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(l){var r=n<0?"-":"",a=l[3]||"",i=l[5]||"",s=l[6]||"",c=l[7],u=l[8],d=u-s.length,p=u-a.length,m=u-i.length;return"+"===c?a?r+a+e("0",u):d>0?r+i+s+e("0",d):r+i+t(s,u):a?p>0?r+"0."+e("0",Math.abs(p))+a:r+t(a,p):m>0?r+"0."+e("0",Math.abs(m))+i+s:r+t(i,m)+s}return o}}function dd(){if(Pa)return Ia;Pa=1;var e=id(),t=ud();return Ia=function(n,o){var l=t(n),r=t(o);return parseInt(l.replace(".",""))*parseInt(r.replace(".",""))/Math.pow(10,e(l)+e(r))}}function pd(){if(Ma)return Fa;Ma=1;var e=dd(),t=fu(),n=ud();return Fa=function(o){return function(l,r){var a=t(l),i=a;if(a){r|=0;var s=n(a).split("."),c=s[0],u=s[1]||"",d=u.substring(0,r+1),p=c+(d?"."+d:"");if(r>=u.length)return t(p);if(p=a,r>0){var m=Math.pow(10,r);i=Math[o](e(p,m))/m}else i=Math[o](p)}return i}}}function md(){if(Va)return Aa;Va=1;var e=pd()("round");return Aa=e}function gd(){if(Na)return $a;Na=1;var e=pd()("ceil");return $a=e}function fd(){if(_a)return La;_a=1;var e=pd()("floor");return La=e}function vd(){if(za)return Ba;za=1;var e=au(),t=Au(),n=ud();return Ba=function(o){return t(o)?n(o):""+(e(o)?"":o)}}function hd(){if(Ha)return ja;Ha=1;var e=md(),t=vd(),n=sd(),o=cd();return ja=function(l,r){var a=t(e(l,r|=0)).split("."),i=a[0],s=a[1]||"",c=r-s.length;return r?c>0?i+"."+s+n("0",c):i+o(s,Math.abs(c)):i}}function bd(){if(Ya)return Ka;Ya=1;var e=dd(),t=fu();return Ka=function(n,o){var l=t(n),r=t(o);return e(l,r)}}function xd(){if(Za)return Xa;Za=1;var e=id(),t=ud(),n=bd();return Xa=function(o,l){var r=t(o),a=t(l),i=Math.pow(10,Math.max(e(r),e(a)));return(n(o,i)+n(l,i))/i}}function wd(){if(oi)return ni;oi=1;var e=id(),t=ud(),n=bd();return ni=function(o,l){var r=t(o),a=t(l),i=e(r),s=e(a)-i,c=s<0,u=Math.pow(10,c?Math.abs(s):s);return n(r.replace(".","")/a.replace(".",""),c?1/u:u)}}function yd(){if(ii)return ai;ii=1;var e=xd(),t=_c(),n=Ac(),o=Nc(),l=cu();return ai=function(r,a,i){var s=0;return o(r&&r.length>2&&n(r)?r.sort():r,a?t(a)?function(){s=e(s,a.apply(i,arguments))}:function(t){s=e(s,l(t,a))}:function(t){s=e(s,t)}),s},ai}function Cd(){if(di)return ui;di=1;return ui="first"}function Sd(){if(mi)return pi;mi=1;return pi="last"}function Ed(){if(fi)return gi;return fi=1,gi=function(e){return e.getFullYear()}}function Dd(){if(hi)return vi;hi=1;return vi=864e5}function Td(){if(xi)return bi;return xi=1,bi=function(e){return e.getMonth()}}function Od(){if(yi)return wi;yi=1;var e=$u(),t=Lu();return wi=function(n){return e(n)&&!isNaN(t(n))}}function kd(){if(Si)return Ci;Si=1;var e=Cd(),t=Sd(),n=Dd(),o=Ed(),l=Lu(),r=Td(),a=_u(),i=Od(),s=Au();return Ci=function c(u,d,p){var m=d&&!isNaN(d)?d:0;if(u=a(u),i(u)){if(p===e)return new Date(o(u),r(u)+m,1);if(p===t)return new Date(l(c(u,m+1,e))-1);if(s(p)&&u.setDate(p),m){var g=u.getDate();if(u.setMonth(r(u)+m),g!==u.getDate())return u.setDate(1),new Date(l(u)-n)}}return u},Ci}function Rd(){if(Di)return Ei;Di=1;var e=Cd(),t=Sd(),n=Ed(),o=kd(),l=_u(),r=Od();return Ei=function(a,i,s){var c;if(a=l(a),r(a)&&(i&&(c=i&&!isNaN(i)?i:0,a.setFullYear(n(a)+c)),s||!isNaN(s))){if(s===e)return new Date(n(a),0,1);if(s===t)return a.setMonth(11),o(a,0,t);a.setMonth(s)}return a}}function Id(){if(Ri)return ki;Ri=1;var e=Cd(),t=Sd(),n=Nu(),o=Ed(),l=Td(),r=Lu(),a=_u(),i=Od();return ki=function s(c,u,d){if(c=a(c),i(c)&&!isNaN(u)){if(c.setDate(c.getDate()+n(u)),d===e)return new Date(o(c),l(c),c.getDate());if(d===t)return new Date(r(s(c,1,e))-1)}return c},ki}function Pd(){if(Pi)return Ii;return Pi=1,Ii=function(e){return e.toUpperCase()}}function Fd(){if(Mi)return Fi;Mi=1;var e=Dd();return Fi=7*e}function Md(){if(Vi)return Ai;Vi=1;var e=Ic(),t=Dd(),n=Fd(),o=Lu(),l=_u(),r=Od(),a=Au();return Ai=function(i,s,c,u){if(i=l(i),r(i)){var d=a(c),p=a(u),m=o(i);if(d||p){var g=p?u:e.firstDayOfWeek,f=i.getDay(),v=d?c:f;if(f!==v){var h=0;g>f?h=-(7-g+f):g<f&&(h=g-f),m+=v>g?((0===v?7:v)-g+h)*t:v<g?(7-g+v+h)*t:h*t}}return s&&!isNaN(s)&&(m+=s*n),new Date(m)}return i}}function Ad(){if(Ni)return $i;Ni=1;var e=Ic(),t=Dd(),n=Fd(),o=Au(),l=eu(),r=_u(),a=Od(),i=Md(),s=ad(),c=Xc(),u=Lu(),d=c(s(0,7),function(e){return[(e+1)%7,(e+2)%7,(e+3)%7]});function p(e,t){var n=new Date(e).getDay();return l(d[t],n)}return $i=function(l,s){return function(c,d){var m=o(d)?d:e.firstDayOfWeek,g=r(c);if(a(g)){var f,v=i(g,0,m,m),h=l(v),b=u(h),x=u(v),w=x+6*t,y=new Date(w),C=i(h,0,m,m),S=u(C);if(x===S)return 1;if(s(v,y))for(f=u(l(y));f<w;f+=t)if(p(f,m))return 1;var E=S+6*t,D=new Date(w),T=1;if(s(C,D))for(T=0,f=b;f<E;f+=t)if(p(f,m)){T++;break}return Math.floor((x-S)/n)+T}return NaN}}}function Vd(){if(_i)return Li;_i=1;var e=Ad()(function(e){return new Date(e.getFullYear(),0,1)},function(e,t){return e.getFullYear()!==t.getFullYear()});return Li=e}function $d(){if(Hi)return ji;Hi=1;var e=Lu(),t=function(){if(zi)return Bi;zi=1;var e=Ed(),t=Td();return Bi=function(n){return new Date(e(n),t(n),n.getDate())}}();return ji=function(n){return e(t(n))}}function Nd(){if(qi)return Wi;qi=1;var e=Dd(),t=Cd(),n=$d(),o=Rd(),l=_u(),r=Od();return Wi=function(a){return a=l(a),r(a)?Math.floor((n(a)-n(o(a,0,t)))/e)+1:NaN}}function Ld(){if(Ui)return Gi;Ui=1;var e=vd(),t=ru(),n=sd();return Gi=function(o,l,r){var a=e(o);return l|=0,r=t(r)?" ":""+r,a.padStart?a.padStart(l,r):l>a.length?((l-=a.length)>r.length&&(r+=n(r,l/r.length)),r.slice(0,l)+a):a}}function _d(){if(Yi)return Ki;Yi=1;var e=Ic(),t=Pd(),n=Ed(),o=Td(),l=_u(),r=Vd(),a=Nd(),i=Hc(),s=Od(),c=_c(),u=Ld();function d(e,t,n,o){var l=t[n];return l?c(l)?l(o,n,e):l[o]:o}var p=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;return Ki=function(c,m,g){if(c){if(c=l(c),s(c)){var f=m||e.parseDateFormat||e.formatString,v=c.getHours(),h=v<12?"am":"pm",b=i({},e.parseDateRules||e.formatStringMatchs,g?g.formats:null),x=function(e,t){return(""+n(c)).substr(4-t)},w=function(e,t){return u(o(c)+1,t,"0")},y=function(e,t){return u(c.getDate(),t,"0")},C=function(e,t){return u(v,t,"0")},S=function(e,t){return u(v<=12?v:v-12,t,"0")},E=function(e,t){return u(c.getMinutes(),t,"0")},D=function(e,t){return u(c.getSeconds(),t,"0")},T=function(e,t){return u(c.getMilliseconds(),t,"0")},O=function(e,t){var n=c.getTimezoneOffset()/60*-1;return d(c,b,e,(n>=0?"+":"-")+u(n,2,"0")+(1===t?":":"")+"00")},k=function(t,n){return u(d(c,b,t,r(c,(g?g.firstDay:null)||e.firstDayOfWeek)),n,"0")},R=function(e,t){return u(d(c,b,e,a(c)),t,"0")},I={yyyy:x,yy:x,MM:w,M:w,dd:y,d:y,HH:C,H:C,hh:S,h:S,mm:E,m:E,ss:D,s:D,SSS:T,S:T,ZZ:O,Z:O,WW:k,W:k,DDD:R,D:R,a:function(e){return d(c,b,e,h)},A:function(e){return d(c,b,e,t(h))},e:function(e){return d(c,b,e,c.getDay())},E:function(e){return d(c,b,e,c.getDay())},q:function(e){return d(c,b,e,Math.floor((o(c)+3)/3))}};return f.replace(p,function(e,t){return t||(I[e]?I[e](e,e.length):e)})}return"Invalid Date"}return""}}function Bd(){if(Zi)return Xi;Zi=1;var e=Lu(),t=Bu(),n=Date.now||function(){return e(t())};return Xi=n}function zd(){if(fs)return gs;fs=1;var e=vd();return gs=function(t){return t&&t.trimRight?t.trimRight():e(t).replace(/[\s\uFEFF\xA0]+$/g,"")}}function jd(){if(hs)return vs;hs=1;var e=vd();return vs=function(t){return t&&t.trimLeft?t.trimLeft():e(t).replace(/^[\s\uFEFF\xA0]+/g,"")}}function Hd(){if(xs)return bs;xs=1;var e=zd(),t=jd();return bs=function(n){return n&&n.trim?n.trim():e(t(n))}}function Wd(){if(ys)return ws;ys=1;return ws={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}}function qd(){if(Ss)return Cs;Ss=1;var e=vd(),t=zc();return Cs=function(n){var o=new RegExp("(?:"+t(n).join("|")+")","g");return function(t){return e(t).replace(o,function(e){return n[e]})}}}function Gd(){if(Rs)return ks;return Rs=1,ks=function(e,t,n){return e.substring(t,n)}}function Ud(){if(Ps)return Is;return Ps=1,Is=function(e){return e.toLowerCase()}}function Kd(){if(zs)return Bs;zs=1;var e=Ic(),t=vd(),n=Hd(),o=cu();return Bs=function(l,r,a){return t(l).replace((a||e).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,function(e,t){return o(r,n(t))})}}function Yd(){if(ic)return ac;ic=1;var e=decodeURIComponent;return ac=e}function Xd(){if(cc)return sc;cc=1;var e=Yd(),t=Pc(),n=Vu();return sc=function(o){var l,r={};return o&&n(o)&&t(o.split("&"),function(t){l=t.split("="),r[e(l[0])]=e(l[1]||"")}),r}}function Zd(){if(dc)return uc;dc=1;var e=encodeURIComponent;return uc=e}function Qd(){if(mc)return pc;mc=1;var e=Zd(),t=Nc(),n=Ac(),o=Gc(),l=ru(),r=Kc();function a(l,i,s){var c,u=[];return t(l,function(t,l){c=n(t),r(t)||c?u=u.concat(a(t,i+"["+l+"]",c)):u.push(e(i+"["+(s?"":l)+"]")+"="+e(o(t)?"":t))}),u}return pc=function(i){var s,c=[];return t(i,function(t,i){l(t)||(s=n(t),r(t)||s?c=c.concat(a(t,i,s)):c.push(e(i)+"="+e(o(t)?"":t)))}),c.join("&").replace(/%20/g,"+")}}function Jd(){if(fc)return gc;fc=1;var e=lu(),t=typeof location===e?0:location;return gc=t}function ep(){if(hc)return vc;hc=1;var e=Jd();return vc=function(){return e?e.origin||e.protocol+"//"+e.host:""}}function tp(){if(xc)return bc;xc=1;var e=Jd(),t=Xd(),n=ep();function o(e){return t(e.split("?")[1]||"")}return bc=function(t){var l,r,a,i,s=""+t;return 0===s.indexOf("//")?s=(e?e.protocol:"")+s:0===s.indexOf("/")&&(s=n()+s),a=s.replace(/#.*/,"").match(/(\?.*)/),(i={href:s,hash:"",host:"",hostname:"",protocol:"",port:"",search:a&&a[1]&&a[1].length>1?a[1]:""}).path=s.replace(/^([a-z0-9.+-]*:)\/\//,function(e,t){return i.protocol=t,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,function(e,t,n){return r=n||"",i.port=r.replace(":",""),i.hostname=t,i.host=t+r,"/"}).replace(/(#.*)/,function(e,t){return i.hash=t.length>1?t:"",""}),l=i.hash.match(/#((.*)\?|(.*))/),i.pathname=i.path.replace(/(\?|#.*).*/,""),i.origin=i.protocol+"//"+i.host,i.hashKey=l&&(l[2]||l[1])||"",i.hashQuery=o(i.hash),i.searchQuery=o(i.search),i}}const np=A(function(){if(Rc)return kc;Rc=1;var e=function(){if(Ht)return jt;Ht=1;var e=Ic(),t=Pc(),n=Nc(),o=_c(),l=Hc(),r=function(){};function a(t){return l(e,t)}var i="3.7.4";return r.VERSION=i,r.version=i,r.mixin=function(){t(arguments,function(e){n(e,function(e,t){r[t]=o(e)?function(){var t=e.apply(r.$context,arguments);return r.$context=null,t}:e})})},r.setup=a,r.setConfig=a,r.getConfig=function(){return e},jt=r}(),t=Hc(),n=$c(),o=qc(),l=function(){if(Jt)return Qt;Jt=1;var e=Nc(),t=_c(),n=Uc();return Qt=function(o,l,r){var a={};if(o){if(!l)return o;t(l)||(l=n(l)),e(o,function(e,t){a[t]=l.call(r,e,t,o)})}return a}}(),r=function(){if(rn)return ln;rn=1;var e=Ac(),t=Kc(),n=_c(),o=Nc(),l=Yc();function r(a,i){return t(a)&&t(i)||e(a)&&e(i)?(o(i,function(e,t){l(t)&&(a[t]=n(i)?e:r(a[t],e))}),a):i}return ln=function(e){e||(e={});for(var t,n=arguments,o=n.length,l=1;l<o;l++)(t=n[l])&&r(e,t);return e},ln}(),a=Xc(),i=Qc(),s=Jc(),c=tu(),u=Pc(),d=Wc(),p=nu(),m=function(){if(En)return Sn;En=1;var e=nu(),t=ou();return Sn=function(){for(var n=arguments,o=[],l=0,r=n.length;l<r;l++)o=o.concat(t(n[l]));return e(o)},Sn}(),g=ou(),f=function(){if(Bn)return _n;Bn=1;var e=uu();return _n=e}(),v=uu(),h=mu(),b=function(){if(Kn)return Un;Kn=1;var e=mu();return Un=function(t,n){var o=e(t);return arguments.length<=1?o[0]:(n<o.length&&(o.length=n||0),o)},Un}(),x=vu(),w=function(){if(no)return to;no=1;var e=Nc();return to=function(t,n,o){var l=[];if(t&&n){if(t.filter)return t.filter(n,o);e(t,function(e,r){n.call(o,e,r,t)&&l.push(e)})}return l}}(),y=function(){if(lo)return oo;lo=1;var e=Zc()("",0,2,!0);return oo=e}(),C=eu(),S=function(){if(ao)return ro;ao=1;var e=Zc()("find",1,3,!0);return ro=e}(),E=function(){if(so)return io;so=1;var e=Ac(),t=pu();return io=function(n,o,l){if(n){e(n)||(n=t(n));for(var r=n.length-1;r>=0;r--)if(o.call(l,n[r],r,n))return n[r]}}}(),D=function(){if(uo)return co;uo=1;var e=zc();return co=function(t,n,o){if(t){var l,r,a=0,i=o,s=arguments.length>2,c=e(t);if(t.length&&t.reduce)return r=function(){return n.apply(null,arguments)},s?t.reduce(r,i):t.reduce(r);for(s&&(a=1,i=t[c[0]]),l=c.length;a<l;a++)i=n.call(null,i,t[c[a]],a,t);return i}},co}(),T=function(){if(mo)return po;mo=1;var e=Ac();return po=function(t,n,o,l){if(e(t)&&t.copyWithin)return t.copyWithin(n,o,l);var r,a,i=0|n,s=0|o,c=t.length,u=arguments.length>3?0|l:c;if(i<c&&(i=i>=0?i:c+i)>=0&&(s=s>=0?s:c+s)<(u=u>=0?u:c+u))for(r=0,a=t.slice(s,u);i<c&&!(a.length<=r);i++)t[i]=a[r++];return t},po}(),O=function(){if(fo)return go;fo=1;var e=Ac();return go=function(t,n){var o,l=[],r=0|n||1;if(e(t))if(r>=0&&t.length>r)for(o=0;o<t.length;)l.push(t.slice(o,o+r)),o+=r;else l=t.length?[t]:t;return l}}(),k=function(){if(Do)return Eo;Do=1;var e=wu();return Eo=function(){return e(arguments)},Eo}(),R=wu(),I=function(){if(Oo)return To;Oo=1;var e=pu(),t=Nc();return To=function(n,o){var l={};return o=o||[],t(e(n),function(e,t){l[e]=o[t]}),l}}(),P=yu(),F=hu(),M=function(){if(Po)return Io;Po=1;var e=Xc(),t=Ac();return Io=function(n,o){for(var l,r=arguments,a=[],i=[],s=2,c=r.length;s<c;s++)a.push(r[s]);if(t(o)){for(c=o.length-1,s=0;s<c;s++)i.push(o[s]);o=o[c]}return e(n,function(e){if(i.length&&(e=function(e,t){for(var n=0,o=t.length;e&&n<o;)e=e[t[n++]];return o&&e?e:0}(e,i)),(l=e[o]||o)&&l.apply)return l.apply(e,a)})},Io}(),A=Ou(),V=ku(),$=function(){if(Yo)return Ko;Yo=1;var e=Ru()(function e(t,n,o,l,r,a,i,s){var c,u,d,p,m,g;if(n)for(u=0,d=n.length;u<d;u++){if(c=n[u],p=r.concat([""+u]),m=a.concat([c]),o.call(l,c,u,n,p,t,m))return{index:u,item:c,path:p,items:n,parent:t,nodes:m};if(i&&c&&(g=e(c,c[i],o,l,p.concat([i]),m,i)))return g}});return Ko=e}(),N=Iu(),L=function(){if(Jo)return Qo;Jo=1;var e=Ru(),t=Xc(),n=e(function e(n,o,l,r,a,i,s,c){var u,d,p,m=c.mapChildren||s;return t(o,function(t,g){return u=a.concat([""+g]),d=i.concat([t]),(p=l.call(r,t,g,o,u,n,d))&&t&&s&&t[s]&&(p[m]=e(t,t[s],l,r,u,d,s,c)),p})});return Qo=n}(),_=function(){if(tl)return el;tl=1;var e=Iu();return el=function(t,n,o,l){var r=[];return t&&n&&e(t,function(e,t,o,a,i,s){n.call(l,e,t,o,a,i,s)&&r.push(e)},o),r}}(),B=Pu(),z=Fu(),j=Mu(),H=Vc(),W=Ac(),q=Gc(),G=function(){if(dl)return ul;dl=1;var e=Au();return ul=function(t){return e(t)&&isNaN(t)}}(),U=ru(),K=_c(),Y=Eu(),X=Vu(),Z=Kc(),Q=zu(),J=$u(),ee=au(),te=Nc(),ne=function(){if(Rl)return kl;Rl=1;var e=Ac(),t=Vc();return kl=function(n,o,l){if(n)if(e(n))for(var r=0,a=n.length;r<a&&!1!==o.call(l,n[r],r,n);r++);else for(var i in n)if(t(n,i)&&!1===o.call(l,n[i],i,n))break}}(),oe=function(){if(Pl)return Il;Pl=1;var e=Ac(),t=Vc();return Il=function(n,o,l){var r,a;if(n)if(e(n))for(r=n.length-1;r>=0&&!1!==o.call(l,n[r],r,n);r--);else for(r=(a=t(n)).length-1;r>=0&&!1!==o.call(l,n[a[r]],a[r],n);r--);}}(),le=function(){if(Vl)return Al;Vl=1;var e=ju()("indexOf",Fu());return Al=e}(),re=Hu(),ae=zc(),ie=pu(),se=jc(),ce=Wu(),ue=Su(),de=Tu(),pe=Du(),me=function(){if(zl)return Bl;zl=1;var e=Au();return Bl=function(t){return e(t)&&isFinite(t)}}(),ge=function(){if(ql)return Wl;ql=1;var e=Ac(),t=qu(),n=Gc();return Wl=function(o){return!(n(o)||isNaN(o)||e(o)||t(o))}}(),fe=qu(),ve=Gu(),he=Au(),be=Uu(),xe=Ku(),we=Jl?Ql:(Jl=1,Ql=function(e){return!!e&&e.constructor===TypeError}),ye=Yu(),Ce=Xu(),Se=function(){if(rr)return lr;rr=1;var e=Mc()("Arguments");return lr=e}(),Ee=function(){if(ir)return ar;ir=1;var e=Vu(),t=Au();return ar=function(n){return!!(n&&e(n.nodeName)&&t(n.nodeType))}}(),De=function(){if(dr)return ur;dr=1;var e=Zu();return ur=function(t){return!(!t||!e||9!==t.nodeType)}}(),Te=function(){if(fr)return gr;fr=1;var e=Qu();return gr=function(t){return!(!e||!t||t!==t.window)}}(),Oe=function(){if(hr)return vr;hr=1;var e=lu(),t=typeof FormData!==e;return vr=function(e){return t&&e instanceof FormData}}(),ke=function(){if(xr)return br;xr=1;var e=lu(),t=typeof Map!==e;return br=function(e){return t&&e instanceof Map}}(),Re=function(){if(yr)return wr;yr=1;var e=lu(),t=typeof WeakMap!==e;return wr=function(e){return t&&e instanceof WeakMap}}(),Ie=function(){if(Sr)return Cr;Sr=1;var e=lu(),t=typeof Set!==e;return Cr=function(e){return t&&e instanceof Set}}(),Pe=function(){if(Dr)return Er;Dr=1;var e=lu(),t=typeof WeakSet!==e;return Er=function(e){return t&&e instanceof WeakSet}}(),Fe=function(){if(Nr)return $r;Nr=1;var e=zc(),t=ed(),n=od(),o=Qc(),l=tu();return $r=function(r,a){var i=e(r),s=e(a);return!s.length||(l(i,s)?o(s,function(e){return t(i,function(t){return t===e&&n(r[t],a[e])})>-1}):n(r,a))}}(),Me=od(),Ae=function(){if(_r)return Lr;_r=1;var e=td(),t=nd(),n=_c(),o=ru();return Lr=function(l,r,a){return n(a)?e(l,r,function(e,n,l,r,i){var s=a(e,n,l,r,i);return o(s)?t(e,n):!!s},a):e(l,r,t)}}(),Ve=function(){if(zr)return Br;zr=1;var e=Xu(),t=$u(),n=Ac(),o=Uu(),l=Ku(),r=Gc();return Br=function(a){return r(a)?"null":e(a)?"symbol":t(a)?"date":n(a)?"array":o(a)?"regexp":l(a)?"error":typeof a}}(),$e=function(){if(Hr)return jr;Hr=1;var e=Ic(),t=au();return jr=function(n){return""+(t(n)?"":n)+e.keyId++}}(),Ne=ed(),Le=function(){if(qr)return Wr;qr=1;var e=Ju()(function(e,t,n){for(var o=e.length-1;o>=0;o--)if(t.call(n,e[o],o,e))return o;return-1});return Wr=e}(),_e=function(){if(Ur)return Gr;Ur=1;var e=Kc(),t=Vu();return Gr=function(n){if(e(n))return n;if(t(n))try{return JSON.parse(n)}catch(o){}return{}}}(),Be=function(){if(Yr)return Kr;Yr=1;var e=au();return Kr=function(t){return e(t)?"":JSON.stringify(t)}}(),ze=function(){if(Zr)return Xr;Zr=1;var e=Bc()("entries",2);return Xr=e}(),je=function(){if(ta)return ea;ta=1;var e=ld()(1,0);return ea=e}(),He=function(){if(oa)return na;oa=1;var e=ld()(0,1);return na=e}(),We=function(){if(ra)return la;ra=1;var e=pu();return la=function(t){return e(t)[0]}}(),qe=function(){if(ia)return aa;ia=1;var e=pu();return aa=function(t){var n=e(t);return n[n.length-1]}}(),Ge=function(){if(ca)return sa;ca=1;var e=iu(),t=su(),n=Vc();return sa=function(o,l){if(o){if(n(o,l))return!0;var r,a,i,s,c,u,d=t(l),p=0,m=d.length;for(c=o;p<m&&(u=!1,(s=(r=d[p])?r.match(e):"")?(a=s[1],i=s[2],a?c[a]&&n(c[a],i)&&(u=!0,c=c[a][i]):n(c,i)&&(u=!0,c=c[i])):n(c,r)&&(u=!0,c=c[r]),u);p++)if(p===m-1)return!0}return!1}}(),Ue=cu(),Ke=function(){if(da)return ua;da=1;var e=Nu(),t=su(),n=Yc(),o=Vc(),l=/(.+)?\[(\d+)\]$/;function r(t,n,o,r,a){if(!t[n]){var i,s,c=n?n.match(l):null;if(o)s=a;else{var u=r?r.match(l):null;s=u&&!u[1]?new Array(e(u[2])+1):{}}return c?c[1]?(i=e(c[2]),t[c[1]]?o?t[c[1]][i]=s:t[c[1]][i]?s=t[c[1]][i]:t[c[1]][i]=s:(t[c[1]]=new Array(i+1),t[c[1]][i]=s)):t[c[2]]=s:t[n]=s,s}return o&&(t[n]=a),t[n]}function a(e){return"__proto__"===e||"constructor"===e||"prototype"===e}return ua=function(e,l,i){if(e&&n(l))if(!e[l]&&!o(e,l)||a(l)){for(var s=e,c=t(l),u=c.length,d=0;d<u;d++)if(!a(c[d])){var p=d===u-1;s=r(s,c[d],p,p?null:c[d+1],i)}}else e[l]=i;return e}}(),Ye=rd(),Xe=function(){if(fa)return ga;fa=1;var e=rd(),t=$c();return ga=function(n,o,l){var r=e(n,o,l||this);return t(r,function(e,t){r[t]=e.length}),r}}(),Ze=ad(),Qe=function(){if(xa)return ba;xa=1;var e=zc(),t=vu(),n=eu(),o=Pc(),l=Hc();return ba=function(r,a){if(r&&a){var i=l.apply(this,[{}].concat(t(arguments,1))),s=e(i);o(e(r),function(e){n(s,e)&&(r[e]=i[e])})}return r},ba}(),Je=du(),et=xu(),tt=function(){if(ya)return wa;ya=1;var e=bu()(function(e,t){return e>t});return wa=e}(),nt=function(){if(qa)return Wa;qa=1;var e=Ic(),t=md(),n=gd(),o=fd(),l=Au(),r=vd(),a=hd(),i=ud(),s=Hc();return Wa=function(c,u){var d,p,m,g,f,v=s({},e.commafyOptions,u),h=v.digits;return l(c)?(d=(v.ceil?n:v.floor?o:t)(c,h),g=(p=i(h?a(d,h):d).split("."))[0],f=p[1],(m=g&&d<0)&&(g=g.substring(1,g.length))):g=(p=(d=r(c).replace(/,/g,""))?[d]:[])[0],p.length?(m?"-":"")+g.replace(new RegExp("(?=(?!(\\b))(.{"+(v.spaceNumber||3)+"})+$)","g"),v.separator||",")+(f?"."+f:""):d}}(),ot=md(),lt=gd(),rt=fd(),at=hd(),it=function(){if(Ua)return Ga;Ua=1;var e=Nu(),t=gu()(e);return Ga=t}(),st=fu(),ct=ud(),ut=function(){if(Ja)return Qa;Ja=1;var e=xd(),t=fu();return Qa=function(n,o){return e(t(n),t(o))}}(),dt=function(){if(ti)return ei;ti=1;var e=id(),t=ud(),n=fu(),o=hd();return ei=function(l,r){var a=n(l),i=n(r),s=t(a),c=t(i),u=e(s),d=e(c),p=Math.pow(10,Math.max(u,d));return parseFloat(o((a*p-i*p)/p,u>=d?u:d))}}(),pt=bd(),mt=function(){if(ri)return li;ri=1;var e=wd(),t=fu();return li=function(n,o){return e(t(n),t(o))}}(),gt=yd(),ft=function(){if(ci)return si;ci=1;var e=wd(),t=Wu(),n=yd();return si=function(o,l,r){return e(n(o,l,r),t(o))}}(),vt=Rd(),ht=function(){if(Oi)return Ti;Oi=1;var e=kd(),t=_u(),n=Od();return Ti=function(o,l,r){var a,i=l&&!isNaN(l)?3*l:0;return o=t(o),n(o)?(a=3*(function(e){var t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}(o)-1),o.setMonth(a),e(o,i,r)):o}}(),bt=kd(),xt=Id(),wt=_u(),yt=_d(),Ct=Bd(),St=function(){if(Ji)return Qi;Ji=1;var e=Lu(),t=Bd(),n=_u(),o=$u();return Qi=function(l,r){if(l){var a=n(l,r);return o(a)?e(a):a}return t()}}(),Et=Od(),Dt=function(){if(ts)return es;ts=1;var e=_d();return es=function(t,n,o){return!(!t||!n)&&"Invalid Date"!==(t=e(t,o))&&t===e(n,o)}}(),Tt=Md(),Ot=Nd(),kt=Vd(),Rt=function(){if(os)return ns;os=1;var e=Ad()(function(e){return new Date(e.getFullYear(),e.getMonth(),1)},function(e,t){return e.getMonth()!==t.getMonth()});return ns=e}(),It=function(){if(rs)return ls;rs=1;var e=Rd(),t=_u(),n=Od(),o=zu();return ls=function(l,r){return l=t(l),n(l)?o(e(l,r))?366:365:NaN}}(),Pt=function(){if(is)return as;is=1;var e=Dd(),t=Cd(),n=Sd(),o=Lu(),l=kd(),r=_u(),a=Od();return as=function(i,s){return i=r(i),a(i)?Math.floor((o(l(i,s,n))-o(l(i,s,t)))/e)+1:NaN}}(),Ft=function(){if(cs)return ss;cs=1;var e=Lu(),t=Bu(),n=_u(),o=Od(),l=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]];return ss=function(r,a){var i,s,c,u,d,p,m={done:!1,time:0};if(r=n(r),a=a?n(a):t(),o(r)&&o(a)&&(i=e(r))<(s=e(a)))for(u=m.time=s-i,m.done=!0,p=0,d=l.length;p<d;p++)u>=(c=l[p])[1]?p===d-1?m[c[0]]=u||0:(m[c[0]]=Math.floor(u/c[1]),u-=m[c[0]]*c[1]):m[c[0]]=0;return m}}(),Mt=function(){if(ds)return us;ds=1;var e=vd(),t=ru(),n=sd();return us=function(o,l,r){var a=e(o);return l|=0,r=t(r)?" ":""+r,a.padEnd?a.padEnd(l,r):l>a.length?((l-=a.length)>r.length&&(r+=n(r,l/r.length)),a+r.slice(0,l)):a}}(),At=Ld(),Vt=function(){if(ms)return ps;ms=1;var e=vd(),t=sd();return ps=function(n,o){return t(e(n),o)}}(),$t=Hd(),Nt=zd(),Lt=jd(),_t=function(){if(Ds)return Es;Ds=1;var e=Wd(),t=qd()(e);return Es=t}(),Bt=function(){if(Os)return Ts;Os=1;var e=Wd(),t=qd(),n=Nc(),o={};n(e,function(t,n){o[e[n]]=n});var l=t(o);return Ts=l}(),zt=function(){if(Ms)return Fs;Ms=1;var e=vd(),t=Gd(),n=Pd(),o=Ud(),l={};return Fs=function(r){if(r=e(r),l[r])return l[r];var a=r.length,i=r.replace(/([-]+)/g,function(e,t,n){return n&&n+t.length<a?"-":""});return a=i.length,i=i.replace(/([A-Z]+)/g,function(e,l,r){var i=l.length;return l=o(l),r?i>2&&r+i<a?n(t(l,0,1))+t(l,1,i-1)+n(t(l,i-1,i)):n(t(l,0,1))+t(l,1,i):i>1&&r+i<a?t(l,0,i-1)+n(t(l,i-1,i)):l}).replace(/(-[a-zA-Z])/g,function(e,o){return n(t(o,1,o.length))}),l[r]=i,i}}(),Wt=function(){if(Vs)return As;Vs=1;var e=vd(),t=Gd(),n=Ud(),o={};return As=function(l){if(l=e(l),o[l])return o[l];if(/^[A-Z]+$/.test(l))return n(l);var r=l.replace(/^([a-z])([A-Z]+)([a-z]+)$/,function(e,o,l,r){var a=l.length;return a>1?o+"-"+n(t(l,0,a-1))+"-"+n(t(l,a-1,a))+r:n(o+"-"+l+r)}).replace(/^([A-Z]+)([a-z]+)?$/,function(e,o,l){var r=o.length;return n(t(o,0,r-1)+"-"+t(o,r-1,r)+(l||""))}).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,function(e,o,l,r,a){var i=l.length;return i>1&&(o&&(o+="-"),r)?(o||"")+n(t(l,0,i-1))+"-"+n(t(l,i-1,i))+r:(o||"")+(a?"-":"")+n(l)+(r||"")});return r=r.replace(/([-]+)/g,function(e,t,n){return n&&n+t.length<r.length?"-":""}),o[l]=r,r}}(),qt=function(){if(Ns)return $s;Ns=1;var e=vd();return $s=function(t,n,o){var l=e(t);return 0===(1===arguments.length?l:l.substring(o)).indexOf(n)},$s}(),Gt=function(){if(_s)return Ls;_s=1;var e=vd();return Ls=function(t,n,o){var l=e(t),r=arguments.length;return r>1&&(r>2?l.substring(0,o).indexOf(n)===o-1:l.indexOf(n)===l.length-1)},Ls}(),Ut=Kd(),Kt=function(){if(Hs)return js;Hs=1;var e=Kd();return js=function(t,n){return e(t,n,{tmplRE:/\{([.\w[\]\s]+)\}/g})}}(),Yt=vd(),Xt=qs?Ws:(qs=1,Ws=function(){}),Zt=Uc(),en=function(){if(Us)return Gs;Us=1;var e=vu();return Gs=function(t,n){var o=e(arguments,2);return function(){return t.apply(n,e(arguments).concat(o))}},Gs}(),tn=function(){if(Ys)return Ks;Ys=1;var e=vu();return Ks=function(t,n){var o=!1,l=null,r=e(arguments,2);return function(){return o||(l=t.apply(n,e(arguments).concat(r)),o=!0),l}},Ks}(),nn=function(){if(Zs)return Xs;Zs=1;var e=vu();return Xs=function(t,n,o){var l=0,r=[];return function(){var a=arguments;++l<=t&&r.push(a[0]),l>=t&&n.apply(o,[r].concat(e(a)))}},Xs}(),on=function(){if(Js)return Qs;Js=1;var e=vu();return Qs=function(t,n,o){var l=0,r=[];return o=o||this,function(){var a=arguments;++l<t&&(r.push(a[0]),n.apply(o,[r].concat(e(a))))}},Qs}(),an=(tc||(tc=1,ec=function(e,t,n){var o=null,l=null,r=n||{},a=!1,i=null,s=!("leading"in r)||r.leading,c="trailing"in r&&r.trailing,u=function(){o=null,l=null},d=function(){a=!0,e.apply(l,o),i=setTimeout(p,t),u()},p=function(){i=null,a||!0!==c||d()},m=function(){o=arguments,l=this,a=!1,null===i&&(!0===s?d():!0===c&&(i=setTimeout(p,t)))};return m.cancel=function(){var e=null!==i;return e&&clearTimeout(i),u(),i=null,a=!1,e},m}),ec),sn=(oc||(oc=1,nc=function(e,t,n){var o=null,l=null,r=n||{},a=!1,i=null,s="boolean"==typeof n,c="leading"in r?r.leading:s,u="trailing"in r?r.trailing:!s,d=function(){o=null,l=null},p=function(){a=!0,e.apply(l,o),d()},m=function(){!0===c&&(i=null),a||!0!==u||p()},g=function(){a=!1,o=arguments,l=this,null===i?!0===c&&p():clearTimeout(i),i=setTimeout(m,t)};return g.cancel=function(){var e=null!==i;return e&&clearTimeout(i),d(),i=null,a=!1,e},g}),nc),cn=function(){if(rc)return lc;rc=1;var e=vu();return lc=function(t,n){var o=e(arguments,2),l=this;return setTimeout(function(){t.apply(l,o)},n)},lc}(),un=Xd(),dn=Qd(),pn=tp(),mn=function(){if(yc)return wc;yc=1;var e=Jd(),t=ep(),n=Hu();return wc=function(){if(e){var o=e.pathname,l=n(o,"/")+1;return t()+(l===o.length?o:o.substring(0,l))}return""}}(),gn=function(){if(Sc)return Cc;Sc=1;var e=Jd(),t=tp();return Cc=function(){return e?t(e.href):{}}}(),fn=function(){if(Dc)return Ec;Dc=1;var e=Ic(),t=Zu(),n=Yd(),o=Zd(),l=Ac(),r=Eu(),a=$u(),i=ru(),s=eu(),c=zc(),u=Hc(),d=Pc(),p=Bu(),m=Lu(),g=Rd(),f=kd(),v=Id();function h(e,t){var n=parseFloat(t),o=p(),l=m(o);switch(e){case"y":return m(g(o,n));case"M":return m(f(o,n));case"d":return m(v(o,n));case"h":case"H":return l+60*n*60*1e3;case"m":return l+60*n*1e3;case"s":return l+1e3*n}return l}function b(e){return(a(e)?e:new Date(e)).toUTCString()}function x(s,c,p){if(t){var m,g,f,v,x,w,y=[],C=arguments;return l(s)?y=s:C.length>1?y=[u({name:s,value:c},p)]:r(s)&&(y=[s]),y.length>0?(d(y,function(n){m=u({},e.cookies,n),f=[],m.name&&(g=m.expires,f.push(o(m.name)+"="+o(r(m.value)?JSON.stringify(m.value):m.value)),g&&(g=isNaN(g)?g.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,function(e,t,n){return b(h(n,t))}):/^[0-9]{11,13}$/.test(g)||a(g)?b(g):b(h("d",g)),m.expires=g),d(["expires","path","domain","secure"],function(e){i(m[e])||f.push(m[e]&&"secure"===e?e:e+"="+m[e])})),t.cookie=f.join("; ")}),!0):(v={},(x=t.cookie)&&d(x.split("; "),function(e){w=e.indexOf("="),v[n(e.substring(0,w))]=n(e.substring(w+1)||"")}),1===C.length?v[s]:v)}return!1}function w(e){return x(e)}function y(e,t,n){return x(e,t,n),x}function C(t,n){x(t,"",u({expires:-1},e.cookies,n))}function S(){return c(x())}return u(x,{has:function(e){return s(S(),e)},set:y,setItem:y,get:w,getItem:w,remove:C,removeItem:C,keys:S,getJSON:function(){return x()}}),Ec=x}(),vn=function(){if(Oc)return Tc;Oc=1;var e=lu(),t=Zu(),n=Qu(),o=Hc(),l=Pc();function r(e){try{var t="__xe_t";return e.setItem(t,1),e.removeItem(t),!0}catch(n){return!1}}function a(e){return navigator.userAgent.indexOf(e)>-1}return Tc=function(){var i,s,c,u=!1,d=!1,p=!1,m={isNode:!1,isMobile:u,isPC:!1,isDoc:!!t};if(n||typeof process===e){c=a("Edge"),s=a("Chrome"),u=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),m.isDoc&&(i=t.body||t.documentElement,l(["webkit","khtml","moz","ms","o"],function(e){m["-"+e]=!!i[e+"MatchesSelector"]}));try{d=r(n.localStorage)}catch(g){}try{p=r(n.sessionStorage)}catch(g){}o(m,{edge:c,firefox:a("Firefox"),msie:!c&&m["-ms"],safari:!s&&!c&&a("Safari"),isMobile:u,isPC:!u,isLocalStorage:d,isSessionStorage:p})}else m.isNode=!0;return m}}();return t(e,{assign:t,objectEach:n,lastObjectEach:o,objectMap:l,merge:r,uniq:p,union:m,sortBy:f,orderBy:v,shuffle:h,sample:b,some:i,every:s,slice:x,filter:w,find:S,findLast:E,findKey:y,includes:C,arrayIndexOf:z,arrayLastIndexOf:j,map:a,reduce:D,copyWithin:T,chunk:O,zip:k,unzip:R,zipObject:I,flatten:P,toArray:g,includeArrays:c,pluck:F,invoke:M,arrayEach:u,lastArrayEach:d,toArrayTree:A,toTreeArray:V,findTree:$,eachTree:N,mapTree:L,filterTree:_,searchTree:B,hasOwnProp:H,eqNull:ee,isNaN:G,isFinite:me,isUndefined:U,isArray:W,isFloat:ge,isInteger:fe,isFunction:K,isBoolean:ve,isString:X,isNumber:he,isRegExp:be,isObject:Y,isPlainObject:Z,isDate:J,isError:xe,isTypeError:we,isEmpty:ye,isNull:q,isSymbol:Ce,isArguments:Se,isElement:Ee,isDocument:De,isWindow:Te,isFormData:Oe,isMap:ke,isWeakMap:Re,isSet:Ie,isWeakSet:Pe,isLeapYear:Q,isMatch:Fe,isEqual:Me,isEqualWith:Ae,getType:Ve,uniqueId:$e,getSize:ce,indexOf:le,lastIndexOf:re,findIndexOf:Ne,findLastIndexOf:Le,toStringJSON:_e,toJSONString:Be,keys:ae,values:ie,entries:ze,pick:je,omit:He,first:We,last:qe,each:te,forOf:ne,lastForOf:oe,lastEach:ue,has:Ge,get:Ue,set:Ke,groupBy:Ye,countBy:Xe,clone:se,clear:pe,remove:de,range:Ze,destructuring:Qe,random:Je,min:tt,max:et,commafy:nt,round:ot,ceil:lt,floor:rt,toFixed:at,toNumber:st,toNumberString:ct,toInteger:it,add:ut,subtract:dt,multiply:pt,divide:mt,sum:gt,mean:ft,now:Ct,timestamp:St,isValidDate:Et,isDateSame:Dt,toStringDate:wt,toDateString:yt,getWhatYear:vt,getWhatQuarter:ht,getWhatMonth:bt,getWhatWeek:Tt,getWhatDay:xt,getYearDay:Ot,getYearWeek:kt,getMonthWeek:Rt,getDayOfYear:It,getDayOfMonth:Pt,getDateDiff:Ft,trim:$t,trimLeft:Lt,trimRight:Nt,escape:_t,unescape:Bt,camelCase:zt,kebabCase:Wt,repeat:Vt,padStart:At,padEnd:Mt,startsWith:qt,endsWith:Gt,template:Ut,toFormatString:Kt,toString:Yt,toValueString:Yt,noop:Xt,property:Zt,bind:en,once:tn,after:nn,before:on,throttle:an,debounce:sn,delay:cn,unserialize:un,serialize:dn,parseUrl:pn,getBaseURL:mn,locat:gn,browse:vn,cookie:fn}),kc=e}());var op=null,lp=null,rp=null,ap="z-index-manage",ip=null,sp="z-index-style",cp={m:1e3,s:1e3};function up(){return op||"undefined"!=typeof document&&(op=document),op}function dp(){return op&&!lp&&(lp=op.body||op.getElementsByTagName("body")[0]),lp}function pp(){var e=function(){if(!ip){var e=up();e&&((ip=e.getElementById(sp))||((ip=e.createElement("style")).id=sp,e.getElementsByTagName("head")[0].appendChild(ip)))}return ip}();if(e){var t="--dom-",n="-z-index";e.innerHTML=":root{"+t+"main"+n+":"+hp()+";"+t+"sub"+n+":"+yp()+"}"}}function mp(){if(!rp){var e=up();if(e&&!(rp=e.getElementById(ap))){var t=dp();t&&((rp=e.createElement("div")).id=ap,rp.style.display="none",t.appendChild(rp),fp(cp.m),xp(cp.s))}}return rp}function gp(e){return function(t){if(t){t=Number(t),cp[e]=t;var n=mp();n&&(n.dataset?n.dataset[e]=t+"":n.setAttribute("data-"+e,t+""))}return pp(),cp[e]}}var fp=gp("m");function vp(e,t){return function(n){var o,l=mp();if(l){var r=l.dataset?l.dataset[e]:l.getAttribute("data-"+e);r&&(o=Number(r))}return o||(o=cp[e]),n?Number(n)<o?t():n:o}}var hp=vp("m",bp);function bp(){return fp(hp()+1)}var xp=gp("s"),wp=vp("s",Cp);function yp(){return hp()+wp()}function Cp(){return xp(wp()+1),yp()}var Sp={setCurrent:fp,getCurrent:hp,getNext:bp,setSubCurrent:xp,getSubCurrent:yp,getSubNext:Cp,getMax:function(){var e=0;if(up()){var t=dp();if(t)for(var n=t.getElementsByTagName("*"),o=0;o<n.length;o++){var l=n[o];if(l&&l.style&&1===l.nodeType){var r=l.style.zIndex;r&&/^\d+$/.test(r)&&(e=Math.max(e,Number(r)))}}}return e}};pp();const Ep={size:"",version:1,zIndex:999,resizeInterval:500},Dp={theme:""};function Tp(e){const t=e&&"default"!==e?e:"light";if(Dp.theme=t,"undefined"!=typeof document){const e=document.documentElement;e&&e.setAttribute("data-vxe-ui-theme",t)}return mt}function Op(){return Dp.theme}function kp(e){return e&&(e.zIndex&&Sp.setCurrent(e.zIndex),e.theme&&Tp(e.theme),np.merge(Ep,e)),mt}function Rp(e,t){return arguments.length?np.get(Ep,e,t):Ep}const Ip={},Pp={};function Fp(e){return e&&Object.assign(Pp,e),mt}function Mp(e){return arguments.length?np.get(Pp,e):Pp}const Ap={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",Control:"Control",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},Vp=np.browse(),$p={" ":"Spacebar",Apps:Ap.CONTEXT_MENU,Del:Ap.DELETE,Up:Ap.ARROW_UP,Down:Ap.ARROW_DOWN,Left:Ap.ARROW_LEFT,Right:Ap.ARROW_RIGHT},Np=Vp.firefox?"DOMMouseScroll":"mousewheel",Lp=[];function _p(e){const t=e.type===Np;Lp.forEach(({type:n,cb:o})=>{e.cancelBubble||(n===e.type||t&&"mousewheel"===n)&&o(e)})}class Bp{constructor(e,t,n){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=e,e&&(e.type&&(this.type=e.type),e.key&&(this.key=e.key),e.code&&(this.code=e.code)),Object.assign(this,t),np.objectEach(n,(e,t)=>{if(np.isFunction(e)){let n=null,o=!1;Object.defineProperty(this,t,{get:()=>(o||(o=!0,n=e()),n)})}else this[t]=e})}stopPropagation(){const e=this.$event;e&&e.stopPropagation()}preventDefault(){const e=this.$event;e&&e.preventDefault()}}const zp=(e,t,n)=>new Bp(e,t,n),jp={on(e,t,n){Lp.push({comp:e,type:t,cb:n})},off(e,t){np.remove(Lp,n=>n.comp===e&&n.type===t)},hasKey(e,t){const{key:n}=e;return t=t.toLowerCase(),!!n&&(t===n.toLowerCase()||!(!$p[n]||$p[n].toLowerCase()!==t))}};let Hp;Vp.isDoc&&(Vp.msie||(window.addEventListener("copy",_p,!1),window.addEventListener("cut",_p,!1),window.addEventListener("paste",_p,!1)),document.addEventListener("keydown",_p,!1),document.addEventListener("contextmenu",_p,!1),window.addEventListener("mousedown",_p,!1),window.addEventListener("blur",_p,!1),window.addEventListener("resize",_p,!1),window.addEventListener(Np,np.throttle(_p,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));const Wp=[];function qp(){Wp.length&&(Wp.forEach(e=>{e.tarList.forEach(t=>{const{target:n,width:o,heighe:l}=t,r=n.clientWidth,a=n.clientHeight;(r&&o!==r||a&&l!==a)&&(t.width=r,t.heighe=a,setTimeout(e.callback))})}),Gp())}function Gp(){clearTimeout(Hp),Hp=setTimeout(qp,Ep.resizeInterval||500)}class Up{constructor(e){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=e}observe(e){if(e){const{tarList:t}=this;t.some(t=>t.target===e)||t.push({target:e,width:e.clientWidth,heighe:e.clientHeight}),Wp.length||Gp(),Wp.some(e=>e===this)||Wp.push(this)}}unobserve(e){np.remove(Wp,t=>t.tarList.some(t=>t.target===e))}disconnect(){np.remove(Wp,e=>e===this)}}const Kp={create:e=>window.ResizeObserver?new window.ResizeObserver(e):new Up(e)},Yp=m({language:"",langMaps:{}});let Xp=!1,Zp={};function Qp(e,t){const{langMaps:n,language:o}=Yp,{i18n:l}=Ep;if(l)return`${l(e,t)||""}`;if(Xp||(n[o],Xp=!0),!t&&Zp[e])return Zp[e];const r=np.toFormatString(np.get(n[o],e,e),t);return t||(Zp[e]=r),r}function Jp(e){const{language:t}=Yp,n=e||"zh-CN";return t!==n&&(Yp.language=n,Zp={}),mt}function em(e,t){return Yp.langMaps[e]=Object.assign({},t),mt}function tm(e){const{langMaps:t}=Yp;return!!t[e]}function nm(){const{language:e}=Yp;return e}function om(e,t){return function(e,n){return`[vxe ${t||""}] ${Qp(e,n)}`}}const lm="4.1.5",rm={create:om,warn:om(0,`v${lm}`),err:om(0,`v${lm}`)},am={},im={mixin:e=>(np.each(e,(e,t)=>im.add(t,e)),im),get:e=>am[e]||null,add(e,t){if(e&&t){const n=am[e];n?(np.each(t,(t,o)=>{np.eqNull(n[o])||n[o]===t||rm.warn("vxe.error.coverProp",[`Renderer.${e}`,o])}),Object.assign(n,t)):am[e]=t}return im},forEach:e=>(np.objectEach(am,e),im),delete:e=>(delete am[e],im)};class sm{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return np.each(e,(e,t)=>{this.add(t,e)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e],o=np.keys(n);return np.each(t,(t,n)=>{o.includes(n)&&rm.warn("vxe.error.coverProp",[e,n])}),this.store[e]=n?np.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){np.objectEach(this.store,e)}}const cm=new sm;Object.assign(cm,{_name:"Validators"});const um=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return np.each(e,(e,t)=>{this.add(t,e)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];np.isFunction(t)&&(rm.warn("vxe.error.delProp",["menus -> callback","menuMethod"]),t={menuMethod:t});const o=np.keys(n);return np.each(t,(t,n)=>{o.includes(n)&&rm.warn("vxe.error.coverProp",[e,n])}),this.store[e]=n?np.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){np.objectEach(this.store,e)}};Object.assign(um,{_name:"Menus"});const dm=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return np.each(e,(e,t)=>{this.add(t,e)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];np.isFunction(t)&&(rm.warn("vxe.error.delProp",["formats -> callback","cellFormatMethod"]),t={cellFormatMethod:t});const o=np.keys(n);return np.each(t,(t,n)=>{o.includes(n)&&rm.warn("vxe.error.coverProp",[e,n])}),this.store[e]=n?np.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){np.objectEach(this.store,e)}};Object.assign(dm,{_name:"Formats"});const pm=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return np.each(e,(e,t)=>{this.add(t,e)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];np.isFunction(t)&&(rm.warn("vxe.error.delProp",["commands -> callback","commandMethod"]),t={commandMethod:t});const o=np.keys(n);return np.each(t,(t,n)=>{o.includes(n)&&rm.warn("vxe.error.coverProp",[e,n])}),this.store[e]=n?np.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){np.objectEach(this.store,e)}};Object.assign(pm,{_name:"Commands"});const mm={},gm={mixin:e=>(np.each(e,(e,t)=>{gm.add(t,e)}),gm),get:e=>mm[e]||[],add(e,t){np.isFunction(t)&&(t={tableInterceptorMethod:t});const n=t.tableInterceptorMethod;if(n){let t=mm[e];t||(t=mm[e]=[]),t.indexOf(n)>-1&&rm.warn("vxe.error.coverProp",["Interceptor",e]),t.push(n)}return gm},delete(e,t){const n=mm[e];if(n){np.isFunction(t)&&(t={tableInterceptorMethod:t});const o=t?t.tableInterceptorMethod:null;o?np.remove(n,e=>e===o):delete mm[e]}}};let fm;const vm={text:"",html:""};const hm={getStore:()=>vm,setStore(e){Object.assign(vm,e||{})},copy(e){let t=!1;try{const n=np.toValueString(e);!function(e){if(!fm){fm=document.createElement("textarea"),fm.id="$VxeCopy";const e=fm.style;e.width="48px",e.height="24px",e.position="fixed",e.zIndex="0",e.left="-500px",e.top="-500px",document.body.appendChild(fm)}fm.value=e}(n),fm.select(),fm.setSelectionRange(0,fm.value.length),t=document.execCommand("copy"),fm.blur(),vm.text=n,vm.html=""}catch(n){}return t},getText:()=>vm.text||""};function bm(e,t){let n=!0,o=!1;const l=t||Ep.permissionMethod;if(e&&l){n=!1,o=!0;let t=!1,r=!1;const a=String(e).split("|");for(let e=0;e<a.length;e++){let i=!0,s=!1;const c=l({code:a[e]});if(np.isBoolean(c)?i=c:c&&(i=!!c.visible,s=!!c.disabled),s||r||(r=!0,o=s),i&&!t&&(t=!0,n=i),t&&r)break}}return{code:e,visible:n,disabled:o}}const xm={getCheckInfo:e=>bm(e),checkVisible:e=>bm(e).visible,checkDisable:e=>bm(e).disabled},wm=new sm;function ym(e){const t=n("xeSizeInfo",null),o=g(()=>e.size||(t?t.value:null));return b("xeSizeInfo",o),{computeSize:o}}function Cm(e){return{computePermissionInfo:g(()=>bm(e.permissionCode,e.permissionMethod))}}const Sm={useSize:ym,usePermission:Cm},Em=[];function Dm(e,t){return e&&e.install&&-1===Em.indexOf(e)&&(e.install(Im,t),Em.push(e)),Im}const Tm={};function Om(e){return Tm[e]||null}function km(e){e&&e.name&&(Tm[e.name]=e,Tm[np.kebabCase(e.name)]=e)}function Rm(){return x()}const Im=Object.assign(mt,{renderEmptyElement:Rm,setTheme:Tp,getTheme:Op,setConfig:kp,getConfig:Rp,setIcon:Fp,getIcon:Mp,setLanguage:Jp,hasLanguage:tm,getLanguage:nm,setI18n:em,getI18n:Qp,globalEvents:jp,GLOBAL_EVENT_KEYS:Ap,createEvent:zp,globalResize:Kp,renderer:im,validators:cm,menus:um,formats:dm,commands:pm,interceptor:gm,clipboard:hm,log:rm,permission:xm,globalStore:Ip,hooks:wm,component:km,getComponent:Om,useFns:Sm,use:Dm});Tp();const Pm=p;let Fm;const Mm=m({modals:[],drawers:[],globalLoading:null,globalWatermark:null}),Am=w(Pm({setup(){const e=Im.getComponent("VxeModal"),t=Im.getComponent("VxeDrawer"),n=Im.getComponent("VxeLoading"),o=Im.getComponent("VxeWatermark");return()=>{const{modals:l,drawers:r,globalWatermark:a,globalLoading:i}=Mm;return[l.length?y("div",{key:1,class:"vxe-dynamics--modal"},l.map(t=>y(e,t))):x(),r.length?y("div",{key:2,class:"vxe-dynamics--drawer"},r.map(e=>y(t,e))):x(),a?y(o,a):x(),i?y(n,i):x()]}}}));function Vm(){Fm||(Fm=document.createElement("div"),Fm.className="vxe-dynamics",document.body.appendChild(Fm),Am.mount(Fm))}const $m="ui v4.6.35",Nm=rm.create("warn",$m),Lm=rm.create("error",$m),_m="4.6.35";function Bm(e){return Nm("vxe.error.delFunc",["config","setConfig"]),kp(e)}function zm(e){return Nm("vxe.error.delFunc",["setup","setConfig"]),kp(e)}Im.uiVersion=_m,Im.dynamicApp=Am,Im.config=Bm,Im.setup=zm,kp({alert:{},anchor:{},anchorLink:{},avatar:{},badge:{},breadcrumb:{separator:"/"},breadcrumbItem:{},button:{trigger:"hover",prefixTooltip:{enterable:!0},suffixTooltip:{enterable:!0}},buttonGroup:{},calendar:{minDate:new Date(1900,0,1),maxDate:new Date(2100,0,1),startDay:1,selectDay:1},card:{border:!0,padding:!0},carousel:{height:200,loop:!0,interval:5e3},carouselItem:{},checkbox:{},checkboxButton:{},checkboxGroup:{},col:{},collapse:{padding:!0,expandConfig:{showIcon:!0}},collapsePane:{},countdown:{},colorPicker:{type:"hex",clearable:!0,showAlpha:!0,clickToCopy:!0,showColorExtractor:!0,showQuick:!0},datePanel:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1},datePicker:{shortcutConfig:{align:"left",mode:"text",autoClose:!0},startDay:1,selectDay:1,autoClose:!0,showClearButton:null,showConfirmButton:null},dateRangePicker:{shortcutConfig:{align:"left",mode:"text",autoClose:!0},startDay:1,selectDay:1,separator:" ~ ",autoClose:!0,showClearButton:null,showConfirmButton:null},drawer:{position:"right",showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0,padding:!0,cancelClosable:!0,confirmClosable:!0},empty:{},form:{validConfig:{showMessage:!0,autoPos:!0,theme:"beautify"},tooltipConfig:{enterable:!0},titleAsterisk:!0,titleOverflow:!1,padding:!0},formDesign:{height:400,showHeader:!0,showPc:!0},formGather:{},formGroup:{},formItem:{},formView:{},icon:{},iconPicker:{icons:["home","company","comment","setting","send","envelope","envelope-open","bell","search","print","pc","goods","chart-line","edit","delete","save","folder","microphone","flag","link","location","sunny","rmb","usd","user","add-user","add-users","star","unlock","time","text","feedback","calendar","association-form","cloud-download","cloud-upload","file","subtable","chart-bar-x","chart-bar-y","chart-line","chart-pie","chart-radar"]},image:{showPreview:!0,showPrintButton:!0,maskClosable:!0},imageGroup:{showPreview:!0,showPrintButton:!0},imagePreview:{showPrintButton:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},layoutAside:{},layoutBody:{},layoutContainer:{},layoutFooter:{},layoutHeader:{},link:{underline:!0},listDesign:{height:400,showPc:!0},listView:{},list:{virtualYConfig:{enabled:!0,gt:100}},loading:{showIcon:!0,showText:!0},modal:{top:16,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,padding:!0,draggable:!0,showConfirmButton:null,cancelClosable:!0,confirmClosable:!0,zoomConfig:{minimizeMaxSize:10,minimizeVerticalOffset:{top:-24,left:0},minimizeHorizontalOffset:{top:0,left:32}},storageKey:"VXE_MODAL_POSITION"},noticeBar:{},numberInput:{digits:2,autoFill:!0,controlConfig:{enabled:!0,layout:"right",showButton:!0,isWheel:!0}},optgroup:{},option:{},pager:{pageSizePlacement:"top"},print:{pageStyle:{}},passwordInput:{controls:!0},printPageBreak:{},pulldown:{destroyOnClose:!0},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},rate:{},result:{},row:{},select:{multiCharOverflow:8,remoteConfig:{enabled:!0,autoLoad:!0},virtualYConfig:{enabled:!0,gt:100,oSize:2}},split:{resize:!0,itemConfig:{minWidth:40,minHeight:40}},splitPane:{},slider:{max:100,min:0},steps:{},switch:{},tabPane:{},tableSelect:{gridConfig:{showOverflow:!0,showHeaderOverflow:!0,showFooterOverflow:!0,rowConfig:{isHover:!0},virtualXConfig:{enabled:!0,gt:0},virtualYConfig:{enabled:!0,gt:0}}},tabs:{},tag:{},textEllipsis:{underline:!0},text:{},textarea:{resize:"none"},tip:{},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300,isArrow:!0},tree:{indent:20,minHeight:60,radioConfig:{strict:!0}},treeSelect:{treeConfig:{radioConfig:{},checkboxConfig:{}}},upload:{mode:"all",imageTypes:["jpg","jpeg","png","gif"],showList:!0,showUploadButton:!0,showButtonText:!0,showRemoveButton:!0,showButtonIcon:!0,showPreview:!0,dragToUpload:!0,showLimitSize:!0,showLimitCount:!0},watermark:{rotate:-30,gap:[100,100]},table:{},colgroup:{},column:{},toolbar:{},grid:{}});const jm="vxe-icon-";function Hm(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function Wm(e){switch(e){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function qm(e){switch(e){case"input":case"textarea":case"VxeInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function Gm(e){return np.isArray(e)?e:e?[e]:[]}Fp({LOADING:jm+"spinner roll vxe-loading--default-icon",BUTTON_DROPDOWN:jm+"arrow-down",BUTTON_LOADING:jm+"spinner roll",BUTTON_TOOLTIP_ICON:jm+"question-circle-fill",MENU_ITEM_EXPAND_OPEN:jm+"arrow-down rotate180",MENU_ITEM_EXPAND_CLOSE:jm+"arrow-down",SELECT_LOADED:jm+"spinner roll",SELECT_OPEN:jm+"caret-down rotate180",SELECT_CLOSE:jm+"caret-down",ADD_OPTION:jm+"add",ICON_PICKER_OPEN:jm+"caret-down rotate180",ICON_PICKER_CLOSE:jm+"caret-down",PAGER_HOME:jm+"home-page",PAGER_END:jm+"end-page",PAGER_JUMP_PREV:jm+"arrow-double-left",PAGER_JUMP_NEXT:jm+"arrow-double-right",PAGER_PREV_PAGE:jm+"arrow-left",PAGER_NEXT_PAGE:jm+"arrow-right",PAGER_JUMP_MORE:jm+"ellipsis-h",RADIO_CHECKED:jm+"radio-checked-fill",RADIO_UNCHECKED:jm+"radio-unchecked",RADIO_DISABLED_UNCHECKED:jm+"radio-unchecked-fill",CHECKBOX_INDETERMINATE:jm+"checkbox-indeterminate-fill",CHECKBOX_CHECKED:jm+"checkbox-checked-fill",CHECKBOX_UNCHECKED:jm+"checkbox-unchecked",CHECKBOX_DISABLED_UNCHECKED:jm+"checkbox-unchecked-fill",INPUT_CLEAR:jm+"error-circle-fill",INPUT_SEARCH:jm+"search",INPUT_PLUS_NUM:jm+"caret-up",INPUT_MINUS_NUM:jm+"caret-down",NUMBER_INPUT_MINUS_NUM:jm+"minus",NUMBER_INPUT_PLUS_NUM:jm+"add",DATE_PICKER_DATE:jm+"calendar",PASSWORD_INPUT_SHOW_PWD:jm+"eye-fill-close",PASSWORD_INPUT_HIDE_PWD:jm+"eye-fill",MODAL_ZOOM_MIN:jm+"minus",MODAL_ZOOM_REVERT:jm+"recover",MODAL_ZOOM_IN:jm+"square",MODAL_ZOOM_OUT:jm+"maximize",MODAL_CLOSE:jm+"close",MODAL_INFO:jm+"info-circle-fill",MODAL_SUCCESS:jm+"success-circle-fill",MODAL_WARNING:jm+"warning-circle-fill",MODAL_ERROR:jm+"error-circle-fill",MODAL_QUESTION:jm+"question-circle-fill",MODAL_LOADING:jm+"spinner roll",DRAWER_CLOSE:jm+"close",FORM_PREFIX:jm+"question-circle-fill",FORM_SUFFIX:jm+"question-circle-fill",FORM_FOLDING:jm+"arrow-up rotate180",FORM_UNFOLDING:jm+"arrow-up",FORM_DESIGN_STYLE_SETTING:jm+"layout",FORM_DESIGN_PROPS_PC:jm+"pc",FORM_DESIGN_PROPS_MOBILE:jm+"mobile",FORM_DESIGN_PROPS_ADD:jm+"add",FORM_DESIGN_PROPS_EDIT:jm+"edit",FORM_DESIGN_WIDGET_ADD:jm+"square-plus-fill",FORM_DESIGN_WIDGET_COPY:jm+"copy",FORM_DESIGN_WIDGET_DELETE:jm+"delete",FORM_DESIGN_WIDGET_SWAP_LR:jm+"swap",FORM_DESIGN_WIDGET_OPTION_DELETE:jm+"delete",FORM_DESIGN_WIDGET_OPTION_EXPAND_OPEN:jm+"square-plus",FORM_DESIGN_WIDGET_OPTION_EXPAND_CLOSE:jm+"square-minus",LIST_DESIGN_FIELD_SETTING:jm+"custom-column",LIST_DESIGN_LIST_SETTING:jm+"menu",LIST_DESIGN_LIST_SETTING_SEARCH_DELETE:jm+"delete",LIST_DESIGN_LIST_SETTING_ACTIVE_DELETE:jm+"delete",UPLOAD_FILE_ERROR:jm+"warning-circle-fill",UPLOAD_FILE_ADD:jm+"upload",UPLOAD_FILE_REMOVE:jm+"delete",UPLOAD_FILE_DOWNLOAD:jm+"download",UPLOAD_IMAGE_RE_UPLOAD:jm+"repeat",UPLOAD_IMAGE_ADD:jm+"add",UPLOAD_IMAGE_REMOVE:jm+"close",UPLOAD_LOADING:jm+"spinner roll vxe-loading--default-icon",UPLOAD_FILE_TYPE_DEFAULT:jm+"file",UPLOAD_FILE_TYPE_XLSX:jm+"file-excel",UPLOAD_FILE_TYPE_XLS:jm+"file-excel",UPLOAD_FILE_TYPE_PDF:jm+"file-pdf",UPLOAD_FILE_TYPE_PNG:jm+"file-image",UPLOAD_FILE_TYPE_GIF:jm+"file-image",UPLOAD_FILE_TYPE_JPG:jm+"file-image",UPLOAD_FILE_TYPE_JPEG:jm+"file-image",UPLOAD_FILE_TYPE_MD:jm+"file-markdown",UPLOAD_FILE_TYPE_PPD:jm+"file-ppt",UPLOAD_FILE_TYPE_DOCX:jm+"file-word",UPLOAD_FILE_TYPE_DOC:jm+"file-word",UPLOAD_FILE_TYPE_ZIP:jm+"file-zip",UPLOAD_FILE_TYPE_TXT:jm+"file-txt",IMAGE_PREVIEW_CLOSE:jm+"close",IMAGE_PREVIEW_PREVIOUS:jm+"arrow-left",IMAGE_PREVIEW_NEXT:jm+"arrow-right",IMAGE_PREVIEW_PCT_FULL:jm+"pct-full",IMAGE_PREVIEW_PCT_1_1:jm+"pct-1-1",IMAGE_PREVIEW_ZOOM_OUT:jm+"search-zoom-out",IMAGE_PREVIEW_ZOOM_IN:jm+"search-zoom-in",IMAGE_PREVIEW_ROTATE_LEFT:jm+"rotate-left",IMAGE_PREVIEW_ROTATE_RIGHT:jm+"rotate-right",IMAGE_PREVIEW_PRINT:jm+"print",IMAGE_PREVIEW_DOWNLOAD:jm+"download",ALERT_CLOSE:jm+"close",ALERT_INFO:jm+"info-circle-fill",ALERT_SUCCESS:jm+"success-circle-fill",ALERT_WARNING:jm+"warning-circle-fill",ALERT_ERROR:jm+"error-circle-fill",TREE_NODE_OPEN:jm+"caret-right rotate90",TREE_NODE_CLOSE:jm+"caret-right",TREE_NODE_LOADED:jm+"spinner roll",TREE_SELECT_LOADED:jm+"spinner roll",TREE_SELECT_OPEN:jm+"caret-down rotate180",TREE_SELECT_CLOSE:jm+"caret-down",TABLE_SELECT_LOADED:jm+"spinner roll",TABLE_SELECT_OPEN:jm+"caret-down rotate180",TABLE_SELECT_CLOSE:jm+"caret-down",TABS_TAB_BUTTON_LEFT:jm+"arrow-left",TABS_TAB_BUTTON_RIGHT:jm+"arrow-right",TABS_TAB_CLOSE:jm+"close",TABS_TAB_REFRESH:jm+"refresh",TABS_TAB_REFRESH_LOADING:jm+"refresh roll",TEXT_COPY:jm+"copy",TEXT_LOADING:jm+"spinner roll",CAROUSEL_HORIZONTAL_PREVIOUS:jm+"arrow-left",CAROUSEL_HORIZONTAL_NEXT:jm+"arrow-right",CAROUSEL_VERTICAL_PREVIOUS:jm+"arrow-up",CAROUSEL_VERTICAL_NEXT:jm+"arrow-down",COLLAPSE_OPEN:jm+"arrow-right rotate90",COLLAPSE_CLOSE:jm+"arrow-right",EMPTY_DEFAULT:jm+"empty",RESULT_INFO:jm+"info-circle-fill",RESULT_SUCCESS:jm+"success-circle-fill",RESULT_WARNING:jm+"warning-circle-fill",RESULT_ERROR:jm+"error-circle-fill",RESULT_QUESTION:jm+"question-circle-fill",RESULT_LOADING:jm+"spinner roll",RATE_CHECKED:jm+"star-fill",RATE_UNCHECKED:jm+"star",COLOR_COPY:jm+"copy",EYE_DROPPER:jm+"dropper",SPLIT_TOP_ACTION:jm+"arrow-up",SPLIT_BOTTOM_ACTION:jm+"arrow-down",SPLIT_LEFT_ACTION:jm+"arrow-left",SPLIT_RIGHT_ACTION:jm+"arrow-right"});const Um=Pm({name:"VxeAlert",props:{title:{type:[String,Number],default:()=>Rp().alert.title},content:[String,Number],status:String,showIcon:Boolean,showClose:Boolean,icon:{type:String,default:()=>Rp().alert.icon}},emits:["close"],setup(e,t){const{emit:n,slots:o}=t,l=np.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent(e,t,o){n(e,zp(o,{$alert:u},t))}},p=e=>{d.dispatchEvent("close",{},e)};Object.assign(u,d,{});return u.renderVN=()=>{const{status:t,content:n,icon:l,title:r,showIcon:i,showClose:s}=e,c=o.default,u=o.title,d=o.icon;return y("div",{ref:a,class:["vxe-alert",{[`theme--${t}`]:t}]},[d||i&&t||l?y("div",{class:"vxe-alert--icon"},d?Gm(d({})):[y("i",{class:l||Mp()[`ALERT_${null==t?void 0:t.toUpperCase()}`]})]):Rm(),y("div",{class:"vxe-alert--body"},[u||r?y("div",{class:"vxe-alert--title"},u?Gm(u({})):np.toValueString(r)):Rm(),y("div",{class:"vxe-alert--content"},c?Gm(c({})):np.toValueString(n))]),s?y("div",{class:"vxe-alert--close-btn",onClick:p},[y("i",{class:Mp().ALERT_CLOSE})]):Rm()])},u},render(){return this.renderVN()}}),Km=Object.assign({},Um,{install(e){e.component(Um.name,Um)}});Am.use(Km),Im.component(Um);const Ym=Km;let Xm;function Zm(){return Xm||(Xm=new Image,Xm.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),Xm}const Qm={};function Jm(e){return Qm[e]||(Qm[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),Qm[e]}function eg(e,t,n){if(e){const o=e.parentNode;if(n.top+=e.offsetTop,n.left+=e.offsetLeft,o&&o!==document.documentElement&&o!==document.body&&(n.top-=o.scrollTop,n.left-=o.scrollLeft),(!t||e!==t&&e.offsetParent!==t)&&e.offsetParent)return eg(e.offsetParent,t,n)}return n}function tg(e){return e&&/^\d+%$/.test(e)}function ng(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(Jm(t)))}function og(e,t){e&&ng(e,t)&&(e.className=e.className.replace(Jm(t),""))}function lg(e,t){e&&!ng(e,t)&&(og(e,t),e.className=`${e.className} ${t}`)}function rg(e){return e.ctrlKey||e.metaKey}function ag(e,t="px"){return np.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function ig(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function sg(e,t,n,o){let l,r=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;r&&r.nodeType&&r!==document;){if(n&&ng(r,n))l=r;else if(r===t)return{flag:!n||!!l,container:t,targetElem:l};r=r.parentNode}return{flag:!1}}function cg(e,t){return eg(e,t,{left:0,top:0})}function ug(e){const t=e.getBoundingClientRect(),n=t.top,o=t.left,{scrollTop:l,scrollLeft:r,visibleHeight:a,visibleWidth:i}=ig();return{boundingTop:n,top:l+n,boundingLeft:o,left:r+o,visibleHeight:a,visibleWidth:i}}const dg="scrollIntoViewIfNeeded",pg="scrollIntoView";function mg(e){e&&(e[dg]?e[dg]():e[pg]&&e[pg]())}function gg(e,t,n){const{placement:o,teleportTo:l,marginSize:r}=Object.assign({teleportTo:!1,marginSize:32},n);let a="bottom",i="",s="",c="";let u="";const d={};if(t&&e){const n=document.documentElement,p=document.body,m=e.offsetHeight,g=t.offsetHeight,f=t.offsetWidth,v=t.getBoundingClientRect(),h=e.getBoundingClientRect(),b=n.clientHeight||p.clientHeight,x=n.clientWidth||p.clientWidth;u=e.offsetWidth,l?(c=h.left,i=h.top+m,"top"===o?(a="top",i=h.top-g):o||(i+g+r>b&&(a="top",i=h.top-g),i<r&&(a="bottom",i=h.top+m)),c+f+r>x&&(c-=c+f+r-x),c<r&&(c=r)):("top"===o?(a="top",s=m):o||(i=m,h.top+h.height+r>b&&h.top-m-g>r&&(a="top",i="",s=m)),v.left+v.width+r>x&&(c=-(v.left+v.width+r-x))),np.isNumber(i)&&(d.top=ag(i)),np.isNumber(s)&&(d.bottom=ag(s)),np.isNumber(c)&&(d.left=ag(c)),np.isNumber("")&&(d.right=ag("")),np.isNumber(u)&&(d.minWidth=ag(u))}return{top:i||0,bottom:s||0,left:c||0,right:0,style:d,placement:a}}const fg=Pm({name:"VxeAnchorLink",props:{content:[String,Number],title:[String,Number],href:String},emits:[],setup(e,t){const{slots:o}=t,l=n("$xeAnchor",null),a=n("$xeAnchorLink",null),s=np.uniqueId(),c=r(),u=m({}),d=m({id:s,href:e.href,children:[]}),p={refElem:c},h=g(()=>{const{href:t}=e;return l?l.reactData.activeHref===t:null}),x={},w={xID:s,props:e,context:t,reactData:u,linkConfig:d,getRefMaps:()=>p,getComputeMaps:()=>x},C=t=>{const{href:n}=e;l&&l.handleClickLink(t,n)};i(()=>e.href,e=>{d.href=e}),f(()=>{const e=c.value;l&&e&&function(e,t,n,o){const l=e.reactData.staticLinks,r=t.parentNode,a=o?o.linkConfig:null,i=a?a.children:l;r&&i&&(i.splice(np.arrayIndexOf(r.children,t),0,n),e.reactData.staticLinks=l.slice(0))}(l,e,d,a)}),v(()=>{l&&function(e,t){const n=e.reactData.staticLinks,o=np.findTree(n,e=>e.id===t.id,{children:"children"});o&&o.items.splice(o.index,1),e.reactData.staticLinks=n.slice(0)}(l,d)});return b("$xeAnchorLink",w),w.renderVN=()=>{const{href:t,content:n,title:l}=e,r=o.default,a=o.sub,i=h.value;return y("div",{ref:c,class:["vxe-anchor-link",{"is--active":i}]},[y("a",{class:"vxe-anchor-link--item",href:t,title:l,onClick:C},r?r({}):np.toValueString(n)),a?y("div",{class:"vxe-anchor-link--sub-items"},a({})):Rm()])},w},render(){return this.renderVN()}}),vg=Pm({name:"VxeAnchor",props:{modelValue:String,options:Array,container:[String,Object,Function],showMarker:{type:Boolean,default:!0}},emits:["update:modelValue","change","click"],setup(e,n){const{slots:o,emit:l}=n,a=np.uniqueId(),c=r(),u=r(),d=m({activeHref:null,staticLinks:[],containerElem:null}),p={refElem:c},v=g(()=>{const e=[];return np.eachTree(d.staticLinks,t=>{e.push(t.href||"")},{children:"children"}),e}),h={},x={xID:a,props:e,context:n,reactData:d,getRefMaps:()=>p,getComputeMaps:()=>h},w={dispatchEvent(e,t,n){l(e,zp(n,{$anchor:x},t))}},C=()=>{const e=v.value,{containerElem:t}=d;if(t){const n=t.querySelectorAll(e.map(e=>`${e}`).join(","));for(let e=0;e<n.length;e++){const t=n[e];if(t.getBoundingClientRect().top>0){const e=t.id;d.activeHref=`#${e}`;break}}}},S=()=>{const{containerElem:e}=d;e&&e.removeEventListener("scroll",C)},E=()=>{const t=(()=>{const{container:t}=e;if(t){if(np.isElement(t))return t;if(np.isString(t))return document.querySelector(t);if(np.isFunction(t))return t({$anchor:x})}return null})();d.containerElem=t,t&&t.addEventListener("scroll",C,{passive:!1})},D={handleClickLink(e,t){e.preventDefault();const n=document.getElementById(`${t}`.replace("#",""));var o;n&&n.scrollIntoView({behavior:"smooth"}),o=t,d.activeHref=o,l("update:modelValue",o),w.dispatchEvent("click",{href:t},e)}};Object.assign(x,w,D);const T=e=>{const t=[];return e&&e.forEach(e=>{const n=e.children;n&&n.length?t.push(y(fg,{content:e.content,title:e.title,href:e.href},{sub:()=>T(n)})):t.push(y(fg,{content:e.content,title:e.title,href:e.href}))}),t};return i(()=>e.modelValue,e=>{d.activeHref=e}),i(()=>d.activeHref,()=>{t(()=>{const{activeHref:e}=d,t=c.value,n=u.value;if(t&&n&&e){const o=t.querySelector(`[href="${e}"]`);if(o){const{top:e}=cg(o,t);n.style.top=`${e}px`}}})}),i(()=>e.container,()=>{S(),E()}),f(()=>{t(()=>{E()})}),s(()=>{S()}),b("$xeAnchor",x),x.renderVN=()=>{const{options:t,showMarker:n}=e,l=o.default;return y("div",{ref:c,class:["vxe-anchor",{"is--marker":n}]},[y("div",{class:"vxe-anchor--list"},l?l({}):T(t)),n?y("div",{ref:u,class:"vxe-anchor--marker"}):Rm()])},x},render(){return this.renderVN()}}),hg=Object.assign({},vg,{install(e){e.component(vg.name,vg)}});Am.use(hg),Im.component(vg);const bg=hg,xg=Object.assign({},fg,{install(e){e.component(fg.name,fg)}});Am.use(xg),Im.component(fg);const wg=xg,yg=Pm({name:"VxeAvatar",props:{count:[String,Number],dot:Boolean,content:[String,Number],icon:String,src:String,width:[String,Number],height:[String,Number],circle:{type:Boolean,default:()=>Rp().avatar.circle},status:{type:String,default:()=>Rp().avatar.status},size:{type:String,default:()=>Rp().avatar.size||Rp().size}},emits:[],setup(e,t){const{emit:n}=t,o=np.uniqueId(),{computeSize:l}=ym(e),a=r(),i=m({}),s={refElem:a},c=g(()=>{const{width:t,height:n}=e,o={};return t&&(o.width=ag(t)),n&&(o.height=ag(n)),o}),u=g(()=>{const{count:t}=e;return t?np.toNumber(t):0}),d={},p={xID:o,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>d},f={dispatchEvent:(e,t,o)=>{n(e,zp(o,{$avatar:p},t))}};Object.assign(p,f,{});const v=()=>{const{icon:t,content:n,src:o}=e;return t?y("span",{class:"vxe-avatar--icon"},[y("i",{class:t})]):n?y("span",{class:"vxe-avatar--content"},`${n}`):o?y("img",{class:"vxe-avatar--img",src:o}):Rm()};return p.renderVN=()=>{const{circle:t,dot:n,status:o}=e,r=l.value,i=u.value,s=c.value;return y("div",{ref:a,class:["vxe-avatar",{[`size--${r}`]:r,[`theme--${o}`]:o,"is--circle":t,"is--dot":n}],style:s},[v(),i?y("span",{class:"vxe-avatar--count"},i>99?"99+":`${i}`):Rm()])},p},render(){return this.renderVN()}}),Cg=Object.assign({},yg,{install(e){e.component(yg.name,yg)}});Am.use(Cg),Im.component(yg);const Sg=Cg,Eg=Pm({name:"VxeBadge",props:{count:[String,Number],dot:Boolean,content:[String,Number],size:{type:String,default:()=>Rp().badge.size||Rp().size}},emits:[],setup(e,t){const{emit:n,slots:o}=t,l=np.uniqueId(),a=r(),{computeSize:i}=ym(e),s=m({}),c={refElem:a},u=g(()=>{const{count:t}=e;return t?np.toNumber(t):0}),d={},p={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>d},f={dispatchEvent:(e,t,o)=>{n(e,zp(o,{$badge:p},t))}};Object.assign(p,f,{});return p.renderVN=()=>{const{dot:t,content:n}=e,l=i.value,r=u.value,s=o.default;return y("div",{ref:a,class:["vxe-badge",{[`size--${l}`]:l,"is--dot":t}]},[s||n?y("div",{class:"vxe-badge--content"},s?s({}):`${n||""}`):[],r?y("span",{class:"vxe-badge--count"},r>99?"99+":`${r}`):Rm()])},p},render(){return this.renderVN()}}),Dg=Object.assign({},Eg,{install(e){e.component(Eg.name,Eg)}});Am.use(Dg),Im.component(Eg);const Tg=Dg,Og=Pm({name:"VxeBreadcrumbItem",props:{title:String,routerLink:Object},emits:[],setup(e,t){const{slots:o}=t,l=np.uniqueId(),a=r(),i=n("$xeBreadcrumb",null),s=m({}),c={refElem:a},u=g(()=>i?i.props.separator:""),d=t=>{if(i){const n={title:e.title,routerLink:e.routerLink};i.handleClickLink(t,n)}},p={},f={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>p};return f.renderVN=()=>{const{title:t,routerLink:n}=e,l=u.value,r=o.default;return y("span",{ref:a,class:"vxe-breadcrumb-item",onClick:d},[y("span",{class:"vxe-breadcrumb-item--content"},[n?y(C("router-link"),{class:"vxe-breadcrumb-item--content-link",title:t,to:n},{default:()=>y("span",{class:"vxe-breadcrumb-item--content-text"},r?r({}):`${t||""}`)}):y("span",{class:"vxe-breadcrumb-item--content-text"},r?r({}):`${t||""}`)]),l?y("span",{class:"vxe-breadcrumb-item--separator"},`${l}`):Rm()])},f},render(){return this.renderVN()}}),kg=Pm({name:"VxeBreadcrumb",props:{separator:{type:String,default:()=>Rp().breadcrumb.separator},options:Array},emits:["click"],setup(e,t){const{emit:n,slots:o}=t,l=np.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent(e,t,o){n(e,zp(o,{$breadcrumb:u},t))}},p={handleClickLink(e,t){d.dispatchEvent("click",{option:t},e)}};Object.assign(u,d,p);return b("$xeBreadcrumb",u),u.renderVN=()=>{const t=o.default;return y("div",{ref:a,class:"vxe-breadcrumb"},t?t({}):(()=>{const{options:t}=e;return t&&t.length?t.map(e=>y(Og,{title:e.title,routerLink:e.routerLink})):[]})())},u},render(){return this.renderVN()}}),Rg=Object.assign({},kg,{install(e){e.component(kg.name,kg)}});Am.use(Rg),Im.component(kg);const Ig=Rg,Pg=Object.assign({},Og,{install(e){e.component(Og.name,Og)}});Am.use(Pg),Im.component(Og);const Fg=Pg;function Mg(e){return e&&!1!==e.enabled}function Ag(){return Sp.getNext()}function Vg(){return Sp.getCurrent()}function $g(e,t){return np.eqNull(e)?t:e}function Ng(e,t){if(e){const n=Rp().translate;return np.toValueString(n?n(""+e,t):e)}return""}function Lg(e){return null==e||""===e}function _g(e){return np.isBoolean(e)?e:null}const Bg=Pm({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>Rp().tooltip.size||Rp().size},selector:String,trigger:{type:String,default:()=>Rp().tooltip.trigger||"hover"},theme:{type:String,default:()=>Rp().tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],isArrow:{type:Boolean,default:()=>Rp().tooltip.isArrow},enterable:{type:Boolean,default:()=>Rp().tooltip.enterable},enterDelay:{type:Number,default:()=>Rp().tooltip.enterDelay},leaveDelay:{type:Number,default:()=>Rp().tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,n){const{slots:o,emit:l}=n,a=np.uniqueId(),{computeSize:c}=ym(e),u=m({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),d={},p=r(),g={refElem:p},v={xID:a,props:e,context:n,reactData:u,internalData:d,getRefMaps:()=>g};let h={};const b=()=>{const{tipTarget:e,tipStore:t}=u;if(e){const{scrollTop:n,scrollLeft:o,visibleWidth:l}=ig(),{top:r,left:a}=ug(e),i=p.value,s=6,c=i.offsetHeight,u=i.offsetWidth;let d=a,m=r-c-s;d=Math.max(s,a+Math.floor((e.offsetWidth-u)/2)),d+u+s>o+l&&(d=o+l-u-s),r-c<n+s&&(t.placement="bottom",m=r+e.offsetHeight+s),t.style.top=`${m}px`,t.style.left=`${d}px`,t.arrowStyle.left=a-d+e.offsetWidth/2+"px"}},x=e=>{e!==u.visible&&(u.visible=e,u.isUpdate=!0,l("update:modelValue",e))},w=()=>{u.visible?h.close():k(u.target||R(),e.content)},C=()=>{k(u.target||R(),e.content)},S=()=>{const{trigger:t,enterable:n,leaveDelay:o}=e;u.tipActive=!1,n&&"hover"===t?setTimeout(()=>{u.tipActive||h.close()},o):h.close()},E=()=>{u.tipActive=!0},D=()=>{const{trigger:t,enterable:n,leaveDelay:o}=e;u.tipActive=!1,n&&"hover"===t&&setTimeout(()=>{u.tipActive||h.close()},o)},T=()=>{const{tipStore:t}=u,n=p.value;if(n){n.parentNode||document.body.appendChild(n)}return x(!0),u.tipZindex<Vg()&&(u.tipZindex=Ag()),t.placement="top",t.style={width:"auto",left:0,top:0,zIndex:e.zIndex||u.tipZindex},t.arrowStyle={left:"50%"},h.updatePlacement()},O=()=>{d.showDelayTip=np.debounce(()=>{u.tipActive&&T()},e.enterDelay,{leading:!1,trailing:!0})},k=(n,l)=>{if(!o.content&&(""===l||np.eqNull(l)))return t();if(n){const{showDelayTip:t}=d,{trigger:o,enterDelay:r}=e;if(u.tipActive=!0,u.tipTarget=n,u.tipContent=l,!r||"hover"!==o)return T();t&&t()}return t()},R=()=>{const{selector:t}=e;if(t){if(np.isElement(t))return t;if(np.isString(t))return document.querySelector(t)}return null};h={dispatchEvent(e,t,n){l(e,zp(n,{$tooltip:v},t))},open:(e,t)=>k(e||u.target||R(),t),close:()=>(u.tipTarget=null,u.tipActive=!1,Object.assign(u.tipStore,{style:{},placement:"",arrowStyle:null}),x(!1),t()),toVisible:(e,t)=>k(e,t),updatePlacement:()=>t().then(()=>{const{tipTarget:e}=u,n=p.value;if(e&&n)return b(),t().then(()=>{b()})}),isActived:()=>u.tipActive,setActived(e){u.tipActive=!!e}},Object.assign(v,h);const I=()=>{const{useHTML:t}=e,{tipContent:n}=u,l=o.content;return l?y("div",{key:1,class:"vxe-tooltip--content"},Gm(l({}))):t?y("div",{key:2,class:"vxe-tooltip--content",innerHTML:n}):y("div",{key:3,class:"vxe-tooltip--content"},`${n}`)};return i(()=>e.enterDelay,()=>{O()}),i(()=>e.content,e=>{u.tipContent=e}),i(()=>e.modelValue,t=>{u.isUpdate||(t?k(u.target||R(),e.content):h.close()),u.isUpdate=!1}),f(()=>{t(()=>{const{trigger:t,content:n}=e,o=p.value;if(o){const l=o.parentNode;if(l){u.tipContent=n,u.tipZindex=Ag(),np.arrayEach(o.children,(e,t)=>{t>1&&(l.insertBefore(e,o),u.target||(u.target=e))}),l.removeChild(o);const{target:r}=u;r&&("hover"===t?(r.onmouseenter=C,r.onmouseleave=S):"click"===t&&(r.onclick=w)),e.modelValue&&k(r||R(),n)}}})}),s(()=>{const{target:e}=u,t=p.value;if(e&&(e.onmouseenter=null,e.onmouseleave=null,e.onclick=null),t){const e=t.parentNode;e&&e.removeChild(t)}}),O(),v.renderVN=()=>{const{popupClassName:t,theme:n,isArrow:l,enterable:r}=e,{tipActive:a,visible:i,tipStore:s}=u,d=o.default,m=c.value;let g;return r&&(g={onMouseenter:E,onMouseleave:D}),y("div",Object.assign({ref:p,class:["vxe-tooltip--wrapper",`theme--${n}`,t?np.isFunction(t)?t({$tooltip:v}):t:"",{[`size--${m}`]:m,[`placement--${s.placement}`]:s.placement,"is--enterable":r,"is--visible":i,"is--arrow":l,"is--active":a}],style:s.style},g),[I(),y("div",{class:"vxe-tooltip--arrow",style:s.arrowStyle}),...d?Gm(d({})):[]])},v},render(){return this.renderVN()}}),zg=Pm({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>Rp().button.size||Rp().size},name:[String,Number],routerLink:Object,permissionCode:[String,Number],content:String,placement:String,status:String,title:String,icon:String,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,trigger:{type:String,default:()=>Rp().button.trigger},align:String,prefixTooltip:Object,suffixTooltip:Object,options:Array,destroyOnClose:{type:Boolean,default:()=>Rp().button.destroyOnClose},transfer:{type:Boolean,default:null}},emits:["click","mouseenter","mouseleave","dropdown-click","dropdownClick"],setup(e,o){const{slots:l,emit:a}=o,i=n("$xeModal",null),s=n("$xeDrawer",null),c=n("$xeTable",null),u=n("$xeForm",null),d=n("$xeButtonGroup",null),p=np.uniqueId(),{computeSize:h}=ym(e),{computePermissionInfo:b}=Cm(e),x=m({initialized:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),w={showTime:void 0,tooltipTimeout:void 0},E=r(),D=r(),T=r(),O={refElem:E},k={xID:p,props:e,context:o,reactData:x,internalData:w,getRefMaps:()=>O};let R={};const I=g(()=>{const{transfer:t}=e;if(null===t){const e=Rp().button.transfer;if(np.isBoolean(e))return e;if(c||i||s||u)return!0}return t}),P=g(()=>{const{disabled:t}=e,n=b.value;return t||n.disabled}),F=g(()=>{const{type:t}=e;return!!t&&["submit","reset","button"].indexOf(t)>-1}),M=g(()=>{const{type:t,mode:n}=e;return"text"===n||"text"===t||d&&"text"===d.props.mode?"text":"button"}),A=g(()=>{const{status:t}=e;return t||(d?d.props.status:"")}),V=g(()=>{const{align:t}=e;return t||!!d&&d.props.align}),$=g(()=>{const{round:t}=e;return t||!!d&&d.props.round}),N=g(()=>{const{circle:t}=e;return t||!!d&&d.props.circle}),L=g(()=>{const{options:t}=e;return t?t.filter(e=>{const{permissionCode:t}=e;return!t||xm.checkVisible(t)}):[]}),_=g(()=>Object.assign({},e.prefixTooltip)),B=g(()=>Object.assign({},e.suffixTooltip)),z=()=>{const{placement:n}=e,{panelIndex:o}=x,l=D.value,r=T.value,a=I.value,i=()=>{const e=gg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});x.panelStyle=t,x.panelPlacement=e.placement};return i(),t().then(i)},j=t=>{d&&d.handleClick({name:e.name},t),ne("click",{$event:t},t)},H=e=>{0===e.button&&e.stopPropagation()},W=e=>{const t=e.currentTarget,n=T.value,{flag:o,targetElem:l}=sg(e,t,"vxe-button");o&&(n&&(n.dataset.active="N"),x.visiblePanel=!1,setTimeout(()=>{n&&"Y"===n.dataset.active||(x.isAniVisible=!1)},350),ne("dropdown-click",{name:l.getAttribute("name"),option:null},e))},q=()=>{const e=T.value;e&&(e.dataset.active="Y",x.isAniVisible=!0,setTimeout(()=>{"Y"===e.dataset.active&&(x.visiblePanel=!0,x.panelIndex<Vg()&&(x.panelIndex=Ag()),z(),setTimeout(()=>{x.visiblePanel&&z()},50))},20))},G=t=>{const{loading:n}=e;P.value||n||(Z(),K(t))},U=e=>{Q(),Y(e)},K=e=>{ne("mouseenter",{},e)},Y=e=>{ne("mouseleave",{},e)},X=t=>{const{loading:n,trigger:o}=e;P.value||n||("click"===o&&(x.visiblePanel?Q():Z()),j(t))},Z=()=>{const{trigger:n}=e,o=T.value;return o&&(o.dataset.active="Y",x.initialized||(x.initialized=!0),w.showTime=setTimeout(()=>{"Y"===o.dataset.active?q():x.isAniVisible=!1},"click"===n?50:250)),t()},Q=()=>{const e=T.value;return clearTimeout(w.showTime),e?(e.dataset.active="N",setTimeout(()=>{"Y"!==e.dataset.active&&(x.visiblePanel=!1,setTimeout(()=>{"Y"!==e.dataset.active&&(x.isAniVisible=!1)},350))},100)):(x.isAniVisible=!1,x.visiblePanel=!1),t()},J=()=>{Q()},ee=(e,t)=>y(Bg,{useHTML:e.useHTML,content:e.content,enterable:e.enterable,theme:e.theme},{default:()=>y("i",{class:[`vxe-button--tooltip-${t}-icon`,e.icon||Mp().BUTTON_TOOLTIP_ICON]})}),te=()=>{const{content:t,icon:n,loading:o,prefixTooltip:r,suffixTooltip:a}=e,i=_.value,s=B.value,c=l.icon,u=l.default,d=[];return r&&d.push(ee(i,"prefix")),o?d.push(y("i",{class:["vxe-button--loading-icon",Mp().BUTTON_LOADING]})):c?d.push(y("span",{class:"vxe-button--custom-icon"},c({}))):n&&d.push(y("i",{class:["vxe-button--icon",n]})),u?d.push(y("span",{class:"vxe-button--content"},u({}))):t&&d.push(y("span",{class:"vxe-button--content"},Ng(t))),a&&d.push(ee(s,"suffix")),d},ne=(e,t,n)=>{a(e,zp(n,{$button:k},t))};R={dispatchEvent:ne,openPanel:Z,closePanel:Q,focus(){const e=D.value;return e&&e.focus(),t()},blur(){const e=D.value;return e&&e.blur(),t()}};const oe=e=>{const t=T.value;x.visiblePanel&&!sg(e,t).flag&&Q()},le=e=>{const t=P.value,{visiblePanel:n}=x;if(!t){const t=E.value,o=T.value;x.isActivated=sg(e,t).flag||sg(e,o).flag,n&&!x.isActivated&&Q()}},re=()=>{const{visiblePanel:e}=x;e&&z()};Object.assign(k,R);return k.renderVN=()=>{const{className:t,popupClassName:n,trigger:o,title:r,routerLink:a,type:i,destroyOnClose:s,name:c,loading:u}=e,{initialized:d,isAniVisible:p,visiblePanel:m}=x,g=F.value,f=M.value,v=A.value,w=$.value,O=V.value,R=N.value,_=I.value,B=P.value,z=b.value,Z=L.value,ee=h.value,oe=l.dropdowns;if(!z.visible)return Rm();if(oe||Z.length){const e={},l={};return"hover"===o&&(e.onMouseenter=G,e.onMouseleave=U,l.onMouseenter=q,l.onMouseleave=J),y("div",{ref:E,class:["vxe-button--dropdown",t?np.isFunction(t)?t({$button:k}):t:"",{[`size--${ee}`]:ee,"is--active":m}]},[a?y(C("router-link"),Object.assign({ref:D,class:["vxe-button","vxe-button--link",`type--${f}`,O?`align--${O}`:"",t?np.isFunction(t)?t({$button:k}):t:"",{[`size--${ee}`]:ee,[`theme--${v}`]:v,"is--round":w,"is--circle":R,"is--disabled":B||u,"is--loading":u}],title:r,name:c,type:g?i:"button",disabled:B||u,to:a,onClick:X},e),{default:()=>te().concat([y("i",{class:`vxe-button--dropdown-arrow ${Mp().BUTTON_DROPDOWN}`})])}):y("button",Object.assign({ref:D,class:["vxe-button",`type--${f}`,O?`align--${O}`:"",t?np.isFunction(t)?t({$button:k}):t:"",{[`size--${ee}`]:ee,[`theme--${v}`]:v,"is--round":w,"is--circle":R,"is--disabled":B||u,"is--loading":u}],title:r,name:c,type:g?i:"button",disabled:B||u,onClick:X},e),te().concat([y("i",{class:`vxe-button--dropdown-arrow ${Mp().BUTTON_DROPDOWN}`})])),y(S,{to:"body",disabled:!_||!d},[y("div",Object.assign({ref:T,class:["vxe-button--dropdown-panel",n?np.isFunction(n)?n({$button:k}):n:"",{[`size--${ee}`]:ee,"is--transfer":_,"ani--leave":p,"ani--enter":m}],placement:x.panelPlacement,style:x.panelStyle},l),d&&(m||p)?[oe?y("div",{class:"vxe-button--dropdown-wrapper",onMousedown:H,onClick:W},d&&(!s||(m||p))?oe({}):[]):y("div",{class:"vxe-button--dropdown-wrapper"},d&&(!s||(m||p))?Z.map((e,t)=>y(zg,{key:t,type:e.type,mode:e.mode||f,className:e.className,name:e.name,routerLink:e.routerLink,permissionCode:e.permissionCode,title:e.title,content:e.content,status:e.status,icon:e.icon,round:np.isBoolean(e.round)?e.round:"text"!==f&&w,circle:np.isBoolean(e.circle)?e.circle:"text"!==f&&R,disabled:e.disabled,loading:e.loading,align:e.align,onClick(t){((e,t)=>{const{$event:n}=e;Q(),ne("dropdown-click",{name:t.name,option:t},n)})(t,e)}})):[])]:[])])])}return a?y(C("router-link"),{ref:D,class:["vxe-button","vxe-button--link",`type--${f}`,O?`align--${O}`:"",t?np.isFunction(t)?t({$button:k}):t:"",{[`size--${ee}`]:ee,[`theme--${v}`]:v,"is--round":w,"is--circle":R,"is--disabled":B||u,"is--loading":u}],title:r,name:c,type:g?i:"button",disabled:B||u,to:a,onClick:j,onMouseenter:K,onMouseleave:Y},{default:()=>te()}):y("button",{ref:D,class:["vxe-button",`type--${f}`,O?`align--${O}`:"",t?np.isFunction(t)?t({$button:k}):t:"",{[`size--${ee}`]:ee,[`theme--${v}`]:v,"is--round":w,"is--circle":R,"is--disabled":B||u,"is--loading":u}],title:r,name:c,type:g?i:"button",disabled:B||u,onClick:j,onMouseenter:K,onMouseleave:Y},te())},f(()=>{"text"===e.type&&Nm("vxe.error.delProp",["type=text","mode=text"]),jp.on(k,"mousewheel",oe),jp.on(k,"mousedown",le),jp.on(k,"resize",re)}),v(()=>{jp.off(k,"mousewheel"),jp.off(k,"mousedown"),jp.off(k,"resize")}),k},render(){return this.renderVN()}}),jg=Object.assign({},zg,{install(e){e.component(zg.name,zg)}});Am.use(jg),Im.component(zg);const Hg=jg,Wg=Pm({name:"VxeButtonGroup",props:{options:Array,mode:String,status:String,round:Boolean,vertical:Boolean,circle:Boolean,align:String,className:[String,Function],disabled:Boolean,permissionCode:[String,Number],size:{type:String,default:()=>Rp().buttonGroup.size||Rp().size}},emits:["click"],setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId(),r=m({}),a={},i={xID:l,props:e,context:t,reactData:r,getComputeMaps:()=>a};ym(e);const{computePermissionInfo:s}=Cm(e),c={dispatchEvent(e,t,n){o(e,zp(n,{$buttonGroup:i},t))}},u={handleClick(t,n){const{options:o}=e,{name:l}=t,r=o?o.find(e=>e.name===l):null;c.dispatchEvent("click",Object.assign(Object.assign({},t),{option:r}),n)}};Object.assign(i,c,u);return i.renderVN=()=>{const{className:t,options:o,vertical:l}=e,r=s.value,a=n.default;return r.visible?y("div",{class:["vxe-button-group",t?np.isFunction(t)?t({$buttonGroup:i}):t:"",{"is--vertical":l}]},a?a({}):o?o.map((e,t)=>y(zg,Object.assign({key:t},e))):[]):Rm()},b("$xeButtonGroup",i),i},render(){return this.renderVN()}}),qg=Object.assign({},Wg,{install(e){e.component(Wg.name,Wg)}});Am.use(qg),Im.component(Wg);const Gg=qg;function Ug(e){return"timestamp"===e}function Kg(e){return"date"===e}function Yg(e,t){return!t||Kg(t)||Ug(t)?"time"===e?"HH:mm:ss":"datetime"===e?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd":t}function Xg(e){const t=new Date(2e3,0,1);if(e){let n=0,o=0,l=0;if((np.isNumber(e)||/^[0-9]{11,15}$/.test(`${e}`))&&(e=new Date(Number(e))),np.isDate(e))n=e.getHours(),o=e.getMinutes(),l=e.getSeconds();else{const t=(e=np.toValueString(e)).match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);t&&(n=np.toNumber(t[1]),o=np.toNumber(t[3]),l=np.toNumber(t[5]))}return t.setHours(n),t.setMinutes(o),t.setSeconds(l),t}return t}function Zg(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}const Qg=(e,t,n)=>{const{valueFormat:o}=n;return e?"time"===t?Xg(e):np.isNumber(e)||/^[0-9]{10,15}$/.test(`${e}`)?new Date(Number(e)):np.isString(e)?np.toStringDate(np.last(e.split(",")),o):np.toStringDate(e,o):null},Jg=(e,t,n)=>{const o=Qg(e,t,n);return o?np.toDateString(o,n.valueFormat):""};function ef(e,t,n){const{labelFormat:o,firstDay:l}=n;let r=null,a="";if(e&&(r=Qg(e,t,n)),np.isValidDate(r)){if(a=np.toDateString(r,o,{firstDay:l}),o&&"week"===t){const e=np.getYearWeek(r,l),t=np.getWhatWeek(r,0,1===e?(6+l)%7:l,l).getFullYear();if(t!==r.getFullYear()){const e=o.indexOf("yyyy");if(e>-1){const n=Number(a.substring(e,e+4));n&&!isNaN(n)&&(a=a.replace(`${n}`,`${t}`))}}}}else r=null;return{label:a,value:r}}const tf={last180:-180,last90:-90,last60:-60,last30:-30,last7:-7,last3:-3,last1:-1};function nf(e,t,n,o){const{valueFormat:l,firstDay:r}=o;np.isArray(t)&&(t=t.join(""));const a=(t?Qg(t,n,o):null)||new Date;let i=null;const s=a;switch(e){case"last1":case"last3":case"last7":case"last30":case"last60":case"last90":case"last180":{const t=function(e){return tf[e]||0}(e);switch(n){case"date":case"datetime":i=np.getWhatDay(a,t);break;case"week":i=np.getWhatWeek(a,t,r,r);break;case"month":i=np.getWhatMonth(a,t);break;case"quarter":i=np.getWhatQuarter(a,t);break;case"year":i=np.getWhatYear(a,t)}break}default:i=new Date}return{startValue:i?np.toDateString(i,l):"",endValue:s?np.toDateString(s,l):""}}const of=Pm({name:"VxeCalendar",props:{modelValue:[String,Number,Date],type:{type:String,default:"date"},className:String,size:{type:String,default:()=>Rp().calendar.size||Rp().size},multiple:Boolean,width:[String,Number],height:[String,Number],minDate:{type:[String,Number,Date],default:()=>Rp().calendar.minDate},maxDate:{type:[String,Number,Date],default:()=>Rp().calendar.maxDate},startDay:{type:[String,Number],default:()=>Rp().calendar.startDay},labelFormat:String,valueFormat:String,festivalMethod:{type:Function,default:()=>Rp().calendar.festivalMethod},disabledMethod:{type:Function,default:()=>Rp().calendar.disabledMethod},selectDay:{type:[String,Number],default:()=>Rp().calendar.selectDay}},emits:["update:modelValue","change","click","date-prev","date-today","date-next","view-change"],setup(e,t){const{emit:n}=t,o=np.uniqueId(),{computeSize:l}=ym(e),a=m({selectValue:e.modelValue,inputValue:e.modelValue,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),s={yearSize:12,monthSize:20,quarterSize:8},c=r(),u={refElem:c},d={xID:o,props:e,context:t,reactData:a,internalData:s,getRefMaps:()=>u},p=g(()=>{const{height:t,width:n}=e,o={};return n&&(o.width=ag(n)),t&&(o.height=ag(t)),o}),v=g(()=>!1),h=g(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),b=g(()=>e.minDate?np.toStringDate(e.minDate):null),x=g(()=>e.maxDate?np.toStringDate(e.maxDate):null),w=g(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),C=g(()=>{const{multiple:t}=e,{selectValue:n}=a,o=h.value,l=D.value;return t&&n&&o?np.toValueString(n).split(",").map(e=>{const t=q(e,l);return np.isValidDate(t)?t:null}):[]}),S=g(()=>{const e=C.value,t=D.value;return e.map(e=>np.toDateString(e,t))}),E=g(()=>{const e=C.value,t=I.value;return e.map(e=>np.toDateString(e,t)).join(", ")}),D=g(()=>{const{valueFormat:t}=e;return t||"yyyy-MM-dd"}),T=g(()=>{const{selectValue:e}=a,t=h.value,n=D.value;let o=null;if(e&&t){const t=q(e,n);np.isValidDate(t)&&(o=t)}return o}),O=g(()=>{const e=b.value,{selectMonth:t}=a;return!(!t||!e)&&t<=e}),k=g(()=>{const e=x.value,{selectMonth:t}=a;return!(!t||!e)&&t>=e}),R=g(()=>{const e=T.value;return e?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0}),I=g(()=>{const{labelFormat:t}=e,n=h.value,o=D.value;return n?t||o||Qp(`vxe.input.date.labelFormat.${e.type}`):null}),P=g(()=>{const{selectMonth:e,currentDate:t}=a,{yearSize:n}=s,o=[];if(e&&t){const l=t.getFullYear(),r=e.getFullYear(),a=new Date(r-r%n,0,1);for(let e=-4;e<n+4;e++){const t=np.getWhatYear(a,e,"first"),r=t.getFullYear();o.push({date:t,isCurrent:!0,isPrev:e<0,isNow:l===r,isNext:e>=n,year:r})}}return o}),F=g(()=>{let e="",t="";if(h.value){const{datePanelType:n,selectMonth:o}=a,l=P.value;let r,i="";o&&(i=o.getFullYear(),r=o.getMonth()+1),"quarter"===n||"month"===n?e=`${i}`:"year"===n?e=l.length?`${l[0].year} - ${l[l.length-1].year}`:"":(e=`${i}`,t=r?Qp(`vxe.input.date.m${r}`):"-")}return{y:e,m:t}}),M=g(()=>{const{startDay:t}=e;return np.toNumber(t)}),A=g(()=>{const e=[];if(h.value){let t=M.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e}),V=g(()=>{if(h.value){return A.value.map(e=>({value:e,label:Qp(`vxe.input.date.weeks.w${e}`)}))}return[]}),$=g(()=>{if(h.value){const e=V.value;return[{label:Qp("vxe.input.date.weeks.w")}].concat(e)}return[]}),N=g(()=>{const e=P.value;return np.chunk(e,4)}),L=g(()=>{const{selectMonth:e,currentDate:t}=a,{quarterSize:n}=s,o=[];if(e&&t){const l=t.getFullYear(),r=Zg(t),a=np.getWhatYear(e,0,"first"),i=a.getFullYear();for(let e=-2;e<n-2;e++){const t=np.getWhatQuarter(a,e),n=t.getFullYear(),s=Zg(t),c=n<i;o.push({date:t,isPrev:c,isCurrent:n===i,isNow:n===l&&s===r,isNext:!c&&n>i,quarter:s})}}return o}),_=g(()=>{const e=L.value;return np.chunk(e,2)}),B=g(()=>{const{selectMonth:e,currentDate:t}=a,{monthSize:n}=s,o=[];if(e&&t){const l=t.getFullYear(),r=t.getMonth(),a=np.getWhatYear(e,0,"first").getFullYear();for(let t=-4;t<n-4;t++){const n=np.getWhatYear(e,0,t),i=n.getFullYear(),s=n.getMonth(),c=i<a;o.push({date:n,isPrev:c,isCurrent:i===a,isNow:i===l&&s===r,isNext:!c&&i>a,month:s})}}return o}),z=g(()=>{const e=B.value;return np.chunk(e,4)}),j=g(()=>{const{selectMonth:e,currentDate:t}=a,n=[];if(e&&t){const o=R.value,l=A.value,r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-l.indexOf(u),p=new Date(np.getWhatDay(e,d).getTime()+o);for(let t=0;t<42;t++){const o=np.getWhatDay(p,t),l=o.getFullYear(),u=o.getMonth(),d=o.getDate(),m=o<e;n.push({date:o,isPrev:m,isCurrent:l===s&&u===c,isNow:l===r&&u===a&&d===i,isNext:!m&&c!==u,label:d})}}return n}),H=g(()=>{const e=j.value;return np.chunk(e,7)}),W=g(()=>{const e=H.value,t=M.value;return e.map(e=>{const n=e[0];return[{date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:np.getYearWeek(n.date,t)}].concat(e)})}),q=(e,t)=>np.toStringDate(e,t),G=(t,o)=>{a.inputValue=t,n("update:modelValue",t),np.toValueString(e.modelValue)!==t&&ge("change",{value:t},o)},U=t=>{const{type:n}=e,o=I.value,l=D.value,r=M.value;let i=null,s="";if(t&&(i=q(t,l)),np.isValidDate(i)){if(s=np.toDateString(i,o,{firstDay:r}),o&&"week"===n){if(np.getWhatWeek(i,0,r,r).getFullYear()<i.getFullYear()){const e=o.indexOf("yyyy");if(e>-1){const t=Number(s.substring(e,e+4));t&&!isNaN(t)&&(s=s.replace(`${t}`,""+(t-1)))}}}}else i=null;a.datePanelValue=i,a.datePanelLabel=s},K=()=>{const t=h.value,{inputValue:n}=a;t&&(U(n),a.inputValue=e.multiple?E.value:a.datePanelLabel)},Y=()=>{h.value&&K()},X=e=>{const t=np.getWhatMonth(e,0,"first");np.isEqual(t,a.selectMonth)||(a.selectMonth=t)},Z=t=>{const{modelValue:n,multiple:o}=e,l=D.value,r=M.value;if("week"===e.type){const n=np.toNumber(e.selectDay);t=np.getWhatWeek(t,0,n,r)}const i=np.toDateString(t,l,{firstDay:r});if(X(t),a.selectValue=t,o){const e=S.value;e.some(e=>np.isEqual(e,i))?G(e.filter(e=>!np.isEqual(e,i)).join(","),{type:"update"}):G(e.concat([i]).join(","),{type:"update"})}else np.isEqual(n,i)||G(i,{type:"update"})},Q=(e,t)=>{a.selectMonth=np.getWhatMonth(e,t,"first")},J=()=>{const e=np.getWhatDay(Date.now(),0,"first");a.currentDate=e,Q(e,0)},ee=()=>{a.datePanelType="year"},te=e=>{let{datePanelType:t}=a;t="month"===t||"quarter"===t?"year":"month",a.datePanelType=t,ae(e)},ne=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l}=a,{yearSize:r}=s;O.value||(a.selectMonth="year"===n?np.getWhatYear(l,-r,"first"):"month"===n||"quarter"===n?"year"===o?np.getWhatYear(l,-r,"first"):np.getWhatYear(l,-1,"first"):"year"===o?np.getWhatYear(l,-r,"first"):"month"===o?np.getWhatYear(l,-1,"first"):np.getWhatMonth(l,-1,"first"),ge("date-prev",{type:n},t),ae(t))},oe=t=>{J(),e.multiple||Z(a.currentDate),ge("date-today",{type:e.type},t),ae(t)},le=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l}=a,{yearSize:r}=s;k.value||(a.selectMonth="year"===n?np.getWhatYear(l,r,"first"):"month"===n||"quarter"===n?"year"===o?np.getWhatYear(l,r,"first"):np.getWhatYear(l,1,"first"):"year"===o?np.getWhatYear(l,r,"first"):"month"===o?np.getWhatYear(l,1,"first"):np.getWhatMonth(l,1,"first"),ge("date-next",{type:n},t),ae(t))},re=t=>{const{disabledMethod:n}=e,{datePanelType:o}=a;return n&&n({type:o,viewType:o,date:t.date,$calendar:d})},ae=e=>{const{datePanelType:t}=a,n=N.value,o=_.value,l=z.value,r=W.value,i=H.value,s=[];let c=[];switch(t){case"year":c=n;break;case"quarter":c=o;break;case"month":c=l;break;case"week":c=r;break;case"day":c=i}c.forEach(e=>{e.forEach(e=>{s.push(e.date)})}),ge("view-change",{viewType:t,viewDates:s},e)},ie=t=>{re(t)||(t=>{const{type:n}=e,{datePanelType:o}=a;"month"===n?"year"===o?(a.datePanelType="month",X(t),ae(null)):Z(t):"year"===n?Z(t):"quarter"===n?"year"===o?(a.datePanelType="quarter",X(t),ae(null)):Z(t):"month"===o?(a.datePanelType="week"===n?n:"day",X(t),ae(null)):"year"===o?(a.datePanelType="month",X(t),ae(null)):Z(t)})(t.date)},se=e=>{if(!re(e)){const{datePanelType:r}=a;"month"===r?(l=e.date,re({date:l})||(B.value.some(e=>np.isDateSame(e.date,l,"yyyyMM"))||X(l),U(l))):"quarter"===r?(o=e.date,re({date:o})||(L.value.some(e=>np.isDateSame(e.date,o,"yyyyq"))||X(o),U(o))):"year"===r?(n=e.date,re({date:n})||(P.value.some(e=>np.isDateSame(e.date,n,"yyyy"))||X(n),U(n))):(t=e.date,re({date:t})||(j.value.some(e=>np.isDateSame(e.date,t,"yyyyMMdd"))||X(t),U(t)))}var t,n,o,l},ce=()=>{},ue=()=>{const{type:t}=e,n=T.value;["year","quarter","month","week"].indexOf(t)>-1?a.datePanelType=t:a.datePanelType="day",a.currentDate=np.getWhatDay(Date.now(),0,"first"),n?(Q(n,0),U(n)):J()},de=(t,n)=>{const{festivalMethod:o}=e;if(o){const{datePanelType:e}=a,l=o({type:e,viewType:e,date:t.date,$calendar:d}),r=l?np.isString(l)?{label:l}:l:{},i=r.extra?np.isString(r.extra)?{label:r.extra}:r.extra:null,s=[y("span",{class:["vxe-calendar--date-label",{"is-notice":r.notice}]},i&&i.label?[y("span",`${n||""}`),y("span",{class:["vxe-calendar--date-label--extra",i.important?"is-important":"",i.className],style:i.style},np.toValueString(i.label))]:[`${n||""}`])],c=r.label;if(c){const e=np.toValueString(c).split(",");s.push(y("span",{class:["vxe-calendar--date-festival",r.important?"is-important":"",r.className],style:r.style},[e.length>1?y("span",{class:["vxe-calendar--date-festival--overlap",`overlap--${e.length}`]},e.map(e=>y("span",e.substring(0,3)))):y("span",{class:"vxe-calendar--date-festival--label"},e[0].substring(0,3))]))}return s}return`${n||""}`},pe=()=>{const{datePanelType:t}=a;switch(t){case"week":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=T.value,r=$.value,i=W.value,s=C.value,c="yyyyMMdd";return[y("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tr",r.map(e=>y("td",{class:"vxe-calendar--view-th"},e.label))),...i.map(e=>{const n=t?e.some(e=>s.some(t=>np.isDateSame(t,e.date,c))):e.some(e=>np.isDateSame(l,e.date,c)),r=e.some(e=>np.isDateSame(o,e.date,c));return y("tr",e.map(e=>y("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":n,"is--hover":r}],onClick:()=>ie(e),onMouseenter:()=>se(e)},de(e,e.label))))})])]})();case"month":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=T.value,r=z.value,i=C.value,s="yyyyMM";return[y("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tbody",r.map(e=>y("tr",e.map(e=>y("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":t?i.some(t=>np.isDateSame(t,e.date,s)):np.isDateSame(l,e.date,s),"is--hover":np.isDateSame(o,e.date,s)}],onClick:()=>ie(e),onMouseenter:()=>se(e)},de(e,Qp(`vxe.input.date.months.m${e.month}`)))))))])]})();case"quarter":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=T.value,r=_.value,i=C.value,s="yyyyq";return[y("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tbody",r.map(e=>y("tr",e.map(e=>y("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":t?i.some(t=>np.isDateSame(t,e.date,s)):np.isDateSame(l,e.date,s),"is--hover":np.isDateSame(o,e.date,s)}],onClick:()=>ie(e),onMouseenter:()=>se(e)},de(e,Qp(`vxe.input.date.quarters.q${e.quarter}`)))))))])]})();case"year":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=T.value,r=N.value,i=C.value,s="yyyy";return[y("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tbody",r.map(e=>y("tr",e.map(e=>y("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":t?i.some(t=>np.isDateSame(t,e.date,s)):np.isDateSame(l,e.date,s),"is--hover":np.isDateSame(o,e.date,s)}],onClick:()=>ie(e),onMouseenter:()=>se(e)},de(e,e.year))))))])]})()}return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=T.value,r=V.value,i=H.value,s=C.value,c="yyyyMMdd";return[y("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tr",r.map(e=>y("th",{class:"vxe-calendar--view-th"},e.label))),...i.map(e=>y("tr",e.map(e=>y("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":t?s.some(t=>np.isDateSame(t,e.date,c)):np.isDateSame(l,e.date,c),"is--hover":np.isDateSame(o,e.date,c)}],onClick:()=>ie(e),onMouseenter:()=>se(e)},de(e,e.label)))))])]})()},me=()=>{const{multiple:t}=e,{datePanelType:n}=a,o=O.value,l=k.value,r=F.value;return[y("div",{class:"vxe-calendar--header"},[y("div",{class:"vxe-calendar--type-wrapper"},["year"===n?y(zg,{class:"vxe-calendar--date-picker-label",disabled:"year"===n,content:r.y}):y("span",{class:"vxe-calendar--date-picker-btns"},[y(zg,{class:"vxe-calendar--date-picker-btn",content:r.y,onClick:ee}),r.m?y(zg,{class:"vxe-calendar--date-picker-btn",content:r.m,onClick:te}):Rm()])]),y("div",{class:"vxe-calendar--btn-wrapper"},[y(zg,{disabled:o,icon:"vxe-icon-caret-left",onClick:ne}),y(zg,{icon:"vxe-icon-dot",onClick:oe}),y(zg,{disabled:l,icon:"vxe-icon-caret-right",onClick:le}),t&&w.value?y("span",{class:"vxe-calendar--btn vxe-calendar--confirm-btn"},[y("button",{class:"vxe-calendar--confirm",type:"button",onClick:ce},Qp("vxe.button.confirm"))]):null])]),y("div",{class:"vxe-calendar--body"},pe())]},ge=(e,t,o)=>{n(e,zp(o,{$input:d},t))},fe={dispatchEvent:ge};Object.assign(d,fe);return d.renderVN=()=>{const{className:t,type:n}=e,o=l.value,r=v.value,a=p.value;return y("div",{ref:c,class:["vxe-calendar",`type--${n}`,t,{[`size--${o}`]:o,"is--disabled":r}],style:a},[me()])},i(()=>e.modelValue,e=>{a.inputValue=e,K()}),i(()=>e.type,()=>{Object.assign(a,{selectValue:null,inputValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),Y(),ue()}),i(I,()=>{h.value&&(U(a.datePanelValue),a.inputValue=e.multiple?E.value:a.datePanelLabel)}),f(()=>{ue()}),Y(),d},render(){return this.renderVN()}}),lf=Object.assign({},of,{install(e){e.component(of.name,of)}});Am.use(lf),Im.component(of);const rf=lf,af=Pm({name:"VxeLoading",props:{modelValue:Boolean,icon:{type:String,default:()=>Rp().loading.icon},showIcon:{type:Boolean,default:()=>Rp().loading.showIcon},text:{type:String,default:()=>Rp().loading.text},showText:{type:Boolean,default:()=>Rp().loading.showText},status:String,size:{type:String,default:()=>Rp().loading.size||Rp().size}},setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId(),{computeSize:r}=ym(e),a=m({initialized:!1}),s={computeSize:r},c={xID:l,props:e,context:t,reactData:a,getComputeMaps:()=>s},u=g(()=>e.icon||Mp().LOADING),d=g(()=>{const{text:t}=e;return np.isString(t)?t:Qp("vxe.loading.text")}),p=()=>{a.initialized||(a.initialized=!!a.initialized)},f={dispatchEvent:(e,t,n)=>{o(e,zp(n,{$loading:c},t))}};Object.assign(c,f,{});return i(()=>e.modelValue,()=>{p()}),p(),c.renderVN=()=>{const{modelValue:t,showIcon:o,status:l}=e,{initialized:i}=a,s=r.value,c=n.default,p=n.text,m=n.icon,g=u.value,f=d.value;return i||t?y("div",{class:["vxe-loading",{[`size--${s}`]:s,[`theme--${l}`]:l,"is--visible":t}]},c?[y("div",{class:"vxe-loading--wrapper"},Gm(c({})))]:[y("div",{class:"vxe-loading--chunk"},[o&&(m||g)?y("div",{class:"vxe-loading--icon"},m?Gm(m({})):[y("i",{class:g})]):y("div",{class:"vxe-loading--spinner"}),p||f?y("div",{class:"vxe-loading--text"},p?Gm(p({})):`${f}`):null])]):Rm()},c},render(){return this.renderVN()}}),sf=Pm({name:"VxeCard",props:{title:String,showTitleOverflow:{type:Boolean,default:()=>Rp().card.showTitleOverflow},width:[String,Number],height:[String,Number],border:{type:Boolean,default:()=>Rp().card.border},loading:Boolean,shadow:{type:Boolean,default:()=>Rp().card.shadow},padding:{type:Boolean,default:()=>Rp().card.padding}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId(),a=r(),i=m({}),s={refElem:a},c=g(()=>{const{height:t,width:n}=e,o={};return n&&(o.width=ag(n)),t&&(o.height=ag(t)),o}),u={},d={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>u},p={dispatchEvent:(e,t,n)=>{o(e,zp(n,{$card:d},t))}};Object.assign(d,p,{});return d.renderVN=()=>{const{title:t,border:o,shadow:l,padding:r,loading:i,showTitleOverflow:s}=e,u=n.default,d=n.header,p=n.title,m=n.extra,g=n.footer,f=n.left,v=n.right,h=c.value;return y("div",{ref:a,class:["vxe-card",{"is--border":o,"is--shadow":l,"is--padding":r}],style:h},[t||p||d?y("div",{class:"vxe-card--header"},d?Gm(d({})):[y("div",{class:["vxe-card--header-title",{"is--ellipsis":s}]},p?Gm(p({})):`${t||""}`),m?y("div",{class:"vxe-card--header-extra"},Gm(m({}))):Rm()]):Rm(),y("div",{class:"vxe-card--body"},[f?y("div",{class:"vxe-card--body-left"},Gm(f({}))):Rm(),y("div",{class:"vxe-card--body-content"},u?Gm(u({})):[]),v?y("div",{class:"vxe-card--body-right"},Gm(v({}))):Rm()]),g?y("div",{class:"vxe-card--footer"},Gm(g({}))):Rm(),y(af,{class:"vxe-card--loading",modelValue:i})])},d},render(){return this.renderVN()}}),cf=Object.assign({},sf,{install(e){e.component(sf.name,sf)}});Am.use(cf),Im.component(sf);const uf=cf,df=Pm({name:"VxeCarousel",props:{modelValue:[String,Number],options:Array,loading:Boolean,height:{type:[Number,String],default:()=>Rp().carousel.height},width:{type:[Number,String],default:()=>Rp().carousel.width},autoPlay:{type:Boolean,default:()=>Rp().carousel.autoPlay},interval:{type:[Number,String],default:()=>Rp().carousel.interval},loop:{type:Boolean,default:()=>Rp().carousel.loop},vertical:{type:Boolean,default:()=>Rp().carousel.vertical},showIndicators:{type:Boolean,default:()=>Rp().carousel.showIndicators}},emits:["update:modelValue","change"],setup(e,n){const{emit:o,slots:l}=n,a=np.uniqueId(),s=r(),c=r(),u=m({activeName:"",staticItems:[],itemWidth:0,itemHeight:0}),d={apTimeout:void 0,stopFlag:!1},p={refElem:s},h=g(()=>{const{vertical:t,options:n}=e,{activeName:o,itemWidth:l,itemHeight:r,staticItems:a}=u,i=(a&&a.length?a:n)||[],s=Math.max(0,np.findIndexOf(i,e=>e.name===o)),c={};return t?c.transform=`translateY(-${s*r}px)`:(c.width=l*i.length+"px",c.transform=`translateX(-${s*l}px)`),c}),x={},w={xID:a,props:e,context:n,reactData:u,internalData:d,getRefMaps:()=>p,getComputeMaps:()=>x},C=()=>{t(()=>{const e=c.value;e&&(u.itemWidth=e.clientWidth,u.itemHeight=e.clientHeight)})},S=t=>{let n=null;if(t&&t.length){let l=!1;n=e.modelValue,t.forEach(e=>{n===e.name&&(l=!0)}),l||(n=t[0].name,o("update:modelValue",n))}u.activeName=n},E=t=>{const{options:n,loop:l}=e,{activeName:r,staticItems:a}=u,i=(a&&a.length?a:n)||[],s=Math.max(0,np.findIndexOf(i,e=>e.name===r));if(s>-1){let e=null;if(t?s<i.length-1?e=i[s+1]:l&&(e=i[0]):s>0?e=i[s-1]:l&&(e=i[i.length-1]),e){const t=e.name,n=t;return u.activeName=t,o("update:modelValue",n),!0}}return!1},D={dispatchEvent:(e,t,n)=>{o(e,zp(n,{$carousel:w},t))},prev:()=>(E(!1)&&R(),t()),next:()=>(E(!0)&&R(),t())},T=e=>{if(E(!1)){const t=u.activeName;o("change",{value:t},e)}},O=e=>{if(E(!0)){const t=u.activeName;o("change",{value:t},e)}},k=()=>{const{apTimeout:e}=d;d.stopFlag=!0,e&&(clearTimeout(e),d.apTimeout=void 0)},R=()=>{const{autoPlay:t,interval:n}=e,{stopFlag:o}=d;k(),t&&(d.stopFlag=!1,d.apTimeout=setTimeout(()=>{o||E(!0)},np.toNumber(n)||300))},I=()=>{k()},P=()=>{R()};Object.assign(w,D,{});const F=t=>{const{height:n}=e,{activeName:o}=u,r=h.value;return y("div",{class:"vxe-carousel--list",style:r},t.map(e=>{const{name:t,url:r,slots:a}=e,i=a?a.default:null;return y("div",{key:`${t}`,class:["vxe-carousel--item-inner",{"is--active":o===t}],style:n?{height:ag(n)}:null},i?(c={},(s=i)&&(np.isString(s)&&(s=l[s]||null),np.isFunction(s))?Gm(s(c)):[]):[y("img",{class:"vxe-carousel--item-img",src:r})]);var s,c}))},M=e=>{const{activeName:t}=u;return y("div",{class:"vxe-carousel--indicators"},e.map(e=>{const{name:n}=e;return y("div",{key:`${n}`,class:["vxe-carousel--indicators-item",{"is--active":t===n}],onClick(t){((e,t)=>{const n=t.name;u.activeName=t.name,o("update:modelValue",n),o("change",{value:n},e),C()})(t,e)}})}))},A=r(0);i(()=>e.options?e.options.length:-1,()=>{A.value++}),i(()=>e.options,()=>{A.value++}),i(A,()=>{S(e.options)});const V=r(0);return i(()=>u.staticItems?u.staticItems.length:-1,()=>{V.value++}),i(()=>u.staticItems,()=>{V.value++}),i(V,()=>{S(u.staticItems)}),i(()=>e.autoPlay,()=>{R()}),S(u.staticItems.length?u.staticItems:e.options),f(()=>{R(),C()}),v(()=>{k()}),b("$xeCarousel",w),w.renderVN=()=>{const{loading:t,height:n,width:o,showIndicators:r,vertical:a,options:i}=e,{staticItems:d}=u,p=l.default,m=(d&&d.length?d:i)||[];return y("div",{ref:s,class:["vxe-carousel","is--"+(a?"vertical":"horizontal")],style:o?{width:ag(o)}:null,onMouseenter:I,onMouseleave:P},[y("div",{class:"vxe-carousel--slots"},p?p({}):[]),y("div",{ref:c,class:"vxe-carousel--item-wrapper",style:n?{height:ag(n)}:null},[F(m)]),r?M(m):Rm(),y("div",{class:"vxe-carousel--btn-wrapper"},[y("div",{class:"vxe-carousel--previous-btn",onClick:T},[y("i",{class:a?Mp().CAROUSEL_VERTICAL_PREVIOUS:Mp().CAROUSEL_HORIZONTAL_PREVIOUS})]),y("div",{class:"vxe-carousel--next-btn",onClick:O},[y("i",{class:a?Mp().CAROUSEL_VERTICAL_NEXT:Mp().CAROUSEL_HORIZONTAL_NEXT})])]),y(af,{class:"vxe-carousel--loading",modelValue:t})])},w},render(){return this.renderVN()}}),pf=Object.assign({},df,{install(e){e.component(df.name,df)}});Am.use(pf),Im.component(df);const mf=pf;const gf=Pm({name:"VxeCarouselItem",props:{name:[String,Number],className:String,url:String},emits:[],setup(e,t){const{slots:o,emit:l}=t,a=n("$xeCarousel",null),s=np.uniqueId(),c=r(),u=m({}),d=m({id:s,name:e.name,url:e.url,className:e.className,slots:o}),p={refElem:c},g={},h={xID:s,props:e,context:t,reactData:u,getRefMaps:()=>p,getComputeMaps:()=>g},b={dispatchEvent:(e,t,n)=>{l(e,zp(n,{$carouselItem:h},t))}};Object.assign(h,b,{});return i(()=>e.name,e=>{d.name=e}),i(()=>e.url,e=>{d.url=e}),f(()=>{const e=c.value;a&&e&&function(e,t,n){const o=e.reactData.staticItems,l=t.parentNode;l&&o.splice(np.arrayIndexOf(l.children,t),0,n),e.reactData.staticItems=o.slice(0)}(a,e,d)}),v(()=>{a&&function(e,t){const n=e.reactData.staticItems,o=np.findIndexOf(n,e=>e.id===t.id);o>-1&&n.splice(o,1),e.reactData.staticItems=n.slice(0)}(a,d)}),h.renderVN=()=>y("div",{ref:c}),h},render(){return this.renderVN()}}),ff=Object.assign({},gf,{install(e){e.component(gf.name,gf)}});Am.use(ff),Im.component(gf);const vf=ff,hf=Pm({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:{type:Boolean,default:null},size:{type:String,default:()=>Rp().checkbox.size||Rp().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:l}=t,r=n("$xeForm",null),a=n("xeFormItemInfo",null),i=n("$xeCheckboxGroup",null),s=np.uniqueId(),c=m({}),u={xID:s,props:e,context:t,reactData:c};let d={};const{computeSize:p}=ym(e),f=g(()=>i?np.includes(i.props.modelValue,e.label):e.modelValue===e.checkedValue),v=g(()=>{const{disabled:t}=e,n=f.value;if(null===t&&i){const{computeIsDisabled:e,computeIsMaximize:t}=i.getComputeMaps(),o=e.value,l=t.value;return o||l&&!n}return t}),h=t=>{const{checkedValue:n,uncheckedValue:o}=e;if(!v.value){const s=t.target.checked,c=s?n:o,u={checked:s,value:c,label:e.label};i?i.handleChecked(u,t):(l("update:modelValue",c),d.dispatchEvent("change",u,t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,c))}};d={dispatchEvent:(e,t,n)=>{l(e,zp(n,{$checkbox:u},t))}},Object.assign(u,d);return u.renderVN=()=>{const{label:t}=e,n=p.value,l=v.value,r=f.value,a=!r&&e.indeterminate;return y("label",{key:t,class:["vxe-checkbox vxe-checkbox--default",{[`size--${n}`]:n,"is--indeterminate":a,"is--disabled":l,"is--checked":r}],title:e.title},[y("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:l,checked:r,onChange:h}),y("span",{class:["vxe-checkbox--icon",a?Mp().CHECKBOX_INDETERMINATE:r?Mp().CHECKBOX_CHECKED:l?Mp().CHECKBOX_DISABLED_UNCHECKED:Mp().CHECKBOX_UNCHECKED]}),y("span",{class:"vxe-checkbox--label"},o.default?o.default({}):Ng(e.content))])},u},render(){return this.renderVN()}}),bf=Object.assign(hf,{install(e){e.component(hf.name,hf)}});Am.use(bf),Im.component(hf);const xf=bf,wf=Pm({name:"VxeCheckboxButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:{type:Boolean,default:null},size:{type:String,default:()=>Rp().checkboxButton.size||Rp().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:l}=t,r=n("$xeForm",null),a=n("xeFormItemInfo",null),i=n("$xeCheckboxGroup",null),s=np.uniqueId(),c=m({}),{computeSize:u}=ym(e),d={xID:s,props:e,context:t,reactData:c},p=g(()=>i?np.includes(i.props.modelValue,e.label):e.modelValue===e.checkedValue),f=g(()=>{const{disabled:t}=e,n=p.value;if(null===t&&i){const{computeIsDisabled:e,computeIsMaximize:t}=i.getComputeMaps(),o=e.value,l=t.value;return o||l&&!n}return t}),v=t=>{const{checkedValue:n,uncheckedValue:o}=e;if(!f.value){const s=t.target.checked,c=s?n:o,u={checked:s,value:c,label:e.label};i?i.handleChecked(u,t):(l("update:modelValue",c),d.dispatchEvent("change",u,t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,c))}},h={dispatchEvent(e,t,n){l(e,zp(n,{$checkboxButton:d},t))}};Object.assign(d,h,{});const b=()=>{const{label:t}=e,n=u.value,l=f.value,r=p.value;return y("label",{key:t,class:["vxe-checkbox vxe-checkbox--button",{[`size--${n}`]:n,"is--disabled":l}],title:e.title},[y("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:l,checked:r,onChange:v}),y("span",{class:"vxe-checkbox--label"},o.default?o.default({}):Ng(e.content))])};return d.renderVN=b,b}}),yf=Object.assign(wf,{install:function(e){e.component(wf.name,wf)}});Am.use(yf),Im.component(wf);const Cf=yf,Sf=Pm({name:"VxeCheckboxGroup",props:{modelValue:Array,options:Array,optionProps:Object,disabled:{type:Boolean,default:null},max:{type:[String,Number],default:null},size:{type:String,default:()=>Rp().checkboxGroup.size||Rp().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:l}=t,r=n("$xeForm",null),a=n("xeFormItemInfo",null),i=np.uniqueId(),s=m({}),c=g(()=>{const{disabled:t}=e;return null===t?!!r&&(r.props.readonly||r.props.disabled):t}),u=g(()=>{const{modelValue:t,max:n}=e;return!!n&&(t?t.length:0)>=np.toNumber(n)}),d=g(()=>Object.assign({},e.optionProps)),p=g(()=>d.value.label||"label"),f=g(()=>d.value.value||"value"),v=g(()=>d.value.disabled||"disabled"),h={computeIsMaximize:u,computeIsDisabled:c},x={xID:i,props:e,context:t,reactData:s,getComputeMaps:()=>h};ym(e);const w={dispatchEvent:(e,t,n)=>{l(e,zp(n,{$checkboxGroup:x},t))}},C={handleChecked(t,n){const{checked:o,label:i}=t,s=e.modelValue||[],c=s.indexOf(i);o?-1===c&&s.push(i):s.splice(c,1),l("update:modelValue",s),x.dispatchEvent("change",Object.assign({},t,{checklist:s,value:s}),n),r&&a&&r.triggerItemEvent(n,a.itemConfig.field,s)}};Object.assign(x,w,C);const S=()=>{const{options:t}=e,n=o.default,l=f.value,r=p.value,a=v.value;return y("div",{class:"vxe-checkbox-group"},n?n({}):t?t.map(e=>y(hf,{key:e[l],label:e[l],content:e[r],disabled:e[a]})):[])};return b("$xeCheckboxGroup",x),x.renderVN=S,S}}),Ef=Object.assign(Sf,{install(e){e.component(Sf.name,Sf)}});Am.use(Ef),Im.component(Sf);const Df=Ef,Tf=Pm({name:"VxeCol",props:{span:[Number,String],align:String,width:[Number,String],fill:Boolean,ellipsis:Boolean,size:{type:String,default:()=>Rp().col.size||Rp().size}},emits:[],setup(e,t){const{slots:o,emit:l}=t,a=np.uniqueId();ym(e);const i=r(),s=m({}),c={refElem:i},u=n("$xeRow",null),d=g(()=>u?u.props.gutter:null),p=g(()=>u?u.props.vertical:null),f=g(()=>{const{width:t}=e,n=d.value,o=p.value,l={};if(n){let[e,t]=np.isArray(n)?n:[n];if(o&&(t=e,e=""),e){const t=np.isNumber(e)?ag(e/2):`calc(${ag(e)} / 2)`;l.paddingLeft=t,l.paddingRight=t}if(t){const e=np.isNumber(t)?ag(t/2):`calc(${ag(t)} / 2)`;l.paddingTop=e,l.paddingBottom=e}}return t&&(l.width=ag(t)),l}),v={},h={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>v},b={dispatchEvent:(e,t,n)=>{l(e,zp(n,{$col:h},t))}};Object.assign(h,b,{});return h.renderVN=()=>{const{span:t,fill:n,align:l,width:r,ellipsis:a}=e,s=f.value,c=o.default;return y("div",{ref:i,class:["vxe-col",t?`span${t}`:"",l?`align--${l}`:"",{"is--span":!!t,"is--width":!!r,"is--fill":n,"is--ellipsis":a}],style:s},[y("div",{class:"vxe-col--inner"},c?c({}):[])])},h},render(){return this.renderVN()}}),Of=Object.assign({},Tf,{install(e){e.component(Tf.name,Tf)}});Am.use(Of),Im.component(Tf);const kf=Of,Rf=Pm({name:"VxeCollapse",props:{modelValue:Array,options:Array,padding:{type:Boolean,default:()=>Rp().collapse.padding},expandConfig:Object,size:{type:String,default:()=>Rp().collapse.size||Rp().size}},emits:["update:modelValue","load","change","toggle-expand"],setup(e,t){const{emit:n,slots:o}=t,l=np.uniqueId(),{computeSize:a}=ym(e),s=r(),c=m({staticPanes:[],activeNames:[],initNames:[],cachePaneMaps:{}}),u={refElem:s},d=g(()=>{const{options:t}=e;return(t||[]).filter(e=>x(e))}),p=g(()=>{const{staticPanes:e}=c;return e.filter(e=>x(e))}),f=g(()=>Object.assign({},Rp().collapse.expandConfig,e.expandConfig)),v={},h={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>v},x=e=>{const{permissionCode:t}=e;return!(t&&!xm.checkVisible(t))},w=e=>{const{initNames:t}=c;return!(!e||t.includes(e))&&(t.push(e),S("load",{name:e},null),!0)},C=e=>{const{activeNames:t}=c,n={};e&&e.length&&e.forEach(e=>{const{name:o,preload:l}=e||{};if(o){const e=t.includes(o);n[`${o}`]={loading:!1},e&&w(o),l&&(e||t.push(o))}}),c.activeNames=t?t.slice(0):[],c.cachePaneMaps=n},S=(e,t,o)=>{n(e,zp(o,{$collapse:h},t))},E={dispatchEvent:S},D=(e,t)=>e&&(np.isString(e)&&(e=o[e]||null),np.isFunction(e))?Gm(e(t)):[];Object.assign(h,E,{});const T=e=>{const{activeNames:t,initNames:n}=c,o=f.value;return e.map(e=>{const{icon:l,name:r,title:a,slots:i}=e,s=i?i.title:null,u=i?i.default:null,d=r&&t.includes(r);return y("div",{class:"vxe-collapse-item"},[y("div",{class:"vxe-collapse--item-header",onClick(t){((e,t)=>{const{activeNames:n}=c,{name:o}=t;if(o){const t=n.indexOf(o);let l=!1;-1===t?(l=!0,n.push(o)):n.splice(t,1),w(o),S("change",{value:n,name:o},e),S("toggle-expand",{value:n,name:o,expanded:l},e)}})(t,e)}},[o.showIcon?y("span",{class:"vxe-collapse--item-switch"},[y("i",{class:d?Mp().COLLAPSE_OPEN:Mp().COLLAPSE_CLOSE})]):Rm(),l?y("span",{class:"vxe-collapse--item-icon"},[y("i",{class:l})]):Rm(),y("span",{class:"vxe-collapse--item-name"},s?D(s,{name:r,title:a}):`${a}`)]),y("div",{class:["vxe-collapse--item-content",{"is--visible":d}]},[r&&n.includes(r)?y("div",{class:"vxe-collapse--item-inner"},[u?D(u,{name:r,title:a}):""]):Rm()])])})};i(()=>e.modelValue,e=>{c.activeNames=e||[]});const O=r(0);i(()=>e.options?e.options.length:-1,()=>{O.value++}),i(()=>e.options,()=>{O.value++}),i(O,()=>{C(e.options)});const k=r(0);return i(()=>c.staticPanes?c.staticPanes.length:-1,()=>{k.value++}),i(()=>c.staticPanes,()=>{k.value++}),i(k,()=>{C(c.staticPanes)}),c.activeNames=e.modelValue||[],C(c.staticPanes.length?c.staticPanes:e.options),b("$xeCollapse",h),h.renderVN=()=>{const{padding:t}=e,n=a.value,l=d.value,r=p.value,i=o.default,c=i?r:l;return y("div",{ref:s,class:["vxe-collapse",{[`size--${n}`]:n,"is--padding":t}]},[y("div",{class:"vxe-collapse-slots"},i?i({}):[]),T(c)])},h},render(){return this.renderVN()}}),If=Object.assign({},Rf,{install(e){e.component(Rf.name,Rf)}});Am.use(If),Im.component(Rf);const Pf=If;const Ff=Pm({name:"VxeCollapsePane",props:{title:[String,Number],name:[String,Number],icon:String,preload:Boolean,permissionCode:[String,Number]},emits:[],setup(e,t){const{emit:o,slots:l}=t,a=np.uniqueId(),s=n("$xeCollapse",null),c=r(),u=m({}),d=m({id:a,title:e.title,name:e.name,icon:e.icon,preload:e.preload,permissionCode:e.permissionCode,slots:l}),p={refElem:c},g={},h={xID:a,props:e,context:t,reactData:u,getRefMaps:()=>p,getComputeMaps:()=>g},b={dispatchEvent:(e,t,n)=>{o(e,zp(n,{$collapsePane:h},t))}};Object.assign(h,b,{});return i(()=>e.title,e=>{d.title=e}),i(()=>e.name,e=>{d.name=e}),i(()=>e.icon,e=>{d.icon=e}),i(()=>e.permissionCode,e=>{d.permissionCode=e}),f(()=>{const e=c.value;s&&e&&function(e,t,n){const o=e.reactData.staticPanes,l=t.parentNode;l&&(o.splice(np.arrayIndexOf(l.children,t),0,n),e.reactData.staticPanes=o.slice(0))}(s,e,d)}),v(()=>{s&&function(e,t){const n=e.reactData.staticPanes,o=np.findTree(n,e=>e.id===t.id,{children:"children"});o&&o.items.splice(o.index,1),e.reactData.staticPanes=n.slice(0)}(s,d)}),h.renderVN=()=>y("div",{ref:c},[]),h},render(){return this.renderVN()}}),Mf=Object.assign({},Ff,{install(e){e.component(Ff.name,Ff)}});Am.use(Mf),Im.component(Ff);const Af=Mf,Vf={},$f={};"FF,FC,FA,F7,F5,F2,F0,ED,EB,E8,E6,E3,E0,DE,DB,D9,D6,D4,D1,CF,CC,C9,C7,C4,C2,BF,BD,BA,B8,B5,B3,B0,AD,AB,A8,A6,A3,A1,9E,9C,99,96,94,91,8F,8C,8A,87,85,82,80,7D,7A,78,75,73,70,6E,6B,69,66,63,61,5E,5C,59,57,54,52,4F,4D,4A,47,45,42,40,3D,3B,38,36,33,30,2E,2B,29,26,24,21,1F,1C,1A,17,14,12,0F,0D,0A,08,05,03,00".split(",").forEach((e,t)=>{const n=(100-t)/100;Vf[e]=n,$f[n]=e});const Nf=/^rgb(a?)\((\d{1,3})[,\s]+(\d{1,3})[,\s]+(\d{1,3})([,//\s]+([0-9.]{1,4})(%?))?\)$/,Lf=/^(#?)([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;function _f(e){const t={value:"",type:"",hex:"",hexV:"",hexA:"",r:0,g:0,b:0,a:1};if(e){const n=e.match(Lf);n&&(t.value=e,t.type="hex",t.hex=e,t.hexV=n[2],t.hexA=n[3]||"",t.a=(n[3]?Vf[n[3].toUpperCase()]:1)||1);const o=e.match(Nf);o&&(t.value=e,t.type=o[6]?"rgba":"rgb",t.r=parseInt(o[2]),t.g=parseInt(o[3]),t.b=parseInt(o[4]),t.a=o[7]?parseInt(o[6])/100:o[6]?parseFloat(o[6]):1)}return t}function Bf(e,t,n,o){return np.eqNull(o)?`rgb(${e},${t},${n})`:`rgba(${e},${t},${n},${o})`}function zf(e){if(!e)return null;const{r:t,g:n,b:o}=e,l=t/255,r=n/255,a=o/255;let i=0,s=0;const c=Math.max(l,r,a),u=c-Math.min(l,r,a),d=e=>(c-e)/6/u+.5;if(0===u)i=s=0;else{s=u/c;const e=d(l),t=d(r),n=d(a);l===c?i=n-t:r===c?i=1/3+e-n:a===c&&(i=2/3+t-e),i<0?i+=1:i>1&&(i-=1)}return{h:Math.round(360*i),s:np.round(s,2),v:np.round(c,2)}}function jf(e){const t=Hf(e);return t?zf(t):null}function Hf(e){if(e){const t=e.match(/^(#?)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})?$/);if(t)return{r:parseInt(t[2],16),g:parseInt(t[3],16),b:parseInt(t[4],16),a:(t[5]?Vf[t[5].toUpperCase()]:1)||1}}return null}function Wf(e){return np.isString(e)?e.replace(/[^0-9e.-]/g,""):e}function qf(e,t){return/^-/.test(""+e)?np.toFixed(np.ceil(e,t),t):np.toFixed(np.floor(e,t),t)}const Gf=Pm({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>Rp().input.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:{type:String,default:null},maxLength:{type:[String,Number],default:()=>Rp().input.maxLength},autoComplete:{type:String,default:"off"},autoFocus:{type:Boolean,default:null},align:String,form:String,className:String,size:{type:String,default:()=>Rp().input.size||Rp().size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],trim:{type:Boolean,default:()=>Rp().input.trim},exponential:{type:Boolean,default:()=>Rp().input.exponential},controls:{type:Boolean,default:()=>Rp().input.controls},digits:{type:[String,Number],default:()=>Rp().input.digits},startDate:{type:[String,Number,Date],default:()=>Rp().input.startDate},endDate:{type:[String,Number,Date],default:()=>Rp().input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>Rp().input.startDay},labelFormat:String,valueFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>Rp().input.festivalMethod},disabledMethod:{type:Function,default:()=>Rp().input.disabledMethod},selectDay:{type:[String,Number],default:()=>Rp().input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,o){const{slots:l,emit:a}=o,c=n("$xeSelect",null),u=n("$xeTreeSelect",null),d=n("$xeModal",null),p=n("$xeDrawer",null),v=n("$xeTable",null),h=n("$xeForm",null),b=n("xeFormItemInfo",null),w=np.uniqueId(),{computeSize:C}=ym(e),E=m({initialized:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),D={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0,dnTimeout:void 0},T=r(),O=r(),k=r(),R=r(),I=r(),P={refElem:T,refInput:O},F={xID:w,props:e,context:o,reactData:E,internalData:D,getRefMaps:()=>P};let M={};const A=(t,n)=>{const{type:o}=e;return"time"===o?Xg(t):np.toStringDate(t,n)},V=g(()=>{const{transfer:t}=e;if(null===t){const e=Rp().input.transfer;if(np.isBoolean(e))return e;if(v||d||p||h)return!0}return t}),$=g(()=>!!h&&h.props.readonly),N=g(()=>{const{readonly:t}=e;return t}),L=g(()=>{const{disabled:t}=e;return null===t?!!h&&h.props.disabled:t}),_=g(()=>{const{maxLength:t,maxlength:n}=e,o=t||n;return z.value&&!np.toNumber(o)?16:o}),B=g(()=>{const{type:t}=e;return"time"===t||"datetime"===t}),z=g(()=>["number","integer","float"].indexOf(e.type)>-1),j=g(()=>np.getSize(E.inputValue)),H=g(()=>{const e=j.value,t=_.value;return t&&e>np.toNumber(t)}),W=g(()=>B.value||["date","week","month","quarter","year"].indexOf(e.type)>-1),q=g(()=>"password"===e.type),G=g(()=>"search"===e.type),U=g(()=>np.toInteger(e.digits)||1),K=g(()=>{const{type:t}=e,n=U.value,o=e.step;return"integer"===t?np.toInteger(o)||1:"float"===t?np.toNumber(o)||1/Math.pow(10,n):np.toNumber(o)||1}),Y=g(()=>{const{type:t}=e,n=z.value,o=W.value,l=q.value;return e.clearable&&(l||n||o||"text"===t||"search"===t)}),X=g(()=>e.startDate?np.toStringDate(e.startDate):null),Z=g(()=>e.endDate?np.toStringDate(e.endDate):null),Q=g(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),J=g(()=>{const{modelValue:t,multiple:n}=e,o=W.value,l=ne.value;return n&&t&&o?np.toValueString(t).split(",").map(e=>{const t=A(e,l);return np.isValidDate(t)?t:null}):[]}),ee=g(()=>{const e=J.value,t=ne.value;return e.map(e=>np.toDateString(e,t))}),te=g(()=>{const e=J.value,t=se.value;return e.map(e=>np.toDateString(e,t)).join(", ")}),ne=g(()=>{const{type:t,valueFormat:n}=e;return n||("time"===t?"HH:mm:ss":"datetime"===t?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")}),oe=g(()=>{const{modelValue:t}=e,n=W.value,o=ne.value;let l=null;if(t&&n){const e=A(t,o);np.isValidDate(e)&&(l=e)}return l}),le=g(()=>{const e=X.value,{selectMonth:t}=E;return!(!t||!e)&&t<=e}),re=g(()=>{const e=Z.value,{selectMonth:t}=E;return!(!t||!e)&&t>=e}),ae=g(()=>{const{datetimePanelValue:e}=E,t=Te.value;return e?np.toDateString(e,t?"HH:mm:ss":"HH:mm"):""}),ie=g(()=>{const e=oe.value,t=B.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0}),se=g(()=>{const{labelFormat:t}=e;return W.value?t||Qp(`vxe.input.date.labelFormat.${e.type}`):""}),ce=g(()=>{const{selectMonth:e,currentDate:t}=E,{yearSize:n}=D,o=[];if(e&&t){const l=t.getFullYear(),r=e.getFullYear(),a=new Date(r-r%n,0,1);for(let e=-4;e<n+4;e++){const t=np.getWhatYear(a,e,"first"),r=t.getFullYear();o.push({date:t,isCurrent:!0,isPrev:e<0,isNow:l===r,isNext:e>=n,year:r})}}return o}),ue=g(()=>{let e="",t="";if(W.value){const{datePanelType:n,selectMonth:o}=E,l=ce.value;let r,a="";o&&(a=o.getFullYear(),r=o.getMonth()+1),"quarter"===n||"month"===n?e=Qp("vxe.datePicker.yearTitle",[a]):"year"===n?e=l.length?`${l[0].year} - ${l[l.length-1].year}`:"":(e=Qp("vxe.datePicker.yearTitle",[a]),t=r?Qp(`vxe.input.date.m${r}`):"-")}return{y:e,m:t}}),de=g(()=>{const{startDay:t,startWeek:n}=e;return np.toNumber(np.isNumber(t)||np.isString(t)?t:n)}),pe=g(()=>{const e=[];if(W.value){let t=de.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e}),me=g(()=>{if(W.value){return pe.value.map(e=>({value:e,label:Qp(`vxe.input.date.weeks.w${e}`)}))}return[]}),ge=g(()=>{if(W.value){const e=me.value;return[{label:Qp("vxe.input.date.weeks.w")}].concat(e)}return[]}),fe=g(()=>{const e=ce.value;return np.chunk(e,4)}),ve=g(()=>{const{selectMonth:e,currentDate:t}=E,{quarterSize:n}=D,o=[];if(e&&t){const l=t.getFullYear(),r=Zg(t),a=np.getWhatYear(e,0,"first"),i=a.getFullYear();for(let e=-2;e<n-2;e++){const t=np.getWhatQuarter(a,e),n=t.getFullYear(),s=Zg(t),c=n<i;o.push({date:t,isPrev:c,isCurrent:n===i,isNow:n===l&&s===r,isNext:!c&&n>i,quarter:s})}}return o}),he=g(()=>{const e=ve.value;return np.chunk(e,2)}),be=g(()=>{const{selectMonth:e,currentDate:t}=E,{monthSize:n}=D,o=[];if(e&&t){const l=t.getFullYear(),r=t.getMonth(),a=np.getWhatYear(e,0,"first").getFullYear();for(let t=-4;t<n-4;t++){const n=np.getWhatYear(e,0,t),i=n.getFullYear(),s=n.getMonth(),c=i<a;o.push({date:n,isPrev:c,isCurrent:i===a,isNow:i===l&&s===r,isNext:!c&&i>a,month:s})}}return o}),xe=g(()=>{const e=be.value;return np.chunk(e,4)}),we=g(()=>{const{selectMonth:e,currentDate:t}=E,n=[];if(e&&t){const o=ie.value,l=pe.value,r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-l.indexOf(u),p=new Date(np.getWhatDay(e,d).getTime()+o);for(let t=0;t<42;t++){const o=np.getWhatDay(p,t),l=o.getFullYear(),u=o.getMonth(),d=o.getDate(),m=o<e;n.push({date:o,isPrev:m,isCurrent:l===s&&u===c,isNow:l===r&&u===a&&d===i,isNext:!m&&c!==u,label:d})}}return n}),ye=g(()=>{const e=we.value;return np.chunk(e,7)}),Ce=g(()=>{const e=ye.value,t=de.value;return e.map(e=>{const n=e[0];return[{date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:np.getYearWeek(n.date,t)}].concat(e)})}),Se=g(()=>{const e=[];if(B.value)for(let t=0;t<24;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e}),Ee=g(()=>{const e=[];if(B.value)for(let t=0;t<60;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e}),De=g(()=>{const e=ne.value;return!/HH/.test(e)||/mm/.test(e)}),Te=g(()=>{const e=ne.value;return!/HH/.test(e)||/ss/.test(e)}),Oe=g(()=>Ee.value),ke=g(()=>{const{type:t,editable:n,multiple:o}=e;return N.value||o||!n||"week"===t||"quarter"===t}),Re=g(()=>{const{type:t}=e,{showPwd:n}=E,o=z.value,l=W.value,r=q.value;return l||o||r&&n||"number"===t?"text":t}),Ie=g(()=>{const{placeholder:t}=e;if(t)return Ng(t);if(np.eqNull(t)){const e=Rp().input.placeholder;return e?Ng(e):Qp("vxe.base.pleaseInput")}return t}),Pe=g(()=>{const{type:t,immediate:n}=e;return n||!("text"===t||"number"===t||"integer"===t||"float"===t)}),Fe=g(()=>{const{type:t}=e,{inputValue:n}=E;return z.value?"integer"===t?np.toInteger(Wf(n)):np.toNumber(Wf(n)):0}),Me=g(()=>{const{min:t}=e,{inputValue:n}=E,o=z.value,l=Fe.value;return!(!n&&0!==n||!o||null===t)&&l<=np.toNumber(t)}),Ae=g(()=>{const{max:t}=e,{inputValue:n}=E,o=z.value,l=Fe.value;return!(!n&&0!==n||!o||null===t)&&l>=np.toNumber(t)}),Ve=t=>{const{type:n,exponential:o}=e,l=_.value,r=U.value,a="float"===n?qf(t,r):np.toValueString(t);return!o||t!==a&&np.toValueString(t).toLowerCase()!==np.toNumber(a).toExponential()?a.slice(0,l):t},$e=e=>{const{inputValue:t}=E;M.dispatchEvent(e.type,{value:t},e)},Ne=(t,n)=>{e.trim&&(t=`${t||""}`.trim()),E.inputValue=t,(e=>{a("update:modelValue",e)})(t),M.dispatchEvent("input",{value:t},n),np.toValueString(e.modelValue)!==t&&(M.dispatchEvent("change",{value:t},n),c||u||h&&b&&h.triggerItemEvent(n,b.itemConfig.field,t))},Le=(e,t)=>{const n=W.value,o=Pe.value;E.inputValue=e,n||(o?Ne(e,t):M.dispatchEvent("input",{value:e},t))},_e=e=>{const t=e.target.value;Le(t,e)},Be=e=>{Pe.value||$e(e)},ze=e=>{const{inputValue:t}=E,n=t;Pe.value||Ne(n,e),et(),E.visiblePanel||(E.isActivated=!1),M.dispatchEvent("blur",{value:n},e),c||u||h&&b&&h.triggerItemEvent(e,b.itemConfig.field,n)},je=e=>{const{inputValue:t}=E,n=z.value,o=W.value;E.isActivated=!0,n?E.inputValue=Lg(t)?"":`${np.toNumber(t)}`:o&&Mt(e),$e(e)},He=e=>{if(!L.value){const{inputValue:t}=E;M.dispatchEvent("prefix-click",{value:t},e)}},We=()=>new Promise(e=>{E.visiblePanel=!1,D.hpTimeout=setTimeout(()=>{E.isAniVisible=!1,e()},350)}),qe=(t,n)=>{const{type:o,autoFocus:l}=e,r=z.value;W.value&&We(),(l||null===l)&&(r||["text","search","password"].indexOf(o)>-1)&&focus(),Ne("",t),M.dispatchEvent("clear",{value:n},t)},Ge=e=>{if(!L.value){const{inputValue:t}=E;M.dispatchEvent("suffix-click",{value:t},e)}},Ue=t=>{const{type:n}=e,o=se.value,l=ne.value,r=de.value;let a=null,i="";if(t&&(a=A(t,l)),np.isValidDate(a)){if(i=np.toDateString(a,o,{firstDay:r}),o&&"week"===n){const e=np.getYearWeek(a,r),t=np.getWhatWeek(a,0,1===e?(6+r)%7:r,r).getFullYear();if(t!==a.getFullYear()){const e=o.indexOf("yyyy");if(e>-1){const n=Number(i.substring(e,e+4));n&&!isNaN(n)&&(i=i.replace(`${n}`,`${t}`))}}}}else a=null;E.datePanelValue=a,E.datePanelLabel=i},Ke=()=>{const t=W.value,{inputValue:n}=E;t&&(Ue(n),E.inputValue=e.multiple?te.value:E.datePanelLabel)},Ye=()=>{const{type:t}=e,{inputValue:n}=E,o=W.value,l=U.value;if(o)Ke();else if("float"===t&&n){const e=qf(n,l);n!==e&&Ne(e,{type:"init"})}},Xe=t=>null===e.max||np.toNumber(t)<=np.toNumber(e.max),Ze=t=>null===e.min||np.toNumber(t)>=np.toNumber(e.min),Qe=e=>{const t=de.value,n=np.getYearWeek(e,t),o=np.getWhatWeek(e,0,t,t),l=np.getWhatMonth(1===n?np.getWhatDay(o,6):e,0,"first");np.isEqual(l,E.selectMonth)||(E.selectMonth=l)},Je=t=>{const{modelValue:n,multiple:o}=e,{datetimePanelValue:l}=E,r=B.value,a=ne.value,i=de.value;if("week"===e.type){const n=np.toNumber(e.selectDay);t=np.getWhatWeek(t,0,n,i)}else r&&(t.setHours(l.getHours()),t.setMinutes(l.getMinutes()),t.setSeconds(l.getSeconds()));const s=np.toDateString(t,a,{firstDay:i});if(Qe(t),o){const e=ee.value;if(r){const e=[...J.value],n=[],o=np.findIndexOf(e,e=>np.isDateSame(t,e,"yyyyMMdd"));-1===o?e.push(t):e.splice(o,1),e.forEach(e=>{e&&(e.setHours(l.getHours()),e.setMinutes(l.getMinutes()),e.setSeconds(l.getSeconds()),n.push(e))}),Ne(n.map(e=>np.toDateString(e,a)).join(","),{type:"update"})}else e.some(e=>np.isEqual(e,s))?Ne(e.filter(e=>!np.isEqual(e,s)).join(","),{type:"update"}):Ne(e.concat([s]).join(","),{type:"update"})}else np.isEqual(n,s)||Ne(s,{type:"update"})},et=()=>{const{type:t,min:n,max:o,exponential:l}=e,{inputValue:r,datetimePanelValue:a}=E,i=z.value,s=W.value,c=se.value;if(!ke.value)if(i){if(r){const e=`${Wf(r)}`;if(e){let a="integer"===t?np.toInteger(e):np.toNumber(e);if(Ze(a)?Xe(a)||(a=o):a=n,l){const e=np.toValueString(r).toLowerCase();e===np.toNumber(a).toExponential()&&(a=e)}Ne(Ve(a),{type:"check"})}else{let e="";(n||0===n)&&(e=`${n}`),Ne(e,{type:"check"})}}}else if(s)if(r){let n=A(r,c);if(np.isValidDate(n))if("time"===t)n=np.toDateString(n,c),r!==n&&Ne(n,{type:"check"}),E.inputValue=n;else{let e=!1;const o=de.value;if("datetime"===t){const t=oe.value;r===np.toDateString(t,c)&&r===np.toDateString(n,c)||(e=!0,a.setHours(n.getHours()),a.setMinutes(n.getMinutes()),a.setSeconds(n.getSeconds()))}else e=!0;E.inputValue=np.toDateString(n,c,{firstDay:o}),e&&Je(n)}else E.inputValue=e.multiple?te.value:E.datePanelLabel}else Ne("",{type:"check"})},tt=e=>{const{showPwd:t}=E,n=L.value,o=N.value;n||o||(E.showPwd=!t),M.dispatchEvent("toggle-visible",{visible:E.showPwd},e)},nt=e=>{M.dispatchEvent("search-click",{},e)},ot=(t,n)=>{const{min:o,max:l,type:r}=e,{inputValue:a}=E,i=K.value,s="integer"===r?np.toInteger(Wf(a)):np.toNumber(Wf(a)),c=t?np.add(s,i):np.subtract(s,i);let u;u=Ze(c)?Xe(c)?c:l:o,Le(Ve(u),n)},lt=e=>{const t=L.value,n=N.value,o=Me.value;ct(),t||n||o||ot(!1,e),M.dispatchEvent("next-number",{value:E.inputValue},e)},rt=e=>{D.dnTimeout=setTimeout(()=>{lt(e),rt(e)},60)},at=e=>{const t=L.value,n=N.value,o=Ae.value;ct(),t||n||o||ot(!0,e),M.dispatchEvent("prev-number",{value:E.inputValue},e)},it=t=>{const{type:n,exponential:o,controls:l}=e;if(z.value){const e=rg(t),r=t.shiftKey,a=t.altKey,i=t.keyCode,s=jp.hasKey(t,Ap.ESCAPE),c=jp.hasKey(t,Ap.ARROW_UP),u=jp.hasKey(t,Ap.ARROW_DOWN);e||r||a||(jp.hasKey(t,Ap.SPACEBAR)||"integer"===n&&110===i||(!o||69!==i)&&i>=65&&i<=90||i>=186&&i<=188||i>=191)&&t.preventDefault(),s?et():(c||u)&&l&&(e=>{const t=jp.hasKey(e,Ap.ARROW_UP),n=jp.hasKey(e,Ap.ARROW_DOWN);(t||n)&&(e.preventDefault(),t?at(e):lt(e))})(t)}$e(t)},st=e=>{$e(e)},ct=()=>{const{dnTimeout:e}=D;e&&(clearTimeout(e),D.dnTimeout=void 0)},ut=e=>{D.dnTimeout=setTimeout(()=>{at(e),ut(e)},60)},dt=e=>{if(ct(),0===e.button){const t=ng(e.currentTarget,"is--prev");t?at(e):lt(e),D.dnTimeout=setTimeout(()=>{t?ut(e):rt(e)},500)}},pt=t=>{if(z.value&&e.controls&&E.isActivated){const e=t.deltaY;e>0?lt(t):e<0&&at(t),t.preventDefault()}$e(t)},mt=(e,t)=>{const n=de.value,o=np.getYearWeek(e,n),l=np.getWhatWeek(e,0,n,n),r=np.getWhatMonth(1===o?np.getWhatDay(l,6):e,t,"first");E.selectMonth=r},gt=()=>{const e=np.getWhatDay(Date.now(),0,"first");E.currentDate=e,mt(e,0)},ft=()=>{E.datePanelType="year"},vt=()=>{let{datePanelType:e}=E;e="month"===e||"quarter"===e?"year":"month",E.datePanelType=e},ht=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l,inputValue:r}=E,{yearSize:a}=D,i=r;if(!le.value){let e;e="year"===n?np.getWhatYear(l,-a,"first"):"month"===n||"quarter"===n?"year"===o?np.getWhatYear(l,-a,"first"):np.getWhatYear(l,-1,"first"):"year"===o?np.getWhatYear(l,-a,"first"):"month"===o?np.getWhatYear(l,-1,"first"):np.getWhatMonth(l,-1,"first"),E.selectMonth=e,M.dispatchEvent("date-prev",{viewType:o,viewDate:e,value:i,type:n},t)}},bt=t=>{gt(),e.multiple||(Je(E.currentDate),We()),M.dispatchEvent("date-today",{type:e.type},t)},xt=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l,inputValue:r}=E,{yearSize:a}=D,i=r;if(!re.value){let e;e="year"===n?np.getWhatYear(l,a,"first"):"month"===n||"quarter"===n?"year"===o?np.getWhatYear(l,a,"first"):np.getWhatYear(l,1,"first"):"year"===o?np.getWhatYear(l,a,"first"):"month"===o?np.getWhatYear(l,1,"first"):np.getWhatMonth(l,1,"first"),E.selectMonth=e,M.dispatchEvent("date-next",{viewType:o,viewDate:e,value:i,type:n},t)}},wt=t=>{const{disabledMethod:n}=e,{datePanelType:o}=E,l=X.value,r=Z.value,{date:a}=t;return!!(l&&l.getTime()>a.getTime())||(!!(r&&r.getTime()<a.getTime())||!!n&&n({type:o,viewType:o,date:a,$input:F}))},yt=t=>{const{type:n,multiple:o}=e,{datePanelType:l}=E;"month"===n?"year"===l?(E.datePanelType="month",Qe(t)):(Je(t),o||We()):"year"===n?(Je(t),o||We()):"quarter"===n?"year"===l?(E.datePanelType="quarter",Qe(t)):(Je(t),o||We()):"month"===l?(E.datePanelType="week"===n?n:"day",Qe(t)):"year"===l?(E.datePanelType="month",Qe(t)):(Je(t),"datetime"===n||o||We())},Ct=e=>{wt(e)||yt(e.date)},St=e=>{if(!wt({date:e})){we.value.some(t=>np.isDateSame(t.date,e,"yyyyMMdd"))||Qe(e),Ue(e)}},Et=e=>{if(!wt({date:e})){ce.value.some(t=>np.isDateSame(t.date,e,"yyyy"))||Qe(e),Ue(e)}},Dt=e=>{if(!wt({date:e})){ve.value.some(t=>np.isDateSame(t.date,e,"yyyyq"))||Qe(e),Ue(e)}},Tt=e=>{if(!wt({date:e})){be.value.some(t=>np.isDateSame(t.date,e,"yyyyMM"))||Qe(e),Ue(e)}},Ot=e=>{if(!wt(e)){const{datePanelType:t}=E;"month"===t?Tt(e.date):"quarter"===t?Dt(e.date):"year"===t?Et(e.date):St(e.date)}},kt=e=>{if(e){const t=e.offsetHeight;e.parentNode.scrollTop=e.offsetTop-4*t}},Rt=e=>{E.datetimePanelValue=new Date(E.datetimePanelValue.getTime()),kt(e.currentTarget)},It=()=>{const{multiple:t}=e,{datetimePanelValue:n}=E,o=oe.value,l=B.value;if(l){const e=ne.value;if(t){const t=ee.value;if(l){const t=[...J.value],o=[];t.forEach(e=>{e&&(e.setHours(n.getHours()),e.setMinutes(n.getMinutes()),e.setSeconds(n.getSeconds()),o.push(e))}),Ne(o.map(t=>np.toDateString(t,e)).join(","),{type:"update"})}else Ne(t.join(","),{type:"update"})}else Je(o||E.currentDate)}We()},Pt=()=>t().then(()=>{const{placement:n}=e,{panelIndex:o}=E,l=O.value,r=k.value,a=V.value;if(l&&r){const e=l.offsetHeight,i=l.offsetWidth,s=r.offsetHeight,c=r.offsetWidth,u=5,d={zIndex:o},{boundingTop:p,boundingLeft:m,visibleHeight:g,visibleWidth:f}=ug(l);let v="bottom";if(a){let t=m,o=p+e;"top"===n?(v="top",o=p-s):n||(o+s+u>g&&(v="top",o=p-s),o<u&&(v="bottom",o=p+e)),t+c+u>f&&(t-=t+c+u-f),t<u&&(t=u),Object.assign(d,{left:`${t}px`,top:`${o}px`,minWidth:`${i}px`})}else"top"===n?(v="top",d.bottom=`${e}px`):n||(d.top=`${e}px`,p+e+s>g&&p-e-s>u&&(v="top",d.top="",d.bottom=`${e}px`));return E.panelStyle=d,E.panelPlacement=v,t()}}),Ft=()=>{const{visiblePanel:n}=E,{hpTimeout:o}=D,l=L.value,r=W.value;return l||n?t():(E.initialized||(E.initialized=!0),o&&(clearTimeout(o),D.hpTimeout=void 0),E.isActivated=!0,E.isAniVisible=!0,r&&(()=>{const{type:n}=e,o=B.value,l=oe.value;["year","quarter","month","week"].indexOf(n)>-1?E.datePanelType=n:E.datePanelType="day",E.currentDate=np.getWhatDay(Date.now(),0,"first"),l?(mt(l,0),Ue(l)):gt(),o&&(E.datetimePanelValue=E.datePanelValue||np.getWhatDay(Date.now(),0,"first"),t(()=>{const e=I.value;np.arrayEach(e.querySelectorAll("li.is--selected"),e=>{kt(e)})}))})(),setTimeout(()=>{E.visiblePanel=!0},10),E.panelIndex<Vg()&&(E.panelIndex=Ag()),Pt())},Mt=e=>{N.value||(e.preventDefault(),Ft())},At=e=>{$e(e)},Vt=e=>{const{visiblePanel:t,isActivated:n}=E,o=W.value,l=T.value,r=R.value;!L.value&&n&&(E.isActivated=sg(e,l).flag||sg(e,r).flag,E.isActivated||(o?t&&(We(),et()):et()))},$t=t=>{const{clearable:n}=e,{visiblePanel:o}=E,l=L.value,r=W.value;if(!l){const e=jp.hasKey(t,Ap.TAB),l=jp.hasKey(t,Ap.DELETE),a=jp.hasKey(t,Ap.ESCAPE),i=jp.hasKey(t,Ap.ENTER),s=jp.hasKey(t,Ap.ARROW_LEFT),c=jp.hasKey(t,Ap.ARROW_UP),u=jp.hasKey(t,Ap.ARROW_RIGHT),d=jp.hasKey(t,Ap.ARROW_DOWN),p=jp.hasKey(t,Ap.PAGE_UP),m=jp.hasKey(t,Ap.PAGE_DOWN),g=s||c||u||d;let f=E.isActivated;e?(f&&et(),f=!1,E.isActivated=f):g?r&&f&&(o?(e=>{const{isActivated:t,datePanelValue:n,datePanelType:o}=E;if(t){e.preventDefault();const t=jp.hasKey(e,Ap.ARROW_LEFT),l=jp.hasKey(e,Ap.ARROW_UP),r=jp.hasKey(e,Ap.ARROW_RIGHT),a=jp.hasKey(e,Ap.ARROW_DOWN);if("year"===o){let e=np.getWhatYear(n||Date.now(),0,"first");t?e=np.getWhatYear(e,-1):l?e=np.getWhatYear(e,-4):r?e=np.getWhatYear(e,1):a&&(e=np.getWhatYear(e,4)),Et(e)}else if("quarter"===o){let e=np.getWhatQuarter(n||Date.now(),0,"first");t?e=np.getWhatQuarter(e,-1):l?e=np.getWhatQuarter(e,-2):r?e=np.getWhatQuarter(e,1):a&&(e=np.getWhatQuarter(e,2)),Dt(e)}else if("month"===o){let e=np.getWhatMonth(n||Date.now(),0,"first");t?e=np.getWhatMonth(e,-1):l?e=np.getWhatMonth(e,-4):r?e=np.getWhatMonth(e,1):a&&(e=np.getWhatMonth(e,4)),Tt(e)}else{let e=n||np.getWhatDay(Date.now(),0,"first");const o=de.value;t?e=np.getWhatDay(e,-1):l?e=np.getWhatWeek(e,-1,o):r?e=np.getWhatDay(e,1):a&&(e=np.getWhatWeek(e,1,o)),St(e)}}})(t):(c||d)&&Mt(t)):i?r&&(o?E.datePanelValue?yt(E.datePanelValue):We():f&&Mt(t)):(p||m)&&r&&f&&(e=>{const{isActivated:t}=E;if(t){const t=jp.hasKey(e,Ap.PAGE_UP);e.preventDefault(),t?ht(e):xt(e)}})(t),e||a?o&&We():l&&n&&f&&qe(t,null)}},Nt=e=>{const{visiblePanel:t}=E;if(!L.value&&t){sg(e,R.value).flag?Pt():(We(),et())}},Lt=()=>{const{isActivated:e,visiblePanel:t}=E;t?(We(),et()):e&&et()},_t=(t,n)=>{const{festivalMethod:o}=e;if(o){const{datePanelType:e}=E,l=o({type:e,viewType:e,date:t.date,$input:F}),r=l?np.isString(l)?{label:l}:l:{},a=r.extra?np.isString(r.extra)?{label:r.extra}:r.extra:null,i=[y("span",{class:["vxe-input--date-label",{"is-notice":r.notice}]},a&&a.label?[y("span",`${n||""}`),y("span",{class:["vxe-input--date-label--extra",a.important?"is-important":"",a.className],style:a.style},np.toValueString(a.label))]:[`${n||""}`])],s=r.label;if(s){const e=np.toValueString(s).split(",");i.push(y("span",{class:["vxe-input--date-festival",r.important?"is-important":"",r.className],style:r.style},[e.length>1?y("span",{class:["vxe-input--date-festival--overlap",`overlap--${e.length}`]},e.map(e=>y("span",e.substring(0,3)))):y("span",{class:"vxe-input--date-festival--label"},e[0].substring(0,3))]))}return i}return[`${n||""}`]},Bt=()=>{const{datePanelType:t}=E;switch(t){case"week":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=ge.value,a=Ce.value,i=J.value,s="yyyyMMdd";return[y("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("thead",[y("tr",r.map(e=>y("th",e.label)))]),y("tbody",a.map(e=>{const n=t?e.some(e=>i.some(t=>np.isDateSame(t,e.date,s))):e.some(e=>np.isDateSame(l,e.date,s)),r=e.some(e=>np.isDateSame(o,e.date,s));return y("tr",e.map(e=>y("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":wt(e),"is--selected":n,"is--hover":r},onClick:()=>Ct(e),onMouseenter:()=>Ot(e)},_t(e,e.label))))}))])]})();case"month":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=xe.value,a=J.value,i="yyyyMM";return[y("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tbody",r.map(e=>y("tr",e.map(e=>y("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":wt(e),"is--selected":t?a.some(t=>np.isDateSame(t,e.date,i)):np.isDateSame(l,e.date,i),"is--hover":np.isDateSame(o,e.date,i)},onClick:()=>Ct(e),onMouseenter:()=>Ot(e)},_t(e,Qp(`vxe.input.date.months.m${e.month}`)))))))])]})();case"quarter":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=he.value,a=J.value,i="yyyyq";return[y("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tbody",r.map(e=>y("tr",e.map(e=>y("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":wt(e),"is--selected":t?a.some(t=>np.isDateSame(t,e.date,i)):np.isDateSame(l,e.date,i),"is--hover":np.isDateSame(o,e.date,i)},onClick:()=>Ct(e),onMouseenter:()=>Ot(e)},_t(e,Qp(`vxe.input.date.quarters.q${e.quarter}`)))))))])]})();case"year":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=fe.value,a=J.value,i="yyyy";return[y("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tbody",r.map(e=>y("tr",e.map(e=>y("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":wt(e),"is--selected":t?a.some(t=>np.isDateSame(t,e.date,i)):np.isDateSame(l,e.date,i),"is--hover":np.isDateSame(o,e.date,i)},onClick:()=>Ct(e),onMouseenter:()=>Ot(e)},_t(e,e.year))))))])]})()}return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=me.value,a=ye.value,i=J.value,s="yyyyMMdd";return[y("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("thead",[y("tr",r.map(e=>y("th",e.label)))]),y("tbody",a.map(e=>y("tr",e.map(e=>y("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":wt(e),"is--selected":t?i.some(t=>np.isDateSame(t,e.date,s)):np.isDateSame(l,e.date,s),"is--hover":np.isDateSame(o,e.date,s)},onClick:()=>Ct(e),onMouseenter:()=>Ot(e)},_t(e,e.label))))))])]})()},zt=()=>{const{multiple:t}=e,{datePanelType:n}=E,o=le.value,l=re.value,r=ue.value;return[y("div",{class:"vxe-input--date-picker-header"},[y("div",{class:"vxe-input--date-picker-type-wrapper"},["year"===n?y("span",{class:"vxe-input--date-picker-label"},r.y):y("span",{class:"vxe-input--date-picker-btns"},[y("span",{class:"vxe-input--date-picker-btn",onClick:ft},r.y),r.m?y("span",{class:"vxe-input--date-picker-btn",onClick:vt},r.m):Rm()])]),y("div",{class:"vxe-input--date-picker-btn-wrapper"},[y("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":o}],onClick:ht},[y("i",{class:"vxe-icon-caret-left"})]),y("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:bt},[y("i",{class:"vxe-icon-dot"})]),y("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":l}],onClick:xt},[y("i",{class:"vxe-icon-caret-right"})]),t&&Q.value?y("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[y("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:It},Qp("vxe.button.confirm"))]):null])]),y("div",{class:"vxe-input--date-picker-body"},Bt())]},jt=()=>{const{datetimePanelValue:e}=E,t=ae.value,n=Se.value,o=De.value,l=Ee.value,r=Te.value,a=Oe.value;return[y("div",{class:"vxe-input--time-picker-header"},[o?y("span",{class:"vxe-input--time-picker-title"},t):x(),y("div",{class:"vxe-input--time-picker-btn"},[y("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:It},Qp("vxe.button.confirm"))])]),y("div",{ref:I,class:"vxe-input--time-picker-body"},[y("ul",{class:"vxe-input--time-picker-hour-list"},n.map((t,n)=>y("li",{key:n,class:{"is--selected":e&&e.getHours()===t.value},onClick:e=>((e,t)=>{E.datetimePanelValue.setHours(t.value),Rt(e)})(e,t)},t.label))),o?y("ul",{class:"vxe-input--time-picker-minute-list"},l.map((t,n)=>y("li",{key:n,class:{"is--selected":e&&e.getMinutes()===t.value},onClick:e=>((e,t)=>{E.datetimePanelValue.setMinutes(t.value),Rt(e)})(e,t)},t.label))):x(),o&&r?y("ul",{class:"vxe-input--time-picker-second-list"},a.map((t,n)=>y("li",{key:n,class:{"is--selected":e&&e.getSeconds()===t.value},onClick:e=>((e,t)=>{E.datetimePanelValue.setSeconds(t.value),Rt(e)})(e,t)},t.label))):x()])]},Ht=()=>{const{type:t}=e,{initialized:n,isAniVisible:o,visiblePanel:l,panelPlacement:r,panelStyle:a}=E,i=C.value,s=V.value,c=[];return W.value?("datetime"===t?c.push(y("div",{key:t,ref:R,class:"vxe-input--panel-layout-wrapper"},[y("div",{class:"vxe-input--panel-left-wrapper"},zt()),y("div",{class:"vxe-input--panel-right-wrapper"},jt())])):"time"===t?c.push(y("div",{key:t,ref:R,class:"vxe-input--panel-wrapper"},jt())):c.push(y("div",{key:t||"default",ref:R,class:"vxe-input--panel-wrapper"},zt())),y(S,{to:"body",disabled:!s||!n},[y("div",{ref:k,class:["vxe-table--ignore-clear vxe-input--panel",`type--${t}`,{[`size--${i}`]:i,"is--transfer":s,"ani--leave":o,"ani--enter":l}],placement:r,style:a},l||o?c:[])])):x()},Wt=()=>{const{controls:t}=e,n=z.value,o=W.value,l=q.value,r=G.value;return l?(()=>{const{showPwd:e}=E;return y("div",{class:"vxe-input--control-icon",onClick:tt},[y("i",{class:["vxe-input--password-icon",e?Mp().PASSWORD_INPUT_SHOW_PWD:Mp().PASSWORD_INPUT_HIDE_PWD]})])})():n&&t?(()=>{const e=Ae.value,t=Me.value;return y("div",{class:"vxe-input--control-icon"},[y("div",{class:"vxe-input--number-icon"},[y("div",{class:["vxe-input--number-btn is--prev",{"is--disabled":e}],onMousedown:dt,onMouseup:ct,onMouseleave:ct},[y("i",{class:Mp().INPUT_PLUS_NUM})]),y("div",{class:["vxe-input--number-btn is--next",{"is--disabled":t}],onMousedown:dt,onMouseup:ct,onMouseleave:ct},[y("i",{class:Mp().INPUT_MINUS_NUM})])])])})():o?y("div",{class:"vxe-input--control-icon",onClick:Mt},[y("i",{class:["vxe-input--date-picker-icon",Mp().DATE_PICKER_DATE]})]):r?y("div",{class:"vxe-input--control-icon",onClick:nt},[y("i",{class:["vxe-input--search-icon",Mp().INPUT_SEARCH]})]):x()};M={dispatchEvent:(e,t,n)=>{a(e,zp(n,{$input:F},t))},focus(){const e=O.value;return E.isActivated=!0,e.focus(),t()},blur:()=>(O.value.blur(),E.isActivated=!1,t()),select:()=>(O.value.select(),E.isActivated=!1,t()),showPanel:Ft,hidePanel:We,updatePlacement:Pt},Object.assign(F,M);return i(()=>e.modelValue,e=>{E.inputValue=e,Ke()}),i(()=>e.type,()=>{Object.assign(E,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),Ye()}),i(se,()=>{W.value&&(Ue(E.datePanelValue),E.inputValue=e.multiple?te.value:E.datePanelLabel)}),f(()=>{jp.on(F,"mousewheel",Nt),jp.on(F,"mousedown",Vt),jp.on(F,"keydown",$t),jp.on(F,"blur",Lt)}),s(()=>{ct(),et(),jp.off(F,"mousewheel"),jp.off(F,"mousedown"),jp.off(F,"keydown"),jp.off(F,"blur")}),Ye(),F.renderVN=()=>{const{className:t,controls:n,type:o,align:r,showWordCount:a,countMethod:i,name:s,autoComplete:c,autocomplete:u}=e,{inputValue:d,visiblePanel:p,isActivated:m}=E,g=C.value,f=L.value;if($.value)return y("div",{ref:T,class:["vxe-input--readonly",`type--${o}`,t]},d);const v=H.value,h=j.value,b=ke.value,w=_.value,S=Re.value,D=Ie.value,k=Y.value,R=a&&["text","search"].includes(o),I=(()=>{const{prefixIcon:t}=e,n=l.prefix;return n||t?y("div",{class:"vxe-input--prefix",onClick:He},[y("div",{class:"vxe-input--prefix-icon"},n?Gm(n({})):[y("i",{class:t})])]):null})(),P=(()=>{const{suffixIcon:t}=e,{inputValue:n}=E,o=l.suffix,r=L.value,a=z.value,i=W.value,s=q.value,c=G.value,u=Y.value,d=s||a||i||c;return u||o||t||d?y("div",{class:["vxe-input--suffix",{"is--clear":u&&!r&&!(""===n||np.eqNull(n))}]},[u?y("div",{class:"vxe-input--clear-icon",onClick:qe},[y("i",{class:Mp().INPUT_CLEAR})]):x(),d?Wt():x(),o||t?y("div",{class:"vxe-input--suffix-icon",onClick:Ge},o?Gm(o({})):[y("i",{class:t})]):x()]):null})();return y("div",{ref:T,class:["vxe-input",`type--${o}`,t,{[`size--${g}`]:g,[`is--${r}`]:r,"is--controls":n,"is--prefix":!!I,"is--suffix":!!P,"is--visible":p,"is--count":R,"is--disabled":f,"is--active":m,"show--clear":k&&!f&&!(""===d||np.eqNull(d))}],spellcheck:!1},[I||x(),y("div",{class:"vxe-input--wrapper"},[y("input",{ref:O,class:"vxe-input--inner",value:d,name:s,type:S,placeholder:D,maxlength:w,readonly:b,disabled:f,autocomplete:c||u,onKeydown:it,onKeyup:st,onWheel:pt,onClick:At,onInput:_e,onChange:Be,onFocus:je,onBlur:ze})]),P||x(),Ht(),R?y("span",{class:["vxe-input--count",{"is--error":v}]},i?`${i({value:d})}`:`${h}${w?`/${w}`:""}`):x()])},F},render(){return this.renderVN()}}),Uf=Pm({name:"VxeColorPicker",props:{modelValue:String,placeholder:String,clearable:{type:Boolean,default:()=>Rp().colorPicker.clearable},type:{type:String,default:()=>Rp().colorPicker.type},size:{type:String,default:()=>Rp().colorPicker.size||Rp().size},className:[String,Function],popupClassName:[String,Function],colors:{type:Array,default:()=>np.clone(Rp().colorPicker.colors,!0)||[]},showAlpha:{type:Boolean,default:()=>Rp().colorPicker.showAlpha},showEyeDropper:{type:Boolean,default:()=>Rp().colorPicker.showEyeDropper},showColorExtractor:{type:Boolean,default:()=>Rp().colorPicker.showColorExtractor},showQuick:{type:Boolean,default:()=>Rp().colorPicker.showQuick},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},clickToCopy:{type:Boolean,default:()=>Rp().colorPicker.clickToCopy},placement:String,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","click"],setup(e,o){const{emit:l}=o,a=n("$xeModal",null),s=n("$xeDrawer",null),c=n("$xeTable",null),u=n("$xeForm",null),d=n("xeFormItemInfo",null),p="undefined"!=typeof window?window.EyeDropper:null,h=np.uniqueId(),{computeSize:x}=ym(e),w=r(),C=r(),E=r(),D=r(),T=r(),O=r(),k=r(),R=r(),I=r(),P=m({initialized:!1,selectColor:`${e.modelValue||""}`,panelColor:"",hexValue:"",rValue:0,gValue:0,bValue:0,aValue:0,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),F={},M=g(()=>{const{readonly:t}=e;return null===t?!!u&&u.props.readonly:t}),A=g(()=>{const{disabled:t}=e;return null===t?!!u&&u.props.disabled:t}),V=g(()=>{const{transfer:t}=e;if(null===t){const e=Rp().colorPicker.transfer;if(np.isBoolean(e))return e;if(c||a||s||u)return!0}return t}),$=g(()=>{const{colors:t}=e;return t?t.map(e=>np.isString(e)?{label:e,value:e}:{label:np.eqNull(e.label)?e.value:e.label,value:e.value}):[]}),N=g(()=>{const{type:t}=e;return"rgb"===t||"rgba"===t?"rgb":"hex"}),L=g(()=>"rgb"===N.value),_={refElem:w},B={},z={xID:h,props:e,context:o,reactData:P,getRefMaps:()=>_,getComputeMaps:()=>B},j=()=>{const{modelValue:t}=e;P.selectColor=np.toValueString(t),H()},H=()=>{const{selectColor:e,isAniVisible:t}=P,n=L.value,o=D.value,l=O.value,r=_f(e);if(P.hexValue=r.hex,P.rValue=r.r,P.gValue=r.g,P.bValue=r.b,P.aValue=r.a,r.value)if(n){if("hex"===r.type){const e=Hf(r.hex);e&&(P.rValue=e.r,P.gValue=e.g,P.bValue=e.b,P.aValue=e.a)}}else"hex"!==r.type&&(P.hexValue=function(e){if(!e)return"";const{r:t,g:n,b:o,a:l=1}=e;return`#${t.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}${1===l?"":$f[l]||""}`.toUpperCase()}(r));if(t){const e="hex"===r.type?jf(r.hex):zf(r),t=R.value;if(e){if(t){const n=t.clientHeight*(1-e.v),o=t.clientWidth*e.s;ie(o,n)}o&&J(np.ceil((1-e.h/360)*o.clientWidth))}l&&ne(l.clientWidth*r.a)}},W=()=>{const{placement:n}=e,{panelIndex:o}=P,l=w.value,r=E.value,a=V.value,i=()=>{const e=gg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});P.panelStyle=t,P.panelPlacement=e.placement};return i(),t().then(i)},q=()=>{const{hpTimeout:e}=F;A.value||(e&&(clearTimeout(e),F.hpTimeout=void 0),P.initialized||(P.initialized=!0),P.isActivated=!0,P.isAniVisible=!0,setTimeout(()=>{H(),P.visiblePanel=!0},10),P.panelIndex<Vg()&&(P.panelIndex=Ag()),W())},G=()=>{P.visiblePanel=!1,F.hpTimeout=setTimeout(()=>{P.isAniVisible=!1},350)},U=(t,n)=>{P.selectColor=n,n!==e.modelValue&&((e=>{l("update:modelValue",e)})(n),fe("change",{value:n},t),u&&d&&u.triggerItemEvent(t,d.itemConfig.field,n))},K=()=>{A.value||P.visiblePanel||q()},Y=()=>{P.isActivated=!1},X=e=>{((e,t)=>{U(e,t),fe("clear",{value:t},e)})(e,null),G()},Z=e=>{const{selectColor:t}=P;U(e,t),G()},Q=e=>{(e=>{e.preventDefault(),P.visiblePanel?G():q()})(e),fe("click",{},e)},J=e=>{const t=D.value,n=T.value;if(t&&n){e<0&&(e=0);const o=np.toInteger(t.clientWidth),l=255,r=6*l,a=np.ceil(r/o*e),i=a%l;let s=0,c=0,u=0;switch(Math.ceil(a/l)){case 1:s=l,u=i;break;case 2:s=l-i,u=l;break;case 3:c=i,u=l;break;case 4:c=l,u=l-i;break;case 5:s=i,c=l;break;case 6:s=l,c=l-i}P.panelColor=Bf(s,c,u),n.style.left=ag(e)}},ee=e=>{const t=D.value,n=T.value;if(t&&n){const n=t.getBoundingClientRect(),o=np.toInteger(t.clientWidth),l=np.ceil(Math.min(o-1,Math.max(1,e.clientX-n.x)));J(l)}},te=e=>{e.preventDefault(),document.onmousemove=e=>{e.preventDefault(),ee(e)},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,ee(e)}},ne=e=>{const{selectColor:t}=P,n=O.value,o=k.value;if(n&&o){const l=n.getBoundingClientRect().width;e<0&&(e=0),e>l&&(e=l);const r=np.ceil(100/l*e/100,2);P.aValue=r,o.style.left=ag(e),P.selectColor=function(e,t=1){const n=_f(e),{type:o,hexV:l,r:r,g:a,b:i}=n;return"rgb"===o||"rgba"===o?Bf(r,a,i,t):"hex"===o?`#${l}${1===t?"":$f[t]||""}`:""}(t,r)}},oe=e=>{const t=O.value,n=k.value;if(t&&n){const n=t.getBoundingClientRect(),o=n.width,l=Math.min(o,Math.max(0,e.clientX-n.x));ne(l),H()}},le=e=>{e.preventDefault(),document.onmousemove=e=>{e.preventDefault(),oe(e)},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,oe(e)}},re=()=>{const{rValue:e,gValue:t,bValue:n,aValue:o}=P;P.selectColor=Bf(e,t,n,o),H()},ae=()=>{const{aValue:e}=P,t=O.value,n=k.value;if(t&&n){const n=t.getBoundingClientRect().width;ne(n*e)}},ie=(e,t)=>{const n=I.value;n&&(n.style.top=ag(t),n.style.left=ag(e))},se=()=>{if(p)try{(new p).open().then(e=>{e&&e.sRGBHex&&(P.selectColor=e.sRGBHex,H())}).catch(()=>{})}catch(e){}},ce=t=>{const{showAlpha:n}=e,{panelColor:o,aValue:l}=P,r=R.value,a=I.value;if(r&&a){const e=r.getBoundingClientRect(),a=t.clientY-e.y,i=t.clientX-e.x,s=_f(o);if(s){const e="hex"===s.type?jf(s.hex):zf(s);if(e){const t=function(e,t,n){let o=0,l=0,r=0;const a=Math.floor(e/60),i=e/60-a,s=n*(1-t),c=n*(1-i*t),u=n*(1-(1-i)*t);switch(a){case 0:o=n,l=u,r=s;break;case 1:o=c,l=n,r=s;break;case 2:o=s,l=n,r=u;break;case 3:o=s,l=c,r=n;break;case 4:o=u,l=s,r=n;break;case 5:o=n,l=s,r=c}return{r:Math.round(255*o),g:Math.round(255*l),b:Math.round(255*r)}}(e.h,i/r.clientWidth,1-a/r.clientHeight);P.selectColor=Bf(t.r,t.g,t.b,n?l:null),ie(i,a),H()}}}},ue=()=>{const{selectColor:e}=P;e&&Im.clipboard.copy(e)&&Im.modal&&Im.modal.message({content:Qp("vxe.colorPicker.copySuccess",[e]),status:"success"})},de=e=>{const{visiblePanel:t}=P;if(!A.value&&t){sg(e,E.value).flag?W():G()}},pe=e=>{const{visiblePanel:t}=P;if(!A.value){const n=w.value,o=E.value;P.isActivated=sg(e,n).flag||sg(e,o).flag,t&&!P.isActivated&&G()}},me=()=>{G()},ge=()=>{const{visiblePanel:e}=P;e&&W()},fe=(e,t,n)=>{l(e,zp(n,{$colorPicker:z},t))},ve={dispatchEvent:fe};Object.assign(z,ve,{});const he=()=>{const{showColorExtractor:t}=e,{panelColor:n}=P;return t?y("div",{ref:R,class:"vxe-color-picker--color-wrapper",onMousedown:ce},[y("div",{class:"vxe-color-picker--color-bg",style:{backgroundColor:n}}),y("div",{class:"vxe-color-picker--white-bg"}),y("div",{class:"vxe-color-picker--black-bg"}),y("div",{ref:I,class:"vxe-color-picker--color-active"})]):Rm()},be=()=>{const{showAlpha:t,clickToCopy:n,showEyeDropper:o}=e,{hexValue:l,rValue:r,gValue:a,bValue:i,aValue:s,selectColor:c,panelColor:u}=P,d=N.value,m=L.value;return y("div",{class:"vxe-color-picker--bar-wrapper"},[y("div",{class:"vxe-color-picker--slider-wrapper"},[o&&p?y("div",{class:"vxe-color-picker--color-dropper"},[y("span",{class:"vxe-color-picker--color-dropper-btn",onClick:se},[y("i",{class:Mp().EYE_DROPPER})])]):Rm(),y("div",{class:"vxe-color-picker--slider-preview"},[y("div",{class:"vxe-color-picker--preview-btn"},[y("div",{class:"vxe-color-picker--preview-color",style:{backgroundColor:c}},n?[y("span",{class:"vxe-color-picker--preview-copy-btn",onClick:ue},[y("i",{class:Mp().COLOR_COPY})])]:[])])]),y("div",{class:"vxe-color-picker--slider-handle"},[y("div",{ref:D,class:"vxe-color-picker--bar-hue-slider",onClick:ee},[y("div",{ref:T,class:"vxe-color-picker--bar-hue-btn",onMousedown:te})]),t?y("div",{ref:O,class:"vxe-color-picker--bar-alpha-slider",onClick:oe},[y("div",{class:"vxe-color-picker--bar-alpha-bg",style:{background:`linear-gradient(to right, rgba(0, 0, 0, 0), ${u})`}}),y("div",{ref:k,class:"vxe-color-picker--bar-alpha-btn",onMousedown:le})]):Rm()])]),y("div",{class:`vxe-color-picker--${d}-wrapper`},m?[y("div",{class:"vxe-color-picker--input-wrapper"},[y(Gf,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:r,"onUpdate:modelValue"(e){P.rValue=e},onChange:re}),y(Gf,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:a,"onUpdate:modelValue"(e){P.gValue=e},onChange:re}),y(Gf,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:i,"onUpdate:modelValue"(e){P.bValue=e},onChange:re}),y(Gf,{type:"number",size:"mini",align:"center",min:0,max:1,step:.01,maxLength:4,placeholder:"",modelValue:s,"onUpdate:modelValue"(e){P.aValue=e},onChange:ae})]),y("div",{class:"vxe-color-picker--input-title"},[y("span","R"),y("span","G"),y("span","B"),y("span","A")])]:[y("div",{class:"vxe-color-picker--input-title"},"HEX"),y("div",{class:"vxe-color-picker--input-wrapper"},[y(Gf,{type:"text",size:"mini",align:"center",maxLength:9,placeholder:"",modelValue:l,"onUpdate:modelValue"(e){P.hexValue=e},onChange(){const e=_f(P.hexValue);e&&e.value&&(P.selectColor=e.value,H())}})])])])},xe=()=>{const{showQuick:t}=e,n=$.value;return t&&n.length?y("div",{class:"vxe-color-picker--quick-wrapper"},n.map((e,t)=>y("div",{key:t,class:"vxe-color-picker--quick-item",title:e.label||"",style:{backgroundColor:e.value},onClick(t){((e,t)=>{const n=t.value;P.selectColor=n,H()})(0,e)}}))):Rm()};return i(()=>e.modelValue,()=>{j()}),f(()=>{jp.on(z,"mousewheel",de),jp.on(z,"mousedown",pe),jp.on(z,"blur",me),jp.on(z,"resize",ge)}),v(()=>{jp.off(z,"mousewheel"),jp.off(z,"mousedown"),jp.off(z,"blur"),jp.off(z,"resize")}),j(),b("$xeColorPicker",z),z.renderVN=()=>{const{className:t,popupClassName:n,clearable:o,modelValue:l}=e,{initialized:r,isActivated:a,isAniVisible:i,visiblePanel:s}=P,c=x.value,u=A.value,d=V.value;return M.value?y("div",{ref:w,class:["vxe-color-picker--readonly",t]},[y("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:l}})]):y("div",{ref:w,class:["vxe-color-picker",t?np.isFunction(t)?t({$colorPicker:z}):t:"",{[`size--${c}`]:c,"is--selected":!!l,"is--visible":s,"is--disabled":u,"is--active":a}]},[y("input",{ref:C,class:"vxe-color-picker--input",onFocus:K,onBlur:Y}),y("div",{class:"vxe-color-picker--inner",onClick:Q},[y("div",{class:"vxe-color-picker--inner-color",style:{backgroundColor:l}})]),y(S,{to:"body",disabled:!d||!r},[y("div",{ref:E,class:["vxe-table--ignore-clear vxe-color-picker--panel",n?np.isFunction(n)?n({$colorPicker:z}):n:"",{[`size--${c}`]:c,"is--transfer":d,"ani--leave":i,"ani--enter":s}],placement:P.panelPlacement,style:P.panelStyle},[r&&(s||i)?y("div",{class:"vxe-color-picker--panel-wrapper"},[he(),be(),xe(),y("div",{class:"vxe-color-picker--footer-wrapper"},[o?y(zg,{content:Qp("vxe.colorPicker.clear"),size:"mini",onClick:X}):Rm(),y(zg,{content:Qp("vxe.colorPicker.confirm"),size:"mini",status:"primary",onClick:Z})])]):Rm()])])])},z},render(){return this.renderVN()}}),Kf=Object.assign({},Uf,{install(e){e.component(Uf.name,Uf)}});Am.use(Kf),Im.component(Uf);const Yf=Kf,Xf=Pm({name:"VxeText",props:{status:String,title:[String,Number],icon:String,loading:Boolean,content:[String,Number],clickToCopy:Boolean,size:{type:String,default:()=>Rp().text.size||Rp().size}},emits:["click"],setup(e,t){const{emit:n,slots:o}=t,l=np.uniqueId(),{computeSize:a}=ym(e),i=r(),s=r(),c=m({}),u={refElem:i},d={},p=()=>{const{content:t,clickToCopy:n}=e;if(n){const e=s.value,n=(e?e.textContent:"")||t;n&&(Im.clipboard.copy(n)?Im.modal&&Im.modal.message({content:Qp("vxe.text.copySuccess"),status:"success"}):Im.modal&&Im.modal.message({content:Qp("vxe.text.copyError"),status:"error"}))}},g={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},f=(e,t,o)=>{n(e,zp(o,{$text:g},t))},v={dispatchEvent:f},h=t=>{const{loading:n}=e;n||f("click",{},t)};Object.assign(g,v,{});return g.renderVN=()=>{const{loading:t,status:n,title:l,clickToCopy:r}=e,c=a.value;return y("span",{ref:i,title:l,class:["vxe-text",{[`size--${c}`]:c,[`theme--${n}`]:n,"is--copy":r,"is--loading":t}],onClick:h},(()=>{const{loading:t,icon:n,content:l,clickToCopy:r}=e,a=o.default,i=o.icon;return[t?y("span",{class:"vxe-text--loading"},[y("i",{class:Mp().TEXT_LOADING})]):i||n||r?y("span",{class:"vxe-text--icon",onClick:p},i?Gm(i({})):[y("i",{class:n||Mp().TEXT_COPY})]):x(),y("span",{ref:s,class:"vxe-text--content"},a?a({}):np.toValueString(l))]})())},g},render(){return this.renderVN()}}),Zf=Pm({name:"VxeCountdown",props:{modelValue:[Number,String],format:String,prefixConfig:Object,suffixConfig:Object,size:{type:String,default:()=>Rp().countdown.size||Rp().size}},emits:["update:modelValue","start","end"],setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId(),a=r(),{computeSize:s}=ym(e),c=m({currNum:0,secondNum:0}),u={dnTimeout:void 0},d={refElem:a},p=g(()=>{const{secondNum:e}=c;return e>=316224e5?["yyyy","MM","dd","HH","mm","ss"]:e>=26784e5?["MM","dd","HH","mm","ss"]:e>=864e5?["dd","HH","mm","ss"]:e>=36e5?["HH","mm","ss"]:e>=6e4?["mm","ss"]:["ss"]}),h=g(()=>{const{currNum:e}=c;return np.getDateDiff(Date.now(),Date.now()+e)}),b=g(()=>{const{format:t}=e,n=h.value;let o="";return t?(o=`${t}`,np.each(n,(e,t)=>{o=o.replace(new RegExp(t,"g"),np.padStart(e,t.length,"0"))}),o):o}),x=g(()=>Object.assign({},e.prefixConfig,Rp().countdown.prefixConfig)),w=g(()=>Object.assign({},e.suffixConfig,Rp().countdown.suffixConfig)),C={computeSize:s},S={xID:l,props:e,context:t,reactData:c,internalData:u,getRefMaps:()=>d,getComputeMaps:()=>C},E=(e,t,n)=>{o(e,zp(n,{$carousel:S},t))},D=()=>{const t=np.toNumber(e.modelValue||0);c.secondNum=t,c.currNum=t},T=()=>{const{currNum:e}=c;e>1e3?(c.currNum-=1e3,u.dnTimeout=setTimeout(()=>{T()},1e3)):(c.currNum=0,R())},O={dispatchEvent:E},k=()=>{E("start",{},null),T()},R=()=>{const{dnTimeout:e}=u;e&&(clearTimeout(e),u.dnTimeout=void 0,E("end",{},null))};Object.assign(S,O,{});const I=()=>{const{format:t}=e,n=p.value,o=h.value,l=b.value;return t?[y("div",{key:"format",class:"vxe-countdown--content-format"},l)]:n.map((e,t)=>y("div",{key:t,class:"vxe-countdown--content-item"},[y("div",{class:"vxe-countdown--content-num"},`${o[e]||0}`),y("div",{class:"vxe-countdown--content-unit"},Qp(`vxe.countdown.formats.${e}`))]))};return i(()=>e.modelValue,()=>{D(),R(),k()}),v(()=>{R()}),f(()=>{k()}),D(),S.renderVN=()=>{const{prefixConfig:t,suffixConfig:o}=e,{currNum:l}=c,r=s.value,i=h.value,u=x.value,d=w.value,p=n.prefix,m=n.suffix,g=n.default;return y("div",{ref:a,class:["vxe-countdown",i.done?"is--progress":"is-end",{[`size--${r}`]:r}]},[p||t?y("div",{class:"vxe-countdown--prefix"},p?Gm(p({currentValue:l,diffConf:i})):[y(Xf,{content:u.content,icon:u.icon,status:u.status})]):Rm(),y("div",{class:"vxe-countdown--content"},g?Gm(g({currentValue:l,diffConf:i})):I()),m||o?y("div",{class:"vxe-countdown--suffix"},m?Gm(m({currentValue:l,diffConf:i})):[y(Xf,{content:d.content,icon:d.icon,status:d.status})]):Rm()])},S},render(){return this.renderVN()}}),Qf=Object.assign({},Zf,{install(e){e.component(Zf.name,Zf)}});Am.use(Qf),Im.component(Zf);const Jf=Qf,ev=Pm({name:"VxeDatePanel",props:{modelValue:[String,Number,Date],type:{type:String,default:"date"},className:String,size:{type:String,default:()=>Rp().datePanel.size||Rp().size},multiple:Boolean,limitCount:{type:[String,Number],default:()=>Rp().datePanel.limitCount},startDate:{type:[String,Number,Date],default:()=>Rp().datePanel.startDate},endDate:{type:[String,Number,Date],default:()=>Rp().datePanel.endDate},defaultDate:[String,Number,Date],minDate:[String,Number,Date],maxDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>Rp().datePanel.startDay},labelFormat:String,valueFormat:String,timeFormat:String,festivalMethod:{type:Function,default:()=>Rp().datePanel.festivalMethod},disabledMethod:{type:Function,default:()=>Rp().datePanel.disabledMethod},selectDay:{type:[String,Number],default:()=>Rp().datePanel.selectDay}},emits:["update:modelValue","change","click","clear","date-prev","date-today","date-next","confirm"],setup(e,n){const{emit:o}=n,l=np.uniqueId(),{computeSize:a}=ym(e),s=m({visiblePanel:!1,isAniVisible:!1,isActivated:!1,inputValue:"",datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),c={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0},u=r(),d=r(),p=r(),f={refElem:u},v={xID:l,props:e,context:n,reactData:s,internalData:c,getRefMaps:()=>f},h=g(()=>{const{type:t}=e;return"time"===t||"datetime"===t}),b=g(()=>h.value||["date","week","month","quarter","year"].indexOf(e.type)>-1),x=g(()=>e.startDate?np.toStringDate(e.startDate):null),w=g(()=>e.endDate?np.toStringDate(e.endDate):null),C=g(()=>{const{modelValue:t,multiple:n}=e,o=b.value,l=O.value;return n&&t&&o?np.toValueString(t).split(",").map(e=>{const t=ee(e,l);return np.isValidDate(t),t}):[]}),S=g(()=>{const e=C.value,t=O.value;return e.map(e=>np.toDateString(e,t))}),E=g(()=>{const e=C.value,t=M.value;return e.map(e=>np.toDateString(e,t)).join(", ")}),D=g(()=>e.multiple?np.toNumber(e.limitCount):0),T=g(()=>{const{multiple:t}=e,n=D.value,o=S.value;return!(!t||!n)&&o.length>=n}),O=g(()=>{const{type:t,valueFormat:n}=e;return Yg(t,n)}),k=g(()=>{const{modelValue:t}=e,n=b.value,o=O.value;let l=null;if(t&&n){const e=ee(t,o);np.isValidDate(e)&&(l=e)}return l}),R=g(()=>{const e=x.value,{selectMonth:t}=s;return!(!t||!e)&&t<=e}),I=g(()=>{const e=w.value,{selectMonth:t}=s;return!(!t||!e)&&np.getWhatMonth(t,0,"last")>=e}),P=g(()=>{const{datetimePanelValue:e}=s,t=Z.value,n=X.value;return e?np.toDateString(e,n&&t?"HH:mm:ss":n?"HH:mm":"HH"):""}),F=g(()=>{const e=k.value,t=h.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0}),M=g(()=>{const{labelFormat:t}=e;return b.value?t||Qp(`vxe.input.date.labelFormat.${e.type}`):""}),A=g(()=>{const{yearSize:e}=c,{selectMonth:t,currentDate:n}=s,o=[];if(t&&n){const l=n.getFullYear(),r=t.getFullYear(),a=new Date(r-r%e,0,1);for(let t=-4;t<e+4;t++){const n=np.getWhatYear(a,t,"first"),r=n.getFullYear();o.push({date:n,isCurrent:!0,isPrev:t<0,isNow:l===r,isNext:t>=e,year:r})}}return o}),V=g(()=>{let e="",t="";if(b.value){const{datePanelType:n,selectMonth:o}=s,l=A.value;let r,a="";o&&(a=o.getFullYear(),r=o.getMonth()+1),"quarter"===n||"month"===n?e=Qp("vxe.datePicker.yearTitle",[a]):"year"===n?e=l.length?`${l[0].year} - ${l[l.length-1].year}`:"":(e=Qp("vxe.datePicker.yearTitle",[a]),t=r?Qp(`vxe.input.date.m${r}`):"-")}return{y:e,m:t}}),$=g(()=>{const{startDay:t}=e;return np.toNumber(t)}),N=g(()=>{const e=[];if(b.value){let t=$.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e}),L=g(()=>{if(b.value){return N.value.map(e=>({value:e,label:Qp(`vxe.input.date.weeks.w${e}`)}))}return[]}),_=g(()=>{if(b.value){const e=L.value;return[{label:Qp("vxe.input.date.weeks.w")}].concat(e)}return[]}),B=g(()=>{const e=A.value;return np.chunk(e,4)}),z=g(()=>{const{quarterSize:e}=c,{selectMonth:t,currentDate:n}=s,o=[];if(t&&n){const l=n.getFullYear(),r=Zg(n),a=np.getWhatYear(t,0,"first"),i=a.getFullYear();for(let t=-2;t<e-2;t++){const e=np.getWhatQuarter(a,t),n=e.getFullYear(),s=Zg(e),c=n<i;o.push({date:e,isPrev:c,isCurrent:n===i,isNow:n===l&&s===r,isNext:!c&&n>i,quarter:s})}}return o}),j=g(()=>{const e=z.value;return np.chunk(e,2)}),H=g(()=>{const{monthSize:e}=c,{selectMonth:t,currentDate:n}=s,o=[];if(t&&n){const l=n.getFullYear(),r=n.getMonth(),a=np.getWhatYear(t,0,"first").getFullYear();for(let n=-4;n<e-4;n++){const e=np.getWhatYear(t,0,n),i=e.getFullYear(),s=e.getMonth(),c=i<a;o.push({date:e,isPrev:c,isCurrent:i===a,isNow:i===l&&s===r,isNext:!c&&i>a,month:s})}}return o}),W=g(()=>{const e=H.value;return np.chunk(e,4)}),q=g(()=>{const{selectMonth:e,currentDate:t}=s,n=[];if(e&&t){const o=F.value,l=N.value,r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-l.indexOf(u),p=new Date(np.getWhatDay(e,d).getTime()+o);for(let t=0;t<42;t++){const o=np.getWhatDay(p,t),l=o.getFullYear(),u=o.getMonth(),d=o.getDate(),m=o<e;n.push({date:o,isPrev:m,isCurrent:l===s&&u===c,isNow:l===r&&u===a&&d===i,isNext:!m&&c!==u,label:d})}}return n}),G=g(()=>{const e=q.value;return np.chunk(e,7)}),U=g(()=>{const e=G.value,t=$.value;return e.map(e=>{const n=e[0];return[{date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:np.getYearWeek(n.date,t)}].concat(e)})}),K=g(()=>{const e=[];if(h.value)for(let t=0;t<24;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e}),Y=g(()=>{const e=[];if(h.value)for(let t=0;t<60;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e}),X=g(()=>{const{timeFormat:t}=e,n=O.value;return!/HH/.test(t||n)||/mm/.test(t||n)}),Z=g(()=>{const{timeFormat:t}=e,n=O.value;return!/HH/.test(t||n)||/ss/.test(t||n)}),Q=g(()=>Y.value),J=t=>{const{type:n}=e,o=O.value;s.inputValue=Qg(t,n,{valueFormat:o}),Ce()},ee=(t,n)=>{const{type:o,multiple:l}=e;return"time"===o?Xg(t):np.isArray(t)?np.toStringDate(t[0],n):np.isString(t)?np.toStringDate(l?np.last(t.split(",")):t,n):np.toStringDate(t,n)},te=t=>{const{type:n}=e,{inputValue:o,datetimePanelValue:l}=s,r=M.value;if(t){let a=ee(t,r);if(np.isValidDate(a))if("time"===n)a=np.toDateString(a,r),o!==a&&ne(a,{type:"check"}),s.inputValue=a;else{let e=!1;const o=$.value;if("datetime"===n){const n=k.value;t===np.toDateString(n,r)&&t===np.toDateString(a,r)||(e=!0,l&&(l.setHours(a.getHours()),l.setMinutes(a.getMinutes()),l.setSeconds(a.getSeconds())))}else e=!0;s.inputValue=np.toDateString(a,r,{firstDay:o}),e&&se(a)}else s.inputValue=e.multiple?E.value:s.datePanelLabel}else ne("",{type:"check"})},ne=(t,n)=>{const{type:l,modelValue:r,valueFormat:a}=e,i=O.value;if(s.inputValue=t,Ug(a)){const e=Qg(t,l,{valueFormat:i}),a=e?e.getTime():null;o("update:modelValue",a),r!==a&&Se("change",{value:a},n)}else if(Kg(a)){const e=Qg(t,l,{valueFormat:i});o("update:modelValue",e),(r&&e?np.toStringDate(r).getTime()!==e.getTime():r!==e)&&Se("change",{value:e},n)}else o("update:modelValue",t),np.toValueString(r)!==t&&Se("change",{value:t},n)},oe=()=>new Promise(e=>{s.visiblePanel=!1,c.hpTimeout=setTimeout(()=>{s.isAniVisible=!1,e()},350)}),le=t=>{const{type:n}=e,o=M.value,l=ef(t,n,{valueFormat:O.value,labelFormat:o,firstDay:$.value});s.datePanelValue=l.value,s.datePanelLabel=l.label},re=()=>{const t=b.value,{inputValue:n}=s;t&&(le(n),s.inputValue=e.multiple?E.value:s.datePanelLabel)},ae=()=>{const{modelValue:t}=e,n=b.value;J(t),n&&re()},ie=e=>{const t=$.value,n=np.getYearWeek(e,t),o=np.getWhatWeek(e,0,t,t),l=np.getWhatMonth(1===n?np.getWhatDay(o,6):e,0,"first");np.isEqual(l,s.selectMonth)||(s.selectMonth=l)},se=(t,n)=>{const{modelValue:o,multiple:l}=e,{datetimePanelValue:r}=s,a=h.value,i=O.value,c=$.value;if("week"===e.type){const n=np.toNumber(e.selectDay);t=np.getWhatWeek(t,0,n,c)}else a&&r&&(t.setHours(r.getHours()),t.setMinutes(r.getMinutes()),t.setSeconds(r.getSeconds()));const u=np.toDateString(t,i,{firstDay:c});if(ie(t),l){const e=T.value;if(a){const o=n?[]:[...C.value],l=[],a=np.findIndexOf(o,e=>np.isDateSame(t,e,"yyyyMMdd"));if(-1===a){if(e)return;o.push(t)}else o.splice(a,1);o.forEach(e=>{e&&(r&&(e.setHours(r.getHours()),e.setMinutes(r.getMinutes()),e.setSeconds(r.getSeconds())),l.push(e))}),ne(l.map(e=>np.toDateString(e,i)).join(","),{type:"update"})}else{const t=n?[]:S.value;if(t.some(e=>np.isEqual(e,u)))ne(t.filter(e=>!np.isEqual(e,u)).join(","),{type:"update"});else{if(e)return;ne(t.concat([u]).join(","),{type:"update"})}}}else np.isEqual(o,u)||ne(u,{type:"update"})},ce=(e,t)=>{const n=$.value,o=np.getYearWeek(e,n),l=np.getWhatWeek(e,0,n,n),r=np.getWhatMonth(1===o?np.getWhatDay(l,6):e,t,"first");s.selectMonth=r},ue=()=>{const{type:t}=e,n=$.value;let o=new Date;switch(t){case"week":o=np.getWhatWeek(o,0,n);break;case"datetime":o=new Date,s.datetimePanelValue=new Date;break;default:o=np.getWhatDay(Date.now(),0,"first")}s.currentDate=o,ce(o,0)},de=()=>{s.datePanelType="year"},pe=()=>{let{datePanelType:e}=s;e="month"===e||"quarter"===e?"year":"month",s.datePanelType=e},me=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l,inputValue:r}=s,{yearSize:a}=c,i=r;if(!R.value){let e;e="year"===n?np.getWhatYear(l,-a,"first"):"month"===n||"quarter"===n?"year"===o?np.getWhatYear(l,-a,"first"):np.getWhatYear(l,-1,"first"):"year"===o?np.getWhatYear(l,-a,"first"):"month"===o?np.getWhatYear(l,-1,"first"):np.getWhatMonth(l,-1,"first"),s.selectMonth=e,Se("date-prev",{viewType:o,viewDate:e,value:i,type:n},t)}},ge=t=>{ue(),se(s.currentDate,!0),e.multiple||oe(),Se("date-today",{type:e.type},t)},fe=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l,inputValue:r}=s,{yearSize:a}=c,i=r;if(!I.value){let e;e="year"===n?np.getWhatYear(l,a,"first"):"month"===n||"quarter"===n?"year"===o?np.getWhatYear(l,a,"first"):np.getWhatYear(l,1,"first"):"year"===o?np.getWhatYear(l,a,"first"):"month"===o?np.getWhatYear(l,1,"first"):np.getWhatMonth(l,1,"first"),s.selectMonth=e,Se("date-next",{viewType:o,value:i,type:n},t)}},ve=t=>{const{disabledMethod:n}=e,{datePanelType:o}=s,l=x.value,r=w.value,{date:a}=t;return!!(l&&l.getTime()>a.getTime())||(!!(r&&r.getTime()<a.getTime())||!!n&&n({type:o,viewType:o,date:a,$datePanel:v}))},he=t=>{ve(t)||(t=>{const{type:n,multiple:o}=e,{datePanelType:l}=s;"month"===n?"year"===l?(s.datePanelType="month",ie(t)):(se(t),o||oe()):"year"===n?(se(t),o||oe()):"quarter"===n?"year"===l?(s.datePanelType="quarter",ie(t)):(se(t),o||oe()):"month"===l?(s.datePanelType="week"===n?n:"day",ie(t)):"year"===l?(s.datePanelType="month",ie(t)):(se(t),"datetime"===n||o||oe())})(t.date)},be=e=>{if(!ve(e)){const{datePanelType:r}=s;"month"===r?(l=e.date,ve({date:l})||(H.value.some(e=>np.isDateSame(e.date,l,"yyyyMM"))||ie(l),le(l))):"quarter"===r?(o=e.date,ve({date:o})||(z.value.some(e=>np.isDateSame(e.date,o,"yyyyq"))||ie(o),le(o))):"year"===r?(n=e.date,ve({date:n})||(A.value.some(e=>np.isDateSame(e.date,n,"yyyy"))||ie(n),le(n))):(t=e.date,ve({date:t})||(q.value.some(e=>np.isDateSame(e.date,t,"yyyyMMdd"))||ie(t),le(t)))}var t,n,o,l},xe=()=>{s.datePanelValue=null},we=e=>{if(e){const t=e.offsetHeight;e.parentNode.scrollTop=e.offsetTop-4*t}},ye=e=>{const{datetimePanelValue:t}=s;s.datetimePanelValue=t?new Date(t.getTime()):new Date,we(e.currentTarget)},Ce=()=>{const{type:n,defaultDate:o}=e,l=h.value,r=O.value,a=k.value;if(["year","quarter","month","week"].indexOf(n)>-1?s.datePanelType=n:s.datePanelType="day",s.currentDate=np.getWhatDay(Date.now(),0,"first"),a)ce(a,0),le(a);else if(o){const e=ee(o,r);np.isValidDate(e)?ce(e,0):ue()}else ue();l&&(s.datetimePanelValue=s.datePanelValue||np.getWhatDay(Date.now(),0,"first"),t(()=>{const e=p.value;np.arrayEach(e.querySelectorAll("li.is--selected"),e=>{we(e)})}))},Se=(e,t,n)=>{o(e,zp(n,{$datePanel:v},t))},Ee={dispatchEvent:Se,getModelValue:()=>s.inputValue,setPanelDate(e){e&&ie(e)},getPanelDate:()=>s.selectMonth,checkValue(e){te(e)},confirmByEvent(t){(t=>{const{multiple:n}=e,{datetimePanelValue:o}=s,l=k.value,r=h.value;if(r){const e=O.value;if(n){const t=S.value;if(r){const t=[...C.value],n=[];t.forEach(e=>{e&&(o&&(e.setHours(o.getHours()),e.setMinutes(o.getMinutes()),e.setSeconds(o.getSeconds())),n.push(e))}),ne(n.map(t=>np.toDateString(t,e)).join(","),{type:"update"})}else ne(t.join(","),{type:"update"})}else se(l||s.currentDate)}oe(),Se("confirm",{},t)})(t)}};Object.assign(v,Ee);const De=(t,n)=>{const{festivalMethod:o}=e,l=[];if(o){const{datePanelType:e}=s,r=o({type:e,viewType:e,date:t.date,$datePanel:v}),a=r?np.isString(r)?{label:r}:r:{},i=a.extra?np.isString(a.extra)?{label:a.extra}:a.extra:null;l.push(y("div",{class:["vxe-date-panel--label",{"is-notice":a.notice}]},i&&i.label?[y("div",`${n}`),y("div",{class:["vxe-date-panel--label--extra",i.important?"is-important":"",i.className],style:i.style},np.toValueString(i.label))]:`${n}`));const c=a.label;if(c){const e=np.toValueString(c).split(",");l.push(y("div",{class:["vxe-date-panel--festival",a.important?"is-important":"",a.className],style:a.style},[e.length>1?y("div",{class:["vxe-date-panel--festival--overlap",`overlap--${e.length}`]},e.map(e=>y("div",e.substring(0,3)))):y("div",{class:"vxe-date-panel--festival--label"},e[0].substring(0,3))]))}}return l},Te=()=>{const{datePanelType:t}=s;switch(t){case"week":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=s,l=k.value,r=_.value,a=U.value,i=C.value,c=T.value,u="yyyyMMdd";return[y("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[y("div",{class:"vxe-date-panel--view-header"},[y("div",{class:"vxe-date-panel--view-row"},r.map((e,t)=>y("div",{class:"vxe-date-panel--view-item",style:{width:(t?13:9)+"%"}},[y("div",{class:"vxe-date-panel--view-item-inner"},[y("div",{class:"vxe-date-panel--view-item-label"},e.label)])])))]),y("div",{class:"vxe-date-panel--view-body"},a.map(e=>{const n=t?e.some(e=>i.some(t=>np.isDateSame(t,e.date,u))):e.some(e=>np.isDateSame(l,e.date,u)),r=e.some(e=>np.isDateSame(o,e.date,u)),s=e.some(e=>e.isNow);return y("div",{class:"vxe-date-panel--view-row",style:{height:100/a.length+"%"}},e.map((e,t)=>y("div",{class:["vxe-date-panel--view-item",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":t?e.isNow:s,"is--next":e.isNext,"is--disabled":ve(e),"is--selected":n,"is--over":c&&!n,"is--hover":!c&&r}],style:{width:(t?13:9)+"%"},onClick:()=>he(e),onMouseenter:()=>be(e),onMouseleave:xe},[y("div",{class:"vxe-date-panel--view-item-inner"},De(e,e.label))])))}))])]})();case"month":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=s,l=k.value,r=W.value,a=C.value,i=T.value,c="yyyyMM";return[y("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[y("div",{class:"vxe-date-panel--view-body"},r.map(e=>y("div",{class:"vxe-date-panel--view-row",style:{height:100/r.length+"%"}},e.map(n=>{const r=t?a.some(e=>np.isDateSame(e,n.date,c)):np.isDateSame(l,n.date,c);return y("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--disabled":ve(n),"is--selected":r,"is--over":i&&!r,"is--hover":!i&&np.isDateSame(o,n.date,c)}],style:{width:100/e.length+"%"},onClick:()=>he(n),onMouseenter:()=>be(n),onMouseleave:xe},[y("div",{class:"vxe-date-panel--view-item-inner"},De(n,Qp(`vxe.input.date.months.m${n.month}`)))])}))))])]})();case"quarter":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=s,l=k.value,r=j.value,a=C.value,i=T.value,c="yyyyq";return[y("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[y("div",{class:"vxe-date-panel--view-body"},r.map(e=>y("div",{class:"vxe-date-panel--view-row",style:{height:100/r.length+"%"}},e.map(n=>{const r=t?a.some(e=>np.isDateSame(e,n.date,c)):np.isDateSame(l,n.date,c);return y("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--disabled":ve(n),"is--selected":r,"is--over":i&&!r,"is--hover":!i&&np.isDateSame(o,n.date,c)}],style:{width:100/e.length+"%"},onClick:()=>he(n),onMouseenter:()=>be(n),onMouseleave:xe},[y("div",{class:"vxe-date-panel--view-item-inner"},De(n,Qp(`vxe.input.date.quarters.q${n.quarter}`)))])}))))])]})();case"year":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=s,l=k.value,r=B.value,a=C.value,i=T.value,c="yyyy";return[y("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[y("div",{class:"vxe-date-panel--view-body"},r.map(e=>y("div",{class:"vxe-date-panel--view-row",style:{height:100/r.length+"%"}},e.map(n=>{const r=t?a.some(e=>np.isDateSame(e,n.date,c)):np.isDateSame(l,n.date,c);return y("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--disabled":ve(n),"is--selected":r,"is--over":i&&!r,"is--hover":!i&&np.isDateSame(o,n.date,c)}],style:{width:100/e.length+"%"},onClick:()=>he(n),onMouseenter:()=>be(n),onMouseleave:xe},[y("div",{class:"vxe-date-panel--view-item-inner"},De(n,n.year))])}))))])]})()}return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=s,l=k.value,r=L.value,a=G.value,i=C.value,c=T.value,u="yyyyMMdd";return[y("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[y("div",{class:"vxe-date-panel--view-header"},[y("div",{class:"vxe-date-panel--view-row"},r.map(e=>y("div",{class:"vxe-date-panel--view-item",style:{width:100/r.length+"%"}},[y("div",{class:"vxe-date-panel--view-item-inner"},[y("div",{class:"vxe-date-panel--view-item-label"},e.label)])])))]),y("div",{class:"vxe-date-panel--view-body"},a.map(e=>y("div",{class:"vxe-date-panel--view-row",style:{height:100/a.length+"%"}},e.map(n=>{const r=t?i.some(e=>np.isDateSame(e,n.date,u)):np.isDateSame(l,n.date,u);return y("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--disabled":ve(n),"is--selected":r,"is--over":c&&!r,"is--hover":!c&&np.isDateSame(o,n.date,u)}],style:{width:100/e.length+"%"},onClick:()=>he(n),onMouseenter:()=>be(n),onMouseleave:xe},[y("div",{class:"vxe-date-panel--view-item-inner"},De(n,n.label))])}))))])]})()},Oe=()=>{const{datePanelType:e}=s,t=R.value,n=I.value,o=V.value;return[y("div",{class:"vxe-date-panel--picker-header"},[y("div",{class:"vxe-date-panel--picker-type-wrapper"},["year"===e?y("span",{class:"vxe-date-panel--picker-label"},o.y):y("span",{class:"vxe-date-panel--picker-btns"},[y("span",{class:"vxe-date-panel--picker-btn",onClick:de},o.y),o.m?y("span",{class:"vxe-date-panel--picker-btn",onClick:pe},o.m):Rm()])]),y("div",{class:"vxe-date-panel--picker-btn-wrapper"},[y("span",{class:["vxe-date-panel--picker-btn vxe-date-panel--picker-prev-btn",{"is--disabled":t}],onClick:me},[y("i",{class:"vxe-icon-caret-left"})]),y("span",{class:"vxe-date-panel--picker-btn vxe-date-panel--picker-current-btn",onClick:ge},[y("i",{class:"vxe-icon-dot"})]),y("span",{class:["vxe-date-panel--picker-btn vxe-date-panel--picker-next-btn",{"is--disabled":n}],onClick:fe},[y("i",{class:"vxe-icon-caret-right"})])])]),y("div",{class:"vxe-date-panel--picker-body"},Te())]},ke=()=>{const{type:t}=e,{datetimePanelValue:n}=s,o=P.value,l=K.value,r=X.value,a=Y.value,i=Z.value,c=Q.value;return["time"===t?Rm():y("div",{class:"vxe-date-panel--time-header"},[y("div",{class:"vxe-date-panel--time-title"},o)]),y("div",{ref:p,class:"vxe-date-panel--time-body"},[y("ul",{class:"vxe-date-panel--time-hour-list"},l.map((e,t)=>y("li",{key:t,class:{"is--selected":n&&n.getHours()===e.value},onClick:t=>((e,t)=>{const{datetimePanelValue:n}=s;n&&n.setHours(t.value),ye(e)})(t,e)},e.label))),r?y("ul",{class:"vxe-date-panel--time-minute-list"},a.map((e,t)=>y("li",{key:t,class:{"is--selected":n&&n.getMinutes()===e.value},onClick:t=>((e,t)=>{const{datetimePanelValue:n}=s;n&&n.setMinutes(t.value),ye(e)})(t,e)},e.label))):Rm(),r&&i?y("ul",{class:"vxe-date-panel--time-second-list"},c.map((e,t)=>y("li",{key:t,class:{"is--selected":n&&n.getSeconds()===e.value},onClick:t=>((e,t)=>{const{datetimePanelValue:n}=s;n&&n.setSeconds(t.value),ye(e)})(t,e)},e.label))):Rm()])]},Re=()=>{const{type:t}=e;return"datetime"===t?y("div",{key:t,ref:d,class:"vxe-date-panel--time-layout-wrapper"},[y("div",{class:"vxe-date-panel--time-left-wrapper"},Oe()),y("div",{class:"vxe-date-panel--time-right-wrapper"},ke())]):"time"===t?y("div",{key:t,ref:d,class:"vxe-date-panel--wrapper"},ke()):y("div",{key:t||"default",ref:d,class:"vxe-date-panel--wrapper"},Oe())};return i(()=>e.modelValue,e=>{J(e),re()}),i(()=>e.type,()=>{Object.assign(s,{inputValue:"",datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),ae()}),i(M,()=>{b.value&&(le(s.datePanelValue),s.inputValue=e.multiple?E.value:s.datePanelLabel)}),ae(),Ce(),v.renderVN=()=>{const{type:t}=e,n=a.value;return y("div",{class:["vxe-date-panel",`type--${t}`,{[`size--${n}`]:n}]},[Re()])},v},render(){return this.renderVN()}}),tv=Object.assign({},ev,{install(e){e.component(ev.name,ev)}});Am.use(tv),Im.component(ev);const nv=tv,ov=Pm({name:"VxeDatePicker",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"date"},clearable:{type:Boolean,default:()=>Rp().datePicker.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,autoComplete:{type:String,default:"off"},form:String,className:String,size:{type:String,default:()=>Rp().datePicker.size||Rp().size},multiple:Boolean,limitCount:{type:[String,Number],default:()=>Rp().upload.limitCount},startDate:{type:[String,Number,Date],default:()=>Rp().datePicker.startDate},endDate:{type:[String,Number,Date],default:()=>Rp().datePicker.endDate},defaultDate:[String,Number,Date],minDate:[String,Number,Date],maxDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>Rp().datePicker.startDay},labelFormat:String,valueFormat:String,timeFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>Rp().datePicker.festivalMethod},disabledMethod:{type:Function,default:()=>Rp().datePicker.disabledMethod},selectDay:{type:[String,Number],default:()=>Rp().datePicker.selectDay},showClearButton:{type:Boolean,default:()=>Rp().datePicker.showClearButton},showConfirmButton:{type:Boolean,default:()=>Rp().datePicker.showConfirmButton},autoClose:{type:Boolean,default:()=>Rp().datePicker.autoClose},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},shortcutConfig:Object,startWeek:Number},emits:["update:modelValue","input","change","keydown","keyup","click","focus","blur","clear","prefix-click","suffix-click","date-prev","date-today","date-next","shortcut-click"],setup(e,o){const{slots:l,emit:a}=o,s=n("$xeModal",null),c=n("$xeDrawer",null),u=n("$xeTable",null),d=n("$xeForm",null),p=n("xeFormItemInfo",null),f=np.uniqueId(),{computeSize:h}=ym(e),x=m({initialized:!1,panelIndex:0,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:"",inputLabel:""}),w={hpTimeout:void 0},C=r(),E=r(),D=r(),T=r(),O=r(),k={refElem:C,refInput:E},R={xID:f,props:e,context:o,reactData:x,internalData:w,getRefMaps:()=>k},I=g(()=>{const{transfer:t}=e;if(null===t){const e=Rp().datePicker.transfer;if(np.isBoolean(e))return e;if(u||s||c||d)return!0}return t}),P=g(()=>{const{readonly:t}=e;return null===t?!!d&&d.props.readonly:t}),F=g(()=>{const{disabled:t}=e;return null===t?!!d&&d.props.disabled:t}),M=g(()=>{const{type:t}=e;return"time"===t||"datetime"===t}),A=g(()=>M.value||["date","week","month","quarter","year"].indexOf(e.type)>-1),V=g(()=>e.clearable),$=g(()=>{const{type:t,editable:n,multiple:o}=e;return P.value||o||!n||"week"===t||"quarter"===t}),N=g(()=>{const{placeholder:t}=e;if(t)return Ng(t);const n=Rp().datePicker.placeholder;return n?Ng(n):Qp("vxe.base.pleaseSelect")}),L=g(()=>{const{immediate:t}=e;return t}),_=g(()=>Object.assign({},Rp().datePicker.shortcutConfig,e.shortcutConfig)),B=g(()=>{const e=_.value,{options:t}=e;return t?t.map((e,t)=>Object.assign({name:`${e.name||e.code||t}`},e)):[]}),z=g(()=>{const{labelFormat:t}=e;return t||Qp(`vxe.input.date.labelFormat.${e.type}`)}),j=g(()=>{const{type:t,valueFormat:n}=e;return Yg(t,n)}),H=g(()=>{const{startDay:t}=e;return np.toNumber(t)}),W=g(()=>{const{type:t,multiple:n}=e,{inputValue:o}=x,l=z.value,r=j.value,a=H.value;return(o?n?o.split(","):[o]:[]).map(e=>ef(e,t,{valueFormat:r,labelFormat:l,firstDay:a}).label).join(", ")}),q=()=>{const{modelValue:t}=e;let n="";t&&(n=np.isNumber(t)&&/^[0-9]{11,15}$/.test(`${t}`)?new Date(t):t),x.inputValue=n},G=e=>{const{inputValue:t}=x;fe(e.type,{value:t},e)},U=(t,n)=>{const{type:o,modelValue:l,valueFormat:r}=e,i=j.value;if(x.inputValue=t,Ug(r)){const e=Qg(t,o,{valueFormat:i}),r=e?e.getTime():null;a("update:modelValue",r),l!==r&&(fe("change",{value:r},n),d&&p&&d.triggerItemEvent(n,p.itemConfig.field,r))}else if(Kg(r)){const e=Qg(t,o,{valueFormat:i});a("update:modelValue",e),(l&&e?np.toStringDate(l).getTime()!==e.getTime():l!==e)&&(fe("change",{value:e},n),d&&p&&d.triggerItemEvent(n,p.itemConfig.field,e))}else a("update:modelValue",t),np.toValueString(l)!==t&&(fe("change",{value:t},n),d&&p&&d.triggerItemEvent(n,p.itemConfig.field,t))},K=e=>{const t=e.target.value;x.inputLabel=t,fe("input",{value:t},e)},Y=e=>{L.value||G(e)},X=e=>{x.isActivated=!0;A.value&&pe(e),G(e)},Z=e=>{if(!F.value){const{inputValue:t}=x;fe("prefix-click",{value:t},e)}},Q=()=>new Promise(e=>{x.visiblePanel=!1,w.hpTimeout=setTimeout(()=>{x.isAniVisible=!1,e()},350)}),J=(e,t)=>{A.value&&Q(),U("",e),fe("clear",{value:t},e)},ee=e=>{if(!F.value){const{inputValue:t}=x;fe("suffix-click",{value:t},e)}},te=e=>{const t=O.value,{inputValue:n}=x,o=n;L.value||U(o,e),x.visiblePanel||(x.isActivated=!1,t&&t.checkValue(x.inputLabel)),fe("blur",{value:o},e),d&&p&&d.triggerItemEvent(e,p.itemConfig.field,o)},ne=e=>{G(e)},oe=e=>{G(e)},le=e=>{const t=O.value;t&&t.confirmByEvent(e),Q()},re=t=>{const{multiple:n,autoClose:o}=e,{value:l,$event:r}=t,a=M.value;U(l,r),n||a||o&&Q()},ae=e=>{const t=O.value,{visiblePanel:n,isActivated:o}=x,l=C.value,r=T.value;!F.value&&o&&(x.isActivated=sg(e,l).flag||sg(e,r).flag,x.isActivated||n&&(Q(),t&&t.checkValue(x.inputLabel)))},ie=e=>{const{visiblePanel:t}=x;if(!F.value&&t){sg(e,T.value).flag?ue():Q()}},se=()=>{const e=O.value,{isActivated:t,visiblePanel:n}=x;n?(Q(),e&&e.checkValue(x.inputLabel)):t&&e&&e.checkValue(x.inputLabel)},ce=()=>{const{visiblePanel:e}=x;e&&ue()},ue=()=>{const{placement:n}=e,{panelIndex:o}=x,l=E.value,r=D.value,a=I.value,i=()=>{const e=gg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});x.panelStyle=t,x.panelPlacement=e.placement};return i(),t().then(i)},de=()=>{const{visiblePanel:e}=x;return F.value||e?t():(x.initialized||(x.initialized=!0),w.hpTimeout&&(clearTimeout(w.hpTimeout),w.hpTimeout=void 0),x.isActivated=!0,x.isAniVisible=!0,setTimeout(()=>{x.visiblePanel=!0},10),x.panelIndex<Vg()&&(x.panelIndex=Ag()),ue())},pe=e=>{P.value||(e.preventDefault(),de())},me=e=>{G(e)},ge=({option:t,$event:n})=>{const{type:o}=e,{inputValue:l}=x,r=_.value,{autoClose:a}=r,{code:i,clickMethod:s}=t;let c=l;const u={$datePicker:R,option:t,value:c,code:i};if(!s&&i){const e=pm.get(i),t=e?e.datePickerCommandMethod:null;if(t)t(u);else{const e=j.value,t=H.value;switch(i){case"now":case"prev":case"next":case"minus":case"plus":{const l=function(e,t,n,o){const{valueFormat:l,firstDay:r}=o;let a=null;const i=("prev"===e||"next"===e?new Date:t?Qg(t,n,o):null)||new Date;switch(e){case"prev":case"next":case"minus":case"plus":{const t="plus"===e||"next"===e?1:-1;switch(n){case"date":case"datetime":a=np.getWhatDay(i,t);break;case"week":a=np.getWhatWeek(i,t,r,r);break;case"month":a=np.getWhatMonth(i,t);break;case"quarter":a=np.getWhatQuarter(i,t);break;case"year":a=np.getWhatYear(i,t)}break}default:a=new Date}return{value:a?np.toDateString(a,l):""}}(i,c,o,{valueFormat:e,firstDay:t});c=l.value,u.value=c,U(c,n);break}default:Lm("vxe.error.notCommands",[i])}}}else{const e=s||r.clickMethod;e&&e(u)}a&&Q(),fe("shortcut-click",u,n)},fe=(e,t,n)=>{a(e,zp(n,{$datePicker:R},t))},ve={dispatchEvent:fe,setModelValue(e){x.inputValue=e,a("update:modelValue",e)},setModelValueByEvent(e,t){U(t||"",e)},focus(){const e=E.value;return x.isActivated=!0,e.focus(),t()},blur:()=>(E.value.blur(),x.isActivated=!1,t()),select:()=>(E.value.select(),x.isActivated=!1,t()),showPanel:de,hidePanel:Q,updatePlacement:ue};Object.assign(R,ve);const he=(e,t)=>{const n=_.value,{position:o,align:l,mode:r}=n,a=B.value;return Mg(n)&&a.length&&(o||"left")===e?y("div",{class:`vxe-date-picker--layout-${e}-wrapper`},[y(Wg,{options:a,mode:r,align:l,vertical:t,onClick:ge})]):Rm()},be=()=>{const{type:t,multiple:n,showClearButton:o,showConfirmButton:r}=e,{initialized:a,isAniVisible:i,visiblePanel:s,panelPlacement:c,panelStyle:u,inputValue:d}=x,p=h.value,m=I.value,g=_.value,f=V.value,v=M.value,b=B.value,{position:w}=g,C=l.header,E=l.footer,k=l.top,R=l.bottom,P=l.left,F=l.right,A=b.length>0,$=null===r?v||n:r,N=null===o?f&&$&&"time"!==t:o;return y(S,{to:"body",disabled:!m||!a},[y("div",{ref:D,class:["vxe-table--ignore-clear vxe-date-picker--panel",`type--${t}`,{[`size--${p}`]:p,"is--transfer":m,"ani--leave":i,"ani--enter":s,"show--top":!!(k||C||A&&("top"===w||"header"===w)),"show--bottom":!!(R||E||A&&("bottom"===w||"footer"===w)),"show--left":!!(P||A&&"left"===w),"show--right":!!(F||A&&"right"===w)}],placement:c,style:u},a&&(s||i)?[y("div",{ref:T,class:["vxe-date-picker--layout-all-wrapper",`type--${t}`,{[`size--${p}`]:p}]},[k?y("div",{class:"vxe-date-picker--layout-top-wrapper"},k({})):he("top"),y("div",{class:"vxe-date-picker--layout-body-layout-wrapper"},[P?y("div",{class:"vxe-date-picker--layout-left-wrapper"},P({})):he("left",!0),y("div",{class:"vxe-date-picker--layout-body-content-wrapper"},[C?y("div",{class:"vxe-date-picker--layout-header-wrapper"},C({})):he("header"),y("div",{class:"vxe-date-picker--layout-body-wrapper"},[y(ev,{ref:O,modelValue:x.inputValue,type:e.type,className:e.className,multiple:e.multiple,limitCount:e.limitCount,startDate:e.startDate,endDate:e.endDate,minDate:e.minDate,defaultDate:e.defaultDate,maxDate:e.maxDate,startDay:e.startDay,labelFormat:e.labelFormat,valueFormat:e.valueFormat,timeFormat:e.timeFormat,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:re})]),y("div",{class:"vxe-date-picker--layout-footer-wrapper"},[y("div",{class:"vxe-date-picker--layout-footer-custom"},E?E({}):[he("footer")]),N||$?y("div",{class:"vxe-date-picker--layout-footer-btns"},[N?y(zg,{size:"mini",disabled:""===d||np.eqNull(d),content:Qp("vxe.button.clear"),onClick:J}):Rm(),$?y(zg,{size:"mini",status:"primary",content:Qp("vxe.button.confirm"),onClick:le}):Rm()]):Rm()])]),F?y("div",{class:"vxe-date-picker--layout-right-wrapper"},F({})):he("right",!0)]),R?y("div",{class:"vxe-date-picker--layout-bottom-wrapper"},R({})):he("bottom")])]:[])])},xe=()=>y("div",{class:"vxe-date-picker--control-icon",onClick:pe},[y("i",{class:["vxe-date-picker--date-picker-icon",Mp().DATE_PICKER_DATE]})]);return i(W,e=>{x.inputLabel=e}),i(()=>e.modelValue,()=>{q()}),t(()=>{jp.on(R,"mousewheel",ie),jp.on(R,"mousedown",ae),jp.on(R,"blur",se),jp.on(R,"resize",ce)}),v(()=>{jp.off(R,"mousewheel"),jp.off(R,"mousedown"),jp.off(R,"blur"),jp.off(R,"resize")}),q(),b("$xeDatePicker",R),R.renderVN=()=>{const{className:t,type:n,name:o,autoComplete:r}=e,{inputValue:a,inputLabel:i,visiblePanel:s,isActivated:c}=x,u=h.value,d=F.value,p=P.value,m=W.value;if(p)return y("div",{ref:C,class:["vxe-date-picker--readonly",`type--${n}`,t]},m);const g=$.value,f=N.value,v=V.value,b=(()=>{const{prefixIcon:t}=e,n=l.prefix;return n||t?y("div",{class:"vxe-date-picker--prefix",onClick:Z},[y("div",{class:"vxe-date-picker--prefix-icon"},n?Gm(n({})):[y("i",{class:t})])]):null})(),w=(()=>{const{suffixIcon:t}=e,{inputValue:n}=x,o=l.suffix,r=F.value,a=V.value;return y("div",{class:["vxe-date-picker--suffix",{"is--clear":a&&!r&&!(""===n||np.eqNull(n))}]},[a?y("div",{class:"vxe-date-picker--clear-icon",onClick:J},[y("i",{class:Mp().INPUT_CLEAR})]):Rm(),xe(),o||t?y("div",{class:"vxe-date-picker--suffix-icon",onClick:ee},o?Gm(o({})):[y("i",{class:t})]):Rm()])})();return y("div",{ref:C,class:["vxe-date-picker",`type--${n}`,t,{[`size--${u}`]:u,"is--prefix":!!b,"is--suffix":!!w,"is--visible":s,"is--disabled":d,"is--active":c,"show--clear":v&&!d&&!(""===a||np.eqNull(a))}],spellcheck:!1},[b||Rm(),y("div",{class:"vxe-date-picker--wrapper"},[y("input",{ref:E,class:"vxe-date-picker--inner",value:i,name:o,type:"text",placeholder:f,readonly:g,disabled:d,autocomplete:r,onKeydown:ne,onKeyup:oe,onClick:me,onInput:K,onChange:Y,onFocus:X,onBlur:te})]),w||Rm(),be()])},R},render(){return this.renderVN()}}),lv=Object.assign({},ov,{install(e){e.component(ov.name,ov)}});Am.use(lv),Im.component(ov);const rv=lv,av=Pm({name:"VxeDateRangePicker",props:{modelValue:[String,Number,Date,Array],startValue:[String,Number,Date],endValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"date"},clearable:{type:Boolean,default:()=>Rp().dateRangePicker.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,autoComplete:{type:String,default:"off"},form:String,className:String,size:{type:String,default:()=>Rp().dateRangePicker.size||Rp().size},minDate:[String,Number,Date],maxDate:[String,Number,Date],defaultDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>Rp().dateRangePicker.startDay},labelFormat:String,valueFormat:String,timeFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>Rp().dateRangePicker.festivalMethod},disabledMethod:{type:Function,default:()=>Rp().dateRangePicker.disabledMethod},separator:{type:[String,Number],default:()=>Rp().dateRangePicker.separator},selectDay:{type:[String,Number],default:()=>Rp().dateRangePicker.selectDay},showClearButton:{type:Boolean,default:()=>Rp().dateRangePicker.showClearButton},showConfirmButton:{type:Boolean,default:()=>Rp().dateRangePicker.showConfirmButton},autoClose:{type:Boolean,default:()=>Rp().dateRangePicker.autoClose},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},shortcutConfig:Object},emits:["update:modelValue","update:startValue","update:endValue","input","change","keydown","keyup","click","focus","blur","clear","prefix-click","suffix-click","date-prev","date-today","date-next","shortcut-click"],setup(e,o){const{slots:l,emit:a}=o,u=n("$xeModal",null),d=n("$xeDrawer",null),p=n("$xeTable",null),f=n("$xeForm",null),h=n("xeFormItemInfo",null),x=np.uniqueId(),{computeSize:w}=ym(e),C=m({initialized:!1,panelIndex:0,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,startValue:"",endValue:""}),E={},D=r(),T=r(),O=r(),k=r(),R=r(),I=r(),P={refElem:D,refInput:T},F={xID:x,props:e,context:o,reactData:C,internalData:E,getRefMaps:()=>P};let M={};const A=g(()=>{const{transfer:t}=e;if(null===t){const e=Rp().dateRangePicker.transfer;if(np.isBoolean(e))return e;if(p||u||d||f)return!0}return t}),V=g(()=>{const{readonly:t}=e;return null===t?!!f&&f.props.readonly:t}),$=g(()=>{const{disabled:t}=e;return null===t?!!f&&f.props.disabled:t}),N=g(()=>{const{startValue:t,endValue:n}=e;return`${t||""}${n||""}`}),L=g(()=>{const{type:t}=e;return"time"===t||"datetime"===t}),_=g(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),B=g(()=>e.clearable),z=g(()=>{const{placeholder:t}=e;if(t)return Ng(t);const n=Rp().dateRangePicker.placeholder;return n?Ng(n):Qp("vxe.dateRangePicker.pleaseRange")}),j=g(()=>{const{immediate:t}=e;return t}),H=g(()=>Object.assign({},Rp().dateRangePicker.shortcutConfig,e.shortcutConfig)),W=g(()=>{const e=H.value,{options:t}=e;return t?t.map((e,t)=>Object.assign({name:`${e.name||e.code||t}`},e)):[]}),q=g(()=>{const{labelFormat:t}=e;return t||Qp(`vxe.input.date.labelFormat.${e.type}`)}),G=g(()=>{const{type:t,valueFormat:n}=e;return Yg(t,n)}),U=g(()=>{const{startDay:t}=e;return np.toNumber(t)}),K=g(()=>{const{startValue:e,endValue:t}=C;return X(e||t?[e||"",t||""]:[])}),Y=g(()=>K.value.label),X=t=>{const{type:n,separator:o}=e,l=q.value,r=G.value,a=U.value,i=t[0]?ef(t[0],n,{valueFormat:r,labelFormat:l,firstDay:a}):null,s=t[1]?ef(t[1],n,{valueFormat:r,labelFormat:l,firstDay:a}):null,c=i?i.label:"",u=s?s.label:"";return{label:(c||u?[c,u]:[]).join(`${o||" ~ "}`),startLabel:c,endLabel:u}},Z=(t,n)=>{const{modelValue:o}=e,l=np.isArray(o);if(t||n){const e=[t||"",n||""];return l?e:e.join(",")}return l?[]:""},Q=()=>{const{type:t,modelValue:n}=e,o=G.value;let l="",r="";if(np.isArray(n)){const e=Jg(n[0],t,{valueFormat:o}),a=Jg(n[1],t,{valueFormat:o});(e||a)&&(l=e||"",r=a||"")}else if(np.isString(n)){const e=n.split(",");(e[0]||e[1])&&(l=e[0]||"",r=e[1]||"")}return{sValue:l,eValue:r}},J=()=>{const{type:t,startValue:n,endValue:o}=e,l=G.value;let r="",a="";return r=Jg(n,t,{valueFormat:l}),a=Jg(o,t,{valueFormat:l}),{sValue:r,eValue:a}},ee=t=>{const{modelValue:n,startValue:o,endValue:l}=e;let r={sValue:"",eValue:""};r=t?n?Q():J():o||l?J():Q(),C.startValue=r.sValue,C.endValue=r.eValue},te=e=>{const{startValue:t,endValue:n}=C,o=Z(t,n);Te(e.type,{value:o,startValue:t,endValue:n},e)},ne=(t,n,o)=>{const{modelValue:l}=e;C.startValue=t,C.endValue=n;const r=Z(t,n);a("update:modelValue",r),a("update:startValue",t||""),a("update:endValue",n||""),np.toValueString(l)!==r&&(Te("change",{value:r},o),f&&h&&f.triggerItemEvent(o,h.itemConfig.field,r))},oe=e=>{j.value||te(e)},le=e=>{C.isActivated=!0,Se(e),te(e)},re=e=>{if(!$.value){const{startValue:t,endValue:n}=C,o=Z(t,n);Te("prefix-click",{value:o,startValue:t,endValue:n},e)}},ae=()=>new Promise(e=>{C.visiblePanel=!1,E.hpTimeout=setTimeout(()=>{C.isAniVisible=!1,e()},350)}),ie=(e,t)=>{_.value&&ae(),ne("","",e),Te("clear",{value:t},e)},se=()=>{const e=R.value,t=I.value;if(e&&t){const n=e.getModelValue(),o=t.getModelValue();n&&o||ne("","",{type:"check"})}},ce=()=>{const{autoClose:t}=e,{startValue:n,endValue:o}=C,{selectStatus:l}=E,r=_.value;t?l&&r&&n&&o&&ae():n&&o&&(E.selectStatus=!1)},ue=e=>{if(!$.value){const{startValue:t,endValue:n}=C,o=Z(t,n);Te("suffix-click",{value:o,startValue:t,endValue:n},e)}},de=e=>{const{startValue:t,endValue:n}=C;j.value||ne(t,n,e),C.visiblePanel||(C.isActivated=!1),Te("blur",{value:"",startValue:t,endValue:n},e),f&&h&&f.triggerItemEvent(e,h.itemConfig.field,"")},pe=e=>{te(e)},me=e=>{te(e)},ge=e=>{const t=R.value,n=I.value;if(t&&n){const o=t.getModelValue(),l=n.getModelValue();o&&!l||!o&&l?ne("","",e):(t.confirmByEvent(e),n.confirmByEvent(e))}ae()},fe=e=>{const{selectStatus:n}=E,{value:o,$event:l}=e,r=n?C.endValue:"";ne(o,r,l),ce(),n||(E.selectStatus=!0),t(()=>{const e=R.value,t=I.value;if(e&&t){const n=e.getModelValue();!r&&n&&t.setPanelDate(np.toStringDate(n))}})},ve=e=>{const{selectStatus:n}=E,{value:o,$event:l}=e,r=n?C.startValue:"";ne(r,o,l),ce(),n||(E.selectStatus=!0),t(()=>{const e=R.value,t=I.value;if(e&&t){const n=t.getModelValue();!r&&n&&e.setPanelDate(np.toStringDate(n))}})},he=e=>{const{visiblePanel:t,isActivated:n}=C,o=D.value,l=k.value;!$.value&&n&&(C.isActivated=sg(e,o).flag||sg(e,l).flag,C.isActivated||t&&(se(),ae()))},be=e=>{const{visiblePanel:t}=C;if(!$.value&&t){sg(e,k.value).flag?ye():ae()}},xe=()=>{const{visiblePanel:e}=C;e&&ae()},we=()=>{const{visiblePanel:e}=C;e&&ye()},ye=()=>{const{placement:n}=e,{panelIndex:o}=C,l=T.value,r=O.value,a=A.value,i=()=>{const e=gg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});C.panelStyle=t,C.panelPlacement=e.placement};return i(),t().then(i)},Ce=()=>{const{visiblePanel:e}=C;return $.value||e?t():(C.initialized||(C.initialized=!0),E.hpTimeout&&(clearTimeout(E.hpTimeout),E.hpTimeout=void 0),E.selectStatus=!1,C.isActivated=!0,C.isAniVisible=!0,setTimeout(()=>{C.visiblePanel=!0},10),C.panelIndex<Vg()&&(C.panelIndex=Ag()),ye())},Se=e=>{V.value||(e.preventDefault(),Ce())},Ee=e=>{te(e)},De=({option:t,$event:n})=>{const{type:o}=e,l=H.value,{autoClose:r}=l,{code:a,clickMethod:i}=t;let s=C.startValue,c=C.endValue,u=Z(s,c);const d={$dateRangePicker:F,option:t,value:u,startValue:s,endValue:c,code:a};if(!i&&a){const e=pm.get(a),t=e?e.dateRangePickerCommandMethod:null;if(t)t(d);else{const e=G.value,t=U.value;switch(a){case"last1":case"last3":case"last7":case"last30":case"last60":case"last90":case"last180":{const l=nf(a,u,o,{valueFormat:e,firstDay:t});s=l.startValue,c=l.endValue,u=Z(s,c),d.value=u,d.startValue=s,d.endValue=c,ne(s,c,n);break}default:Lm("vxe.error.notCommands",[a])}}}else{const e=i||l.clickMethod;e&&e(d)}r&&ae(),Te("shortcut-click",d,n)},Te=(e,t,n)=>{a(e,zp(n,{$dateRangePicker:F},t))};M={dispatchEvent:Te,setModelValue(e,t){C.startValue=e||"",C.endValue=t||"";const n=Z(e,t);a("update:modelValue",n)},setModelValueByEvent(e,t,n){ne(t||"",n||"",e)},focus(){const e=T.value;return C.isActivated=!0,e.focus(),t()},blur:()=>(T.value.blur(),C.isActivated=!1,t()),select:()=>(T.value.select(),C.isActivated=!1,t()),showPanel:Ce,hidePanel:ae,updatePlacement:ye},Object.assign(F,M);const Oe=(e,t)=>{const n=H.value,{position:o,align:l,mode:r}=n,a=W.value;return Mg(n)&&a.length&&(o||"left")===e?y("div",{class:`vxe-date-range-picker--layout-${e}-wrapper`},[y(Wg,{options:a,mode:r,align:l,vertical:t,onClick:De})]):Rm()},ke=()=>{const{type:t,separator:n,autoClose:o,showConfirmButton:r,showClearButton:a}=e,{initialized:i,isAniVisible:s,visiblePanel:c,panelPlacement:u,panelStyle:d,startValue:p,endValue:m}=C,g=w.value,f=A.value,v=H.value,h=B.value,b=K.value,x=W.value,E=L.value,{startLabel:D,endLabel:T}=b,{position:P}=v,F=l.header,M=l.footer,V=l.top,$=l.bottom,N=l.left,_=l.right,z=x.length>0,j=null===r?E||!o:r,q=null===a?h:a;return y(S,{to:"body",disabled:!f||!i},[y("div",{ref:O,class:["vxe-table--ignore-clear vxe-date-range-picker--panel",`type--${t}`,{[`size--${g}`]:g,"is--transfer":f,"ani--leave":s,"ani--enter":c,"show--top":!!(V||F||z&&("top"===P||"header"===P)),"show--bottom":!!($||M||z&&("bottom"===P||"footer"===P)),"show--left":!!(N||z&&"left"===P),"show--right":!!(_||z&&"right"===P)}],placement:u,style:d},i&&(c||s)?[y("div",{ref:k,class:["vxe-date-range-picker--layout-all-wrapper",`type--${t}`,{[`size--${g}`]:g}]},[V?y("div",{class:"vxe-date-range-picker--layout-top-wrapper"},V({})):Oe("top"),y("div",{class:"vxe-date-range-picker--layout-body-layout-wrapper"},[N?y("div",{class:"vxe-date-range-picker--layout-left-wrapper"},N({})):Oe("left",!0),y("div",{class:"vxe-date-range-picker--layout-body-content-wrapper"},[F?y("div",{class:"vxe-date-range-picker--layout-header-wrapper"},F({})):Oe("header"),y("div",{class:"vxe-date-range-picker--layout-body-wrapper"},[y(ev,{ref:R,modelValue:p,type:e.type,className:e.className,minDate:e.minDate,maxDate:e.maxDate,startDay:e.startDay,endDate:m,labelFormat:e.labelFormat,valueFormat:e.valueFormat,timeFormat:e.timeFormat,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:fe}),y(ev,{ref:I,modelValue:m,type:e.type,className:e.className,minDate:e.minDate,maxDate:e.maxDate,startDay:e.startDay,startDate:p,labelFormat:e.labelFormat,valueFormat:e.valueFormat,timeFormat:e.timeFormat,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:ve})]),y("div",{class:"vxe-date-range-picker--layout-footer-wrapper"},[y("div",{class:"vxe-date-range-picker--layout-footer-label"},D||T?[y("span",D),y("span",`${n||""}`),y("span",T)]:[]),y("div",{class:"vxe-date-range-picker--layout-footer-custom"},M?M({}):[Oe("footer")]),y("div",{class:"vxe-date-range-picker--layout-footer-btns"},[q?y(zg,{size:"mini",disabled:!(p||m),content:Qp("vxe.button.clear"),onClick:ie}):Rm(),j?y(zg,{size:"mini",status:"primary",content:Qp("vxe.button.confirm"),onClick:ge}):Rm()])])]),_?y("div",{class:"vxe-date-range-picker--layout-right-wrapper"},_({})):Oe("right",!0)]),$?y("div",{class:"vxe-date-range-picker--layout-bottom-wrapper"},$({})):Oe("bottom")])]:[])])},Re=()=>y("div",{class:"vxe-date-range-picker--control-icon",onClick:Se},[y("i",{class:["vxe-date-range-picker--date-picker-icon",Mp().DATE_PICKER_DATE]})]);return i(()=>e.modelValue,()=>{ee(!0)}),i(N,()=>{ee(!1)}),ee(!0),t(()=>{jp.on(F,"mousewheel",be),jp.on(F,"mousedown",he),jp.on(F,"blur",xe),jp.on(F,"resize",we)}),c(()=>{se()}),v(()=>{jp.off(F,"mousewheel"),jp.off(F,"mousedown"),jp.off(F,"blur"),jp.off(F,"resize")}),s(()=>{se()}),b("$xeDateRangePicker",F),F.renderVN=()=>{const{className:t,type:n,name:o,autoComplete:r}=e,{startValue:a,endValue:i,visiblePanel:s,isActivated:c}=C,u=w.value,d=$.value,p=V.value,m=Y.value;if(p)return y("div",{ref:D,class:["vxe-date-range-picker--readonly",`type--${n}`,t]},m);const g=z.value,f=B.value,v=(()=>{const{prefixIcon:t}=e,n=l.prefix;return n||t?y("div",{class:"vxe-date-range-picker--prefix",onClick:re},[y("div",{class:"vxe-date-range-picker--prefix-icon"},n?Gm(n({})):[y("i",{class:t})])]):null})(),h=(()=>{const{suffixIcon:t}=e,{startValue:n,endValue:o}=C,r=l.suffix,a=$.value,i=B.value;return y("div",{class:["vxe-date-range-picker--suffix",{"is--clear":i&&!a&&(n||o)}]},[i?y("div",{class:"vxe-date-range-picker--clear-icon",onClick:ie},[y("i",{class:Mp().INPUT_CLEAR})]):Rm(),Re(),r||t?y("div",{class:"vxe-date-range-picker--suffix-icon",onClick:ue},r?Gm(r({})):[y("i",{class:t})]):Rm()])})();return y("div",{ref:D,class:["vxe-date-range-picker",`type--${n}`,t,{[`size--${u}`]:u,"is--prefix":!!v,"is--suffix":!!h,"is--visible":s,"is--disabled":d,"is--active":c,"show--clear":f&&!d&&(a||i)}],spellcheck:!1},[v||Rm(),y("div",{class:"vxe-date-range-picker--wrapper"},[y("input",{ref:T,class:"vxe-date-range-picker--inner",value:m,name:o,type:"text",placeholder:g,readonly:!0,disabled:d,autocomplete:r,onKeydown:pe,onKeyup:me,onClick:Ee,onChange:oe,onFocus:le,onBlur:de})]),h||Rm(),ke()])},F},render(){return this.renderVN()}}),iv=Object.assign({},av,{install(e){e.component(av.name,av)}});Am.use(iv),Im.component(av);const sv=iv,cv=Object.assign({},af,{install(e){e.component(af.name,af)}}),uv={open(e){const t=Object.assign({},e);Mm.globalLoading={modelValue:!0,text:t.text,icon:t.icon},Vm()},close(){Mm.globalLoading=null}};Am.use(cv),Im.component(af),Im.loading=uv;const dv=cv,pv=[],mv=Pm({name:"VxeDrawer",props:{modelValue:Boolean,id:String,title:String,loading:{type:Boolean,default:null},className:String,position:{type:[String,Object],default:()=>Rp().drawer.position},lockView:{type:Boolean,default:()=>Rp().drawer.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>Rp().drawer.mask},maskClosable:{type:Boolean,default:()=>Rp().drawer.maskClosable},escClosable:{type:Boolean,default:()=>Rp().drawer.escClosable},cancelClosable:{type:Boolean,default:()=>Rp().drawer.cancelClosable},confirmClosable:{type:Boolean,default:()=>Rp().drawer.confirmClosable},showHeader:{type:Boolean,default:()=>Rp().drawer.showHeader},showFooter:{type:Boolean,default:()=>Rp().drawer.showFooter},showClose:{type:Boolean,default:()=>Rp().drawer.showClose},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>Rp().drawer.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>Rp().drawer.showConfirmButton},confirmButtonText:{type:String,default:()=>Rp().drawer.confirmButtonText},destroyOnClose:{type:Boolean,default:()=>Rp().drawer.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>Rp().drawer.showTitleOverflow},width:[Number,String],height:[Number,String],resize:{type:Boolean,default:()=>Rp().drawer.resize},zIndex:Number,transfer:{type:Boolean,default:()=>Rp().drawer.transfer},padding:{type:Boolean,default:()=>Rp().drawer.padding},size:{type:String,default:()=>Rp().drawer.size||Rp().size},beforeHideMethod:{type:Function,default:()=>Rp().drawer.beforeHideMethod},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","resize"],setup(e,o){const{slots:l,emit:a}=o,s=np.uniqueId(),c=n("$xeModal",null),u=n("$xeDrawer",null),d=n("$xeTable",null),p=n("$xeForm",null),{computeSize:h}=ym(e),x=r(),w=r(),C=r(),E=r(),D=m({initialized:!1,visible:!1,contentVisible:!1,drawerZIndex:0,resizeFlag:1}),T={refElem:x},O=g(()=>{const{transfer:t}=e;if(null===t){const e=Rp().modal.transfer;if(np.isBoolean(e))return e;if(d||c||u||p)return!0}return t}),k=g(()=>{switch(e.position){case"top":return"sb";case"bottom":return"st";case"left":return"wr"}return"wl"}),R={},I={xID:s,props:e,context:o,reactData:D,getRefMaps:()=>T,getComputeMaps:()=>R},P=()=>w.value,F=()=>{const{width:n,height:o}=e,l=P();return l&&(l.style.width=ag(n),l.style.height=ag(o)),t()},M=()=>{const{zIndex:t}=e,{drawerZIndex:n}=D;t?D.drawerZIndex=t:n<Vg()&&(D.drawerZIndex=Ag())},A=n=>{const{beforeHideMethod:o}=e,{visible:l}=D,r={type:n};return l&&Promise.resolve(o?o(r):null).then(e=>{np.isError(e)||(D.contentVisible=!1,np.remove(pv,e=>e===I),_("before-hide",r,null),setTimeout(()=>{D.visible=!1,a("update:modelValue",!1),_("hide",r,null)},200))}).catch(e=>e),t()},V=e=>{const t="close";_(t,{type:t},e),A(t)},$=t=>{const{confirmClosable:n}=e,o="confirm";_(o,{type:o},t),n&&A(o)},N=t=>{const{cancelClosable:n}=e,o="cancel";_(o,{type:o},t),n&&A(o)},L=()=>{const{showFooter:n}=e,{initialized:o,visible:l}=D;return o||(D.initialized=!0),l||(D.visible=!0,D.contentVisible=!1,M(),pv.push(I),setTimeout(()=>{F(),D.contentVisible=!0,t(()=>{if(n){const e=C.value,t=E.value,n=e||t;n&&n.focus()}const e={type:""};a("update:modelValue",!0),_("show",e,null)})},10)),t()},_=(e,t,n)=>{a(e,zp(n,{$drawer:I},t))},B={dispatchEvent:_,open:L,close:()=>A("close"),getBox:P},z=t=>{const n=x.value;if(e.maskClosable&&t.target===n){A("mask")}},j=e=>{if(jp.hasKey(e,Ap.ESCAPE)){const t=np.max(pv,e=>e.reactData.drawerZIndex);t&&setTimeout(()=>{if(t===I&&t.props.escClosable){const t="exit";_("close",{type:t},e),A(t)}},10)}},H=()=>{const{drawerZIndex:e}=D;pv.some(t=>t.reactData.visible&&t.reactData.drawerZIndex>e)&&M()},W=e=>{e.preventDefault();const{visibleHeight:t,visibleWidth:n}=ig(),o=e.target.getAttribute("type"),l=n,r=t,a=P(),i=a.clientWidth,s=a.clientHeight,c=e.clientX,u=e.clientY,d=a.offsetTop,p=a.offsetLeft,m={type:"resize"};document.onmousemove=e=>{let g,f,v,h;switch(e.preventDefault(),o){case"wl":g=c-e.clientX,v=g+i,p-g>0&&v>0&&(a.style.width=`${v<l?v:l}px`);break;case"st":f=u-e.clientY,h=s+f,d-f>0&&h>0&&(a.style.height=`${h<r?h:r}px`);break;case"wr":g=e.clientX-c,v=g+i,p+v+0<n&&v>0&&(a.style.width=`${v<l?v:l}px`);break;case"sb":f=e.clientY-u,h=f+s,d+h+0<t&&h>0&&(a.style.height=`${h<r?h:r}px`)}a.className=a.className.replace(/\s?is--drag/,"")+" is--drag",_("resize",m,e),D.resizeFlag++},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,D.resizeFlag++,setTimeout(()=>{a.className=a.className.replace(/\s?is--drag/,"")},50)}};Object.assign(I,B,{});const q=()=>{const{slots:t={},showTitleOverflow:n}=e,o=l.header||t.header;return e.showHeader?y("div",{class:["vxe-drawer--header",{"is--ellipsis":n}]},o?Gm(o({$drawer:I})):(()=>{const{slots:t={},showClose:n,title:o}=e,r=l.title||t.title,a=l.corner||t.corner;return[y("div",{class:"vxe-drawer--header-title"},r?Gm(r({$drawer:I})):o?Ng(o):Qp("vxe.alert.title")),y("div",{class:"vxe-drawer--header-right"},[a?y("div",{class:"vxe-drawer--corner-wrapper"},Gm(a({$drawer:I}))):Rm(),n?y("div",{class:["vxe-drawer--close-btn","trigger--btn"],title:Qp("vxe.drawer.close"),onClick:V},[y("i",{class:Mp().DRAWER_CLOSE})]):Rm()])]})()):Rm()},G=()=>{const{slots:t={},content:n}=e,o=l.default||t.default,r=l.left||t.left,a=l.right||t.right;return y("div",{class:"vxe-drawer--body"},[r?y("div",{class:"vxe-drawer--body-left"},Gm(r({$drawer:I}))):Rm(),y("div",{class:"vxe-drawer--body-default"},[y("div",{class:"vxe-drawer--content"},o?Gm(o({$drawer:I})):Ng(n))]),a?y("div",{class:"vxe-drawer--body-right"},Gm(a({$drawer:I}))):Rm(),y(cv,{class:"vxe-drawer--loading",modelValue:e.loading})])},U=()=>{const{slots:t={},showCancelButton:n,showConfirmButton:o,loading:r}=e,a=l.leftfoot||t.leftfoot,i=l.rightfoot||t.rightfoot,s=[];return n&&s.push(y(zg,{key:1,ref:E,content:e.cancelButtonText||Qp("vxe.button.cancel"),onClick:N})),o&&s.push(y(zg,{key:2,ref:C,loading:r,status:"primary",content:e.confirmButtonText||Qp("vxe.button.confirm"),onClick:$})),y("div",{class:"vxe-drawer--footer-wrapper"},[y("div",{class:"vxe-drawer--footer-left"},a?Gm(a({$drawer:I})):[]),y("div",{class:"vxe-drawer--footer-right"},i?Gm(i({$drawer:I})):s)])},K=()=>{const{slots:t={}}=e,n=l.footer||t.footer;return e.showFooter?y("div",{class:"vxe-drawer--footer"},n?Gm(n({$drawer:I})):[U()]):Rm()};return i(()=>e.width,F),i(()=>e.height,F),i(()=>e.modelValue,e=>{e?L():A("model")}),f(()=>{t(()=>{e.modelValue&&L(),F()}),e.escClosable&&jp.on(I,"keydown",j)}),v(()=>{jp.off(I,"keydown")}),b("$xeDrawer",I),I.renderVN=()=>{const{slots:t={},className:n,position:o,loading:r,lockScroll:a,padding:i,lockView:s,mask:c,resize:u,destroyOnClose:d}=e,{initialized:p,contentVisible:m,visible:g}=D,f=l.aside||t.aside,v=h.value,b=k.value,C=O.value;return y(S,{to:"body",disabled:!C||!p},[y("div",{ref:x,class:["vxe-drawer--wrapper",`pos--${o}`,n||"",{[`size--${v}`]:v,"is--padding":i,"lock--scroll":a,"lock--view":s,"is--resize":u,"is--mask":c,"is--visible":m,"is--active":g,"is--loading":r}],style:{zIndex:D.drawerZIndex},onClick:z},[y("div",{ref:w,class:"vxe-drawer--box",onMousedown:H},[f?y("div",{class:"vxe-drawer--aside"},Gm(f({$drawer:I}))):Rm(),y("div",{class:"vxe-drawer--container"},!D.initialized||d&&!D.visible?[]:[q(),G(),K(),u?y("span",{class:"vxe-drawer--resize"},[y("span",{class:`${b}-resize`,type:b,onMousedown:W})]):Rm()])])])])},I},render(){return this.renderVN()}});function gv(e){return np.find(pv,t=>t.props.id===e)}const fv={get:gv,close:function(e){const t=e?[gv(e)]:pv,n=[];return t.forEach(e=>{e&&n.push(e.close())}),Promise.all(n)},open:function(e){return function(e){return Vm(),new Promise(t=>{if(e&&e.id&&pv.some(t=>t.props.id===e.id))t("exist");else{const n=e.onHide,o=Object.assign(e,{key:np.uniqueId(),modelValue:!0,onHide(e){const l=Mm.drawers;n&&n(e),Mm.drawers=l.filter(e=>e.key!==o.key),t(e.type)}});Mm.drawers.push(o)}})}(Object.assign({},e))}},vv=Object.assign(mv,{install:function(e){e.component(mv.name,mv)}});Im.drawer=fv,Am.use(vv),Im.component(mv);const hv=vv,bv=Pm({name:"VxeEmpty",props:{imageUrl:String,imageStyle:Object,icon:String,status:String,content:[String,Number]},emits:[],setup(e,t){const{emit:n}=t,o=np.uniqueId(),l=r(),a=m({}),i={refElem:l},s={},c={xID:o,props:e,context:t,reactData:a,getRefMaps:()=>i,getComputeMaps:()=>s},u={dispatchEvent:(e,t,o)=>{n(e,zp(o,{$empty:c},t))}};Object.assign(c,u,{});return c.renderVN=()=>{const{imageUrl:t,imageStyle:n,icon:o,status:r,content:a}=e;return y("div",{ref:l,class:["vxe-empty",{[`theme--${r}`]:r}]},[y("div",{class:"vxe-empty--inner"},[t?y("div",{class:"vxe-empty--img-wrapper"},[y("img",{src:t,style:n})]):y("div",{class:"vxe-empty--icon-wrapper"},[y("i",{class:o||Mp().EMPTY_DEFAULT})]),y("div",{class:"vxe-empty--content-wrapper"},`${a||Qp("vxe.empty.defText")}`)])])},c},render(){return this.renderVN()}}),xv=Object.assign({},bv,{install(e){e.component(bv.name,bv)}});Am.use(xv),Im.component(bv);const wv=xv;class yv{constructor(e,t){const{formatter:n}=t;if(n)if(np.isString(n)){const e=dm.get(n);e&&e.formItemFormatMethod||Lm("vxe.error.notFormats",[n])}else if(np.isArray(n)){const e=dm.get(n[0]);e&&e.formItemFormatMethod||Lm("vxe.error.notFormats",[n[0]])}Object.assign(this,{id:np.uniqueId("item_"),title:t.title,field:t.field,span:t.span,align:t.align,verticalAlign:t.verticalAlign,titleBackground:t.titleBackground,titleBold:t.titleBold,titleAlign:t.titleAlign,titleWidth:t.titleWidth,titleColon:t.titleColon,vertical:t.vertical,padding:t.padding,titleAsterisk:t.titleAsterisk,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,titleOverflow:t.titleOverflow,showTitle:t.showTitle,resetValue:t.resetValue,visibleMethod:t.visibleMethod,visible:t.visible,showContent:t.showContent,folding:t.folding,collapseNode:t.collapseNode,className:t.className,contentClassName:t.contentClassName,contentStyle:t.contentStyle,titleClassName:t.titleClassName,titleStyle:t.titleStyle,itemRender:t.itemRender,rules:t.rules,formatter:n,showError:!1,errRule:null,slots:t.slots,children:[]})}update(e,t){this[e]=t}}function Cv(e,t){return t instanceof yv?t:new yv(e,t)}function Sv(e,t){return t?np.isString(t)?e.getItemByField(t):t:null}function Ev(e,t){const n=e.xeGrid;let{visibleMethod:o,itemRender:l,visible:r,field:a}=t;if(!1===r)return r;const i=Mg(l)?im.get(l.name):null,s=i?i.formItemVisibleMethod||i.itemVisibleMethod:null;if(!o&&s&&(o=s),!o)return!0;const c=e.props,{data:u}=c;return o({data:u,field:a,property:a,item:t,$form:e,$grid:n})}function Dv(e,t){Object.keys(e).forEach(n=>{i(()=>e[n],e=>{t.update(n,e)})})}function Tv(e,t,n,o){const{reactData:l}=e,r=e.props,{customLayout:a}=r,{staticItems:i}=l;if(a)i.some(e=>e.id===n.id)||i.push(n);else if(t){const e=t.parentNode,r=o?o.formItem:null,a=r?r.children:i;e&&(a.splice(np.arrayIndexOf(e.children,t),0,n),l.staticItems=i.slice(0))}}function Ov(e,t){const{reactData:n}=e,{staticItems:o}=n,l=np.findIndexOf(o,e=>e.id===t.id);l>-1&&o.splice(l,1),n.staticItems=o.slice(0)}const kv=Pm({name:"VxeIcon",props:{name:String,className:String,roll:Boolean,status:String,size:{type:String,default:()=>Rp().icon.size||Rp().size}},emits:["click"],setup(e,t){const{emit:n}=t,o=np.uniqueId(),{computeSize:l}=ym(e),r={xID:o,props:e,context:t},a=e=>{n("click",zp(e,{}))},i={dispatchEvent:(e,t,o)=>{n(e,zp(o,{$icon:r},t))}};Object.assign(r,i,{});return r.renderVN=()=>{const{name:t,roll:n,status:o,className:r}=e,i=l.value;return y("i",{class:["vxe-icon",`vxe-icon-${t}`,`${r||""}`,{[`size--${i}`]:i,[`theme--${o}`]:o,roll:n}],onClick:a})},r},render(){return this.renderVN()}});function Rv(e){return y("span",{class:"vxe-form--item-title-prefix"},[y(kv,{class:e.icon||Mp().FORM_PREFIX,status:e.iconStatus})])}function Iv(e){return y("span",{class:"vxe-form--item-title-suffix"},[y(kv,{class:e.icon||Mp().FORM_SUFFIX,status:e.iconStatus})])}const Pv=(e,t,n)=>{const o=e.props,l=e.reactData,r=e.xeGrid,{data:a,rules:i,readonly:s,disabled:c,span:u,titleBackground:d,titleBold:p,titleColon:m,titleAsterisk:g,vertical:f,padding:v}=o,{collapseAll:h}=l,{folding:b,field:x,itemRender:w,showError:y,className:C,vertical:S,padding:E,children:D,showContent:T}=t,O=Mg(w)?im.get(w.name):null,k=O?O.formItemClassName||O.itemClassName:"",R=t.span||u,I=np.eqNull(E)?v:E,P=np.eqNull(S)?f:S,F=np.eqNull(t.titleBackground)?d:t.titleBackground,M=np.eqNull(t.titleBold)?p:t.titleBold,A=np.eqNull(t.titleColon)?m:t.titleColon,V=np.eqNull(t.titleAsterisk)?g:t.titleAsterisk,$={data:a,disabled:c,readonly:s,field:x,property:x,item:t,$form:e,$grid:r},N=D&&D.length>0;let L=!1,_=!1;if(!s&&i){const e=i[x];e&&e.length&&(_=!0,L=e.some(e=>e.required))}return[n||N?"vxe-form--group":"","vxe-form--item",t.id,R?`vxe-form--item-col_${R} is--span`:"",C?np.isFunction(C)?C($):C:"",k?np.isFunction(k)?k($):k:"",{"is--colon":A,"is--tbg":F,"is--bold":M,"is--padding":I,"is--vertical":P,"is--asterisk":V,"hide--content":!1===T,"is--valid":_,"is--required":L,"is--hidden":b&&h,"is--active":Ev(e,t),"is--error":y}]},Fv=(e,t,n)=>{const o=e.props,l=e.xeGrid,{data:r,readonly:a,disabled:i,align:s,verticalAlign:c}=o,{field:u,itemRender:d,contentClassName:p,children:m}=t,g=Mg(d)?im.get(d.name):null,f=g?g.formItemContentClassName||g.itemContentClassName:"",v=np.eqNull(t.align)?s:t.align,h=np.eqNull(t.verticalAlign)?c:t.verticalAlign,b={data:r,disabled:i,readonly:a,field:u,property:u,item:t,$form:e,$grid:l},x=m&&m.length>0;return[n||x?"vxe-form--group-content vxe-form--item-row":"","vxe-form--item-content",v?`align--${v}`:"",h?`vertical-align--${h}`:"",f?np.isFunction(f)?f(b):f:"",p?np.isFunction(p)?p(b):p:""]};function Mv(e,t,n){const o=e.props,l=e.xeGrid,{data:r,readonly:a,disabled:i,titleAlign:s,titleWidth:c,titleOverflow:u,vertical:d}=o,{slots:p,title:m,field:g,itemRender:f,titleOverflow:v,vertical:h,showTitle:b,titleClassName:w,titleStyle:C,titlePrefix:S,titleSuffix:E,children:D,showContent:T}=t,{computeTooltipOpts:O}=e.getComputeMaps(),k=O.value,R=Mg(f)?im.get(f.name):null,I=R?R.formItemTitleClassName||R.itemTitleClassName:"",P=R?R.formItemTitleStyle||R.itemTitleStyle:null,F=np.eqNull(h)?d:h,M=np.eqNull(t.titleAlign)?s:t.titleAlign,A=F?null:np.eqNull(t.titleWidth)?c:t.titleWidth,V=np.eqNull(v)?u:v,$="title"===V,N=!0===V||"tooltip"===V,L=$||N||"ellipsis"===V,_={data:r,disabled:i,readonly:a,field:g,property:g,item:t,$form:e,$grid:l},B=p?p.title:null,z=p?p.extra:null,j=!1!==b&&(m||B),H=D&&D.length>0,W=[];S&&W.push(S.content||S.message?y(Bg,Object.assign(Object.assign(Object.assign({},k),S),{content:Ng(S.content||S.message)}),{default:()=>Rv(S)}):Rv(S));const q=R?R.renderFormItemTitle||R.renderItemTitle:null;W.push(y("span",{class:"vxe-form--item-title-label"},B?e.callSlot(B,_):q?Gm(q(f,_)):Ng(t.title)));const G=[];E&&G.push(E.content||E.message?y(Bg,Object.assign(Object.assign(Object.assign({},k),E),{content:Ng(E.content||E.message)}),{default:()=>Iv(E)}):Iv(E));const U=N?{onMouseenter(t){e.triggerTitleTipEvent(t,_)},onMouseleave:e.handleTitleTipLeaveEvent}:{};return j?y("div",Object.assign({class:[n||H?"vxe-form--group-title":"","vxe-form--item-title",M?`align--${M}`:"",L?"is--ellipsis":"",I?np.isFunction(I)?I(_):I:"",w?np.isFunction(w)?w(_):w:""],style:Object.assign({},np.isFunction(P)?P(_):P,np.isFunction(C)?C(_):C,A&&!1!==T?{width:ag(A)}:null),title:$?Ng(m):null},U),[y("div",{class:"vxe-form--item-title-content"},W),y("div",{class:"vxe-form--item-title-postfix"},G),z?y("div",{class:"vxe-form--item-title-extra"},e.callSlot(z,_)):x()]):x()}const Av=(e,t)=>{const n=e.props,o=e.reactData,l=e.internalData,r=e.xeGrid,{computeCollapseOpts:a,computeValidOpts:i}=e.getComputeMaps(),{itemFormatCache:s}=l,{data:c,readonly:u,disabled:d}=n,{collapseAll:p}=o,{slots:m,field:g,itemRender:f,collapseNode:v,errRule:h,formatter:b}=t,x=m?m.default:null,w=m?m.valid:null,C=a.value,S=i.value,E=Mg(f)?im.get(f.name):null,D=np.get(c,g),T={data:c,disabled:d,readonly:u,field:g,property:g,item:t,itemValue:D,$form:e,$grid:r};let O=[];const k=E?E.renderFormItemContent||E.renderItemContent:null;if(x)O=e.callSlot(x,T);else if(k)O=Gm(k(f,T));else if(g){let e=D;if(b){let t;if(g){const e=s[g];if(e)if(t=e.formatData,t){if(t.value===D)return t.label}else t=e.formatData={};else s[g]={field:g}}if(np.isString(b)){const t=dm.get(b),n=t?t.formItemFormatMethod:null;e=n?n(T):""}else if(np.isArray(b)){const t=dm.get(b[0]),n=t?t.formItemFormatMethod:null;e=n?n(T,...b.slice(1)):""}else e=b(T);t&&(t.value=D,t.label=e)}O=[Lg(e)?"":`${e}`]}if(v&&O.push(y("div",{class:"vxe-form--item-trigger-node",onClick:e.toggleCollapseEvent},[y("span",{class:"vxe-form--item-trigger-text"},p?C.unfoldButtonText||Qp("vxe.form.unfolding"):C.foldButtonText||Qp("vxe.form.folding")),y("i",{class:["vxe-form--item-trigger-icon",p?C.foldIcon||Mp().FORM_FOLDING:C.unfoldIcon||Mp().FORM_UNFOLDING]})])),h&&S.showMessage){const t=Object.assign(Object.assign({},T),{rule:h});O.push(y("div",{class:"vxe-form-item--valid-error-tip",style:h.maxWidth?{width:ag(h.maxWidth)}:null},[y("div",{class:`vxe-form-item--valid-error-wrapper vxe-form-item--valid-error-theme-${S.theme||"normal"}`},[w?e.callSlot(w,t):[y("span",{class:"vxe-form--item--valid-error-msg"},h.content||h.message)]])]))}return y("div",{class:"vxe-form--item-inner"},O)},Vv=Pm({name:"VxeFormConfigItem",props:{itemConfig:Object},setup(e){const t=n("$xeForm",{}),o={itemConfig:e.itemConfig};b("xeFormItemInfo",o);const l=(e,t)=>{const n=e.props,o=e.xeGrid,{data:r,readonly:a,disabled:i}=n,{visible:s,field:c,itemRender:u,contentStyle:d,children:p,showContent:m}=t,g=Mg(u)?im.get(u.name):null,f=g?g.formItemStyle||g.itemStyle:null,v=g?g.formItemContentStyle||g.itemContentStyle:null,h={data:r,disabled:i,readonly:a,field:c,property:c,item:t,$form:e,$grid:o},b=p&&p.length>0;return!1===s?x():y("div",{key:t.id,class:Pv(e,t),style:np.isFunction(f)?f(h):f},[Mv(e,t),!1===m?x():y("div",{class:Fv(e,t),style:Object.assign({},np.isFunction(v)?v(h):v,np.isFunction(d)?d(h):d)},b?p.map(t=>l(e,t)):[Av(e,t)])])},r={renderVN:()=>l(t,e.itemConfig)};return b("$xeFormGroup",null),r},render(){return this.renderVN()}});let $v=class{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.min,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return Ng(this.$options.content||this.$options.message)}get message(){return this.content}};function Nv(e,t){return!(!np.eqNull(e)&&t>np.toNumber(e))}function Lv(e,t){return!(!np.eqNull(e)&&t<np.toNumber(e))}function _v(e,t,n){const{type:o,min:l,max:r,pattern:a}=e,i="array"===o,s="number"===o,c="string"===o,u=`${t}`;if(!function(e,t){return!(e&&!(np.isRegExp(e)?e:new RegExp(e)).test(t))}(a,u))return!1;if(i){if(!np.isArray(t))return!1;if(n&&!t.length)return!1;if(!Lv(l,t.length))return!1;if(!Nv(r,t.length))return!1}else if(s){const e=Number(t);if(isNaN(e))return!1;if(!Lv(l,e))return!1;if(!Nv(r,e))return!1}else{if(c&&!np.isString(t))return!1;if(n&&!u)return!1;if(!Lv(l,u.length))return!1;if(!Nv(r,u.length))return!1}return!0}const Bv=Pm({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:()=>Rp().form.size||Rp().size},span:{type:[String,Number],default:()=>Rp().form.span},align:{type:String,default:()=>Rp().form.align},verticalAlign:{type:String,default:()=>Rp().form.verticalAlign},border:{type:Boolean,default:()=>Rp().form.border},titleBackground:{type:Boolean,default:()=>Rp().form.titleBackground},titleBold:{type:Boolean,default:()=>Rp().form.titleBold},titleAlign:{type:String,default:()=>Rp().form.titleAlign},titleWidth:{type:[String,Number],default:()=>Rp().form.titleWidth},titleColon:{type:Boolean,default:()=>Rp().form.titleColon},titleAsterisk:{type:Boolean,default:()=>Rp().form.titleAsterisk},titleOverflow:{type:[Boolean,String],default:()=>Rp().form.titleOverflow},vertical:{type:Boolean,default:()=>Rp().form.vertical},padding:{type:Boolean,default:()=>Rp().form.padding},className:[String,Function],readonly:Boolean,disabled:Boolean,items:Array,rules:Object,preventSubmit:{type:Boolean,default:()=>Rp().form.preventSubmit},validConfig:Object,tooltipConfig:Object,collapseConfig:Object,customLayout:{type:Boolean,default:()=>Rp().form.customLayout}},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup(e,o){const{slots:l,emit:a}=o,s=n("$xeGrid",null),c=np.uniqueId(),{computeSize:u}=ym(e),d=m({collapseAll:e.collapseStatus,staticItems:[],formItems:[]}),p=m({meTimeout:void 0,stTimeout:void 0,tooltipStore:{item:null,visible:!1},itemFormatCache:{}}),v=r(),h=r();let x={};const w=g(()=>Object.assign({},Rp().form.validConfig,e.validConfig)),C=g(()=>Object.assign({},Rp().tooltip,Rp().form.tooltipConfig,e.tooltipConfig)),S=g(()=>Object.assign({},Rp().form.collapseConfig,e.collapseConfig)),E={refElem:v},D={computeSize:u,computeValidOpts:w,computeTooltipOpts:C,computeCollapseOpts:S},T={xID:c,props:e,context:o,reactData:d,internalData:p,xeGrid:s,getRefMaps:()=>E,getComputeMaps:()=>D},O=e=>(e.length&&e.forEach(e=>{e.slots&&np.each(e.slots,e=>{np.isFunction(e)||l[e]||Lm("vxe.error.notSlot",[e])})}),d.staticItems=np.mapTree(e,e=>Cv(T,e),{children:"children"}),p.itemFormatCache={},t()),k=()=>{const e=[];return np.eachTree(d.formItems,t=>{e.push(t)},{children:"children"}),e},R=e=>{const t=np.findTree(d.formItems,t=>t.field===e,{children:"children"});return t?t.item:null},I=()=>d.collapseAll,P=()=>{const e=!I();return d.collapseAll=e,a("update:collapseStatus",e),t()},F=e=>{if(e){let t=e;np.isArray(e)||(t=[e]),t.forEach(e=>{if(e){const t=Sv(T,e);t&&(t.showError=!1)}})}else k().forEach(e=>{e.showError=!1});return t()},M=(e,t,n)=>{const{field:o,resetValue:l}=e;return np.isFunction(l)?l({field:o,item:e,data:t,$form:T,$grid:s}):np.eqNull(l)&&np.isArray(n)?[]:l},A=()=>{const{data:t}=e,n=k();return t&&n.forEach(e=>{const{field:n,itemRender:o}=e;if(Mg(o)){const{name:l,startField:r,endField:a}=o,i=im.get(l),c=i?i.formItemResetMethod||i.itemResetMethod:null;if(i&&c)c({data:t,field:n,property:n,item:e,$form:T,$grid:s});else if(n){const o=np.get(t,n);np.set(t,n,M(e,t,o))}r&&a&&(np.set(t,r,M(e,t,np.get(t,r))),np.set(t,a,M(e,t,np.get(t,a))))}}),p.itemFormatCache={},F()},V=t=>{t.preventDefault(),A(),x.dispatchEvent("reset",{data:e.data},t)},$=(t,n,o)=>{const{data:l,rules:r}=e,a={};return np.isArray(n)||(n=[n]),Promise.all(n.map(e=>{const n=[],i=[];if(e&&r){const a=np.get(r,e);if(a){const r=np.isUndefined(o)?np.get(l,e):o;a.forEach(o=>{const{trigger:s,validator:c}=o;if("all"===t||!s||t===s)if(c){const t={itemValue:r,rule:o,rules:a,data:l,field:e,property:e,$form:T};let u;if(np.isString(c)){const e=cm.get(c);if(e){const n=e.formItemValidatorMethod||e.itemValidatorMethod;n?u=n(t):Nm("vxe.error.notValidators",[c])}else Lm("vxe.error.notValidators",[c])}else u=c(t);u&&(np.isError(u)?n.push(new $v({type:"custom",trigger:s,content:u.message,rule:new $v(o)})):u.catch&&i.push(u.catch(e=>{n.push(new $v({type:"custom",trigger:s,content:e?e.message:o.content||o.message,rule:new $v(o)}))})))}else(function(e,t){const{required:n}=e,o=np.isArray(t)?!t.length:Lg(t);if(n){if(o)return!1;if(!_v(e,t,n))return!1}else if(!o&&!_v(e,t,n))return!1;return!0})(o,r)||n.push(new $v(o))})}}return Promise.all(i).then(()=>{n.length&&(a[e]=n.map(t=>({$form:T,rule:t,data:l,field:e,property:e})))})})).then(()=>{if(!np.isEmpty(a))return Promise.reject(a)})},N=(n,o,l)=>{const{data:r,rules:a}=e,i=w.value,c={},u=[],d=[];return clearTimeout(p.meTimeout),r&&a?(n.forEach(e=>{const{field:t}=e;t&&!function(e,t){const{reactData:n}=e,{collapseAll:o}=n,{folding:l,visible:r}=t;return!1===r||l&&o}(T,e)&&Ev(T,e)&&d.push($(o||"all",t).then(()=>{e.errRule=null}).catch(n=>{const o=n[t];return c[t]||(c[t]=[]),c[t].push(o),u.push(t),e.errRule=o[0].rule,Promise.reject(o)}))}),Promise.all(d).then(()=>{l&&l()}).catch(()=>new Promise(o=>{p.meTimeout=setTimeout(()=>{n.forEach(e=>{e.errRule&&(e.showError=!0)})},20),!1!==i.autoPos&&t(()=>{(t=>{const n=v.value;if(n)for(let o=0;o<t.length;o++){const l=t[o],r=R(l);if(r&&Mg(r.itemRender)){const{itemRender:t}=r,a=im.get(t.name);o||mg(n.querySelector(`.${r.id}`));let i=null;const c=t.autoFocus||t.autofocus||(a?a.formItemAutoFocus:null);if(np.isFunction(c)?i=c({$form:T,$grid:s,item:r,data:e.data,field:l}):!0===c?i=n.querySelector(`.${r.id} input,textarea`):c&&(i=n.querySelector(`.${r.id} ${c}`)),i){i.focus();break}}}})(u)}),l?(l(c),o()):o(c)}))):(l&&l(),Promise.resolve())},L=t=>{const{readonly:n}=e;if(t.preventDefault(),!e.preventSubmit){if(F(),n)return void x.dispatchEvent("submit",{data:e.data},t);N(k()).then(n=>{n?x.dispatchEvent("submit-invalid",{data:e.data,errMap:n},t):x.dispatchEvent("submit",{data:e.data},t)})}},_=()=>{const{tooltipStore:e}=p,n=h.value;return e.visible&&(Object.assign(e,{item:null,visible:!1}),n&&n.close()),t()},B=(e,n,o)=>n?$(e?["blur"].includes(e.type)?"blur":"change":"all",n,o).then(()=>{F(n)}).catch(e=>{const t=e[n],o=R(n);t&&o&&(o.showError=!0,o.errRule=t[0].rule)}):t();x={dispatchEvent(e,t,n){a(e,zp(n,{$form:T,$grid:s},t))},reset:A,validate:n=>{const{readonly:o}=e;return F(),o?t():N(k(),"",n)},validateField:(n,o)=>{const{readonly:l}=e;if(l)return t();let r=[];return n&&(r=np.isArray(n)?n:[n]),N(r.map(e=>Sv(T,e)),"",o)},clearValidate:F,updateStatus:(e,t)=>{const{field:n}=e;return B(new Event("change"),n,t)},toggleCollapse:P,getItems:k,getItemByField:R,closeTooltip:_};const z={callSlot:(e,t)=>e&&(np.isString(e)&&(e=l[e]||null),np.isFunction(e))?Gm(e(t)):[],triggerItemEvent:B,toggleCollapseEvent:n=>{P();const o=I();x.dispatchEvent("toggle-collapse",{status:o,collapse:o,data:e.data},n),x.dispatchEvent("collapse",{status:o,collapse:o,data:e.data},n),t(()=>{s&&s.recalculate()})},triggerTitleTipEvent:(e,t)=>{const{item:n}=t,{tooltipStore:o}=p,l=h.value,r=e.currentTarget.children[0],a=(r.textContent||"").trim(),i=r.scrollWidth>r.clientWidth;clearTimeout(p.stTimeout),o.item!==n&&_(),a&&i&&(Object.assign(o,{item:n,visible:!0}),l&&l.open(r,a))},handleTitleTipLeaveEvent:()=>{const e=C.value;let t=h.value;t&&t.setActived(!1),e.enterable?p.stTimeout=setTimeout(()=>{t=h.value,t&&!t.isActived()&&_()},e.leaveDelay):_()}};Object.assign(T,x,z);const j=r(0);i(()=>d.staticItems.length,()=>{j.value++}),i(()=>d.staticItems,()=>{j.value++}),i(j,()=>{d.formItems=d.staticItems});const H=r(0);return i(()=>e.items?e.items.length:-1,()=>{H.value++}),i(()=>e.items,()=>{H.value++}),i(H,()=>{O(e.items||[])}),i(()=>e.collapseStatus,e=>{d.collapseAll=!!e}),i(()=>e.readonly,()=>{F()}),i(()=>e.disabled,()=>{F()}),f(()=>{t(()=>{e.customLayout&&e.items&&Lm("vxe.error.errConflicts",["custom-layout","items"])})}),e.items&&O(e.items),b("xeFormItemInfo",null),b("$xeForm",T),b("$xeFormGroup",null),b("$xeFormItem",null),T.renderVN=()=>{const{loading:t,border:n,className:o,data:r,customLayout:a}=e,{formItems:i}=d,s=u.value,c=C.value,p=l.default;return y("form",{ref:v,class:["vxe-form",o?np.isFunction(o)?o({items:i,data:r,$form:T}):o:"",{[`size--${s}`]:s,"is--border":n,"custom--layout":a,"is--loading":t}],onSubmit:L,onReset:V},[y("div",{class:"vxe-form--wrapper vxe-form--item-row"},a?p?p({}):[]:i.map((e,t)=>y(Vv,{key:t,itemConfig:e}))),y("div",{class:"vxe-form-slots",ref:"hideItem"},a?[]:p?p({}):[]),y(af,{class:"vxe-form--loading",modelValue:t}),y(Bg,Object.assign({ref:h},c))])},T},render(){return this.renderVN()}}),zv="modelValue";function jv(e){return`vxe-${e.replace("$","")}`}function Hv({name:e}){return Om(e)||C(e)}function Wv({name:e}){return C(jv(e))}function qv(e){let{name:t,attrs:n}=e;return"input"===t&&(n=Object.assign({type:"text"},n)),n}function Gv(e,t,n,o){return np.assign({},o,e.props,{[zv]:n})}function Uv(e,t,n,o){const{events:l}=e,{model:r,change:a}=n||{},i=Wm(e.name),s=qm(e.name),c={};return np.objectEach(l,(e,n)=>{c[Hm(n)]=function(...n){np.isFunction(e)||Lm("vxe.error.errFunc",[e]),e(t,...n)}}),r&&(c[Hm(i)]=function(e){r(e),l&&l[i]&&l[i](t,e)}),a&&(c[Hm(s)]=function(...e){a(...e),l&&l[s]&&l[s](t,...e)}),o?Object.assign(c,o):c}function Kv(e,t){const{$form:n,data:o,field:l}=t;return Uv(e,t,{model(e){np.set(o,l,e)},change(e){n.updateStatus(e)}})}function Yv(e,t){const{$form:n,data:o,field:l}=t;return function(e,t,n,o){const{events:l}=e,r=Wm(e.name),a=qm(e.name),i=a===r,s={};return l&&np.objectEach(l,(e,n)=>{s[Hm(n)]=function(...n){e(t,...n)}}),n&&(s[Hm(r)]=function(e){n(e),i&&o&&o(e),l&&l[r]&&l[r](t,e)}),!i&&o&&(s[Hm(a)]=function(...e){o(...e),l&&l[a]&&l[a](t,...e)}),s}(e,t,e=>{const t=e.target.value;np.set(o,l,t)},()=>{n.updateStatus(t)})}function Xv(e,t,n){const{optionGroups:o,optionGroupProps:l={}}=e,r=l.options||"options",a=l.label||"label";return o?o.map((o,l)=>y("optgroup",{key:l,label:o[a]},n(o[r],e,t))):[]}function Zv(e,t){const{data:n,field:o}=t,{name:l}=e,r=qv(e),a=np.get(n,o);return[y(l,Object.assign(Object.assign(Object.assign({class:`vxe-default-${l}`},r),{value:!r||"input"!==l||"submit"!==r.type&&"reset"!==r.type?a:null}),Yv(e,t)))]}function Qv(e,t){const{data:n,field:o}=t,l=np.get(n,o);return[y(Hv(e),Object.assign(Object.assign({},Gv(e,0,l)),Kv(e,t)))]}function Jv(e,t){const{data:n,field:o}=t,l=np.get(n,o);return[y(Wv(e),Object.assign(Object.assign({},Gv(e,0,l)),Kv(e,t)))]}function eh(e,t){return[y(C("vxe-button"),Object.assign(Object.assign({},Gv(e,0,null)),Uv(e,t)))]}function th(e,t,n){const{data:o,field:l}=n,{optionProps:r={}}=t,a=r.label||"label",i=r.value||"value",s=r.disabled||"disabled",c=np.get(o,l);return e?e.map((e,t)=>y("option",{key:t,value:e[i],disabled:e[s],selected:e[i]==c},e[a])):[]}function nh(e,t){const{data:n,field:o}=t,l=np.get(n,o);return[y(Hv(e),Object.assign(Object.assign({},Gv(e,0,l)),Kv(e,t)))]}function oh(e,t){const{options:n,optionProps:o}=e,{data:l,field:r}=t,a=np.get(l,r);return[y(Hv(e),Object.assign(Object.assign({options:n,optionProps:o},Gv(e,0,a)),Kv(e,t)))]}function lh(e,t){const{name:n,options:o,optionProps:l={}}=e,{data:r,field:a}=t,i=l.label||"label",s=l.value||"value",c=l.disabled||"disabled",u=np.get(r,a),d=jv(n);return o?[y(C(`${d}-group`),Object.assign(Object.assign({},Gv(e,0,u)),Kv(e,t)),{default:()=>o.map((e,t)=>y(C(d),{key:t,label:e[s],content:e[i],disabled:e[c]}))})]:[y(C(d),Object.assign(Object.assign({},Gv(e,0,u)),Kv(e,t)))]}im.mixin({input:{formItemAutoFocus:"input",renderFormItemContent:Zv},textarea:{formItemAutoFocus:"textarea",renderFormItemContent:Zv},select:{formItemAutoFocus:"input",renderFormItemContent:(e,t)=>[y("select",Object.assign(Object.assign({class:"vxe-default-select"},qv(e)),Yv(e,t)),e.optionGroups?Xv(e,t,th):th(e.options,e,t))]},VxeInput:{formItemAutoFocus:"input",renderFormItemContent:Qv},VxeNumberInput:{formItemAutoFocus:"input",renderFormItemContent:Qv},VxePasswordInput:{formItemAutoFocus:"input",renderFormItemContent:Qv},VxeTextarea:{formItemAutoFocus:"textarea",renderFormItemContent:Qv},VxeDatePicker:{formItemAutoFocus:"input",renderFormItemContent:Qv},VxeDateRangePicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{startField:n,endField:o}=e,{$form:l,data:r,field:a}=t,i=np.get(r,a),s={},c={};return n&&o&&(s.startValue=np.get(r,n),s.endValue=np.get(r,o),c["onUpdate:startValue"]=e=>{n&&np.set(r,n,e)},c["onUpdate:endValue"]=e=>{o&&np.set(r,o,e)}),[y(Hv(e),Object.assign(Object.assign({},Gv(e,0,i,s)),Uv(e,t,{model(e){np.set(r,a,e)},change(){l.updateStatus(t)}},c)))]}},VxeButton:{renderFormItemContent:nh},VxeButtonGroup:{renderFormItemContent(e,t){const{options:n}=e,{data:o,field:l}=t,r=np.get(o,l);return[y(Hv(e),Object.assign(Object.assign({options:n},Gv(e,0,r)),Kv(e,t)))]}},VxeSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i}=e,s=np.get(n,o);return[y(Hv(e),Object.assign(Object.assign({},Gv(e,0,s,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i})),Kv(e,t)))]}},VxeTreeSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l,optionProps:r}=e,a=np.get(n,o);return[y(Hv(e),Object.assign(Object.assign({},Gv(e,0,a,{options:l,optionProps:r})),Kv(e,t)))]}},VxeTableSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l,optionProps:r}=e,a=np.get(n,o);return[y(Hv(e),Object.assign(Object.assign({},Gv(e,0,a,{options:l,optionProps:r})),Kv(e,t)))]}},VxeColorPicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l}=e,r=np.get(n,o);return[y(Hv(e),Object.assign(Object.assign({},Gv(e,0,r,{colors:l})),Kv(e,t)))]}},VxeIconPicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l}=e,r=np.get(n,o);return[y(Hv(e),Object.assign(Object.assign({},Gv(e,0,r,{icons:l})),Kv(e,t)))]}},VxeRadio:{renderFormItemContent:nh},VxeRadioGroup:{renderFormItemContent:oh},VxeCheckbox:{renderFormItemContent:nh},VxeCheckboxGroup:{renderFormItemContent:oh},VxeSwitch:{renderFormItemContent:Qv},VxeRate:{renderFormItemContent:Qv},VxeSlider:{renderFormItemContent:Qv},VxeImage:{renderFormItemContent(e,t){const{data:n,field:o}=t,{props:l}=e,r=np.get(n,o);return[y(Hv(e),Object.assign(Object.assign(Object.assign({},l),{src:r}),Kv(e,t)))]}},VxeImageGroup:{renderFormItemContent(e,t){const{data:n,field:o}=t,{props:l}=e,r=np.get(n,o);return[y(Hv(e),Object.assign(Object.assign(Object.assign({},l),{urlList:r}),Kv(e,t)))]}},VxeUpload:{renderFormItemContent:Qv},$input:{formItemAutoFocus:"input",renderFormItemContent:Jv},$textarea:{formItemAutoFocus:"textarea",renderFormItemContent:Jv},$button:{renderFormItemContent:eh},$buttons:{renderFormItemContent:function(e,t){return e.children.map(e=>eh(e,t)[0])}},$select:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i}=e,s=np.get(n,o);return[y(Wv(e),Object.assign(Object.assign({},Gv(e,0,s,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i})),Kv(e,t)))]}},$radio:{renderFormItemContent:lh},$checkbox:{renderFormItemContent:lh},$switch:{renderFormItemContent:Jv}});const rh=Object.assign(Bv,{install(e){e.component(Bv.name,Bv)}});Am.use(rh),Im.component(Bv);const ah=rh;let ih=1e5;const sh=e=>{if(e){return"layout"===uh(e.name).group}return!1},ch=r({}),uh=e=>ch.value[e]||{};class dh{constructor(e,t,n){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"field",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:{update:!1,value:""}});let o="";if(t){const n=im.get(t)||{};if(n){const l=ch.value,r=n.createFormDesignWidgetConfig;if(r){const n={name:t,$formDesign:e},a=r(n)||{},i=a.title,s=a.field;this.title=np.toValueString(np.isFunction(i)?i(n):i),this.options=a.options||{},this.children=a.children||[],s&&(o=np.isFunction(s)?s({name:t,$formDesign:e}):s),l[t]||(l[t]=Object.assign({},a),ch.value=Object.assign({},l))}}}const l=function(e){return np.eachTree(e,e=>{e&&(ih=Math.max(ih,e.id))},{children:"children"}),++ih}(n);o&&(((e,t)=>!np.findTree(t,t=>t.field===e,{children:"children"}))(o,n)||Lm("vxe.error.uniField",[o])),this.id=l,this.field=o||`${t}${l}`,this.name=t}}function ph(e){const t=new dh(null,e.name,[]);return t.id=e.id,t.title=e.title||"",t.field=e.field||"",t.required=e.required||!1,t.hidden=e.hidden||!1,t.options=Object.assign({},t.options,e.options),t.children=e.children?e.children.map(e=>ph(e)):[],t}const mh=Pm({props:{},emits:[],setup(){const e=n("$xeFormDesign",null);if(!e)return()=>[];const{reactData:t}=e,o=n=>{const o=n.currentTarget,l=n.dataTransfer,r=o.getAttribute("data-widget-name")||"";if(e.validWidgetUnique(r)){const n=e.createWidget(r);l&&l.setData("text/plain",r),t.sortWidget=null,t.dragWidget=n}else n.preventDefault()},l=n=>{if(n.preventDefault(),t.dragWidget){const o=t.dragWidget;t.activeWidget=o,e.dispatchEvent("add-widget",{newWidget:o},n)}t.dragWidget=null,t.sortWidget=null},r=n=>{const r=[];return n.children&&n.children.forEach((n,a)=>{const{name:i}=n,s=function(e,t){const n=uh(e);if(n){const o=n.title,l={name:e,$formDesign:t};return np.toValueString(np.isFunction(o)?o(l):o)}return e}(i,e),c=im.get(i)||{},u=uh(i),d=c.renderFormDesignWidgetItem;r.push(y("div",{key:a,class:"vxe-form-design--widget-item"},y("div",{class:"vxe-form-design--widget-box","data-widget-name":i,title:s,draggable:!0,onDragstart:o,onDragend:l},d?Gm(d({},{$formDesign:e})):[y("i",{class:["vxe-form-design--widget-item-icon",u&&u.icon||""]}),y("span",{class:"vxe-form-design--widget-item-name"},s),y("span",{class:"vxe-form-design--widget-item-add",onClick(n){((n,o)=>{if(e.validWidgetUnique(o)){const{widgetObjList:l}=t,r=e.createWidget(o);l.push(r),t.activeWidget=r,t.sortWidget=null,t.dragWidget=null,e.dispatchEvent("add-widget",{newWidget:r},n)}})(n,i)}},[y("i",{class:Mp().FORM_DESIGN_WIDGET_ADD})])])))}),r},a=()=>{const{widgetConfigs:e}=t;return e.map((e,n)=>{const{title:o,group:l}=e;return y("div",{key:n,class:"vxe-form-design--widget-group"},[y("div",{class:"vxe-form-design--widget-title"},l?Qp(`vxe.formDesign.widget.group.${l}`):`${o||""}`),y("div",{class:"vxe-form-design--widget-list",onDragover(n){((e,n)=>{const{widgetObjList:o,dragWidget:l}=t;if(l&&n.children.some(e=>e.name===l.name)){const e=np.findTree(o,e=>e&&e.id===l.id,{children:"children"});e&&e.items.splice(e.index,1)}})(0,e)}},r(e))])})};return()=>y("div",{class:"vxe-form-design--widget"},a())}}),gh=Pm({name:"FormDesignLayoutViewItem",props:{item:{type:Object,default:()=>({})},itemIndex:{type:Number,default:0},items:{type:Array,default:()=>[]}},emits:[],setup(e,{slots:t}){const o=n("$xeFormDesign",null);if(!o)return()=>[];const{reactData:l}=o,r=e=>{const{widgetObjList:t}=l,n=e.currentTarget,o=Number(n.getAttribute("data-widget-id")),r=np.findTree(t,e=>e&&e.id===o,{children:"children"});r&&(l.dragWidget=null,l.sortWidget=r.item)},a=()=>{l.activeWidget=l.sortWidget,l.sortWidget=null},i=e=>{const{widgetObjList:t,sortWidget:n}=l,r=o.internalData,{lastDragTime:a}=r;if(a&&a>Date.now()-300)e.preventDefault();else if(n){const l=e.currentTarget;e.preventDefault();const a=Number(l.getAttribute("data-widget-id"));if(a!==n.id){const l=np.findTree(t,e=>e&&e.id===a,{children:"children"});if(l){const a=np.findTree(t,e=>e&&e.id===n.id,{children:"children"});a&&(a.parent&&"row"===a.parent.name?a.items[a.index]=o.createEmptyWidget():a.items.splice(a.index,1),l.items.splice(l.index,0,a.item),r.lastDragTime=Date.now(),o.dispatchEvent("drag-widget",{widget:a.item},e))}}}};return()=>{const{dragWidget:n,activeWidget:s,sortWidget:c}=l,{item:u}=e,{name:d}=u,p=s&&s.id===u.id,m=t.default;return y("div",{key:u.id,"data-widget-id":u.id,draggable:!0,class:["vxe-form-design--preview-item",`widget-${np.kebabCase(d)}`,{"is--active":p,"is--sort":c&&c.id===u.id,"is--drag":n&&n.id===u.id}],onDragstart:r,onDragend:a,onDragenter:i,onClick(e){((e,t)=>{o.handleClickWidget(e,t)})(e,u)}},[y("div",{class:"vxe-form-design--preview-item-view vxe-form--item-row"},m?m({}):[]),p?y("div",{class:"vxe-form-design--preview-item-operate"},[y(zg,{icon:Mp().FORM_DESIGN_WIDGET_COPY,status:"primary",size:"mini",circle:!0,onClick(e){o.handleCopyWidget(e.$event,u)}}),y(zg,{icon:Mp().FORM_DESIGN_WIDGET_DELETE,status:"danger",size:"mini",circle:!0,onClick(e){o.handleRemoveWidget(e.$event,u)}})]):x()])}}}),fh=Pm({name:"FormDesignLayoutPreview",props:{},emits:[],setup(){const e=n("$xeFormDesign",null);if(!e)return()=>[];const{reactData:t}=e,o=n=>{const{widgetObjList:o,dragWidget:l}=t;if(l){n.preventDefault();np.findTree(o,e=>e&&e.id===l.id,{children:"children"})||(t.sortWidget=l,o.push(l),e.dispatchEvent("drag-widget",{widget:l},n))}},l=e=>{e.preventDefault()};let r=Date.now();const a=n=>{const{widgetObjList:o,sortWidget:l}=t;if(n.stopPropagation(),r>Date.now()-300)n.preventDefault();else if(l){if(sh(l))return;const t=np.findTree(o,e=>e.id===l.id,{children:"children"});if(t){const{item:l,index:a,items:i,parent:s}=t;s&&"row"===s.name?t.items[t.index]=e.createEmptyWidget():i.splice(a,1),o.unshift(l),r=Date.now(),e.dispatchEvent("drag-widget",{widget:l},n)}}},i=n=>{const{widgetObjList:o,sortWidget:l}=t;if(n.stopPropagation(),r>Date.now()-300)n.preventDefault();else if(l){if(sh(l))return;const t=np.findTree(o,e=>e.id===l.id,{children:"children"});if(t){const{item:l,index:a,items:i,parent:s}=t;s&&"row"===s.name?t.items[t.index]=e.createEmptyWidget():i.splice(a,1),o.push(l),r=Date.now(),e.dispatchEvent("drag-widget",{widget:l},n)}}};return()=>{const{widgetObjList:n}=t;return y("div",{class:"vxe-form-design--preview",onDragenter:o,onDragover:l},[y("div",{class:"vxe-form-design--preview-wrapper"},[y("div",{class:"vxe-form-design--preview-place-widget",onDragenter:a}),y(Bv,{customLayout:!0,span:24,vertical:!0},{default:()=>y(E,{class:"vxe-form-design--preview-list",tag:"div",name:"vxe-form-design--preview-list"},{default:()=>n.map((t,o)=>y(gh,{key:t.id,item:t,itemIndex:o,items:n},{default(){const{name:n}=t,o=im.get(n)||{},l=o.renderFormDesignWidgetEdit||o.renderFormDesignWidgetView,r=!0;return l?Gm(l(t,{widget:t,readonly:!1,disabled:!1,isEditMode:r,isViewMode:!1,$formDesign:e,$formView:null})):[]}}))})}),y("div",{class:"vxe-form-design--preview-place-widget",onDragenter:i})])])}}}),vh=Pm({name:"VxeTabs",props:{modelValue:[String,Number,Boolean],options:Array,height:[String,Number],destroyOnClose:Boolean,titleWidth:[String,Number],titleAlign:[String,Number],type:String,showClose:Boolean,padding:{type:Boolean,default:()=>Rp().tabs.padding},trigger:String,beforeChangeMethod:Function,closeConfig:Object,refreshConfig:Object,beforeCloseMethod:Function},emits:["update:modelValue","change","tab-change","tab-change-fail","tab-close","tab-close-fail","tab-click","tab-load"],setup(e,o){const{slots:l,emit:a}=o,s=np.uniqueId(),c=n("$xeTabs",null),u=r(),d=r(),p=m({staticTabs:[],activeName:null,initNames:[],lintLeft:0,lintWidth:0,isTabOver:!1,resizeFlag:1,cacheTabMaps:{}}),h={slTimeout:void 0},x={refElem:u},w=g(()=>Object.assign({},Rp().tabs.closeConfig,e.closeConfig)),C=g(()=>Object.assign({},Rp().tabs.refreshConfig,e.refreshConfig)),S=g(()=>{const{options:t}=e;return(t||[]).filter(e=>O(e))}),E=g(()=>{const{staticTabs:e}=p;return e.filter(e=>O(e))}),D={},T={xID:s,props:e,context:o,reactData:p,getRefMaps:()=>x,getComputeMaps:()=>D},O=e=>{const{permissionCode:t}=e;return!(t&&!xm.checkVisible(t))},k=(e,t)=>e&&(np.isString(e)&&(e=l[e]||null),np.isFunction(e))?Gm(e(t)):[],R=()=>{t(()=>{const{type:t}=e,{activeName:n}=p,o=S.value,l=E.value,r=d.value;let a=0,i=0,s=!1;if(r){const e=np.findIndexOf(l.length?l:o,e=>e.name===n),{children:c,scrollWidth:u,clientWidth:d}=r;if(s=u!==d,e>-1){const n=c[e],o=n.clientWidth;t?"card"===t?(a=o+2,i=n.offsetLeft):"border-card"===t&&(a=o+2,i=n.offsetLeft-1):(a=Math.max(4,Math.floor(.6*o)),i=n.offsetLeft+Math.floor((o-a)/2))}}p.lintLeft=i,p.lintWidth=a,p.isTabOver=s})},I=(e,t,n)=>{a(e,zp(n,{$tabs:T},t))},P=(e,t)=>{const{initNames:n}=p;return!(!e||n.includes(e))&&(I("tab-load",{name:e},t),n.push(e),!0)},F=t=>{let n=null;const o={};if(t&&t.length){let l=!1;n=e.modelValue,t.forEach(e=>{const{name:t,preload:r}=e||{};t&&(o[`${t}`]={loading:!1},n===t&&(l=!0),r&&P(t,null))}),l||(n=t[0].name,P(n,null),a("update:modelValue",n))}p.activeName=n,p.cacheTabMaps=o},M=e=>{const t=d.value;if(t){((e,t)=>{const{slTimeout:n}=h;let o=t,l=6,r=35;n&&(clearTimeout(n),h.slTimeout=void 0);const a=()=>{const t=d.value;if(l>0&&(l--,t)){const{clientWidth:n,scrollWidth:l,scrollLeft:i}=t;o=Math.floor(o/2),e>0?n+i<l&&(t.scrollLeft+=o,r-=4,h.slTimeout=setTimeout(a,r)):i>0&&(t.scrollLeft-=o,r-=4,h.slTimeout=setTimeout(a,r)),R()}};a()})(e,Math.floor(.75*t.clientWidth))}},A=()=>{M(-1)},V=()=>{M(1)},$=e=>{const n=S.value,o=E.value;return t().then(()=>{const t=d.value;if(t){const l=np.findIndexOf(o.length?o:n,t=>t.name===e);if(l>-1){const{scrollLeft:e,clientWidth:n,children:o}=t,r=o[l];if(r){const o=r.offsetLeft,l=o+r.clientWidth-(e+n);l>0&&(t.scrollLeft+=l),o<e&&(t.scrollLeft=o)}}R()}})},N=e=>{const{activeName:n}=p,o=S.value,l=E.value,r=l.length?l:o,i=np.findIndexOf(r,e=>e.name===n);if(i>-1){let t=null;if(e?i<r.length-1&&(t=r[i+1]):i>0&&(t=r[i-1]),t){const e=t.name,n=e;p.activeName=e,a("update:modelValue",n),P(e,null)}}return t()},L={dispatchEvent:I,scrollToTab:$,prev:()=>N(!1),next:()=>N(!0),prevTab:()=>(Nm("vxe.error.delFunc",["prevTab","prev"]),L.prev()),nextTab:()=>(Nm("vxe.error.delFunc",["nextTab","next"]),L.next())};Object.assign(T,L,{});const _=t=>{const{type:n,titleWidth:o,titleAlign:r,showClose:i,closeConfig:s,refreshConfig:c}=e,{activeName:u,lintLeft:m,lintWidth:g,isTabOver:f,cacheTabMaps:v}=p,h=l.extra,b=w.value,x=b.visibleMethod,S=C.value,E=S.visibleMethod;return y("div",{class:"vxe-tabs-header"},[f?y("div",{class:"vxe-tabs-header--bar vxe-tabs-header--left-bar",onClick:A},[y("span",{class:Mp().TABS_TAB_BUTTON_LEFT})]):Rm(),y("div",{class:"vxe-tabs-header--wrapper"},[y("div",{ref:d,class:"vxe-tabs-header--item-wrapper"},t.map((n,l)=>{const{title:d,titleWidth:m,titleAlign:g,icon:f,name:h,slots:D}=n,O=D?D.title||D.tab:null,R=m||o,F=g||r,M={$tabs:T,value:u,name:h,option:n},A=u===h,V=h?v[`${h}`]:null,$=!!V&&V.loading;return y("div",{key:`${h}`,class:["vxe-tabs-header--item",F?`align--${F}`:"",{"is--active":A}],style:R?{width:ag(R)}:null,onClick(t){((t,n)=>{const{trigger:o}=e,l=e.beforeChangeMethod||Rp().tabs.beforeChangeMethod,{activeName:r}=p,{name:i}=n,s=i;I("tab-click",{name:i},t),"manual"!==o&&i!==r&&Promise.resolve(!l||l({$tabs:T,name:i,oldName:r,newName:i,option:n})).then(e=>{e?(p.activeName=i,a("update:modelValue",s),P(i,t),I("change",{value:s,name:i,oldName:r,newName:i,option:n},t),I("tab-change",{value:s,name:i,oldName:r,newName:i,option:n},t)):I("tab-change-fail",{value:s,name:i,oldName:r,newName:i,option:n},t)}).catch(()=>{I("tab-change-fail",{value:s,name:i,oldName:r,newName:i,option:n},t)})})(t,n)}},[y("div",{class:"vxe-tabs-header--item-inner"},[y("div",{class:"vxe-tabs-header--item-content"},[f?y("span",{class:"vxe-tabs-header--item-icon"},[y("i",{class:f})]):Rm(),y("span",{class:"vxe-tabs-header--item-name"},O?k(O,{name:h,title:d}):`${d}`)]),(Mg(c)||S.enabled)&&(E?E(M):A)?y("div",{class:"vxe-tabs-header--refresh-btn",onClick(e){((e,t)=>{e.stopPropagation();const{activeName:n,cacheTabMaps:o}=p,{name:l}=t,r=C.value,{queryMethod:a}=r,i=l?o[`${l}`]:null;i&&(a?(i.loading=!0,Promise.resolve(a({$tabs:T,value:n,name:l,option:t})).finally(()=>{i.loading=!1})):Lm("vxe.error.notFunc",["refresh-config.queryMethod"]))})(e,n)}},[y("i",{class:$?Mp().TABS_TAB_REFRESH_LOADING:Mp().TABS_TAB_REFRESH})]):Rm(),!(i||Mg(s)||b.enabled)||x&&!x(M)?Rm():y("div",{class:"vxe-tabs-header--close-btn",onClick(o){((t,n,o,l)=>{t.stopPropagation();const{activeName:r}=p,a=w.value.beforeMethod||e.beforeCloseMethod||Rp().tabs.beforeCloseMethod,{name:i}=n,s=r;let c=s;if(r===i){const e=o<l.length-1?l[o+1]:l[o-1];c=e?e.name:null}Promise.resolve(!a||a({$tabs:T,value:s,name:i,nextName:c,option:n})).then(e=>{I(e?"tab-close":"tab-close-fail",{value:s,name:i,nextName:c},t)}).catch(()=>{I("tab-close-fail",{value:s,name:i,nextName:c},t)})})(o,n,l,t)}},[y("i",{class:Mp().TABS_TAB_CLOSE})])])])}).concat([y("span",{key:"line",class:`vxe-tabs-header--active-line type--${n||"default"}`,style:{left:`${m}px`,width:`${g}px`}})]))]),f?y("div",{class:"vxe-tabs-header--bar vxe-tabs-header--right-bar",onClick:V},[y("span",{class:Mp().TABS_TAB_BUTTON_RIGHT})]):Rm(),h?y("div",{class:"vxe-tabs-header--extra"},Gm(h({}))):Rm()])},B=e=>{const{initNames:t,activeName:n}=p,{name:o,slots:l}=e,r=l?l.default:null;return o&&t.includes(o)?y("div",{key:`${o}`,class:["vxe-tabs-pane--item",{"is--visible":n===o,"has--content":!!r}]},r?k(r,{name:o}):[]):Rm()},z=t=>{const{destroyOnClose:n}=e,{activeName:o}=p,l=t.find(e=>e.name===o);return n?[l?B(l):Rm()]:t.map(e=>B(e))};i(()=>e.modelValue,e=>{P(e,null),p.activeName=e}),i(()=>p.activeName,e=>{$(e),t(()=>{p.resizeFlag++})});const j=r(0);i(()=>e.options?e.options.length:-1,()=>{j.value++}),i(()=>e.options,()=>{j.value++}),i(j,()=>{F(e.options),R()});const H=r(0);return i(()=>p.staticTabs?p.staticTabs.length:-1,()=>{H.value++}),i(()=>p.staticTabs,()=>{H.value++}),i(H,()=>{F(p.staticTabs),R()}),c&&i(()=>c?c.reactData.resizeFlag:null,()=>{p.resizeFlag++}),i(()=>p.resizeFlag,()=>{t(()=>{R()})}),f(()=>{jp.on(T,"resize",R),R()}),v(()=>{jp.off(T,"resize")}),b("$xeTabs",T),P(e.modelValue,null),F(p.staticTabs.length?p.staticTabs:e.options),T.renderVN=()=>{const{type:t,height:n,padding:o,trigger:r}=e,a=S.value,i=E.value,s=l.default,c=l.footer,d=s?i:a;return y("div",{ref:u,class:["vxe-tabs",`vxe-tabs--${t||"default"}`,"trigger--"+("manual"===r?"trigger":"default"),{"is--padding":o,"is--height":n}],style:n?{height:ag(n)}:null},[y("div",{class:"vxe-tabs-slots"},s?s({}):[]),_(d),y("div",{class:"vxe-tabs-pane"},z(d)),c?y("div",{class:"vxe-tabs-footer"},k(c,{})):Rm()])},T},render(){return this.renderVN()}});const hh=Pm({name:"VxeTabPane",props:{title:[String,Number],name:[String,Number],icon:String,titleWidth:[String,Number],titleAlign:[String,Number],preload:Boolean,permissionCode:[String,Number]},emits:[],setup(e,t){const{slots:o,emit:l}=t,a=np.uniqueId(),s=r(),c=n("$xeTabs",null),u=m({}),d=m({id:a,title:e.title,name:e.name,icon:e.icon,titleWidth:e.titleWidth,titleAlign:e.titleAlign,preload:e.preload,permissionCode:e.permissionCode,slots:o}),p={refElem:s},g={},h={xID:a,props:e,context:t,reactData:u,getRefMaps:()=>p,getComputeMaps:()=>g},b={dispatchEvent:(e,t,n)=>{l(e,zp(n,{$tabPane:h},t))}};Object.assign(h,b,{}),i(()=>e.title,e=>{d.title=e}),i(()=>e.name,e=>{d.name=e}),i(()=>e.icon,e=>{d.icon=e}),i(()=>e.permissionCode,e=>{d.permissionCode=e}),f(()=>{const e=s.value;c&&e&&function(e,t,n){const o=e.reactData.staticTabs,l=t.parentNode;l&&(o.splice(np.arrayIndexOf(l.children,t),0,n),e.reactData.staticTabs=o.slice(0))}(c,e,d)}),v(()=>{c&&function(e,t){const n=e.reactData.staticTabs,o=np.findTree(n,e=>e.id===t.id,{children:"children"});o&&o.items.splice(o.index,1),e.reactData.staticTabs=n.slice(0)}(c,d)});return h.renderVN=()=>y("div",{ref:s},[]),h},render(){return this.renderVN()}}),bh={title:String,field:String,span:{type:[String,Number],default:null},align:{type:String,default:null},verticalAlign:{type:String,default:null},titleBackground:{type:Boolean,default:null},titleBold:{type:Boolean,default:null},titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},showTitle:{type:Boolean,default:!0},vertical:{type:Boolean,default:null},padding:{type:Boolean,default:null},formatter:[String,Function],className:[String,Function],contentClassName:[String,Function],contentStyle:[Object,Function],titleClassName:[String,Function],titleStyle:[Object,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},showContent:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object,rules:Array},xh=Pm({name:"VxeFormItem",props:bh,setup(e,{slots:t}){const o=np.uniqueId(),l=r(),a=n("$xeForm",{}),i=n("$xeFormGroup",null),s=m(Cv(a,e));s.slots=t;b("xeFormItemInfo",{itemConfig:s});const c={xID:o,formItem:s,renderVN:()=>!!a&&a.props.customLayout?((e,t)=>{const n=e.props,o=e.xeGrid,{data:r,readonly:a,disabled:i}=n,{visible:s,field:c,itemRender:u,contentStyle:d,showContent:p}=t,m=Mg(u)?im.get(u.name):null,g=m?m.formItemStyle||m.itemStyle:null,f=m?m.formItemContentStyle||m.itemContentStyle:null,v={data:r,disabled:i,readonly:a,field:c,property:c,item:t,$form:e,$grid:o};return!1===s?Rm():y("div",{ref:l,key:t.id,class:Pv(e,t),style:np.isFunction(g)?g(v):g},[Mv(e,t),!1===p?Rm():y("div",{class:Fv(e,t),style:Object.assign({},np.isFunction(f)?f(v):f,np.isFunction(d)?d(v):d)},[Av(e,t)])])})(a,s):y("div",{ref:l})};return Dv(e,s),f(()=>{const e=l.value;Tv(a,e,s,i)}),v(()=>{Ov(a,s)}),b("$xeFormItem",c),b("$xeFormGroup",null),c},render(){return this.renderVN()}}),wh=Pm({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},size:{type:String,default:()=>Rp().switch.size||Rp().size},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String,openActiveIcon:String,closeActiveIcon:String},emits:["update:modelValue","change","focus","blur"],setup(e,o){const{emit:l}=o,a=n("$xeForm",null),i=n("xeFormItemInfo",null),s=np.uniqueId(),{computeSize:c}=ym(e),u=m({isActivated:!1,hasAnimat:!1,offsetLeft:0}),d={},p={xID:s,props:e,context:o,reactData:u,internalData:d},f=r();let v={};const h=g(()=>{const{disabled:t}=e;return null===t?!!a&&(a.props.readonly||a.props.disabled):t}),b=g(()=>{const{readonly:t}=e;return null===t?!!a&&(a.props.readonly||a.props.disabled):t}),x=g(()=>Ng(e.openLabel)),w=g(()=>Ng(e.closeLabel)),C=g(()=>e.modelValue===e.openValue),S=t=>{const n=h.value,o=b.value;if(!n&&!o){const n=C.value;clearTimeout(d.atTimeout);const o=n?e.closeValue:e.openValue;u.hasAnimat=!0,(e=>{l("update:modelValue",e)})(o),v.dispatchEvent("change",{value:o},t),a&&i&&a.triggerItemEvent(t,i.itemConfig.field,o),d.atTimeout=setTimeout(()=>{u.hasAnimat=!1,d.atTimeout=void 0},400)}},E=t=>{u.isActivated=!0,v.dispatchEvent("focus",{value:e.modelValue},t)},D=t=>{u.isActivated=!1,v.dispatchEvent("blur",{value:e.modelValue},t)};v={dispatchEvent:(e,t,n)=>{l(e,zp(n,{$switch:p},t))},focus(){const e=f.value;return u.isActivated=!0,e&&e.focus(),t()},blur(){const e=f.value;return e&&e.blur(),u.isActivated=!1,t()}},Object.assign(p,v);return p.renderVN=()=>{const{openIcon:t,closeIcon:n,openActiveIcon:o,closeActiveIcon:l}=e,r=c.value,a=C.value,i=x.value,s=w.value,d=h.value,p=b.value;return y("div",{class:["vxe-switch",a?"is--on":"is--off",{[`size--${r}`]:r,"is--disabled":d,"is--readonly":p,"is--animat":u.hasAnimat}]},[y("button",{ref:f,class:"vxe-switch--button",type:"button",disabled:d||p,onClick:S,onFocus:E,onBlur:D},[y("span",{class:"vxe-switch--label vxe-switch--label-on"},[t?y("i",{class:["vxe-switch--label-icon",t]}):Rm(),i]),y("span",{class:"vxe-switch--label vxe-switch--label-off"},[n?y("i",{class:["vxe-switch--label-icon",n]}):Rm(),s]),y("span",{class:["vxe-switch--icon"]},o||l?[y("i",{class:a?o:l})]:[])])])},p},render(){return this.renderVN()}}),yh=Pm({name:"DefaultSettingForm",props:{formData:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormDesign",null);if(!t)return()=>[];const{props:o}=t;return()=>{const{formData:t}=e;return y(Bv,{data:t,span:24,vertical:!0,titleBold:!0},{default(){const{showPc:e,showMobile:n}=o;return[y(xh,{title:Qp("vxe.formDesign.formName"),field:"title",itemRender:{name:"VxeInput",props:{placeholder:Qp("vxe.formDesign.defFormTitle")}}}),e&&n?y(xh,{title:Qp("vxe.formDesign.widgetProp.displaySetting.name")},{default:()=>[y("div",{class:"vxe-form-design--widget-form-item-devices"},[y("div",{class:"vxe-form-design--widget-form-item-pc"},[y(Xf,{icon:Mp().FORM_DESIGN_PROPS_PC,content:Qp("vxe.formDesign.widgetProp.displaySetting.pc")}),y(wh,{modelValue:t.pcVisible,openLabel:Qp("vxe.formDesign.widgetProp.displaySetting.visible"),closeLabel:Qp("vxe.formDesign.widgetProp.displaySetting.hidden"),"onUpdate:modelValue"(e){t.pcVisible=e}})]),y("div",{class:"vxe-form-design--widget-form-item-mobile"},[y(Xf,{icon:Mp().FORM_DESIGN_PROPS_MOBILE,content:Qp("vxe.formDesign.widgetProp.displaySetting.mobile")}),y(wh,{modelValue:t.mobileVisible,openLabel:Qp("vxe.formDesign.widgetProp.displaySetting.visible"),closeLabel:Qp("vxe.formDesign.widgetProp.displaySetting.hidden"),"onUpdate:modelValue"(e){t.mobileVisible=e}})])])]}):x()]}})}}}),Ch=Pm({name:"FormDesignLayoutSetting",props:{},emits:[],setup(){const e=n("$xeFormDesign",null);if(!e)return()=>[];const{props:t,reactData:o}=e,l=r(1);return i(()=>o.activeWidget,()=>{l.value=1}),()=>y("div",{class:"vxe-form-design--setting"},[y("div",{class:"vxe-form-design--setting-form"},[y(vh,{modelValue:l.value,titleWidth:"50%",titleAlign:"center",padding:!0,class:"vxe-form-design--setting-form-tabs","onUpdate:modelValue"(e){l.value=e}},{default:()=>[y(hh,{title:Qp("vxe.formDesign.widgetPropTab"),name:1},{default:()=>(()=>{const{activeWidget:t}=o;if(t){const n=im.get(t.name),o=n?n.renderFormDesignWidgetFormView:null;if(o){const n=!0;return y("div",{class:"vxe-form-design--custom-widget-form-view"},Gm(o(t,{isEditMode:n,isViewMode:!n,widget:t,$formDesign:e,$formView:null})))}}return x()})()}),y(hh,{title:Qp("vxe.formDesign.widgetFormTab"),name:2},{default:()=>(()=>{const{formRender:n}=t,{formData:l}=o;if(n){const t=im.get(n.name),o=t?t.renderFormDesignSettingFormView:null;if(o)return y("div",{class:"vxe-form-design--custom-setting-form-view"},Gm(o({},{$formDesign:e})))}return y(yh,{formData:l})})()})]})])])}}),Sh=[],Eh=[],Dh=[],Th="data-vxe-lock-scroll",Oh="--vxe-ui-modal-lock-scroll-view-width",kh=Pm({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>Rp().modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>Rp().modal.duration},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>Rp().modal.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>Rp().modal.showConfirmButton},confirmButtonText:{type:String,default:()=>Rp().modal.confirmButtonText},lockView:{type:Boolean,default:()=>Rp().modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>Rp().modal.mask},maskClosable:{type:Boolean,default:()=>Rp().modal.maskClosable},escClosable:{type:Boolean,default:()=>Rp().modal.escClosable},cancelClosable:{type:Boolean,default:()=>Rp().modal.cancelClosable},confirmClosable:{type:Boolean,default:()=>Rp().modal.confirmClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>Rp().modal.showHeader},showFooter:{type:Boolean,default:()=>Rp().modal.showFooter},showZoom:Boolean,zoomConfig:Object,showMaximize:{type:Boolean,default:()=>_g(Rp().modal.showMaximize)},showMinimize:{type:Boolean,default:()=>_g(Rp().modal.showMinimize)},showClose:{type:Boolean,default:()=>Rp().modal.showClose},dblclickZoom:{type:Boolean,default:()=>Rp().modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>Rp().modal.minWidth},minHeight:{type:[Number,String],default:()=>Rp().modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>Rp().modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>Rp().modal.draggable},remember:{type:Boolean,default:()=>Rp().modal.remember},destroyOnClose:{type:Boolean,default:()=>Rp().modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>Rp().modal.showTitleOverflow},transfer:{type:Boolean,default:()=>Rp().modal.transfer},storage:{type:Boolean,default:()=>Rp().modal.storage},storageKey:{type:String,default:()=>Rp().modal.storageKey},padding:{type:Boolean,default:()=>Rp().modal.padding},size:{type:String,default:()=>Rp().modal.size||Rp().size},beforeHideMethod:Function,slots:Object,message:[Number,String],animat:{type:Boolean,default:()=>Rp().modal.animat}},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom","resize","move"],setup(e,o){const{slots:l,emit:a}=o,s=np.uniqueId(),c=n("$xeModal",null),u=n("$xeDrawer",null),d=n("$xeTable",null),p=n("$xeForm",null),{computeSize:h}=ym(e),x=m({initialized:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,prevZoomStatus:"",zoomStatus:"",revertLocat:null,prevLocat:null,firstOpen:!0,resizeFlag:1}),w={msgTimeout:void 0},C=r(),E=r(),D=r(),T=r(),O=r(),k={refElem:C},R=g(()=>{const{transfer:t}=e;if(null===t){const e=Rp().modal.transfer;if(np.isBoolean(e))return e;if(d||c||u||p)return!0}return t}),I=g(()=>"message"===e.type||"notification"===e.type),P=g(()=>"minimize"===x.zoomStatus),F=g(()=>"maximize"===x.zoomStatus),M=g(()=>Object.assign({},Rp().modal.zoomConfig,e.zoomConfig)),A={computeSize:h,computeZoomOpts:M},V={xID:s,props:e,context:o,reactData:x,internalData:w,getRefMaps:()=>k,getComputeMaps:()=>A};let $={};const N=()=>E.value,L=()=>{const{width:n,height:o}=e,l=N();return l&&(l.style.width=n?ag(n):"",l.style.height=o?ag(o):""),t()},_=()=>{const{zIndex:t}=e,{modalZindex:n}=x;if(t)x.modalZindex=t;else{I.value?n<Sp.getSubCurrent()&&(x.modalZindex=Sp.getSubNext()):n<Vg()&&(x.modalZindex=Ag())}},B=()=>t().then(()=>{const{position:t}=e,n=np.toNumber(e.marginSize),o=N();if(!o)return;const l=document.documentElement.clientWidth||document.body.clientWidth,r=document.documentElement.clientHeight||document.body.clientHeight,a="center"===t,{top:i,left:s}=np.isString(t)?{top:t,left:t}:Object.assign({},t),c=a||"center"===i;let u="",d="";d=s&&!(a||"center"===s)?isNaN(s)?s:`${s}px`:`${Math.max(n,l/2-o.offsetWidth/2)}px`,u=i&&!c?isNaN(i)?i:`${i}px`:`${Math.max(n,r/2-o.offsetHeight/2)}px`,o.style.top=u,o.style.left=d}),z=()=>{t(()=>{const{type:t}=e;let n=0;("notification"===t?Dh:Eh).forEach(e=>{const t=e.getBox();t&&(n+=np.toNumber(e.props.top),e.reactData.modalTop=n,n+=t.clientHeight)})})},j=()=>{const{type:t}=e,n="notification"===t?Dh:Eh;n.indexOf(V)>-1&&np.remove(n,e=>e===V),z()},H=n=>{const{remember:o}=e,{visible:l}=x,r=I.value,i=e.beforeHideMethod||Rp().modal.beforeHideMethod,s={type:n};return l&&Promise.resolve(i?i(s):null).then(e=>{np.isError(e)||(r&&j(),x.contentVisible=!1,o||le(),np.remove(Sh,e=>e===V),de("before-hide",s,null),setTimeout(()=>{x.visible=!1,a("update:modelValue",!1),de("hide",s,null)},200),Q())}).catch(e=>e),t()},W=e=>{const t="close";de(t,{type:t},e),H(t)},q=t=>{const{confirmClosable:n}=e,o="confirm";de(o,{type:o},t),n&&H(o)},G=t=>{const{cancelClosable:n}=e,o="cancel";de(o,{type:o},t),n&&H(o)},U=e=>{const t=Rp().version,n=np.toStringJSON(localStorage.getItem(e)||"");return n&&n._v===t?n:{_v:t}},K=()=>{const{id:t,storage:n,storageKey:o}=e,{zoomStatus:l,revertLocat:r}=x;if(!l&&t&&n){const e=N();if(!e)return;const n=U(o);n[t]=[e.style.left,e.style.top,e.style.width,e.style.height].concat(r?[r.left,r.top,r.width,r.height]:[]).map(e=>e?np.toNumber(e):"").join(","),localStorage.setItem(o,np.toJSONString(n))}},Y=()=>{const e=M.value,{minimizeLayout:n,minimizeMaxSize:o,minimizeHorizontalOffset:l,minimizeVerticalOffset:r,minimizeOffsetMethod:a}=e,i="horizontal"===n,s=x.zoomStatus,c=[],u=[];Sh.forEach(e=>{if(e.xID!==V.xID&&"modal"===e.props.type&&"minimize"===e.reactData.zoomStatus){"horizontal"===e.getComputeMaps().computeZoomOpts.value.minimizeLayout?c.push(e):u.push(e)}});const d=i?c:u;return o&&d.length>=o?(Im.modal&&Im.modal.message({status:"error",content:Qp("vxe.modal.miniMaxSize",[o])}),Promise.resolve({status:!1})):(x.prevZoomStatus=s,x.zoomStatus="minimize",t().then(()=>{const e=N();if(!e)return{status:!1};const t=D.value;if(!t)return{status:!1};const{visibleHeight:n}=ig();s||(x.revertLocat={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth+(e.style.width?0:1),height:e.offsetHeight+(e.style.height?0:1)});const o=np[i?"max":"min"](d,e=>{const t=e.getBox();return t?np.toNumber(t.style[i?"left":"top"]):0});let c=n-t.offsetHeight-16,u=16;if(o){const e=o.getBox();if(e){const t=np.toNumber(e.style.left),n=np.toNumber(e.style.top);let o={};o=i?Object.assign({},l):Object.assign({},r),u=t+np.toNumber(o.left),c=n+np.toNumber(o.top),a&&(o=a({$modal:V,left:u,top:c}),u=np.toNumber(o.left),c=np.toNumber(o.top))}}return Object.assign(e.style,{top:`${c}px`,left:`${u}px`,width:"200px",height:`${t.offsetHeight}px`}),K(),{status:!0}}))},X=()=>{const n=x.zoomStatus;return x.prevZoomStatus=n,x.zoomStatus="maximize",t().then(()=>{const t=N();if(t){if(!n){const n=np.toNumber(e.marginSize),o=document.documentElement.clientWidth||document.body.clientWidth,l=document.documentElement.clientHeight||document.body.clientHeight;x.revertLocat={top:Math.max(n,l/2-t.offsetHeight/2),left:Math.max(n,o/2-t.offsetWidth/2),width:t.offsetWidth+(t.style.width?0:1),height:t.offsetHeight+(t.style.height?0:1)}}Object.assign(t.style,{top:"0",left:"0",width:"100%",height:"100%"})}return K(),{status:!0}})},Z=()=>{const{duration:t}=e;-1!==t&&(w.msgTimeout=setTimeout(()=>H("close"),np.toNumber(t)))},Q=()=>{const e=document.documentElement,t=e.getAttribute(Th);if(t){const n=t.split(",").filter(e=>e!==s);n.length?e.setAttribute(Th,n.join(",")):(e.removeAttribute(Th),e.style.removeProperty(Oh))}},J=()=>{const{remember:n,showFooter:o}=e,{initialized:l,visible:r}=x,i=I.value;return l||(x.initialized=!0),r||((()=>{const{lockScroll:t}=e,n=I.value;if(t&&!n){const e=document.documentElement,t=document.body.clientWidth,n=e.getAttribute(Th),o=n?n.split(","):[];o.includes(s)||(o.push(s),e.setAttribute(Th,o.join(","))),e.style.setProperty(Oh,`${t}px`)}})(),x.visible=!0,x.contentVisible=!1,_(),Sh.push(V),setTimeout(()=>{x.contentVisible=!0,t(()=>{if(o){const e=T.value,t=O.value,n=e||t;n&&n.focus()}const e={type:""};a("update:modelValue",!0),de("show",e,null)})},10),i?((()=>{const{type:t}=e,n="notification"===t?Dh:Eh;-1===n.indexOf(V)&&n.push(V),z()})(),Z()):t(()=>{const{fullscreen:o}=e,{firstOpen:l}=x;l?(x.firstOpen=!1,(()=>{const{id:t,storage:n,storageKey:o}=e;return!!(t&&n&&U(o)[t])})()?(()=>{const{id:t,storage:n,storageKey:o}=e;if(t&&n){const e=U(o)[t];if(e){const t=N(),[n,o,l,r,a,i,s,c]=e.split(",");t&&(n&&(t.style.left=`${n}px`),o&&(t.style.top=`${o}px`),l&&(t.style.width=`${l}px`),r&&(t.style.height=`${r}px`)),a&&i&&(x.revertLocat={left:a,top:i,width:s,height:c})}}})():o?t(()=>X()):(L(),B().then(()=>{setTimeout(()=>B(),20)}))):n||(L(),B().then(()=>{setTimeout(()=>B(),20)}))})),t()},ee=t=>{const n=C.value;if(e.maskClosable&&t.target===n){H("mask")}},te=()=>{const{msgTimeout:e}=w;if(!e)return;I.value&&(clearTimeout(e),w.msgTimeout=void 0)},ne=()=>{const{msgTimeout:e}=w;if(!e){I.value&&Z()}},oe=e=>{if(jp.hasKey(e,Ap.ESCAPE)){const t=np.max(Sh,e=>e.reactData.modalZindex);t&&setTimeout(()=>{if(t===V&&t.props.escClosable){const t="exit";de("close",{type:t},e),H(t)}},10)}},le=()=>(x.prevZoomStatus=x.zoomStatus,x.zoomStatus="",t().then(()=>{const{revertLocat:e}=x;if(e){const n=N();return x.revertLocat=null,n&&Object.assign(n.style,{top:`${e.top}px`,left:`${e.left}px`,width:`${e.width}px`,height:`${e.height}px`}),K(),t().then(()=>({status:!0}))}return{status:!1}})),re=e=>{const{zoomStatus:t}=x;return new Promise(n=>{if(e)return"maximize"===e?void n(X()):"minimize"===e?void n(Y()):void n(le());n(t?le():X())}).then(()=>x.zoomStatus||"revert")},ae=e=>{const{zoomStatus:t,prevZoomStatus:n}=x;return re("minimize"===t?n||"revert":"minimize").then(t=>{de("zoom",{type:t},e)})},ie=e=>re().then(t=>{de("zoom",{type:t},e)}),se=()=>{const{modalZindex:e}=x;Sh.some(t=>t.reactData.visible&&t.reactData.modalZindex>e)&&_()},ce=n=>{const{storage:o}=e,{zoomStatus:l}=x,r=np.toNumber(e.marginSize),a=N();if(a&&"maximize"!==l&&0===n.button&&!sg(n,a,"trigger--btn").flag){n.preventDefault();const e=n.clientX-a.offsetLeft,l=n.clientY-a.offsetTop,{visibleHeight:i,visibleWidth:s}=ig();document.onmousemove=t=>{t.preventDefault();const n=a.offsetWidth,o=a.offsetHeight,c=r,u=s-n-r-1,d=r,p=i-o-r-1;let m=t.clientX-e,g=t.clientY-l;m>u&&(m=u),m<c&&(m=c),g>p&&(g=p),g<d&&(g=d),a.style.left=`${m}px`,a.style.top=`${g}px`,a.className=a.className.replace(/\s?is--drag/,"")+" is--drag",de("move",{type:"move"},t),x.resizeFlag++},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,o&&t(()=>{K()}),x.resizeFlag++,setTimeout(()=>{a.className=a.className.replace(/\s?is--drag/,"")},50)}}},ue=t=>{t.preventDefault();const{storage:n}=e,{visibleHeight:o,visibleWidth:l}=ig(),r=np.toNumber(e.marginSize),a=t.target.getAttribute("type"),i=np.toNumber(e.minWidth),s=np.toNumber(e.minHeight),c=l,u=o,d=N(),p=d.clientWidth,m=d.clientHeight,g=t.clientX,f=t.clientY,v=d.offsetTop,h=d.offsetLeft,b={type:"resize"};document.onmousemove=e=>{let t,x,w,y;switch(e.preventDefault(),a){case"wl":t=g-e.clientX,w=t+p,h-t>r&&w>i&&(d.style.width=`${w<c?w:c}px`,d.style.left=h-t+"px");break;case"swst":t=g-e.clientX,x=f-e.clientY,w=t+p,y=x+m,h-t>r&&w>i&&(d.style.width=`${w<c?w:c}px`,d.style.left=h-t+"px"),v-x>r&&y>s&&(d.style.height=`${y<u?y:u}px`,d.style.top=v-x+"px");break;case"swlb":t=g-e.clientX,x=e.clientY-f,w=t+p,y=x+m,h-t>r&&w>i&&(d.style.width=`${w<c?w:c}px`,d.style.left=h-t+"px"),v+y+r<o&&y>s&&(d.style.height=`${y<u?y:u}px`);break;case"st":x=f-e.clientY,y=m+x,v-x>r&&y>s&&(d.style.height=`${y<u?y:u}px`,d.style.top=v-x+"px");break;case"wr":t=e.clientX-g,w=t+p,h+w+r<l&&w>i&&(d.style.width=`${w<c?w:c}px`);break;case"sest":t=e.clientX-g,x=f-e.clientY,w=t+p,y=x+m,h+w+r<l&&w>i&&(d.style.width=`${w<c?w:c}px`),v-x>r&&y>s&&(d.style.height=`${y<u?y:u}px`,d.style.top=v-x+"px");break;case"selb":t=e.clientX-g,x=e.clientY-f,w=t+p,y=x+m,h+w+r<l&&w>i&&(d.style.width=`${w<c?w:c}px`),v+y+r<o&&y>s&&(d.style.height=`${y<u?y:u}px`);break;case"sb":x=e.clientY-f,y=x+m,v+y+r<o&&y>s&&(d.style.height=`${y<u?y:u}px`)}d.className=d.className.replace(/\s?is--drag/,"")+" is--drag",n&&K(),de("resize",b,e)},document.onmouseup=()=>{x.revertLocat=null,document.onmousemove=null,document.onmouseup=null,setTimeout(()=>{d.className=d.className.replace(/\s?is--drag/,"")},50)}},de=(e,t,n)=>{a(e,zp(n,{$modal:V},t))};$={dispatchEvent:de,open:J,close:()=>H("close"),getBox:N,getPosition:()=>{if(!I.value){const e=N();if(e)return{top:e.offsetTop,left:e.offsetLeft}}return null},setPosition:(e,n)=>{if(!I.value){const t=N();t&&(np.isNumber(e)&&(t.style.top=`${e}px`),np.isNumber(n)&&(t.style.left=`${n}px`))}return t()},isMinimized:()=>"minimize"===x.zoomStatus,isMaximized:()=>"maximize"===x.zoomStatus,zoom:()=>re(),minimize:()=>x.visible?Y():Promise.resolve({status:!1}),maximize:()=>x.visible?X():Promise.resolve({status:!1}),revert:()=>x.visible?le():Promise.resolve({status:!1})},Object.assign(V,$);const pe=()=>{const{slots:t={},showZoom:n,showMaximize:o,draggable:r}=e,a=l.header||t.header;if(e.showHeader){const t={};return r&&(t.onMousedown=ce),(np.isBoolean(o)?o:n)&&e.dblclickZoom&&"modal"===e.type&&(t.onDblclick=ie),y("div",Object.assign({ref:D,class:["vxe-modal--header",{"is--ellipsis":e.showTitleOverflow}]},t),a?Gm(a({$modal:V})):(()=>{const{slots:t={},showClose:n,showZoom:o,showMaximize:r,showMinimize:a,title:i}=e,{zoomStatus:s}=x,c=l.title||t.title,u=l.corner||t.corner,d=P.value,p=F.value;return[y("div",{class:"vxe-modal--header-title"},c?Gm(c({$modal:V,minimized:d,maximized:p})):i?Ng(i):Qp("vxe.alert.title")),y("div",{class:"vxe-modal--header-right"},[u&&!d?y("div",{class:"vxe-modal--corner-wrapper"},Gm(u({$modal:V}))):Rm(),(np.isBoolean(a)?a:o)?y("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:Qp("vxe.modal.zoom"+("minimize"===s?"Out":"Min")),onClick:ae},[y("i",{class:"minimize"===s?Mp().MODAL_ZOOM_REVERT:Mp().MODAL_ZOOM_MIN})]):Rm(),(np.isBoolean(r)?r:o)&&"minimize"!==s?y("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:Qp("vxe.modal.zoom"+("maximize"===s?"Out":"In")),onClick:ie},[y("i",{class:"maximize"===s?Mp().MODAL_ZOOM_OUT:Mp().MODAL_ZOOM_IN})]):Rm(),n?y("div",{class:["vxe-modal--close-btn","trigger--btn"],title:Qp("vxe.modal.close"),onClick:W},[y("i",{class:Mp().MODAL_CLOSE})]):Rm()])]})())}return Rm()},me=()=>{const{slots:t={},status:n,message:o,iconStatus:r}=e,a=e.content||o,i=I.value,s=l.default||t.default,c=l.left||t.left,u=l.right||t.right,d=[];return i||!n&&!r||d.push(y("div",{class:"vxe-modal--status-wrapper"},[y("i",{class:["vxe-modal--status-icon",r||Mp()[`MODAL_${n}`.toLocaleUpperCase()]]})])),d.push(y("div",{class:"vxe-modal--content"},s?Gm(s({$modal:V})):Ng(a))),y("div",{class:"vxe-modal--body"},[c?y("div",{class:"vxe-modal--body-left"},Gm(c({$modal:V}))):Rm(),y("div",{class:"vxe-modal--body-default"},d),u?y("div",{class:"vxe-modal--body-right"},Gm(u({$modal:V}))):Rm(),i?Rm():y(cv,{class:"vxe-modal--loading",modelValue:e.loading})])},ge=()=>{const{slots:t={},showCancelButton:n,showConfirmButton:o,type:r,loading:a}=e,i=l.leftfoot||t.leftfoot,s=l.rightfoot||t.rightfoot,c=[];return(np.isBoolean(n)?n:"confirm"===r)&&c.push(y(zg,{key:1,ref:O,content:e.cancelButtonText||Qp("vxe.button.cancel"),onClick:G})),(np.isBoolean(o)?o:"confirm"===r||"alert"===r)&&c.push(y(zg,{key:2,ref:T,loading:a,status:"primary",content:e.confirmButtonText||Qp("vxe.button.confirm"),onClick:q})),y("div",{class:"vxe-modal--footer-wrapper"},[y("div",{class:"vxe-modal--footer-left"},i?Gm(i({$modal:V})):[]),y("div",{class:"vxe-modal--footer-right"},s?Gm(s({$modal:V})):c)])},fe=()=>{const{slots:t={}}=e,n=l.footer||t.footer;return e.showFooter?y("div",{class:"vxe-modal--footer"},n?Gm(n({$modal:V})):[ge()]):Rm()};return V.renderVN=()=>{const{slots:t={},className:n,type:o,animat:r,draggable:a,iconStatus:i,position:s,loading:c,destroyOnClose:u,status:d,lockScroll:p,padding:m,lockView:g,mask:f,resize:v}=e,{initialized:b,modalTop:w,contentVisible:D,visible:T,zoomStatus:O}=x,k=l.aside||t.aside,F=h.value,M=I.value,A=P.value,$=R.value,N={};return M&&(N.onMouseover=te,N.onMouseout=ne),y(S,{to:"body",disabled:!$||!b},[y("div",Object.assign({ref:C,class:["vxe-modal--wrapper",`type--${o}`,`zoom--${O||"revert"}`,n||"",s?`pos--${s}`:"",{[`size--${F}`]:F,[`status--${d}`]:d,"is--padding":m,"is--animat":r,"lock--scroll":p,"lock--view":g,"is--draggable":a,"is--resize":v,"is--mask":f,"is--visible":D,"is--active":T,"is--loading":c}],style:{zIndex:x.modalZindex,top:w?`${w}px`:null},onClick:ee},N),[y("div",{ref:E,class:"vxe-modal--box",onMousedown:se},[!M&&!k||A?Rm():y("div",{class:"vxe-modal--aside"},k?Gm(k({$modal:V})):[d||i?y("div",{class:"vxe-modal--status-wrapper"},[y("i",{class:["vxe-modal--status-icon",i||Mp()[`MODAL_${d}`.toLocaleUpperCase()]]})]):Rm()]),y("div",{class:"vxe-modal--container"},!x.initialized||u&&!x.visible?[]:[pe(),me(),fe(),!M&&v?y("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map(e=>y("span",{class:`${e}-resize`,type:e,onMousedown:ue}))):Rm()])])])])},i(()=>e.width,L),i(()=>e.height,L),i(()=>e.modelValue,e=>{e?J():H("model")}),f(()=>{"modal"===e.type&&e.showFooter&&!(e.showConfirmButton||e.showCancelButton||l.footer)&&Nm("vxe.modal.footPropErr"),t(()=>{e.storage&&!e.id&&Lm("vxe.error.reqProp",["modal.id"]),e.modelValue&&J(),L()}),e.escClosable&&jp.on(V,"keydown",oe)}),v(()=>{jp.off(V,"keydown"),j(),Q()}),b("$xeModal",V),V},render(){return this.renderVN()}}),Rh=e=>{const{formConfig:t}=e;return{vertical:t.pcVertical,titleBold:t.pcTitleBold,titleColon:t.pcTitleColon,titleAlign:t.pcTitleAlign,titleWidth:t.pcTitleWidth}},Ih=Pm({name:"VxeFormGroup",props:bh,setup(e,t){const{slots:o}=t,l=np.uniqueId(),a=r(),i=n("$xeForm",{}),s=n("$xeFormGroup",null),c=m(Cv(i,e));c.slots=o,c.children=[];b("xeFormItemInfo",{itemConfig:c});const u={xID:l,formItem:c,renderVN:()=>{const e=i.props,t=i.xeGrid,n=c,{data:l,readonly:r,disabled:s}=e,{visible:u,field:d,itemRender:p,contentStyle:m}=n,g=Mg(p)?im.get(p.name):null,f=g?g.formItemStyle||g.itemStyle:null,v=g?g.formItemContentStyle||g.itemContentStyle:null,h=o?o.default:null,b={data:l,disabled:s,readonly:r,field:d,property:d,item:n,$form:i,$grid:t};return!1===u?Rm():y("div",{ref:a,key:n.id,class:Pv(i,n,!0),style:np.isFunction(f)?f(b):f},[Mv(i,n,!0),y("div",{class:Fv(i,n,!0),style:Object.assign({},np.isFunction(v)?v(b):v,np.isFunction(m)?m(b):m)},h?h({}):[])])}};return Dv(e,c),f(()=>{const e=a.value;Tv(i,e,c,s)}),v(()=>{Ov(i,c)}),b("$xeFormGroup",u),b("$xeFormItem",null),u},render(){return this.renderVN()}}),Ph=Pm({name:"VxeFormView",props:{modelValue:Object,config:Object,readonly:Boolean,disabled:Boolean,viewRender:Object,formOptions:Object,createFormConfig:Function,size:{type:String,default:()=>Rp().formView.size||Rp().size}},emits:["update:modelValue","submit","reset"],setup(e,o){const{emit:l,slots:a}=o,s=np.uniqueId(),c=r(),u=r(),{computeSize:d}=ym(e),p=n("$xeFormDesignLayoutStyle",null),g=m({formConfig:{},formRules:{},widgetObjList:[]}),f={refElem:c},v={computeSize:d},h={xID:s,props:e,context:o,reactData:g,getRefMaps:()=>f,getComputeMaps:()=>v},x=e=>{if(e){const{formConfig:t,widgetData:n}=e;C(t||{}),D(n||[])}return t()},w=t=>{const{viewRender:n,createFormConfig:o,formOptions:l}=e,r={viewRender:n,formConfig:t};if(o)return o(r);const{name:a}=n||{},i=im.get(a)||{},s=i?i.createFormViewFormConfig:null;return Object.assign({},s?s(r):Rh(r),l)},C=e=>(g.formConfig=w(e),t()),S=e=>{const t={},n={};return np.eachTree(e,e=>{const{name:o,field:l,required:r}=e,a=im.get(o)||{},i=a.createFormDesignWidgetFieldValue,s=a.createFormDesignWidgetFieldRules;if(t[l]=i?i({widget:e,$formView:h}):T(e),s){const t=s({widget:e,$formView:h});t&&t.length&&(n[l]=t)}else r&&(n[l]=O())},{children:"children"}),{formData:t,formRules:n}},E=e=>(e||[]).map(e=>ph(e)),D=n=>{const o=E(n);g.widgetObjList=o;const{formData:r,formRules:a}=S(o);return g.formRules=a,l("update:modelValue",Object.assign(r,e.modelValue)),t()},T=e=>"subtable"===e.name?[]:null,O=()=>[{required:!0,content:"该填写该字段！"}],k=(e,n)=>{const{field:o}=e,l=u.value;return l&&l.updateStatus({field:o},n),t()},R=(e,t,n)=>{l(e,zp(n,{$formView:h},t))},I=e=>e?np.isArray(e)?e.map(e=>e.name):[e.name]:null,P={dispatchEvent:R,clearConfig:()=>x({formConfig:{},widgetData:[]}),loadConfig:x,parseConfig:e=>{const{formConfig:t,widgetData:n}=e||{},o=E(n||[]);return Object.assign(Object.assign({},S(o)),{formConfig:w(t||{}),widgetData:o})},loadFormConfig:C,loadWidgetData:D,updateWidgetStatus:k,setItemValue:(n,o)=>{const{modelValue:l}=e,{field:r}=n,a=u.value;return l&&(l[r]=o),a&&a.updateStatus({field:r},o),t()},getItemValue:t=>{const{modelValue:n}=e;return n?n[t.field]:null},validate(){const e=u.value;return e?e.validate():t()},validateWidget(e){const n=u.value;return n?n.validateField(I(e)):t()},clearValidate(e){const n=u.value;return n?n.clearValidate(I(e)):t()},reset(){const{widgetObjList:e}=g,{formData:n}=S(e);return l("update:modelValue",Object.assign({},n)),t()},updateItemStatus:(e,t)=>(Nm("vxe.error.delFunc",["updateItemStatus","updateWidgetStatus"]),k(e,t))},F=e=>{R("submit",e,e.$event)},M=e=>{R("reset",e,e.$event)};Object.assign(h,P,{});return h.renderVN=()=>{const{readonly:t,disabled:n,modelValue:o}=e,{formConfig:l,formRules:r,widgetObjList:i}=g,s=d.value,m=a.top,f=a.bottom,v=a.header,b=a.footer;return y("div",{ref:c,class:["vxe-form-view",{[`size--${s}`]:s}]},[m?y("div",{class:"vxe-form-view--top"},Gm(m({$formView:h}))):Rm(),y(Bv,Object.assign(Object.assign({ref:u},l),{data:o,customLayout:!0,readonly:t,disabled:n,span:24,rules:r,onSubmit:F,onReset:M}),{default(){const{readonly:t,disabled:n}=e;return[v?y(xh,{},{default:()=>v({})}):Rm(),...i.map(e=>{const{name:o}=e,l=im.get(o)||{},r=l.renderFormDesignWidgetView,a=l.renderFormDesignWidgetPreview,i=l.renderFormDesignWidgetMobilePreview,s=!!p,c=e,u={widget:e,readonly:!!t,disabled:!!n,isEditMode:s,isViewMode:!s,$formDesign:null,$formView:h};return y(Ih,{key:e.id},{default(){if(p)if(2===p.reactData.activeTab){if(i)return Gm(i(c,u))}else if(a)return Gm(a(c,u));return r?Gm(r(c,u)):[]}})}),b?y(Ih,{span:24},{default:()=>b({})}):Rm()]}}),f?y("div",{class:"vxe-form-view--bottom"},Gm(f({$formView:h}))):Rm()])},i(()=>e.config,e=>{x(e||{})}),e.config&&x(e.config),b("$xeFormView",h),h},render(){return this.renderVN()}}),Fh=Pm({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},name:String,strict:{type:Boolean,default:()=>Rp().radio.strict},size:{type:String,default:()=>Rp().radio.size||Rp().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:l}=t,r=n("$xeForm",null),a=n("xeFormItemInfo",null),i=n("$xeRadioGroup",null),s=np.uniqueId(),c=m({}),u={xID:s,props:e,context:t,reactData:c},{computeSize:d}=ym(e),p=g(()=>{const{disabled:t}=e;if(null===t&&i){const{computeIsDisabled:e}=i.getComputeMaps();return e.value}return t}),f=g(()=>i?i.name:e.name),v=g(()=>i?i.props.strict:e.strict),h=g(()=>{const{label:t}=e;return i?i.props.modelValue===t:e.modelValue===t}),b=(e,t)=>{i?i.handleChecked({label:e},t):(l("update:modelValue",e),C("change",{value:e,label:e},t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,e))},x=t=>{p.value||b(e.label,t)},w=t=>{const n=p.value,o=v.value;n||o||e.label===(i?i.props.modelValue:e.modelValue)&&b(null,t)},C=(e,t,n)=>{l(e,zp(n,{$radio:u},t))},S={dispatchEvent:C};Object.assign(u,S,{});return u.renderVN=()=>{const{label:t}=e,n=d.value,l=p.value,r=f.value,a=h.value;return y("label",{key:t,class:["vxe-radio vxe-radio--default",{[`size--${n}`]:n,"is--checked":a,"is--disabled":l}],title:e.title},[y("input",{class:"vxe-radio--input",type:"radio",name:r,checked:a,disabled:l,onChange:x,onClick:w}),y("span",{class:["vxe-radio--icon",a?Mp().RADIO_CHECKED:l?Mp().RADIO_DISABLED_UNCHECKED:Mp().RADIO_UNCHECKED]}),y("span",{class:"vxe-radio--label"},o.default?o.default({}):Ng(e.content))])},u},render(){return this.renderVN()}}),Mh=Pm({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},strict:{type:Boolean,default:()=>Rp().radioButton.strict},size:{type:String,default:()=>Rp().radioButton.size||Rp().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:l}=t,r=n("$xeForm",null),a=n("xeFormItemInfo",null),i=n("$xeRadioGroup",null),s=np.uniqueId(),c=m({}),{computeSize:u}=ym(e),d={xID:s,props:e,context:t,reactData:c},p=g(()=>{const{disabled:t}=e;if(null===t&&i){const{computeIsDisabled:e}=i.getComputeMaps();return e.value}return t}),f=g(()=>i?i.name:null),v=g(()=>i?i.props.strict:e.strict),h=g(()=>{const{label:t}=e;return i?i.props.modelValue===t:e.modelValue===t}),b={dispatchEvent(e,t,n){l(e,zp(n,{$radioButton:d},t))}};Object.assign(d,b,{});const x=(e,t)=>{i?i.handleChecked({label:e},t):(l("update:modelValue",e),b.dispatchEvent("change",{value:e,label:e},t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,e))},w=t=>{p.value||x(e.label,t)},C=t=>{const n=p.value,o=v.value;n||o||e.label===(i?i.props.modelValue:e.modelValue)&&x(null,t)},S=()=>{const{label:t}=e,n=u.value,l=p.value,r=f.value,a=h.value;return y("label",{key:t,class:["vxe-radio vxe-radio--button",{[`size--${n}`]:n,"is--disabled":l}],title:e.title},[y("input",{class:"vxe-radio--input",type:"radio",name:r,checked:a,disabled:l,onChange:w,onClick:C}),y("span",{class:"vxe-radio--label"},o.default?o.default({}):Ng(e.content))])};return d.renderVN=S,S}}),Ah=Pm({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>Rp().radioGroup.strict},size:{type:String,default:()=>Rp().radioGroup.size||Rp().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:l}=t,r=n("$xeForm",null),a=n("xeFormItemInfo",null),i=np.uniqueId(),{computeSize:s}=ym(e),c=m({}),u={computeIsDisabled:g(()=>{const{disabled:t}=e;return null===t?!!r&&(r.props.readonly||r.props.disabled):t})},d={xID:i,props:e,context:t,reactData:c,name:np.uniqueId("xe_group_"),getComputeMaps:()=>u},p=g(()=>Object.assign({},e.optionProps)),f=g(()=>p.value.label||"label"),v=g(()=>p.value.value||"value"),h=g(()=>p.value.disabled||"disabled"),x=(e,t,n)=>{l(e,zp(n,{$radioGroup:d},t))},w={dispatchEvent:x},C={handleChecked(e,t){const n=e.label;l("update:modelValue",n),x("change",{value:n,label:n},t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,n)}};Object.assign(d,w,C);return b("$xeRadioGroup",d),d.renderVN=()=>{const{options:t,type:n}=e,l=s.value,r=o.default,a=v.value,i=f.value,c=h.value,u="button"===n?Mh:Fh;return y("div",{class:["vxe-radio-group",{[`size--${l}`]:l}]},r?r({}):t?t.map(e=>y(u,{key:e[a],label:e[a],content:e[i],disabled:e[c]})):[])},d},render(){return this.renderVN()}});function Vh(e){return!1!==e.visible}const $h=Pm({name:"VxeSelect",props:{modelValue:[String,Number,Boolean,Array],defaultConfig:Object,clearable:Boolean,placeholder:String,readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>Rp().select.multiCharOverflow},prefixIcon:String,allowCreate:{type:Boolean,default:()=>Rp().select.allowCreate},placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},size:{type:String,default:()=>Rp().select.size||Rp().size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteMethod:Function,remoteConfig:Object,emptyText:String,transfer:{type:Boolean,default:null},virtualYConfig:Object,scrollY:Object,optionId:{type:String,default:()=>Rp().select.optionId},optionKey:Boolean},emits:["update:modelValue","change","clear","blur","focus","click","scroll","visible-change"],setup(e,o){const{slots:l,emit:a}=o,s=n("$xeModal",null),c=n("$xeDrawer",null),u=n("$xeTable",null),d=n("$xeForm",null),p=n("xeFormItemInfo",null),h=np.uniqueId(),x=r(),w=r(),C=r(),E=r(),D=r(),T=r(),{computeSize:O}=ym(e),k=m({initialized:!1,scrollYLoad:!1,bodyHeight:0,topSpaceHeight:0,optList:[],afterVisibleList:[],staticOptions:[],reactFlag:0,currentOption:null,searchValue:"",searchLoading:!1,panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),R={synchData:[],fullData:[],optAddMaps:{},optGroupKeyMaps:{},optFullValMaps:{},remoteValMaps:{},lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0},lastScrollTime:0,hpTimeout:void 0},I={refElem:x},P={xID:h,props:e,context:o,reactData:k,internalData:R,getRefMaps:()=>I},F=g(()=>{const{readonly:t}=e;return null===t?!!d&&d.props.readonly:t}),M=g(()=>{const{disabled:t}=e;return null===t?!!d&&d.props.disabled:t}),A=g(()=>{const{transfer:t}=e;if(null===t){const e=Rp().select.transfer;if(np.isBoolean(e))return e;if(u||s||c||d)return!0}return t}),V=g(()=>{const{placeholder:t}=e;if(t)return Ng(t);const n=Rp().select.placeholder;return n?Ng(n):Qp("vxe.base.pleaseSelect")}),$=g(()=>Object.assign({},e.defaultConfig)),N=g(()=>Object.assign({},e.optionProps)),L=g(()=>Object.assign({},e.optionGroupProps)),_=g(()=>N.value.label||"label"),B=g(()=>N.value.value||"value"),z=g(()=>L.value.label||"label"),j=g(()=>L.value.options||"options"),H=g(()=>{const{modelValue:t,multiple:n,max:o}=e;return!(!n||!o)&&(np.isArray(t)?t.length:np.eqNull(t)?0:1)>=np.toNumber(o)}),W=g(()=>Object.assign({},Rp().select.virtualYConfig||Rp().select.scrollY,e.virtualYConfig||e.scrollY)),q=g(()=>Object.assign({},Rp().select.remoteConfig,e.remoteConfig)),G=g(()=>Object.assign({},Rp().select.optionConfig,e.optionConfig)),U=g(()=>np.toNumber(e.multiCharOverflow)),K=g(()=>{const{modelValue:t,remote:n,multiple:o}=e,{reactFlag:l}=k,r=U.value;if(np.eqNull(t))return"";const a=np.isArray(t)?t:[t];return n&&l?a.map(e=>ee(e)).join(", "):a.map(e=>{const t=te(e);return o&&r>0&&t.length>r?`${t.substring(0,r)}...`:t}).join(", ")}),Y=(e,t)=>e&&(np.isString(e)&&(e=l[e]||null),np.isFunction(e))?Gm(e(t)):[],X=(e,t,n)=>{a(e,zp(n,{$select:P},t))},Z=e=>{a("update:modelValue",e)},Q=()=>G.value.keyField||e.optionId||"_X_OPTION_KEY",J=e=>{const t=e[Q()];return t?encodeURIComponent(t):""},ee=e=>{const{remoteValMaps:t,optFullValMaps:n}=R,o=_.value,l=t[e]||n[e],r=l?l.item:null;return np.toValueString(r?r[o]:e)},te=e=>{const{optFullValMaps:t}=R,n=_.value,o=k.reactFlag?t[e]:null;return o?o.item[n]:np.toValueString(e)},ne=e=>{const t=j.value,n=B.value,o=Q(),l={},r={},a=[],i=e=>{a.push(e);let t=J(e);t||(t=np.uniqueId("opt_"),e[o]=t),r[e[n]]={key:t,item:e,_index:-1}};e.forEach(e=>{i(e),e[t]&&(l[e[o]]=e,e[t].forEach(i))}),R.fullData=a,R.optGroupKeyMaps=l,R.optFullValMaps=r,k.reactFlag++,oe()},oe=()=>{const{modelValue:n,filterable:o,filterMethod:l}=e,{searchValue:r}=k,{fullData:a,optFullValMaps:i}=R,s=_.value,c=B.value,u=`${r||""}`.toLowerCase();let d=[];return d=o&&l?a.filter(e=>Vh(e)&&l({$select:P,group:null,option:e,searchValue:r,value:n})):o?a.filter(e=>Vh(e)&&(!u||`${e[s]}`.toLowerCase().indexOf(u)>-1)):a.filter(Vh),d.forEach((e,t)=>{const n=i[e[c]];n&&(n._index=t)}),k.afterVisibleList=d,t()},le=e=>{e&&(k.currentOption=e)},re=()=>{const{placement:n}=e,{panelIndex:o}=k,l=x.value,r=D.value,a=A.value,i=()=>{const e=gg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});k.panelStyle=t,k.panelPlacement=e.placement};return i(),t().then(i)},ae=()=>{const{loading:t,filterable:n,remote:o}=e,{fullData:l,hpTimeout:r}=R,a=M.value,i=q.value;t||a||(r&&(clearTimeout(r),R.hpTimeout=void 0),k.initialized||(k.initialized=!0),k.isActivated=!0,k.isAniVisible=!0,n&&(o&&i.enabled&&i.autoLoad&&!l.length?Te():(oe(),Ie())),setTimeout(()=>{k.visiblePanel=!0,xe(),Ae().then(()=>Me())},10),setTimeout(()=>{Ae().then(()=>Me())},100),k.panelIndex<Vg()&&(k.panelIndex=Ag()),re(),X("visible-change",{visible:!0},null))},ie=()=>{k.searchValue="",k.searchLoading=!1,k.visiblePanel=!1,R.hpTimeout=setTimeout(()=>{k.isAniVisible=!1},350),X("visible-change",{visible:!1},null)},se=(t,n)=>{Z(n),n!==e.modelValue&&(X("change",{value:n},t),d&&p&&d.triggerItemEvent(t,p.itemConfig.field,n))},ce=(e,t)=>{R.remoteValMaps={},se(e,t),X("clear",{value:t},e)},ue=e=>{const{$event:t}=e;ce(t,null),ie()},de=(t,n)=>{const{modelValue:o,multiple:l}=e,{remoteValMaps:r}=R,a=n[B.value],i=r[a];if(k.visiblePanel){if(i?i.item=n:r[a]={key:J(n),item:n,_index:-1},l){let e=[];const n=np.eqNull(o)?[]:np.isArray(o)?o:[o];e=-1===np.findIndexOf(n,e=>e===a)?n.concat([a]):n.filter(e=>e!==a),se(t,e)}else se(t,a),ie();k.reactFlag++}},pe=e=>{const{visiblePanel:t}=k;if(!M.value&&t){sg(e,D.value).flag?re():ie()}},me=e=>{const{visiblePanel:t}=k;if(!M.value){const n=x.value,o=D.value;k.isActivated=sg(e,n).flag||sg(e,o).flag,t&&!k.isActivated&&ie()}},ge=e=>{const t=e.disabled,n=J(e);return!t&&!Le(n)},fe=(t,n)=>{const{allowCreate:o}=e,{afterVisibleList:l,optList:r}=k,{optFullValMaps:a,optAddMaps:i}=R,s=B.value;let c=l,u=0;if(o&&r.length){const e=r[0],t=J(e);i[t]&&(u=1,c=[i[t]].concat(c))}if(!t)if(n)for(let e=0;e<c.length;e++){const t=c[e];if(ge(t))return t}else for(let e=c.length-1;e>=0;e--){const t=c[e];if(ge(t))return t}let d=0;const p=t?a[t[s]]:null;if(p&&(d=p._index+u),d>-1)if(n)for(let e=d+1;e<=c.length-1;e++){const t=c[e];if(ge(t))return t}else if(d>0)for(let e=d-1;e>=0;e--){const t=c[e];if(ge(t))return t}return null},ve=t=>{const{clearable:n}=e,{visiblePanel:o,currentOption:l}=k;if(!M.value){const e=jp.hasKey(t,Ap.TAB),r=jp.hasKey(t,Ap.ENTER),a=jp.hasKey(t,Ap.ESCAPE),i=jp.hasKey(t,Ap.ARROW_UP),s=jp.hasKey(t,Ap.ARROW_DOWN),c=jp.hasKey(t,Ap.DELETE),u=jp.hasKey(t,Ap.SPACEBAR);if(e&&(k.isActivated=!1),o)if(a||e)ie();else if(r)l&&(t.preventDefault(),t.stopPropagation(),de(t,l));else if(i||s){t.preventDefault();let e=fe(l,s);e||(e=fe(null,s)),e&&(le(e),Fe(e,s))}else u&&t.preventDefault();else(i||s||r||u)&&k.isActivated&&(t.preventDefault(),ae());k.isActivated&&c&&n&&ce(t,null)}},he=()=>{ie()},be=()=>{const{visiblePanel:e}=k;e&&re()},xe=()=>{e.filterable&&t(()=>{const e=C.value;e&&e.focus()})},we=e=>{M.value||k.visiblePanel||(k.triggerFocusPanel=!0,ae(),setTimeout(()=>{k.triggerFocusPanel=!1},500)),X("focus",{},e)},ye=e=>{Oe(e),X("click",{triggerButton:!1,visible:k.visiblePanel},e)},Ce=e=>{k.isActivated=!1,X("blur",{},e)},Se=e=>{Oe(e),X("click",{triggerButton:!0,visible:k.visiblePanel},e)},Ee=e=>{k.searchValue=e},De=()=>{k.isActivated=!0},Te=np.debounce(()=>{const{modelValue:n,remote:o,remoteMethod:l}=e,{searchValue:r}=k,a=q.value,i=a.queryMethod||l;o&&i&&a.enabled?(k.searchLoading=!0,Promise.resolve(i({$select:P,searchValue:r,value:n})).then(()=>t()).catch(()=>t()).finally(()=>{k.searchLoading=!1,oe(),Ie()})):(oe(),Ie())},350,{trailing:!0}),Oe=e=>{const{$event:t}=e;t.preventDefault(),k.triggerFocusPanel?k.triggerFocusPanel=!1:k.visiblePanel?ie():ae()},ke=()=>{const{scrollYLoad:e,afterVisibleList:t}=k,{scrollYStore:n}=R;k.bodyHeight=e?t.length*n.rowHeight:0,k.topSpaceHeight=e?Math.max(n.startIndex*n.rowHeight,0):0},Re=()=>{const{filterable:n,allowCreate:o}=e,{scrollYLoad:l,afterVisibleList:r,searchValue:a}=k,{optAddMaps:i,scrollYStore:s}=R,c=_.value,u=B.value,d=l?r.slice(s.startIndex,s.endIndex):r.slice(0);if(n&&o&&a&&!d.some(e=>e[c]===a)){const e=i[a]||m({[Q()]:a,[c]:a,[u]:a});i[a]=e,d.unshift(e)}return k.optList=d,t()},Ie=()=>{Re(),ke()},Pe=()=>t().then(()=>{const{scrollYLoad:e}=k,{scrollYStore:t}=R,n=T.value,o=W.value;let l,r=0;if(n&&(o.sItem&&(l=n.querySelector(o.sItem)),l||(l=n.children[0])),l&&(r=l.offsetHeight),r=Math.max(20,r),t.rowHeight=r,e){const e=E.value,n=Math.max(8,e?Math.ceil(e.clientHeight/r):0),l=Math.max(0,Math.min(2,np.toNumber(o.oSize)));t.offsetSize=l,t.visibleSize=n,t.endIndex=Math.max(t.startIndex,n+l,t.endIndex),Ie()}else ke()}),Fe=(e,t)=>{const{scrollYLoad:n}=k,{optFullValMaps:o,scrollYStore:l}=R,r=o[e[B.value]];if(r){const e=r.key,o=r._index;if(o>-1){const r=E.value,a=D.value.querySelector(`[optid='${e}']`);if(r)if(a){const e=r.offsetHeight,n=1;t?a.offsetTop+a.offsetHeight-r.scrollTop>e?r.scrollTop=a.offsetTop+a.offsetHeight-e:(a.offsetTop+n<r.scrollTop||a.offsetTop+n>r.scrollTop+r.clientHeight)&&(r.scrollTop=a.offsetTop-n):a.offsetTop+n<r.scrollTop||a.offsetTop+n>r.scrollTop+r.clientHeight?r.scrollTop=a.offsetTop-n:a.offsetTop+a.offsetHeight-r.scrollTop>e&&(r.scrollTop=a.offsetTop+a.offsetHeight-e)}else n&&(r.scrollTop=t?o*l.rowHeight-r.clientHeight+l.rowHeight:o*l.rowHeight)}}},Me=()=>{const{lastScrollLeft:e,lastScrollTop:n}=R;return Ne().then(()=>{if(e||n)return R.lastScrollLeft=0,R.lastScrollTop=0,((e,n)=>{const o=E.value;return o&&(np.isNumber(e)&&(o.scrollLeft=e),np.isNumber(n)&&(o.scrollTop=n)),k.scrollYLoad?new Promise(e=>{setTimeout(()=>{t(()=>{e()})},50)}):t()})(e,n)})},Ae=()=>{const e=x.value;return e&&e.clientWidth&&e.clientHeight?Pe():Promise.resolve()},Ve=e=>{const t=e.target,n=t.scrollTop,o=t.scrollLeft,l=o!==R.lastScrollLeft,r=n!==R.lastScrollTop;R.lastScrollTop=n,R.lastScrollLeft=o,k.scrollYLoad&&(e=>{const{scrollYStore:t}=R,{startIndex:n,endIndex:o,visibleSize:l,offsetSize:r,rowHeight:a}=t,i=e.target.scrollTop,s=Math.floor(i/a),c=Math.max(0,s-1-r),u=s+l+r;(s<=n||s>=o-l-1)&&(n===c&&o===u||(t.startIndex=c,t.endIndex=u,Ie()))})(e),R.lastScrollTime=Date.now(),X("scroll",{scrollLeft:o,scrollTop:n,isX:l,isY:r},e)},$e=n=>{ne(n||[]);const{isLoaded:o,fullData:l,scrollYStore:r}=R,a=$.value,i=W.value,s=B.value;if(Object.assign(r,{startIndex:0,endIndex:1,visibleSize:0}),R.synchData=n||[],k.scrollYLoad=!!i.enabled&&i.gt>-1&&(0===i.gt||i.gt<=l.length),Re(),!o){const{selectMode:o}=a;if(n.length>0&&np.eqNull(e.modelValue)){if("first"===o||"last"===o){const l=np[o](n);l&&t(()=>{np.eqNull(e.modelValue)&&Z(l[s])})}R.isLoaded=!0}}return Pe().then(()=>{Me()})},Ne=()=>{const e=E.value;return e&&(e.scrollTop=0,e.scrollLeft=0),R.lastScrollTop=0,R.lastScrollLeft=0,t()},Le=e=>{const{optGroupKeyMaps:t}=R;return!!t[e]},_e={dispatchEvent:X,loadData:$e,reloadData:e=>(R.isLoaded=!1,Ne(),$e(e)),isPanelVisible:()=>k.visiblePanel,togglePanel:()=>(k.visiblePanel?ie():ae(),t()),hidePanel:()=>(k.visiblePanel&&ie(),t()),showPanel:()=>(k.visiblePanel||ae(),t()),refreshOption:()=>(oe(),Ie(),t()),focus(){const e=w.value;return k.isActivated=!0,e.blur(),t()},blur:()=>(w.value.blur(),k.isActivated=!1,t()),recalculate:Ae,clearScroll:Ne};Object.assign(P,_e);const Be=(t,n)=>{const{allowCreate:o,optionKey:r,modelValue:a}=e,{currentOption:i}=k,{optAddMaps:s}=R,c=G.value,u=_.value,d=B.value,p=z.value,{useKey:m}=c,g=l.option;return t.map((e,t)=>{const{slots:n,className:l}=e,c=J(e),f=e[d],v=Le(c),h=!(!o||!s[c]),b=!h&&(np.isArray(a)?a.indexOf(f)>-1:a===f),x=h||!v||Vh(e),w=!h&&((e,t)=>!!t.disabled||!(!H.value||e))(b,e),C=n?n.default:null,S={option:e,group:null,$select:P},E=g?Y(g,S):C?Y(C,S):Ng(e[v?p:u]);return x?y("div",{key:m||r?c:t,class:["vxe-select-option",l?np.isFunction(l)?l(S):l:"",{"vxe-select-optgroup":v,"is--disabled":w,"is--selected":b,"is--add":h,"is--hover":i&&J(i)===c}],optid:c,onMousedown:e=>{0===e.button&&e.stopPropagation()},onClick:t=>{w||v||de(t,e)},onMouseenter:()=>{w||v||(()=>{const{lastScrollTime:e}=R;return!!(e&&Date.now()<e+250)})()||le(e)}},o?[y("span",{key:1,class:"vxe-select-option--label"},E),h?y("span",{key:2,class:"vxe-select-option--add-icon"},[y("i",{class:Mp().ADD_OPTION})]):Rm()]:E):Rm()})},ze=()=>{const{optList:t,searchLoading:n}=k;return n?[y("div",{class:"vxe-select--search-loading"},[y("i",{class:["vxe-select--search-icon",Mp().SELECT_LOADED]}),y("span",{class:"vxe-select--search-text"},Qp("vxe.select.loadingText"))])]:t.length?Be(t):[y("div",{class:"vxe-select--empty-placeholder"},e.emptyText||Qp("vxe.select.emptyText"))]};return i(()=>k.staticOptions,e=>{$e(e)}),i(()=>e.options,e=>{$e(e||[])}),i(()=>e.optionGroups,e=>{$e(e||[])}),f(()=>{t(()=>{const{options:t,optionGroups:n}=e;n?$e(n):t&&$e(t)}),jp.on(P,"mousewheel",pe),jp.on(P,"mousedown",me),jp.on(P,"keydown",ve),jp.on(P,"blur",he),jp.on(P,"resize",be)}),v(()=>{jp.off(P,"mousewheel"),jp.off(P,"mousedown"),jp.off(P,"keydown"),jp.off(P,"blur"),jp.off(P,"resize")}),b("$xeSelect",P),P.renderVN=()=>{const{className:t,popupClassName:n,loading:o,filterable:r}=e,{initialized:a,isActivated:i,isAniVisible:s,visiblePanel:c,bodyHeight:u,topSpaceHeight:d}=k,p=O.value,m=M.value,g=K.value,f=A.value,v=F.value,h=V.value,b=l.default,R=l.header,I=l.footer,$=l.prefix;return v?y("div",{ref:x,class:["vxe-select--readonly",t]},[y("div",{class:"vxe-select-slots",ref:"hideOption"},b?b({}):[]),y("span",{class:"vxe-select-label"},g)]):y("div",{ref:x,class:["vxe-select",t?np.isFunction(t)?t({$select:P}):t:"",{[`size--${p}`]:p,"is--visible":c,"is--disabled":m,"is--filter":r,"is--loading":o,"is--active":i}]},[y("div",{class:"vxe-select-slots",ref:"hideOption"},b?b({}):[]),y(Gf,{ref:w,clearable:e.clearable,placeholder:h,readonly:!0,disabled:m,type:"text",prefixIcon:e.prefixIcon,suffixIcon:o?Mp().SELECT_LOADED:c?Mp().SELECT_OPEN:Mp().SELECT_CLOSE,autoFocus:!1,modelValue:g,onClear:ue,onClick:ye,onFocus:we,onBlur:Ce,onSuffixClick:Se},$?{prefix:()=>$({})}:{}),y(S,{to:"body",disabled:!f||!a},[y("div",{ref:D,class:["vxe-table--ignore-clear vxe-select--panel",n?np.isFunction(n)?n({$select:P}):n:"",{[`size--${p}`]:p,"is--transfer":f,"ani--leave":!o&&s,"ani--enter":!o&&c}],placement:k.panelPlacement,style:k.panelStyle},a&&(c||s)?[y("div",{class:"vxe-select--panel-wrapper"},[r?y("div",{class:"vxe-select--panel-search"},[y(Gf,{ref:C,class:"vxe-select-search--input",modelValue:k.searchValue,clearable:!0,disabled:!1,readonly:!1,placeholder:Qp("vxe.select.search"),prefixIcon:Mp().INPUT_SEARCH,"onUpdate:modelValue":Ee,onFocus:De,onChange:Te,onSearch:Te})]):Rm(),R?y("div",{class:"vxe-select--panel-header"},R({})):Rm(),y("div",{class:"vxe-select--panel-body"},[y("div",{ref:E,class:"vxe-select-option--wrapper",onScroll:Ve},[y("div",{class:"vxe-select--y-space",style:{height:u?`${u}px`:""}}),y("div",{ref:T,class:"vxe-select--body",style:{marginTop:d?`${d}px`:""}},ze())])]),I?y("div",{class:"vxe-select--panel-footer"},I({})):Rm()])]:[])])])},P},render(){return this.renderVN()}}),Nh=()=>[{label:Qp("vxe.formDesign.styleSetting.fontNormal"),value:!1},{label:Qp("vxe.formDesign.styleSetting.fontBold"),value:!0}],Lh=()=>[{label:Qp("vxe.formDesign.styleSetting.colonVisible"),value:!0},{label:Qp("vxe.formDesign.styleSetting.colonHidden"),value:!1}],_h=()=>[{label:Qp("vxe.formDesign.styleSetting.alignLeft"),value:""},{label:Qp("vxe.formDesign.styleSetting.alignRight"),value:"right"}],Bh=()=>[{label:Qp("vxe.formDesign.styleSetting.unitPx"),value:""},{label:Qp("vxe.formDesign.styleSetting.unitPct"),value:"%"}],zh=(e,t,n,o)=>{const l="vertical"===n;return y("div",{class:["vxe-form-design--widget-form-item-option",`is--${n}`,{"is--active":l?e[t]:!e[t]}],onClick(){e[t]=l,o()}},[y("div",{class:"vxe-form-design--widget-form-item-option-row"}),y("div",{class:"vxe-form-design--widget-form-item-option-row"}),y("div",{},Qp(l?"vxe.formDesign.styleSetting.verticalLayout":"vxe.formDesign.styleSetting.horizontalLayout"))])},jh=Pm({name:"DefaultPCStyleForm",props:{formData:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormDesign",null),o="pcVertical",l=r(Nh()),a=r(Lh()),i=r(_h()),s=r(Bh()),c=()=>{t&&t.refreshPreviewView()},u=()=>{const{formData:t}=e;t.pcTitleWidth||(t.pcTitleWidth=100),c()};return()=>{const{formData:t}=e;return y(Bv,{data:t,span:24,vertical:!0,titleBold:!0},{default:()=>[y(xh,{title:Qp("vxe.formDesign.styleSetting.layoutTitle"),field:o},{default:()=>[y("div",{class:"vxe-form-design--widget-form-item-layout"},[zh(t,o,"vertical",u),zh(t,o,"horizontal",u)])]}),y(xh,{title:Qp("vxe.formDesign.styleSetting.styleTitle")},{default:()=>[y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},Qp("vxe.formDesign.styleSetting.boldTitle")),y(Ah,{modelValue:t.pcTitleBold,options:l.value,onChange:c,"onUpdate:modelValue"(e){t.pcTitleBold=e}})]),y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},Qp("vxe.formDesign.styleSetting.colonTitle")),y(Ah,{modelValue:t.pcTitleColon,options:a.value,onChange:c,"onUpdate:modelValue"(e){t.pcTitleColon=e}})]),t.pcVertical?x():y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},Qp("vxe.formDesign.styleSetting.alignTitle")),y(Ah,{modelValue:t.pcTitleAlign,options:i.value,onChange:c,"onUpdate:modelValue"(e){t.pcTitleAlign=e}})]),t.pcVertical?x():y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},Qp("vxe.formDesign.styleSetting.widthTitle")),y(Gf,{class:"vxe-form-design--widget-form-item-prop-width",modelValue:t.pcTitleWidth,type:"integer",onChange:c,"onUpdate:modelValue"(e){t.pcTitleWidth=e}}),y($h,{class:"vxe-form-design--widget-form-item-prop-unit",modelValue:t.pcTitleWidthUnit,options:s.value,transfer:!0,onChange:c,"onUpdate:modelValue"(e){t.pcTitleWidthUnit=e}})])]})]})}}}),Hh=Pm({name:"DefaultMobileStyleForm",props:{formData:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormDesign",null),o="mobileVertical",l=r(Nh()),a=r(Lh()),i=r(_h()),s=r(Bh()),c=()=>{t&&t.refreshPreviewView()},u=()=>{const{formData:t}=e;t.mobileTitleWidth||(t.mobileTitleWidth=100),c()};return()=>{const{formData:t}=e;return y(Bv,{data:t,span:24,vertical:!0,titleBold:!0},{default:()=>[y(xh,{title:Qp("vxe.formDesign.styleSetting.layoutTitle"),field:o},{default:()=>[y("div",{class:"vxe-form-design--widget-form-item-layout"},[zh(t,o,"vertical",u),zh(t,o,"horizontal",u)])]}),y(xh,{title:Qp("vxe.formDesign.styleSetting.styleTitle")},{default:()=>[y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},Qp("vxe.formDesign.styleSetting.boldTitle")),y(Ah,{modelValue:t.mobileTitleBold,options:l.value,onChange:c,"onUpdate:modelValue"(e){t.mobileTitleBold=e}})]),y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},Qp("vxe.formDesign.styleSetting.colonTitle")),y(Ah,{modelValue:t.mobileTitleColon,options:a.value,onChange:c,"onUpdate:modelValue"(e){t.mobileTitleColon=e}})]),t.mobileVertical?x():y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},Qp("vxe.formDesign.styleSetting.alignTitle")),y(Ah,{modelValue:t.mobileTitleAlign,options:i.value,onChange:c,"onUpdate:modelValue"(e){t.mobileTitleAlign=e}})]),t.mobileVertical?x():y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},Qp("vxe.formDesign.styleSetting.widthTitle")),y(Gf,{class:"vxe-form-design--widget-form-item-prop-width",modelValue:t.mobileTitleWidth,type:"integer",onChange:c,"onUpdate:modelValue"(e){t.mobileTitleWidth=e}}),y($h,{class:"vxe-form-design--widget-form-item-prop-unit",modelValue:t.mobileTitleWidthUnit,options:s.value,transfer:!0,onChange:c,"onUpdate:modelValue"(e){t.mobileTitleWidthUnit=e}})])]})]})}}}),Wh=Pm({name:"FormDesignLayoutStyle",props:{},emits:[],setup(){const e=n("$xeFormDesign",null),t=m({activeTab:1}),o={reactData:t,renderVN:()=>[]};if(!e)return o;const{props:l,reactData:a}=e,i=r(!1),s=r(null),c=r({}),u=()=>{s.value=e.getConfig()},d=e=>{const{viewRender:n}=e,{activeTab:o}=t,{name:l}=n||{},r=im.get(l)||{},a=r?r.createFormViewFormConfig:null,i=r?r.createFormViewMobileFormConfig:null;return 2===o?i?i(e):(e=>{const{formConfig:t}=e;return{vertical:t.mobileVertical,titleBold:t.mobileTitleBold,titleColon:t.mobileTitleColon,titleAlign:t.mobileTitleAlign,titleWidth:t.mobileTitleWidth}})(e):a?a(e):Rh(e)},p={updatePreviewView:u,openStylePreview(){const{showPc:e}=l;u(),t.activeTab=e?1:2,i.value=!0}};Object.assign(o,p);const g=()=>{const{activeTab:e}=t;return y("div",{class:["vxe-form-design--layout-style-preview","is--"+(2===e?"mobile":"pc")]},[y(Ph,{modelValue:c.value,config:s.value,createFormConfig:d,"onUpdate:modelValue"(e){c.value=e}})])},f=()=>{const{showPc:n,showMobile:o}=l,{activeTab:r}=t;return y("div",{class:"vxe-form-design--layout-style-setting"},[y(vh,{modelValue:r,titleWidth:n&&o?"50%":"100%",titleAlign:"center",padding:!0,onChange:u,"onUpdate:modelValue"(e){t.activeTab=e}},{default(){const t=[];return n&&t.push(y(hh,{title:Qp("vxe.formDesign.widgetProp.displaySetting.pc"),icon:Mp().FORM_DESIGN_PROPS_PC,k:1,name:1},{default:()=>(()=>{const{formRender:t}=l,{formData:n}=a;if(t){const o=im.get(t.name),l=o?o.renderFormDesignStyleFormView:null;if(l)return y("div",{class:"vxe-form-design--custom-setting-pc-form-view"},Gm(l({},{$formDesign:e,formConfig:n})))}return y(jh,{formData:n})})()})),o&&t.push(y(hh,{title:Qp("vxe.formDesign.widgetProp.displaySetting.mobile"),icon:Mp().FORM_DESIGN_PROPS_MOBILE,key:2,name:2},{default:()=>(()=>{const{formRender:t}=l,{formData:n}=a;if(t){const o=im.get(t.name),l=o?o.renderFormDesignMobileStyleFormView:null;if(l)return y("div",{class:"vxe-form-design--custom-setting-mobile-form-view"},Gm(l({},{$formDesign:e,formConfig:n})))}return y(Hh,{formData:n})})()})),t}})])};return o.renderVN=()=>{const{showPc:e,showMobile:t}=l;return y(kh,{modelValue:i.value,title:Qp("vxe.formDesign.styleSetting.title"),height:"90vh",width:"90vw",escClosable:!0,maskClosable:!0,destroyOnClose:!0,showMaximize:!0,transfer:!0,"onUpdate:modelValue"(e){i.value=e}},{default:()=>y("div",{class:"vxe-form-design--layout-style"},[g(),e||t?f():x()])})},b("$xeFormDesignLayoutStyle",o),o},render(){return this.renderVN()}}),qh=Pm({name:"VxeFormDesign",props:{size:{type:String,default:()=>Rp().formDesign.size||Rp().size},config:Object,height:{type:[String,Number],default:()=>Rp().formDesign.height},widgets:{type:Array,default:()=>np.clone(Rp().formDesign.widgets)||[]},showHeader:{type:Boolean,default:()=>Rp().formDesign.showHeader},showPc:{type:Boolean,default:()=>Rp().formDesign.showPc},showMobile:{type:Boolean,default:()=>Rp().formDesign.showMobile},formRender:Object},emits:["click-widget","add-widget","copy-widget","remove-widget","drag-widget"],setup(e,n){const{emit:o,slots:l}=n,a=np.uniqueId(),s=r(),c=r(),{computeSize:u}=ym(e),d=m({formData:{},widgetConfigs:[],widgetObjList:[],dragWidget:null,sortWidget:null,activeWidget:null}),p=m({}),g={refElem:s},f={computeSize:u},v={xID:a,props:e,context:n,reactData:d,internalData:p,getRefMaps:()=>g,getComputeMaps:()=>f},h=e=>new dh(v,e,d.widgetObjList),w=()=>new dh(v,"",d.widgetObjList),C=e=>{if(e){const{formConfig:t,widgetData:n}=e;t&&E(t),n&&T(n)}const{activeWidget:n,widgetObjList:o}=d;if(n){const e=np.findTree(o,e=>e.id===n.id,{children:"children"});d.activeWidget=e?e.item:o[0]||null}else d.activeWidget=o[0]||null;return t()},S=()=>np.clone(d.formData,!0),E=e=>(d.formData=Object.assign({},M(),e),t()),D=()=>{const e=np.clone(d.widgetObjList,!0);return np.eachTree(e,e=>{e.model.value=null},{children:"children"}),e},T=e=>(d.widgetObjList=(e||[]).map(e=>ph(e)),t()),O=()=>{const e=c.value;return e&&e.openStylePreview(),t()},k=()=>(d.widgetObjList=[],A(),t()),R={dispatchEvent(e,t,n){o(e,zp(n,{$xeFormDesign:v},t))},createWidget:h,createEmptyWidget:w,getConfig:()=>({formConfig:S(),widgetData:D()}),clearConfig:k,loadConfig:C,reloadConfig:e=>(k(),C(e)),getFormConfig:S,loadFormConfig:E,getWidgetById:e=>{const{widgetObjList:t}=d;if(e){const n=np.toNumber(e),o=np.findTree(t,e=>e&&e.id===n,{children:"children"});if(o)return o.item}return null},getFormData(){const{widgetObjList:e}=d,t={};return np.eachTree(e,e=>{t[e.field]=null},{children:"children"}),t},getWidgetData:D,loadWidgetData:T,refreshPreviewView(){const e=c.value;return e&&e.updatePreviewView(),t()},openStyleSetting:O},I=()=>{const{widgets:t}=e,n=[],o=[],l=[],r=[],a=[];im.forEach((e,t)=>{const{createFormDesignWidgetConfig:n}=e;if(n){const e=h(t),n=uh(t),i=function(e,t){const n=uh(e);if(n){const o=n.customGroup,l={name:e,$formDesign:t};return np.toValueString(np.isFunction(o)?o(l):o)}return e}(t,v);if(i){const t=a.find(e=>e.title===i);t?t.children.push(e):a.push({title:i,children:[e]})}else switch(n.group){case"layout":l.push(e);break;case"advanced":r.push(e);break;default:["title"].includes(e.name)||o.push(e)}}}),o.length&&n.push({group:"base",children:o}),l.length&&n.push({group:"layout",children:l}),r.length&&n.push({group:"advanced",children:r}),a.length&&n.push(...a),t&&t.length?d.widgetConfigs=e.widgets.map(e=>({title:e.customGroup,group:e.group,children:e.children?e.children.map(e=>h(e)):[]})):d.widgetConfigs=n},P=e=>{const{widgetObjList:t}=d;if(uh(e).unique){const n=[];np.eachTree(t,t=>{t.name===e&&n.push(t)},{children:"children"});const o=n.length<1;return o||Im.modal&&Im.modal.message({content:Qp("vxe.formDesign.error.wdFormUni"),status:"error",id:"wdFormUni"}),o}return!0},F={validWidgetUnique:P,handleClickWidget(e,t){t&&t.name&&(e.stopPropagation(),d.activeWidget=t,R.dispatchEvent("click-widget",{widget:t},e))},handleCopyWidget(e,t){const{widgetObjList:n}=d,o=np.findTree(n,e=>e.id===t.id,{children:"children"});if(o&&(e.stopPropagation(),P(t.name))){const{path:l}=o,r=Number(l[0]),a=h(t.name);a.title&&(a.title=Qp("vxe.formDesign.widget.copyTitle",[`${t.title}`.replace(Qp("vxe.formDesign.widget.copyTitle",[""]),"")])),r>=n.length-1?n.push(a):n.splice(r+1,0,a),d.activeWidget=a,d.widgetObjList=[...n],R.dispatchEvent("copy-widget",{widget:t,newWidget:a},e)}},handleRemoveWidget(e,t){const{widgetObjList:n}=d,o=np.findTree(n,e=>e.id===t.id,{children:"children"});if(o){const{index:l,parent:r,items:a}=o;e.stopPropagation(),l>=a.length-1?d.activeWidget=a[l-1]:d.activeWidget=a[l+1]||null,r&&"row"===r.name?a[l]=w():a.splice(l,1),d.widgetObjList=[...n],R.dispatchEvent("remove-widget",{widget:t},e)}}},M=()=>{const{formRender:t,showPc:n,showMobile:o}=e;let l={title:"",pcVisible:!(r={pcVisible:n,mobileVisible:o})||!!r.pcVisible,pcVertical:!0,pcTitleBold:!0,pcTitleColon:!1,pcTitleAlign:"",pcTitleWidth:"",pcTitleWidthUnit:"",mobileVisible:!r||!!r.mobileVisible,mobileVertical:!0,mobileTitleBold:!0,mobileTitleColon:!1,mobileTitleAlign:"",mobileTitleWidth:"",mobileTitleWidthUnit:""};var r;if(t){const e=im.get(t.name),n=e?e.createFormDesignSettingFormConfig:null;l=(n?n({}):{})||{}}return l},A=()=>{d.formData=M()},V=()=>{O()};Object.assign(v,R,F);const $=()=>{const e=l.extra;return y("div",{class:"vxe-form-design--header-wrapper"},[y("div",{class:"vxe-form-design--header-left"}),y("div",{class:"vxe-form-design--header-middle"}),y("div",{class:"vxe-form-design--header-right"},[e?y("div",{class:"vxe-form-design--header-extra"},e({})):Rm(),y("div",{class:"vxe-form-design--header-setting"},[y(zg,{mode:"text",status:"primary",icon:Mp().FORM_DESIGN_STYLE_SETTING,content:Qp("vxe.formDesign.styleSetting.btn"),onClick:V})])])])};return v.renderVN=()=>{const{height:t,showHeader:n}=e,o=u.value,r=l.header,a=l.footer;return y("div",{ref:s,class:["vxe-form-design",{[`size--${o}`]:o}],style:t?{height:ag(t)}:null},[n||r?y("div",{class:"vxe-form-design--header"},r?r({}):$()):x(),y("div",{class:"vxe-form-design--body"},[y(mh),y(fh),y(Ch),y(Wh,{ref:c})]),a?y("div",{class:"vxe-form-design--footer"},a?a({}):[]):x()])},i(()=>e.widgets,()=>{I()}),i(()=>e.widgets,()=>{I()}),i(()=>e.config,e=>{C(e||{})}),A(),I(),e.config&&C(e.config),b("$xeFormDesign",v),v},render(){return this.renderVN()}});function Gh(e){return{computeKebabCaseName:g(()=>{const{renderOpts:t}=e;return t?np.kebabCase(t.name):""})}}let Uh;const Kh=Pm({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:{type:Boolean,default:null},editable:{type:Boolean,default:!0},disabled:{type:Boolean,default:null},placeholder:String,maxLength:[String,Number],rows:{type:[String,Number],default:null},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>Rp().textarea.resize},size:{type:String,default:()=>Rp().textarea.size||Rp().size},maxlength:[String,Number]},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur"],setup(e,o){const{emit:l}=o,a=n("$xeForm",null),s=n("xeFormItemInfo",null),c=np.uniqueId(),{computeSize:u}=ym(e),d=m({inputValue:e.modelValue}),p=r(),f=r(),v={refElem:p,refTextarea:f},h={xID:c,props:e,context:o,reactData:d,getRefMaps:()=>v};let b={};const x=g(()=>{const{readonly:t}=e;return null===t?!!a&&a.props.readonly:t}),w=g(()=>{const{disabled:t}=e;return null===t?!!a&&a.props.disabled:t}),C=g(()=>{const{editable:t}=e;return x.value||!t}),S=g(()=>{const{placeholder:t}=e;if(t)return Ng(t);const n=Rp().textarea.placeholder;return n?Ng(n):Qp("vxe.base.pleaseInput")}),E=g(()=>{const{maxLength:t,maxlength:n}=e;return t||n}),D=g(()=>np.getSize(d.inputValue)),T=g(()=>{const e=D.value,t=E.value;return t&&e>np.toNumber(t)}),O=g(()=>Object.assign({minRows:1,maxRows:10},Rp().textarea.autosize,e.autosize)),k=()=>{const{size:t,autosize:n}=e,{inputValue:o}=d;if(n){Uh||(Uh=document.createElement("div")),Uh.parentNode||document.body.appendChild(Uh);const e=f.value;if(!e)return;const n=getComputedStyle(e);Uh.className=["vxe-textarea--autosize",t?`size--${t}`:""].join(" "),Uh.style.width=`${e.clientWidth}px`,Uh.style.padding=n.padding,Uh.innerText=(""+(o||"　")).replace(/\n$/,"\n　")}},R=()=>{e.autosize&&t(()=>{const e=O.value,{minRows:t,maxRows:n}=e,o=f.value;if(!o)return;const l=Uh.clientHeight,r=getComputedStyle(o),a=np.toNumber(r.lineHeight),i=np.toNumber(r.paddingTop)+np.toNumber(r.paddingBottom)+np.toNumber(r.borderTopWidth)+np.toNumber(r.borderBottomWidth),s=(l-i)/a,c=s&&/[0-9]/.test(""+s)?s:Math.floor(s)+1;let u=c;c<t?u=t:c>n&&(u=n),o.style.height=`${u*a+i}px`})},I=e=>{const t=d.inputValue;h.dispatchEvent(e.type,{value:t},e)},P=(t,n)=>{d.inputValue=t,l("update:modelValue",t),np.toValueString(e.modelValue)!==t&&(b.dispatchEvent("change",{value:t},n),a&&s&&a.triggerItemEvent(n,s.itemConfig.field,t))},F=t=>{const{immediate:n}=e,o=t.target.value;d.inputValue=o,n&&P(o,t),h.dispatchEvent("input",{value:o},t),R()},M=t=>{const{immediate:n}=e;n?I(t):P(d.inputValue,t)},A=t=>{const{immediate:n}=e,{inputValue:o}=d;n||P(o,t),h.dispatchEvent("blur",{value:o},t)};b={dispatchEvent(e,t,n){l(e,zp(n,{$textarea:h},t))},focus:()=>(f.value.focus(),t()),blur:()=>(f.value.blur(),t())},Object.assign(h,b),i(()=>e.modelValue,e=>{d.inputValue=e,k()}),i(O,()=>{k(),R()}),t(()=>{const{autosize:t}=e;t&&(k(),R())});return h.renderVN=()=>{const{className:t,resize:n,autosize:o,showWordCount:l,countMethod:r,rows:a,cols:i}=e,{inputValue:s}=d,c=u.value,m=w.value,g=T.value,v=D.value,h=C.value,b=x.value,O=S.value,k=E.value;return b?y("div",{ref:p,class:["vxe-textarea--readonly",t]},s):y("div",{ref:p,class:["vxe-textarea",t,{[`size--${c}`]:c,"is--autosize":o,"is--count":l,"is--disabled":m,"is--rows":!np.eqNull(a),"is--cols":!np.eqNull(i)}],spellcheck:!1},[y("textarea",{ref:f,class:"vxe-textarea--inner",value:s,name:e.name,placeholder:O,maxlength:k,readonly:h,disabled:m,rows:a,cols:i,style:n?{resize:n}:null,onInput:F,onChange:M,onKeydown:I,onKeyup:I,onClick:I,onFocus:I,onBlur:A}),l?y("span",{class:["vxe-textarea--count",{"is--error":g}]},r?`${r({value:s})}`:`${v}${k?`/${k}`:""}`):null])},h},render(){return this.renderVN()}}),Yh=Pm({name:"VxeTip",props:{title:{type:[String,Number],default:()=>Rp().tip.title},content:[String,Number],status:String,icon:{type:String,default:()=>Rp().tip.icon},permissionCode:[String,Number],size:{type:String,default:()=>Rp().tip.size||Rp().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId(),{computeSize:a}=ym(e),{computePermissionInfo:i}=Cm(e),s=r(),c=m({}),u={refElem:s},d={},p={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},g={dispatchEvent:(e,t,n)=>{o(e,zp(n,{$tip:p},t))}};Object.assign(p,g,{});return p.renderVN=()=>{const{status:t,content:o,icon:l,title:r}=e,c=n.default,u=n.title,d=n.icon,p=i.value,m=a.value;return p.visible?y("div",{ref:s,class:["vxe-tip",{[`size--${m}`]:m,[`theme--${t}`]:t,"has--title":!(!u&&!r)}]},[d||l?y("div",{class:"vxe-tip--icon"},d?Gm(d({})):[y("i",{class:l})]):Rm(),y("div",{class:"vxe-tip--body"},[u||r?y("div",{class:"vxe-tip--title"},u?Gm(u({})):np.toValueString(r)):Rm(),y("div",{class:"vxe-tip--content"},c?Gm(c({})):np.toValueString(o))])]):Rm()},p},render(){return this.renderVN()}});function Xh(e,t){const n=Object.assign({},t).isSubOption,o=r(""),l=r([]),a=()=>{const{renderParams:t}=e,{widget:n}=t,o=n.options.options||[];o.push({value:Qp("vxe.formDesign.widgetProp.dataSource.defValue",[o.length+1])}),n.options.options=[...o]},s=/^(\s|\t)+/,c=e=>s.test(e),u=()=>{const{renderParams:t}=e,{widget:n}=t,o=n.options.options||[],r=[];o.forEach((e,t)=>{const{options:n}=e;n&&n.length&&r.push(t)}),l.value=r},d=()=>{const{renderParams:t}=e,{widget:l}=t,r=[],a=o.value.split("\n");let i=null;n?a.forEach((e,t)=>{const n=a[t+1],o=e.trim();if(!o)return;const l={value:o};if(i){if(c(e))return void i.options.push(l);i=null,r.push(l)}else r.push(l);n&&c(n)&&(i=Object.assign(l,{options:[]}))}):a.forEach(e=>{r.push({value:e.trim()})}),l.options.options=r,u()},p=()=>{var t;const{renderParams:l}=e,{widget:r}=l,a=[];null===(t=r.options.options)||void 0===t||t.forEach(e=>{var t;a.push(e.value),null===(t=e.options)||void 0===t||t.forEach(e=>{a.push(`\t${e.value}`)})}),o.value=a.join("\n"),Im.modal.open({title:`${r.title} - ${Qp("vxe.formDesign.widgetProp.dataSource.batchEditOption")}`,width:500,height:"50vh ",resize:!0,showFooter:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:Qp("vxe.formDesign.widgetProp.dataSource.buildOption"),onConfirm:d,slots:{default:()=>y("div",{class:"vxe-form-design--widget-form-item-data-source-popup"},[y(Yh,{status:"primary",title:"",content:Qp("vxe.formDesign.widgetProp.dataSource."+(n?"batchEditSubTip":"batchEditTip"))}),y(Kh,{resize:"none",modelValue:o.value,"onUpdate:modelValue"(e){o.value=e}})])}})},m=(t,n,o,r,a,i,s)=>y("div",{class:["vxe-form-design--widget-form-item-data-source-option",{"is--first":i,"is--last":s}]},[y("div",{class:"vxe-form-design--widget-expand-btn"},!n&&a?[y("i",{class:o?Mp().FORM_DESIGN_WIDGET_OPTION_EXPAND_CLOSE:Mp().FORM_DESIGN_WIDGET_OPTION_EXPAND_OPEN,onClick(){((e,t)=>{l.value.includes(t)?l.value=l.value.filter(e=>e!==t):l.value.push(t)})(0,r)}})]:[]),y("input",{class:"vxe-default-input",value:t.value,onInput(e){t.value=e.target.value}}),y(zg,{status:"danger",mode:"text",icon:Mp().FORM_DESIGN_WIDGET_DELETE,onClick(){((t,n)=>{const{renderParams:o}=e,{widget:l}=o,{options:r}=l;n?n.options&&(n.options=n.options.filter(e=>e!==t)):r.options=r.options.filter(e=>e!==t)})(t,n)}})]),g=()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n,r=o.options,a=[];return r&&r.forEach((e,t)=>{const{options:n}=e,o=l.value.includes(t);n&&n.length?(a.push(m(e,null,o,t,!0,0===t,t===r.length-1)),o&&a.push(y("div",{class:"vxe-form-design--widget-form-item-data-source-sub-option"},n.map(t=>m(t,e,o,0,!1,!1,!1))))):a.push(m(e,null,o,t,!1,0===t,t===r.length-1))}),a};i(()=>e.renderParams.widget,()=>{u()}),f(()=>{u()});const v=()=>[y("div",{},[y(zg,{status:"primary",mode:"text",content:Qp("vxe.formDesign.widgetProp.dataSource.addOption"),onClick:a}),y(zg,{status:"primary",mode:"text",content:Qp("vxe.formDesign.widgetProp.dataSource.batchEditOption"),onClick:p})]),y("div",{class:"vxe-form-design--widget-form-item-data-source-wrapper"},g())];return{renderDataSourceFormItem:()=>y(xh,{title:Qp("vxe.formDesign.widgetProp.dataSource.name"),field:"options"},{default:()=>v()}),renderDataSourceFormItemContent:v}}const Zh=e=>Qp(`vxe.formDesign.widget.component.${e.name}`),Qh=()=>({title:Zh,icon:"vxe-icon-text",group:"layout",options:{color:"",align:"",bold:!1,fontSize:""}}),Jh=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Gh(e),n=r([{label:Qp("vxe.formDesign.widgetProp.textProp.alignLeft"),value:""},{label:Qp("vxe.formDesign.widgetProp.textProp.alignCenter"),value:"center"},{label:Qp("vxe.formDesign.widgetProp.textProp.alignRight"),value:"right"}]),o=r([{label:Qp("vxe.formDesign.widgetProp.textProp.fontNormal"),value:!1},{label:Qp("vxe.formDesign.widgetProp.textProp.fontBold"),value:!0}]),l=r(np.range(12,27).map(e=>({label:`${e}px`,value:`${e}px`})));return()=>{const{renderParams:r}=e,{widget:a}=r,i=t.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${i}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:a.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.textProp.name")},{default:()=>y(Gf,{modelValue:a.title,"onUpdate:modelValue"(e){a.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.textProp.boldTitle"),field:"bold",itemRender:{name:"VxeRadioGroup",options:o.value}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.textProp.alignTitle"),field:"align",itemRender:{name:"VxeRadioGroup",options:n.value}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.textProp.sizeTitle"),field:"fontSize",itemRender:{name:"VxeSelect",options:l.value}})]})}}}),eb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Gh(e);return()=>{const{renderParams:n}=e,{widget:o}=n,{options:l}=o,r=t.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${r}`],align:l.align},{default:()=>y("div",{style:{fontSize:l.fontSize,fontWeight:l.bold?"bold":""}},o.title)})}}}),tb=Pm({name:"VxeRow",props:{gutter:[Number,String,Array],wrap:{type:Boolean,default:()=>Rp().row.wrap},vertical:Boolean,size:{type:String,default:()=>Rp().row.size||Rp().size}},emits:["click"],setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId();ym(e);const a=r(),i=m({}),s={refElem:a},c=g(()=>{const{gutter:t,vertical:n}=e,o={};if(t){let[e,l]=np.isArray(t)?t:[t];if(n&&(l=e,e=""),e){const t=np.isNumber(e)?ag(-e/2):`calc(${ag(e)} / 2 * -1)`;o.marginLeft=t,o.marginRight=t}if(l){const e=np.isNumber(l)?ag(-l/2):`calc(${ag(l)} / 2 * -1)`;o.marginTop=e,o.marginBottom=e}}return o}),u={},d={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>u},p=e=>{f("click",{},e)},f=(e,t,n)=>{o(e,zp(n,{$row:d},t))},v={dispatchEvent:f};Object.assign(d,v,{});return b("$xeRow",d),d.renderVN=()=>{const{vertical:t,wrap:o}=e,l=c.value,r=n.default;return y("div",{ref:a,class:["vxe-row",{"is--vertical":t,"is--wrap":o}],style:l,onClick:p},r?r({}):[])},d},render(){return this.renderVN()}}),nb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormDesign",null);if(!t)return()=>[];const{computeKebabCaseName:o}=Gh(e),l=r([{label:Qp("vxe.formDesign.widgetProp.rowProp.col2"),value:2,list:[{value:"12,12",spans:[12,12]},{value:"8,16",spans:[8,16]},{value:"16,8",spans:[16,8]},{value:"6,18",spans:[6,18]},{value:"18,6",spans:[18,6]}]},{label:Qp("vxe.formDesign.widgetProp.rowProp.col3"),value:3,list:[{value:"8,8,8",spans:[8,8,8]},{value:"6,6,12",spans:[6,6,12]},{value:"12,6,6",spans:[12,6,6]},{value:"6,12,6",spans:[6,12,6]}]},{label:Qp("vxe.formDesign.widgetProp.rowProp.col4"),value:4,list:[{value:"6,6,6,6",spans:[6,6,6,6]}]},{label:Qp("vxe.formDesign.widgetProp.rowProp.col6"),value:6,list:[{value:"4,4,4,4,4,4",spans:[4,4,4,4,4,4]}]}]),a={18:"3/4",16:"2/3",12:"1/2",8:"1/3",6:"1/4",4:"1/6"},i=g(()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n;return l.value.find(e=>e.value===o.colSize)});return()=>{const{renderParams:n}=e,{widget:r}=n,s=o.value;return y(Bv,{class:`vxe-form-design--widget-${s}-form`,vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:r.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.rowProp.colSize"),field:"colSize",itemRender:{name:"VxeRadioGroup",options:l.value,props:{type:"button"}}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.rowProp.layout")},{default(){const n=i.value;return n?n.list.map((n,o)=>y(tb,{key:o,class:[`vxe-form-design--widget-${s}-form-row`,{"is--active":n.value===r.options.colSpan}],onClick(){(n=>{const{renderParams:o}=e,{widget:l}=o,{options:r}=l,{reactData:a}=t,{widgetObjList:i}=a,s=l.children.filter(e=>e.name),c=s.slice(r.colSize);if(c.length){const e=np.findTree(i,e=>e.id===l.id,{children:"children"});if(e){const{items:t,index:n}=e;n>=t.length-1?t.push(...c):t.splice(n+1,0,...c)}}r.colSpan=n.value,l.children=np.range(0,r.colSize).map((e,n)=>s[n]||t.createEmptyWidget())})(n)}},{default:()=>n.spans.map((e,t)=>y(Tf,{key:`${o}${t}`,class:`vxe-form-design--widget-${s}-form-col`,span:e},{default:()=>y("div",{},`${a[e]}`)}))})):[]}})]})}}}),ob=Pm({name:"ViewColItem",props:{parentWidget:{type:Object,default:()=>({})},widget:{type:Object,default:()=>({})},span:Number,colItemIndex:{type:Number,default:0}},emits:[],setup(e){const t=n("$xeFormDesign",null);if(!t)return()=>[];const{reactData:o}=t,l=e=>{e.stopPropagation();const n=e.currentTarget,l=e.dataTransfer,r=n.getAttribute("data-widget-id")||"",a=t.getWidgetById(r);l&&l.setData("text/plain",r),o.sortWidget=a,o.dragWidget=null},r=n=>{const{parentWidget:l,colItemIndex:r}=e,{widgetObjList:a,sortWidget:i}=o,s=l.children[r],c=t.internalData;if(n.stopPropagation(),i&&l&&i.id!==l.id){if(sh(i))return;if(!sh(s)){const e=np.findTree(a,e=>e&&e.id===i.id,{children:"children"});if(e){const{item:o,index:a,items:i,parent:u}=e;if(l.children.length!==l.options.colSize&&(l.children=np.range(0,l.options.colSize).map(e=>l.children[e]||t.createEmptyWidget())),u&&u.id===l.id)l.children[r]=o,l.children[a]=s;else{if(s&&s.name)return;l.children[r]=o,i.splice(a,1)}n.preventDefault(),c.lastDragTime=Date.now(),t.dispatchEvent("drag-widget",{widget:o},n)}}}};return()=>{const{widget:n,span:a}=e,{dragWidget:i,activeWidget:s,sortWidget:c}=o;return y(xh,{span:a,padding:!1},{default(){const e=n?n.name:"",o=im.get(e)||{},a=o.renderFormDesignWidgetEdit||o.renderFormDesignWidgetView,u=n||{name:e},d={widget:n,readonly:!1,disabled:!1,isEditMode:!0,isViewMode:!1,$formDesign:t,$formView:null},p=s&&n&&s.id===n.id,m=!a;return y("div",{class:"vxe-form-design--widget-row-view","data-widget-id":n.id,draggable:!m,onDragstart:l,onDragenter:r,onClick(e){n&&t.handleClickWidget(e,n)}},[y("div",{class:["vxe-form-design--widget-row-view-item-inner",{"is--empty":m,"is--active":p,"is--sort":c&&n&&c.id===n.id,"is--drag":i&&n&&i.id===n.id}]},[a?y("div",{class:"vxe-form-design--widget-row-view-item-wrapper"},[y("div",{class:"vxe-form-design--widget-row-view-item-box vxe-form--item-row"},Gm(a(u,d))),p?y("div",{class:"vxe-form-design--preview-item-operate"},[y(zg,{icon:Mp().FORM_DESIGN_WIDGET_COPY,status:"primary",size:"mini",circle:!0,onClick(e){t.handleCopyWidget(e.$event,n)}}),y(zg,{icon:Mp().FORM_DESIGN_WIDGET_DELETE,status:"danger",size:"mini",circle:!0,onClick(e){t.handleRemoveWidget(e.$event,n)}})]):x()]):y("div",{class:"vxe-form-design--widget-row-view-empty"},"控件位置")])])}})}}}),lb=Pm({name:"WidgetRowEdit",props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=g(()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n,{colSpan:l}=o;return(l?`${l}`.split(","):[]).map(e=>Number(e))});return()=>{const{renderParams:n}=e,{widget:o}=n;return y(Ih,{field:o.field},{default:()=>t.value.map((e,t)=>y(ob,{key:t,parentWidget:o,widget:o.children[t],span:e,colItemIndex:t}))})}}}),rb=Pm({name:"WidgetRowView",props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormDesign",null),o=n("$xeFormView",null),l=g(()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n,{colSpan:l}=o;return(l?`${l}`.split(","):[]).map(e=>Number(e))});return()=>{const{renderParams:n}=e,{widget:r}=n,a=l.value;return y(tb,{},{default:()=>a.map((e,n)=>y(Tf,{key:n,class:"vxe-form--item-row",span:e},{default(){const e=r.children[n];if(e){const{name:n}=e,l=(im.get(n)||{}).renderFormDesignWidgetView,r=!!t;if(l)return Gm(l(e,{widget:e,readonly:!1,disabled:!1,isEditMode:r,isViewMode:!r,$formDesign:t,$formView:o}))}return x()}}))})}}}),ab=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){if(!n("$xeFormDesign",null))return()=>[];const{computeKebabCaseName:t}=Gh(e);return()=>{const{renderParams:n}=e,{widget:o}=n,{options:l}=o,r=t.value;return y(Bv,{class:`vxe-form-design--widget-${r}-form`,vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.subtableProp.showCheckbox"),field:"showCheckbox"},{default:()=>y(wh,{modelValue:l.showCheckbox,"onUpdate:modelValue"(e){l.showCheckbox=e}})})]})}}}),ib=Pm({props:{parentWidget:{type:Object,default:()=>({})},widget:{type:Object,default:()=>({})},childIndex:{type:Number,default:0}},emits:[],setup(e){const t=n("$xeFormDesign",null),o=n("$xeFormView",null);if(!t)return()=>[];const{reactData:l}=t,r=e=>{e.stopPropagation();const n=e.currentTarget,o=e.dataTransfer,r=n.getAttribute("data-widget-id")||"",a=t.getWidgetById(r);o&&o.setData("text/plain",r),l.sortWidget=a,l.dragWidget=null},a=n=>{const{parentWidget:o,childIndex:r}=e,{widgetObjList:a,sortWidget:i}=l,s=o.children[r],c=t.internalData,{lastDragTime:u}=c;if(n.stopPropagation(),u&&u>Date.now()-300)n.preventDefault();else if(i&&s&&o){if(i.id===o.id)return;if(i.id===s.id)return;if(sh(i))return;if(s&&!sh(s)){const e=np.findTree(a,e=>e.id===i.id,{children:"children"});if(e){const{item:l,index:a,items:i,parent:u}=e;u&&u.id===o.id?(o.children[r]=l,o.children[a]=s):(o.children.splice(r,0,l),i.splice(a,1)),c.lastDragTime=Date.now(),t.dispatchEvent("drag-widget",{widget:l},n)}}}};return()=>{const{widget:n}=e,{dragWidget:i,activeWidget:s,sortWidget:c}=l,u=n?n.name:"",d=im.get(u)||{},p=d.renderFormDesignWidgetSubtableEditView||d.renderFormDesignWidgetSubtableCellView||d.renderFormDesignWidgetSubtableDefaultView,m=d.renderFormDesignWidgetEdit||d.renderFormDesignWidgetView,g=n||{name:u},f=!!t,v={widget:n,readonly:!1,disabled:!1,isEditMode:f,isViewMode:!f,$formDesign:t,$formView:o},h=s&&n&&s.id===n.id,b={name:u},w={$table:null,$grid:null,seq:"",column:{field:n.field,title:n.title},columnIndex:0,$columnIndex:0,_columnIndex:0,rowid:"",row:{},rowIndex:0,$rowIndex:0,_rowIndex:0,isEdit:!1,isHidden:!1,fixed:null,type:"",level:1,visibleData:[],items:[],data:[],widget:n};return y("div",{class:["vxe-form-design--widget-subtable-view-item",{"is--active":h,"is--sort":c&&n&&c.id===n.id,"is--drag":i&&n&&i.id===n.id}],draggable:!0,"data-widget-id":n.id,onDragstart:r,onDragenter:a,onClick(e){n&&t.handleClickWidget(e,n)}},[y("div",{class:"vxe-form-design--widget-subtable-view-item-wrapper"},[y("div",{class:"vxe-form-design--widget-subtable-view-item-box vxe-form--item-row"},p?y(xh,{class:["vxe-form-design--widget-render-form-item"],title:n.title,field:n.field,itemRender:{}},{default:()=>Gm(p(b,w))}):m?Gm(m(g,v)):[]),h?y("div",{class:"vxe-form-design--preview-item-operate"},[y(zg,{icon:Mp().FORM_DESIGN_WIDGET_COPY,status:"primary",size:"mini",circle:!0,onClick(e){t.handleCopyWidget(e.$event,n)}}),y(zg,{icon:Mp().FORM_DESIGN_WIDGET_DELETE,status:"danger",size:"mini",circle:!0,onClick(e){t.handleRemoveWidget(e.$event,n)}})]):x()])])}}}),sb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormDesign",null);if(!t)return()=>[];const{reactData:o}=t,l=t=>{const{sortWidget:n,widgetObjList:l}=o,{renderParams:r}=e,{widget:a}=r;if(t.stopPropagation(),n&&a&&a.id!==n.id)if(sh(n))Im.modal&&Im.modal.message({content:Qp("vxe.formDesign.widgetProp.subtableProp.errSubDrag"),status:"error",id:"errSubDrag"});else if(a.name&&!a.children.some(e=>e.id===n.id)){const e=np.findTree(l,e=>e.id===n.id,{children:"children"});if(e){const{item:t,index:n,items:l}=e;o.sortWidget=null,o.activeWidget=t,a.children.push(t),l.splice(n,1),o.sortWidget=t}}},r=e=>{e.stopPropagation()};return()=>{const{renderParams:t}=e,{widget:n}=t,{title:o,children:a,options:i}=n,{showCheckbox:s}=i;return y(xh,{title:o,className:"vxe-form-design--widget-subtable-form-item"},{default:()=>y("div",{class:"vxe-form-design--widget-subtable-view",onDragenter:r,onDragover:l},[y("div",{class:"vxe-form-design--widget-subtable-view-left"},[s?y("div",{class:"vxe-form-design--widget-subtable-col"},[y("div",{class:"vxe-form-design--widget-subtable-head"},[y(hf)]),y("div",{class:"vxe-form-design--widget-subtable-body"},[y(hf)])]):x(),y("div",{class:"vxe-form-design--widget-subtable-col"},[y("div",{class:"vxe-form-design--widget-subtable-head"},Qp("vxe.formDesign.widgetProp.subtableProp.seqTitle")),y("div",{class:"vxe-form-design--widget-subtable-body"},"1")])]),y("div",{class:"vxe-form-design--widget-subtable-view-right"},[y("div",{class:"vxe-form-design--widget-subtable-view-wrapper"},[y(E,{class:"vxe-form-design--widget-subtable-view-list",tag:"div",name:"vxe-form-design--widget-subtable-view-list"},{default:()=>a?a.map((e,t)=>y(ib,{key:e.id,parentWidget:n,widget:e,childIndex:t})):[]}),y("div",{key:"empty",class:"vxe-form-design--widget-subtable-view-empty"},Qp("vxe.formDesign.widgetProp.subtableProp.colPlace"))])])])})}}}),cb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const o=Im.getComponent("VxeGrid"),l=n("$xeFormView",null),{computeKebabCaseName:a}=Gh(e),i=r(),s=r([{}]),c=g(()=>!!l&&l.props.readonly),u=g(()=>{const{renderParams:t}=e,{widget:n}=t,{children:o,options:r}=n,a=c.value,i=[];return r.showCheckbox&&i.push({type:"checkbox",width:60,fixed:"left"}),i.push({type:"seq",width:60,fixed:"left"}),o&&o.forEach(e=>{const{name:t}=e,n=im.get(t)||{},o=n.parseFormDesignWidgetSubtableColumn;let r={field:e.field,title:e.title};o?r=Object.assign(r,o({$formView:l,name:e.name,widget:e,readonly:!!a})):a?r.cellRender={name:e.name,props:e.options}:r.editRender={name:e.name,props:e.options};const s=n.renderFormDesignWidgetSubtableDefaultView,c=n.renderFormDesignWidgetSubtableCellView||s,u=n.renderFormDesignWidgetSubtableEditView,d={};(s||c)&&(d.default=t=>{const{isEdit:n,column:o}=t,{editRender:l,cellRender:r}=o,a=Object.assign({widget:e},t);return n&&l&&c?Gm(c(l,a)):s?Gm(s(r||{},a)):[]}),u&&(d.edit=t=>{const{column:n}=t,{editRender:o}=n,l=Object.assign({widget:e},t);return Gm(u(o,l))}),r.slots=d,i.push(r)}),a||i.push({field:"action",title:"操作",fixed:"right",width:80,slots:{default:({row:e})=>y(zg,{mode:"text",icon:"vxe-icon-delete",status:"error",onClick(){m(e)}})}}),i}),d=g(()=>{const{renderParams:t}=e,{widget:n,isEditMode:o}=t,r=u.value,a=c.value,i={border:!0,showOverflow:!0,height:300,columnConfig:{resizable:!0,minWidth:140},rowConfig:{keyField:"_id"},data:o?s.value:l?l.getItemValue(n):null,columns:r,toolbarConfig:{zoom:!0,custom:!1,slots:{buttons:"toolbarButtons"}}};return a||(i.keepSource=!0,i.editConfig={mode:"row",trigger:"click",showStatus:!0}),i}),p=()=>{const{renderParams:n}=e,{widget:o}=n;if(l){let n=l.getItemValue(o);np.isArray(n)||(n=[]);const r=(()=>{const{renderParams:t}=e,{widget:n}=t,o={_id:Date.now()};return np.each(n.children,e=>{o[e.field]=null}),o})();n.unshift(r),l.setItemValue(o,n.slice(0)).then(()=>t().then(()=>{const e=i.value;e&&e.setEditRow(r)}))}},m=t=>{const{renderParams:n}=e,{widget:o}=n;if(l){const e=l.getItemValue(o);e&&l.setItemValue(o,e.filter(e=>e._id!==t._id))}};return()=>{const{renderParams:t}=e,{widget:n}=t,l=a.value,r=d.value,s=c.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${l}`],title:n.title,field:n.field,span:24},{default:()=>o?y(o,Object.assign(Object.assign({},r),{ref:i}),{toolbarButtons:()=>s?[]:[y(zg,{content:"新增",icon:"vxe-icon-add",status:"primary",onClick:p})]}):x()})}}}),ub=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Gh(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.required")},{default:()=>y(wh,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),db=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],field:r.field,title:r.title,itemRender:{}},{default:()=>y("input",{class:"vxe-default-input",type:"text",placeholder:a.placeholder||Qp("vxe.base.pleaseInput"),value:t?t.getItemValue(r):null,onChange:l,onInput(e){t&&t.setItemValue(r,e.target.value)}})})}}}),pb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Gh(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.required")},{default:()=>y(wh,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),mb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y("textarea",{class:"vxe-default-textarea",placeholder:a.placeholder||Qp("vxe.base.pleaseInput"),value:t?t.getItemValue(r):null,onChange:l,onInput(e){t&&t.setItemValue(r,e.target.value)}})})}}}),gb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{renderDataSourceFormItem:t}=Xh(e,{isSubOption:!0}),{computeKebabCaseName:n}=Gh(e);return()=>{const{renderParams:o}=e,{widget:l}=o,r=n.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${r}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.required")},{default:()=>y(wh,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})}),t()]})}}}),fb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r,isViewMode:a}=n,i=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],field:r.field,title:r.title,itemRender:{}},{default:()=>y("select",{class:"vxe-default-select",value:t?t.getItemValue(r):null,onChange:l},a?(()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n.options;return o?o.map(e=>e.options?y("optgroup",{label:e.value},e.options.map(e=>y("option",{value:e.value},e.value))):y("option",{},e.value)):[]})():[])})}}}),vb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Gh(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.required")},{default:()=>y(wh,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),hb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],field:r.field,title:r.title,itemRender:{}},{default:()=>y(Gf,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),bb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Gh(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,data:o.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.required")},{default:()=>y(wh,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),xb=Pm({name:"VxeNumberInput",props:{modelValue:[String,Number],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"number"},clearable:{type:Boolean,default:()=>Rp().numberInput.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,maxLength:{type:[String,Number],default:()=>Rp().numberInput.maxLength},autoComplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>Rp().numberInput.size||Rp().size},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>Rp().numberInput.exponential},showCurrency:{type:Boolean,default:()=>Rp().numberInput.showCurrency},currencySymbol:{type:String,default:()=>Rp().numberInput.currencySymbol},controlConfig:Object,digits:{type:[String,Number],default:null},autoFill:{type:Boolean,default:()=>Rp().numberInput.autoFill},editable:{type:Boolean,default:!0},plusIcon:String,minusIcon:String,prefixIcon:String,suffixIcon:String,controls:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","plus-number","minus-number","prefix-click","suffix-click","prev-number","next-number"],setup(e,o){const{slots:l,emit:a}=o,c=n("$xeForm",null),u=n("xeFormItemInfo",null),d=np.uniqueId(),{computeSize:p}=ym(e),v=m({isFocus:!1,isActivated:!1,inputValue:e.modelValue}),h={},b=r(),x=r(),w=r(),C=g(()=>{const{readonly:t}=e;return null===t?!!c&&c.props.readonly:t}),S=g(()=>{const{disabled:t}=e;return null===t?!!c&&c.props.disabled:t}),E=g(()=>{const{type:t,digits:n}=e;let o=n;return null===o&&(o=Rp().numberInput.digits,null===o&&"amount"===t&&(o=2)),np.toInteger(o)||1}),D=g(()=>Object.assign({},Rp().numberInput.controlConfig,e.controlConfig)),T=g(()=>{const{type:t}=e;return"float"===t||"amount"===t}),O=g(()=>{const{type:t}=e,n=E.value,o=T.value,l=e.step;return"integer"===t?np.toInteger(l)||1:o?np.toNumber(l)||1/Math.pow(10,n):np.toNumber(l)||1}),k=g(()=>e.clearable),R=g(()=>{const{editable:t}=e;return C.value||!t}),I=g(()=>{const{placeholder:t}=e;if(t)return Ng(t);const n=Rp().numberInput.placeholder;return n?Ng(n):Qp("vxe.base.pleaseInput")}),P=g(()=>{const{maxLength:t,maxlength:n}=e;return np.toNumber(t||n)||16}),F=g(()=>{const{immediate:t}=e;return t}),M=g(()=>{const{type:t}=e,{inputValue:n}=v;return"integer"===t?np.toInteger(Wf(n)):np.toNumber(Wf(n))}),A=g(()=>{const{type:t,showCurrency:n,currencySymbol:o,autoFill:l}=e,{inputValue:r}=v,a=E.value;if("amount"===t){const e=np.toNumber(r);let t=np.commafy(e,{digits:a});if(!l){const[e,n]=t.split(".");if(n){const o=n.replace(/0+$/,"");t=o?[e,".",o].join(""):e}}return n?`${o||Qp("vxe.numberInput.currencySymbol")||""}${t}`:t}return np.toString(r)}),V=g(()=>{const{min:t}=e,{inputValue:n}=v,o=M.value;return!(!n&&0!==n||null===t)&&o<=np.toNumber(t)}),$=g(()=>{const{max:t}=e,{inputValue:n}=v,o=M.value;return!(!n&&0!==n||null===t)&&o>=np.toNumber(t)}),N={refElem:b,refInput:x},L={computeControlOpts:D},_={xID:d,props:e,context:o,reactData:v,internalData:h,getRefMaps:()=>N,getComputeMaps:()=>L};let B={};const z=e=>np.eqNull(e)?"":`${e}`,j=t=>{const{exponential:n,autoFill:o}=e,l=P.value,r=E.value;let a="";return T.value?(a=qf(t,r),o||(a=z(np.toNumber(a)))):a=z(t),!n||t!==a&&z(t).toLowerCase()!==np.toNumber(a).toExponential()?a.slice(0,l):t},H=e=>{const{inputValue:t}=v;B.dispatchEvent(e.type,{value:t},e)},W=(n,o,l)=>{const r=Lg(n)?null:Number(n),i=r!==e.modelValue;i&&(h.isUM=!0,a("update:modelValue",r)),v.inputValue!==o&&t(()=>{v.inputValue=o||""}),B.dispatchEvent("input",{value:r},l),i&&(B.dispatchEvent("change",{value:r},l),c&&u&&c.triggerItemEvent(l,u.itemConfig.field,r))},q=(e,t)=>{const n=F.value,o=Lg(e)?null:np.toNumber(e);v.inputValue=e,n?W(o,e,t):B.dispatchEvent("input",{value:o},t)},G=e=>{const t=e.target.value;q(t,e)},U=e=>{F.value||H(e)},K=e=>{if(!R.value){const{inputValue:t}=v;v.inputValue=Lg(t)?"":`${np.toNumber(t)}`,v.isFocus=!0,v.isActivated=!0,H(e)}},Y=e=>{if(!S.value){const{inputValue:t}=v;B.dispatchEvent("prefix-click",{value:t},e)}},X=(e,t)=>{focus(),W(null,"",e),B.dispatchEvent("clear",{value:t},e)},Z=e=>{if(!S.value){const{inputValue:t}=v;B.dispatchEvent("suffix-click",{value:t},e)}},Q=()=>{const{autoFill:t}=e,{inputValue:n}=v,o=E.value;if(T.value&&n){let e="",l=null;n&&(e=qf(n,o),l=np.toNumber(e),t||(e=`${l}`)),n!==l?W(l,e,{type:"init"}):v.inputValue=e}},J=t=>null===e.max||np.toNumber(t)<=np.toNumber(e.max),ee=t=>null===e.min||np.toNumber(t)>=np.toNumber(e.min),te=()=>{const{type:t,min:n,max:o,exponential:l}=e,{inputValue:r}=v;if(!R.value){if(Lg(r)){let e=null,t=r;return(n||0===n)&&(e=np.toNumber(n),t=`${e}`),void W(e,`${t||""}`,{type:"check"})}if(r||n||o){let e="integer"===t?np.toInteger(Wf(r)):np.toNumber(Wf(r));if(ee(e)?J(e)||(e=o):e=n,l){const t=z(r).toLowerCase();t===np.toNumber(e).toExponential()&&(e=t)}const a=j(e);W(Lg(a)?null:Number(a),a,{type:"check"})}}},ne=e=>{const{inputValue:t}=v,n=F.value,o=t?Number(t):null;n||W(o,z(t),e),te(),v.isFocus=!1,v.isActivated=!1,B.dispatchEvent("blur",{value:o},e),c&&u&&c.triggerItemEvent(e,u.itemConfig.field,o)},oe=(t,n)=>{const{min:o,max:l,type:r}=e,{inputValue:a}=v,i=O.value,s="integer"===r?np.toInteger(Wf(a)):np.toNumber(Wf(a)),c=t?np.add(s,i):np.subtract(s,i);let u;u=ee(c)?J(c)?c:l:o,q(j(u),n)},le=e=>{const t=S.value,n=C.value,o=$.value;t||n||o||oe(!0,e),v.isActivated=!0,B.dispatchEvent("plus-number",{value:v.inputValue},e),B.dispatchEvent("next-number",{value:v.inputValue},e)},re=e=>{const t=S.value,n=C.value,o=V.value;t||n||o||oe(!1,e),v.isActivated=!0,B.dispatchEvent("minus-number",{value:v.inputValue},e),B.dispatchEvent("prev-number",{value:v.inputValue},e)},ae=t=>{const{type:n,exponential:o,controls:l}=e,r=D.value,{showButton:a}=r,i=R.value,s=rg(t),c=t.shiftKey,u=t.altKey,d=t.keyCode,p=jp.hasKey(t,Ap.ESCAPE),m=jp.hasKey(t,Ap.ARROW_UP),g=jp.hasKey(t,Ap.ARROW_DOWN);s||c||u||(jp.hasKey(t,Ap.SPACEBAR)||"integer"===n&&110===d||(!o||69!==d)&&d>=65&&d<=90||d>=186&&d<=188||d>=191)&&t.preventDefault(),p?te():(m||g)&&Mg(r)&&(!1===l?l:a)&&!i&&(e=>{const t=jp.hasKey(e,Ap.ARROW_UP),n=jp.hasKey(e,Ap.ARROW_DOWN);(t||n)&&(e.preventDefault(),t?re(e):le(e))})(t),H(t)},ie=e=>{H(e)},se=e=>{ue(),h.ainTimeout=setTimeout(()=>{re(e),se(e)},60)},ce=e=>{ue(),h.ainTimeout=setTimeout(()=>{le(e),ce(e)},60)},ue=()=>{(()=>{const{dnTimeout:e}=h;e&&(clearTimeout(e),h.dnTimeout=void 0)})(),(()=>{const{ainTimeout:e}=h;e&&(clearTimeout(e),h.ainTimeout=void 0)})()},de=e=>{if(h.isMouseDown)h.isMouseDown=!1;else{ue();ng(e.currentTarget,"is--plus")?le(e):re(e)}},pe=e=>{if(ue(),h.isMouseDown=!0,0===e.button){const t=ng(e.currentTarget,"is--plus");t?le(e):re(e),h.dnTimeout=setTimeout(()=>{t?ce(e):se(e)},500)}},me=t=>{const{controls:n}=e,o=D.value,{isWheel:l}=o,r=R.value;if(Mg(o)&&(!1===n?n:l)&&!r&&v.isActivated){t.stopPropagation(),t.preventDefault();const e=t.deltaY;e>0?le(t):e<0&&re(t)}H(t)},ge=e=>{H(e)},fe=e=>{const{isActivated:t}=v,n=b.value,o=w.value,l=S.value,r=R.value,a=F.value;if(!l&&!r&&t&&(v.isActivated=sg(e,n).flag||sg(e,o).flag,!v.isActivated)){if(!a){const{inputValue:t}=v,n=t?Number(t):null;W(n,z(t),e)}te()}},ve=t=>{const{clearable:n}=e,o=S.value,l=R.value;if(!o&&!l){const e=jp.hasKey(t,Ap.TAB),o=jp.hasKey(t,Ap.DELETE);let l=v.isActivated;e&&(l&&te(),l=!1,v.isActivated=l),o&&n&&l&&X(t,null)}},he=()=>{const{isActivated:e}=v;e&&te()};B={dispatchEvent:(e,t,n)=>{a(e,zp(n,{$numberInput:_},t))},focus(){if(!R.value){const e=x.value;v.isActivated=!0,e.focus()}return t()},blur:()=>(x.value.blur(),v.isActivated=!1,t()),select:()=>(x.value.select(),v.isActivated=!1,t())},Object.assign(_,B);const be=()=>{const{prefixIcon:t}=e,n=l.prefix;return n||t?y("div",{class:"vxe-number-input--prefix",onClick:Y},[y("div",{class:"vxe-number-input--prefix-icon"},n?Gm(n({})):[y("i",{class:t})])]):Rm()},xe=()=>{const{suffixIcon:t}=e,{inputValue:n}=v,o=l.suffix,r=S.value,a=k.value;return y("div",{class:["vxe-number-input--suffix",{"is--clear":a&&!r&&!(""===n||np.eqNull(n))}]},[a?y("div",{class:"vxe-number-input--clear-icon",onClick:X},[y("i",{class:Mp().INPUT_CLEAR})]):Rm(),o||t?y("div",{class:"vxe-number-input--suffix-icon",onClick:Z},o?Gm(o({})):[y("i",{class:t})]):Rm()])},we=()=>{const{type:t,name:n,autocomplete:o,autoComplete:l}=e,{inputValue:r,isFocus:a}=v,i=S.value,s=A.value,c=R.value,u=P.value,d=I.value;return y("div",{key:"ni",class:"vxe-number-input--input-wrapper"},[be(),y("div",{class:"vxe-number-input--input-inner"},[y("input",{ref:x,class:"vxe-number-input--input",value:a||"amount"!==t?r:s,name:n,type:"text",placeholder:d,maxlength:u,readonly:c,disabled:i,autocomplete:l||o,onKeydown:ae,onKeyup:ie,onWheel:me,onClick:ge,onInput:G,onChange:U,onFocus:K,onBlur:ne})]),xe()])},ye=()=>{const{minusIcon:t}=e,n=V.value;return y("button",{key:"prev",class:["vxe-number-input--minus-btn is--minus",{"is--disabled":n}],type:"button",onClick:de,onMousedown:pe,onMouseup:ue,onMouseleave:ue},[y("i",{class:t||Mp().NUMBER_INPUT_MINUS_NUM})])},Ce=()=>{const{plusIcon:t}=e,n=$.value;return y("button",{key:"next",class:["vxe-number-input--plus-btn is--plus",{"is--disabled":n}],type:"button",onClick:de,onMousedown:pe,onMouseup:ue,onMouseleave:ue},[y("i",{class:t||Mp().NUMBER_INPUT_PLUS_NUM})])},Se=()=>y("div",{key:"cplr",class:"vxe-number-input--side-control"},[Ce(),ye()]);return _.renderVN=()=>{const{className:t,controls:n,type:o,align:r,prefixIcon:a,suffixIcon:i}=e,{inputValue:s,isActivated:c}=v,u=p.value,d=D.value,{layout:m,showButton:g}=d,f=S.value,h=C.value,x=A.value,w=l.prefix,E=l.suffix;if(h)return y("div",{ref:b,class:["vxe-number-input--readonly",`type--${o}`,t]},x);const T=R.value,O=k.value,I=Mg(d)&&(!1===n?n:g);return y("div",{ref:b,class:["vxe-number-input",`type--${o}`,`control-${"right"===m||"left"===m?m:"default"}`,t,{[`size--${u}`]:u,[`is--${r}`]:r,"is--controls":I&&!T,"is--prefix":!!w||a,"is--suffix":!!E||i,"is--disabled":f,"is--active":c,"show--clear":O&&!f&&!(""===s||np.eqNull(s))}],spellcheck:!1},I?"right"===m?[we(),Se()]:"left"===m?[Se(),we()]:[ye(),we(),Ce()]:[we()])},i(()=>e.modelValue,t=>{h.isUM||(t=>{const{autoFill:n}=e,{inputValue:o}=v,l=E.value,r=T.value;if(Lg(t))v.inputValue="";else{let e=`${t}`;r&&(e=qf(t,l),n||(e=`${np.toNumber(e)}`)),e!==o&&(v.inputValue=e)}})(t),h.isUM=!1}),i(()=>e.type,()=>{Object.assign(v,{inputValue:e.modelValue}),Q()}),f(()=>{jp.on(_,"mousedown",fe),jp.on(_,"keydown",ve),jp.on(_,"blur",he)}),s(()=>{v.isFocus=!1,ue(),te(),jp.off(_,"mousedown"),jp.off(_,"keydown"),jp.off(_,"blur")}),Q(),_},render(){return this.renderVN()}}),wb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(xb,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),yb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Gh(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,data:o.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.required")},{default:()=>y(wh,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),Cb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(ov,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Sb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Gh(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,data:o.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.required")},{default:()=>y(wh,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),Eb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(Kh,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder,resize:"node",onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Db=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Gh(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})})]})}}}),Tb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,a=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${a}`],field:r.field,title:r.title,itemRender:{}},{default:()=>y(wh,{modelValue:t?t.getItemValue(r):null,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Ob=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{renderDataSourceFormItem:t}=Xh(e,{isSubOption:!1}),{computeKebabCaseName:n}=Gh(e);return()=>{const{renderParams:o}=e,{widget:l}=o,r=n.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${r}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.multiple"),field:"multiple",itemRender:{name:"VxeSwitch"}}),t(),y(xh,{title:Qp("vxe.formDesign.widgetProp.required")},{default:()=>y(wh,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})})]})}}}),kb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r,isViewMode:a}=n,{options:i}=r,s=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${s}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y($h,{modelValue:t?t.getItemValue(r):null,placeholder:i.placeholder||Qp("vxe.base.pleaseSelect"),options:a?i.options:[],optionProps:{label:"value",value:"value"},onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Rb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Gh(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.multiple"),field:"multiple",itemRender:{name:"VxeSwitch"}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.required")},{default:()=>y(wh,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}});function Ib(){return np.uniqueId("node_")}const Pb=Pm({name:"VxeTree",props:{data:Array,height:[String,Number],minHeight:{type:[String,Number],default:()=>Rp().tree.minHeight},loading:Boolean,loadingConfig:Object,accordion:{type:Boolean,default:()=>Rp().tree.accordion},childrenField:{type:String,default:()=>Rp().tree.childrenField},valueField:{type:String,default:()=>Rp().tree.valueField},keyField:{type:String,default:()=>Rp().tree.keyField},parentField:{type:String,default:()=>Rp().tree.parentField},titleField:{type:String,default:()=>Rp().tree.titleField},hasChildField:{type:String,default:()=>Rp().tree.hasChildField},mapChildrenField:{type:String,default:()=>Rp().tree.mapChildrenField},transform:Boolean,isCurrent:Boolean,isHover:Boolean,expandAll:Boolean,showLine:{type:Boolean,default:()=>Rp().tree.showLine},trigger:String,indent:{type:Number,default:()=>Rp().tree.indent},showRadio:{type:Boolean,default:()=>Rp().tree.showRadio},checkNodeKey:{type:[String,Number],default:()=>Rp().tree.checkNodeKey},radioConfig:Object,showCheckbox:{type:Boolean,default:()=>Rp().tree.showCheckbox},checkNodeKeys:{type:Array,default:()=>Rp().tree.checkNodeKeys},checkboxConfig:Object,nodeConfig:Object,lazy:Boolean,toggleMethod:Function,loadMethod:Function,showIcon:{type:Boolean,default:!0},iconOpen:{type:String,default:()=>Rp().tree.iconOpen},iconClose:{type:String,default:()=>Rp().tree.iconClose},iconLoaded:{type:String,default:()=>Rp().tree.iconLoaded},size:{type:String,default:()=>Rp().tree.size||Rp().size}},emits:["update:modelValue","update:checkNodeKey","update:checkNodeKeys","node-click","node-dblclick","current-change","radio-change","checkbox-change","load-success","load-error"],setup(e,n){const{emit:o,slots:l}=n,a=np.uniqueId(),{computeSize:s}=ym(e),c=r(),u=m({currentNode:null,selectRadioKey:e.checkNodeKey,treeList:[],updateExpandedFlag:1,updateCheckboxFlag:1}),d={nodeMaps:{},selectCheckboxMaps:{},indeterminateRowMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{}},p={refElem:c},f=g(()=>e.titleField||"title"),h=g(()=>e.keyField||"id"),b=g(()=>{const t=h.value;return e.valueField||t}),x=g(()=>e.parentField||"parentId"),w=g(()=>e.childrenField||"children"),C=g(()=>e.mapChildrenField||"mapChildren"),S=g(()=>e.hasChildField||"hasChild"),E=g(()=>{const t=k.value,{isCurrent:n}=t;return np.isBoolean(n)?n:e.isCurrent}),D=g(()=>{const t=k.value,{isHover:n}=t;return np.isBoolean(n)?n:e.isHover}),T=g(()=>Object.assign({showIcon:!0},Rp().tree.radioConfig,e.radioConfig)),O=g(()=>Object.assign({showIcon:!0},Rp().tree.checkboxConfig,e.checkboxConfig)),k=g(()=>Object.assign({},Rp().tree.nodeConfig,e.nodeConfig)),R=g(()=>Object.assign({},Rp().tree.loadingConfig,e.loadingConfig)),I=g(()=>{const{height:t,minHeight:n}=e,o={};return t&&(o.height=ag(t)),n&&(o.minHeight=ag(n)),o}),P={computeRadioOpts:T,computeCheckboxOpts:O,computeNodeOpts:k},F={xID:a,props:e,context:n,internalData:d,reactData:u,getRefMaps:()=>p,getComputeMaps:()=>P},M=e=>{const t=b.value,n=np.get(e,t);return np.eqNull(n)?"":encodeURIComponent(n)},A=e=>{const{selectRadioKey:t}=u;return t===e},V=e=>{const{updateCheckboxFlag:t}=u,{selectCheckboxMaps:n}=d;return!(!t||!n[e])},$=e=>{const{updateCheckboxFlag:t}=u,{indeterminateRowMaps:n}=d;return!(!t||!n[e])},N=(e,n)=>{const{nodeMaps:o}=d;if(e){np.isArray(e)||(e=[e]);const t=[];e.forEach(e=>{const n=o[e];n&&t.push(n.item)}),L(t,n)}return t()},L=(t,n)=>{const{transform:o}=e,{selectCheckboxMaps:l}=d,r=C.value,a=w.value,i=O.value,{checkStrictly:s}=i,c=e=>{const t=M(e);n?l[t]||(l[t]=e):l[t]&&delete l[t]};s?t.forEach(c):np.eachTree(t,c,{children:o?r:a}),u.updateCheckboxFlag++,U()},_=(e,t,n)=>{t?n[e]||(n[e]=!0):n[e]&&delete n[e]},B=(e,t,n)=>{o(e,zp(n,{$tree:F},t))},z={dispatchEvent:B,clearCurrentNode:()=>(u.currentNode=null,t()),getCurrentNodeId(){const{currentNode:e}=u;return e?M(e):null},getCurrentNode(){const{currentNode:e}=u,{nodeMaps:t}=d;if(e){const n=t[M(e)];if(n)return n.item}return null},setCurrentNodeId(e){const{nodeMaps:n}=d,o=n[e];return u.currentNode=o?o.item:null,t()},setCurrentNode:e=>(u.currentNode=e,t()),clearRadioNode:()=>(u.selectRadioKey=null,t()),getRadioNodeId:()=>u.selectRadioKey||null,getRadioNode(){const{selectRadioKey:e}=u,{nodeMaps:t}=d;if(e){const n=t[e];if(n)return n.item}return null},setRadioNodeId:e=>(u.selectRadioKey=e,t()),setRadioNode:e=>(e&&(u.selectRadioKey=M(e)),t()),setCheckboxNode:(e,n)=>(e&&(np.isArray(e)||(e=[e]),L(e,n)),t()),setCheckboxByNodeId:N,getCheckboxNodeIds(){const{selectCheckboxMaps:e}=d;return Object.keys(e)},getCheckboxNodes(){const{nodeMaps:e,selectCheckboxMaps:t}=d,n=[];return np.each(t,(t,o)=>{const l=e[o];l&&n.push(l.item)}),n},clearCheckboxNode:()=>(d.selectCheckboxMaps={},u.updateCheckboxFlag++,t()),setAllCheckboxNode(n){const{transform:o}=e,l={},r=w.value,a=C.value;return n&&np.eachTree(u.treeList,e=>{const t=M(e);l[t]=!0},{children:o?a:r}),d.selectCheckboxMaps=l,u.updateCheckboxFlag++,t()},clearExpandNode:()=>z.clearAllExpandNode(),clearAllExpandNode(){const{nodeMaps:e}=d;return np.each(e,e=>{e.treeLoaded=!1}),d.treeExpandedMaps={},u.updateExpandedFlag++,t()},setExpandByNodeId(e,n){const{treeExpandedMaps:o}=d;return e&&(np.isArray(e)||(e=[e]),e.forEach(e=>{_(e,n,o)}),u.updateExpandedFlag++),t()},getExpandNodeIds(){const{treeExpandedMaps:e}=d;return np.keys(e)},getExpandNodes(){const{nodeMaps:e,treeExpandedMaps:t}=d,n=[];return np.each(t,(t,o)=>{const l=e[o];l&&n.push(l.item)}),n},setExpandNode(e,n){const{treeExpandedMaps:o}=d;return e&&(np.isArray(e)||(e=[e]),e.forEach(e=>{const t=M(e);_(t,n,o)}),u.updateExpandedFlag++),t()},toggleExpandByNodeId(e){const{treeExpandedMaps:n}=d;return e&&(np.isArray(e)||(e=[e]),e.forEach(e=>{_(e,!n[e],n)}),u.updateExpandedFlag++),t()},toggleExpandNode(e){const{treeExpandedMaps:n}=d;return e&&(np.isArray(e)||(e=[e]),e.forEach(e=>{const t=M(e);_(t,!n[t],n)}),u.updateExpandedFlag++),t()},setAllExpandNode(n){const{transform:o}=e,{treeExpandedMaps:l}=d,r=w.value,a=C.value;return n?np.eachTree(u.treeList,e=>{const t=np.get(e,r);if(t&&t.length){const t=M(e);l[t]=!0}},{children:o?a:r}):d.treeExpandedMaps={},u.updateExpandedFlag++,t()},reloadExpandNode(n){const{lazy:o}=e;return o?(z.clearExpandLoaded(n),q(n)):t()},clearExpandLoaded(n){const{lazy:o}=e,{nodeMaps:l}=d;if(o){const e=l[M(n)];e&&(e.treeLoaded=!1)}return t()},loadChildrenNode(t,n){const{lazy:o,transform:l}=e,{nodeMaps:r}=d;if(!o)return Promise.resolve([]);const a=w.value,i=r[M(t)],s=i?i.level:0,c=i?i.nodes:[];return(e=>{const t=b.value;return Promise.resolve(e.map(e=>{const n=Object.assign({},e);let o=M(n);return o||(o=Ib(),np.set(n,t,o)),n}))})(n).then(e=>(np.eachTree(e,(e,n,o,l,a,u)=>{const d=M(e);r[d]={item:t,itemIndex:-1,items:o,parent:a||i.item,nodes:c.concat(u),level:s+u.length,lineCount:0,treeLoaded:!1}},{children:a}),t[a]=e,l&&(t[a]=e),W(t),e))},isExpandByNode:e=>{const{updateExpandedFlag:t}=u,{treeExpandedMaps:n}=d,o=M(e);return!(!t||!n[o])},isCheckedByRadioNodeId:A,isCheckedByRadioNode:e=>A(M(e)),isCheckedByCheckboxNodeId:V,isIndeterminateByCheckboxNode:e=>$(M(e)),isCheckedByCheckboxNode:e=>V(M(e)),getCheckboxIndeterminateNodes(){const{nodeMaps:e,indeterminateRowMaps:t}=d,n=[];return np.each(t,(t,o)=>{const l=e[o];l&&n.push(l.item)}),n}},j=t=>{const{expandAll:n,transform:o}=e,{initialized:l}=d,r=h.value,a=x.value,i=C.value;u.treeList=o?np.toArrayTree(t,{key:r,parentKey:a,mapChildren:i}):t?t.slice(0):[],(()=>{const{transform:t}=e,{treeList:n}=u,o=b.value,l=w.value,r=C.value,a={};np.eachTree(n,(e,t,n,l,r,i)=>{let s=M(e);s||(s=Ib(),np.set(e,o,s)),a[s]={item:e,itemIndex:t,items:n,parent:r,nodes:i,level:i.length,lineCount:0,treeLoaded:!1}},{children:t?r:l}),d.nodeMaps=a})(),l||t&&t.length&&(d.initialized=!0,n&&F.setAllExpandNode(!0),F.setCheckboxByNodeId(e.checkNodeKeys||[],!0))},H=(e,t,n)=>{const{treeExpandedMaps:o}=d,l=w.value,r=M(e);n.lineCount++,o[r]&&np.arrayEach(e[l],(e,o,l)=>{(!t||o<l.length-1)&&H(e,!1,n)})},W=e=>{const{nodeMaps:t}=d;if(e){const n=M(e),o=t[n];o&&np.lastArrayEach(o.nodes,e=>{const n=M(e),o=t[n];o&&(o.lineCount=0,H(e,!0,o))})}},q=n=>{const o=O.value,{loadMethod:l}=e,{checkStrictly:r}=o;return new Promise(e=>{if(l){const{nodeMaps:e}=d,o=M(n),a=e[o];d.treeExpandLazyLoadedMaps[o]=!0,Promise.resolve(l({$tree:F,node:n})).then(e=>{const{treeExpandLazyLoadedMaps:l}=d;if(a.treeLoaded=!0,l[o]&&(l[o]=!1),np.isArray(e)||(e=[]),e)return F.loadChildrenNode(n,e).then(l=>{const{treeExpandedMaps:a}=d;return l.length&&!a[o]&&(a[o]=!0),u.updateExpandedFlag++,!r&&F.isCheckedByCheckboxNodeId(o)&&L(l,!0),W(n),B("load-success",{node:n,data:e},new Event("load-success")),t()});W(n),B("load-success",{node:n,data:e},new Event("load-success"))}).catch(e=>{const{treeExpandLazyLoadedMaps:t}=d;a.treeLoaded=!1,t[o]&&(t[o]=!1),W(n),B("load-error",{node:n,data:e},new Event("load-error"))}).finally(()=>t())}else e()})},G=(t,n)=>{const{lazy:o}=e,{treeExpandedMaps:l,treeExpandLazyLoadedMaps:r}=d,a=M(n),i=!l[a];t.stopPropagation(),o&&r[a]||((t,n)=>{const{lazy:o,accordion:l,toggleMethod:r}=e,{treeExpandLazyLoadedMaps:a,treeExpandedMaps:i}=d,{nodeMaps:s}=d,c=w.value,p=S.value,m=[];let g=r?t.filter(e=>r({$tree:F,expanded:n,node:e})):t;if(l){g=g.length?[g[g.length-1]]:[];const e=M(g[0]),t=s[e];t&&t.items.forEach(e=>{const t=M(e);i[t]&&delete i[t]})}const f=[];n?g.forEach(e=>{const t=M(e);if(!i[t]){const n=s[t];o&&e[p]&&!n.treeLoaded&&!a[t]?m.push(q(e)):e[c]&&e[c].length&&(i[t]=!0,f.push(e))}}):g.forEach(e=>{const t=M(e);i[t]&&(delete i[t],f.push(e))}),u.updateExpandedFlag++,f.forEach(W),Promise.all(m)})([n],i)},U=()=>{const{transform:t}=e,{treeList:n}=u,{selectCheckboxMaps:o,indeterminateRowMaps:l}=d,r=w.value,a=C.value,i=O.value,{checkStrictly:s,checkMethod:c}=i;if(!s){const e={},i=[];np.eachTree(n,t=>{const n=M(t),o=t[r];o&&o.length&&!e[n]&&(e[n]=1,i.unshift([t,n,o]))},{children:t?a:r}),i.forEach(e=>{const t=e[0],n=e[1],r=e[2];let a=0,i=0,s=0;r.forEach(c?e=>{const t=M(e),n=o[t];c({node:e})?(n?a++:l[t]&&i++,s++):n?a++:l[t]&&i++}:e=>{const t=M(e);o[t]?a++:l[t]&&i++,s++});const u=a>=s,d=!u&&(a>=1||i>=1);u?(o[n]=t,l[n]&&delete l[n]):(o[n]&&delete o[n],d?l[n]=t:l[n]&&delete l[n])}),u.updateCheckboxFlag++}},K=(t,n)=>{t.preventDefault(),t.stopPropagation();const{transform:l}=e,{selectCheckboxMaps:r}=d,a=w.value,i=C.value,s=O.value,{checkStrictly:c,checkMethod:p}=s;let m=!!p;if(p&&(m=!p({node:n})),m)return;const g=M(n);let f=!1;r[g]?delete r[g]:(f=!0,r[g]=n),c||np.eachTree(np.get(n,a),e=>{const t=M(e);f?r[t]||(r[t]=!0):r[t]&&delete r[t]},{children:l?i:a}),u.updateCheckboxFlag++,U();const v=np.keys(r);(e=>{o("update:checkNodeKeys",e)})(v),B("checkbox-change",{node:n,value:v,checked:f},t)},Y=(e,t)=>{e.preventDefault();const n=k.value,{currentMethod:o,trigger:l}=n,r=w.value,a=np.get(t,r),i=a&&a.length;let s=!!o;if("child"===l){if(i)return}else if("parent"===l&&!i)return;if(o&&(s=!o({node:t})),s)return;u.currentNode=t,B("current-change",{node:t,checked:!0},e)},X=(e,t)=>{e.preventDefault(),e.stopPropagation();const n=T.value,{checkMethod:l}=n;let r=!!l;if(l&&(r=!l({node:t})),r)return;const a=M(t);u.selectRadioKey=a,(e=>{o("update:checkNodeKey",e)})(a),B("radio-change",{node:t,value:a,checked:!0},e)};Object.assign(F,z,{});const Z=(t,n,o)=>{const{showRadio:l}=e,r=T.value,{showIcon:a,checkMethod:i,visibleMethod:s}=r,c=!s||s({node:t});let u=!!i;return l&&a&&c?(i&&(u=!i({node:t})),y("div",{class:["vxe-tree--radio-option",{"is--checked":o,"is--disabled":u}],onClick:e=>{u||X(e,t)}},[y("span",{class:["vxe-radio--icon",o?Mp().RADIO_CHECKED:Mp().RADIO_UNCHECKED]})])):Rm()},Q=(t,n,o)=>{const{showCheckbox:l}=e,r=O.value,{showIcon:a,checkMethod:i,visibleMethod:s}=r,c=$(n),u=!s||s({node:t});let d=!!i;return l&&a&&u?(i&&(d=!i({node:t})),y("div",{class:["vxe-tree--checkbox-option",{"is--checked":o,"is--indeterminate":c,"is--disabled":d}],onClick:e=>{d||K(e,t)}},[y("span",{class:["vxe-checkbox--icon",c?Mp().CHECKBOX_INDETERMINATE:o?Mp().CHECKBOX_CHECKED:Mp().CHECKBOX_UNCHECKED]})])):Rm()},J=t=>{const{lazy:n,showRadio:o,showCheckbox:r,showLine:a,indent:i,iconOpen:s,iconClose:c,iconLoaded:p,showIcon:m}=e,{currentNode:g,selectRadioKey:v,updateExpandedFlag:h}=u,{nodeMaps:b,treeExpandedMaps:x,treeExpandLazyLoadedMaps:C}=d,D=w.value,k=f.value,R=S.value,I=np.get(t,D),P=I&&I.length,F=l.icon,A=l.title,$=l.extra,N=M(t),L=h&&x[N],_=b[N],z=np.get(t,k),j=[];P&&x[N]&&(a&&j.push(y("div",{key:"line",class:"vxe-tree--node-child-line",style:{height:`calc(${_.lineCount} * var(--vxe-ui-tree-node-height) - var(--vxe-ui-tree-node-height) / 2)`,left:(_.level+1)*(i||1)+"px"}})),I.forEach(e=>{j.push(J(e))}));let H=!1;o&&(H=N==v);let W=!1;r&&(W=V(N));let q=!1,U=!1,ee=!1;return n&&(U=!!C[N],q=t[R],ee=!!_.treeLoaded),y("div",{class:["vxe-tree--node-wrapper",`node--level-${_.level}`],nodeid:N},[y("div",{class:["vxe-tree--node-item",{"is--current":g&&N===M(g),"is-radio--checked":H,"is-checkbox--checked":W}],style:{paddingLeft:(_.level-1)*(i||1)+"px"},onClick(n){((t,n)=>{const{showRadio:o,showCheckbox:l,trigger:r}=e,a=T.value,i=O.value;let s=!1,c=!1,d=!1,p=!1;E.value?(s=!0,Y(t,n)):u.currentNode&&(u.currentNode=null),"node"===r&&(p=!0,G(t,n)),o&&"node"===a.trigger&&(c=!0,X(t,n)),l&&"node"===i.trigger&&(d=!0,K(t,n)),B("node-click",{node:n,triggerCurrent:s,triggerRadio:c,triggerCheckbox:d,triggerExpand:p},t)})(n,t)},onDblclick(e){((e,t)=>{B("node-dblclick",{node:t},e)})(e,t)}},[m||a?y("div",{class:"vxe-tree--node-item-switcher"},m&&(n?ee?P:q:P)?[y("div",{class:"vxe-tree--node-item-icon",onClick(e){G(e,t)}},F?F({node:t,isExpand:L}):[y("i",{class:U?p||Mp().TREE_NODE_LOADED:L?s||Mp().TREE_NODE_OPEN:c||Mp().TREE_NODE_CLOSE})])]:[]):Rm(),Z(t,0,H),Q(t,N,W),y("div",{class:"vxe-tree--node-item-inner"},[y("div",{class:"vxe-tree--node-item-title"},A?Gm(A({node:t,isExpand:L})):`${z}`),$?y("div",{class:"vxe-tree--node-item-extra"},Gm($({node:t,isExpand:L}))):Rm()])]),P&&x[N]?y("div",{class:"vxe-tree--node-child-wrapper"},j):Rm()])},ee=()=>{const{treeList:e}=u;return y("div",{class:"vxe-tree--node-list-wrapper"},e.map(e=>J(e)))},te=r(0);i(()=>e.data?e.data.length:0,()=>{te.value++}),i(()=>e.data,()=>{te.value++}),i(te,()=>{j(e.data||[])}),i(()=>e.checkNodeKey,e=>{u.selectRadioKey=e});const ne=r(0);return i(()=>e.checkNodeKeys?e.checkNodeKeys.length:0,()=>{ne.value++}),i(()=>e.checkNodeKeys,()=>{ne.value++}),i(ne,()=>{var t;t=e.checkNodeKeys||[],N(t,!0)}),v(()=>{u.treeList=[],d.treeExpandedMaps={},d.indeterminateRowMaps={},d.nodeMaps={}}),j(e.data||[]),F.renderVN=()=>{const{loading:t,trigger:n,showLine:o}=e,r=s.value,a=T.value,i=O.value,u=I.value,d=R.value,p=D.value,m=l.loading;return y("div",{ref:c,class:["vxe-tree",{[`size--${r}`]:r,"show--line":o,"checkbox--highlight":i.highlight,"radio--highlight":a.highlight,"node--hover":p,"node--trigger":"node"===n,"is--loading":t}],style:u},[ee(),y(af,{class:"vxe-tree--loading",modelValue:t,icon:d.icon,text:d.text},m?{default:()=>m({$tree:F})}:{})])},F},render(){return this.renderVN()}});const Fb=Pm({name:"VxeTreeSelect",props:{modelValue:[String,Number,Array],clearable:Boolean,placeholder:{type:String,default:()=>np.eqNull(Rp().treeSelect.placeholder)?Qp("vxe.base.pleaseSelect"):Rp().treeSelect.placeholder},readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,className:[String,Function],popupClassName:[String,Function],prefixIcon:String,placement:String,options:Array,optionProps:Object,size:{type:String,default:()=>Rp().select.size||Rp().size},remote:Boolean,remoteMethod:Function,popupConfig:Object,treeConfig:Object,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","blur","focus","click","node-click"],setup(e,o){const{emit:l,slots:a}=o,s=n("$xeModal",null),c=n("$xeDrawer",null),u=n("$xeTable",null),d=n("$xeForm",null),p=n("xeFormItemInfo",null),h=np.uniqueId(),{computeSize:x}=ym(e),w=r(),C=r(),E=r(),D=r(),T=m({initialized:!1,fullOptionList:[],fullNodeMaps:{},panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),O={hpTimeout:void 0},k={refElem:w},R=g(()=>{const{readonly:t}=e;return null===t?!!d&&d.props.readonly:t}),I=g(()=>{const{disabled:t}=e;return null===t?!!d&&d.props.disabled:t}),P=g(()=>{const{transfer:t}=e;if(null===t){const e=Rp().select.transfer;if(np.isBoolean(e))return e;if(u||s||c||d)return!0}return t}),F=g(()=>Object.assign({},Rp().treeSelect.popupConfig,e.popupConfig)),M=g(()=>Object.assign({},Rp().treeSelect.treeConfig,e.treeConfig,{data:void 0})),A=g(()=>{const e=M.value;return Object.assign({isHover:!0},e.nodeConfig)}),V=g(()=>{const e=M.value;return Object.assign({showIcon:!!e.showCheckbox},e.checkboxConfig,{trigger:"node"})}),$=g(()=>{const e=M.value;return Object.assign({showIcon:!!e.showRadio},e.radioConfig,{trigger:"node"})}),N=g(()=>e.optionProps||{}),L=g(()=>M.value.keyField||"id"),_=g(()=>N.value.label||"label"),B=g(()=>N.value.value||"value"),z=g(()=>N.value.children||"children"),j=g(()=>N.value.parent||"parentField"),H=g(()=>N.value.hasChild||"hasChild"),W=g(()=>{const{modelValue:t}=e,{fullNodeMaps:n}=T,o=_.value;return(np.isArray(t)?t:[t]).map(e=>{const t=n[e];return t?t.item[o]:e}).join(", ")}),q=g(()=>{const e=F.value,{height:t,width:n}=e,o={};return n&&(o.width=ag(n)),t&&(o.height=ag(t),o.maxHeight=ag(t)),o}),G={},U={xID:h,props:e,context:o,reactData:T,internalData:O,getRefMaps:()=>k,getComputeMaps:()=>G},K=(e,t,n)=>{l(e,zp(n,{$treeSelect:U},t))},Y={dispatchEvent:K},X=()=>{const{options:t}=e,n=L.value,o=z.value,l=B.value,r={},a={};np.eachTree(t,(e,t,o,i,s,c)=>{let u=(e=>{const t=e[L.value];return t?encodeURIComponent(t):""})(e);u||(u=np.uniqueId("node_")),a[u]&&Lm("vxe.error.repeatKey",[n,u]),a[u]=!0;const d=e[l];r[d]&&Lm("vxe.error.repeatKey",[l,d]),r[d]={item:e,index:t,items:o,parent:s,nodes:c}},{children:o}),T.fullOptionList=t||[],T.fullNodeMaps=r},Z=()=>{const{placement:n}=e,{panelIndex:o}=T,l=w.value,r=D.value,a=P.value,i=()=>{const e=gg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});T.panelStyle=t,T.panelPlacement=e.placement};return i(),t().then(i)},Q=()=>{const{loading:t}=e,n=I.value;t||n||(clearTimeout(O.hpTimeout),T.initialized||(T.initialized=!0),T.isActivated=!0,T.isAniVisible=!0,setTimeout(()=>{T.visiblePanel=!0},10),T.panelIndex<Vg()&&(T.panelIndex=Ag()),Z())},J=()=>{T.visiblePanel=!1,O.hpTimeout=setTimeout(()=>{T.isAniVisible=!1},350)},ee=(t,n)=>{const{fullNodeMaps:o}=T;if(l("update:modelValue",n),n!==e.modelValue){const e=o[n];K("change",{value:n,option:e?e.item:null},t),d&&p&&d.triggerItemEvent(t,p.itemConfig.field,n)}},te=(e,t)=>{((e,t)=>{ee(e,t),K("clear",{value:t},e)})(t,null),J()},ne=e=>{const{visiblePanel:t}=T;if(!I.value&&t){sg(e,D.value).flag?Z():J()}},oe=e=>{const{visiblePanel:t}=T;if(!I.value){const n=w.value,o=D.value;T.isActivated=sg(e,n).flag||sg(e,o).flag,t&&!T.isActivated&&J()}},le=()=>{J()},re=()=>{const{visiblePanel:e}=T;e&&Z()},ae=e=>{I.value||T.visiblePanel||(T.triggerFocusPanel=!0,Q(),setTimeout(()=>{T.triggerFocusPanel=!1},150)),K("focus",{},e)},ie=e=>{ce(e),K("click",{},e)},se=e=>{T.isActivated=!1,K("blur",{},e)},ce=e=>{const{$event:t}=e;t.preventDefault(),T.triggerFocusPanel?T.triggerFocusPanel=!1:T.visiblePanel?J():Q()},ue=e=>{const{$event:t}=e;K("node-click",e,t)},de=e=>{const{value:t,$event:n}=e;ee(n,t),J()},pe=e=>{const{value:t,$event:n}=e;ee(n,t)},me=()=>{X()};Object.assign(U,Y,{});return i(()=>e.options,()=>{X()}),X(),f(()=>{jp.on(U,"mousewheel",ne),jp.on(U,"mousedown",oe),jp.on(U,"blur",le),jp.on(U,"resize",re)}),v(()=>{jp.off(U,"mousewheel"),jp.off(U,"mousedown"),jp.off(U,"blur"),jp.off(U,"resize")}),b("$xeTreeSelect",U),U.renderVN=()=>{const{className:t,modelValue:n,multiple:o,options:l,loading:r}=e,{initialized:i,isActivated:s,isAniVisible:c,visiblePanel:u}=T,d=x.value,p=I.value,m=W.value,g=P.value,f=R.value,v=q.value,h=a.header,b=a.footer,O=a.prefix,k=F.value.className||e.popupClassName,N=M.value,G=A.value,K=V.value,Y=$.value,X=L.value,Z=_.value,Q=B.value,J=z.value,ee=j.value,ne=H.value;return f?y("div",{ref:w,class:["vxe-tree-select--readonly",t]},[y("span",{class:"vxe-tree-select-label"},m)]):y("div",{ref:w,class:["vxe-tree-select",t?np.isFunction(t)?t({$treeSelect:U}):t:"",{[`size--${d}`]:d,"is--visible":u,"is--disabled":p,"is--loading":r,"is--active":s}]},[y(Gf,{ref:C,clearable:e.clearable,placeholder:r?Qp("vxe.select.loadingText"):e.placeholder,readonly:!0,disabled:p,type:"text",prefixIcon:e.prefixIcon,suffixIcon:r?Mp().TREE_SELECT_LOADED:u?Mp().TREE_SELECT_OPEN:Mp().TREE_SELECT_CLOSE,modelValue:r?"":m,onClear:te,onClick:ie,onFocus:ae,onBlur:se,onSuffixClick:ce},O?{prefix:()=>O({})}:{}),y(S,{to:"body",disabled:!g||!i},[y("div",{ref:D,class:["vxe-table--ignore-clear vxe-tree-select--panel",k?np.isFunction(k)?k({$treeSelect:U}):k:"",{[`size--${d}`]:d,"is--transfer":g,"ani--leave":!r&&c,"ani--enter":!r&&u}],placement:T.panelPlacement,style:T.panelStyle},i?[y("div",{class:"vxe-tree-select--panel-wrapper"},[h?y("div",{class:"vxe-tree-select--panel-header"},h({})):Rm(),y("div",{class:"vxe-tree-select--panel-body"},[y("div",{ref:E,class:"vxe-tree-select-tree--wrapper",style:v},[y(Pb,{class:"vxe-tree-select--tree",data:l,indent:N.indent,showRadio:!o,radioConfig:Y,checkNodeKey:o?null:n,showCheckbox:!!o,checkNodeKeys:o?n:null,checkboxConfig:K,titleField:Z,valueField:Q,keyField:X,childrenField:N.childrenField||J,parentField:N.parentField||ee,hasChildField:N.hasChildField||ne,accordion:N.accordion,expandAll:N.expandAll,nodeConfig:G,lazy:N.lazy,loadMethod:N.loadMethod,toggleMethod:N.toggleMethod,transform:N.transform,trigger:N.trigger,showIcon:N.showIcon,showLine:N.showLine,iconOpen:N.iconOpen,iconLoaded:N.iconLoaded,iconClose:N.iconClose,onNodeClick:ue,onRadioChange:de,onCheckboxChange:pe,onLoadSuccess:me})])]),b?y("div",{class:"vxe-tree-select--panel-footer"},b({})):Rm()])]:[])])])},U},render(){return this.renderVN()}}),Mb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(Fb,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder||Qp("vxe.base.pleaseSelect"),options:a.options,optionProps:{label:"value",value:"value"},onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Ab=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{renderDataSourceFormItem:t}=Xh(e,{isSubOption:!1}),{computeKebabCaseName:n}=Gh(e);return()=>{const{renderParams:o}=e,{widget:l}=o,r=n.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${r}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.required")},{default:()=>y(wh,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})}),t()]})}}}),Vb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(Ah,{modelValue:t?t.getItemValue(r):null,options:a.options,optionProps:{label:"value",value:"value"},onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),$b=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{renderDataSourceFormItem:t}=Xh(e,{isSubOption:!1}),{computeKebabCaseName:n}=Gh(e);return()=>{const{renderParams:o}=e,{widget:l}=o,r=n.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${r}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.required")},{default:()=>y(wh,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})}),t()]})}}}),Nb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(Sf,{modelValue:t?t.getItemValue(r):null,options:a.options,optionProps:{label:"value",value:"value"},onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}});function Lb(){const e=[{label:"无限制",value:""}];return[1,2,5,10,20,50,100,200,500].forEach(t=>{e.push({label:`${t}M`,value:t})}),e}const _b=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Gh(e),n=r(Lb());return()=>{const{renderParams:o}=e,{widget:l}=o,{options:r}=l,a=t.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${a}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:r},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.uploadProp.multiFile"),field:"multiple",itemRender:{name:"VxeSwitch"}}),r.multiple?y(xh,{title:Qp("vxe.formDesign.widgetProp.uploadProp.limitFileCount"),field:"limitCount",itemRender:{name:"VxeInput",props:{type:"integer",min:1,clearable:!0}}}):x(),y(xh,{title:Qp("vxe.formDesign.widgetProp.uploadProp.limitFileSize"),field:"limitSize",itemRender:{name:"VxeSelect",options:n.value}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.required")},{default:()=>y(wh,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})})]})}}});let Bb=null,zb=null;function jb(e){const t=e.name,n=np.lastIndexOf(t,"."),o=t.substring(n+1,t.length).toLowerCase();return{filename:t.substring(0,n),type:o}}const Hb=e=>{const t=Object.assign({},e);return new Promise((e,n)=>{zb||(zb=document.createElement("input"),zb.name="file",zb.type="file"),Bb||(Bb=document.createElement("form"),Bb.style.display="none",Bb.appendChild(zb),document.body.appendChild(Bb));const o=t.types||[],l=!o.length||o.some(e=>"*"===e);zb.multiple=!!t.multiple,zb.accept=l?"":`.${o.join(", .")}`,zb.onchange=r=>{const a=r.target,i=Array.from(a.files||[]),s=i[0];let c="";if(!l)for(let e=0;e<i.length;e++){const{type:t}=jb(i[e]);if(!np.includes(o,t)){c=t;break}}if(c){!1!==t.message&&Im.modal&&Im.modal.message({content:Qp("vxe.error.notType",[c]),status:"error"});n({status:!1,files:i,file:s})}else e({status:!0,files:i,file:s})},Bb.reset(),zb.click()})};const Wb=e=>{const t=Object.assign({type:""},e),{filename:n,type:o,content:l}=t,r=o?`${n}.${o}`:`${n}`;if(window.Blob){const e=l instanceof Blob?l:function(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}(np.toValueString(l),t),n=window.navigator;if(n.msSaveBlob)n.msSaveBlob(e,r);else{const t=URL.createObjectURL(e),n=document.createElement("a");n.target="_blank",n.download=r,n.href=t,document.body.appendChild(n),n.click(),requestAnimationFrame(()=>{n.parentNode&&n.parentNode.removeChild(n),URL.revokeObjectURL(t)})}return Promise.resolve()}return Promise.reject(new Error(Qp("vxe.error.notExp")))},qb=Pm({name:"VxeUpload",props:{modelValue:[Array,String,Object],showList:{type:Boolean,default:()=>Rp().upload.showList},moreConfig:Object,readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},mode:{type:String,default:()=>Rp().upload.mode},imageTypes:{type:Array,default:()=>np.clone(Rp().upload.imageTypes,!0)},imageConfig:{type:Object,default:()=>np.clone(Rp().upload.imageConfig,!0)},imageStyle:{type:Object,default:()=>np.clone(Rp().upload.imageStyle,!0)},fileTypes:{type:Array,default:()=>np.clone(Rp().upload.fileTypes,!0)},dragSort:Boolean,dragToUpload:{type:Boolean,default:()=>np.clone(Rp().upload.dragToUpload,!0)},pasteToUpload:{type:Boolean,default:()=>np.clone(Rp().upload.pasteToUpload,!0)},keyField:String,singleMode:Boolean,urlMode:Boolean,multiple:Boolean,limitSize:{type:[String,Number],default:()=>Rp().upload.limitSize},showLimitSize:{type:Boolean,default:()=>Rp().upload.showLimitSize},limitSizeText:{type:[String,Number,Function],default:()=>Rp().upload.limitSizeText},limitCount:{type:[String,Number],default:()=>Rp().upload.limitCount},showLimitCount:{type:Boolean,default:()=>Rp().upload.showLimitCount},limitCountText:{type:[String,Number,Function],default:()=>Rp().upload.limitCountText},nameField:{type:String,default:()=>Rp().upload.nameField},typeField:{type:String,default:()=>Rp().upload.typeField},urlField:{type:String,default:()=>Rp().upload.urlField},sizeField:{type:String,default:()=>Rp().upload.sizeField},showErrorStatus:{type:Boolean,default:()=>Rp().upload.showErrorStatus},showProgress:{type:Boolean,default:()=>Rp().upload.showProgress},progressText:{type:[String,Number,Function],default:()=>Rp().upload.progressText},autoHiddenButton:{type:Boolean,default:()=>Rp().upload.autoHiddenButton},showUploadButton:{type:Boolean,default:()=>Rp().upload.showUploadButton},buttonText:{type:[String,Number,Function],default:()=>Rp().upload.buttonText},buttonIcon:{type:String,default:()=>Rp().upload.buttonIcon},showButtonText:{type:Boolean,default:()=>Rp().upload.showButtonText},showButtonIcon:{type:Boolean,default:()=>Rp().upload.showButtonIcon},showRemoveButton:{type:Boolean,default:()=>Rp().upload.showRemoveButton},showDownloadButton:{type:Boolean,default:()=>Rp().upload.showDownloadButton},showPreview:{type:Boolean,default:()=>Rp().upload.showPreview},showTip:{type:Boolean,default:()=>null},tipText:[String,Number,Function],hintText:String,previewMethod:Function,uploadMethod:Function,beforeRemoveMethod:Function,removeMethod:Function,beforeDownloadMethod:Function,downloadMethod:Function,getUrlMethod:Function,getThumbnailUrlMethod:Function,size:{type:String,default:()=>Rp().upload.size||Rp().size}},emits:["update:modelValue","add","remove","remove-fail","download","download-fail","upload-success","upload-error","sort-dragend"],setup(e,t){const{emit:o,slots:l}=t,a=n("$xeForm",null),s=n("xeFormItemInfo",null),c=n("$xeTable",null),u=np.uniqueId(),{computeSize:d}=ym(e),p=r(),h=r(),b=r(),x=r(),w=m({isDragUploadStatus:!1,showMorePopup:!1,isActivated:!1,fileList:[],fileCacheMaps:{},isDragMove:!1,dragIndex:-1,dragTipText:""}),C={imagePreviewTypes:["jpg","jpeg","png","gif"],prevDragIndex:-1},S={refElem:p},D=g(()=>{const{readonly:t}=e;return null===t?!!a&&a.props.readonly:t}),T=g(()=>{const{disabled:t}=e;return null===t?!!a&&a.props.disabled:t}),O=g(()=>e.keyField||"_X_KEY"),k=g(()=>"image"===e.mode),R=g(()=>e.nameField||"name"),I=g(()=>e.typeField||"type"),P=g(()=>e.urlField||"url"),F=g(()=>e.sizeField||"size"),M=g(()=>1024*np.toNumber(e.limitSize)*1024),A=g(()=>e.multiple?np.toNumber(e.limitCount):1),V=g(()=>{const{multiple:t}=e,{fileList:n}=w,o=A.value;return t?!o||n.length>=o:n.length>=1}),$=g(()=>{const t=np.toNumber(e.limitSize);return t?t>1048576?t/1048576+"T":t>1024?t/1024+"G":`${t}M`:""}),N=g(()=>{const{showTip:t,tipText:n}=e;if(np.isBoolean(t))return t;const o=Rp().upload.showTip;return np.isBoolean(o)?o:!!n}),L=g(()=>{const{limitSize:t,fileTypes:n,multiple:o,limitCount:l}=e,r=e.tipText||e.hintText,a=k.value,i=$.value;if(np.isString(r))return r;if(np.isFunction(r))return`${r({})}`;const s=[];return a?(o&&l&&s.push(Qp("vxe.upload.imgCountHint",[l])),t&&i&&s.push(Qp("vxe.upload.imgSizeHint",[i]))):(n&&n.length&&s.push(Qp("vxe.upload.fileTypeHint",[n.join("/")])),t&&i&&s.push(Qp("vxe.upload.fileSizeHint",[i])),o&&l&&s.push(Qp("vxe.upload.fileCountHint",[l]))),s.join(Qp("vxe.base.comma"))}),_=g(()=>Object.assign({},e.imageConfig||e.imageStyle)),B=g(()=>{const e=_.value,{width:t,height:n}=e,o={};return t&&(o.width=ag(t)),n&&(o.height=ag(n)),o}),z=g(()=>Object.assign({showMoreButton:!0},e.moreConfig)),j={},H={xID:u,props:e,context:t,reactData:w,internalData:C,getRefMaps:()=>S,getComputeMaps:()=>j},W=()=>np.uniqueId(),q=e=>e[O.value],G=()=>{const{modelValue:t,multiple:n}=e,o=D.value,l=O.value,r=R.value,a=I.value,i=P.value,s=F.value,c=t?(t?np.isArray(t)?t:[t]:[]).map(e=>{if(!e||np.isString(e)){const t=`${e||""}`,n=np.parseUrl(e),o=(n?n.searchQuery[r]:"")||U(t);return{[r]:o,[a]:(n?n.searchQuery[a]:"")||K(o),[i]:t,[s]:np.toNumber(n?n.searchQuery[s]:0)||0,[l]:W()}}const t=e[r]||"";return e[r]=t,e[a]=e[a]||K(t),e[i]=e[i]||"",e[s]=e[s]||0,e[l]=e[l]||W(),e}):[];w.fileList=o||n?c:c.slice(0,1)},U=e=>decodeURIComponent(`${e||""}`).split("/").pop()||"",K=e=>{const t=e.lastIndexOf(".");return t>0?e.substring(t+1).toLowerCase():""},Y=(e,t,n)=>{o(e,zp(n,{$upload:H},t))},X=t=>{const{singleMode:n,urlMode:l}=e,r=P.value,a=R.value;let i=t?t.slice(0):[];l&&(i=i.map(e=>{const t=e[r];if(t){if(!np.parseUrl(t).searchQuery[a])return`${t}${-1===t.indexOf("?")?"?":"&"}${a}=${encodeURIComponent(e[a]||"")}`}return t})),o("update:modelValue",n?i[0]||null:i)},Z=t=>{const n=e.getThumbnailUrlMethod||Rp().upload.getThumbnailUrlMethod;return n?n({$upload:H,option:t}):Q(t)},Q=t=>{const n=e.getUrlMethod||Rp().upload.getUrlMethod,o=P.value;return n?n({$upload:H,option:t}):t[o]},J=(t,n)=>{const o=e.previewMethod||Rp().upload.previewMethod;e.showPreview&&(o?o({$upload:H,option:n}):(t=>{const{imageTypes:n,showDownloadButton:o}=e,l=I.value,r=e.beforeDownloadMethod||Rp().upload.beforeDownloadMethod,{imagePreviewTypes:a}=C;a.concat(n||[]).some(e=>`${e}`.toLowerCase()===`${t[l]}`.toLowerCase())&&Im.previewImage&&Im.previewImage({urlList:[Q(t)],showDownloadButton:o,beforeDownloadMethod:r?()=>r({$upload:H,option:t}):void 0})})(n))},ee=(t,n)=>{const{showErrorStatus:o}=e,l=q(t),r=e.uploadMethod||Rp().upload.uploadMethod;if(r)return Promise.resolve(r({$upload:H,file:n,option:t,updateProgress(e){const{fileCacheMaps:n}=w,o=n[q(t)];o&&(o.percent=Math.max(0,Math.min(99,np.toNumber(e))))}})).then(e=>{const{fileCacheMaps:n}=w,o=n[l];o&&(o.percent=100),Object.assign(t,e),Y("upload-success",{option:t,data:e},null)}).catch(e=>{const{fileCacheMaps:n}=w,r=n[l];r&&(r.status="error"),o?Object.assign(t,e):w.fileList=w.fileList.filter(e=>q(e)!==l),Y("upload-error",{option:t,data:e},null)}).finally(()=>{const{fileCacheMaps:e}=w,t=e[l];t&&(t.loading=!1)});{const{fileCacheMaps:e}=w,t=e[l];t&&(t.loading=!1)}return Promise.resolve()},te=t=>{const{uploadMethod:n,urlMode:o}=e,{fileCacheMaps:l}=w,r=l[q(t)];if((n||Rp().upload.uploadMethod)&&r){const e=r.file;r.loading=!0,r.status="",r.percent=0,ee(t,e).then(()=>{o&&X(w.fileList)})}},ne=(t,n)=>{const{multiple:o,urlMode:l,showLimitSize:r,limitSizeText:i,showLimitCount:c,limitCountText:u}=e,{fileList:d}=w,p=e.uploadMethod||Rp().upload.uploadMethod,g=O.value,f=R.value,v=I.value,h=P.value,b=F.value,x=M.value,C=A.value,S=$.value;let E=t;if(o&&C){if(c&&d.length>=C)return void(Im.modal&&Im.modal.notification({title:Qp("vxe.modal.errTitle"),status:"error",content:u?`${np.isFunction(u)?u({maxCount:C}):u}`:Qp("vxe.upload.overCountErr",[C])}));const e=E.length-(C-d.length);if(c&&e>0){const t=E.slice(C-d.length);u?Im.modal.notification({title:Qp("vxe.modal.errTitle"),status:"error",content:`${np.isFunction(u)?u({maxCount:C}):u}`}):Im.modal&&Im.modal.notification({title:Qp("vxe.modal.errTitle"),status:"error",width:null,slots:{default:()=>y("div",{class:"vxe-upload--file-message-over-error"},[y("div",{},Qp("vxe.upload.overCountExtraErr",[C,e])),y("div",{class:"vxe-upload--file-message-over-extra"},t.map((e,t)=>y("div",{key:t,class:"vxe-upload--file-message-over-extra-item"},e.name)))])}})}E=E.slice(0,C-d.length)}if(r&&x)for(let e=0;e<t.length;e++){if(t[0].size>x)return void(Im.modal&&Im.modal.notification({title:Qp("vxe.modal.errTitle"),status:"error",content:i?`${np.isFunction(i)?i({maxSize:x}):i}`:Qp("vxe.upload.overSizeErr",[S])}))}const D=Object.assign({},w.fileCacheMaps),T=o?d:[],k=[];E.forEach(e=>{const{name:t}=e,o=W(),l={[f]:t,[v]:K(t),[b]:e.size,[h]:URL.createObjectURL(e),[g]:o};p&&(D[o]={file:e,loading:!0,status:"",percent:0});const r=m(l);p&&k.push(ee(r,e)),T.push(r),Y("add",{option:r},n)}),w.fileList=T,w.fileCacheMaps=D,Promise.all(l?k:[]).then(()=>{X(T),a&&s&&a.triggerItemEvent(n,s.itemConfig.field,T)})},oe=t=>{const{multiple:n,imageTypes:o,fileTypes:l}=e,r=T.value,a=k.value;return r?Promise.resolve({status:!1,files:[],file:null}):Hb({multiple:n,types:a?o:l}).then(e=>(ne(e.files,t),e))},le=e=>{oe(e).catch(()=>{})},re=(e,t,n)=>{const{fileList:o}=w;o.splice(n,1),X(o),a&&s&&a.triggerItemEvent(e,s.itemConfig.field,o),Y("remove",{option:t},e)},ae=(t,n,o)=>{const l=e.beforeRemoveMethod||Rp().upload.beforeRemoveMethod,r=e.removeMethod||Rp().upload.removeMethod;Promise.resolve(!l||l({$upload:H,option:n})).then(e=>{e?r?Promise.resolve(r({$upload:H,option:n})).then(()=>{re(t,n,o)}).catch(e=>e):re(t,n,o):Y("remove-fail",{option:n},t)})},ie=(e,t)=>{Y("download",{option:t},e)},se=e=>{const t=e.currentTarget,{clientX:n,clientY:o}=e;if(t){const{x:e,y:l,height:r,width:a}=t.getBoundingClientRect();(n<e||n>e+a||o<l||o>l+r)&&(w.isDragUploadStatus=!1)}},ce=e=>{const t=e.dataTransfer;if(t){const{items:n}=t;n&&n.length&&(e.preventDefault(),w.isDragUploadStatus=!0)}},ue=(t,n)=>{const{imageTypes:o,fileTypes:l}=e,{imagePreviewTypes:r}=C;if(k.value){const e=r.concat(o&&o.length?o:[]);n=n.filter(t=>{const n=`${t.type.split("/")[1]||""}`.toLowerCase();return!!e.some(e=>`${e}`.toLowerCase()===n)})}else if(l&&l.length){const e=[];if(n.forEach(t=>{const n=K(t.name);l.some(e=>`${e}`.toLowerCase()===n)||e.push(n)}),e.length)return void(Im.modal&&Im.modal.message({content:Qp("vxe.error.notType",[e.join(", ")]),status:"error"}))}n.length?ne(n,t):Im.modal&&Im.modal.notification({title:Qp("vxe.modal.errTitle"),status:"error",content:Qp("vxe.upload.uploadTypeErr")})},de=e=>{const t=e.dataTransfer;if(t){const{items:n}=t;if(n&&n.length){e.preventDefault();const t=pe(n);t.length&&ue(e,t)}}w.isDragUploadStatus=!1},pe=e=>{const t=[];return np.arrayEach(e,e=>{const n=e.getAsFile();n&&t.push(n)}),t},me=()=>{const t=D.value,n=k.value;Im.modal&&Im.modal.open({title:Qp(t?"vxe.upload.morePopup.readTitle":"vxe.upload.morePopup."+(n?"imageTitle":"fileTitle")),width:660,height:500,escClosable:!0,showMaximize:!0,resize:!0,maskClosable:!0,slots:{default(){const{showErrorStatus:o,dragToUpload:l,dragSort:r}=e,{isActivated:a,isDragMove:i,isDragUploadStatus:s,dragIndex:c}=w,{fileList:u}=w,d=T.value,p={};return l&&-1===c&&(p.onDragover=ce,p.onDragleave=se,p.onDrop=de),y("div",Object.assign({ref:h,class:["vxe-upload--more-popup",{"is--readonly":t,"is--disabled":d,"is--active":a,"show--error":o,"is--drag":s}]},p),[n?r?y(E,{name:"vxe-upload--drag-list"+(i?"":"-disabled"),tag:"div",class:"vxe-upload--image-more-list"},{default:()=>Te(u,!0).concat(Oe(!0))}):y("div",{class:"vxe-upload--image-more-list"},Te(u,!0).concat(Oe(!0))):y("div",{class:"vxe-upload--file-more-list"},[Ee(!0),r?y(E,{name:"vxe-upload--drag-list"+(i?"":"-disabled"),tag:"div",class:"vxe-upload--file-list"},{default:()=>Se(u,!1)}):y("div",{class:"vxe-upload--file-list"},Se(u,!0))]),r?y("div",{ref:x,class:"vxe-upload--drag-line"}):Rm(),s?y("div",{class:"vxe-upload--drag-placeholder"},Qp("vxe.upload.dragPlaceholder")):Rm()])}},onShow(){w.showMorePopup=!0},onHide(){w.showMorePopup=!1}})},ge=(e,t,n)=>{const{showMorePopup:o}=w,l=p.value,r=h.value,a=o?r:l;if(!a)return;const i=a.getBoundingClientRect(),s=b.value,c=x.value,u=o?c:s;if(u){const e=t.getBoundingClientRect();u.style.display="block",u.style.top=`${Math.max(1,e.y-i.y)}px`,u.style.left=`${Math.max(1,e.x-i.x)}px`,u.style.height=`${e.height}px`,u.style.width=e.width-1+"px",u.setAttribute("drag-pos",n)}},fe=e=>{e.stopPropagation(),e.dataTransfer&&e.dataTransfer.setDragImage(Xm||Zm(),0,0);const t=e.currentTarget,n=t.parentElement,o=np.findIndexOf(Array.from(n.children),e=>t===e);w.isDragMove=!0,w.dragIndex=o,setTimeout(()=>{w.isDragMove=!1},500)},ve=e=>{e.stopPropagation(),e.preventDefault();const{dragIndex:t}=w;if(-1===t)return;const n=k.value,o=e.currentTarget,l=o.parentElement,r=np.findIndexOf(Array.from(l.children),e=>o===e);let a="";if(n){a=e.clientX-o.getBoundingClientRect().x<o.clientWidth/2?"left":"right"}else{a=e.clientY-o.getBoundingClientRect().y<o.clientHeight/2?"top":"bottom"}t!==r?(ge(0,o,a),C.prevDragIndex=r,C.prevDragPos=a):ge(0,o,a)},he=e=>{const{fileList:t,dragIndex:n}=w,{prevDragIndex:o,prevDragPos:l}=C,r=n,a=o,i="bottom"===l||"right"===l?1:0,s=t[r],c=t[a];if(s&&c){t.splice(r,1);const n=np.findIndexOf(t,e=>c===e)+i;t.splice(n,0,s),Y("sort-dragend",{oldItem:s,newItem:c,dragPos:l,offsetIndex:i,_index:{newIndex:n,oldIndex:r}},e)}(()=>{const e=b.value,t=x.value;e&&(e.style.display=""),t&&(t.style.display="")})(),w.dragIndex=-1},be=e=>{c&&e.stopPropagation(),w.isActivated=!0},xe=t=>{const{pasteToUpload:n}=e,{isActivated:o}=w;if(!o||!n)return;const l=t.clipboardData||t.originalEvent.clipboardData;if(!l)return;const{items:r}=l;if(!r)return;const a=pe(r);a.length&&(t.preventDefault(),ue(t,a))},we=e=>{const t=p.value,n=h.value;let o=sg(e,t).flag;if(!o&&n){const t=n.parentElement||n;o=sg(e,t?t.parentElement:t).flag}w.isActivated=o},ye=()=>{w.isActivated=!1},Ce={dispatchEvent:Y,choose:()=>oe(null)};Object.assign(H,Ce,{});const Se=(t,n)=>{const{showRemoveButton:o,showDownloadButton:r,showProgress:a,progressText:i,showPreview:s,showErrorStatus:c,dragSort:u}=e,{fileCacheMaps:d}=w,p=T.value,m=D.value,g=R.value,f=I.value,v=l.corner,h={};return u&&t.length>1&&(h.onDragstart=fe,h.onDragover=ve,h.onDragend=he),t.map((t,l)=>{const b=q(t),x=d[b],w=x&&x.loading,C=x&&"error"===x.status;return y("div",Object.assign({key:u?b:l,class:["vxe-upload--file-item",{"is--preview":s,"is--loading":w,"is--error":C}],fileid:b,draggable:!!u||null},h),[y("div",{class:"vxe-upload--file-item-icon"},[y("i",{class:Mp()[`UPLOAD_FILE_TYPE_${`${t[f]}`.toLocaleUpperCase()}`]||Mp().UPLOAD_FILE_TYPE_DEFAULT})]),y("div",{class:"vxe-upload--file-item-name",onClick(e){w||C||J(0,t)}},`${t[g]||""}`),w?y("div",{class:"vxe-upload--file-item-loading-icon"},[y("i",{class:Mp().UPLOAD_LOADING})]):Rm(),a&&w&&x?y("div",{class:"vxe-upload--file-item-loading-text"},i?np.toFormatString(`${np.isFunction(i)?i({}):i}`,{percent:x.percent}):Qp("vxe.upload.uploadProgress",[x.percent])):Rm(),c&&C?y("div",{class:"vxe-upload--image-item-error"},[y(zg,{icon:Mp().UPLOAD_IMAGE_RE_UPLOAD,mode:"text",status:"primary",content:Qp("vxe.upload.reUpload"),onClick(){te(t)}})]):Rm(),y("div",{class:"vxe-upload--file-item-btn-wrapper"},[v?y("div",{class:"vxe-upload--file-item-corner"},Gm(v({option:t,isMoreView:n,readonly:m}))):Rm(),r&&!w?y("div",{class:"vxe-upload--file-item-download-btn",onClick(n){((t,n)=>{const o=e.beforeDownloadMethod||Rp().upload.beforeDownloadMethod,l=e.downloadMethod||Rp().upload.downloadMethod;Promise.resolve(!o||o({$upload:H,option:n})).then(e=>{e?l?Promise.resolve(l({$upload:H,option:n})).then(()=>{ie(t,n)}).catch(e=>e):ie(t,n):Y("download-fail",{option:n},t)})})(n,t)}},[y("i",{class:Mp().UPLOAD_FILE_DOWNLOAD})]):Rm(),!o||m||p||w?Rm():y("div",{class:"vxe-upload--file-item-remove-btn",onClick(e){ae(e,t,l)}},[y("i",{class:Mp().UPLOAD_FILE_REMOVE})])])])})},Ee=t=>{const{showUploadButton:n,buttonText:o,buttonIcon:r,showButtonText:a,showButtonIcon:i,autoHiddenButton:s}=e,c=T.value,u=D.value,d=N.value,p=L.value,m=V.value,g=l.default,f=l.tip||l.hint;return u||!n?Rm():y("div",{class:"vxe-upload--file-action"},[s&&m?Rm():y("div",{class:"vxe-upload--file-action-btn",onClick:le},g?Gm(g({$upload:H})):[y(zg,{class:"vxe-upload--file-action-button",content:t||a?o?`${np.isFunction(o)?o({}):o}`:Qp("vxe.upload.fileBtnText"):"",icon:i?r||Mp().UPLOAD_FILE_ADD:"",disabled:c})]),d&&(p||f)?y("div",{class:"vxe-upload--file-action-tip"},f?Gm(f({$upload:H})):`${p}`):Rm()])},De=()=>{const{showList:t,moreConfig:n,dragSort:o}=e,{fileList:l,isDragMove:r}=w,a=z.value,{maxCount:i,showMoreButton:s,layout:c}=a,u="horizontal"===c;let d=l,p=0;return i&&l.length>i&&(p=l.length-i,d=l.slice(0,i)),y("div",{key:"all",class:"vxe-upload--file-wrapper"},t?[s&&n&&u?Rm():Ee(!0),d.length||s&&u?y("div",{class:["vxe-upload--file-list-wrapper",{"is--horizontal":u}]},[d.length?o?y(E,{name:"vxe-upload--drag-list"+(r?"":"-disabled"),tag:"div",class:"vxe-upload--file-list"},{default:()=>Se(d,!1)}):y("div",{class:"vxe-upload--file-list"},Se(d,!1)):Rm(),s&&p?y("div",{class:"vxe-upload--file-over-more"},[y(zg,{mode:"text",content:Qp("vxe.upload.moreBtnText",[l.length]),status:"primary",onClick:me})]):Rm(),s&&n&&u?Ee(!1):Rm()]):Rm()]:[Ee(!1)])},Te=(t,n)=>{const{showRemoveButton:o,showProgress:r,progressText:a,showPreview:i,showErrorStatus:s,dragSort:c}=e,{fileCacheMaps:u}=w,d=T.value,p=D.value,m=_.value,g=B.value,f=l.corner,v={onMousedown:be};return c&&t.length>1&&(v.onDragstart=fe,v.onDragover=ve,v.onDragend=he),t.map((t,l)=>{const h=q(t),b=u[h],x=b&&b.loading,C=b&&"error"===b.status;return y("div",Object.assign({key:c?h:l,class:["vxe-upload--image-item",{"is--preview":i,"is--circle":m.circle,"is--loading":x,"is--error":C}],fileid:h,draggable:!!c||null},v),[y("div",{class:"vxe-upload--image-item-box",style:n?null:g,title:Qp("vxe.upload.viewItemTitle"),onClick(t){x||C||((t,n,o)=>{const{showDownloadButton:l}=e,{fileList:r}=w,a=e.beforeDownloadMethod||Rp().upload.beforeDownloadMethod;e.showPreview&&Im.previewImage&&Im.previewImage({urlList:r.map(e=>Q(e)),activeIndex:o,showDownloadButton:l,beforeDownloadMethod:a?({index:e})=>a({$upload:H,option:r[e]}):void 0})})(0,0,l)}},[x&&b?y("div",{class:"vxe-upload--image-item-loading"},[y("div",{class:"vxe-upload--image-item-loading-icon"},[y("i",{class:Mp().UPLOAD_LOADING})]),r?y("div",{class:"vxe-upload--image-item-loading-text"},a?np.toFormatString(`${np.isFunction(a)?a({}):a}`,{percent:b.percent}):Qp("vxe.upload.uploadProgress",[b.percent])):Rm()]):Rm(),x?Rm():C&&s?y("div",{class:"vxe-upload--image-item-error"},[y(zg,{icon:Mp().UPLOAD_IMAGE_RE_UPLOAD,mode:"text",status:"primary",content:Qp("vxe.upload.reUpload"),onClick(){te(t)}})]):y("div",{class:"vxe-upload--image-item-img-wrapper"},[y("img",{class:"vxe-upload--image-item-img",src:Z(t)})]),y("div",{class:"vxe-upload--image-item-btn-wrapper",onClick(e){e.stopPropagation()}},[f?y("div",{class:"vxe-upload--file-item-corner"},Gm(f({option:t,isMoreView:n,readonly:p}))):Rm(),!o||p||d||x?Rm():y("div",{class:"vxe-upload--image-item-remove-btn",onClick(e){e.stopPropagation(),ae(e,t,l)}},[y("i",{class:Mp().UPLOAD_IMAGE_REMOVE})])])])])})},Oe=t=>{const{showUploadButton:n,buttonText:o,buttonIcon:r,showButtonText:a,showButtonIcon:i,autoHiddenButton:s}=e,c=D.value,u=N.value,d=L.value,p=V.value,m=B.value,g=l.default,f=l.tip||l.hint;return c||!n||s&&p?Rm():y("div",{key:"action",class:"vxe-upload--image-action"},[y("div",{class:"vxe-upload--image-action-btn",onClick:le},g?g({$upload:H}):[y("div",{class:"vxe-upload--image-action-box",style:t?null:m},[i?y("div",{class:"vxe-upload--image-action-icon"},[y("i",{class:r||Mp().UPLOAD_IMAGE_ADD})]):Rm(),t||a?y("div",{class:"vxe-upload--image-action-content"},o?`${np.isFunction(o)?o({}):o}`:Qp("vxe.upload.imgBtnText")):Rm(),u&&(d||f)?y("div",{class:"vxe-upload--image-action-hint"},f?Gm(f({$upload:H})):`${d}`):Rm()])])])},ke=()=>{const{showList:t,dragSort:n}=e,{fileList:o,isDragMove:l}=w,r=z.value,{maxCount:a,showMoreButton:i}=r;let s=o,c=0;return a&&o.length>a&&(c=o.length-a,s=o.slice(0,a)),y("div",{key:"image",class:"vxe-upload--image-wrapper"},t?[n?y(E,{name:"vxe-upload--drag-list"+(l?"":"-disabled"),tag:"div",class:"vxe-upload--image-list"},{default:()=>Te(s,!1).concat([i&&c?y("div",{key:"om",class:"vxe-upload--image-over-more"},[y(zg,{mode:"text",content:Qp("vxe.upload.moreBtnText",[o.length]),status:"primary",onClick:me})]):Rm(),Oe(!1)])}):y("div",{class:"vxe-upload--image-list"},Te(s,!1).concat([i&&c?y("div",{class:"vxe-upload--image-over-more"},[y(zg,{mode:"text",content:Qp("vxe.upload.moreBtnText",[o.length]),status:"primary",onClick:me})]):Rm(),Oe(!1)]))]:[y("div",{class:"vxe-upload--image-list"},[Oe(!1)])])},Re=r(0);return i(()=>e.modelValue?e.modelValue.length:0,()=>{Re.value++}),i(()=>e.modelValue,()=>{Re.value++}),i(Re,()=>{G()}),f(()=>{e.multiple&&e.singleMode&&Lm("vxe.error.errConflicts",["multiple","single-mode"]),e.imageStyle&&Nm("vxe.error.delProp",["image-style","image-config"]),e.dragSort&&Zm(),jp.on(H,"paste",xe),jp.on(H,"mousedown",we),jp.on(H,"blur",ye)}),v(()=>{w.isDragUploadStatus=!1,jp.off(H,"paste"),jp.off(H,"mousedown"),jp.off(H,"blur")}),G(),H.renderVN=()=>{const{showErrorStatus:t,dragToUpload:n,pasteToUpload:o,dragSort:l}=e,{isDragUploadStatus:r,showMorePopup:a,isActivated:i,dragIndex:s}=w,c=d.value,u=T.value,m=D.value,g=k.value,f={onMousedown:be};return n&&-1===s&&(f.onDragover=ce,f.onDragleave=se,f.onDrop=de),y("div",Object.assign({ref:p,class:["vxe-upload",{[`size--${c}`]:c,"is--active":i,"is--readonly":m,"is--disabled":u,"is--paste":o,"show--error":t,"is--drag":r}]},f),[g?ke():De(),l?y("div",{ref:b,class:"vxe-upload--drag-line"}):Rm(),r&&!a?y("div",{class:"vxe-upload--drag-placeholder"},Qp("vxe.upload.dragPlaceholder")):Rm()])},H},render(){return this.renderVN()}}),Gb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(qb,{modelValue:t?t.getItemValue(r):null,mode:"all",multiple:a.multiple,limitCount:a.limitCount,limitSize:a.limitSize,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Ub=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Gh(e),n=r(Lb());return()=>{const{renderParams:o}=e,{widget:l}=o,{options:r}=l,a=t.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${a}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:r},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),y(xh,{title:Qp("vxe.formDesign.widgetProp.uploadProp.multiImg"),field:"multiple",itemRender:{name:"VxeSwitch"}}),r.multiple?y(xh,{title:Qp("vxe.formDesign.widgetProp.uploadProp.limitImgCount"),field:"limitCount",itemRender:{name:"VxeInput",props:{type:"integer",min:1,clearable:!0}}}):x(),y(xh,{title:Qp("vxe.formDesign.widgetProp.uploadProp.limitImgSize"),field:"limitSize",itemRender:{name:"VxeSelect",options:n.value}}),y(xh,{title:Qp("vxe.formDesign.widgetProp.required")},{default:()=>y(wh,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})})]})}}}),Kb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(qb,{modelValue:t?t.getItemValue(r):null,mode:"image",multiple:a.multiple,limitCount:a.limitCount,limitSize:a.limitSize,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Yb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Gh(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})})]})}}}),Xb=Pm({name:"VxeRate",props:{modelValue:[Number,String],disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},size:{type:String,default:()=>Rp().rate.size||Rp().size},status:String},emits:["update:modelValue","change"],setup(e,t){const{emit:o}=t,l=n("$xeForm",null),a=n("xeFormItemInfo",null),i=np.uniqueId(),{computeSize:s}=ym(e),c=r(),u=m({activeValue:null}),d={refElem:c},p=g(()=>{const{disabled:t}=e;return null===t?!!l&&(l.props.readonly||l.props.disabled):t}),f=g(()=>{const{readonly:t}=e;return null===t?!!l&&(l.props.readonly||l.props.disabled):t}),v=g(()=>{const{modelValue:t}=e,{activeValue:n}=u;return np.toNumber(null===n?t:n)}),h=g(()=>[1,2,3,4,5].map(e=>({value:e,label:e}))),b={},x={xID:i,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>b},w=(e,t,n)=>{o(e,zp(n,{$rate:x},t))},C={dispatchEvent:w},S=()=>{u.activeValue=null},E=(e,t)=>{const n=p.value,r=f.value;if(!n&&!r){const n=t.value;(e=>{o("update:modelValue",e)})(n),w("change",{value:n},e),l&&a&&l.triggerItemEvent(e,a.itemConfig.field,n)}};Object.assign(x,C,{});return x.renderVN=()=>{const{status:t}=e,n=p.value,o=f.value,l=h.value,r=s.value,a=v.value;return y("div",{ref:c,class:["vxe-rate",{[`size--${r}`]:r,[`theme--${t}`]:t,"is--disabled":n,"is--readonly":o}]},l.map(e=>{const t=a>=e.value;return y("div",{class:["vxe-rte--item",{"is--checked":t}],onMouseenter(t){n||o||((e,t)=>{const n=p.value,o=f.value;if(!n&&!o){const e=t.value;u.activeValue=e}})(0,e)},onMouseleave:S,onClick(t){n||o||E(t,e)}},[y("i",{class:t?Mp().RATE_CHECKED:Mp().RATE_UNCHECKED})])}))},x},render(){return this.renderVN()}}),Zb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,a=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${a}`],field:r.field,title:r.title,itemRender:{}},{default:()=>y(Xb,{modelValue:t?t.getItemValue(r):null,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Qb=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Gh(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Bv,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[y(xh,{title:Qp("vxe.formDesign.widgetProp.name")},{default:()=>y(Gf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})})]})}}}),Jb=Pm({name:"VxeSlider",props:{modelValue:[String,Number,Array],vertical:Boolean,max:{type:[String,Number],default:()=>Rp().slider.max},min:{type:[String,Number],default:()=>Rp().slider.min},step:{type:[String,Number],default:()=>Rp().slider.step},size:{type:String,default:()=>Rp().slider.size||Rp().size},range:{type:Boolean,default:()=>Rp().slider.range},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null}},emits:["update:modelValue","change"],setup(e,t){const{emit:o}=t,l=n("$xeForm",null),a=n("xeFormItemInfo",null),s=np.uniqueId(),{computeSize:c}=ym(e),u=r(),d=r(),p=r(),v=r(),h=r(),b=m({startValue:0,endValue:0}),x={refElem:u},w=g(()=>{const{readonly:t}=e;return null===t?!!l&&l.props.readonly:t}),C=g(()=>{const{disabled:t}=e;return null===t?!!l&&l.props.disabled:t}),S=g(()=>np.toNumber(e.max||0)),E=g(()=>np.toNumber(e.min||0)),D={},T={xID:s,props:e,context:t,reactData:b,getRefMaps:()=>x,getComputeMaps:()=>D},O=(e,t,n)=>{o(e,zp(n,{$slider:T},t))},k={dispatchEvent:O},R=t=>{const{range:n}=e,o=S.value,l=E.value;return n?np.floor((t-l)/np.toNumber(o-l)*100):0},I=(t,n)=>{const{range:o}=e,l=S.value,r=E.value;return np.floor((n-(o?t:0)-r)/np.toNumber(l-r)*100)},P=()=>{const{modelValue:t}=e;if(np.isArray(t)){const[e,n]=np.clone(t,!0).sort();b.startValue=np.floor(np.toNumber(e||0)),b.endValue=np.floor(np.toNumber(n||0))}else b.startValue=0,b.endValue=np.floor(np.toNumber(t||0))},F=()=>{const{startValue:e,endValue:t}=b,n=p.value,o=v.value,l=h.value;let r=0,a=0;e>t?(r=R(t),a=I(t,e)):(r=R(e),a=I(e,t)),n&&(n.style.left=`${r}%`,n.style.width=`${a}%`),o&&(o.style.left=`${r}%`),l&&(l.style.left=`${np.floor(r+a)}%`)},M=t=>{const{range:n}=e,{startValue:r,endValue:i}=b,s=n?[r,i].sort():i;(e=>{o("update:modelValue",e)})(s),O("change",{value:s},t),l&&a&&l.triggerItemEvent(t,a.itemConfig.field,s)},A=(e,t)=>{const n=w.value,o=C.value,l=S.value,r=E.value;n||o||(e.preventDefault(),document.onmousemove=e=>{e.preventDefault();const n=u.value,o=d.value;if(n&&o){const n=o.getBoundingClientRect(),a=(e.clientX-n.left)/n.width;t?b.endValue=np.floor(Math.max(r,Math.min(l,a*(l-r)+r))):b.startValue=np.floor(Math.max(r,Math.min(l,a*(l-r))))}F()},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,M(e),F()})},V=e=>{const t=h.value,n=e.currentTarget;A(e,!!t&&t.offsetLeft<n.offsetLeft)},$=e=>{const t=v.value,n=e.currentTarget;A(e,!t||n.offsetLeft>t.offsetLeft)};Object.assign(T,k,{});return i(()=>e.modelValue,()=>{P()}),f(()=>{F()}),P(),T.renderVN=()=>{const{vertical:t,range:n}=e,o=c.value,l=w.value,r=C.value;return y("div",{ref:u,class:["vxe-slider",{[`size--${o}`]:o,"is--vertical":t,"is--readonly":l,"is--disabled":r}]},[y("div",{class:"vxe-slider--inner"},[y("div",{ref:d,class:"vxe-slider--bar-wrapper"}),y("div",{ref:p,class:"vxe-slider--bar-track"}),l||!n?Rm():y("div",{ref:v,class:"vxe-slider--bar-btn vxe-slider--start-btn",onMousedown:V}),l?Rm():y("div",{ref:h,class:"vxe-slider--bar-btn vxe-slider--end-btn",onMousedown:$})])])},T},render(){return this.renderVN()}}),ex=Pm({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Gh(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,a=o.value;return y(xh,{class:["vxe-form-design--widget-render-form-item",`widget-${a}`],field:r.field,title:r.title,itemRender:{}},{default:()=>y(Jb,{modelValue:t?t.getItemValue(r):null,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}});im.mixin({text:{createFormDesignWidgetConfig:Qh,renderFormDesignWidgetView:(e,t)=>y(eb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Jh,{renderOpts:e,renderParams:t})},title:{createFormDesignWidgetConfig:Qh,renderFormDesignWidgetView:(e,t)=>y(eb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Jh,{renderOpts:e,renderParams:t})},row:{createFormDesignWidgetConfig:e=>{const{$formDesign:t}=e;return{title:Zh,group:"layout",icon:"vxe-icon-row-col",options:{colSize:2,colSpan:"12,12"},children:t?np.range(0,2).map(()=>t.createEmptyWidget()):[]}},renderFormDesignWidgetEdit:(e,t)=>y(lb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetView:(e,t)=>y(rb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(nb,{renderOpts:e,renderParams:t})},subtable:{createFormDesignWidgetConfig:()=>({title:Zh,group:"layout",icon:"vxe-icon-subtable",options:{showCheckbox:!1}}),renderFormDesignWidgetEdit:(e,t)=>y(sb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetView:(e,t)=>y(cb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(ab,{renderOpts:e,renderParams:t})},input:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-input",query:!0,options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>y(db,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(ub,{renderOpts:e,renderParams:t})},textarea:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-textarea",query:!0,options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>y(mb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(pb,{renderOpts:e,renderParams:t})},select:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-select",query:!0,options:{options:np.range(0,3).map((e,t)=>({value:Qp("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])}))}}),renderFormDesignWidgetView:(e,t)=>y(fb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(gb,{renderOpts:e,renderParams:t})},VxeInput:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-input",query:!0,options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>y(hb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(vb,{renderOpts:e,renderParams:t})},VxeNumberInput:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-number",query:!0,options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>y(wb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(bb,{renderOpts:e,renderParams:t})},VxeDatePicker:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-calendar",options:{placeholder:"",defaultValue:{type:"",value:""}}}),renderFormDesignWidgetView:(e,t)=>y(Cb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(yb,{renderOpts:e,renderParams:t})},VxeTextarea:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-textarea",options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>y(Eb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Sb,{renderOpts:e,renderParams:t})},VxeSwitch:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-switch",query:!0,options:{}}),renderFormDesignWidgetView:(e,t)=>y(Tb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Db,{renderOpts:e,renderParams:t})},VxeSelect:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-select",query:!0,options:{placeholder:"",options:np.range(0,3).map((e,t)=>({value:Qp("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])})),multiple:!1}}),renderFormDesignWidgetView:(e,t)=>y(kb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Ob,{renderOpts:e,renderParams:t})},VxeTreeSelect:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-tree-select",query:!0,options:{placeholder:"",options:np.range(0,3).map((e,t)=>({value:Qp("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])})),multiple:!1}}),renderFormDesignWidgetView:(e,t)=>y(Mb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Rb,{renderOpts:e,renderParams:t})},VxeRadioGroup:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-radio-checked",options:{options:np.range(0,3).map((e,t)=>({value:Qp("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])}))}}),renderFormDesignWidgetView:(e,t)=>y(Vb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Ab,{renderOpts:e,renderParams:t})},VxeCheckboxGroup:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-checkbox-checked",options:{options:np.range(0,3).map((e,t)=>({value:Qp("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])}))}}),renderFormDesignWidgetView:(e,t)=>y(Nb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y($b,{renderOpts:e,renderParams:t})},VxeUploadFile:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-file",options:{limitCount:"",limitSize:100,multiple:!1}}),renderFormDesignWidgetView:(e,t)=>y(Gb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(_b,{renderOpts:e,renderParams:t})},VxeUploadImage:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-file-image",options:{limitCount:9,limitSize:10,multiple:!1}}),renderFormDesignWidgetView:(e,t)=>y(Kb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Ub,{renderOpts:e,renderParams:t})},VxeRate:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-star",query:!0,options:{}}),renderFormDesignWidgetView:(e,t)=>y(Zb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Yb,{renderOpts:e,renderParams:t})},VxeSlider:{createFormDesignWidgetConfig:()=>({title:Zh,icon:"vxe-icon-slider",query:!0,options:{}}),renderFormDesignWidgetView:(e,t)=>y(ex,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Qb,{renderOpts:e,renderParams:t})}});const tx=Object.assign({},qh,{install(e){e.component(qh.name,qh)}}),nx={useWidgetName:Gh,useWidgetView:function(e){const t=g(()=>{const{renderParams:t}=e;return t.widget}),n=g(()=>{const{renderParams:t}=e;return t.isEditMode||!1}),o=g(()=>{const{renderParams:t}=e;return t.isViewMode||!1});return{currWidget:t,widgetOptions:g(()=>{const{renderParams:t}=e,{widget:n}=t;return n?n.options:{}}),widgetModel:g({get(){const{renderParams:t}=e,{$formView:n,widget:o}=t;return n?n.getItemValue(o):null},set(t){const{renderParams:n}=e,{$formView:o,widget:l}=n;o&&o.setItemValue(l,t)}}),isEditMode:n,isViewMode:o}},useSubtableView:function(e){const t=g(()=>{const{renderParams:t}=e;return t.widget});return{currColumn:g(()=>{const{renderParams:t}=e;return t.column}),currRow:g(()=>{const{renderParams:t}=e;return t.row}),currWidget:t,widgetOptions:g(()=>{const{renderParams:t}=e,{widget:n}=t;return n?n.options:{}}),cellModel:g({get(){const{renderParams:t}=e,{row:n,column:o}=t;return np.get(n,o.field)},set(t){const{renderParams:n}=e,{row:o,column:l}=n;return np.set(o,l.field,t)}})}},useWidgetPropDataSource:Xh};Am.use(tx),Im.component(qh),Im.formDesignHandle=nx,Im.formDesign=nx;const ox=tx,lx=Object.assign({},Ih,{name:"VxeFormGather"}),rx=Object.assign(lx,{install(e){e.component(lx.name,lx)}});Am.use(rx),Im.component(lx);const ax=rx,ix=Object.assign(Ih,{install(e){e.component(Ih.name,Ih)}});Am.use(ix),Im.component(Ih);const sx=ix,cx=Object.assign(xh,{install(e){e.component(xh.name,xh)}});Am.use(cx),Im.component(xh);const ux=cx,dx=Object.assign(Ph,{install:function(e){e.component(Ph.name,Ph)}});Am.use(dx),Im.component(Ph);const px=dx,mx=Object.assign({},kv,{install(e){e.component(kv.name,kv)}});Am.use(mx),Im.component(kv);const gx=mx,fx=Pm({name:"VxeIconPicker",props:{modelValue:String,placeholder:String,clearable:Boolean,size:{type:String,default:()=>Rp().iconPicker.size||Rp().size},className:[String,Function],popupClassName:[String,Function],showIconTitle:{type:Boolean,default:()=>Rp().iconPicker.showIconTitle},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},icons:Array,placement:String,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","click"],setup(e,o){const{emit:l}=o,a=n("$xeModal",null),s=n("$xeDrawer",null),c=n("$xeTable",null),u=n("$xeForm",null),d=n("xeFormItemInfo",null),p=np.uniqueId(),{computeSize:h}=ym(e),x=m({initialized:!1,selectIcon:`${e.modelValue||""}`,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),w={},C=r(),E=r(),D=r(),T={refElem:C},O={xID:p,props:e,context:o,reactData:x,getRefMaps:()=>T};let k={};const R=g(()=>{const{readonly:t}=e;return null===t?!!u&&u.props.readonly:t}),I=g(()=>{const{disabled:t}=e;return null===t?!!u&&u.props.disabled:t}),P=g(()=>{const{transfer:t}=e;if(null===t){const e=Rp().iconPicker.transfer;if(np.isBoolean(e))return e;if(c||a||s||u)return!0}return t}),F=g(()=>{const{placeholder:t}=e;if(t)return Ng(t);const n=Rp().select.placeholder;return n?Ng(n):Qp("vxe.base.pleaseSelect")}),M=g(()=>{let{icons:t}=e;return t&&t.length||(t=Rp().iconPicker.icons||[]),t.map(e=>np.isString(e)?{title:e,icon:`vxe-icon-${`${e||""}`.replace(/^vxe-icon-/,"")}`}:{title:`${e.title||""}`,icon:e.icon||""})}),A=g(()=>{const e=M.value;return np.chunk(e,4)}),V=()=>t().then(()=>{const{placement:n}=e,{panelIndex:o}=x,l=C.value,r=D.value,a=P.value;if(r&&l){const e=l.offsetHeight,i=l.offsetWidth,s=r.offsetHeight,c=r.offsetWidth,u=5,d={zIndex:o},{boundingTop:p,boundingLeft:m,visibleHeight:g,visibleWidth:f}=ug(l);let v="bottom";if(a){let t=m,o=p+e;"top"===n?(v="top",o=p-s):n||(o+s+u>g&&(v="top",o=p-s),o<u&&(v="bottom",o=p+e)),t+c+u>f&&(t-=t+c+u-f),t<u&&(t=u),Object.assign(d,{left:`${t}px`,top:`${o}px`,minWidth:`${i}px`})}else"top"===n?(v="top",d.bottom=`${e}px`):n||p+e+s>g&&p-e-s>u&&(v="top",d.bottom=`${e}px`);return x.panelStyle=d,x.panelPlacement=v,t()}}),$=()=>{const{hpTimeout:e}=w;I.value||(e&&(clearTimeout(e),w.hpTimeout=void 0),x.initialized||(x.initialized=!0),x.isActivated=!0,x.isAniVisible=!0,setTimeout(()=>{x.visiblePanel=!0},10),x.panelIndex<Vg()&&(x.panelIndex=Ag()),V())},N=()=>{x.visiblePanel=!1,w.hpTimeout=setTimeout(()=>{x.isAniVisible=!1},350)},L=(t,n)=>{x.selectIcon=n,n!==e.modelValue&&(l("update:modelValue",n),K("change",{value:n},t),u&&d&&u.triggerItemEvent(t,d.itemConfig.field,n))},_=()=>{I.value||x.visiblePanel||$()},B=()=>{x.isActivated=!1},z=(e,t)=>{L(e,t),K("clear",{value:t},e)},j=(e,t)=>{z(t,null),N()},H=e=>{(e=>{e.preventDefault(),x.visiblePanel?N():$()})(e),K("click",{},e)},W=e=>{const{visiblePanel:t}=x;if(!I.value&&t){sg(e,D.value).flag?V():N()}},q=e=>{const{visiblePanel:t}=x;if(!I.value){const n=C.value,o=D.value;x.isActivated=sg(e,n).flag||sg(e,o).flag,t&&!x.isActivated&&N()}},G=t=>{const{clearable:n}=e,{visiblePanel:o}=x;if(!I.value){const e=jp.hasKey(t,Ap.TAB),l=jp.hasKey(t,Ap.ENTER),r=jp.hasKey(t,Ap.ESCAPE),a=jp.hasKey(t,Ap.ARROW_UP),i=jp.hasKey(t,Ap.ARROW_DOWN),s=jp.hasKey(t,Ap.DELETE),c=jp.hasKey(t,Ap.SPACEBAR);e&&(x.isActivated=!1),o?r||e?N():l?(t.preventDefault(),t.stopPropagation()):(a||i||c)&&t.preventDefault():(a||i||l||c)&&x.isActivated&&(t.preventDefault(),$()),x.isActivated&&s&&n&&z(t,null)}},U=()=>{N()},K=(e,t,n)=>{l(e,zp(n,{$iconPicker:O},t))};k={dispatchEvent:K,isPanelVisible:()=>x.visiblePanel,togglePanel:()=>(x.visiblePanel?N():$(),t()),hidePanel:()=>(x.visiblePanel&&N(),t()),showPanel:()=>(x.visiblePanel||$(),t()),focus(){const e=E.value;return x.isActivated=!0,e&&e.blur(),t()},blur(){const e=E.value;return e&&e.blur(),x.isActivated=!1,t()}};Object.assign(O,k);const Y=()=>{const{showIconTitle:t}=e,n=A.value,o=I.value;return y("div",{class:"vxe-ico-picker--list-wrapper"},n.map(e=>y("div",{class:"vxe-ico-picker--list"},e.map(e=>y("div",{class:"vxe-ico-picker--item",onClick(t){o||((e,t)=>{const n=t.icon;L(e,n),N()})(t,e)}},[y("div",{class:"vxe-ico-picker--item-icon"},[y("i",{class:e.icon||""})]),t?y("div",{class:"vxe-ico-picker--item-title"},`${e.title||""}`):Rm()])))))};return i(()=>e.modelValue,e=>{x.selectIcon=`${e||""}`}),f(()=>{jp.on(O,"mousewheel",W),jp.on(O,"mousedown",q),jp.on(O,"keydown",G),jp.on(O,"blur",U)}),v(()=>{jp.off(O,"mousewheel"),jp.off(O,"mousedown"),jp.off(O,"keydown"),jp.off(O,"blur")}),b("$xeIconPicker",O),O.renderVN=()=>{const{className:t,popupClassName:n,clearable:o}=e,{initialized:l,isActivated:r,isAniVisible:a,visiblePanel:i,selectIcon:s}=x,c=h.value,u=I.value,d=P.value,p=R.value,m=F.value;return p?y("div",{ref:C,class:["vxe-ico-picker--readonly",t]},[y("i",{class:s})]):y("div",{ref:C,class:["vxe-ico-picker",t?np.isFunction(t)?t({$iconPicker:O}):t:"",{[`size--${c}`]:c,"show--clear":o&&!u&&!!s,"is--visible":i,"is--disabled":u,"is--active":r}]},[y("div",{class:"vxe-ico-picker--inner",onClick:H},[y("input",{ref:E,class:"vxe-ico-picker--input",onFocus:_,onBlur:B}),s?y("div",{class:"vxe-ico-picker--icon"},[y("i",{class:s})]):y("div",{class:"vxe-ico-picker--placeholder"},m),y("div",{class:"vxe-ico-picker--suffix"},[y("div",{class:"vxe-ico-picker--clear-icon",onClick:j},[y("i",{class:Mp().INPUT_CLEAR})]),y("div",{class:"vxe-ico-picker--suffix-icon"},[y("i",{class:i?Mp().ICON_PICKER_OPEN:Mp().ICON_PICKER_CLOSE})])])]),y(S,{to:"body",disabled:!d||!l},[y("div",{ref:D,class:["vxe-table--ignore-clear vxe-ico-picker--panel",n?np.isFunction(n)?n({$iconPicker:O}):n:"",{[`size--${c}`]:c,"is--transfer":d,"ani--leave":a,"ani--enter":i}],placement:x.panelPlacement,style:x.panelStyle},[l&&(i||a)?y("div",{class:"vxe-ico-picker--panel-wrapper"},[Y()]):Rm()])])])},O},render(){return this.renderVN()}}),vx=Object.assign(fx,{install:function(e){e.component(fx.name,fx)}});Am.use(vx),Im.component(fx);const hx=vx,bx=Pm({name:"VxeImagePreview",props:{modelValue:Number,urlList:Array,urlField:{type:String,default:()=>Rp().imagePreview.urlField},maskClosable:{type:Boolean,default:()=>Rp().imagePreview.maskClosable},marginSize:{type:String,default:()=>Rp().imagePreview.marginSize},showPrintButton:{type:Boolean,default:()=>Rp().imagePreview.showPrintButton},showDownloadButton:{type:Boolean,default:()=>Rp().imagePreview.showDownloadButton},toolbarConfig:Object,beforeDownloadMethod:Function,downloadMethod:Function},emits:["update:modelValue","change","download","download-fail","close"],setup(e,t){const{emit:n}=t,o=np.uniqueId(),l=r(),a={refElem:l},c=m({activeIndex:e.modelValue||0,offsetPct11:!1,offsetScale:0,offsetRotate:0,offsetLeft:0,offsetTop:0}),u=g(()=>e.urlField||"url"),d=g(()=>np.toNumber(e.marginSize||0)||16),p=g(()=>Object.assign({},Rp().imagePreview.toolbarConfig,e.toolbarConfig)),h=g(()=>{const{offsetRotate:e}=c;return e?`${e}°`:"0°"}),x=g(()=>{const{offsetScale:e}=c;return e?`${np.ceil(100*(1+e))}%`:"100%"}),w=g(()=>{const{urlList:t}=e,n=u.value;return t&&t.length?t.map(e=>np.isString(e)?e:e[n]?e[n]:""):[]}),C=g(()=>{let{offsetScale:e,offsetRotate:t,offsetLeft:n,offsetTop:o}=c;const l=[];let r=1;if(e&&(r=1+e,l.push(`scale(${r})`)),t&&l.push(`rotate(${t}deg)`),n||o){n/=r,o/=r;let e=n,a=o;if(t)switch(t%360){case 90:case-270:e=o,a=-n;break;case 180:case-180:e=-n,a=-o;break;case 270:case-90:e=-o,a=n}l.push(`translate(${e}px, ${a}px)`)}return l.length?l.join(" "):""}),S={computeImgList:w},E={xID:o,props:e,context:t,reactData:c,getRefMaps:()=>a,getComputeMaps:()=>S},D=(e,t,o)=>{n(e,zp(o,{$imagePreview:E},t))},T={dispatchEvent:D},O=e=>{D("close",{},e)},k=()=>{og(l.value,"is--move"),Object.assign(c,{offsetPct11:!1,offsetScale:0,offsetRotate:0,offsetLeft:0,offsetTop:0})},R=e=>{const{offsetScale:t}=c,n=(()=>{const{offsetScale:e}=c;let t=.02;return e>=-.6&&(t=.04,e>=-.4&&(t=.07,e>=0&&(t=.1,e>=3&&(t=.25,e>=8&&(t=.4,e>=16&&(t=.6,e>=24&&(t=.9,e>=32&&(t=1.3,e>=39&&(t=1.9,e>=45&&(t=2.5)))))))))),t})();c.offsetScale=Number(e?Math.min(49,t+n).toFixed(2):Math.max(-.9,t-n).toFixed(2))},I=e=>{let t=c.activeIndex||0;const o=w.value;var l;e?t>=o.length-1?t=0:t++:t<=0?t=o.length-1:t--,k(),c.activeIndex=t,l=t,c.activeIndex=l,n("update:modelValue",l)},P=e=>{let t=c.offsetRotate;e?t+=90:t-=90,c.offsetRotate=t},F=()=>{const{activeIndex:e}=c,t=w.value[e||0];Im.print&&Im.print({align:"center",pageBreaks:[{bodyHtml:`<img src="${t}" style="max-width:100%;max-height:100%;">`}]})},M=(e,t)=>{D("download",{url:t},e)},A=t=>{const{activeIndex:n}=c,o=p.value.download,l=np.isBoolean(o)?{}:o?Object.assign({},o):{},r=w.value[n||0],a=e.beforeDownloadMethod||l.beforeDownloadMethod||Rp().imagePreview.beforeDownloadMethod,i=e.downloadMethod||l.downloadMethod||Rp().imagePreview.downloadMethod;Promise.resolve(!a||a({$imagePreview:E,url:r,index:n||0})).then(e=>{e&&(i?Promise.resolve(i({$imagePreview:E,url:r,index:n||0})).then(()=>{M(t,r)}).catch(e=>e):((e,t)=>{Im.saveFile&&fetch(t).then(n=>n.blob().then(n=>{Im.saveFile({filename:t,content:n}),M(e,t)})).catch(()=>{Im.modal&&Im.modal.message({content:Qp("vxe.error.downErr"),status:"error"})})})(t,r))})},V=(e,t)=>{const{activeIndex:n}=c;if(w.value[n||0])switch(t){case"zoomOut":R(!1);break;case"zoomIn":R(!0);break;case"pctFull":k();break;case"pct11":k(),c.offsetPct11=!0;break;case"rotateLeft":P(!1);break;case"rotateRight":P(!0);break;case"print":F();break;case"download":A(e)}},$=e=>{const t=e.deltaY;t>0?R(!1):t<0&&R(!0)},N=e=>{const t=rg(e),n=e.shiftKey,o=jp.hasKey(e,Ap.ARROW_UP),l=jp.hasKey(e,Ap.ARROW_DOWN),r=jp.hasKey(e,Ap.ARROW_LEFT),a=jp.hasKey(e,Ap.ARROW_RIGHT),i=jp.hasKey(e,Ap.R),s=jp.hasKey(e,Ap.P);o?(e.preventDefault(),n?c.offsetTop-=1:R(!0)):l?(e.preventDefault(),n?c.offsetTop+=1:R(!1)):r?(e.preventDefault(),n?c.offsetLeft-=1:I(!1)):a?(e.preventDefault(),n?c.offsetLeft+=1:I(!0)):i&&t?(e.preventDefault(),P(!n)):s&&t&&(e.preventDefault(),F())},L=t=>{e.maskClosable&&t.target===t.currentTarget&&D("close",{},t)};Object.assign(E,T,{});const _=()=>{const{activeIndex:e}=c,t=w.value,n=C.value;return y("div",{class:"vxe-image-preview--img-list",onClick:L},t.map((t,o)=>{const r=e===o;return y("img",{class:["vxe-image-preview--img-item",{"is--active":r}],src:t,style:r?{transform:n}:null,onMousedown(e){(e=>{const{offsetTop:t,offsetLeft:n}=c,o=l.value;e.preventDefault();const r=document.onmousemove,a=document.onmouseup,i=e.pageX,s=e.pageY,u=d.value;document.onmousemove=e=>{const{pageX:l,pageY:r}=e,{visibleHeight:a,visibleWidth:d}=ig();e.preventDefault(),lg(o,"is--move"),l>u&&r>u&&l<d-u&&r<a-u&&(c.offsetLeft=n+l-i,c.offsetTop=t+r-s)},document.onmouseup=()=>{document.onmousemove=r,document.onmouseup=a,og(o,"is--move")}})(e)}})}))},B=(e,t)=>{const n=p.value[e],o=np.isBoolean(n)?{}:n?Object.assign({},n):{};return!1!==n?y("div",{class:"vxe-image-preview--operation-btn",title:Qp(`vxe.imagePreview.operBtn.${e}`),onClick(t){V(t,e)}},[y("i",{class:o.icon||Mp()[t]})]):Rm()},z=()=>{const{showPrintButton:t,showDownloadButton:n}=e,{activeIndex:o}=c,l=w.value,r=h.value,a=x.value,i=p.value;return y("div",{class:"vxe-image-preview--btn-wrapper"},[y("div",{class:"vxe-image-preview--close-wrapper"},[y("div",{class:"vxe-image-preview--close-btn",onClick:O},[y("i",{class:Mp().IMAGE_PREVIEW_CLOSE})]),y("div",{class:"vxe-image-preview--close-bg"})]),l.length>1?y("div",{class:"vxe-image-preview--previous-btn",onClick(){I(!1)}},[y("i",{class:Mp().IMAGE_PREVIEW_PREVIOUS})]):Rm(),l.length>1?y("div",{class:"vxe-image-preview--next-btn",onClick(){I(!0)}},[y("i",{class:Mp().IMAGE_PREVIEW_NEXT})]):Rm(),y("div",{class:"vxe-image-preview--operation-info"},[y("div",{class:"vxe-image-preview--operation-deg"},r),y("div",{class:"vxe-image-preview--operation-pct"},a)]),y("div",{class:"vxe-image-preview--operation-wrapper"},[y("div",{class:"vxe-image-preview--operation-active-count"},[y("span",{class:"vxe-image-preview--operation-active-current"},`${(o||0)+1}`),y("span",{class:"vxe-image-preview--operation-active-total"},`/${l.length}`)]),B("zoomOut","IMAGE_PREVIEW_ZOOM_OUT"),B("zoomIn","IMAGE_PREVIEW_ZOOM_IN"),B("pctFull","IMAGE_PREVIEW_PCT_FULL"),B("pct11","IMAGE_PREVIEW_PCT_1_1"),B("rotateLeft","IMAGE_PREVIEW_ROTATE_LEFT"),B("rotateRight","IMAGE_PREVIEW_ROTATE_RIGHT"),t||i.print?B("print","IMAGE_PREVIEW_PRINT"):Rm(),n||i.download?B("download","IMAGE_PREVIEW_DOWNLOAD"):Rm()])])},j=()=>{const{offsetPct11:e}=c;return y("div",{ref:l,class:["vxe-image-preview",{"is--pct11":e}],onWheel:$},[_(),z()])};return i(()=>e.modelValue,e=>{c.activeIndex=e,k()}),f(()=>{jp.on(E,"keydown",N)}),s(()=>{const e=l.value;e&&og(e,"is--move")}),v(()=>{jp.off(E,"keydown")}),b("$xeImagePreview",E),E.renderVN=j,j}}),xx=e=>{if(Im.modal){const t=Object.assign({escClosable:!0},e),{urlList:n,activeIndex:o}=t,l=np.uniqueId("image-preview");Im.modal.open({id:l,title:"预览",width:"100%",height:"100%",showHeader:!1,showFooter:!1,padding:!1,escClosable:t.escClosable,className:"vxe-image-preview-popup-wrapper",slots:{default:()=>y(bx,{modelValue:o,urlList:n,urlField:t.urlField,marginSize:t.marginSize,maskClosable:t.maskClosable,toolbarConfig:t.toolbarConfig,showPrintButton:t.showPrintButton,showDownloadButton:t.showDownloadButton,beforeDownloadMethod:t.beforeDownloadMethod,downloadMethod:t.downloadMethod,onClose(){Im.modal.close(l)}})}})}return Promise.resolve()},wx=Pm({name:"VxeImage",props:{src:[String,Array],alt:[String,Number],loading:String,title:[String,Number],width:[String,Number],height:[String,Number],circle:Boolean,maskClosable:{type:Boolean,default:()=>Rp().image.maskClosable},toolbarConfig:Object,showPreview:{type:Boolean,default:()=>Rp().image.showPreview},showPrintButton:{type:Boolean,default:()=>Rp().image.showPrintButton},showDownloadButton:{type:Boolean,default:()=>Rp().image.showDownloadButton},size:{type:String,default:()=>Rp().image.size||Rp().size}},emits:["click"],setup(e,t){const{emit:o}=t,l=np.uniqueId(),a=n("$xeImageGroup",null),i=r(),{computeSize:s}=ym(e),c=m({}),u={refElem:i},d=g(()=>{const{width:t,height:n}=e,o={};return t&&n?(o.maxWidth=ag(t),o.maxHeight=ag(n)):(t&&(o.width=ag(t)),n&&(o.height=ag(n))),o}),p=g(()=>{const{src:t}=e;return t?(np.isArray(t)?t:[t]).map(e=>np.isString(e)?{url:e,alt:""}:{url:e.url,alt:e.alt}):[]}),f=g(()=>p.value[0]),v=g(()=>{const e=f.value;return e?`${e.url||""}`:""}),h={computeSize:s},b={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>h},x={dispatchEvent(e,t,n){o(e,zp(n,{$image:b},t))}},w=t=>{const{showPreview:n,toolbarConfig:o,showPrintButton:l,showDownloadButton:r,maskClosable:i}=e,s=p.value,c=v.value;a?a.handleClickImgEvent(t,{url:c}):(n&&c&&xx({urlList:s,toolbarConfig:o,showPrintButton:l,showDownloadButton:r,maskClosable:i}),x.dispatchEvent("click",{url:c},t))};Object.assign(b,x,{});return b.renderVN=()=>{const{alt:t,loading:n,circle:o}=e,l=d.value,r=v.value,a=s.value;return y("img",{ref:i,class:["vxe-image",{[`size--${a}`]:a,"is--circle":o}],src:r,alt:t,loading:n,style:l,onClick:w})},b},render(){return this.renderVN()}}),yx=Object.assign({},wx,{install(e){e.component(wx.name,wx)}});Am.use(yx),Im.component(wx);const Cx=yx,Sx=Pm({name:"VxeImageGroup",props:{urlList:[Array,String],showPreview:{type:Boolean,default:()=>Rp().imageGroup.showPreview},imageStyle:Object,size:{type:String,default:()=>Rp().imageGroup.size||Rp().size},toolbarConfig:Object,showPrintButton:{type:Boolean,default:()=>Rp().imageGroup.showPrintButton},showDownloadButton:{type:Boolean,default:()=>Rp().imageGroup.showDownloadButton}},emits:["click"],setup(e,t){const{emit:n}=t,o=np.uniqueId(),{computeSize:l}=ym(e),r=g(()=>{const{urlList:t}=e;return t?(np.isArray(t)?t:[t]).map(e=>np.isString(e)?{url:e,alt:""}:{url:e.url,alt:e.alt}):[]}),a=g(()=>Object.assign({},Rp().imageGroup.imageStyle,e.imageStyle)),i={computeSize:l},s={xID:o,props:e,context:t,getComputeMaps:()=>i},c={dispatchEvent(e,t,o){n(e,zp(o,{$imageGroup:s},t))}},u={handleClickImgEvent(t,n){const{showPreview:o,toolbarConfig:l,showPrintButton:a,showDownloadButton:i}=e,{url:s}=n,u=r.value;o&&s&&xx({activeIndex:Math.max(0,np.findIndexOf(u,e=>e.url===s)),urlList:u,toolbarConfig:l,showPrintButton:a,showDownloadButton:i}),c.dispatchEvent("click",{url:s,urlList:u},t)}};Object.assign(s,c,u);return s.renderVN=()=>{const e=r.value,t=l.value,n=a.value;return y("div",{class:["vxe-image-group",{[`size--${t}`]:t}]},e?e.map((e,t)=>y(wx,{key:t,src:e.url,alt:e.alt,width:n.width,height:n.height})):[])},b("$xeImageGroup",s),s},render(){return this.renderVN()}}),Ex=Object.assign({},Sx,{install(e){e.component(Sx.name,Sx)}});Am.use(Ex),Im.component(Sx);const Dx=Ex,Tx=Object.assign(bx,{install(e){e.component(bx.name,bx),Im.previewImage=xx}});Am.use(Tx),Im.component(bx);const Ox=Tx,kx=Object.assign(Gf,{install(e){e.component(Gf.name,Gf)}});Am.use(kx),Im.component(Gf);const Rx=kx,Ix=Pm({name:"VxeLayoutAside",props:{width:[String,Number],collapsed:Boolean,collapseWidth:[String,Number],loading:Boolean,padding:Boolean,size:{type:String,default:()=>Rp().layoutAside.size||Rp().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId(),a=r(),{computeSize:i}=ym(e),s=m({}),c={refElem:a},u=g(()=>{const{width:t,collapsed:n,collapseWidth:o}=e;if(n){if(o)return ag(o)}else if(t)return ag(t);return""}),d={computeSize:i},p={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>d},f={dispatchEvent:(e,t,n)=>{o(e,zp(n,{$layoutAside:p},t))}};Object.assign(p,f,{});return b("$xeLayoutAside",p),p.renderVN=()=>{const{width:t,collapsed:o,loading:l,padding:r}=e,s=u.value,c=i.value,d=n.default;return y("aside",{ref:a,class:["vxe-layout-aside",{[`size--${c}`]:c,"is--padding":r,"is--default-width":!t,"is--collapse":o,"is--loading":l}],style:s?{width:s}:null},[y("div",{class:"vxe-layout-aside--inner"},d?d({}):[]),y(af,{class:"vxe-list-view--loading",modelValue:l})])},p},render(){return this.renderVN()}}),Px=Object.assign({},Ix,{install(e){e.component(Ix.name,Ix)}});Am.use(Px),Im.component(Ix);const Fx=Px,Mx=Pm({name:"VxeLayoutBody",props:{loading:Boolean,padding:Boolean,size:{type:String,default:()=>Rp().layoutBody.size||Rp().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId(),a=r(),{computeSize:i}=ym(e),s=m({}),c={refElem:a},u={computeSize:i},d={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p={dispatchEvent:(e,t,n)=>{o(e,zp(n,{$layoutBody:d},t))}};Object.assign(d,p,{});return d.renderVN=()=>{const{loading:t,padding:o}=e,l=i.value,r=n.default;return y("div",{ref:a,class:["vxe-layout-body",{[`size--${l}`]:l,"is--loading":t,"is--padding":o}]},[y("div",{class:"vxe-layout-body--inner"},r?r({}):[]),y(af,{class:"vxe-list-view--loading",modelValue:t})])},d},render(){return this.renderVN()}}),Ax=Object.assign({},Mx,{install(e){e.component(Mx.name,Mx)}});Am.use(Ax),Im.component(Mx);const Vx=Ax,$x=Pm({name:"VxeLayoutContainer",props:{vertical:Boolean,size:{type:String,default:()=>Rp().layoutContainer.size||Rp().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId(),a=r(),{computeSize:i}=ym(e),s=m({}),c={refElem:a},u={computeSize:i},d={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p={dispatchEvent:(e,t,n)=>{o(e,zp(n,{$layoutContainer:d},t))}};Object.assign(d,p,{});return d.renderVN=()=>{const{vertical:t}=e,o=i.value,l=n.default;return y("div",{ref:a,class:["vxe-layout-container",{[`size--${o}`]:o,"is--vertical":t}]},l?l({}):[])},d},render(){return this.renderVN()}}),Nx=Object.assign({},$x,{install(e){e.component($x.name,$x)}});Am.use(Nx),Im.component($x);const Lx=Nx,_x=Pm({name:"VxeLayoutFooter",props:{fixed:Boolean,align:String},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent:(e,t,n)=>{o(e,zp(n,{$layoutFooter:u},t))}};Object.assign(u,d,{});return u.renderVN=()=>{const{fixed:t,align:o}=e,l=n.default;return y("footer",{ref:a,class:["vxe-layout-footer",o?`align--${o}`:"",{"is--fixed":t}]},l?l({}):[])},u},render(){return this.renderVN()}}),Bx=Object.assign({},_x,{install(e){e.component(_x.name,_x)}});Am.use(Bx),Im.component(_x);const zx=Bx,jx=Pm({name:"VxeLayoutHeader",props:{fixed:Boolean},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent:(e,t,n)=>{o(e,zp(n,{$layoutHeader:u},t))}};Object.assign(u,d,{});return u.renderVN=()=>{const{fixed:t}=e,o=n.default;return y("header",{ref:a,class:["vxe-layout-header",{"is--fixed":t}]},o?o({}):[])},u},render(){return this.renderVN()}}),Hx=Object.assign({},jx,{install(e){e.component(jx.name,jx)}});Am.use(Hx),Im.component(jx);const Wx=Hx,qx=Pm({name:"VxeLink",props:{href:String,target:String,status:String,title:[String,Number],icon:String,routerLink:Object,underline:{type:Boolean,default:()=>Rp().link.underline},permissionCode:[String,Number],content:[String,Number],size:{type:String,default:()=>Rp().link.size||Rp().size}},emits:["click"],setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId(),{computeSize:a}=ym(e),{computePermissionInfo:i}=Cm(e),s=r(),c=m({}),u={refElem:s},d={},p={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},g=(e,t,n)=>{o(e,zp(n,{$link:p},t))},f={dispatchEvent:g},v=e=>{g("click",{},e)};Object.assign(p,f,{});const h=()=>{const{icon:t,content:o}=e,l=n.default,r=n.icon,a=np.toValueString(o);return[r||t?y("span",{class:"vxe-link--icon"},r?Gm(r({})):[y("i",{class:t})]):Rm(),l||a?y("span",{class:"vxe-link--content"},l?l({}):a):Rm()]};return p.renderVN=()=>{const{status:t,target:n,href:o,title:l,underline:r,routerLink:c}=e,u=i.value,d=a.value;return u.visible?c?y(C("router-link"),{class:["vxe-link",{[`size--${d}`]:d,[`theme--${t}`]:t,"is--underline":r}],title:l,target:n,to:c,onClick:v},{default:()=>h()}):y("a",{ref:s,class:["vxe-link",{[`size--${d}`]:d,[`theme--${t}`]:t,"is--underline":r}],href:o,target:n,title:l,onClick:v},h()):Rm()},p},render(){return this.renderVN()}}),Gx=Object.assign({},qx,{install(e){e.component(qx.name,qx)}});Am.use(Gx),Im.component(qx);const Ux=Gx,Kx=e=>Object.assign({name:"",icon:"",type:"",classify:"",code:"",status:"",permissionCode:""},e),Yx=Pm({name:"ListDesignLayoutView",props:{},emits:[],setup(){const e=Im.getComponent("VxeGrid"),o=n("$xeListDesign",null);if(!o)return()=>[];const{reactData:l}=o,a=r(),s=r([]),c=g(()=>{const{searchFormItems:e}=l;return e.length?e.concat([{field:"active",title:"",folding:!1,collapseNode:e.some(e=>e.folding),itemRender:{name:"VxeButtonGroup",options:[{content:"查询",icon:"vxe-icon-search",status:"primary",type:"submit"},{content:"重置",icon:"vxe-icon-repeat",type:"reset"}]}}]):e}),u=g(()=>{const{formData:e,listTableColumns:t}=l,{showSeq:n,actionButtonList:o}=e,r=[];return n&&r.push({type:"seq",field:"_seq",width:70}),t.forEach(e=>{r.push({field:e.field,title:e.title,visible:e.visible,width:e.width})}),o&&o.length&&r.push({field:"_active",title:Qp("vxe.table.actionTitle"),fixed:"right",width:"auto",cellRender:{name:"VxeButtonGroup",options:[]}}),r}),d=({column:e,resizeWidth:t})=>{const{listTableColumns:n}=l,o=np.findTree(n,t=>t.field===e.field,{children:"children"});if(o){const{item:e}=o;e.width=t}},p=()=>{const{listTableColumns:e}=l,t=[{},{}];t.forEach(t=>{e.forEach(e=>{t[e.field]="-"})}),s.value=t},m=r(0);return i(()=>l.listTableColumns?l.listTableColumns.length:-1,()=>{m.value++}),i(()=>l.listTableColumns,()=>{m.value++}),i(m,()=>{p()}),f(()=>{p()}),t(()=>{e||Lm("vxe.error.reqComp",["vxe-grid"])}),()=>{const{searchFormData:t,searchFormItems:n}=l,o=c.value,r=u.value;return y("div",{class:"vxe-list-design--preview"},[y("div",{class:"vxe-list-design--preview-wrapper"},[y("div",{class:"vxe-list-design--preview-search"},[y("div",{class:"vxe-list-design--preview-title"},Qp("vxe.listDesign.searchTitle")),n.length?y(Bv,{data:t,items:o}):y("div",{class:"vxe-list-design--field-configs-empty-data"},[y("span",{},Qp("vxe.listDesign.search.emptyText"))])]),y("div",{class:"vxe-list-design--preview-table"},[y("div",{class:"vxe-list-design--preview-title"},Qp("vxe.listDesign.listTitle")),e?y(e,{ref:a,columns:r,data:s.value,showOverflow:!0,border:!0,columnConfig:{minWidth:"auto",resizable:!0},rowConfig:{isHover:!0},scrollX:{enabled:!1},scrollY:{enabled:!1},onResizableChange:d}):x()])])])}}}),Xx=r({}),Zx=Pm({name:"DefaultFieldSettingForm",props:{},emits:[],setup(){const e=n("$xeListDesign",null);if(!e)return()=>[];const{reactData:t}=e,o=r(!1),l=r(!1),a=e=>{e.visible=!e.visible,t.listTableColumns=t.listTableColumns.slice(0)},i=()=>{const{listTableColumns:n,searchFormItems:a}=t,i=Xx.value,s=[];n.forEach(e=>{const{cellRender:t}=e;if(t){const n=a.find(t=>t.field===e.field),o=t.name||"";let l=i[o];if(!l){const e=im.get(o);if(e){const t=e.createFormDesignWidgetConfig;if(t){l=t({name:o,$formDesign:null})||{},i[o]=l}}}l.query&&s.push(Object.assign(Object.assign({},e),{checked:!!n,isHalf:!1,folding:!!n&&!!n.folding}))}}),Xx.value=Object.assign({},i);const c=r(s),u=()=>{const e=c.value;o.value=e.every(e=>e.checked),l.value=!o.value&&e.some(e=>e.checked||e.isHalf)},d=e=>{const t=c.value,n=np.findTree(t,t=>t===e);if(n&&n.parent){const{parent:e}=n;e.children&&e.children.length&&(e.checked=e.children.every(e=>e.checked),e.isHalf=!e.checked&&e.children.some(e=>e.checked||e.isHalf),d(e))}},p=()=>{const e=c.value,t=!o.value;np.eachTree(e,e=>{e.checked=t,e.isHalf=!1}),o.value=t,u()};Im.modal.open({title:Qp("vxe.listDesign.search.editPopupTitle"),width:680,height:500,showFooter:!0,escClosable:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:Qp("vxe.listDesign.searchPopup.saveBtn"),showZoom:!0,resize:!0,onConfirm:()=>{const t=c.value,n=[];t.forEach(e=>{e.checked&&n.push({field:e.field,title:e.title,folding:e.folding,itemRender:Object.assign({},e.cellRender)})}),e.setSearchItems(n)},slots:{default(){const e=o.value,t=l.value,n=c.value;return y("div",{class:"vxe-list-design--field-search-popup"},[y("table",{},[y("colgroup",{},[y("col",{style:{width:"80px"}}),y("col")]),y("thead",{},[y("th",{},[y("div",{class:["vxe-list-design--field-search-checkbox-option",{"is--checked":e,"is--indeterminate":t}],title:Qp("vxe.table.allTitle"),onClick:p},[y("span",{class:["vxe-checkbox--icon",t?Mp().CHECKBOX_INDETERMINATE:e?Mp().CHECKBOX_CHECKED:Mp().CHECKBOX_UNCHECKED]}),y("span",{class:"vxe-checkbox--label"},Qp("vxe.toolbar.customAll"))])]),y("th",{},Qp("vxe.listDesign.searchPopup.colTitle"))]),y("tbody",{},n.map(e=>{const t=e.checked,n=e.isHalf;return y("tr",{},[y("td",{class:"vxe-list-design--field-search-option-item col--visible"},[y("div",{class:["vxe-list-design--field-search-checkbox-option",{"is--checked":t,"is--indeterminate":n}],title:Qp("vxe.custom.setting.colVisible"),onClick:()=>{(e=>{const t=!e.checked;np.eachTree([e],e=>{e.checked=t,e.isHalf=!1}),d(e),u()})(e)}},[y("span",{class:["vxe-checkbox--icon",n?Mp().CHECKBOX_INDETERMINATE:t?Mp().CHECKBOX_CHECKED:Mp().CHECKBOX_UNCHECKED]})])]),y("td",{class:"vxe-list-design--field-search-option-item"},`${e.title||""}`)])}))])])}}})},s=e=>{const{children:t}=e;return t&&t.length?y("div",{class:"vxe-list-design--field-option-inner"},[y("div",{class:"vxe-list-design--field-sub-option",onClick(){a(e)}},t.map(e=>{const{title:t,visible:n}=e;return y("div",{class:["vxe-list-design--field-checkbox-option",{"is--checked":n}],onClick(){a(e)}},[y("span",{class:["vxe-checkbox--icon",n?Mp().CHECKBOX_CHECKED:Mp().CHECKBOX_UNCHECKED]}),y("span",{class:"vxe-checkbox--label"},`${t}`)])}))]):x()};return()=>y(Bv,{span:24,vertical:!0,titleBold:!0},{default:()=>[y(xh,{title:Qp("vxe.listDesign.searchField")},{extra:()=>y(zg,{mode:"text",status:"primary",icon:Mp().FORM_DESIGN_PROPS_EDIT,content:Qp("vxe.listDesign.search.addBtn"),onClick:i}),default(){const{searchFormItems:e}=t;return[e.length?y("div",{class:"vxe-list-design--search-item-wrapper"},[y("div",{class:"vxe-list-design--search-item-list"},e.map(e=>y("div",{key:e.field,class:"vxe-list-design--search-item"},[y("div",{class:"vxe-list-design--search-item-title"},`${e.title||""}`),y("div",{class:"vxe-list-design--search-item-btn"},[y(zg,{icon:Mp().LIST_DESIGN_LIST_SETTING_SEARCH_DELETE,mode:"text",status:"error",onClick(){(e=>{const{searchFormItems:n}=t;t.searchFormItems=n.filter(t=>t.field!==e.field)})(e)}})])])))]):y("div",{class:"vxe-list-design--field-configs-empty-data"},[y("span",{},Qp("vxe.listDesign.search.emptyText"))])]}}),y(xh,{title:Qp("vxe.listDesign.listField")},{default:()=>(()=>{const{listTableColumns:e}=t;return e.map(e=>{const{title:t,visible:n}=e;return y("div",{class:"vxe-list-design--field-option"},[y("div",{class:"vxe-list-design--field-option-inner"},[y("div",{class:["vxe-list-design--field-checkbox-option",{"is--checked":n}],onClick(){a(e)}},[y("span",{class:["vxe-checkbox--icon",n?Mp().CHECKBOX_CHECKED:Mp().CHECKBOX_UNCHECKED]}),y("span",{class:"vxe-checkbox--label"},`${t}`)])]),s(e)])})})()})]})}}),Qx=Pm({name:"DefaultListSettingTabComponent",props:{},emits:[],setup(){const e=n("$xeListDesign",null);if(!e)return()=>[];const{props:t,reactData:o}=e,l=[],a=[];im.forEach((e,t)=>{const{createListDesignSettingActionButtonConfig:n}=e;if(n){const e={name:t},o=Object.assign(Kx({code:t}),n(e));"custom"===o.type?a.push(o):l.push(o)}});const i=r([{label:"列表视图",value:"list",isExpand:!1}]),s=r([{label:"显示",value:!0},{label:"隐藏",value:!1}]),c=r([{label:"默认",value:"auto"},{label:"允许",value:!0},{label:"不允许",value:!1}]),u=g(()=>{const{formData:e}=o;return[e.listView.enabled,e.ganttView.enabled,e.chartView.enabled].filter(e=>e).length<=1}),d=()=>y(xh,{title:"功能按钮"},{extra:()=>y(zg,{mode:"text",status:"primary",icon:Mp().FORM_DESIGN_PROPS_ADD,content:"新增",onClick(){(e=>{const{formData:n}=o,{actionCodes:i}=t;let s=n.actionButtonList;s||(s=[]);const c=m(Kx(e)),u=l.filter(e=>!(i&&i.length&&!i.some(t=>np.isString(t)?e.code===t:t.code===e.code)||s.some(t=>t.code===e.code))),d=a.filter(e=>!s.some(t=>t.code===e.code)),p=[];u.length&&(c.type||(c.type=""),p.push({value:"",label:"系统按钮"})),d.length&&(c.type||(c.type="custom"),p.push({value:"custom",label:"自定义按钮"}));const f=g(()=>u.map(e=>{const t=e.name;return{label:np.toValueString(np.isFunction(t)?t({name:e.code||""}):t),value:e.code}})),v=r(p);Im.modal.open({title:"添加按钮",width:600,height:400,showFooter:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"保存",onConfirm(){c.type,s.push(c),n.actionButtonList=[...s]},slots:{default:()=>y(Bv,{vertical:!0,titleBold:!0},{default:()=>[y(xh,{title:"按钮类型",span:24},{default:()=>y($h,{modelValue:c.type,options:v.value,"onUpdate:modelValue"(e){c.type=e}})}),y(xh,{title:"选择系统按钮",span:24},{default:()=>y($h,{modelValue:c.code,options:f.value,"onUpdate:modelValue"(e){c.code=e}})})]})}})})()}}),default(){const{formData:e}=o,t=e.actionButtonList;return t&&t.length?y("div",{class:"vxe-list-design--field-configs-wrapper"},t.map(n=>{let o="",r="";if("custom"===n.type)o=n.icon,r=n.name;else{const e=l.find(e=>e.code===n.code);if(e){const t=e.name;o=e.icon||"",r=np.toValueString(np.isFunction(t)?t({name:e.code||""}):t)}}return y("div",{class:"vxe-list-design--field-configs-item"},[o?y("div",{class:"vxe-list-design--field-configs-item-icon"},[y("i",{class:o})]):x(),y("div",{class:"vxe-list-design--field-configs-item-title"},`${r||""}`),y("div",{class:"vxe-list-design--field-configs-item-btn"},[y(zg,{icon:Mp().LIST_DESIGN_LIST_SETTING_ACTIVE_DELETE,mode:"text",status:"error",onClick(){e.actionButtonList=t.filter(e=>e!==n)}})])])})):y("div",{class:"vxe-list-design--field-configs-empty-data"},[y("span",{},"无操作按钮")])}});return()=>{const{showPc:e,showMobile:n}=t,{formData:r}=o;return y(Bv,{span:24,vertical:!0,titleBold:!0},{default:()=>[y(xh,{title:"视图配置"},{default:()=>y("div",{class:"vxe-form-design--widget-form-item-render-view"},i.value.map(e=>y("div",{key:e.value,class:"vxe-form-design--widget-form-item-render-view-item"},[y(wh,{modelValue:r.listView.enabled,disabled:u.value,"onUpdate:modelValue"(e){r.listView.enabled=e}}),y(Xf,{content:e.label,icon:"vxe-icon-table"})])))}),y(xh,{title:"默认视图"},{default:()=>[y("div",{class:"vxe-form-design--widget-form-item-devices"},[e?y("div",{class:"vxe-form-design--widget-form-item-devices-item"},[y("div",{class:"vxe-form-design--widget-form-item-devices-left"},[y(Xf,{icon:Mp().FORM_DESIGN_PROPS_PC,content:Qp("vxe.formDesign.widgetProp.displaySetting.pc")})]),y($h,{modelValue:r.pcDefaultView,className:"vxe-form-design--widget-form-item-devices-select",options:i.value,"onUpdate:modelValue"(e){r.pcDefaultView=e}})]):x(),n?y("div",{class:"vxe-form-design--widget-form-item-devices-item"},[y("div",{class:"vxe-form-design--widget-form-item-devices-left"},[y(Xf,{icon:Mp().FORM_DESIGN_PROPS_MOBILE,content:Qp("vxe.formDesign.widgetProp.displaySetting.mobile")})]),y($h,{modelValue:r.mobileDefaultView,className:"vxe-form-design--widget-form-item-devices-select",options:i.value,"onUpdate:modelValue"(e){r.mobileDefaultView=e}})]):x()])]}),y(xh,{title:"列配置"},{default(){const{formData:e}=o;return[y("div",{class:"vxe-list-design--widget-form-item-prop-list"},[y("span",{},"显示序号"),y(Ah,{modelValue:e.showSeq,options:s.value,"onUpdate:modelValue"(t){e.showSeq=t}})]),y("div",{class:"vxe-list-design--widget-form-item-prop-list"},[y("span",{},"表尾统计"),y(Ah,{modelValue:e.showStatistics,options:s.value,"onUpdate:modelValue"(t){e.showStatistics=t}})])]}}),y(xh,{title:"批量操作"},{default(){const{formData:e}=o;return y(Ah,{modelValue:e.showCheckbox,options:c.value,"onUpdate:modelValue"(t){e.showCheckbox=t}})}}),l.length||a.length?d():x()]})}}}),Jx=Pm({name:"ListDesignLayoutSetting",props:{},emits:[],setup(){const e=r(1);return()=>y("div",{class:"vxe-list-design--setting"},[y("div",{class:"vxe-list-design--setting-form"},[y(vh,{modelValue:e.value,titleWidth:"50%",titleAlign:"center",padding:!0,class:"vxe-list-design--setting-form-tabs","onUpdate:modelValue"(t){e.value=t}},{default:()=>[y(hh,{title:Qp("vxe.listDesign.fieldSettingTab"),icon:Mp().LIST_DESIGN_FIELD_SETTING,name:1},{default:()=>y(Zx)}),y(hh,{title:Qp("vxe.listDesign.listSettingTab"),icon:Mp().LIST_DESIGN_LIST_SETTING,name:2},{default:()=>y(Qx)})]})])])}}),ew=Pm({name:"VxeListDesign",props:{size:{type:String,default:()=>Rp().listDesign.size||Rp().size},height:{type:[String,Number],default:()=>Rp().listDesign.height},config:Object,showPc:{type:Boolean,default:()=>Rp().listDesign.showPc},showMobile:{type:Boolean,default:()=>Rp().listDesign.showMobile},actionCodes:Array,formRender:Object},emits:[],setup(e,n){const{emit:o,slots:l}=n,a=np.uniqueId(),s=r(),{computeSize:c}=ym(e),u=m({formData:{},searchFormData:{},searchFormItems:[],listTableColumns:[]}),d={refElem:s},p={computeSize:c},g={xID:a,props:e,context:n,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>p},f=[];im.forEach((e,t)=>{const{createListDesignSettingActionButtonConfig:n}=e;if(n){const e={name:t},o=Object.assign(Kx({code:t}),n(e));"custom"===o.type||f.push(o)}});const v=e=>({title:e.title,field:e.field,visible:!e.hidden,width:"",cellRender:{name:e.name,props:e.options}}),h=e=>{const t=[];if(e){const{widgetData:n}=e;n&&n.forEach(e=>{const{name:n}=e;n&&("row"===n?e.children.forEach(e=>{e.name&&t.push(v(e))}):"subtable"===n||t.push(v(e)))})}return t},x=e=>{const{formConfig:n,searchItems:o,listColumns:l}=e;return n&&C(n),o&&E(o),l&&(u.listTableColumns=w(l)),t()},w=e=>(e=>e?e.map(e=>({field:e.field,title:e.title,visible:!!e.visible,width:e.width,cellRender:np.clone(e.cellRender)})):[])(e),C=e=>(u.formData=Object.assign({},T(),e),t()),S=()=>u.searchFormItems,E=e=>{const{data:n,items:o}=(e=>{if(e){const t={};return{items:e.map(e=>(t[e.field]=null,{field:e.field,title:e.title,folding:e.folding,itemRender:e.itemRender})),data:t}}return{items:[],data:{}}})(e);return u.searchFormData=n,u.searchFormItems=o,t()},D=()=>u.listTableColumns,T=()=>{const{actionCodes:t,formRender:n}=e;let o={listView:{enabled:!0},ganttView:{enabled:!1},chartView:{enabled:!1},autoFoldFilter:!0,showCheckbox:"auto",showSeq:!0,showStatistics:!0,mobileDefaultView:"list",pcDefaultView:"list",actionButtonList:[]};if(t&&t.length&&(!o.actionButtonList||!o.actionButtonList.length)){const e=[];t.forEach(t=>{if(np.isObject(t)&&t.default){const n=f.find(e=>e.code===t.code);n&&e.push(Kx({type:n.type,code:n.code}))}}),o.actionButtonList=e}if(n&&n.name){const e=im.get(n.name),t=e?e.createListDesignSettingFormConfig:null,l={name:n.name};o=(t?t(l):{})||{}}return o},O=()=>{u.formData=T()},k=()=>(x({searchItems:[],listColumns:[]}),O(),t()),R={dispatchEvent(e,t,n){o(e,zp(n,{$listDesign:g},t))},loadFormDesignConfig(e){const{listTableColumns:n}=u,o={};np.eachTree(n,e=>{o[e.field]=e},{children:"children"});const l=h(e);return np.eachTree(l,e=>{const t=o[e.field];t&&(t.width&&(e.width=t.width),e.visible=t.visible)},{children:"children"}),u.listTableColumns=l,t()},reloadFormDesignConfig:e=>(u.listTableColumns=h(e),t()),getSearchItems:S,setSearchItems:E,getListColumns:D,setListColumns:e=>(u.listTableColumns=w(e),t()),getConfig:()=>({formConfig:u.formData,searchItems:S(),listColumns:D()}),loadConfig:x,reloadConfig:e=>(k(),x(e)),clearConfig:k};Object.assign(g,R,{});return b("$xeListDesign",g),i(()=>e.config,e=>{x(e||{})}),O(),e.config&&x(e.config),g.renderVN=()=>{const{height:t}=e,n=c.value,o=l.header;return y("div",{ref:s,class:["vxe-list-design",{[`size--${n}`]:n}],style:t?{height:ag(t)}:null},[y("div",{class:"vxe-list-design--header"},o?o({}):[]),y("div",{class:"vxe-list-design--body"},[y(Yx),y(Jx)])])},g},render(){return this.renderVN()}});im.mixin({});const tw=Object.assign({},ew,{install(e){e.component(ew.name,ew)}});Am.use(tw),Im.component(ew),Im.listDesignHandle={};const nw=tw,ow=Pm({name:"VxeListView",props:{size:{type:String,default:()=>Rp().listView.size||Rp().size},config:Object,height:{type:[String,Number],default:()=>Rp().listView.height},loading:Boolean,formData:Object,actionButtons:Array,gridOptions:Object,gridEvents:Object,viewRender:Object},emits:["cell-action","update:formData","update:actionButtons"],setup(e,n){const o=Im.getComponent("VxeGrid"),{emit:l,slots:a}=n,s=np.uniqueId(),c=r(),u=r(),{computeSize:d}=ym(e),p=m({formConfig:{},searchFormData:{},searchFormItems:[],listTableColumns:[],tableColumns:[],footerData:[{}]}),f=g(()=>{const{gridOptions:t}=e,{formConfig:n,tableColumns:o,searchFormData:l,searchFormItems:r,footerData:a}=p,{showStatistics:i}=n,s=t||{},c=Object.assign({minWidth:120},s.columnConfig);let u;return s.proxyConfig&&(u=Object.assign({autoLoad:!1},s.proxyConfig)),Object.assign({},s,{columns:o,columnConfig:c,showFooter:i,footerData:i?a:null,formConfig:{data:l,items:r},proxyConfig:u})}),v=g(()=>{const{gridEvents:t}=e,n={};return np.each(t,(e,t)=>{n[np.camelCase(`on-${t}`)]=e}),n}),h={refElem:c,refGrid:u},x={computeSize:d},w={xID:s,props:e,context:n,reactData:p,getRefMaps:()=>h,getComputeMaps:()=>x},C=[];im.forEach((e,t)=>{const{createListDesignSettingActionButtonConfig:n}=e;if(n){const e={name:t},o=Object.assign(Kx({code:t}),n(e));"custom"===o.type||C.push(o)}});const S=e=>{if(e&&e.length){const t={},n=e.map(e=>(t[e.field]=null,{field:e.field,title:e.title,folding:e.folding,itemRender:e.itemRender}));return n.push({field:"active",title:"",folding:!1,collapseNode:e.some(e=>e.folding),itemRender:{name:"VxeButtonGroup",options:[{content:"查询",icon:"vxe-icon-search",status:"primary",type:"submit"},{content:"重置",icon:"vxe-icon-repeat",type:"reset"}]}}),{items:n,data:t}}return{items:[],data:{}}},E=e=>{if(e){const{formConfig:t,searchItems:n,listColumns:o}=e;p.formConfig=t||{},k(n||[]),O(o||[])}return t()},D=(e,t)=>{const n=Object.assign({},t),{showSeq:o,actionButtonList:l}=n,r=[],i={},s=a.cellAction,c=a.footerCell;if(o&&r.push({type:"seq",field:"_seq",fixed:"left",width:70}),(e=>e?e.map(e=>({field:e.field,title:e.title,visible:!!e.visible,width:e.width,cellRender:np.clone(e.cellRender)})):[])(e||[]).forEach(e=>{const t=Object.assign({},e);n.showStatistics&&c&&(t.slots={footer:e=>c(Object.assign({},e))}),t.field&&(i[t.field]=null),r.push(t)}),l&&l.length){const e={field:"_active",title:Qp("vxe.table.actionTitle"),fixed:"right",width:"auto"},t=[];l.forEach(e=>{if("custom"===e.type)return{content:e.name,name:e.code,icon:e.icon};const n=C.find(t=>t.code===e.code);let o=e.name,l=e.icon,r=e.status,a=e.permissionCode,i=e.classify;if(n){const e=n.name;l=n.icon||"",r=n.status||"",a=n.permissionCode||"",i=n.classify||"",o=np.toValueString(np.isFunction(e)?e({name:n.code||""}):e)}i&&"cellButton"!==i||t.push({content:o,name:e.code,icon:l,status:r,permissionCode:a})}),s?e.slots={default:e=>s(Object.assign(Object.assign({},e),{buttons:t}))}:e.cellRender={name:"VxeButtonGroup",props:{mode:"text"},options:t,events:{click(e,t){const{option:n}=t;R("cell-action",Object.assign(Object.assign({},e),{button:n}),t.$event)}}},r.push(e)}return{rowRecord:i,columns:r,actionButtons:l}},T=(e,...t)=>{const n=u.value;return n?n.commitProxy(e,...t):Promise.resolve()},O=e=>{const{formConfig:n}=p,o=e||[],{columns:r,actionButtons:a}=D(o,n);p.listTableColumns=o,p.tableColumns=r,l("update:actionButtons",a),t(()=>{f.value.proxyConfig&&T("reload")})},k=e=>{const{data:n,items:o}=S(e);return p.searchFormData=n,p.searchFormItems=o,l("update:formData",n),t()},R=(e,t,n)=>{l(e,zp(n,{$listView:w},t))},I={dispatchEvent:R,clearConfig:()=>(l("update:formData",{}),Object.assign(p,{formConfig:{},searchFormData:{},searchFormItems:[],listTableColumns:[],tableColumns:[],footerData:[{}]}),t()),loadConfig:E,parseConfig:e=>{const{formConfig:t,searchItems:n,listColumns:o}=e||{},{columns:l,rowRecord:r,actionButtons:a}=D(o||[],t||p.formConfig),{data:i,items:s}=(e=>S(e||[]))(n||[]);return{formData:i,formItems:s,tableColumns:l,tableRecord:r,actionButtons:a}},getTableRecord:e=>{if(np.isArray(e)){const{rowRecord:t}=D(e,p.formConfig);return t}if(e){const{formConfig:t,listColumns:n}=e,{rowRecord:o}=D(n||[],t||p.formConfig);return o}return{}},getQueryFilter:()=>{const{searchFormData:e,searchFormItems:t}=p,n=[],o={items:n,type:"and"};return u.value?(t.forEach(t=>{const{field:o}=t,l=e[o];if(l){const e=[];e.push({field:o,value:l,match:"exact",type:np.isArray(l)?"array":""}),n.push({condition:e,type:"and"})}}),o):o},commitProxy:T};Object.assign(w,I,{});return i(()=>e.config,e=>{E(e||{})}),e.config&&E(e.config),b("$xeListView",w),t(()=>{o||Lm("vxe.error.reqComp",["vxe-grid"])}),w.renderVN=()=>{const{height:t,loading:n}=e,l=d.value,r=a.grid,i=f.value,s=v.value;return y("div",{ref:c,class:["vxe-list-view",{[`size--${l}`]:l,"is--loading":n}],style:t?{height:ag(t)}:null},[y("div",{class:"vxe-list-view--body"},[r?y("div",{class:"vxe-list-view--grid-wrapper"},Gm(r({$listView:w}))):o?y(o,Object.assign({},i,s,{ref:u}),Object.assign({},a,{default:void 0})):Rm()]),y(af,{class:"vxe-list-view--loading",modelValue:n})])},w},render(){return this.renderVN()}}),lw=Object.assign(ow,{install:function(e){e.component(ow.name,ow)}});Am.use(lw),Im.component(ow);const rw=lw,aw=Pm({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:()=>Rp().list.size||Rp().size},autoResize:{type:Boolean,default:()=>Rp().list.autoResize},syncResize:[Boolean,String,Number],virtualYConfig:Object,scrollY:Object},emits:["scroll"],setup(e,n){const{slots:o,emit:l}=n,a=np.uniqueId(),s=np.browse(),{computeSize:c}=ym(e),d=m({scrollYLoad:!1,bodyHeight:0,customHeight:0,customMaxHeight:0,parentHeight:0,topSpaceHeight:0,items:[]}),p={resizeObserver:void 0,fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}},h=r(),b=r(),x=r(),w={refElem:h},C={xID:a,props:e,context:n,reactData:d,internalData:p,getRefMaps:()=>w},S=g(()=>Object.assign({},Rp().list.virtualYConfig||Rp().list.scrollY,e.virtualYConfig||e.scrollY)),E=g(()=>{const{height:t,maxHeight:n}=e,{customHeight:o,customMaxHeight:l}=d,r={};return t?r.height=`${o}px`:n&&(r.height="auto",r.maxHeight=`${l}px`),r}),D=(e,t,n)=>{l(e,zp(n,{$list:C},t))},T=t=>{const{parentHeight:n}=d,o=e[t];let l=0;return o&&("100%"===o||"auto"===o?l=n:(l=tg(o)?Math.floor((np.toInteger(o)||1)/100*n):np.toNumber(o),l=Math.max(40,l))),l},O=()=>{const{scrollYLoad:e}=d,{scrollYStore:t,fullData:n}=p;d.bodyHeight=e?n.length*t.rowHeight:0,d.topSpaceHeight=e?Math.max(t.startIndex*t.rowHeight,0):0},k=()=>{const{scrollYLoad:e}=d,{fullData:n,scrollYStore:o}=p;return d.items=e?n.slice(o.startIndex,o.endIndex):n.slice(0),t()},R=()=>{k(),O()},I=()=>t().then(()=>{const{scrollYLoad:e}=d,{scrollYStore:t}=p,n=x.value,o=S.value;let l,r=0;if(n&&(o.sItem&&(l=n.querySelector(o.sItem)),l||(l=n.children[0])),l&&(r=l.offsetHeight),r=Math.max(12,r),t.rowHeight=r,e){const e=b.value,n=Math.max(8,Math.ceil(e.clientHeight/r)),l=o.oSize?np.toNumber(o.oSize):s.edge?10:0;t.offsetSize=l,t.visibleSize=n,t.endIndex=Math.max(t.startIndex+n+l,t.endIndex),R()}else O()}),P=()=>{const e=b.value;return e&&(e.scrollTop=0),t()},F=(e,n)=>{const o=b.value;return np.isNumber(e)&&(o.scrollLeft=e),np.isNumber(n)&&(o.scrollTop=n),d.scrollYLoad?new Promise(e=>{setTimeout(()=>{t(()=>{e()})},50)}):t()},M=()=>{const{lastScrollLeft:e,lastScrollTop:t}=p;return P().then(()=>{if(e||t)return p.lastScrollLeft=0,p.lastScrollTop=0,F(e,t)})},A=()=>{const e=h.value;if(e){const t=e.parentElement;if(d.parentHeight=t?t.clientHeight:0,d.customHeight=T("height"),d.customMaxHeight=T("maxHeight"),e.clientWidth&&e.clientHeight)return I()}return t()},V=e=>{const t=e.target,n=t.scrollTop,o=t.scrollLeft,l=o!==p.lastScrollLeft,r=n!==p.lastScrollTop;p.lastScrollTop=n,p.lastScrollLeft=o,d.scrollYLoad&&(e=>{const{scrollYStore:t}=p,{startIndex:n,endIndex:o,visibleSize:l,offsetSize:r,rowHeight:a}=t,i=e.target.scrollTop,s=Math.floor(i/a),c=Math.max(0,s-1-r),u=s+l+r;(s<=n||s>=o-l-1)&&(n===c&&o===u||(t.startIndex=c,t.endIndex=u,R()))})(e),D("scroll",{scrollLeft:o,scrollTop:n,isX:l,isY:r},e)},$=e=>{const{scrollYStore:t}=p,n=S.value,o=e||[];return Object.assign(t,{startIndex:0,endIndex:1,visibleSize:0}),p.fullData=o,d.scrollYLoad=!!n.enabled&&n.gt>-1&&(0===n.gt||n.gt<=o.length),k(),I().then(()=>{M()})},N={dispatchEvent:D,loadData:$,reloadData:e=>(P(),$(e)),recalculate:A,scrollTo:F,refreshScroll:M,clearScroll:P};Object.assign(C,N);const L=r(0);i(()=>e.data?e.data.length:-1,()=>{L.value++}),i(()=>e.data,()=>{L.value++}),i(L,()=>{$(e.data||[])}),i(()=>e.height,()=>{A()}),i(()=>e.maxHeight,()=>{A()}),i(()=>e.syncResize,e=>{e&&(A(),t(()=>setTimeout(()=>A())))}),u(()=>{A().then(()=>M())}),t(()=>{$(e.data||[])}),f(()=>{if(A(),e.autoResize){const e=h.value,t=Kp.create(()=>A());t.observe(e),e&&t.observe(e.parentElement),p.resizeObserver=t}jp.on(C,"resize",A)}),v(()=>{const{resizeObserver:e}=p;e&&e.disconnect(),jp.off(C,"resize")});return C.renderVN=()=>{const{className:t,loading:n}=e,{bodyHeight:l,topSpaceHeight:r,items:a}=d,i=o.default,s=c.value,u=E.value;return y("div",{ref:h,class:["vxe-list",t?np.isFunction(t)?t({$list:C}):t:"",{[`size--${s}`]:s,"is--loading":n}]},[y("div",{ref:b,class:"vxe-list--virtual-wrapper",style:u,onScroll:V},[y("div",{class:"vxe-list--y-space",style:{height:l?`${l}px`:""}}),y("div",{ref:x,class:"vxe-list--body",style:{marginTop:r?`${r}px`:""}},i?i({items:a,$list:C}):[])]),y(af,{class:"vxe-list--loading",modelValue:n})])},C},render(){return this.renderVN()}}),iw=Object.assign(aw,{install(e){e.component(aw.name,aw)}});Am.use(iw),Im.component(aw);const sw=iw,cw=Pm({name:"VxeMenu",props:{modelValue:[String,Number],expandAll:Boolean,collapsed:{type:Boolean,default:null},collapseFixed:Boolean,loading:Boolean,options:{type:Array,default:()=>[]},size:{type:String,default:()=>Rp().image.size||Rp().size}},emits:["update:modelValue","click"],setup(e,o){const{emit:l,slots:a}=o,c=np.uniqueId(),u=n("$xeLayoutAside",null),d=r(),p=r(),{computeSize:v}=ym(e),h=m({initialized:!!e.collapsed,isEnterCollapse:!1,collapseStyle:{},collapseZindex:0,activeName:e.modelValue,menuList:[],itemHeight:1}),b={refElem:d},x=g(()=>{const{collapsed:t}=e;return np.isBoolean(t)?t:!!u&&!!u.props.collapsed}),w=g(()=>{let e="";return u&&(e=u.props.collapseWidth||""),e}),S=g(()=>{let e="";return u&&(e=u.props.width||""),e}),E={computeSize:v},D={xID:c,props:e,context:o,reactData:h,getRefMaps:()=>b,getComputeMaps:()=>E},T=e=>{const{activeName:t}=h;np.eachTree(h.menuList,(e,n,o,l,r,a)=>{e.itemKey===t?(a.forEach(e=>{e.isActive=!0,e.isExpand=!0}),e.isExactActive=!0):(e.isExactActive=!1,e.isActive=!1)},{children:"childList"})},O=()=>{const{options:t,expandAll:n}=e;h.menuList=np.mapTree(t,(e,t,o,l,r)=>Object.assign(Object.assign({},e),{parentKey:r?r.name||l.slice(0,l.length-1).join(","):"",level:l.length,itemKey:e.name||l.join(","),isExactActive:!1,isActive:!1,isExpand:np.isBoolean(e.expanded)?e.expanded:!!n,hasChild:e.children&&e.children.length>0}),{children:"children",mapChildren:"childList"})},k=()=>{const{collapseFixed:n}=e;n&&t(()=>{const{isEnterCollapse:e}=h,t=x.value,n=S.value,o=w.value,l=d.value;if(l){const r=l.getBoundingClientRect(),a=l.parentNode;h.collapseStyle=t?{top:ag(r.top),left:ag(r.left),height:ag(a.clientHeight),width:e?n?ag(n):"":o?ag(o):"",zIndex:h.collapseZindex}:{}}})},R=()=>{const{collapseFixed:n}=e;if(n){const{initialized:e}=h;x.value&&(e||(h.initialized=!0,t(()=>{const e=p.value;e&&document.body.appendChild(e)}))),h.isEnterCollapse=!1,h.collapseZindex<Vg()&&(h.collapseZindex=Ag()),k()}},I=(e,t)=>{const{hasChild:n,isExpand:o}=t;n&&(e.stopPropagation(),e.preventDefault(),t.isExpand=!o)},P=e=>{h.activeName=e,l("update:modelValue",e)},F=(e,t)=>{const{itemKey:n,routerLink:o,hasChild:l}=t;o?(P(n),A()):l?I(e,t):(P(n),A()),V("click",{menu:t},e)},M=()=>{const{collapseStyle:e}=h,t=S.value;h.collapseStyle=Object.assign({},e,{width:t?ag(t):""}),h.isEnterCollapse=!0},A=()=>{const{collapseStyle:e}=h,t=d.value;h.collapseStyle=Object.assign({},e,{width:t?ag(t.offsetWidth):""}),h.isEnterCollapse=!1},V=(e,t,n)=>{l(e,zp(n,{$menu:D},t))},$={dispatchEvent:V};Object.assign(D,$,{});const N=e=>{const{icon:t,isExpand:n,hasChild:o,slots:l}=e,r=l?l.default:a.option,i=(e=>`${e.title||e.name}`)(e),s=x.value;return[y("div",{class:"vxe-menu--item-link-icon"},t?[y("i",{class:t})]:[]),r?y("div",{class:"vxe-menu--item-custom-title"},(c=r,u={option:e,collapsed:s},c&&(np.isString(c)&&(c=a[c]||null),np.isFunction(c))?Gm(c(u)):[])):y("div",{class:"vxe-menu--item-link-title",title:i},i),o?y("div",{class:"vxe-menu--item-link-collapse",onClick(t){I(t,e)}},[y("i",{class:n?Mp().MENU_ITEM_EXPAND_OPEN:Mp().MENU_ITEM_EXPAND_CLOSE})]):Rm()];var c,u},L=e=>{const{itemKey:t,level:n,hasChild:o,isActive:l,isExactActive:r,isExpand:a,routerLink:i,childList:s}=e,{isEnterCollapse:c}=h,u=x.value;return e.permissionCode&&!xm.checkVisible(e.permissionCode)?Rm():y("div",{key:t,class:["vxe-menu--item-wrapper",`vxe-menu--item-level${n}`,{"is--exact-active":r,"is--active":l,"is--expand":(!u||c)&&a}]},[i?y(C("router-link"),{class:"vxe-menu--item-link",to:i,onClick(t){F(t,e)}},{default:()=>N(e)}):y("div",{class:"vxe-menu--item-link",onClick(t){F(t,e)}},N(e)),o?y("div",{class:"vxe-menu--item-group"},s.map(e=>L(e))):Rm()])},_=r(0);return i(()=>e.options?e.options.length:-1,()=>{_.value++}),i(()=>e.options,()=>{_.value++}),i(_,()=>{O(),T()}),i(()=>e.modelValue,e=>{h.activeName=e}),i(()=>h.activeName,()=>{T()}),i(x,()=>{R()}),f(()=>{jp.on(D,"resize",k),k()}),s(()=>{jp.off(D,"resize");const e=p.value;if(e){const t=e.parentNode;t&&t.removeChild(e)}}),O(),T(),D.renderVN=()=>{const{loading:t}=e,{initialized:n,menuList:o,collapseStyle:l,isEnterCollapse:r}=h,a=v.value,i=x.value;return y("div",{ref:d,class:["vxe-menu",{[`size--${a}`]:a,"is--collapsed":i,"is--loading":t}]},[y("div",{class:"vxe-menu--item-list"},o.map(e=>i?(e=>{const{itemKey:t,level:n,hasChild:o,isActive:l,isExactActive:r,routerLink:a,childList:i}=e;return e.permissionCode&&!xm.checkVisible(e.permissionCode)?Rm():y("div",{key:t,class:["vxe-menu--item-wrapper",`vxe-menu--item-level${n}`,{"is--exact-active":r,"is--active":l}]},[a?y(C("router-link"),{class:"vxe-menu--item-link",to:a,onClick(t){F(t,e)}},{default:()=>N(e)}):y("div",{class:"vxe-menu--item-link",onClick(t){F(t,e)}},N(e)),o?y("div",{class:"vxe-menu--item-group"},i.map(e=>L(e))):Rm()])})(e):L(e))),n?y("div",{ref:p,class:["vxe-menu--collapse-wrapper",{[`size--${a}`]:a,"is--collapsed":i,"is--enter":r,"is--loading":t}],style:l,onMouseenter:M,onMouseleave:A},[i?y("div",{class:"vxe-menu--item-list"},o.map(e=>L(e))):Rm()]):Rm(),y(af,{class:"vxe-list-view--loading",modelValue:t})])},D},render(){return this.renderVN()}}),uw=Object.assign({},cw,{install(e){e.component(cw.name,cw)}});Am.use(uw),Im.component(cw);const dw=uw;function pw(e){return np.find(Sh,t=>t.props.id===e)}function mw(e,t,n,o){let l;return l=np.isObject(t)?t:{content:np.toValueString(t),title:n},function(e){return Vm(),new Promise(t=>{const n=Object.assign({},e);if(n.id&&Sh.some(e=>e.props.id===n.id))t("exist");else{const e=n.onHide,o=Object.assign(n,{key:np.uniqueId(),modelValue:!0,onHide(n){const l=Mm.modals;e&&e(n),Mm.modals=l.filter(e=>e.key!==o.key),t(n.type)}});Mm.modals.push(o)}})}(Object.assign(Object.assign(Object.assign({},e),o),l))}const gw={get:pw,close:function(e){const t=e?[pw(e)]:Sh,n=[];return t.forEach(e=>{e&&n.push(e.close())}),Promise.all(n)},open:function(e){return mw({type:"modal"},e)},alert:function(e,t,n){return mw({type:"alert",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,n)},confirm:function(e,t,n){return mw({type:"confirm",status:"question",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,n)},message:function(e,t){return mw({type:"message",mask:!1,lockView:!1,lockScroll:!1,showHeader:!1},e,"",t)},notification:function(e,t,n){return mw({type:"notification",mask:!1,lockView:!1,lockScroll:!1,showHeader:!0,draggable:!1,position:"top-right",width:320},e,t,n)}},fw=Object.assign(kh,{install:function(e){e.component(kh.name,kh)}});Im.modal=gw,Am.use(fw),Im.component(kh);const vw=fw,hw=Pm({name:"VxeNoticeBar",props:{duration:[String,Number],direction:{type:String,default:()=>Rp().noticeBar.direction},speed:{type:String,default:()=>Rp().noticeBar.speed},content:String,vertical:Boolean,loop:{type:Boolean},size:{type:String,default:()=>Rp().noticeBar.size||Rp().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId(),{computeSize:a}=ym(e),i=r(),c=r(),u=m({animationDuration:0}),d={refElem:i},p=g(()=>{const{content:t}=e;return`${t||""}`}),v={},h={xID:l,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>v},b={dispatchEvent:(e,t,n)=>{o(e,zp(n,{$noticeBar:h},t))}},x=()=>{const{speed:t}=e,n=c.value;if(n){let e=46;"fast"===t?e=118:"slow"===t&&(e=18),u.animationDuration=Math.ceil(n.scrollWidth/e)}};Object.assign(h,b,{});return h.renderVN=()=>{const{vertical:t,duration:o,direction:l}=e,{animationDuration:r}=u,s=a.value,d=p.value,m=n.default,g=n.prefix,f=n.suffix;return y("div",{ref:i,class:["vxe-notice-bar","is--"+(t?"vertical":"horizontal"),`dir--${l||"left"}`,{[`size--${s}`]:s}]},[g?y("div",{class:"vxe-notice-bar--prefix"},g({})):Rm(),y("div",{class:"vxe-notice-bar--content"},[y("div",{ref:c,class:"vxe-notice-bar--inner"},[y("div",{class:"vxe-notice-bar--wrapper",style:{animationDuration:`${o?ag(o,"s"):r}s`}},m?m({}):d)])]),f?y("div",{class:"vxe-notice-bar--suffix"},f({})):Rm()])},f(()=>{jp.on(h,"resize",x),x()}),s(()=>{jp.off(h,"resize")}),h},render(){return this.renderVN()}}),bw=Object.assign({},hw,{install(e){e.component(hw.name,hw)}});Am.use(bw),Im.component(hw);const xw=bw,ww=Object.assign({},xb,{install(e){e.component(xb.name,xb)}});Am.use(ww),Im.component(xb);const yw=ww;class Cw{constructor(e,t){Object.assign(this,{id:np.uniqueId("option_"),value:t.value,label:t.label,visible:t.visible,className:t.className,disabled:t.disabled})}update(e,t){this[e]=t}}function Sw(e,t){return t instanceof Cw?t:new Cw(e,t)}function Ew(e,t){Object.keys(e).forEach(n=>{i(()=>e[n],e=>{t.update(n,e)})})}function Dw(e,t,n,o){const{reactData:l}=e,{staticOptions:r}=l,a=t.parentNode,i=o?o.optionConfig:null,s=i?i.options:r;a&&s&&(s.splice(np.arrayIndexOf(a.children,t),0,n),l.staticOptions=r.slice(0))}function Tw(e,t){const{reactData:n}=e,{staticOptions:o}=n,l=np.findTree(o,e=>e.id===t.id,{children:"options"});l&&l.items.splice(l.index,1),n.staticOptions=o.slice(0)}const Ow=Pm({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},emits:[],setup(e,{slots:t}){const o=r(),l=n("$xeSelect",{}),a=Sw(l,e),i={optionConfig:a};return a.options=[],b("$xeOptgroup",i),Ew(e,a),f(()=>{const e=o.value;Dw(l,e,a)}),v(()=>{Tw(l,a)}),()=>{const e=t.default;return y("div",{ref:o},e?e({}):[])}}}),kw=Object.assign(Ow,{install:function(e){e.component(Ow.name,Ow)}});Am.use(kw),Im.component(Ow);const Rw=kw,Iw=Pm({name:"VxeOption",props:{value:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},emits:[],setup(e,{slots:t}){const o=r(),l=n("$xeSelect",{}),a=n("$xeOptgroup",null),i=Sw(l,e);return i.slots=t,Ew(e,i),f(()=>{const e=o.value;Dw(l,e,i,a)}),v(()=>{Tw(l,i)}),()=>y("div",{ref:o})}}),Pw=Object.assign(Iw,{install:function(e){e.component(Iw.name,Iw)}});Am.use(Pw),Im.component(Iw);const Fw=Pw,Mw=Pm({name:"VxePager",props:{size:{type:String,default:()=>Rp().pager.size||Rp().size},layouts:{type:Array,default:()=>Rp().pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>Rp().pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>Rp().pager.pagerCount||7},pageSizes:{type:Array,default:()=>Rp().pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>Rp().pager.align},border:{type:Boolean,default:()=>Rp().pager.border},background:{type:Boolean,default:()=>Rp().pager.background},perfect:{type:Boolean,default:()=>Rp().pager.perfect},autoHidden:{type:Boolean,default:()=>Rp().pager.autoHidden},transfer:{type:Boolean,default:()=>Rp().pager.transfer},className:[String,Function],pageSizePlacement:{type:String,default:()=>Rp().pager.pageSizePlacement},iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,o){const{slots:l,emit:a}=o,s=np.uniqueId(),{computeSize:c}=ym(e),u=n("$xeGrid",null),d=m({inpCurrPage:e.currentPage}),p=r(),f={refElem:p},v=g(()=>E(e.total,e.pageSize)),h=g(()=>{const{pagerCount:t}=e,n=v.value>t?t-2:t,o=[];for(let e=0;e<n;e++)o.push(e);return o}),b=g(()=>Math.floor((e.pagerCount-2)/2)),x=g(()=>e.pageSizes.map(e=>np.isNumber(e)?{value:e,label:`${Qp("vxe.pager.pagesize",[e])}`}:Object.assign({value:"",label:""},e))),w={xID:s,props:e,context:o,getRefMaps:()=>f};let C={},S={};const E=(e,t)=>Math.max(Math.ceil(e/t),1),D=(t,n)=>{a("update:currentPage",n),t&&n!==e.currentPage&&C.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:n},t)},T=(t,n)=>{a("update:currentPage",t),n&&t!==e.currentPage&&C.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:t},n)},O=e=>{const{$event:t}=e,n=t.target,o=np.toInteger(n.value),l=v.value,r=o<=0?1:o>=l?l:o,a=np.toValueString(r);n.value=a,d.inpCurrPage=a,T(r,t)},k=t=>{const{currentPage:n}=e;n>1&&T(1,t)},R=t=>{const{currentPage:n}=e,o=v.value;n<o&&T(o,t)},I=t=>{const{currentPage:n}=e,o=v.value;n>1&&T(Math.min(o,Math.max(n-1,1)),t)},P=t=>{const{currentPage:n}=e,o=v.value;n<o&&T(Math.min(o,n+1),t)},F=t=>{const n=h.value;T(Math.max(e.currentPage-n.length,1),t)},M=t=>{const n=v.value,o=h.value;T(Math.min(e.currentPage+o.length,n),t)},A=t=>{const{value:n}=t,o=np.toNumber(n),l=E(e.total,o);let r=e.currentPage;r>l&&(r=l,a("update:currentPage",l)),a("update:pageSize",o),C.dispatchEvent("page-change",{type:"size",pageSize:o,currentPage:r},t.$event)},V=e=>{const{$event:t}=e;jp.hasKey(t,Ap.ENTER)?O(e):jp.hasKey(t,Ap.ARROW_UP)?(t.preventDefault(),P(t)):jp.hasKey(t,Ap.ARROW_DOWN)&&(t.preventDefault(),I(t))},$=()=>{const{currentPage:t,total:n}=e,o=l.home,r=v.value;return o?y("span",{class:"vxe-pager--custom-home-btn"},o({$pager:w,total:n,currentPage:t,pageCount:r})):y("button",{class:["vxe-pager--home-btn",{"is--disabled":t<=1}],type:"button",title:Qp("vxe.pager.homePageTitle"),onClick:k},[y("i",{class:["vxe-pager--btn-icon",e.iconHomePage||Mp().PAGER_HOME]})])},N=()=>{const{currentPage:t,total:n}=e,o=l.prevPage||l["prev-page"],r=v.value;return o?y("span",{class:"vxe-pager--custom-prev-btn"},o({$pager:w,total:n,currentPage:t,pageCount:r})):y("button",{class:["vxe-pager--prev-btn",{"is--disabled":t<=1}],type:"button",title:Qp("vxe.pager.prevPageTitle"),onClick:I},[y("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||Mp().PAGER_PREV_PAGE]})])},L=t=>{const{currentPage:n,total:o}=e,r=l.prevJump||l["prev-jump"],a=v.value;return r?y("span",{class:"vxe-pager--custom-jump-prev"},r({$pager:w,total:o,currentPage:n,pageCount:a})):y(t||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!t,"is--disabled":n<=1}],type:"button",title:Qp("vxe.pager.prevJumpTitle"),onClick:F},[t?y("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||Mp().PAGER_JUMP_MORE]}):null,y("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||Mp().PAGER_JUMP_PREV]})])},_=t=>{const{currentPage:n,total:o}=e,r=l.nextJump||l["next-jump"],a=v.value;return r?y("span",{class:"vxe-pager--custom-jump-next"},r({$pager:w,total:o,currentPage:n,pageCount:a})):y(t||"button",{class:["vxe-pager--jump-next",{"is--fixed":!t,"is--disabled":n>=a}],type:"button",title:Qp("vxe.pager.nextJumpTitle"),onClick:M},[t?y("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||Mp().PAGER_JUMP_MORE]}):null,y("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||Mp().PAGER_JUMP_NEXT]})])},B=()=>{const{currentPage:t,total:n}=e,o=l.nextPage||l["next-page"],r=v.value;return o?y("span",{class:"vxe-pager--custom-next-btn"},o({$pager:w,total:n,currentPage:t,pageCount:r})):y("button",{class:["vxe-pager--next-btn",{"is--disabled":t>=r}],type:"button",title:Qp("vxe.pager.nextPageTitle"),onClick:P},[y("i",{class:["vxe-pager--btn-icon",e.iconNextPage||Mp().PAGER_NEXT_PAGE]})])},z=()=>{const{currentPage:t,total:n}=e,o=l.end,r=v.value;return o?y("span",{class:"vxe-pager--custom-end-btn"},o({$pager:w,total:n,currentPage:t,pageCount:r})):y("button",{class:["vxe-pager--end-btn",{"is--disabled":t>=r}],type:"button",title:Qp("vxe.pager.endPageTitle"),onClick:R},[y("i",{class:["vxe-pager--btn-icon",e.iconEndPage||Mp().PAGER_END]})])},j=t=>{const{currentPage:n,total:o,pagerCount:r}=e,a=t?l.numberJump||l["number-jump"]:l.number,i=[],s=v.value,c=h.value,u=b.value,d=s>r,p=d&&n>u+1,m=d&&n<s-u,g=[];let f=1;return d&&(f=n>=s-u?Math.max(s-c.length+1,1):Math.max(n-u,1)),t&&p&&(g.push(1),i.push(y("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>D(e,1)},"1"),L("span"))),c.forEach((e,t)=>{const o=f+t;o<=s&&(g.push(o),i.push(y("button",{key:o,class:["vxe-pager--num-btn",{"is--active":n===o}],type:"button",onClick:e=>D(e,o)},`${o}`)))}),t&&m&&(g.push(s),i.push(_("button"),y("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>D(e,s)},s))),a?y("span",{class:"vxe-pager--custom-btn-wrapper"},a({$pager:w,total:o,numList:g,currentPage:n,pageCount:s})):y("span",{class:"vxe-pager--btn-wrapper"},i)},H=()=>j(!0),W=()=>{const{total:t,currentPage:n,pageSize:o,pageSizePlacement:r,transfer:a}=e,i=l.sizes,s=x.value,c=v.value;return i?y("span",{class:"vxe-pager--custom-sizes"},i({$pager:w,total:t,currentPage:n,pageCount:c,pageSize:o,options:s})):y($h,{class:"vxe-pager--sizes",modelValue:o,placement:r,transfer:a,options:s,onChange:A})},q=t=>{const{total:n}=e,{inpCurrPage:o}=d,r=t?l.fullJump||l["full-jump"]:l.jump,a=v.value;return r?y("span",{class:"vxe-pager--custom-jump"},r({$pager:w,total:n,currentPage:o,pageCount:a})):y("span",{class:"vxe-pager--jump"},[t?y("span",{class:"vxe-pager--goto-text"},Qp("vxe.pager.goto")):null,y(Gf,{class:"vxe-pager--goto",modelValue:d.inpCurrPage,placeholder:Qp("vxe.pager.gotoTitle"),align:"center",type:"integer",max:a,min:1,controls:!1,onKeydown:V,onBlur:O,"onUpdate:modelValue"(e){d.inpCurrPage=e}}),t?y("span",{class:"vxe-pager--classifier-text"},Qp("vxe.pager.pageClassifier")):null])},G=()=>q(!0),U=()=>{const{currentPage:t,total:n}=e,o=l.pageCount||l["page-count"],r=v.value;return o?y("span",{class:"vxe-pager--custom-count"},o({$pager:w,total:n,currentPage:t,pageCount:r})):y("span",{class:"vxe-pager--count"},[y("span",{class:"vxe-pager--separator"}),y("span",r)])},K=()=>{const{currentPage:t,total:n}=e,o=l.total,r=v.value;return o?y("span",{class:"vxe-pager--custom-total"},o({$pager:w,total:n,currentPage:t,pageCount:r})):y("span",{class:"vxe-pager--total"},Qp("vxe.pager.total",[n]))};C={dispatchEvent:(e,t,n)=>{a(e,zp(n,{$pager:w},t))},homePage:()=>(k(),t()),endPage:()=>(R(),t()),prevPage:()=>(I(),t()),nextPage:()=>(P(),t()),prevJump:()=>(F(),t()),nextJump:()=>(M(),t()),jumpPage(e){const n=np.toNumber(e)||1;return d.inpCurrPage=n,T(n),t()}},S={handlePrevPage:I,handleNextPage:P,handlePrevJump:F,handleNextJump:M},Object.assign(w,C,S),i(()=>e.currentPage,e=>{d.inpCurrPage=e});return w.renderVN=()=>{const{align:t,layouts:n,className:o}=e,r=[],a=c.value,i=v.value;return l.left&&r.push(y("span",{class:"vxe-pager--left-wrapper"},l.left({$grid:u}))),n.forEach(e=>{let t;switch(e){case"Home":t=$;break;case"PrevJump":t=L;break;case"PrevPage":t=N;break;case"Number":t=j;break;case"JumpNumber":t=H;break;case"NextPage":t=B;break;case"NextJump":t=_;break;case"End":t=z;break;case"Sizes":t=W;break;case"FullJump":t=G;break;case"Jump":t=q;break;case"PageCount":t=U;break;case"Total":t=K}t?r.push(t()):Lm("vxe.error.notProp",[`layouts -> ${e}`])}),l.right&&r.push(y("span",{class:"vxe-pager--right-wrapper"},l.right({$grid:u}))),y("div",{ref:p,class:["vxe-pager",o?np.isFunction(o)?o({$pager:w}):o:"",{[`size--${a}`]:a,[`align--${t}`]:t,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&1===i,"is--loading":e.loading}]},[y("div",{class:"vxe-pager--wrapper"},r)])},w},render(){return this.renderVN()}}),Aw=Object.assign(Mw,{install:function(e){e.component(Mw.name,Mw)}});Am.use(Aw),Im.component(Mw);const Vw=Aw,$w=Pm({name:"VxePasswordInput",props:{modelValue:String,immediate:{type:Boolean,default:!0},name:String,clearable:{type:Boolean,default:()=>Rp().passwordInput.clearable},readonly:Boolean,disabled:Boolean,maxLength:[String,Number],placeholder:String,autoComplete:{type:String,default:"off"},className:String,size:{type:String,default:()=>Rp().passwordInput.size||Rp().size},prefixIcon:String,suffixIcon:String,controls:{type:Boolean,default:()=>Rp().passwordInput.controls},autocomplete:String},emits:["update:modelValue","input","change","click","focus","blur","clear","toggle-visible","prefix-click","suffix-click"],setup(e,o){const{emit:l,slots:a}=o,s=n("$xeForm",null),c=n("xeFormItemInfo",null),u=np.uniqueId(),{computeSize:d}=ym(e),p=m({showPwd:!1,isActivated:!1,inputValue:e.modelValue}),f=r(),v=r(),h={refElem:f,refInput:v},b={xID:u,props:e,context:o,reactData:p,getRefMaps:()=>h};let x={};const w=g(()=>e.clearable),C=g(()=>{const{readonly:t}=e;return t}),S=g(()=>{const{placeholder:t}=e;if(t)return Ng(t);const n=Rp().passwordInput.placeholder;return n?Ng(n):Qp("vxe.base.pleaseInput")}),E=g(()=>{const{showPwd:e}=p;return e?"text":"password"}),D=g(()=>{const{immediate:t}=e;return t}),T=e=>{const{inputValue:t}=p;x.dispatchEvent(e.type,{value:t},e)},O=e=>{((e,t)=>{const n=D.value;p.inputValue=e,n?k(e,t):x.dispatchEvent("input",{value:e},t)})(e.target.value,e)},k=(t,n)=>{p.inputValue=t,l("update:modelValue",t),x.dispatchEvent("input",{value:t},n),np.toValueString(e.modelValue)!==t&&(x.dispatchEvent("change",{value:t},n),s&&c&&s.triggerItemEvent(n,c.itemConfig.field,t))},R=e=>{T(e);const{inputValue:t}=p;s&&c&&s.triggerItemEvent(e,c.itemConfig.field,t)},I=e=>{p.isActivated=!0,T(e)},P=e=>{const{inputValue:t}=p,n=t;x.dispatchEvent("blur",{value:n},e),s&&c&&s.triggerItemEvent(e,c.itemConfig.field,n)},F=t=>{const{readonly:n,disabled:o}=e,{showPwd:l}=p;o||n||(p.showPwd=!l),x.dispatchEvent("toggle-visible",{visible:p.showPwd},t)},M=e=>{T(e)},A=(e,t)=>{focus(),k("",e),x.dispatchEvent("clear",{value:t},e)},V=t=>{const{disabled:n}=e;if(!n){const{inputValue:e}=p;x.dispatchEvent("suffix-click",{value:e},t)}},$=t=>{const{disabled:n}=e;if(!n){const{inputValue:e}=p;x.dispatchEvent("prefix-click",{value:e},t)}},N=()=>{const{showPwd:e}=p;return y("div",{class:"vxe-password-input--control-icon",onClick:F},[y("i",{class:["vxe-password-input--password-icon",e?Mp().PASSWORD_INPUT_SHOW_PWD:Mp().PASSWORD_INPUT_HIDE_PWD]})])};x={dispatchEvent(e,t,n){l(e,zp(n,{$passwordInput:b},t))},focus(){const e=v.value;return p.isActivated=!0,e.focus(),t()},blur:()=>(v.value.blur(),p.isActivated=!1,t()),select:()=>(v.value.select(),p.isActivated=!1,t())},Object.assign(b,x),i(()=>e.modelValue,e=>{p.inputValue=e});return b.renderVN=()=>{const{className:t,name:n,disabled:o,readonly:l,autocomplete:r,autoComplete:i,maxLength:s}=e,{inputValue:c,isActivated:u}=p,m=d.value,g=C.value,h=E.value,b=S.value,x=w.value,D=(()=>{const{prefixIcon:t}=e,n=a.prefix;return n||t?y("div",{class:"vxe-password-input--prefix",onClick:$},[y("div",{class:"vxe-password-input--prefix-icon"},n?Gm(n({})):[y("i",{class:t})])]):null})(),T=(()=>{const{disabled:t,suffixIcon:n,controls:o}=e,{inputValue:l}=p,r=a.suffix,i=w.value;return i||o||r||n?y("div",{class:["vxe-password-input--suffix",{"is--clear":i&&!t&&!(""===l||np.eqNull(l))}]},[i?y("div",{class:"vxe-password-input--clear-icon",onClick:A},[y("i",{class:Mp().INPUT_CLEAR})]):Rm(),o?N():Rm(),r||n?y("div",{class:"vxe-password-input--suffix-icon",onClick:V},r?Gm(r({})):[y("i",{class:n})]):Rm()]):null})();return y("div",{ref:f,class:["vxe-password-input",t,{[`size--${m}`]:m,"is--prefix":!!D,"is--suffix":!!T,"is--readonly":l,"is--disabled":o,"is--active":u,"show--clear":x&&!o&&!(""===c||np.eqNull(c))}],spellcheck:!1},[D||Rm(),y("div",{class:"vxe-password-input--wrapper"},[y("input",{ref:v,class:"vxe-password-input--inner",value:c,name:n,type:h,placeholder:b,readonly:g,disabled:o,autocomplete:r||i,maxlength:s,onClick:M,onInput:O,onChange:R,onFocus:I,onBlur:P})]),T||Rm()])},b},render(){return this.renderVN()}}),Nw=Object.assign({},$w,{install(e){e.component($w.name,$w)}});Am.use(Nw),Im.component($w);const Lw=Nw,_w=np.browse();let Bw;function zw(){const e=document.createElement("iframe");return e.className="vxe-table--print-frame",e}function jw(){Bw.parentNode||document.body.appendChild(Bw)}function Hw(){requestAnimationFrame(Ww)}function Ww(){if(Bw){if(Bw.parentNode){try{Bw.contentDocument.write("")}catch(e){}Bw.parentNode.removeChild(Bw)}Bw=null}}const qw="#000000";function Gw(e,t){const{pageStyle:n,customStyle:o}=e,l=function(e){const t=Object.assign({},e),n=Object.assign({},t.header),o=Object.assign({},t.title),l=Object.assign({},t.footer),r=Object.assign({},t.pageNumber);let a=50,i=a,s=a,c=a,u=a;return(np.isNumber(t.margin)||np.isString(t.margin))&&(a=t.margin,i=a,s=a,c=a,u=a),{marginTop:ag(t.marginTop||i),marginBottom:ag(t.marginBottom||s),marginLeft:ag(t.marginLeft||c),marginRight:ag(t.marginRight||u),fontSize:ag(t.fontSize),color:t.color,textAlign:t.textAlign,header:{height:ag(n.height),textAlign:n.textAlign},title:{color:o.color,fontSize:ag(o.fontSize),textAlign:o.textAlign},footer:{height:ag(l.height),textAlign:l.textAlign},pageNumber:{color:r.color,fontSize:ag(r.fontSize),textAlign:r.textAlign}}}(n),r=l.header,a=l.title,i=l.header,s=l.pageNumber,c=e._pageBreaks||e.pageBreaks&&e.pageBreaks.length;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.title||""}</title>`,'<style media="print">@page{size:auto;margin: 0mm;}</style>',`<style>body{font-size:${l.fontSize||"14px"};color:${l.color||qw};text-align:${l.textAlign||"left"};}</style>`,"<style>",".vxe-print-slots{display:none;}",".vxe-print-page-break.align--center{text-align:center;}",".vxe-print-page-break.align--left{text-align:left;}",".vxe-print-page-break.align--right{text-align:right;}",".vxe-print-page-break{break-before:always;page-break-before:always;display:flex;flex-direction:column;height:100vh;overflow:hidden;}",".vxe-print-page-break--body{display:flex;flex-direction:row;flex-grow:1;overflow:hidden;}",".vxe-print-page-break--left,.vxe-print-page-break--right{flex-shrink:0;height:100%;}",`.vxe-print-page-break--left{width:${l.marginLeft};}`,`.vxe-print-page-break--right{width:${l.marginRight};}`,".vxe-print-page-break--header,.vxe-print-page-break--footer{display:flex;justify-content:center;flex-direction:column;flex-shrink:0;width:100%;}",`.vxe-print-page-break--header{height:${r.height||l.marginTop};padding:0 ${l.marginLeft} 0 ${l.marginRight};text-align:${r.textAlign||"left"};}`,`.vxe-print-page-break--header-title{font-size:${a.fontSize||"1.6em"};color:${a.color||qw};text-align:${e.headerAlign||s.textAlign||"center"};}`,`.vxe-print-page-break--footer{height:${i.height||l.marginBottom};padding:0 ${l.marginLeft} 0 ${l.marginRight};text-align:${i.textAlign||"left"};}`,".vxe-print-page-break--content{flex-grow:1;overflow:hidden;}",`.vxe-print-page-break--footer-page-number{font-size:${s.fontSize||"1.2em"};color:${s.color||qw};text-align:${e.footerAlign||s.textAlign||"center"};}`,"</style>","<style>.vxe-table{white-space:pre;}</style>",'<style>body{padding:0;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}</style>',c?"<style>body{margin:0;}</style>":`<style>body{margin:${l.marginTop} ${l.marginRight} ${l.marginBottom} ${l.marginLeft};}</style>`,o?`<style>${o}</style>`:"","</head>","<body>",`${t}`,"</body>","</html>"].join("")}function Uw(e,t=""){const{beforeMethod:n}=e;n&&(t=n({content:t,html:t,options:e})||""),t=Gw(e,t);const o=new Blob([t],{type:`text/${"html"};charset=utf-8;`});return new Promise(e=>{if(_w.msie){Ww(),Bw=zw(),jw();const n=Bw.contentDocument;n&&(n.write(t),n.execCommand("print")),setTimeout(()=>{e({status:!0})},300)}else Bw||(Bw=zw(),Bw.onload=t=>{const n=t.target;if(n.src)try{const e=n.contentWindow;e&&(e.onafterprint=Hw,e.print())}catch(o){}e({status:!0})},Bw.onerror=()=>{e({status:!1})}),jw(),Bw.src=URL.createObjectURL(o)})}const Kw=e=>{const t=Object.assign({_pageBreaks:!1,customLayout:!0},e);if(t.sheetName&&(t.title=t.title||t.sheetName),t.style&&(t.customStyle=t.customStyle||t.style),t.beforePrintMethod&&(t.beforeMethod=t.beforeMethod||t.beforePrintMethod),t.pageBreaks&&t.pageBreaks.length)return Uw(t,function(e){const{title:t,showPageNumber:n,align:o,headerAlign:l,footerAlign:r,showAllPageTitle:a}=e,i=e.pageBreaks||[],s=i.length;return i.map((i,c)=>{const u=i.bodyHtml,d=i.headerHtml||e.headerHtml,p=i.footerHtml||e.footerHtml,m=i.leftHtml||e.leftHtml,g=i.rightHtml||e.rightHtml,f=c+1,v={currentPage:f,pageCount:s};return[`<div class="${["vxe-print-page-break",o?`align--${o}`:""].join(" ")}">`,`<div class="${["vxe-print-page-break--header",l?`align--${l}`:""].join(" ")}">`,d?`${np.isFunction(d)?d(v):d||""}`:!t||!a&&c?"":`<div class="vxe-print-page-break--header-title">${t||""}</div>`,"</div>",'<div class="vxe-print-page-break--body">',`<div class="vxe-print-page-break--left">${np.isFunction(m)?m(v):m||""}</div>`,`<div class="vxe-print-page-break--content">${np.isFunction(u)?u(v):u||""}</div>`,`<div class="vxe-print-page-break--right">${np.isFunction(g)?g(v):g||""}</div>`,"</div>",`<div class="${["vxe-print-page-break--footer",r?`align--${r}`:""].join(" ")}">`,p?`${np.isFunction(p)?p(v):p||""}`:n?`<div class="vxe-print-page-break--footer-page-number">${f}/${s}</div>`:"","</div>","</div>"].join("")}).join("")}(t));return Uw(t,t.html||t.content)};const Yw=Pm({name:"VxePrintPageBreak",props:{},emits:[],setup(e,t){const{slots:o,emit:l}=t,a=np.uniqueId(),i=n("$xePrint",null),s=r(),c=m({}),u={refElem:s},d={},p=m({id:a,slots:o}),g={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},h={dispatchEvent:(e,t,n)=>{l(e,zp(n,{$print:i},t))}};if(Object.assign(g,h,{}),!i)return g.renderVN=()=>x(),g;return f(()=>{const e=s.value;i&&e&&function(e,t,n){const o=e.reactData.staticPageBreaks,l=t.parentNode;l&&o&&(o.splice(np.arrayIndexOf(l.children,t),0,n),e.reactData.staticPageBreaks=o.slice(0))}(i,e,p)}),v(()=>{i&&function(e,t){e.reactData.staticPageBreaks=e.reactData.staticPageBreaks.filter(e=>e.id!==t.id)}(i,p)}),g.renderVN=()=>y("div",{ref:s}),g},render(){return this.renderVN()}}),Xw=Object.assign({},Yw,{install(e){e.component(Yw.name,Yw)}});Am.use(Xw),Im.component(Yw);const Zw=Xw,Qw=Pm({name:"VxePrint",props:{align:{type:String,default:()=>Rp().print.align},title:String,headerAlign:{type:String,default:()=>Rp().print.headerAlign},footerAlign:{type:String,default:()=>Rp().print.footerAlign},showPageNumber:{type:Boolean,default:()=>Rp().print.showPageNumber},customLayout:Boolean,pageBreaks:Array,content:String,html:String,headerHtml:String,footerHtml:String,leftHtml:String,rightHtml:String,showAllPageTitle:{type:Boolean,default:()=>Rp().print.showAllPageTitle},pageStyle:{type:Object,default:()=>Rp().print.pageStyle},customStyle:{type:String,default:()=>Rp().print.customStyle},beforeMethod:Function},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId(),a=r(),i=m({staticPageBreaks:[]}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent:(e,t,n)=>{o(e,zp(n,{$print:u},t))},print(){const t=a.value;return Kw(Object.assign({},e,{_pageBreaks:!!i.staticPageBreaks.length,html:(n=t?t.outerHTML:"",`${n}`.replace(/(<!---->)/,"")||e.html||e.content||"")}));var n}};Object.assign(u,d,{});return u.renderVN=()=>{const{customLayout:t}=e,{staticPageBreaks:o}=i,l=n.default;return y("div",{ref:a,class:["vxe-print"]},t?l?Gm(l({})):[]:[y("div",{key:"slot",class:"vxe-print-slots"},l?Gm(l({})):[])].concat(o.length?(()=>{const{title:t,showPageNumber:o,showAllPageTitle:l,align:r,headerAlign:a,footerAlign:s}=e,{staticPageBreaks:c}=i,u=c.length;return c.map((e,i)=>{const c=e.slots||{},d=i+1,p=c.default,m=c.header||n.header,g=c.footer||n.footer,f=c.left||n.left,v=c.right||n.right,h={currentPage:d,pageCount:u};return y("div",{class:["vxe-print-page-break",r?`align--${r}`:""]},[y("div",{class:["vxe-print-page-break--header",a?`align--${a}`:""]},m?Gm(m(h)):[!t||!l&&i?Rm():y("div",{class:"vxe-print-page-break--header-title"},`${t||""}`)]),y("div",{class:"vxe-print-page-break--body"},[y("div",{class:"vxe-print-page-break--left"},f?Gm(f(h)):[]),y("div",{class:"vxe-print-page-break--content"},p?Gm(p(h)):[]),y("div",{class:"vxe-print-page-break--right"},v?Gm(v(h)):[])]),y("div",{class:["vxe-print-page-break--footer",s?`align--${s}`:""]},g?Gm(g(h)):[o?y("div",{class:"vxe-print-page-break--footer-page-number"},`${d}/${u}`):Rm()])])})})():(()=>{const{title:t,showPageNumber:n,showAllPageTitle:o,align:l,headerAlign:r,footerAlign:a}=e,i=e.pageBreaks||[],s=i.length;return i.map((i,c)=>{const u=i.bodyHtml,d=i.headerHtml||e.headerHtml,p=i.footerHtml||e.footerHtml,m=i.leftHtml||e.leftHtml,g=i.rightHtml||e.rightHtml,f=c+1,v={currentPage:f,pageCount:s};return y("div",{class:["vxe-print-page-break",l?`align--${l}`:""]},[y("div",{class:["vxe-print-page-break--header",r?`align--${r}`:""]},d?`${np.isFunction(d)?d(v):d||""}`:[!t||!o&&c?Rm():y("div",{class:"vxe-print-page-break--header-title"},`${t||""}`)]),y("div",{class:"vxe-print-page-break--body"},[y("div",{class:"vxe-print-page-break--left"},`${np.isFunction(m)?m(v):m||""}`),y("div",{class:"vxe-print-page-break--content"},`${np.isFunction(u)?u(v):u||""}`),y("div",{class:"vxe-print-page-break--right"},`${np.isFunction(g)?g(v):g||""}`)]),y("div",{class:["vxe-print-page-break--footer",a?`align--${a}`:""]},p?`${np.isFunction(p)?p(v):p||""}`:[n?y("div",{class:"vxe-print-page-break--footer-page-number"},`${f}/${s}`):Rm()])])})})()))},b("$xePrint",u),u},render(){return this.renderVN()}}),Jw=Object.assign({},Qw,{install(e){e.component(Qw.name,Qw)}});Am.use(Jw),Im.component(Qw),Im.print=Kw;const ey=Jw,ty=Pm({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,trigger:{type:String,default:Rp().pulldown.trigger},size:{type:String,default:()=>Rp().size},options:Array,className:{type:[String,Function],default:Rp().pulldown.className},popupClassName:[String,Function],showPopupShadow:Boolean,destroyOnClose:{type:Boolean,default:Rp().pulldown.destroyOnClose},transfer:{type:Boolean,default:null}},emits:["update:modelValue","click","option-click","show-panel","hide-panel","visible-change"],setup(e,o){const{slots:l,emit:a}=o,s=n("$xeModal",null),c=n("$xeDrawer",null),u=n("$xeTable",null),d=n("$xeForm",null),p=np.uniqueId(),{computeSize:f}=ym(e),h=m({initialized:!1,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),b={hpTimeout:void 0},x=r(),w=r(),C=r(),E=g(()=>{const{transfer:t}=e;if(null===t){const e=Rp().pulldown.transfer;if(np.isBoolean(e))return e;if(u||s||c||d)return!0}return t}),D={refElem:x},T={xID:p,props:e,context:o,reactData:h,internalData:b,getRefMaps:()=>D};let O={};const k=()=>{const{placement:n}=e,{panelIndex:o}=h,l=w.value,r=C.value,a=E.value,i=()=>{const e=gg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});h.panelStyle=t,h.panelPlacement=e.placement};return i(),t().then(i)},R=()=>(h.initialized||(h.initialized=!0),new Promise(n=>{e.disabled?t(()=>{n()}):(b.hpTimeout&&clearTimeout(b.hpTimeout),h.isActivated=!0,h.isAniVisible=!0,setTimeout(()=>{h.visiblePanel=!0,a("update:modelValue",!0),k(),setTimeout(()=>{n(k())},40)},10),h.panelIndex<Vg()&&(h.panelIndex=Ag()),$("visible-change",{visible:!0},null))})),I=()=>(h.visiblePanel=!1,$("visible-change",{visible:!1},null),a("update:modelValue",!1),new Promise(e=>{h.isAniVisible?b.hpTimeout=setTimeout(()=>{h.isAniVisible=!1,t(()=>{e()})},350):t(()=>{e()})})),P=t=>{const{trigger:n}=e;"click"===n&&(h.visiblePanel?(I(),$("hide-panel",{},t)):(R(),$("show-panel",{},t))),$("click",{$pulldown:T},t)},F=t=>{const{disabled:n}=e,{visiblePanel:o}=h,l=C.value;n||o&&(sg(t,l).flag?k():(I(),$("hide-panel",{},t)))},M=t=>{const{disabled:n}=e,{visiblePanel:o}=h,l=x.value,r=C.value;n||(h.isActivated=sg(t,l).flag||sg(t,r).flag,o&&!h.isActivated&&(I(),$("hide-panel",{},t)))},A=e=>{h.visiblePanel&&(h.isActivated=!1,I(),$("hide-panel",{},e))},V=()=>{const{visiblePanel:e}=h;e&&k()},$=(e,t,n)=>{a(e,zp(n,{$pulldown:T},t))};O={dispatchEvent:$,isPanelVisible:()=>h.visiblePanel,togglePanel:()=>h.visiblePanel?I():R(),showPanel:R,hidePanel:I},Object.assign(T,O),i(()=>e.modelValue,e=>{h.isActivated=!!e,e?R():I()}),t(()=>{e.modelValue&&R(),jp.on(T,"mousewheel",F),jp.on(T,"mousedown",M),jp.on(T,"blur",A),jp.on(T,"resize",V)}),v(()=>{jp.off(T,"mousewheel"),jp.off(T,"mousedown"),jp.off(T,"blur"),jp.off(T,"resize")});const N=e=>{const t=l.option;return y("div",{class:"vxe-pulldown--panel-list"},e?e.map(e=>y("div",{class:"vxe-pulldown--panel-item",onClick(t){((e,t)=>{t.disabled||(h.visiblePanel&&(I(),$("hide-panel",{},e)),$("option-click",{option:t},e))})(t,e)}},t?t({$pulldown:T,option:e}):`${e.label||""}`)):[])};return T.renderVN=()=>{const{className:t,options:n,popupClassName:o,showPopupShadow:r,destroyOnClose:a,disabled:i}=e,{initialized:s,isActivated:c,isAniVisible:u,visiblePanel:d,panelStyle:p,panelPlacement:m}=h,g=E.value,v=f.value,b=l.default,D=l.header,O=l.footer,k=l.dropdown;return y("div",{ref:x,class:["vxe-pulldown",t?np.isFunction(t)?t({$pulldown:T}):t:"",{[`size--${v}`]:v,"is--visible":d,"is--disabled":i,"is--active":c}]},[y("div",{ref:w,class:"vxe-pulldown--content",onClick:P},b?b({$pulldown:T}):[]),y(S,{to:"body",disabled:!g||!s},[y("div",{ref:C,class:["vxe-table--ignore-clear vxe-pulldown--panel",o?np.isFunction(o)?o({$pulldown:T}):o:"",{[`size--${v}`]:v,"is--transfer":g,"ani--leave":u,"ani--enter":d}],placement:m,style:p},[y("div",{class:["vxe-pulldown--panel-wrapper",{"is--shadow":r}]},s&&(!a||(d||u))?[D?y("div",{class:"vxe-pulldown--panel-header"},D({$pulldown:T})):Rm(),y("div",{class:"vxe-pulldown--panel-body"},k?k({$pulldown:T}):[N(n)]),O?y("div",{class:"vxe-pulldown--panel-footer"},O({$pulldown:T})):Rm()]:[])])])])},T},render(){return this.renderVN()}}),ny=Object.assign(ty,{install:function(e){e.component(ty.name,ty)}});Am.use(ny),Im.component(ty);const oy=ny,ly=Object.assign(Fh,{install:function(e){e.component(Fh.name,Fh)}});Am.use(ly),Im.component(Fh);const ry=ly,ay=Object.assign(Mh,{install:function(e){e.component(Mh.name,Mh)}});Am.use(ay),Im.component(Mh);const iy=ay,sy=Object.assign(Ah,{install:function(e){e.component(Ah.name,Ah)}});Am.use(sy),Im.component(Ah);const cy=sy,uy=Object.assign({},Xb,{install(e){e.component(Xb.name,Xb)}});Am.use(uy),Im.component(Xb);const dy=uy,py=Pm({name:"VxeResult",props:{imageUrl:String,imageStyle:Object,icon:String,type:[String,Number],status:[String,Number],title:[String,Number],content:[String,Number]},emits:[],setup(e,t){const{emit:n,slots:o}=t,l=np.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent:(e,t,o)=>{n(e,zp(o,{$result:u},t))}};Object.assign(u,d,{});return u.renderVN=()=>{const{imageUrl:t,imageStyle:n,icon:l,title:r,type:a,content:i}=e,s=e.status||a,c=o.extra;return y("div",{ref:"refElem",class:["vxe-result",{[`theme--${s}`]:s}]},[y("div",{class:"vxe-result--inner"},[t?y("div",{class:"vxe-result--img-wrapper"},[y("img",{src:t,style:n})]):y("div",{class:"vxe-result--icon-wrapper"},[y("i",{class:[l,a?Mp()[`RESULT_${a}`.toLocaleUpperCase()]:""]})]),y("div",{class:"vxe-result--title-wrapper"},`${r||""}`),y("div",{class:"vxe-result--content-wrapper"},`${i||""}`),c?y("div",{class:"vxe-result--extra-wrapper"},c({})):Rm()])])},u},render(){return this.renderVN()}}),my=Object.assign({},py,{install(e){e.component(py.name,py)}});Am.use(my),Im.component(py);const gy=my,fy=Object.assign({},tb,{install(e){e.component(tb.name,tb)}});Am.use(fy),Im.component(tb);const vy=fy,hy=Object.assign($h,{install:function(e){e.component($h.name,$h)}});Am.use(hy),Im.component($h);const by=hy,xy=Pm({name:"VxeSplit",props:{width:[Number,String],height:[Number,String],vertical:{type:Boolean,default:()=>Rp().split.vertical},border:{type:Boolean,default:()=>Rp().split.border},padding:{type:Boolean,default:()=>Rp().split.padding},resize:{type:Boolean,default:()=>Rp().split.resize},items:Array,itemConfig:Object,barConfig:Object,actionConfig:Object},emits:["action-dblclick","action-click","toggle-expand","resize-start","resize-drag","resize-end"],setup(e,n){const{emit:o,slots:l}=n,a=np.uniqueId(),s=r(),c=m({staticItems:[],itemList:[]}),d={wrapperWidth:0,wrapperHeight:0},p=g(()=>Object.assign({},Rp().split.itemConfig,e.itemConfig)),h=g(()=>Object.assign({},Rp().split.barConfig,e.barConfig)),x=g(()=>Object.assign({},Rp().split.actionConfig,e.actionConfig)),w=g(()=>"next"===x.value.direction),C=g(()=>c.itemList.filter(e=>e.isVisible)),S=g(()=>{const{vertical:t}=e,n=[];let o=0,l=0;return c.itemList.forEach(t?e=>{const{renderHeight:t,resizeHeight:l,foldHeight:r,isVisible:a,height:i}=e,s=a?r||l||t:0;i||n.push(e),o+=s}:e=>{const{renderWidth:t,resizeWidth:o,foldWidth:r,isVisible:a,width:i}=e,s=a?r||o||t:0;i||n.push(e),l+=s}),{autoItems:n,heightCount:o,heightRatio:o/100,widthCount:l,widthRatio:l/100}}),E=g(()=>{const e=h.value,{width:t,height:n}=e,o={};return n&&(o.height=ag(n)),t&&(o.width=ag(t)),o}),D={computeItemOpts:p,computeBarOpts:h,computeActionOpts:x,computeIsFoldNext:w},T={refElem:s},O={xID:a,props:e,context:n,reactData:c,internalData:d,getRefMaps:()=>T,getComputeMaps:()=>D},k=(e,t,n)=>{o(e,zp(n,{$split:O},t))},R=t=>{const{vertical:n}=e,{showAction:o,isExpand:l}=t,r=w.value,a="SPLIT_TOP_ACTION",i="SPLIT_BOTTOM_ACTION",s="SPLIT_LEFT_ACTION",c="SPLIT_RIGHT_ACTION";if(o){let e="";if(e=r?n?l?i:a:l?c:s:n?l?a:i:l?s:c,e)return Mp()[e]}return""},I=(e,t)=>{const{staticItems:n}=c,o={isVisible:!0,isExpand:!0,renderWidth:0,resizeWidth:0,foldWidth:0,renderHeight:0,resizeHeight:0,foldHeight:0};return c.itemList=e.map(e=>(e.slots&&np.each(e.slots,e=>{np.isFunction(e)||l[e]||Lm("vxe.error.notSlot",[e])}),Object.assign({},t?null:o,e,t?o:null,{id:np.uniqueId()}))),n.length&&Lm("vxe.error.errConflicts",["<vxe-split-pane ...>","items"]),F()},P=e=>I(e||[],!1),F=()=>t().then(()=>{const{vertical:t}=e,{itemList:n}=c,o=s.value;if(!o)return;const l=o.clientWidth,r=o.clientHeight;if(!l||!r)return;const a=p.value,i=np.toNumber(a.minWidth),u=np.toNumber(a.minHeight),m=[];if(t){let e=0;if(n.forEach(t=>{const{height:n}=t;let o=0;n?(o=tg(n)?r*np.toNumber(n)/100:np.toNumber(n),t.renderHeight=o):m.push(t),e+=o}),m.length){const t=(r-e)/m.length;m.forEach(e=>{e.renderHeight=Math.max(np.toNumber($g(e.minHeight,u)),t)})}}else{let e=0;if(n.forEach(t=>{const{width:n}=t;let o=0;n?(o=tg(n)?l*np.toNumber(n)/100:np.toNumber(n),t.renderWidth=o):m.push(t),e+=o}),m.length){const t=(l-e)/m.length;m.forEach(e=>{e.renderWidth=Math.max(np.toNumber($g(e.minWidth,i)),t)})}}d.wrapperWidth=l,d.wrapperHeight=r}),M=t=>{const{resize:n,vertical:o}=e,{itemList:l}=c;if(!n)return;t.preventDefault();const r=t.currentTarget.parentElement,a=s.value;if(!a)return;const i=r.getAttribute("itemid"),u=np.findIndexOf(l,e=>e.id===i),d=l[u];if(!d)return;if(!d.isExpand)return;const m=w.value,g=p.value,f=np.toNumber(g.minWidth),v=np.toNumber(g.minHeight),h=l[u+(m?1:-1)],b=h?a.querySelector(`.vxe-split-pane[itemid="${h.id}"]`):null,x=d?a.querySelector(`.vxe-split-pane[itemid="${d.id}"]`):null,y=b?b.clientWidth:0,C=x?x.clientWidth:0,S=b?b.clientHeight:0,E=x?x.clientHeight:0,D=np.toNumber(h?$g(h.minWidth,f):f),T=np.toNumber($g(d.minWidth,f)),O=np.toNumber(h?$g(h.minHeight,v):v),R=np.toNumber($g(d.minHeight,v)),I=t.clientX,P=t.clientY;lg(a,"is--drag"),document.onmousemove=e=>{if(e.preventDefault(),o){const t=m?P-e.clientY:e.clientY-P;if(t>0){if(h&&E-t>=R){const n=E-t;h.resizeHeight=S+t,d.resizeHeight=n,k("resize-drag",{item:d,name:d.name,offsetHeight:t,resizeHeight:n,offsetWidth:0,resizeWidth:0},e)}}else if(h&&S+t>=O){const n=E-t;h.resizeHeight=S+t,d.resizeHeight=n,k("resize-drag",{item:d,name:d.name,offsetHeight:t,resizeHeight:n,offsetWidth:0,resizeWidth:0},e)}}else{const t=m?I-e.clientX:e.clientX-I;if(t>0){if(h&&C-t>=T){const n=C-t;h.resizeWidth=y+t,d.resizeWidth=n,k("resize-drag",{item:d,name:d.name,offsetHeight:0,resizeHeight:0,offsetWidth:t,resizeWidth:n},e)}}else if(h&&y+t>=D){const n=C-t;h.resizeWidth=y+t,d.resizeWidth=n,k("resize-drag",{item:d,name:d.name,offsetHeight:0,resizeHeight:0,offsetWidth:t,resizeWidth:n},e)}}},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,og(a,"is--drag"),k("resize-end",{item:d,name:d.name,resizeHeight:d.resizeHeight,resizeWidth:d.resizeWidth},e),F()},k("resize-start",{item:d,name:d.name},t)},A=t=>{if(!s.value)return;const{vertical:n}=e,{itemList:o}=c,l=w.value,r=t.currentTarget.parentElement.getAttribute("itemid"),a=np.findIndexOf(o,e=>e.id===r),i=o[a],u=o[a+(l?1:-1)];if(i){const{showAction:e,isExpand:o}=i;e&&(n?u&&(u.isVisible=!o,u.foldHeight=0,i.isExpand=!o,i.isVisible=!0,i.foldHeight=o?(u.resizeHeight||u.renderHeight)+(i.resizeHeight||i.renderHeight):0):u&&(u.isVisible=!o,u.foldWidth=0,i.isExpand=!o,i.isVisible=!0,i.foldWidth=o?(u.resizeWidth||u.renderWidth)+(i.resizeWidth||i.renderWidth):0),k("toggle-expand",{item:i,name:i.name,targetItem:u,targetName:u?u.name:"",expanded:i.isExpand},t),F())}},V=e=>{const{itemList:t}=c,n=x.value,o=e.currentTarget.parentElement.getAttribute("itemid"),l=t[np.findIndexOf(t,e=>e.id===o)];"dblclick"===n.trigger&&A(e),k("action-dblclick",{item:l,name:l?l.name:""},e)},$=e=>{const{itemList:t}=c,n=x.value,o=e.currentTarget.parentElement.getAttribute("itemid"),l=t[np.findIndexOf(t,e=>e.id===o)];"dblclick"!==n.trigger&&A(e),k("action-click",{item:l,name:l?l.name:""},e)},N=()=>{F()},L={dispatchEvent:k,recalculate:F,reset:()=>{const{itemList:e}=c;return e.forEach(e=>{e.isExpand=!0,e.isVisible=!0,e.foldHeight=0,e.foldWidth=0,e.resizeHeight=0,e.resizeWidth=0}),t()},loadItem:P,reloadItem:e=>I(e||[],!0)};Object.assign(O,L,{});const _=e=>{const t=E.value,n=x.value,o=w.value,{id:l,isExpand:r,showAction:a}=e;return y("div",{itemid:l,class:["vxe-split-pane-handle",o?"to--next":"to--prev"]},[y("div",{class:"vxe-split-pane-handle-bar",style:t,onMousedown:M}),a?y("span",{class:"vxe-split-pane-action-btn",onDblclick:V,onClick:$},[y("i",{class:(r?n.openIcon:n.closeIcon)||R(e)})]):Rm()])},B=()=>{const{border:t,padding:n,resize:o,vertical:r}=e,{itemList:a}=c,i=C.value,{autoItems:s}=S.value,u=w.value,d=[];return a.forEach((e,c)=>{const{id:p,name:m,slots:g,renderHeight:f,resizeHeight:v,foldHeight:h,renderWidth:b,resizeWidth:x,foldWidth:w,isVisible:C,isExpand:S}=e,E=g?g.default:null,D={};let T=C?w||x||b:0,O=C?h||v||f:0;var k,R;1===s.length&&(r?e.height||(O=0):e.width||(T=0)),r?O&&(D.height=1===i.length?"100%":ag(O)):T&&(D.width=1===i.length?"100%":ag(T)),d.push(y("div",{itemid:p,class:["vxe-split-pane",r?"is--vertical":"is--horizontal",{"is--resize":o,"is--padding":n,"is--border":t,"is--height":O,"is--width":T,"is--fill":C&&!O&&!T,"is--handle":c>0,"is--expand":S,"is--hidden":!C}],style:D},[c&&!u?_(e):Rm(),y("div",{itemid:p,class:"vxe-split-pane--wrapper"},[y("div",{class:"vxe-split-pane--inner"},E?(k=E,R={name:m,isVisible:C,isExpand:S},k&&(np.isString(k)&&(k=l[k]||null),np.isFunction(k))?Gm(k(R)):[]):[])]),u&&c<a.length-1?_(e):Rm()]))}),y("div",{class:"vxe-split-wrapper"},d)},z=r(0);let j;return i(()=>e.items?e.items.length:-1,()=>{z.value++}),i(()=>e.items,()=>{z.value++}),i(z,()=>{P(e.items||[])}),i(()=>c.staticItems,t=>{e.items&&e.items.length&&Lm("vxe.error.errConflicts",["<vxe-split-pane ...>","items"]),c.itemList=t,F()}),f(()=>{t(()=>{F()});const e=s.value;e&&(j=Kp.create(()=>{F()}),j.observe(e)),jp.on(O,"resize",N)}),v(()=>{j&&j.disconnect(),jp.off(O,"resize")}),u(()=>{F()}),e.items&&P(e.items),b("$xeSplit",O),O.renderVN=()=>{const{vertical:t,width:n,height:o}=e,r=l.default,a={};return o&&(a.height=ag(o)),n&&(a.width=ag(n)),y("div",{ref:s,class:["vxe-split",t?"is--vertical":"is--horizontal"],style:a},[y("div",{class:"vxe-split-slots"},r?r({}):[]),B()])},O},render(){return this.renderVN()}}),wy=Object.assign({},xy,{install(e){e.component(xy.name,xy)}});Am.use(wy),Im.component(xy);const yy=wy;const Cy=Pm({name:"VxeSplitPane",props:{name:[Number,String],width:[Number,String],height:[Number,String],showAction:Boolean,minWidth:{type:[Number,String],default:()=>null},minHeight:{type:[Number,String],default:()=>null}},emits:[],setup(e,t){const{emit:o,slots:l}=t,a=np.uniqueId(),s=n("$xeSplit",null),c=r(),u=m({id:a,name:e.name,width:e.width,height:e.height,minWidth:e.minWidth,minHeight:e.minHeight,showAction:e.showAction,isVisible:!0,isExpand:!0,renderWidth:0,resizeWidth:0,foldWidth:0,renderHeight:0,resizeHeight:0,foldHeight:0,slots:l}),d=m({}),p={},g={refElem:c},h={xID:a,props:e,context:t,reactData:d,internalData:{},getRefMaps:()=>g,getComputeMaps:()=>p},x={dispatchEvent:(e,t,n)=>{o(e,zp(n,{$splitPane:h},t))}};Object.assign(h,x,{});return i(()=>e.name,e=>{u.name=e}),i(()=>e.width,e=>{u.width=e}),i(()=>e.height,e=>{u.height=e}),i(()=>e.minWidth,e=>{u.minWidth=e}),i(()=>e.minHeight,e=>{u.minHeight=e}),i(()=>e.showAction,e=>{u.showAction=e}),f(()=>{const e=c.value;s&&e&&function(e,t,n){const o=e.reactData.staticItems,l=t.parentNode;l&&(o.splice(np.arrayIndexOf(l.children,t),0,n),e.reactData.staticItems=o.slice(0))}(s,e,u)}),v(()=>{s&&function(e,t){const n=e.reactData.staticItems,o=np.findIndexOf(n,e=>e.id===t.id);o>-1&&n.splice(o,1),e.reactData.staticItems=n.slice(0)}(s,u)}),b("$xeSplitItem",h),h.renderVN=()=>y("div",{ref:c}),h},render(){return this.renderVN()}}),Sy=Object.assign({},Cy,{install(e){e.component(Cy.name,Cy),e.component("VxeSplitItem",Cy)}});Am.use(Sy),Im.component(Cy);const Ey=Sy,Dy=Object.assign({},Jb,{install(e){e.component(Jb.name,Jb)}});Am.use(Dy),Im.component(Jb);const Ty=Dy,Oy=Pm({name:"VxeSteps",props:{},emits:[],setup(e,t){const{emit:n}=t,o=np.uniqueId(),l=r(),a=m({}),i={refElem:l},s={},c={xID:o,props:e,context:t,reactData:a,getRefMaps:()=>i,getComputeMaps:()=>s},u={dispatchEvent:(e,t,o)=>{n(e,zp(o,{$steps:c},t))}};Object.assign(c,u,{});return c.renderVN=()=>y("div",{ref:l,class:"vxe-steps"},[]),c},render(){return this.renderVN()}}),ky=Object.assign({},Oy,{install(e){e.component(Oy.name,Oy)}});Am.use(ky),Im.component(Oy);const Ry=ky,Iy=Object.assign(wh,{install:function(e){e.component(wh.name,wh)}});Am.use(Iy),Im.component(wh);const Py=Iy,Fy=Object.assign({},hh,{install(e){e.component(hh.name,hh)}});Am.use(Fy),Im.component(hh);const My=Fy;const Ay=Pm({name:"VxeTableSelect",props:{modelValue:[String,Number,Array],clearable:Boolean,placeholder:{type:String,default:()=>np.eqNull(Rp().tableSelect.placeholder)?Qp("vxe.base.pleaseSelect"):Rp().tableSelect.placeholder},readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,className:[String,Function],prefixIcon:String,placement:String,columns:Array,options:Array,optionProps:Object,size:{type:String,default:()=>Rp().select.size||Rp().size},popupConfig:Object,gridConfig:Object,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","blur","focus","click","form-submit","form-reset","form-collapse","page-change"],setup(e,o){const{emit:l,slots:a}=o,s=Im.getComponent("VxeGrid"),c=n("$xeModal",null),u=n("$xeDrawer",null),d=n("$xeTable",null),p=n("$xeForm",null),h=n("xeFormItemInfo",null),x=np.uniqueId(),{computeSize:w}=ym(e),C=r(),E=r(),D=r(),T=r(),O=r(),k=m({initialized:!1,tableColumns:[],fullOptionList:[],fullRowMaps:{},panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),R={},I={refElem:C},P=g(()=>{const{readonly:t}=e;return null===t?!!p&&p.props.readonly:t}),F=g(()=>{const{disabled:t}=e;return null===t?!!p&&p.props.disabled:t}),M=g(()=>{const{transfer:t}=e;if(null===t){const e=Rp().select.transfer;if(np.isBoolean(e))return e;if(d||c||u||p)return!0}return t}),A=g(()=>e.optionProps||{}),V=g(()=>{const e=B.value;return Object.assign({},e.rowConfig,{isCurrent:!0})}),$=g(()=>V.value.keyField||"_X_ROW_KEY"),N=g(()=>A.value.label||"label"),L=g(()=>A.value.value||"value"),_=g(()=>Object.assign({},Rp().tableSelect.popupConfig,e.popupConfig)),B=g(()=>Object.assign({},Rp().tableSelect.gridConfig,e.gridConfig,{data:void 0,columns:void 0})),z=g(()=>{const{modelValue:t}=e,{fullRowMaps:n}=k,o=N.value;return(np.isArray(t)?t:[t]).map(e=>{const t=n[e];return t?t.item[o]:e}).join(", ")}),j=g(()=>{const e=_.value,{height:t,width:n}=e,o={};return n&&(o.width=ag(n)),t&&(o.height=ag(t)),o}),H={},W={xID:x,props:e,context:o,reactData:k,getRefMaps:()=>I,getComputeMaps:()=>H},q={};["form-submit","form-reset","form-collapse","page-change"].forEach(e=>{q[Hm(np.camelCase(e))]=t=>{G(e,t,t.$event)}});const G=(e,t,n)=>{l(e,zp(n,{$tableSelect:W},t))},U={dispatchEvent:G},K=n=>{const{multiple:o}=e;t(()=>{const e=O.value;if(e){const t=(e=>{const{fullRowMaps:t}=k,n=[];return(np.eqNull(e)?[]:np.isArray(e)?e:[e]).forEach(e=>{const o=t[e];o&&n.push(o.item)}),n})(n);t.length&&(o?e.setCheckboxRow(t,!0):e.setRadioRow(t[0]))}})},Y=t=>{const{multiple:n}=e,o=[];n?o.push({type:"checkbox",width:70}):o.push({type:"radio",width:70}),k.tableColumns=o.concat(t||[])},X=()=>{const{options:t}=e,n=$.value,o=L.value,l=B.value,{treeConfig:r}=l,a={},i={};r||np.arrayEach(t||[],(e,t,l)=>{let r=(e=>{const t=e[$.value];return t?encodeURIComponent(t):""})(e);r||(r=np.uniqueId("row_")),i[r]&&Lm("vxe.error.repeatKey",[n,r]),i[r]=!0;const s=e[o];a[s]&&Lm("vxe.error.repeatKey",[o,s]),a[s]={item:e,index:t,items:l,parent:null,nodes:[]}}),k.fullOptionList=t||[],k.fullRowMaps=a,K(e.modelValue)},Z=()=>{const{placement:n}=e,{panelIndex:o}=k,l=C.value,r=T.value,a=M.value,i=()=>{const e=gg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});k.panelStyle=t,k.panelPlacement=e.placement};return i(),t().then(i)},Q=()=>{const{loading:t}=e,n=F.value;t||n||(R.vpTimeout&&clearTimeout(R.vpTimeout),R.hpTimeout&&clearTimeout(R.hpTimeout),k.initialized||(k.initialized=!0),k.isActivated=!0,k.isAniVisible=!0,R.vpTimeout=setTimeout(()=>{k.visiblePanel=!0,K(e.modelValue),R.vpTimeout=void 0},10),k.panelIndex<Vg()&&(k.panelIndex=Ag()),Z())},J=()=>{k.visiblePanel=!1,R.vpTimeout&&clearTimeout(R.vpTimeout),R.hpTimeout&&clearTimeout(R.hpTimeout),R.hpTimeout=setTimeout(()=>{k.isAniVisible=!1,R.hpTimeout=void 0},350)},ee=(t,n)=>{const{fullRowMaps:o}=k;if(l("update:modelValue",n),n!==e.modelValue){const e=o[n];G("change",{value:n,row:e?e.item:null},t),p&&h&&p.triggerItemEvent(t,h.itemConfig.field,n)}},te=(e,t)=>{((e,t)=>{ee(e,t),G("clear",{value:t},e)})(t,null),J()},ne=e=>{const{visiblePanel:t}=k;if(!F.value&&t){sg(e,T.value).flag?Z():J()}},oe=e=>{const{visiblePanel:t}=k;if(!F.value){const n=C.value,o=T.value;k.isActivated=sg(e,n).flag||sg(e,o).flag,t&&!k.isActivated&&J()}},le=()=>{J()},re=()=>{const{visiblePanel:e}=k;e&&Z()},ae=e=>{F.value||k.visiblePanel||(k.triggerFocusPanel=!0,Q(),setTimeout(()=>{k.triggerFocusPanel=!1},150)),G("focus",{},e)},ie=e=>{ce(e),G("click",{},e)},se=e=>{k.isActivated=!1,G("blur",{},e)},ce=e=>{const{$event:t}=e;t.preventDefault(),k.triggerFocusPanel?k.triggerFocusPanel=!1:k.visiblePanel?J():Q()},ue=e=>{const{$event:t,row:n}=e,o=n[L.value];ee(t,o),J()},de=e=>{const{$grid:t,$event:n}=e,o=L.value;if(t){const e=t.getCheckboxRecords().map(e=>e[o]);ee(n,e)}},pe=e=>{de(e)};Object.assign(W,U,{});return i(()=>e.options,()=>{X()}),i(()=>e.columns,e=>{Y(e||[])}),i(()=>e.modelValue,e=>{K(e)}),Y(e.columns||[]),X(),f(()=>{jp.on(W,"mousewheel",ne),jp.on(W,"mousedown",oe),jp.on(W,"blur",le),jp.on(W,"resize",re)}),v(()=>{jp.off(W,"mousewheel"),jp.off(W,"mousedown"),jp.off(W,"blur"),jp.off(W,"resize")}),t(()=>{s||Lm("vxe.error.reqComp",["vxe-grid"])}),b("$xeTableSelect",W),W.renderVN=()=>{const{className:t,options:n,loading:o}=e,{initialized:l,isActivated:r,isAniVisible:i,visiblePanel:c,tableColumns:u}=k,d=w.value,p=F.value,m=z.value,g=M.value,f=P.value,v=_.value,{className:h}=v,b=B.value,x=V.value,R=j.value,I=a.header,A=a.footer,$=a.prefix;return f?y("div",{ref:C,class:["vxe-table-select--readonly",t]},[y("span",{class:"vxe-table-select-label"},m)]):y("div",{ref:C,class:["vxe-table-select",t?np.isFunction(t)?t({$tableSelect:W}):t:"",{[`size--${d}`]:d,"is--visible":c,"is--disabled":p,"is--loading":o,"is--active":r}]},[y(Gf,{ref:E,clearable:e.clearable,placeholder:o?Qp("vxe.select.loadingText"):e.placeholder,readonly:!0,disabled:p,type:"text",prefixIcon:e.prefixIcon,suffixIcon:o?Mp().TABLE_SELECT_LOADED:c?Mp().TABLE_SELECT_OPEN:Mp().TABLE_SELECT_CLOSE,modelValue:o?"":m,onClear:te,onClick:ie,onFocus:ae,onBlur:se,onSuffixClick:ce},$?{prefix:()=>$({})}:{}),y(S,{to:"body",disabled:!g||!l},[y("div",{ref:T,class:["vxe-table--ignore-clear vxe-table-select--panel",h?np.isFunction(h)?h({$tableSelect:W}):h:"",{[`size--${d}`]:d,"is--transfer":g,"ani--leave":!o&&i,"ani--enter":!o&&c}],placement:k.panelPlacement,style:k.panelStyle},l?[y("div",{class:"vxe-table-select--panel-wrapper"},[I?y("div",{class:"vxe-table-select--panel-header"},I({})):Rm(),y("div",{class:"vxe-table-select--panel-body"},[y("div",{ref:D,class:"vxe-table-select-grid--wrapper",style:R},[s?y(s,Object.assign(Object.assign(Object.assign({},b),q),{class:"vxe-table-select--grid",ref:O,rowConfig:x,data:n,columns:u,height:"100%",autoResize:!0,onRadioChange:ue,onCheckboxChange:de,onCheckboxAll:pe}),Object.assign({},a,{header:void 0,footer:void 0,prefixSlot:void 0})):Rm()])]),A?y("div",{class:"vxe-table-select--panel-footer"},A({})):Rm()])]:[])])])},W},render(){return this.renderVN()}}),Vy=Object.assign({},Ay,{install(e){e.component(Ay.name,Ay)}});Am.use(Vy),Im.component(Ay);const $y=Vy,Ny=Object.assign({},vh,{install(e){e.component(vh.name,vh)}});Am.use(Ny),Im.component(vh);const Ly=Ny,_y=Pm({name:"VxeTag",props:{status:String,title:[String,Number],icon:String,content:[String,Number],size:{type:String,default:()=>Rp().tag.size||Rp().size}},emits:["click"],setup(e,t){const{slots:n,emit:o}=t,l=np.uniqueId(),{computeSize:a}=ym(e),i=r(),s=m({}),c={refElem:i},u={},d={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p=(e,t,n)=>{o(e,zp(n,{$tag:d},t))},g={dispatchEvent:p},f=e=>{p("click",{},e)};Object.assign(d,g,{});return d.renderVN=()=>{const{status:t,title:o}=e,l=a.value;return y("span",{ref:i,class:["vxe-tag",{[`size--${l}`]:l,[`theme--${t}`]:t}],title:o,onClick:f},(()=>{const{icon:t,content:o}=e,l=n.default,r=n.icon;return[r||t?y("span",{class:"vxe-tag--icon"},r?Gm(r({})):[y("i",{class:t})]):Rm(),y("span",{class:"vxe-tag--content"},l?l({}):np.toValueString(o))]})())},d},render(){return this.renderVN()}}),By=Object.assign({},_y,{install(e){e.component(_y.name,_y)}});Am.use(By),Im.component(_y);const zy=By,jy=Pm({name:"VxeTextEllipsis",props:{href:String,target:String,content:[String,Number],lineClamp:[String,Number],status:String,title:[String,Number],loading:Boolean,offsetLength:[String,Number],routerLink:Object,underline:{type:Boolean,default:()=>Rp().textEllipsis.underline},permissionCode:[String,Number],size:{type:String,default:()=>Rp().textEllipsis.size||Rp().size}},emits:["click"],setup(e,t){const{emit:n}=t,o=np.uniqueId(),{computeSize:l}=ym(e),{computePermissionInfo:a}=Cm(e),c=r(),u=r(),d=m({resizeObserver:null,visibleLen:0}),p={refElem:c},v=g(()=>np.toNumber(e.lineClamp)),h=g(()=>np.toValueString(e.content)),b=g(()=>e.offsetLength?np.toNumber(e.offsetLength):0),x=g(()=>{const{visibleLen:e}=d,t=v.value,n=h.value,o=b.value;return t>1&&n.length>e?`${n.slice(0,Math.max(1,e-3+o))}...`:n}),w={},S={xID:o,props:e,context:t,reactData:d,getRefMaps:()=>p,getComputeMaps:()=>w},E=()=>{const e=c.value,t=u.value,n=h.value,o=v.value;if(e&&t){const l=e.clientWidth;t.style.display="block",t.style.position="absolute",t.style.top="-3000px",t.style.left="-3000px",t.textContent=n;const r=t.offsetWidth,a=Math.floor(l*o);a>r?d.visibleLen=n.length:(e=>{const t=c.value,n=u.value;if(t&&n){let t=12;try{t=Math.max(10,np.toNumber(getComputedStyle(n).fontSize))}catch(o){}const l=h.value;let r=Math.floor(e/t),a=l.slice(0,r);n.textContent=a,d.visibleLen=a.length;let i=0;for(;e>n.clientWidth&&i<30;){i++;const o=Math.floor((e-n.clientWidth)/t);if(!o)break;r+=o,a=l.slice(0,r),n.textContent=a,d.visibleLen=a.length}n.textContent="",n.style.display="",n.style.position="",n.style.top="",n.style.left=""}})(a)}else d.visibleLen=n.length},D={dispatchEvent:(e,t,o)=>{n(e,zp(o,{$textEllipsis:S},t))}},T=()=>{n("click",{})},O=()=>{const{resizeObserver:e}=d,t=v.value;if(!e){const e=c.value;if(e&&t>1&&window.ResizeObserver){const t=new window.ResizeObserver(np.throttle(()=>{E()},300,{leading:!0,trailing:!0}));t.observe(e),d.resizeObserver=t}}};Object.assign(S,D,{});const k=()=>{const{routerLink:t,href:n,target:o,title:l}=e,r=x.value;return t?y(C("router-link"),{class:"vxe-text-ellipsis--link",title:l,target:o,to:t},{default:()=>k()}):n?y("a",{class:"vxe-text-ellipsis--link",href:n,target:o,title:l},r):y("span",{class:"vxe-text-ellipsis--content"},r)};return i(()=>e.content,()=>{E()}),i(()=>e.lineClamp,()=>{O(),E()}),f(()=>{O(),E()}),s(()=>{const{resizeObserver:e}=d,t=c.value,n=u.value;n&&(n.textContent=""),e&&(t&&e.unobserve(t),e.disconnect(),d.resizeObserver=null)}),S.renderVN=()=>{const{loading:t,status:n,title:o,underline:r}=e,i=a.value,s=l.value,d=v.value;return i.visible?y("div",{ref:c,class:["vxe-text-ellipsis",d>1?"is--multi":"is--single",{[`size--${s}`]:s,[`theme--${n}`]:n,"is--underline":r,"is--loading":t}],title:o,onClick:T},[y("span",{ref:u,class:"vxe-text-ellipsis--reality"}),k()]):Rm()},S},render(){return this.renderVN()}}),Hy=Object.assign({},jy,{install(e){e.component(jy.name,jy)}});Am.use(Hy),Im.component(jy);const Wy=Hy,qy=Object.assign({},Xf,{install(e){e.component(Xf.name,Xf)}});Am.use(qy),Im.component(Xf);const Gy=qy,Uy=Object.assign(Kh,{install:function(e){e.component(Kh.name,Kh)}});Am.use(Uy),Im.component(Kh);const Ky=Uy,Yy=Object.assign({},Yh,{install(e){e.component(Yh.name,Yh),e.component("VxeTipsComponent",Yh)}});Am.use(Yy),Im.component(Yh);const Xy=Yy,Zy=Yy,Qy=Object.assign({},Bg,{install(e){e.component(Bg.name,Bg)}});Am.use(Qy),Im.component(Bg);const Jy=Qy,eC=Object.assign({},Pb,{install(e){e.component(Pb.name,Pb)}});Am.use(eC),Im.component(Pb);const tC=eC,nC=Object.assign({},Fb,{install(e){e.component(Fb.name,Fb)}});Am.use(nC),Im.component(Fb);const oC=nC,lC=Object.assign({},qb,{install(e){e.component(qb.name,qb)}});Am.use(lC),Im.component(qb),Im.saveFile=Wb,Im.readFile=Hb;const rC=lC;let aC=null,iC=null;const sC={};function cC(e){if(e){const t=e.parentNode;t&&t.removeChild(e)}}function uC(e,t,n){return(e.font?e.font[t]:"")||(n.font?n.font[t]:"")}function dC(e,t,n){const{offset:o}=n,l=np.toValueString(e.textContent),r=np.toNumber(uC(e,"fontSize",n)||t)||14,[a=0,i=0]=o?np.isArray(o)?o:[o,o]:[],{width:s,height:c}=function(e,t){const n=`${t}_${e}`;if(!sC[n]){iC||(iC=document.createElement("span")),iC.parentNode||document.body.append(iC),iC.textContent=e,iC.style.fontSize=ag(t);const o=iC.offsetWidth,l=iC.offsetHeight;sC[n]={width:o,height:l}}return sC[n]}(l,r);return{text:l,fontSize:r,font:e.font,width:s+np.toNumber(a),height:c+np.toNumber(i)}}function pC(e,t,n){const o=Object.assign({},n),{rotate:l}=o,r=np.toNumber(l),a=(np.isArray(e)?e:[e]).map(e=>e?e.textContent?dC(e,t,o):dC({textContent:`${e}`},t,o):dC({textContent:""},t,o));return cC(iC),new Promise(e=>{const t=(aC||(aC=document.createElement("canvas"),aC.style.position="absolute",aC.style.top="0",aC.style.left="0"),aC);t.parentNode||document.body.append(t);const n=t.getContext("2d");if(n&&a.length){const{contentWidth:l,contentHeight:i}=function(e){let t=0,n=0;return e.forEach(e=>{t=Math.max(e.width,t),n=Math.max(e.height,n)}),{contentWidth:t,contentHeight:n}}(a),{canvasWidth:s,canvasHeight:c}=function(e,t){const{gap:n}=t,[o=0,l=0]=n?np.isArray(n)?n:[n,n]:[];return{canvasWidth:e+np.toNumber(o),canvasHeight:e+np.toNumber(l)}}(l,o);t.width=s,t.height=c;const u=(s-l)/2,d=(c-i)/2,p=u+l/2,m=d+i/2;n.save(),n.translate(p,m),n.rotate(r*Math.PI/180),n.translate(-p,-m);let g=0;a.forEach(e=>{const t=uC(e,"align",o);!function(e,t,n){const o=uC(t,"fontWeight",n);e.fillStyle=`${uC(t,"color",n)||"rgba(0, 0, 0, 0.15)"}`,e.font=[uC(t,"fontStyle",n)||"normal","bold"===o||"bolder"===o?"bold":"",ag(t.fontSize),uC(t,"fontFamily",n)||"sans-serif"].join(" ")}(n,e,o),n.fillText(e.text,u+("center"===t?(l-e.width)/2:0),d+(i+i)/2+g,l),g+=e.height}),n.restore(),e(t.toDataURL()),cC(t)}else e(""),cC(t)})}const mC=Pm({name:"VxeWatermark",props:{width:String,height:String,imageUrl:String,rotate:{type:[Number,String],default:()=>Rp().watermark.rotate},gap:{type:[Array,Number,String],default:()=>np.clone(Rp().watermark.gap,!0)},content:[String,Array],font:Object,offset:Object,zIndex:[String,Number]},emits:[],setup(e,t){const{emit:n}=t,o=np.uniqueId(),l=r(),a=m({markUrl:""}),s={refElem:l},c=g(()=>np.assign({},np.clone(Rp().watermark.font,!0),e.font)),u=g(()=>{const{width:t,height:n,zIndex:o}=e,{markUrl:l}=a,r={};return t&&(r.width=ag(t)),n&&(r.height=ag(n)),l&&(r.backgroundImage=`url(${l})`),o&&(r.zIndex=o),r}),d={},p={xID:o,props:e,context:t,reactData:a,getRefMaps:()=>s,getComputeMaps:()=>d},h={dispatchEvent:(e,t,o)=>{n(e,zp(o,{$watermark:p},t))}},b=()=>{const{content:t,gap:n,rotate:o,offset:r}=e,i=l.value,s=c.value;i&&t&&pC(t,getComputedStyle(i).fontSize,{font:s,rotate:o,gap:n,offset:r}).then(e=>{a.markUrl=e})};Object.assign(p,h,{});return i(()=>e.imageUrl,()=>{b()}),i(()=>e.content,()=>{b()}),i(()=>e.gap,()=>{b()}),i(()=>e.rotate,()=>{b()}),i(()=>e.width,()=>{b()}),i(()=>e.height,()=>{b()}),i(()=>e.font,()=>{b()}),f(()=>{b(),jp.on(p,"resize",np.throttle(()=>{b()},300,{trailing:!0,leading:!0}))}),v(()=>{jp.off(p,"resize")}),p.renderVN=()=>{const e=u.value;return y("div",{ref:l,class:"vxe-watermark",style:e})},p},render(){return this.renderVN()}}),gC=Object.assign({},mC,{install(e){e.component(mC.name,mC)}});Am.use(gC),Im.component(mC);const fC={load:e=>(Vm(),Mm.globalWatermark=Object.assign({},e),Promise.resolve()),clear:()=>(Mm.globalWatermark=null,Promise.resolve())};Im.watermark=fC;const vC=gC,hC=[Km,hg,xg,Cg,Dg,Rg,Pg,jg,qg,lf,cf,pf,ff,bf,yf,Ef,Of,If,Mf,Kf,Qf,tv,lv,iv,vv,xv,rh,tx,rx,ix,cx,dx,mx,vx,yx,Ex,Tx,kx,Px,Ax,Nx,Bx,Hx,Gx,tw,lw,iw,cv,uw,fw,bw,ww,kw,Pw,Aw,Nw,Xw,Jw,ny,ly,ay,sy,uy,my,fy,hy,wy,Sy,Dy,ky,Iy,Fy,Vy,Ny,By,Hy,qy,Uy,Yy,Qy,eC,nC,lC,gC];const bC="zh-CN";em(bC,{vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",maxGroupCol:"最大分组字段的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素",rowGroupContentTotal:"{0}（{1}）"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整顺序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},dateRangePicker:{pleaseRange:"请选择开始日期与结束日期"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},extendPivotTable:{aggregation:{grouping:"分组",values:"值",groupPlaceholder:"拖至此处进行分组",valuesPlaceholder:"拖至此处进行聚合",dragExistCol:"该列已存在",sortHelpTip:"点击并拖动图标可以调整顺序"},aggFuncs:{sum:"求和",count:"计数",avg:"平均值",min:"最小值",max:"最大值",first:"首个值",last:"末尾值"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}}),Jp(bC),Tp("light");const xC=uv,wC=gw,yC=fv,CC=fC,SC=Kw,EC=Wb,DC=Hb,TC=Object.freeze(Object.defineProperty({__proto__:null,Alert:Ym,Anchor:bg,AnchorLink:wg,Avatar:Sg,Badge:Tg,Breadcrumb:Ig,BreadcrumbItem:Fg,Button:Hg,ButtonGroup:Gg,Calendar:rf,Card:uf,Carousel:mf,CarouselItem:vf,Checkbox:xf,CheckboxButton:Cf,CheckboxGroup:Df,Col:kf,Collapse:Pf,CollapsePane:Af,ColorPicker:Yf,Countdown:Jf,DatePanel:nv,DatePicker:rv,DateRangePicker:sv,Drawer:hv,DrawerController:fv,Empty:wv,Form:ah,FormDesign:ox,FormGather:ax,FormGroup:sx,FormItem:ux,FormView:px,GLOBAL_EVENT_KEYS:Ap,Icon:gx,IconPicker:hx,Image:Cx,ImageGroup:Dx,ImagePreview:Ox,Input:Rx,LayoutAside:Fx,LayoutBody:Vx,LayoutContainer:Lx,LayoutFooter:zx,LayoutHeader:Wx,Link:Ux,List:sw,ListDesign:nw,ListView:rw,Loading:dv,LoadingController:uv,Menu:dw,Modal:vw,ModalController:gw,NoticeBar:xw,NumberInput:yw,Optgroup:Rw,Option:Fw,Pager:Vw,PasswordInput:Lw,Print:ey,PrintPageBreak:Zw,Pulldown:oy,Radio:ry,RadioButton:iy,RadioGroup:cy,Rate:dy,Result:gy,Row:vy,Select:by,Slider:Ty,Split:yy,SplitPane:Ey,Steps:Ry,Switch:Py,TabPane:My,TableSelect:$y,Tabs:Ly,Tag:zy,Text:Gy,TextEllipsis:Wy,Textarea:Ky,Tip:Zy,Tips:Xy,Tooltip:Jy,Tree:tC,TreeSelect:oC,Upload:rC,VxeAlert:Km,VxeAnchor:hg,VxeAnchorLink:xg,VxeAvatar:Cg,VxeBadge:Dg,VxeBreadcrumb:Rg,VxeBreadcrumbItem:Pg,VxeButton:jg,VxeButtonGroup:qg,VxeCalendar:lf,VxeCard:cf,VxeCarousel:pf,VxeCarouselItem:ff,VxeCheckbox:bf,VxeCheckboxButton:yf,VxeCheckboxGroup:Ef,VxeCol:Of,VxeCollapse:If,VxeCollapsePane:Mf,VxeColorPicker:Kf,VxeCore:mt,VxeCountdown:Qf,VxeDatePanel:tv,VxeDatePicker:lv,VxeDateRangePicker:iv,VxeDrawer:vv,VxeEmpty:xv,VxeForm:rh,VxeFormDesign:tx,VxeFormGather:rx,VxeFormGroup:ix,VxeFormItem:cx,VxeFormView:dx,VxeIcon:mx,VxeIconPicker:vx,VxeImage:yx,VxeImageGroup:Ex,VxeImagePreview:Tx,VxeInput:kx,VxeLayoutAside:Px,VxeLayoutBody:Ax,VxeLayoutContainer:Nx,VxeLayoutFooter:Bx,VxeLayoutHeader:Hx,VxeLink:Gx,VxeList:iw,VxeListDesign:tw,VxeListView:lw,VxeLoading:cv,VxeMenu:uw,VxeModal:fw,VxeNoticeBar:bw,VxeNumberInput:ww,VxeOptgroup:kw,VxeOption:Pw,VxePager:Aw,VxePasswordInput:Nw,VxePrint:Jw,VxePrintPageBreak:Xw,VxePulldown:ny,VxeRadio:ly,VxeRadioButton:ay,VxeRadioGroup:sy,VxeRate:uy,VxeResult:my,VxeRow:fy,VxeSelect:hy,VxeSlider:Dy,VxeSplit:wy,VxeSplitPane:Sy,VxeSteps:ky,VxeSwitch:Iy,VxeTabPane:Fy,VxeTableSelect:Vy,VxeTabs:Ny,VxeTag:By,VxeText:qy,VxeTextEllipsis:Hy,VxeTextarea:Uy,VxeTip:Yy,VxeTooltip:Qy,VxeTree:eC,VxeTreeSelect:nC,VxeUI:Im,VxeUpload:lC,VxeWatermark:gC,Watermark:vC,WatermarkController:fC,clipboard:hm,commands:pm,component:km,config:Bm,coreVersion:pt,createEvent:zp,drawer:yC,formats:dm,getComponent:Om,getConfig:Rp,getI18n:Qp,getIcon:Mp,getLanguage:nm,getTheme:Op,globalEvents:jp,globalResize:Kp,globalStore:Ip,handleCheckInfo:bm,hasLanguage:tm,hooks:wm,install:function(e,t){kp(t),hC.forEach(t=>e.use(t))},interceptor:gm,loading:xC,log:rm,menus:um,modal:wC,permission:xm,print:SC,readFile:DC,renderEmptyElement:Rm,renderer:im,saveFile:EC,setConfig:kp,setI18n:em,setIcon:Fp,setLanguage:Jp,setTheme:Tp,setup:zm,use:Dm,useFns:Sm,usePermission:Cm,useSize:ym,validators:cm,version:_m,watermark:CC},Symbol.toStringTag,{value:"Module"}));function OC(e){return e&&!1!==e.enabled}function kC(e){return null==e||""===e}function RC(e){const t=e.name,n=np.lastIndexOf(t,"."),o=t.substring(n+1,t.length).toLowerCase();return{filename:t.substring(0,n),type:o}}function IC(){return Sp.getNext()}function PC(){return Sp.getCurrent()}function FC(e){return e&&e.children&&e.children.length>0}function MC(e,t){if(e){const n=Im.getConfig().translate;return np.toValueString(n?n(""+e,t):e)}return""}function AC(e,t){return""+(kC(e)?t?Im.getConfig().emptyCell:"":e)}function VC(e){return""===e||np.eqNull(e)}const $C="4.13.48";Im.version=$C,Im.tableVersion=$C,Im.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",storeOptions:{visible:!0,resizable:!0,sort:!0,fixed:!0},modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},aggregateConfig:{padding:!0,rowField:"id",parentField:"_X_ROW_PARENT_KEY",childrenField:"_X_ROW_CHILDREN",mapChildrenField:"_X_ROW_CHILD_LIST",indent:20,showIcon:!0,maxGroupSize:4,showAggFuncTitle:!0},treeConfig:{padding:!0,rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isAll:!0,isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{gt:24,preSize:1,oSize:0},virtualYConfig:{gt:100,preSize:1,oSize:0},scrollbarConfig:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showResponseMsg:!0,showActiveMsg:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{}});const NC="vxe-table-icon-";Im.setIcon({TABLE_SORT_ASC:NC+"caret-up",TABLE_SORT_DESC:NC+"caret-down",TABLE_FILTER_NONE:NC+"funnel",TABLE_FILTER_MATCH:NC+"funnel",TABLE_EDIT:NC+"edit",TABLE_TITLE_PREFIX:NC+"question-circle-fill",TABLE_TITLE_SUFFIX:NC+"question-circle-fill",TABLE_TREE_LOADED:NC+"spinner roll",TABLE_TREE_OPEN:NC+"caret-right rotate90",TABLE_TREE_CLOSE:NC+"caret-right",TABLE_EXPAND_LOADED:NC+"spinner roll",TABLE_EXPAND_OPEN:NC+"arrow-right rotate90",TABLE_EXPAND_CLOSE:NC+"arrow-right",TABLE_CHECKBOX_CHECKED:NC+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:NC+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:NC+"checkbox-indeterminate-fill",TABLE_CHECKBOX_DISABLED_UNCHECKED:NC+"checkbox-unchecked-fill",TABLE_RADIO_CHECKED:NC+"radio-checked-fill",TABLE_RADIO_UNCHECKED:NC+"radio-unchecked",TABLE_RADIO_DISABLED_UNCHECKED:NC+"radio-unchecked-fill",TABLE_CUSTOM_SORT:NC+"drag-handle",TABLE_MENU_OPTIONS:NC+"arrow-right",TABLE_DRAG_ROW:NC+"drag-handle",TABLE_DRAG_COLUMN:NC+"drag-handle",TABLE_DRAG_STATUS_ROW:NC+"sort",TABLE_DRAG_STATUS_SUB_ROW:NC+"add-sub",TABLE_DRAG_STATUS_AGG_GROUP:NC+"grouping",TABLE_DRAG_STATUS_AGG_VALUES:NC+"values",TABLE_DRAG_STATUS_COLUMN:NC+"swap",TABLE_DRAG_DISABLED:NC+"no-drop",TABLE_ROW_GROUP_OPEN:NC+"arrow-right rotate90",TABLE_ROW_GROUP_CLOSE:NC+"arrow-right",TABLE_AGGREGATE_GROUPING:NC+"grouping",TABLE_AGGREGATE_VALUES:NC+"values",TABLE_AGGREGATE_SORT:NC+"drag-handle",TABLE_AGGREGATE_DELETE:NC+"close",TOOLBAR_TOOLS_REFRESH:NC+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:NC+"repeat roll",TOOLBAR_TOOLS_IMPORT:NC+"upload",TOOLBAR_TOOLS_EXPORT:NC+"download",TOOLBAR_TOOLS_PRINT:NC+"print",TOOLBAR_TOOLS_FULLSCREEN:NC+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:NC+"minimize",TOOLBAR_TOOLS_CUSTOM:NC+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:NC+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:NC+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:NC+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:NC+"fixed-right-fill"});const LC=Im.setTheme,_C=Im.getTheme,BC=Im.setConfig,zC=Im.getConfig,jC=Im.setIcon,HC=Im.getIcon,WC=Im.setLanguage,qC=Im.setI18n,GC=Im.getI18n,UC=Im.globalEvents,KC=Im.globalResize,YC=Im.renderer,XC=Im.validators,ZC=Im.menus,QC=Im.formats,JC=Im.commands,eS=Im.interceptor,tS=Im.clipboard,nS=Im.log,oS=Im.hooks,lS=Im.use,rS=e=>Im.setConfig(e);Im.setup=rS;const aS=e=>Im.setConfig(e);Im.config=aS;const iS=(e,t)=>Im.getI18n(e,t);Im.t=iS;const sS=(e,t)=>MC(e,t);Im._t=sS;const cS=Im,uS={get:e=>Im.modal.get(e),close:e=>Im.modal.close(e),open:e=>Im.modal.open(e),alert:(e,t,n)=>Im.modal.alert(e,t,n),confirm:(e,t,n)=>Im.modal.confirm(e,t,n),message:(e,t)=>Im.modal.message(e,t),notification:(e,t,n)=>Im.modal.notification(e,t,n)},dS=p,{log:pS}=Im,mS="table v4.13.48",gS=pS.create("warn",mS),fS=pS.create("error",mS),{getI18n:vS,formats:hS}=Im;class bS{constructor(e,t,{renderHeader:n,renderCell:o,renderFooter:l,renderData:r}={}){const a=e.props,i=e.xeGrid,s=t.formatter,c=!np.isBoolean(t.visible)||t.visible,u=["seq","checkbox","radio","expand","html"];if(t.type&&-1===u.indexOf(t.type)&&gS("vxe.error.errProp",[`type=${t.type}`,u.join(", ")]),(np.isBoolean(t.cellRender)||t.cellRender&&!np.isObject(t.cellRender))&&gS("vxe.error.errProp",[`column.cell-render=${t.cellRender}`,"column.cell-render={}"]),(np.isBoolean(t.editRender)||t.editRender&&!np.isObject(t.editRender))&&gS("vxe.error.errProp",[`column.edit-render=${t.editRender}`,"column.edit-render={}"]),"expand"===t.type){const{treeConfig:t}=a,{computeTreeOpts:n}=e.getComputeMaps(),o=n.value;t&&(o.showLine||o.line)&&fS("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(s)if(np.isString(s)){const e=hS.get(s)||np[s];e&&np.isFunction(e.tableCellFormatMethod||e.cellFormatMethod)||fS("vxe.error.notFormats",[s])}else if(np.isArray(s)){const e=hS.get(s[0])||np[s[0]];e&&np.isFunction(e.tableCellFormatMethod||e.cellFormatMethod)||fS("vxe.error.notFormats",[s[0]])}if(Object.assign(this,{type:t.type,property:t.field,field:t.field,title:t.title,width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,resizable:t.resizable,fixed:t.fixed,align:t.align,headerAlign:t.headerAlign,footerAlign:t.footerAlign,showOverflow:t.showOverflow,showHeaderOverflow:t.showHeaderOverflow,showFooterOverflow:t.showFooterOverflow,className:t.className,headerClassName:t.headerClassName,footerClassName:t.footerClassName,formatter:s,footerFormatter:t.footerFormatter,padding:t.padding,verticalAlign:t.verticalAlign,sortable:t.sortable,sortBy:t.sortBy,sortType:t.sortType,filters:aE(t.filters),filterMultiple:!np.isBoolean(t.filterMultiple)||t.filterMultiple,filterMethod:t.filterMethod,filterResetMethod:t.filterResetMethod,filterRecoverMethod:t.filterRecoverMethod,filterRender:t.filterRender,rowGroupNode:t.rowGroupNode,treeNode:t.treeNode,dragSort:t.dragSort,rowResize:t.rowResize,cellType:t.cellType,cellRender:t.cellRender,editRender:t.editRender,contentRender:t.contentRender,headerExportMethod:t.headerExportMethod,exportMethod:t.exportMethod,footerExportMethod:t.footerExportMethod,titleHelp:t.titleHelp,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,aggFunc:t.aggFunc,params:t.params,id:t.colId||np.uniqueId("col_"),parentId:null,visible:c,halfVisible:!1,defaultVisible:c,defaultFixed:t.fixed,defaultAggFunc:t.aggFunc,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderAggFn:"",renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:n||t.renderHeader,renderCell:o||t.renderCell,renderFooter:l||t.renderFooter,renderData:r,slots:t.slots}),i){const{computeProxyOpts:e}=i.getComputeMaps(),t=e.value;t.beforeColumn&&t.beforeColumn({$grid:i,column:this})}}getTitle(){return MC(this.title||("seq"===this.type?vS("vxe.table.seqTitle"):""))}getKey(){const{type:e}=this;return this.field||(e?`type=${e}`:null)}update(e,t){"filters"!==e&&("field"===e&&(this.property=t),this[e]=t)}}const xS={};let wS;function yS(){return wS||(wS=new Image,wS.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),wS}function CS(){return wS||yS()}function SS(e,t){return e?np.isFunction(e)?e(t):e:""}function ES(e){return xS[e]||(xS[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),xS[e]}function DS(e){return e&&/^\d+(px)?$/.test(e)}function TS(e){return e&&/^\d+%$/.test(e)}function OS(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(ES(t)))}function kS(e,t){e&&OS(e,t)&&(e.className=e.className.replace(ES(t),""))}function RS(e,t){e&&!OS(e,t)&&(kS(e,t),e.className=`${e.className} ${t}`)}function IS(e){return e.ctrlKey||e.metaKey}function PS(e,t="px"){return np.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function FS(e,t){return e?e.querySelector(t):null}function MS(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function AS(e){return e?e.offsetHeight:0}function VS(e){if(e){const t=getComputedStyle(e);return np.toNumber(t.paddingTop)+np.toNumber(t.paddingBottom)}return 0}function $S(e,t){e&&(e.scrollTop=t)}function NS(e,t){e&&(e.scrollLeft=t)}function LS(e,t){const n="html"===t.type?e.innerText:e.textContent;e.getAttribute("title")!==n&&e.setAttribute("title",n)}function _S(e,t,n,o){let l,r=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;r&&r.nodeType&&r!==document;){if(n&&OS(r,n)&&(!o||o(r)))l=r;else if(r===t)return{flag:!n||!!l,container:t,targetElem:l};r=r.parentNode}return{flag:!1}}function BS(e){const t=e.getBoundingClientRect(),n=t.top,o=t.left,{scrollTop:l,scrollLeft:r,visibleHeight:a,visibleWidth:i}=MS();return{boundingTop:n,top:l+n,boundingLeft:o,left:r+o,visibleHeight:a,visibleWidth:i}}const zS="scrollIntoViewIfNeeded",jS="scrollIntoView";const HS=(e,t)=>{const n=[];return e.forEach(e=>{e.parentId=t?t.id:null,e.visible&&(e.children&&e.children.length&&e.children.some(e=>e.visible)?(n.push(e),n.push(...HS(e.children,e))):n.push(e))}),n};function WS(e,t,n){const o=e.internalData;return t||n?(o.intoRunScroll=!1,o.inVirtualScroll=!1,o.inWheelScroll=!1,o.inHeaderScroll=!1,o.inBodyScroll=!1,o.inFooterScroll=!1,o.scrollRenderType="",e.scrollTo(t,n)):e.clearScroll()}function qS(){return np.uniqueId("row_")}function GS(e){const{currKeyField:t}=e.internalData;return t}function US(e,t){const n=e.internalData,{isCurrDeepKey:o,currKeyField:l}=n;return t?XS((o?ZS:JS)(t,l)):""}function KS(e){const t=e.internalData,{isCurrDeepKey:n,currKeyField:o}=t,l=n?QS:eE;return{rowKey:o,handleUpdateRowId:e=>e?l(e,o):""}}function YS(e){const t=e.internalData,{isCurrDeepKey:n,currKeyField:o}=t,l=n?ZS:JS;return{rowKey:o,handleGetRowId:e=>e?XS(l(e,o)):""}}function XS(e){return np.eqNull(e)?"":encodeURIComponent(e)}function ZS(e,t){return np.get(e,t)}function QS(e,t){let n=XS(ZS(e,t));return VC(n)&&(n=qS(),np.set(e,t,n)),n}function JS(e,t){return e[t]}function eE(e,t){let n=XS(JS(e,t));return VC(n)&&(n=qS(),e[t]=n),n}function tE(e,t){return t?np.isString(t)||np.isNumber(t)?e.getColumnByField(`${t}`):t:null}function nE(e,t){if(t){const n=np.isString(t)||np.isNumber(t)?t:US(e,t);return e.getRowById(n)}return null}function oE(e,t,n,o){return e.resizeHeight||t.height||n.height||e.height||o}function lE(e){if(e){const t=getComputedStyle(e);return np.toNumber(t.paddingLeft)+np.toNumber(t.paddingRight)}return 0}function rE(e){if(e){const t=getComputedStyle(e),n=np.toNumber(t.marginLeft),o=np.toNumber(t.marginRight);return e.offsetWidth+n+o}return 0}function aE(e){return e&&np.isArray(e)?e.map(({label:e,value:t,data:n,resetValue:o,checked:l})=>({label:e,value:t,data:n,resetValue:o,checked:!!l,_checked:!!l})):e}function iE(e){return e.map((e,t)=>t%2==0?Number(e)+1:".").join("")}function sE(e,t){return np.get(e,t.field)}function cE(e,t,n){return np.set(e,t.field,n)}function uE(e){if(e){const t=e.value;if(t)return t.$el||t}return null}function dE(e){return"unset"===e?0:e||0}function pE(e){const{$table:t,column:n,cell:o}=e,l=t.props,r=t.internalData,{computeResizableOpts:a}=t.getComputeMaps(),i=a.value,{minWidth:s}=i;if(s){const t=np.isFunction(s)?s(e):s;if("auto"!==t)return Math.max(1,np.toNumber(t))}const{elemStore:c}=r,{showHeaderOverflow:u}=l,{showHeaderOverflow:d,minWidth:p}=n,m=np.isUndefined(d)||np.isNull(d)?u:d,g="title"===m||(!0===m||"tooltip"===m)||"ellipsis"===m;let f=np.floor(1.8*(np.toNumber(getComputedStyle(o).fontSize)||14))+(lE(o)+lE(FS(o,".vxe-cell")));if(g){const e=rE(FS(o,".vxe-cell--drag-handle")),t=rE(FS(o,".vxe-cell--checkbox")),n=rE(FS(o,".vxe-cell--required-icon")),l=rE(FS(o,".vxe-cell--edit-icon")),r=rE(FS(o,".vxe-cell-title-prefix-icon")),a=rE(FS(o,".vxe-cell-title-suffix-icon")),i=rE(FS(o,".vxe-cell--sort"));f+=e+t+n+l+r+a+rE(FS(o,".vxe-cell--filter"))+i}if(p){const e=uE(c["main-body-scroll"]);if(e){if(TS(p)){const t=(e.clientWidth-1)/100;return Math.max(f,Math.floor(np.toInteger(p)*t))}if(DS(p))return Math.max(f,np.toInteger(p))}}return f}function mE(e){return e&&(e.constructor===bS||e instanceof bS)}function gE(e,t,n){Object.keys(t).forEach(o=>{i(()=>t[o],t=>{n.update(o,t),e&&("filters"===o?(e.setFilter(n,t),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(o)&&e.handleRefreshColumnQueue())})})}function fE(e,t,n,o){const{reactData:l}=e,{staticColumns:r}=l,a=t.parentNode,i=o?o.columnConfig:null,s=i?i.children:r;a&&s&&(s.splice(np.arrayIndexOf(a.children,t),0,n),l.staticColumns=r.slice(0))}function vE(e,t){const{reactData:n}=e,{staticColumns:o}=n,l=np.findTree(o,e=>e.id===t.id,{children:"children"});l&&l.items.splice(l.index,1),n.staticColumns=o.slice(0)}function hE(e,t){const{internalData:n}=e,{fullColumnIdData:o}=n;if(!t)return null;let l=t.parentId;for(;o[l];){const e=o[l].column;if(l=e.parentId,!l)return e}return t}const bE={mini:3,small:2,medium:1,large:0},xE=(e,t)=>{let n=1;if(!e)return n;const{$table:o}=t,{computeTreeOpts:l}=o.getComputeMaps(),r=l.value,{transform:a,mapChildrenField:i}=r,s=r.children||r.childrenField,c=e[a?i:s];if(c&&o.isTreeExpandByRow(e))for(let u=0;u<c.length;u++)n+=xE(c[u],t);return n},wE=e=>{const{computeSize:t}=e.getComputeMaps(),n=t.value;return n&&bE[n]||0};function yE(e,t){const{$table:n,row:o}=e,l=n.props,r=n.reactData,a=n.internalData,{showOverflow:i}=l,{scrollYLoad:s}=r,{fullAllDataRowIdData:c}=a,{computeRowOpts:u,computeCellOpts:d,computeDefaultRowHeight:p}=n.getComputeMaps(),m=u.value,g=d.value,f=p.value,v=c[US(n,o)],h=v.resizeHeight||g.height||m.height||v.height||f;let b=1;t&&(b=xE(t,e));let x=h;const w=v.height;return s&&(i||(x=w||h)),x*b-(t?1:12-wE(n))}function CE(e,t){const n=e.props,o=e.reactData,l=e.internalData,{computeLeftFixedWidth:r,computeRightFixedWidth:a,computeRowOpts:i,computeCellOpts:s,computeDefaultRowHeight:c}=e.getComputeMaps(),{showOverflow:u}=n,{scrollYLoad:d,scrollYTop:p}=o,{elemStore:m,afterFullData:g,fullAllDataRowIdData:f,isResizeCellHeight:v}=l,h=i.value,b=s.value,x=c.value,w=r.value,y=a.value,C=uE(m["main-body-scroll"]),S=US(e,t);if(C){const n=C.clientHeight,o=C.scrollTop,l=C.querySelector(`[rowid="${S}"]`);if(l){const t=l.offsetTop+(d?p:0),r=l.clientHeight;if(t<o||t>o+n)return e.scrollTo(null,t);if(t+r>=n+o)return e.scrollTo(null,o+r)}else if(d){if(!(v||b.height||h.height)&&u)return e.scrollTo(null,(e.findRowIndexOf(g,t)-1)*x);let l=0;const r=f[S]||{},a=r.resizeHeight||b.height||h.height||r.height||x;for(let n=0;n<g.length;n++){const o=g[n],r=US(e,o);if(o===t||r===S)break;const a=f[r]||{};l+=a.resizeHeight||b.height||h.height||a.height||x}return l<o?e.scrollTo(null,l-w-1):e.scrollTo(null,l+a-(n-y-1))}}return Promise.resolve()}function SE(e,t,n){const o=e.reactData,l=e.internalData,{computeLeftFixedWidth:r,computeRightFixedWidth:a}=e.getComputeMaps(),{scrollXLoad:i,scrollXLeft:s}=o,{elemStore:c,visibleColumn:u}=l,d=r.value,p=a.value,m=uE(c["main-body-scroll"]);if(t.fixed)return Promise.resolve();if(m){const o=m.clientWidth,l=m.scrollLeft;let r=null;if(n){const o=US(e,n);r=m.querySelector(`[rowid="${o}"] .${t.id}`)}if(r||(r=m.querySelector(`.${t.id}`)),r){const t=r.offsetLeft+(i?s:0),n=r.clientWidth;if(t<l+d)return e.scrollTo(t-d-1);if(t+n-l>o-p)return e.scrollTo(t+n-(o-p-1))}else if(i){let n=0;const r=t.renderWidth;for(let e=0;e<u.length;e++){const o=u[e];if(o===t||o.id===t.id)break;n+=o.renderWidth}return n<l?e.scrollTo(n-d-1):e.scrollTo(n+r-(o-p-1))}}return Promise.resolve()}function EE(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function DE(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function TE(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function OE(e){return null==e?[]:np.isArray(e)?e:[e]}const{getI18n:kE,getIcon:RE,renderer:IE,formats:PE,renderEmptyElement:FE}=Im;function ME(e){const{$table:t,column:n}=e,o=n.titlePrefix||n.titleHelp;return o?y("span",{class:["vxe-cell-title-prefix-icon",o.iconStatus?`theme--${o.iconStatus}`:""],onMouseenter(n){t.triggerHeaderTitleEvent(n,o,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}},[y("i",{class:o.icon||RE().TABLE_TITLE_PREFIX})]):FE(t)}function AE(e){const{$table:t,column:n}=e,o=n.titleSuffix;return o?y("span",{class:["vxe-cell-title-suffix-icon",o.iconStatus?`theme--${o.iconStatus}`:""],onMouseenter(n){t.triggerHeaderTitleEvent(n,o,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}},[y("i",{class:o.icon||RE().TABLE_TITLE_SUFFIX})]):FE(t)}function VE(e){const{$table:t,column:n}=e,{context:o}=t,l=o.slots,r=t.props,{slots:a}=n,{dragConfig:i}=r,{computeRowDragOpts:s}=t.getComputeMaps(),c=s.value,{icon:u,trigger:d,disabledMethod:p}=c,m=p||(i?i.rowDisabledMethod:null),g=m&&m(e),f=(a?a.rowDragIcon||a["row-drag-icon"]:null)||l.rowDragIcon||l["row-drag-icon"],v={};return"cell"!==d&&(v.onMousedown=n=>{g||t.handleCellDragMousedownEvent(n,e)},v.onMouseup=t.handleCellDragMouseupEvent),y("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":g}]},v),f?t.callSlot(f,e):[y("i",{class:u||(i?i.rowIcon:"")||RE().TABLE_DRAG_ROW})])}function $E(e,t){const{$table:n,column:o,level:l}=e,{dragSort:r}=o,a=n.props,{treeConfig:i,dragConfig:s}=a,{computeRowOpts:c,computeRowDragOpts:u,computeTreeOpts:d}=n.getComputeMaps(),p=c.value,m=u.value,g=d.value,{showIcon:f,isPeerDrag:v,isCrossDrag:h,visibleMethod:b}=m,x=b||(s?s.rowVisibleMethod:null),w=[];return r&&p.drag&&(f||s&&s.showRowIcon)&&(!x||x(e))&&(i?g.transform&&(v||h||!l)&&w.push(VE(e)):w.push(VE(e))),w.concat(np.isArray(t)?t:[t])}function NE(e){const{$table:t,column:n}=e,{context:o}=t,l=o.slots,{slots:r}=n,{computeColumnOpts:a,computeColumnDragOpts:i}=t.getComputeMaps(),s=a.value,c=i.value,{showIcon:u,icon:d,trigger:p,isPeerDrag:m,isCrossDrag:g,visibleMethod:f,disabledMethod:v}=c;if(s.drag&&u&&(!f||f(e))&&!n.fixed&&(m||g||!n.parentId)){const n=v&&v(e),o=(r?r.columnDragIcon||r["column-drag-icon"]:null)||l.columnDragIcon||l["column-drag-icon"],a={};return"cell"!==p&&(a.onMousedown=o=>{n||t.handleHeaderCellDragMousedownEvent(o,e)},a.onMouseup=t.handleHeaderCellDragMouseupEvent),y("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":n}]},a),o?t.callSlot(o,e):[y("i",{class:d||RE().TABLE_DRAG_COLUMN})])}return FE(t)}function LE(e,t){return[ME(e),NE(e),...np.isArray(t)?t:[t],AE(e)]}function _E(e,t){const{$table:n,column:o}=e,l=n.props,r=n.reactData,{computeTooltipOpts:a}=n.getComputeMaps(),{showHeaderOverflow:i}=l,{isRowGroupStatus:s}=r,{showHeaderOverflow:c}=o,u=a.value.showAll,d=np.isUndefined(c)||np.isNull(c)?i:c,p="title"===d,m=!0===d||"tooltip"===d,g={};(p||m||u)&&(g.onMouseenter=t=>{r.isDragResize||(p?LS(t.currentTarget,o):(m||u)&&n.triggerHeaderTooltipEvent(t,e))}),(m||u)&&(g.onMouseleave=e=>{r.isDragResize||(m||u)&&n.handleTargetLeaveEvent(e)});const f=function(e,t){return"html"===e.type&&np.isString(t)?y("span",{key:"ch",innerHTML:t}):y("span",{key:"ct"},OE(t))}(o,t);return[y("span",Object.assign({class:"vxe-cell--title"},g),s&&o.aggFunc&&n.getPivotTableAggregateRenderColTitles?n.getPivotTableAggregateRenderColTitles(o,f):[f])]}function BE(e){const{$table:t,row:n,column:o}=e;return AC(t.getCellLabel(n,o),1)}function zE(e){const{column:t,row:n,$table:o}=e,l=o.props,r=o.reactData,{isRowGroupStatus:a}=r,{editConfig:i}=l,{type:s,treeNode:c,rowGroupNode:u,editRender:d}=t,{computeEditOpts:p,computeCheckboxOpts:m,computeAggregateOpts:g}=o.getComputeMaps(),f=g.value,{mode:v}=f,h=m.value,b=p.value,x=c||a&&("column"===v?t.field===n.groupField:u);switch(s){case"seq":return x?WE.renderDeepIndexCell(e):WE.renderSeqCell(e);case"radio":return x?WE.renderDeepRadioCell(e):WE.renderRadioCell(e);case"checkbox":return h.checkField?x?WE.renderDeepSelectionCellByProp(e):WE.renderCheckboxCellByProp(e):x?WE.renderDeepSelectionCell(e):WE.renderCheckboxCell(e);case"expand":return WE.renderExpandCell(e);case"html":return x?WE.renderDeepHTMLCell(e):WE.renderHTMLCell(e)}return OC(i)&&d?"cell"===b.mode?x?WE.renderDeepCellEdit(e):WE.renderCellEdit(e):x?WE.renderDeepRowEdit(e):WE.renderRowEdit(e):x?WE.renderDeepCell(e):WE.renderDefaultCell(e)}function jE(e){const{column:t,$table:n}=e,o=n.props,{editConfig:l}=o,{type:r,filters:a,sortable:i,editRender:s}=t;switch(r){case"seq":return WE.renderSeqHeader(e);case"radio":return WE.renderRadioHeader(e);case"checkbox":return WE.renderCheckboxHeader(e);case"html":if(a&&i)return WE.renderSortAndFilterHeader(e);if(i)return WE.renderSortHeader(e);if(a)return WE.renderFilterHeader(e)}return l&&s?WE.renderEditHeader(e):a&&i?WE.renderSortAndFilterHeader(e):i?WE.renderSortHeader(e):a?WE.renderFilterHeader(e):WE.renderDefaultHeader(e)}function HE(e){return WE.renderDefaultFooter(e)}const WE={createColumn(e,t){const{type:n}=t,o={renderHeader:jE,renderCell:zE,renderFooter:HE};return"expand"===n&&(o.renderData=WE.renderExpandData),function(e,t,n){return mE(t)?t:m(new bS(e,t,n))}(e,t,o)},renderHeaderTitle(e){const{$table:t,column:n}=e,{slots:o,editRender:l,cellRender:r}=n,a=l||r,i=o?o.header:null;if(i)return _E(e,t.callSlot(i,e));if(a){const t=IE.get(a.name);if(t){const n=t.renderTableHeader||t.renderHeader;if(n)return _E(e,OE(n(a,e)))}}return _E(e,AC(n.getTitle(),1))},renderDefaultHeader:e=>LE(e,WE.renderHeaderTitle(e)),renderDefaultCell(e){const{$table:t,row:n,column:o}=e,l=t.reactData,r=t.internalData,{isRowGroupStatus:a}=l,{field:i,slots:s,editRender:c,cellRender:u,rowGroupNode:d,aggFunc:p}=o,m=c||u,g=s?s.default:null;let f="";if(a&&i&&n.isAggregate){const l=n,{fullColumnFieldData:a}=r,{computeAggregateOpts:s}=t.getComputeMaps(),c=s.value,{mode:u,showTotal:m,totalMethod:g,countFields:v,contentMethod:h,mapChildrenField:b}=c,x=c.aggregateMethod||c.countMethod,w=l.groupField,y=l.groupContent,C=b&&l[b]||[],S=l.childCount,E=a[w]||{},D={$table:t,groupField:w,groupColumn:E?E.column:null,column:o,groupValue:y,children:C,childCount:S,aggValue:null,totalValue:S};("column"===u?i===l.groupField:d)?(f=y,h&&(f=`${h(D)}`),m&&(f=kE("vxe.table.rowGroupContentTotal",[f,g?g(D):S,S]))):t.getPivotTableAggregateCellAggValue?f=t.getPivotTableAggregateCellAggValue(e):(!0===p||v&&v.includes(i))&&x&&(D.aggValue=S,f=`${x(D)}`)}else{if(g)return $E(e,t.callSlot(g,e));if(m){const t=IE.get(m.name);if(t){const n=t.renderTableCell||t.renderCell,o=t.renderTableDefault||t.renderDefault,l=c?n:o;if(l)return $E(e,OE(l(m,Object.assign({$type:c?"edit":"cell"},e))))}}f=t.getCellLabel(n,o)}const v=c?c.placeholder:"";return $E(e,[y("span",{class:"vxe-cell--label"},[c&&VC(f)?y("span",{class:"vxe-cell--placeholder"},AC(MC(v),1)):y("span",AC(f,1))])])},renderDeepCell:e=>WE.renderDeepNodeBtn(e,WE.renderDefaultCell(e)),renderDefaultFooter:e=>function(e){const{$table:t,column:n,_columnIndex:o,items:l,row:r}=e,{slots:a,editRender:i,cellRender:s,footerFormatter:c}=n,u=i||s,d=a?a.footer:null;if(d)return t.callSlot(d,e);let p="";p=np.isArray(l)?l[o]:np.get(r,n.field);const m=Object.assign(e,{itemValue:p});if(c){if(np.isFunction(c))return[y("span",{class:"vxe-cell--label"},`${c(m)}`)];const e=np.isArray(c),t=e?PE.get(c[0]):PE.get(c),n=t?t.tableFooterCellFormatMethod:null;return n?[y("span",{class:"vxe-cell--label"},`${e?n(m,...c.slice(1)):n(m)}`)]:[y("span",{class:"vxe-cell--label"},"")]}if(u){const e=IE.get(u.name);if(e){const t=e.renderTableFooter||e.renderFooter;if(t)return OE(t(u,m))}}return[y("span",{class:"vxe-cell--label"},AC(p,1))]}(e),renderRowGroupBtn(e,t){const{$table:n}=e,o=n.reactData,l=n.internalData,{row:r,level:a}=e,{computeAggregateOpts:i}=n.getComputeMaps(),{rowGroupExpandedFlag:s}=o,{rowGroupExpandedMaps:c}=l,u=i.value,{padding:d,indent:p}=u,m=US(n,r),g=!!s&&!!c[m];return y("div",{class:["vxe-row-group--tree-node",{"is--expanded":g}],style:d&&p?{paddingLeft:a*p+"px"}:void 0},[r.isAggregate?y("span",{class:"vxe-row-group--node-btn",onClick(t){n.triggerRowGroupExpandEvent(t,e)}},[y("i",{class:g?RE().TABLE_ROW_GROUP_OPEN:RE().TABLE_ROW_GROUP_CLOSE})]):FE(n),y("div",{class:"vxe-row-group-cell"},t)])},renderTreeNodeBtn(e,t){const{$table:n,isHidden:o}=e,l=n.reactData,r=n.internalData,{row:a,column:i,level:s}=e,{slots:c}=i,u=c?c.icon:null;if(u)return n.callSlot(u,e);const{computeTreeOpts:d}=n.getComputeMaps(),{treeExpandedFlag:p}=l,{fullAllDataRowIdData:m,treeExpandedMaps:g,treeExpandLazyLoadedMaps:f}=r,v=d.value,{padding:h,indent:b,lazy:x,trigger:w,iconLoaded:C,showIcon:S,iconOpen:E,iconClose:D}=v,T=v.children||v.childrenField,O=v.hasChild||v.hasChildField,k=a[T],R=k&&k.length;let I=!1,P=!1,F=!1,M=!1;const A={};if(!o){const e=US(n,a);if(P=!!p&&!!g[e],x){const t=m[e];F=!!f[e],I=a[O],M=!!t.treeLoaded}}return w&&"default"!==w||(A.onClick=t=>{n.triggerTreeExpandEvent(t,e)}),y("div",{class:["vxe-cell--tree-node",{"is--active":P}],style:h&&b?{paddingLeft:s*b+"px"}:void 0},[S&&(x?M?R:R||I:R)?[y("div",Object.assign({class:"vxe-cell--tree-btn"},A),[y("i",{class:F?C||RE().TABLE_TREE_LOADED:P?E||RE().TABLE_TREE_OPEN:D||RE().TABLE_TREE_CLOSE})])]:null,y("div",{class:"vxe-tree-cell"},t)])},renderDeepNodeBtn(e,t){const{$table:n,row:o,column:l}=e,{rowGroupNode:r}=l,a=n.reactData,{rowGroupList:i}=a;if(i.length){const{computeAggregateOpts:a}=n.getComputeMaps(),i=a.value,{mode:s}=i;if("column"===s?l.field===o.groupField:r)return[WE.renderRowGroupBtn(e,t)]}return[WE.renderTreeNodeBtn(e,t)]},renderSeqHeader(e){const{$table:t,column:n}=e,{slots:o}=n,l=o?o.header:null;return LE(e,_E(e,l?t.callSlot(l,e):AC(n.getTitle(),1)))},renderSeqCell(e){const{$table:t,column:n}=e,o=t.props,{treeConfig:l}=o,{computeSeqOpts:r}=t.getComputeMaps(),a=r.value,{slots:i}=n,s=i?i.default:null;if(s)return $E(e,t.callSlot(s,e));const{seq:c}=e,u=a.seqMethod;return $E(e,[y("span",`${AC(u?u(e):l?c:(a.startIndex||0)+c,1)}`)])},renderDeepIndexCell:e=>WE.renderDeepNodeBtn(e,WE.renderSeqCell(e)),renderRadioHeader(e){const{$table:t,column:n}=e,{slots:o}=n,l=o?o.header:null,r=o?o.title:null;return LE(e,_E(e,l?t.callSlot(l,e):[y("span",{class:"vxe-radio--label"},r?t.callSlot(r,e):AC(n.getTitle(),1))]))},renderRadioCell(e){const{$table:t,column:n,isHidden:o}=e,l=t.reactData,{computeRadioOpts:r}=t.getComputeMaps(),{selectRadioRow:a}=l,i=r.value,{slots:s}=n,{labelField:c,checkMethod:u,visibleMethod:d}=i,{row:p}=e,m=s?s.default:null,g=s?s.radio:null,f=t.eqRow(p,a),v=!d||d({$table:t,row:p});let h,b=!!u;o||(h={onClick(n){!b&&v&&t.triggerRadioRowEvent(n,e)}},u&&(b=!u({$table:t,row:p})));const x=Object.assign(Object.assign({},e),{checked:f,disabled:b,visible:v});if(g)return $E(e,t.callSlot(g,x));const w=[];return v&&w.push(y("span",{class:["vxe-radio--icon",f?RE().TABLE_RADIO_CHECKED:b?RE().TABLE_RADIO_DISABLED_UNCHECKED:RE().TABLE_RADIO_UNCHECKED]})),(m||c)&&w.push(y("span",{class:"vxe-radio--label"},m?t.callSlot(m,x):np.get(p,c))),$E(e,[y("span",Object.assign({class:["vxe-cell--radio",{"is--checked":f,"is--disabled":b}]},h),w)])},renderDeepRadioCell:e=>WE.renderDeepNodeBtn(e,WE.renderRadioCell(e)),renderCheckboxHeader(e){const{$table:t,column:n,isHidden:o}=e,l=t.reactData,{computeIsAllCheckboxDisabled:r,computeCheckboxOpts:a}=t.getComputeMaps(),{isAllSelected:i,isIndeterminate:s}=l,c=r.value,{slots:u}=n,d=u?u.header:null,p=u?u.title:null,m=a.value,{checkStrictly:g,showHeader:f,headerTitle:v}=m,h=n.getTitle(),b={};o||(b.onClick=e=>{c||t.triggerCheckAllEvent(e,!i)});const x=Object.assign(Object.assign({},e),{checked:i,disabled:c,indeterminate:s});return LE(e,_E(x,d?t.callSlot(d,x):(g?f:!1!==f)?[y("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":i,"is--disabled":c,"is--indeterminate":s}],title:np.eqNull(v)?kE("vxe.table.allTitle"):`${v||""}`},b),[y("span",{class:["vxe-checkbox--icon",s?RE().TABLE_CHECKBOX_INDETERMINATE:i?RE().TABLE_CHECKBOX_CHECKED:c?RE().TABLE_CHECKBOX_DISABLED_UNCHECKED:RE().TABLE_CHECKBOX_UNCHECKED]})].concat(p||h?[y("span",{class:"vxe-checkbox--label"},p?t.callSlot(p,x):h)]:[]))]:[y("span",{class:"vxe-checkbox--label"},p?t.callSlot(p,x):h)]))},renderCheckboxCell(e){const{$table:t,row:n,column:o,isHidden:l}=e,r=t.props,a=t.reactData,i=t.internalData,{treeConfig:s}=r,{updateCheckboxFlag:c,isRowGroupStatus:u}=a,{selectCheckboxMaps:d,treeIndeterminateRowMaps:p}=i,{computeCheckboxOpts:m}=t.getComputeMaps(),g=m.value,{labelField:f,checkMethod:v,visibleMethod:h}=g,{slots:b}=o,x=b?b.default:null,w=b?b.checkbox:null;let C=!1,S=!1;const E=!h||h({$table:t,row:n});let D=!!v;const T={};if(!l){const o=US(t,n);S=!!c&&!!d[o],T.onClick=n=>{!D&&E&&t.triggerCheckRowEvent(n,e,!S)},v&&(D=!v({$table:t,row:n})),(s||u)&&(C=!!p[o])}const O=Object.assign(Object.assign({},e),{checked:S,disabled:D,visible:E,indeterminate:C});if(w)return $E(e,t.callSlot(w,O));const k=[];return E&&k.push(y("span",{class:["vxe-checkbox--icon",C?RE().TABLE_CHECKBOX_INDETERMINATE:S?RE().TABLE_CHECKBOX_CHECKED:D?RE().TABLE_CHECKBOX_DISABLED_UNCHECKED:RE().TABLE_CHECKBOX_UNCHECKED]})),(x||f)&&k.push(y("span",{class:"vxe-checkbox--label"},x?t.callSlot(x,O):np.get(n,f))),$E(e,[y("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":S,"is--disabled":D,"is--indeterminate":C,"is--hidden":!E}]},T),k)])},renderDeepSelectionCell:e=>WE.renderDeepNodeBtn(e,WE.renderCheckboxCell(e)),renderCheckboxCellByProp(e){const{$table:t,row:n,column:o,isHidden:l}=e,r=t.props,a=t.reactData,i=t.internalData,{treeConfig:s}=r,{updateCheckboxFlag:c,isRowGroupStatus:u}=a,{treeIndeterminateRowMaps:d}=i,{computeCheckboxOpts:p}=t.getComputeMaps(),m=p.value,{labelField:g,checkField:f,checkMethod:v,visibleMethod:h}=m,b=m.indeterminateField||m.halfField,{slots:x}=o,w=x?x.default:null,C=x?x.checkbox:null;let S=!1,E=!1;const D=!h||h({$table:t,row:n});let T=!!v;const O={};if(!l){const o=US(t,n);E=!!c&&np.get(n,f),O.onClick=n=>{!T&&D&&t.triggerCheckRowEvent(n,e,!E)},v&&(T=!v({$table:t,row:n})),(s||u)&&(S=!!d[o])}const k=Object.assign(Object.assign({},e),{checked:E,disabled:T,visible:D,indeterminate:S});if(C)return $E(e,t.callSlot(C,k));const R=[];return D&&(R.push(y("span",{class:["vxe-checkbox--icon",S?RE().TABLE_CHECKBOX_INDETERMINATE:E?RE().TABLE_CHECKBOX_CHECKED:T?RE().TABLE_CHECKBOX_DISABLED_UNCHECKED:RE().TABLE_CHECKBOX_UNCHECKED]})),(w||g)&&R.push(y("span",{class:"vxe-checkbox--label"},w?t.callSlot(w,k):np.get(n,g)))),$E(e,[y("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":E,"is--disabled":T,"is--indeterminate":b&&!E?n[b]:S,"is--hidden":!D}]},O),R)])},renderDeepSelectionCellByProp:e=>WE.renderDeepNodeBtn(e,WE.renderCheckboxCellByProp(e)),renderExpandCell(e){const{$table:t,isHidden:n,row:o,column:l}=e,r=t.reactData,a=t.internalData,{isRowGroupStatus:i}=r,{rowExpandedMaps:s,rowExpandLazyLoadedMaps:c}=a,{computeExpandOpts:u}=t.getComputeMaps(),d=u.value,{lazy:p,labelField:m,iconLoaded:g,showIcon:f,iconOpen:v,iconClose:h,visibleMethod:b}=d,{slots:x}=l,w=x?x.default:null,C=x?x.icon:null;let S=!1,E=!1;if(i&&o.isAggregate)return $E(e,[]);if(C)return $E(e,t.callSlot(C,e));if(!n){const e=US(t,o);S=!!s[e],p&&(E=!!c[e])}return $E(e,[!f||b&&!b(e)?FE(t):y("span",{class:["vxe-table--expanded",{"is--active":S}],onMousedown(e){e.stopPropagation()},onClick(n){t.triggerRowExpandEvent(n,e)}},[y("i",{class:["vxe-table--expand-btn",E?g||RE().TABLE_EXPAND_LOADED:S?v||RE().TABLE_EXPAND_OPEN:h||RE().TABLE_EXPAND_CLOSE]})]),w||m?y("span",{class:"vxe-table--expand-label"},w?t.callSlot(w,e):np.get(o,m)):FE(t)])},renderExpandData(e){const{$table:t,column:n}=e,{slots:o,contentRender:l}=n,r=o?o.content:null;if(r)return t.callSlot(r,e);if(l){const t=IE.get(l.name);if(t){const n=t.renderTableExpand||t.renderExpand;if(n)return OE(n(l,e))}}return[]},renderHTMLCell(e){const{$table:t,column:n}=e,{slots:o}=n,l=o?o.default:null;return $E(e,l?t.callSlot(l,e):[y("span",{class:"vxe-cell--html",innerHTML:BE(e)})])},renderDeepHTMLCell:e=>WE.renderDeepNodeBtn(e,WE.renderHTMLCell(e)),renderSortAndFilterHeader:e=>LE(e,WE.renderHeaderTitle(e).concat(WE.renderSortIcon(e).concat(WE.renderFilterIcon(e)))),renderSortHeader:e=>LE(e,WE.renderHeaderTitle(e).concat(WE.renderSortIcon(e))),renderSortIcon(e){const{$table:t,column:n}=e,{computeSortOpts:o}=t.getComputeMaps(),l=o.value,{showIcon:r,allowBtn:a,ascTitle:i,descTitle:s,iconLayout:c,iconAsc:u,iconDesc:d,iconVisibleMethod:p}=l,{order:m}=n;return!r||p&&!p(e)?[]:[y("span",{class:["vxe-cell--sort",`vxe-cell--sort-${c}-layout`]},[y("i",{class:["vxe-sort--asc-btn",u||RE().TABLE_SORT_ASC,{"sort--active":"asc"===m}],title:np.eqNull(i)?kE("vxe.table.sortAsc"):`${i||""}`,onClick:a?e=>{e.stopPropagation(),t.triggerSortEvent(e,n,"asc")}:void 0}),y("i",{class:["vxe-sort--desc-btn",d||RE().TABLE_SORT_DESC,{"sort--active":"desc"===m}],title:np.eqNull(s)?kE("vxe.table.sortDesc"):`${s||""}`,onClick:a?e=>{e.stopPropagation(),t.triggerSortEvent(e,n,"desc")}:void 0})])]},renderFilterHeader:e=>LE(e,WE.renderHeaderTitle(e).concat(WE.renderFilterIcon(e))),renderFilterIcon(e){const{$table:t,column:n,hasFilter:o}=e,l=t.reactData,{filterStore:r}=l,{computeFilterOpts:a}=t.getComputeMaps(),i=a.value,{showIcon:s,iconNone:c,iconMatch:u,iconVisibleMethod:d}=i;return!s||d&&!d(e)?[]:[y("span",{class:["vxe-cell--filter",{"is--active":r.visible&&r.column===n}],onClick(n){t.triggerFilterEvent&&t.triggerFilterEvent(n,e.column,e)}},[y("i",{class:["vxe-filter--btn",o?u||RE().TABLE_FILTER_MATCH:c||RE().TABLE_FILTER_NONE],title:kE("vxe.table.filter")})])]},renderEditHeader(e){const{$table:t,column:n}=e,o=t.props,{computeEditOpts:l}=t.getComputeMaps(),{editConfig:r,editRules:a}=o,i=l.value,{sortable:s,filters:c,editRender:u}=n;let d=!1;if(a){const e=np.get(a,n.field);e&&(d=e.some(e=>e.required))}let p=[];return OC(r)&&(p=[d&&i.showAsterisk?y("span",{class:"vxe-cell--required-icon"},[y("i")]):FE(t),OC(u)&&i.showIcon?y("span",{class:"vxe-cell--edit-icon"},[y("i",{class:i.icon||RE().TABLE_EDIT})]):FE(t)]),LE(e,p.concat(WE.renderHeaderTitle(e)).concat(s?WE.renderSortIcon(e):[]).concat(c?WE.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:t,column:n}=e,o=t.reactData,{editStore:l}=o,{actived:r}=l,{editRender:a}=n;return WE.runRenderer(e,OC(a)&&r&&r.row===e.row)},renderDeepRowEdit:e=>WE.renderDeepNodeBtn(e,WE.renderRowEdit(e)),renderCellEdit(e){const{$table:t,column:n}=e,o=t.reactData,{editStore:l}=o,{actived:r}=l,{editRender:a}=n;return WE.runRenderer(e,OC(a)&&r&&r.row===e.row&&r.column===e.column)},renderDeepCellEdit:e=>WE.renderDeepNodeBtn(e,WE.renderCellEdit(e)),runRenderer(e,t){const{$table:n,column:o}=e,{slots:l,editRender:r,formatter:a}=o,i=l?l.default:null,s=l?l.edit:null,c=IE.get(r.name),u=c?c.renderTableEdit||c.renderEdit:null,d=Object.assign({$type:"",isEdit:t},e);return t?(d.$type="edit",s?n.callSlot(s,d):u?OE(u(r,d)):[]):i?$E(e,n.callSlot(i,d)):a?$E(e,[y("span",{class:"vxe-cell--label"},BE(d))]):WE.renderDefaultCell(d)}},qE={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,rowGroupNode:Boolean,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,aggFunc:[String,Boolean],params:Object},GE=dS({name:"VxeColumn",props:qE,setup(e,{slots:t}){const o=r(),l=n("$xeTable",null),a=n("$xeColgroup",null);if(!l)return()=>x();const i=WE.createColumn(l,e);i.slots=t;const s=()=>y("div",{ref:o}),c={columnConfig:i,renderVN:s};return gE(l,e,i),f(()=>{const e=o.value;e&&fE(l,e,i,a)}),v(()=>{vE(l,i)}),b("$xeColumn",c),b("$xeGrid",null),s}}),UE=Object.assign({},GE,{install(e){e.component(GE.name,GE),e.component("VxeTableColumn",GE)}});Im.dynamicApp&&(Im.dynamicApp.component(GE.name,GE),Im.dynamicApp.component("VxeTableColumn",GE)),Im.component(GE);const KE=UE,YE=dS({name:"VxeColgroup",props:qE,setup(e,{slots:t}){const o=r(),l=n("$xeTable",null),a=n("$xeColgroup",null);if(!l)return()=>x();const i=WE.createColumn(l,e),s={};t.header&&(s.header=t.header),i.slots=s,i.children=[],gE(l,e,i),f(()=>{const e=o.value;e&&fE(l,e,i,a)}),v(()=>{vE(l,i)});return b("$xeColgroup",{columnConfig:i}),b("$xeGrid",null),()=>y("div",{ref:o},t.default?t.default():[])}}),XE=Object.assign({},YE,{install(e){e.component(YE.name,YE),e.component("VxeTableColgroup",YE)}});Im.dynamicApp&&(Im.dynamicApp.component(YE.name,YE),Im.dynamicApp.component("VxeTableColgroup",YE)),Im.component(YE);const ZE=XE,{getI18n:QE,renderer:JE,renderEmptyElement:eD}=Im,tD="body",nD=dS({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const o=n("$xeTable",{}),{xID:l,props:a,context:i,reactData:s,internalData:c}=o,{computeEditOpts:u,computeMouseOpts:d,computeCellOffsetWidth:p,computeAreaOpts:m,computeDefaultRowHeight:g,computeEmptyOpts:h,computeTooltipOpts:b,computeRadioOpts:x,computeExpandOpts:w,computeTreeOpts:C,computeCheckboxOpts:S,computeCellOpts:D,computeValidOpts:T,computeRowOpts:O,computeColumnOpts:k,computeRowDragOpts:R,computeColumnDragOpts:I,computeResizableOpts:P,computeVirtualXOpts:F,computeVirtualYOpts:M}=o.getComputeMaps(),A=r(),V=r(),$=r(),N=r(),L=r(),_=r(),B=r(),z=r(),j=()=>{const{delayHover:e}=a,{lastScrollTime:t,isDragResize:n}=s;return!!(n||t&&Date.now()<t+e)},H=(e,t,n,l,r,i,f,v,h,x,w,E,I)=>{const A=o.xeGrid,{columnKey:V,resizable:$,showOverflow:N,border:L,height:_,treeConfig:B,cellClassName:z,cellStyle:H,align:W,spanMethod:q,mouseConfig:G,editConfig:U,editRules:K,tooltipConfig:Y,padding:X}=a,{tableData:Z,dragRow:Q,overflowX:J,currentColumn:ee,scrollXLoad:te,scrollYLoad:ne,mergeBodyFlag:oe,calcCellHeightFlag:le,resizeHeightFlag:re,resizeWidthFlag:ae,editStore:ie,isAllOverflow:se,validErrorMaps:ce}=s,{fullAllDataRowIdData:ue,fullColumnIdData:de,mergeBodyCellMaps:pe,visibleColumn:me,afterFullData:ge,mergeBodyList:fe,scrollXStore:ve,scrollYStore:he}=c,be=D.value,xe=T.value,we=S.value,ye=u.value,Ce=b.value,Se=P.value,Ee=F.value,De=M.value,{isAllColumnDrag:Te,isAllRowDrag:Oe}=Se,ke=O.value,Re=R.value,Ie=g.value,Pe=le?be.height||ke.height:0,{disabledMethod:Fe,isCrossDrag:Me,isPeerDrag:Ae}=Re,Ve=k.value,$e=d.value,Ne=m.value,Le=p.value,{selectCellToRow:_e}=Ne,{type:Be,cellRender:ze,editRender:je,align:He,showOverflow:We,className:qe,treeNode:Ge,rowResize:Ue,padding:Ke,verticalAlign:Ye,slots:Xe}=x,{verticalAlign:Ze}=be,{actived:Qe}=ie,Je=ue[t]||{},et=x.id,tt=de[et]||{},nt=je||ze,ot=nt?JE.get(nt.name):null,lt=ot?ot.tableCellClassName||ot.cellClassName:null,rt=ot?ot.tableCellStyle||ot.cellStyle:"",at=Ce.showAll,it=tt.index,st=tt._index,ct=OC(je),ut=re?Je.resizeHeight:0;let dt=n?x.fixed!==n:x.fixed&&J;const pt=np.eqNull(Ke)?null===X?be.padding:X:Ke,mt=np.eqNull(We)?N:We,gt="ellipsis"===mt,ft="title"===mt,vt=!0===mt||"tooltip"===mt,ht=se||ft||vt||gt,bt=np.isBoolean(x.resizable)?x.resizable:Ve.resizable||$,xt=!!Pe,wt=ut>0;let yt;const Ct={},St=He||(ot?ot.tableCellAlign:"")||W,Et=np.eqNull(Ye)?Ze:Ye,Dt=ce[`${t}:${et}`],Tt=K&&xe.showMessage&&("default"===xe.message?_||Z.length>1:"inline"===xe.message),Ot={colid:et},kt={$table:o,$grid:A,isEdit:!1,seq:e,rowid:t,row:i,rowIndex:f,$rowIndex:v,_rowIndex:h,column:x,columnIndex:it,$columnIndex:w,_columnIndex:st,fixed:n,type:tD,isHidden:!!dt,level:r,visibleData:ge,data:Z,items:I};let Rt=!1,It=!1;ke.drag&&(Rt="row"===Re.trigger||x.dragSort&&"cell"===Re.trigger),Rt&&(It=!(!Fe||!Fe(kt))),(ft||vt||at||Y)&&(Ct.onMouseenter=e=>{j()||(ft?LS(e.currentTarget,x):(vt||at)&&o.triggerBodyTooltipEvent(e,kt),o.dispatchEvent("cell-mouseenter",Object.assign({cell:e.currentTarget},kt),e))}),(vt||at||Y)&&(Ct.onMouseleave=e=>{j()||((vt||at)&&o.handleTargetLeaveEvent(e),o.dispatchEvent("cell-mouseleave",Object.assign({cell:e.currentTarget},kt),e))}),(Rt||we.range||G)&&(Ct.onMousedown=e=>{o.triggerCellMousedownEvent(e,kt)}),Rt&&(Ct.onMouseup=o.triggerCellMouseupEvent),Ct.onClick=e=>{o.triggerCellClickEvent(e,kt)},Ct.onDblclick=e=>{o.triggerCellDblclickEvent(e,kt)};let Pt=!1,Ft=1,Mt=1;if(oe&&fe.length){const e=pe[`${h}:${st}`];if(e){const{rowspan:t,colspan:n}=e;if(!t||!n)return null;t>1&&(Pt=!0,Mt=t,Ot.rowspan=t),n>1&&(Pt=!0,Ft=n,Ot.colspan=n)}}else if(q){const{rowspan:e=1,colspan:t=1}=q(kt)||{};if(!e||!t)return null;e>1&&(Pt=!0,Mt=e,Ot.rowspan=e),t>1&&(Pt=!0,Ft=t,Ot.colspan=t)}dt&&Pt&&(Ot.colspan>1||Ot.rowspan>1)&&(dt=!1),!dt&&U&&(je||ze)&&(ye.showStatus||ye.showUpdateStatus)&&(yt=o.isUpdateByRow(i,x.field));const At=ne&&!ht;let Vt=oE(Je,be,ke,Ie);const $t=w===E.length-1,Nt=!x.resizeWidth&&("auto"===x.minWidth||"auto"===x.width);let Lt=!1;if(Pt||Q&&US(o,Q)===t||(ne&&!B&&!De.immediate&&(h<he.visibleStartIndex-he.preloadSize||h>he.visibleEndIndex+he.preloadSize)||te&&!Ee.immediate&&!x.fixed&&(st<ve.visibleStartIndex-ve.preloadSize||st>ve.visibleEndIndex+ve.preloadSize))&&(Lt=!0),Mt>1){const e=ge[h+Mt-1];if(e){const t=ue[US(o,e)];t&&(Vt+=t.oTop+oE(t,be,ke,Ie)-Je.oTop-oE(Je,be,ke,Ie))}}const _t={};if(ht&&ae){let e=0;if(Ft>1)for(let t=1;t<Ft;t++){const n=me[it+t];n&&(e+=n.renderWidth)}_t.width=x.renderWidth+e-Le+"px"}ne||ht||xt||wt?_t.height=`${Vt}px`:_t.minHeight=`${Vt}px`;const Bt=[];if(dt&&se)Bt.push(y("div",{key:"tc",class:["vxe-cell",{"c--title":ft,"c--tooltip":vt,"c--ellipsis":gt}],style:_t}));else if(B&&Bt.push(...((e,t,n)=>{const{row:l,column:r}=t,{afterFullData:i}=c,{treeConfig:s}=a,u=C.value,{slots:d,treeNode:p}=r,{fullAllDataRowIdData:m}=c;if(d&&d.line)return o.callSlot(d.line,t);const g=m[e];let f=0,v=null;return g&&(f=g.level,v=g.items[g.treeIndex-1]),s&&p&&(u.showLine||u.line)?[y("div",{key:"tl",class:"vxe-tree--line-wrapper"},[y("div",{class:"vxe-tree--line",style:{height:`${o.eqRow(i[0],l)?1:yE(t,v)}px`,bottom:`-${Math.floor(n/2)}px`,left:f*u.indent+(f?2-wE(o):0)+16+"px"}})])]:[]})(t,kt,Vt)),Bt.push(y("div",{key:"tc",class:["vxe-cell",{"c--title":ft,"c--tooltip":vt,"c--ellipsis":gt}],style:_t,title:ft?o.getCellLabel(i,x):null},Lt?[]:[y("div",{colid:et,rowid:t,class:"vxe-cell--wrapper"},x.renderCell(kt))])),Tt&&Dt){const e=Dt.rule,t=Xe?Xe.valid:null,n=Object.assign(Object.assign(Object.assign({},kt),Dt),{rule:Dt});Bt.push(y("div",{key:"tcv",class:["vxe-cell--valid-error-tip",SS(xe.className,n)],style:e&&e.maxWidth?{width:`${e.maxWidth}px`}:null},[y("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${xe.theme||"normal"}`},[t?o.callSlot(t,n):[y("span",{class:"vxe-cell--valid-error-msg"},Dt.content)]])]))}let zt=!1;return G&&$e.area&&_e&&(!st&&!0===_e||_e===x.field)&&(zt=!0),!dt&&bt&&Te&&Bt.push(y("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!L||"none"===L}],onMousedown:e=>o.handleColResizeMousedownEvent(e,n,kt),onDblclick:e=>o.handleColResizeDblclickEvent(e,kt)})),(Ue||Oe)&&ke.resizable&&Bt.push(y("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:e=>o.handleRowResizeMousedownEvent(e,kt),onDblclick:e=>o.handleRowResizeDblclickEvent(e,kt)})),y("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",et,Et?`col--vertical-${Et}`:"",St?`col--${St}`:"",Be?`col--${Be}`:"",{"col--last":$t,"col--tree-node":Ge,"col--edit":ct,"col--ellipsis":ht,"col--cs-height":xt,"col--rs-height":wt,"col--to-row":zt,"col--auto-height":At,"fixed--width":!Nt,"fixed--hidden":dt,"is--padding":pt,"is--progress":dt&&se||Lt,"is--drag-cell":Rt&&(Me||Ae||!r),"is--drag-disabled":It,"col--dirty":yt,"col--active":U&&ct&&Qe.row===i&&(Qe.column===x||"row"===ye.mode),"col--valid-error":!!Dt,"col--current":ee===x},SS(lt,kt),SS(qe,kt),SS(z,kt)],key:V||te||ne||Ve.useKey||ke.useKey||Ve.drag?et:w},Ot),{style:Object.assign({},np.isFunction(rt)?rt(kt):rt,np.isFunction(H)?H(kt):H)}),Ct),l&&dt?[]:Bt)},W=(e,t,n,l)=>{const r=o.xeGrid,{stripe:i,rowKey:d,highlightHoverRow:p,rowClassName:m,rowStyle:g,editConfig:f,treeConfig:v}=a,{hasFixedColumn:h,treeExpandedFlag:b,isColLoading:D,scrollXLoad:T,scrollYLoad:R,isAllOverflow:P,rowExpandedFlag:F,expandColumn:M,selectRadioRow:A,pendingRowFlag:V,isDragColMove:$,rowExpandHeightFlag:N,isRowGroupStatus:L}=s,{fullAllDataRowIdData:_,fullColumnIdData:B,treeExpandedMaps:z,pendingRowMaps:q,rowExpandedMaps:G}=c,U=S.value,K=x.value,Y=C.value,X=u.value,Z=O.value,Q=k.value,J=I.value,{transform:ee,seqMode:te}=Y,ne=Y.children||Y.childrenField,oe=[],{handleGetRowId:le}=YS(o),re=v||L;return n.forEach((a,s)=>{const c=le(a),u=_[c]||{};let x=s,C=0,S=-1,O=-1;const k=L&&a.isAggregate,I={};(Z.isHover||p)&&(I.onMouseenter=e=>{j()||o.triggerHoverEvent(e,{row:a,rowIndex:x})},I.onMouseleave=()=>{j()||o.clearHoverRow()}),u&&(C=u.level,S=k||v&&ee&&"increasing"===te?u._index+1:u.seq,x=u.index,O=u._index);const ae={$table:o,seq:S,rowid:c,fixed:e,type:tD,level:C,row:a,rowIndex:x,$rowIndex:s,_rowIndex:O},ie=M&&!!F&&!!G[c];let se=!1,ce=[],ue=!1;f&&(ue=o.isInsertByRow(a)),!v||R||ee||(ce=a[ne],se=!!b&&ce&&ce.length>0&&!!z[c]),!Z.drag||L||v&&!ee||(I.onDragstart=o.handleRowDragDragstartEvent,I.onDragend=o.handleRowDragDragendEvent,I.onDragover=o.handleRowDragDragoverEvent);const de=["vxe-body--row",re?`row--level-${C}`:"",{"row--stripe":i&&(O+1)%2==0,"is--new":ue,"is--expand-row":ie,"is--expand-tree":se,"row--new":ue&&(X.showStatus||X.showInsertStatus),"row--radio":K.highlight&&o.eqRow(A,a),"row--checked":U.highlight&&o.isCheckedByCheckboxRow(a),"row--pending":!!V&&!!q[c],"row--group":k},SS(m,ae)],pe=l.map((o,r)=>H(S,c,e,t,C,a,x,s,O,o,r,l,n));if(oe.push(!D&&Q.drag&&J.animation?y(E,Object.assign({name:"vxe-header--col-list"+($?"":"-disabled"),tag:"tr",class:de,rowid:c,style:g?np.isFunction(g)?g(ae):g:null,key:d||T||R||Z.useKey||Z.drag||Q.drag||L||v?c:s},I),{default:()=>pe}):y("tr",Object.assign({class:de,rowid:c,style:g?np.isFunction(g)?g(ae):g:null,key:d||T||R||Z.useKey||Z.drag||Q.drag||L||v?c:s},I),pe)),ie){const t=w.value,{height:n,padding:i,mode:d}=t;if("fixed"===d)oe.push(y("tr",{class:"vxe-body--row-expanded-place",key:`expand_${c}`,rowid:c},[y("td",{class:"vxe-body--row-expanded-place-column",colspan:l.length,style:{height:`${N?u.expandHeight||n:0}px`}})]));else{const t={};n&&(t.height=`${n}px`),v&&(t.paddingLeft=C*Y.indent+30+"px");const{showOverflow:u}=M||{},d=M.id,p=B[d]||{},m=np.eqNull(u)?P:u;let g=-1,f=-1,b=-1;p&&(g=p.index,f=p.$index,b=p._index);const w={$grid:r,$table:o,seq:S,column:M,columnIndex:g,$columnIndex:f,_columnIndex:b,fixed:e,type:tD,level:C,row:a,rowid:c,rowIndex:x,$rowIndex:s,_rowIndex:O,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};oe.push(y("tr",{class:["vxe-body--expanded-row",{"is--padding":i}],key:`expand_${c}`},[y("td",{class:["vxe-body--expanded-column",{"fixed--hidden":e&&!h,"col--ellipsis":m}],colspan:l.length},[y("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":n}],style:t},[M.renderData(w)])])]))}}se&&oe.push(...W(e,t,ce,l))}),oe};f(()=>{t(()=>{const{fixedType:t}=e,{elemStore:n}=c,o=`${t||"main"}-body-`;n[`${o}wrapper`]=A,n[`${o}scroll`]=V,n[`${o}table`]=$,n[`${o}colgroup`]=N,n[`${o}list`]=L,n[`${o}xSpace`]=_,n[`${o}ySpace`]=B,n[`${o}emptyBlock`]=z})}),v(()=>{const{fixedType:t}=e,{elemStore:n}=c,o=`${t||"main"}-body-`;n[`${o}wrapper`]=null,n[`${o}scroll`]=null,n[`${o}table`]=null,n[`${o}colgroup`]=null,n[`${o}list`]=null,n[`${o}xSpace`]=null,n[`${o}ySpace`]=null,n[`${o}emptyBlock`]=null});return()=>{const{slots:t}=i,n=o.xeGrid,{fixedColumn:r,fixedType:u,tableColumn:p}=e,{spanMethod:m,footerSpanMethod:g,mouseConfig:f}=a,{isGroup:v,tableData:b,isRowLoading:x,isColLoading:C,overflowX:S,scrollXLoad:D,scrollYLoad:T,isAllOverflow:k,isDragRowMove:I,expandColumn:P,dragRow:F,dragCol:M}=s,{visibleColumn:j,fullAllDataRowIdData:H,fullColumnIdData:q}=c,G=O.value,U=h.value,K=d.value,Y=R.value,X=w.value;let Z,Q=b,J=p,ee=!1;if((D||T||k)&&(P&&"fixed"!==X.mode||m||g||(ee=!0)),C||!u&&S||(J=j),u&&ee&&(J=r||[]),T&&F&&Q.length>2){const e=H[US(o,F)];if(e){const t=e._index,n=Q[0],l=Q[Q.length-1],r=H[US(o,n)],a=H[US(o,l)];if(r&&a){const e=r._index,n=a._index;t<e?Q=[F].concat(Q):t>n&&(Q=Q.concat([F]))}}}if(!u&&!v&&D&&M&&J.length>2){const e=q[M.id];if(e){const t=e._index,n=J[0],o=J[J.length-1],l=q[n.id],r=q[o.id];if(l&&r){const e=l._index,n=r._index;t<e?J=[M].concat(J):t>n&&(J=J.concat([M]))}}}const te=t?t.empty:null,ne={$table:o,$grid:n};if(te)Z=o.callSlot(te,ne);else{const e=U.name?JE.get(U.name):null,t=e?e.renderTableEmpty||e.renderTableEmptyView||e.renderEmpty:null;Z=t?OE(t(U,ne)):a.emptyText||QE("vxe.table.emptyText")}const oe={onScroll(e){o.triggerBodyScrollEvent(e,u)}};return y("div",{ref:A,class:["vxe-table--body-wrapper",u?`fixed-${u}--wrapper`:"body--wrapper"],xid:l},[y("div",Object.assign({ref:V,class:"vxe-table--body-inner-wrapper"},oe),[u?eD(o):y("div",{ref:_,class:"vxe-body--x-space"}),y("div",{ref:B,class:"vxe-body--y-space"}),y("table",{ref:$,class:"vxe-table--body",xid:l,cellspacing:0,cellpadding:0,border:0,xvm:ee?"1":null},[y("colgroup",{ref:N},J.map((e,t)=>y("col",{name:e.id,key:t,style:{width:`${e.renderWidth}px`}}))),!x&&!C&&G.drag&&Y.animation?y(E,{ref:L,name:"vxe-body--row-list"+(I?"":"-disabled"),tag:"tbody"},{default:()=>W(u,ee,Q,J)}):y("tbody",{ref:L},W(u,ee,Q,J))]),y("div",{class:"vxe-table--checkbox-range"}),f&&K.area?y("div",{class:"vxe-table--cell-area"},[y("span",{class:"vxe-table--cell-main-area"},K.extension?[y("span",{class:"vxe-table--cell-main-area-btn",onMousedown(e){o.triggerCellAreaExtendMousedownEvent&&o.triggerCellAreaExtendMousedownEvent(e,{$table:o,fixed:u,type:tD})}})]:[]),y("span",{class:"vxe-table--cell-copy-area"}),y("span",{class:"vxe-table--cell-extend-area"}),y("span",{class:"vxe-table--cell-multi-area"}),y("span",{class:"vxe-table--cell-active-area"}),y("span",{class:"vxe-table--cell-row-status-area"})]):eD(o),u?eD(o):y("div",{class:"vxe-table--empty-block",ref:z},[y("div",{class:"vxe-table--empty-content"},Z)])])])}}}),{renderer:oD,renderEmptyElement:lD}=Im,rD="header",aD=dS({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const o=n("$xeTable",{}),{xID:l,props:a,reactData:s,internalData:c}=o,{computeColumnOpts:u,computeColumnDragOpts:d,computeCellOpts:p,computeMouseOpts:m,computeHeaderCellOpts:g,computeDefaultRowHeight:h,computeVirtualXOpts:b}=o.getComputeMaps(),x=r([]),w=r(),C=r(),S=r(),D=r(),T=r(),O=r(),k=r(),R=()=>{const{isGroup:t}=s;x.value=t?(e=>{let t=1;const n=(e,o)=>{if(o&&(e.level=o.level+1,t<e.level&&(t=e.level)),e.children&&e.children.length&&e.children.some(e=>e.visible)){let t=0;e.children.forEach(o=>{o.visible&&(n(o,e),t+=o.colSpan)}),e.colSpan=t}else e.colSpan=1};e.forEach(e=>{e.level=1,n(e)});const o=[];for(let l=0;l<t;l++)o.push([]);return HS(e).forEach(e=>{e.children&&e.children.length&&e.children.some(e=>e.visible)?e.rowSpan=1:e.rowSpan=t-e.level+1,o[e.level-1].push(e)}),o})(e.tableGroupColumn):[]},I=(t,n,l,r)=>{const i=o.xeGrid,{fixedType:m}=e,{resizable:f,columnKey:v,headerCellClassName:x,headerCellStyle:w,showHeaderOverflow:C,headerAlign:S,align:E,mouseConfig:D}=a,{currentColumn:T,dragCol:O,scrollXLoad:k,scrollYLoad:R,overflowX:I}=s,{fullColumnIdData:P,scrollXStore:F}=c,M=b.value,A=u.value,V=d.value,$=p.value,N=h.value,L=g.value,_=dE(L.height)||N,{disabledMethod:B,isCrossDrag:z,isPeerDrag:j}=V;return l.map((e,a)=>{const{type:s,showHeaderOverflow:c,headerAlign:u,align:d,filters:p,headerClassName:g,editRender:h,cellRender:b}=e,N=e.id,H=P[N]||{},W=h||b,q=W?oD.get(W.name):null,G=e.children&&e.children.length,U=m?e.fixed!==m&&!G:!!e.fixed&&I,K=np.isBoolean(L.padding)?L.padding:$.padding,Y=np.eqNull(c)?C:c,X=u||(q?q.tableHeaderCellAlign:"")||S||d||(q?q.tableCellAlign:"")||E,Z="ellipsis"===Y,Q="title"===Y,J=!0===Y||"tooltip"===Y,ee=Q||J||Z;let te=!1,ne=null;p&&(ne=p[0],te=p.some(e=>e.checked));const oe=H.index,le=H._index,re={$table:o,$grid:i,$rowIndex:r,column:e,columnIndex:oe,$columnIndex:a,_columnIndex:le,firstFilterOption:ne,fixed:m,type:rD,isHidden:U,hasFilter:te},ae={colid:N,colspan:e.colSpan>1?e.colSpan:null,rowspan:e.rowSpan>1?e.rowSpan:null},ie={onClick:e=>o.triggerHeaderCellClickEvent(e,re),onDblclick:e=>o.triggerHeaderCellDblclickEvent(e,re)},se=A.drag&&"cell"===V.trigger;let ce=!1;se&&(ce=!(!B||!B(re))),(D||se)&&(ie.onMousedown=e=>o.triggerHeaderCellMousedownEvent(e,re)),A.drag&&(ie.onDragstart=o.handleHeaderCellDragDragstartEvent,ie.onDragend=o.handleHeaderCellDragDragendEvent,ie.onDragover=o.handleHeaderCellDragDragoverEvent,se&&(ie.onMouseup=o.handleHeaderCellDragMouseupEvent));const ue=a===l.length-1,de=np.isBoolean(e.resizable)?e.resizable:A.resizable||f,pe=!e.resizeWidth&&("auto"===e.minWidth||"auto"===e.width);let me=!1;n&&!t&&(O&&O.id===N||k&&!e.fixed&&!M.immediate&&(le<F.visibleStartIndex-F.preloadSize||le>F.visibleEndIndex+F.preloadSize)&&(me=!0));const ge={};return ee?ge.height=`${_}px`:ge.minHeight=`${_}px`,y("th",Object.assign(Object.assign(Object.assign({class:["vxe-header--column",N,{[`col--${X}`]:X,[`col--${s}`]:s,"col--last":ue,"col--fixed":e.fixed,"col--group":G,"col--ellipsis":ee,"fixed--width":!pe,"fixed--hidden":U,"is--padding":K,"is--sortable":e.sortable,"col--filter":!!p,"is--filter-active":te,"is--drag-active":A.drag&&!e.fixed&&!ce&&(z||j||!e.parentId),"is--drag-disabled":A.drag&&ce,"col--current":T===e},g?np.isFunction(g)?g(re):g:"",x?np.isFunction(x)?x(re):x:""],style:w?np.isFunction(w)?w(re):w:null},ae),ie),{key:v||k||R||A.useKey||A.drag||G?N:a}),[y("div",{class:["vxe-cell",{"c--title":Q,"c--tooltip":J,"c--ellipsis":Z}],style:ge},me||n&&U?[]:[y("div",{colid:N,class:"vxe-cell--wrapper"},e.renderHeader(re))]),!U&&de?y("div",{class:"vxe-cell--col-resizable",onMousedown:e=>o.handleColResizeMousedownEvent(e,m,re),onDblclick:e=>o.handleColResizeDblclickEvent(e,re)}):lD(o)])})},P=(t,n,l)=>{const{fixedType:r}=e,{headerRowClassName:i,headerRowStyle:c}=a,{isColLoading:p,isDragColMove:m}=s,g=u.value,f=d.value;return l.map((e,l)=>{const a={$table:o,$rowIndex:l,fixed:r,type:rD};return!p&&g.drag&&f.animation?y(E,{key:l,name:"vxe-header--col-list"+(m?"":"-disabled"),tag:"tr",class:["vxe-header--row",i?np.isFunction(i)?i(a):i:""],style:c?np.isFunction(c)?c(a):c:null},{default:()=>I(t,n,e,l)}):y("tr",{key:l,class:["vxe-header--row",i?np.isFunction(i)?i(a):i:""],style:c?np.isFunction(c)?c(a):c:null},I(t,n,e,l))})};return i(()=>e.tableColumn,R),f(()=>{t(()=>{const{fixedType:t}=e,{internalData:n}=o,{elemStore:l}=n,r=`${t||"main"}-header-`;l[`${r}wrapper`]=w,l[`${r}scroll`]=C,l[`${r}table`]=S,l[`${r}colgroup`]=D,l[`${r}list`]=T,l[`${r}xSpace`]=O,l[`${r}repair`]=k,R()})}),v(()=>{const{fixedType:t}=e,{internalData:n}=o,{elemStore:l}=n,r=`${t||"main"}-header-`;l[`${r}wrapper`]=null,l[`${r}scroll`]=null,l[`${r}table`]=null,l[`${r}colgroup`]=null,l[`${r}list`]=null,l[`${r}xSpace`]=null,l[`${r}repair`]=null}),()=>{const{fixedType:t,fixedColumn:n,tableColumn:r}=e,{mouseConfig:i,showHeaderOverflow:u,spanMethod:d,footerSpanMethod:p}=a,{isGroup:g,isColLoading:f,overflowX:v,scrollXLoad:h,dragCol:b}=s,{visibleColumn:E,fullColumnIdData:k}=c,R=m.value;let I=x.value,F=r,M=!1;if(g?F=E:(h&&u&&(d||p||(M=!0)),M&&(f||!t&&v)||(F=E),t&&M&&(F=n||[]),I=[F]),!t&&!g&&h&&b&&F.length>2){const e=k[b.id];if(e){const t=e._index,n=F[0],o=F[F.length-1],l=k[n.id],r=k[o.id];if(l&&r){const e=l._index,n=r._index;t<e?(F=[b].concat(F),I=[[b].concat(I[0])].concat(I.slice(1))):t>n&&(F=F.concat([b]),I=[I[0].concat([b])].concat(I.slice(1)))}}}return y("div",{ref:w,class:["vxe-table--header-wrapper",t?`fixed-${t}--wrapper`:"body--wrapper"],xid:l},[y("div",{ref:C,class:"vxe-table--header-inner-wrapper",onScroll(e){o.triggerHeaderScrollEvent(e,t)}},[t?lD(o):y("div",{ref:O,class:"vxe-body--x-space"}),y("table",{ref:S,class:"vxe-table--header",xid:l,cellspacing:0,cellpadding:0,border:0,xvm:M?"1":null},[y("colgroup",{ref:D},F.map((e,t)=>y("col",{name:e.id,key:t,style:{width:`${e.renderWidth}px`}}))),y("thead",{ref:T},P(g,M,I))]),i&&R.area?y("div",{class:"vxe-table--cell-area"},[y("span",{class:"vxe-table--cell-main-area"}),y("span",{class:"vxe-table--cell-copy-area"}),y("span",{class:"vxe-table--cell-extend-area"}),y("span",{class:"vxe-table--cell-multi-area"}),y("span",{class:"vxe-table--cell-active-area"}),y("span",{class:"vxe-table--cell-col-status-area"})]):lD(o)])])}}}),{renderer:iD,renderEmptyElement:sD}=Im,cD="footer",uD=dS({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const o=n("$xeTable",{}),{xID:l,props:a,reactData:i,internalData:s}=o,{computeTooltipOpts:c,computeColumnOpts:u,computeColumnDragOpts:d,computeCellOpts:p,computeFooterCellOpts:m,computeDefaultRowHeight:g,computeResizableOpts:h,computeVirtualXOpts:b}=o.getComputeMaps(),x=r(),w=r(),C=r(),S=r(),D=r(),T=r(),O=(t,n,l,r,d,f)=>{const v=o.xeGrid,{fixedType:x}=e,{resizable:w,border:C,footerCellClassName:S,footerCellStyle:E,footerAlign:D,footerSpanMethod:T,align:O,columnKey:k,showFooterOverflow:R}=a,{scrollXLoad:I,scrollYLoad:P,overflowX:F,currentColumn:M}=i,{fullColumnIdData:A,mergeFooterList:V,mergeFooterCellMaps:$,scrollXStore:N}=s,L=b.value,_=c.value,B=h.value,{isAllColumnDrag:z}=B,j=u.value,H=g.value,W=p.value,q=m.value,G=dE(q.height)||H;return n.map((e,a)=>{const{type:i,showFooterOverflow:s,footerAlign:c,align:u,footerClassName:p,editRender:m,cellRender:g}=e,h=e.id,b=A[h]||{},B=m||g,H=B?iD.get(B.name):null,U=_.showAll,K=e.children&&e.children.length,Y=x?e.fixed!==x&&!K:e.fixed&&F,X=np.isBoolean(q.padding)?q.padding:W.padding,Z=np.eqNull(s)?R:s,Q=c||(H?H.tableFooterCellAlign:"")||D||u||(H?H.tableCellAlign:"")||O,J="ellipsis"===Z,ee="title"===Z,te=!0===Z||"tooltip"===Z,ne=ee||te||J,oe=np.isBoolean(e.resizable)?e.resizable:j.resizable||w,le={colid:h},re={},ae=b.index,ie=b._index,se={$table:o,$grid:v,row:r,rowIndex:f,_rowIndex:f,$rowIndex:d,column:e,columnIndex:ae,$columnIndex:a,_columnIndex:ie,itemIndex:ie,items:r,fixed:x,type:cD,data:l};(ee||te||U)&&(re.onMouseenter=t=>{ee?LS(t.currentTarget,e):(te||U)&&o.triggerFooterTooltipEvent(t,se)}),(te||U)&&(re.onMouseleave=e=>{(te||U)&&o.handleTargetLeaveEvent(e)}),re.onClick=e=>{o.dispatchEvent("footer-cell-click",Object.assign({cell:e.currentTarget},se),e)},re.onDblclick=e=>{o.dispatchEvent("footer-cell-dblclick",Object.assign({cell:e.currentTarget},se),e)};let ce=!1;if(V.length){const e=$[`${f}:${ie}`];if(e){const{rowspan:t,colspan:n}=e;if(!t||!n)return null;t>1&&(ce=!0,le.rowspan=t),n>1&&(ce=!0,le.colspan=n)}}else if(T){const{rowspan:e=1,colspan:t=1}=T(se)||{};if(!e||!t)return null;e>1&&(le.rowspan=e),t>1&&(le.colspan=t)}const ue=a===n.length-1,de=!e.resizeWidth&&("auto"===e.minWidth||"auto"===e.width);let pe=!1;t&&!ce&&I&&!e.fixed&&!L.immediate&&(ie<N.visibleStartIndex-N.preloadSize||ie>N.visibleEndIndex+N.preloadSize)&&(pe=!0);const me={};return ne?me.height=`${G}px`:me.minHeight=`${G}px`,y("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",e.id,{[`col--${Q}`]:Q,[`col--${i}`]:i,"col--last":ue,"fixed--width":!de,"fixed--hidden":Y,"is--padding":X,"col--ellipsis":ne,"col--current":M===e},SS(p,se),SS(S,se)]},le),{style:E?np.isFunction(E)?E(se):E:null}),re),{key:k||I||P||j.useKey||j.drag?e.id:a}),[y("div",{class:["vxe-cell",{"c--title":ee,"c--tooltip":te,"c--ellipsis":J}],style:me},pe?[]:[y("div",{colid:h,class:"vxe-cell--wrapper"},e.renderFooter(se))]),!Y&&oe&&z?y("div",{class:["vxe-cell--col-resizable",{"is--line":!C||"none"===C}],onMousedown:e=>o.handleColResizeMousedownEvent(e,x,se),onDblclick:e=>o.handleColResizeDblclickEvent(e,se)}):sD(o)])})},k=(t,n)=>{const{fixedType:l,footerTableData:r}=e,{footerRowClassName:s,footerRowStyle:c}=a,{isColLoading:p,isDragColMove:m}=i,g=u.value,f=d.value;return r.map((e,a)=>{const i=a,u={$table:o,row:e,_rowIndex:i,$rowIndex:a,fixed:l,type:cD};return!p&&g.drag&&f.animation?y(E,{key:a,name:"vxe-header--col-list"+(m?"":"-disabled"),tag:"tr",class:["vxe-footer--row",s?np.isFunction(s)?s(u):s:""],style:c?np.isFunction(c)?c(u):c:null},{default:()=>O(t,n,r,e,a,i)}):y("tr",{key:a,class:["vxe-footer--row",s?np.isFunction(s)?s(u):s:""],style:c?np.isFunction(c)?c(u):c:null},O(t,n,r,e,a,i))})};return f(()=>{t(()=>{const{fixedType:t}=e,{elemStore:n}=s,o=`${t||"main"}-footer-`;n[`${o}wrapper`]=x,n[`${o}scroll`]=w,n[`${o}table`]=C,n[`${o}colgroup`]=S,n[`${o}list`]=D,n[`${o}xSpace`]=T})}),v(()=>{const{fixedType:t}=e,{elemStore:n}=s,o=`${t||"main"}-footer-`;n[`${o}wrapper`]=null,n[`${o}scroll`]=null,n[`${o}table`]=null,n[`${o}colgroup`]=null,n[`${o}list`]=null,n[`${o}xSpace`]=null}),()=>{const{fixedType:t,fixedColumn:n,tableColumn:r}=e,{spanMethod:c,footerSpanMethod:u,showFooterOverflow:d}=a,{visibleColumn:p,fullColumnIdData:m}=s,{isGroup:g,isColLoading:f,overflowX:v,scrollXLoad:h,dragCol:b}=i;let E=r,O=!1;if(h&&d&&(c||u||(O=!0)),O&&(f||!t&&v)||(E=p),t&&O&&(E=n||[]),!t&&!g&&h&&b&&E.length>2){const e=m[b.id];if(e){const t=e._index,n=E[0],o=E[E.length-1],l=m[n.id],r=m[o.id];if(l&&r){const e=l._index,n=r._index;t<e?E=[b].concat(E):t>n&&(E=E.concat([b]))}}}return y("div",{ref:x,class:["vxe-table--footer-wrapper",t?`fixed-${t}--wrapper`:"body--wrapper"],xid:l},[y("div",{ref:w,class:"vxe-table--footer-inner-wrapper",onScroll(e){o.triggerFooterScrollEvent(e,t)}},[t?sD(o):y("div",{ref:T,class:"vxe-body--x-space"}),y("table",{ref:C,class:"vxe-table--footer",xid:l,cellspacing:0,cellpadding:0,border:0,xvm:O?"1":null},[y("colgroup",{ref:S},E.map((e,t)=>y("col",{name:e.id,key:t,style:{width:`${e.renderWidth}px`}}))),y("tfoot",{ref:D},k(O,E))])])])}}}),{getConfig:dD}=Im,pD={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>dD().table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>dD().table.resizable},stripe:{type:Boolean,default:()=>dD().table.stripe},border:{type:[Boolean,String],default:()=>dD().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>dD().table.round},size:{type:String,default:()=>dD().table.size||dD().size},fit:{type:Boolean,default:()=>dD().table.fit},loading:Boolean,align:{type:String,default:()=>dD().table.align},headerAlign:{type:String,default:()=>dD().table.headerAlign},footerAlign:{type:String,default:()=>dD().table.footerAlign},showHeader:{type:Boolean,default:()=>dD().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>dD().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>dD().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>dD().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>dD().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>dD().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>dD().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>dD().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>dD().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>dD().table.emptyText},keepSource:{type:Boolean,default:()=>dD().table.keepSource},autoResize:{type:Boolean,default:()=>dD().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,aggregateConfig:Object,rowGroupConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>dD().table.animat},delayHover:{type:Number,default:()=>dD().table.delayHover},params:Object},mD=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","clear-all-sort","filter-change","filter-visible","clear-filter","clear-all-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-group-expand","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","custom-visible-change","custom-visible-all","custom-fixed-change","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],{getI18n:gD,getIcon:fD,renderEmptyElement:vD}=Im,hD=dS({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e,o){const l=np.uniqueId(),a=Im.getComponent("VxeModal"),i=Im.getComponent("VxeDrawer"),s=Im.getComponent("VxeButton"),c=Im.getComponent("VxeNumberInput"),u=Im.getComponent("VxeRadioGroup"),d=n("$xeTable",{}),{props:p,reactData:g,internalData:f}=d,{computeCustomOpts:v,computeColumnDragOpts:h,computeColumnOpts:w,computeIsMaxFixedColumn:C,computeResizableOpts:S}=d.getComputeMaps(),D=r(),T=r(),O=r(),k=r(),R=r(),I=m({dragCol:null,dragGroupField:null,dragAggFnCol:null,dragTipText:""}),P={},F={refElem:D,refBodyWrapperElem:T,refCustomBodyElem:O,refDragLineElem:k,refDragTipElem:R},M={},A=t=>{const{customStore:n}=e;n.activeWrapper=!0,d.customOpenEvent(t)},V=t=>{const{customStore:n}=e;n.activeWrapper=!1,setTimeout(()=>{n.activeBtn||n.activeWrapper||d.customCloseEvent(t)},300)},$=({$event:e})=>{g.isCustomStatus=!0,d.saveCustom(),d.closeCustom(),d.emitCustomEvent("confirm",e)},N=({$event:e})=>{d.closeCustom(),d.emitCustomEvent("close",e)},L=({$event:e})=>{d.cancelCustom(),d.closeCustom(),d.emitCustomEvent("cancel",e)},_=e=>{d.resetCustom(!0),d.closeCustom(),d.emitCustomEvent("reset",e)},B=({$event:e})=>{Im.modal?Im.modal.confirm({content:gD("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(t=>{"confirm"===t&&_(e)}):_(e)},z=e=>{const{customColumnList:t}=g,n=np.findTree(t,t=>t===e);if(n&&n.parent){const{parent:e}=n;e.children&&e.children.length&&(e.renderVisible=e.children.every(e=>e.renderVisible),e.halfVisible=!e.renderVisible&&e.children.some(e=>e.renderVisible||e.halfVisible),z(e))}},j=(e,t)=>{const n=!e.renderVisible;v.value.immediate?(np.eachTree([e],e=>{e.visible=n,e.renderVisible=n,e.halfVisible=!1}),g.isCustomStatus=!0,d.handleCustom(),d.saveCustomStore("update:visible")):np.eachTree([e],e=>{e.renderVisible=n,e.halfVisible=!1}),z(e),d.checkCustomStatus(),d.dispatchEvent("custom-visible-change",{column:e,checked:n},t)},H=(e,t,n)=>{const o=C.value;let l=null;v.value.immediate?(e.renderFixed===t?(l="",np.eachTree([e],e=>{e.fixed="",e.renderFixed=""})):o&&!e.renderFixed||(l=t,np.eachTree([e],e=>{e.fixed=t,e.renderFixed=t})),g.isCustomStatus=!0,d.handleCustom(),d.saveCustomStore("update:fixed")):e.renderFixed===t?(l="",np.eachTree([e],e=>{e.renderFixed=""})):o&&!e.renderFixed||(l=t,np.eachTree([e],e=>{e.renderFixed=t})),null!==!l&&d.dispatchEvent("custom-fixed-change",{column:e,fixed:l},n)},W=e=>{const{customStore:t}=g,n=!t.isAll;d.toggleCustomAllCheckbox(),d.dispatchEvent("custom-visible-all",{checked:n},e)},q=(e,t,n,o)=>{const l=T.value;if(!l)return;const r=O.value;if(!r)return;const{prevDragToChild:a}=P,i=l.getBoundingClientRect(),s=r.getBoundingClientRect(),c=k.value;if(t){if(c)if(n){const e=t.getBoundingClientRect();c.style.display="block",c.style.left=`${Math.max(0,s.x-i.x)}px`,c.style.top=`${Math.max(1,e.y+l.scrollTop-i.y)}px`,c.style.height=`${e.height}px`,c.style.width=`${e.width}px`,c.setAttribute("drag-pos",o),c.setAttribute("drag-to-child",a?"y":"n")}else c.style.display=""}else c&&(c.style.display="node");const u=R.value;u&&(u.style.display="block",u.style.top=`${Math.min(l.clientHeight+l.scrollTop-u.clientHeight,e.clientY+l.scrollTop-i.y)}px`,u.style.left=`${Math.min(l.clientWidth+l.scrollLeft-u.clientWidth,e.clientX+l.scrollLeft-i.x)}px`,u.setAttribute("drag-status",n?a?"sub":"normal":"disabled"))},G=()=>{const e=R.value,t=k.value;e&&(e.style.display=""),t&&(t.style.display="")},U=e=>{const t=e.currentTarget.parentElement.parentElement.parentElement,n=t.getAttribute("colid"),o=d.getColumnById(n);t.draggable=!0,I.dragCol=o,I.dragGroupField=null,I.dragAggFnCol=null,(()=>{const{dragCol:e}=I,t=h.value,{tooltipMethod:n}=t;let o="";o=n?`${n({$table:d,column:e})||""}`:gD("vxe.custom.cstmDragTarget",[e&&"html"!==e.type?e.getTitle():""]);I.dragTipText=o})(),RS(t,"active--drag-origin")},K=e=>{const t=e.currentTarget.parentElement.parentElement.parentElement;G(),t.draggable=!1,I.dragCol=null,I.dragGroupField=null,I.dragAggFnCol=null,kS(t,"active--drag-origin")},Y=e=>{e.dataTransfer&&e.dataTransfer.setDragImage(CS(),0,0),P.prevDragGroupField=null,P.prevDragAggFnColid=null},X=e=>{const{mouseConfig:t}=p,{customColumnList:n}=g,{collectColumn:o}=f,l=v.value,{immediate:r}=l,a=e.currentTarget,i=h.value,{isCrossDrag:s,isSelfToChildDrag:c,isToChildDrag:u,dragEndMethod:m}=i,{dragCol:b}=I,{prevDragCol:x,prevDragGroupField:w,prevDragAggFnColid:y,prevDragPos:C,prevDragToChild:S}=P,E="bottom"===C?1:0;if(w||y)d.handlePivotTableAggregatePanelDragendEvent&&d.handlePivotTableAggregatePanelDragendEvent(e);else if(x&&b&&x!==b){const l=b,a=x;Promise.resolve(!m||m({oldColumn:l,newColumn:a,dragColumn:l,dragPos:C,dragToChild:!!S,offsetIndex:E})).then(i=>{if(!i)return;let p=-1,m=-1;const f={};np.eachTree([l],e=>{f[e.id]=e});let v=!1;if(r){if(l.parentId&&a.parentId){if(!s)return;if(f[a.id]&&(v=!0,!s||!c))return void(Im.modal&&Im.modal.message({status:"error",content:gD("vxe.error.treeDragChild")}))}else if(l.parentId){if(!s)return}else if(a.parentId){if(!s)return;if(f[a.id]&&(v=!0,!s||!c))return void(Im.modal&&Im.modal.message({status:"error",content:gD("vxe.error.treeDragChild")}))}const e=np.findTree(o,e=>e.id===l.id);if(v&&s&&c){if(e){const{items:t,index:n}=e,o=l.children||[];o.forEach(e=>{e.parentId=l.parentId}),t.splice(n,1,...o),l.children=[]}}else if(e){const{items:t,index:n,parent:o}=e;t.splice(n,1),o||(p=n)}const t=np.findTree(o,e=>e.id===a.id);if(t){const{items:e,index:n,parent:o}=t;s&&u&&S?(l.parentId=a.id,a.children=(a.children||[]).concat([l])):(l.parentId=a.parentId,e.splice(n+E,0,l)),o||(m=n)}np.eachTree(o,(e,t,n,o,l)=>{if(!l){const n=t+1;e.renderSortNumber=n}})}else p=np.findIndexOf(n,e=>e.id===l.id),n.splice(p,1),m=np.findIndexOf(n,e=>e.id===a.id),n.splice(m+E,0,l);g.isDragColMove=!0,t&&(d.clearSelected&&d.clearSelected(),d.clearCellAreas&&(d.clearCellAreas(),d.clearCopyCellArea())),d.dispatchEvent("column-dragend",{oldColumn:l,newColumn:a,dragColumn:l,dragPos:C,offsetIndex:E,_index:{newIndex:m,oldIndex:p}},e),r&&(g.customColumnList=o.slice(0),d.handleColDragSwapColumn())}).catch(()=>{})}G(),I.dragCol=null,I.dragGroupField=null,I.dragAggFnCol=null,P.prevDragGroupField=null,P.prevDragAggFnColid=null,a.draggable=!1,a.removeAttribute("drag-pos"),kS(a,"active--drag-target"),kS(a,"active--drag-origin")},Z=e=>{const t=v.value,{immediate:n}=t,o=h.value,{isCrossDrag:l,isToChildDrag:r}=o,a=e.currentTarget,i=IS(e),s=a.getAttribute("colid"),c=d.getColumnById(s),{dragCol:u}=I;if(P.prevDragGroupField=null,P.prevDragAggFnColid=null,c&&(l||1===c.level)){e.preventDefault();const t=e.clientY-a.getBoundingClientRect().y<a.clientHeight/2?"top":"bottom";if(!u||u&&u.id===c.id||!l&&c.level>1||!n&&c.level>1||c.renderFixed)return void q(e,a,!1,t);P.prevDragToChild=!!(l&&r&&i&&n),P.prevDragCol=c,P.prevDragPos=t,q(e,a,!0,t)}},Q=()=>{const{dragTipText:e}=I,t=h.value;return y("div",{},[y("div",{ref:k,class:["vxe-table-custom-popup--drag-line",{"is--guides":t.showGuidesStatus}]}),y("div",{ref:R,class:"vxe-table-custom-popup--drag-tip"},[y("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[y("div",{class:"vxe-table-custom-popup--drag-tip-status"},[y("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",fD().TABLE_DRAG_STATUS_ROW]}),y("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",fD().TABLE_DRAG_STATUS_SUB_ROW]}),y("span",{class:["vxe-table-custom-popup--drag-tip-group-status",fD().TABLE_DRAG_STATUS_AGG_GROUP]}),y("span",{class:["vxe-table-custom-popup--drag-tip-values-status",fD().TABLE_DRAG_STATUS_AGG_VALUES]}),y("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",fD().TABLE_DRAG_DISABLED]})]),y("div",{class:"vxe-table-custom-popup--drag-tip-content"},`${e||""}`)])])])},J=()=>{const t=d.xeGrid,{customStore:n}=e,{treeConfig:o,rowGroupConfig:l,aggregateConfig:r,resizable:m}=p,{isCustomStatus:f,customColumnList:b}=g,D=v.value,{immediate:k}=D,R=h.value,{mode:I,modalOptions:P,drawerOptions:F,allowVisible:M,allowSort:A,allowFixed:V,allowResizable:_,checkMethod:z,visibleMethod:q}=D,G=w.value,{maxFixedSize:J}=G,ee=S.value,{minWidth:te,maxWidth:ne}=ee,oe=Object.assign({},P),le=Object.assign({},F),re=C.value,{isCrossDrag:ae}=R,ie=D.slots||{},se=ie.header,ce=ie.top,ue=ie.bottom,de=ie.default,pe=ie.footer,me=[],ge=n.isAll,fe=n.isIndeterminate,ve={$table:d,$grid:t,columns:b,isAllChecked:ge,isAllIndeterminate:fe,isCustomStatus:f};np.eachTree(b,(e,t,n,o,l)=>{if(!q||q({$table:d,column:e})){let n=0,o=0;if(_){const l={$table:d,column:e,columnIndex:t,$columnIndex:t,$rowIndex:-1};te&&(n=np.toNumber(np.isFunction(te)?te(l):te)),ne&&(o=np.toNumber(np.isFunction(ne)?ne(l):ne))}const r=e.renderVisible,a=e.halfVisible,i=AC(e.getTitle(),1),s=e.children&&e.children.length,p=!!z&&!z({$table:d,column:e}),f=!r;me.push(y("tr",{key:e.id,colid:e.id,class:[`vxe-table-custom-popup--row level--${e.level}`,{"is--group":s}],onDragstart:Y,onDragend:X,onDragover:Z},[M?y("td",{class:"vxe-table-custom-popup--column-item col--visible"},[y("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":r,"is--indeterminate":a,"is--disabled":p}],title:gD("vxe.custom.setting.colVisible"),onClick:t=>{p||j(e,t)}},[y("span",{class:["vxe-checkbox--icon",a?fD().TABLE_CHECKBOX_INDETERMINATE:r?fD().TABLE_CHECKBOX_CHECKED:fD().TABLE_CHECKBOX_UNCHECKED]})])]):x(),y("td",{class:"vxe-table-custom-popup--column-item col--name"},[y("div",{class:"vxe-table-custom-popup--name"},[A?ae&&k||1===e.level?y("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":p||f||e.renderFixed}],title:gD("vxe.custom.setting.sortHelpTip")},p||f||e.renderFixed?{}:{onMousedown:U,onMouseup:K}),[y("i",{class:fD().TABLE_CUSTOM_SORT})]):y("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):x(),"html"===e.type?y("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:i}):y("div",{key:"0",class:"vxe-table-custom-popup--title",title:i},i)])]),_?y("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[e.children&&e.children.length||!(np.isBoolean(e.resizable)?e.resizable:G.resizable||m)?y("span","-"):c?y(c,{type:"integer",immediate:!1,disabled:p||f,modelValue:e.renderResizeWidth,min:n||void 0,max:o||void 0,"onUpdate:modelValue"(t){const n=Math.max(0,Number(t));e.renderResizeWidth=n},onChange(){(e=>{v.value.immediate&&e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth,g.isCustomStatus=!0,d.handleCustom(),d.saveCustomStore("update:width"))})(e)}}):x()]):x(),V?y("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[l?y("span","-"):u?y(u,{modelValue:e.renderFixed||"",type:"button",size:"mini",disabled:p||f,options:[{label:gD("vxe.custom.setting.fixedLeft"),value:"left",disabled:p||f||re},{label:gD("vxe.custom.setting.fixedUnset"),value:"",disabled:p||f},{label:gD("vxe.custom.setting.fixedRight"),value:"right",disabled:p||f||re}],onChange({label:t,$event:n}){H(e,t,n)}}):x()]):x()]))}});const he={default:()=>y("div",{ref:T,class:"vxe-table-custom-popup--body-wrapper"},de?d.callSlot(de,ve):[y("div",{ref:O,class:"vxe-table-custom-popup--handle-wrapper"},[ce?y("div",{class:"vxe-table-custom-popup--table-top"},d.callSlot(ce,ve)):vD(d),y("div",{class:"vxe-table-custom-popup--table-wrapper"},[y("table",{},[y("colgroup",{},[M?y("col",{class:"vxe-table-custom-popup--table-col-seq"}):x(),y("col",{class:"vxe-table-custom-popup--table-col-title"}),_?y("col",{class:"vxe-table-custom-popup--table-col-width"}):x(),V?y("col",{class:"vxe-table-custom-popup--table-col-fixed"}):x()]),y("thead",{},[y("tr",{},[M?y("th",{},[y("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":ge,"is--indeterminate":fe}],title:gD("vxe.table.allTitle"),onClick:W},[y("span",{class:["vxe-checkbox--icon",fe?fD().TABLE_CHECKBOX_INDETERMINATE:ge?fD().TABLE_CHECKBOX_CHECKED:fD().TABLE_CHECKBOX_UNCHECKED]}),y("span",{class:"vxe-checkbox--label"},gD("vxe.toolbar.customAll"))])]):x(),y("th",{},gD("vxe.custom.setting.colTitle")),_?y("th",{},gD("vxe.custom.setting.colResizable")):x(),V?y("th",{},gD("vxe.custom.setting."+(J?"colFixedMax":"colFixed"),[J])):x()])]),y(E,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>me})])]),ue?y("div",{class:"vxe-table-custom-popup--table-bottom"},d.callSlot(ue,ve)):vD(d),Q()]),!o&&(r||l)&&d.getPivotTableAggregatePopupPanel?y(d.getPivotTableAggregatePopupPanel(),{customStore:n}):vD(d)]),footer:()=>pe?d.callSlot(pe,ve):y("div",{class:"vxe-table-custom-popup--footer"},[s?y(s,{content:D.resetButtonText||gD("vxe.custom.cstmRestore"),disabled:!f,onClick:B}):x(),k?s?y(s,{content:D.closeButtonText||gD("vxe.table.customClose"),onClick:N}):x():s?y(s,{content:D.cancelButtonText||gD("vxe.table.customCancel"),onClick:L}):x(),k?x():s?y(s,{status:"primary",content:D.confirmButtonText||gD("vxe.custom.cstmConfirm"),onClick:$}):x()])};return se&&(he.header=()=>d.callSlot(se,ve)),"drawer"===I?i?y(i,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",le.className||""].join(" "),modelValue:n.visible,title:le.title||gD("vxe.custom.cstmTitle"),width:le.width||Math.min(880,Math.floor(.6*document.documentElement.clientWidth)),position:le.position,resize:!!le.resize,escClosable:!!le.escClosable,maskClosable:!!le.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){n.visible=e}},he):x():a?y(a,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",oe.className||""].join(" "),modelValue:n.visible,title:oe.title||gD("vxe.custom.cstmTitle"),width:oe.width||Math.min(880,document.documentElement.clientWidth),minWidth:oe.minWidth||700,height:oe.height||Math.min(680,document.documentElement.clientHeight),minHeight:oe.minHeight||400,showZoom:oe.showZoom,showMaximize:oe.showMaximize,showMinimize:oe.showMinimize,mask:oe.mask,lockView:oe.lockView,resize:oe.resize,escClosable:!!oe.escClosable,maskClosable:!!oe.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){n.visible=e}},he):x()};t(()=>{const e=v.value,{mode:t}=e;a||"modal"!==t||fS("vxe.error.reqComp",["vxe-modal"]),i||"drawer"!==t||fS("vxe.error.reqComp",["vxe-drawer"]),s||fS("vxe.error.reqComp",["vxe-button"]),c||fS("vxe.error.reqComp",["vxe-number-input"]),u||fS("vxe.error.reqComp",["vxe-radio-group"])});const ee={xID:l,props:e,context:o,reactData:I,internalData:P,xeTable:d,getRefMaps:()=>F,getComputeMaps:()=>M,renderVN:()=>{const t=v.value;return["modal","drawer","popup"].includes(`${t.mode}`)?J():(()=>{const t=d.xeGrid,n=d.props,{customStore:o}=e,{treeConfig:l,rowGroupConfig:r,aggregateConfig:a}=n,{isCustomStatus:i,customColumnList:c}=g,u=v.value,{immediate:p}=u,m=h.value,{maxHeight:f}=o,{checkMethod:b,visibleMethod:w,allowVisible:S,allowSort:k,allowFixed:R,trigger:I,placement:P}=u,F=C.value,{isCrossDrag:M}=m,_=u.slots||{},z=_.header,q=_.top,G=_.bottom,J=_.default,ee=_.footer,te=[],ne={},oe=o.isAll,le=o.isIndeterminate;"hover"===I&&(ne.onMouseenter=A,ne.onMouseleave=V);const re={$table:d,$grid:t,columns:c,isAllChecked:oe,isAllIndeterminate:le,isCustomStatus:i};return np.eachTree(c,(e,t,n,o,l)=>{if(!w||w({$table:d,column:e})){const t=e.renderVisible,n=e.halfVisible,o=e.children&&e.children.length,r=AC(e.getTitle(),1),a=!!b&&!b({$table:d,column:e}),i=!t;te.push(y("li",{key:e.id,colid:e.id,class:["vxe-table-custom--option",`level--${e.level}`,{"is--hidden":a||i,"is--group":o}],onDragstart:Y,onDragend:X,onDragover:Z},[S?y("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":t,"is--indeterminate":n,"is--disabled":a}],title:gD("vxe.custom.setting.colVisible"),onClick:t=>{a||j(e,t)}},[y("span",{class:["vxe-checkbox--icon",n?fD().TABLE_CHECKBOX_INDETERMINATE:t?fD().TABLE_CHECKBOX_CHECKED:fD().TABLE_CHECKBOX_UNCHECKED]})]):x(),y("div",{class:"vxe-table-custom--name-option"},[k&&(M&&p||1===e.level)?y("div",{class:"vxe-table-custom--sort-option"},[y("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":a||i||e.renderFixed}],title:gD("vxe.custom.setting.sortHelpTip")},a||i||e.renderFixed?{}:{onMousedown:U,onMouseup:K}),[y("i",{class:fD().TABLE_CUSTOM_SORT})])]):x(),"html"===e.type?y("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:r}):y("div",{key:"0",class:"vxe-table-custom--checkbox-label"},r)]),!l&&R?y("div",{class:"vxe-table-custom--fixed-option"},[s?y(s,{mode:"text",icon:"left"===e.renderFixed?fD().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:fD().TOOLBAR_TOOLS_FIXED_LEFT,status:"left"===e.renderFixed?"primary":"",disabled:a||i||F&&!e.renderFixed,title:gD("left"===e.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:({$event:t})=>{H(e,"left",t)}}):x(),s?y(s,{mode:"text",icon:"right"===e.renderFixed?fD().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:fD().TOOLBAR_TOOLS_FIXED_RIGHT,status:"right"===e.renderFixed?"primary":"",disabled:a||i||F&&!e.renderFixed,title:gD("right"===e.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:({$event:t})=>{H(e,"right",t)}}):x()]):x()]))}}),y("div",{ref:D,key:"simple",class:["vxe-table-custom-wrapper",`placement--${P}`,{"is--active":o.visible}],style:f&&!["left","right"].includes(P||"")?{maxHeight:`${f}px`}:{}},o.visible?[y("div",{ref:T,class:"vxe-table-custom-simple--body-wrapper"},[!l&&(a||r)&&d.getPivotTableAggregateSimplePanel?y(d.getPivotTableAggregateSimplePanel(),{customStore:o}):vD(d),y("div",{ref:O,class:"vxe-table-custom--handle-wrapper"},[y("div",{class:"vxe-table-custom--header"},z?d.callSlot(z,re):[y("ul",{class:"vxe-table-custom--panel-list"},[y("li",{class:"vxe-table-custom--option"},[S?y("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":oe,"is--indeterminate":le}],title:gD("vxe.table.allTitle"),onClick:W},[y("span",{class:["vxe-checkbox--icon",le?fD().TABLE_CHECKBOX_INDETERMINATE:oe?fD().TABLE_CHECKBOX_CHECKED:fD().TABLE_CHECKBOX_UNCHECKED]}),y("span",{class:"vxe-checkbox--label"},gD("vxe.toolbar.customAll"))]):y("span",{class:"vxe-checkbox--label"},gD("vxe.table.customTitle"))])])]),y("div",{class:"vxe-table-custom--body"},[q?y("div",{class:"vxe-table-custom--panel-top"},d.callSlot(q,re)):vD(d),J?y("div",{class:"vxe-table-custom--panel-body"},d.callSlot(J,re)):y(E,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},ne),{default:()=>te}),G?y("div",{class:"vxe-table-custom--panel-bottom"},d.callSlot(G,re)):vD(d)]),u.showFooter?y("div",{class:"vxe-table-custom--footer"},ee?d.callSlot(ee,re):[y("div",{class:"vxe-table-custom--footer-buttons"},[s?y(s,{mode:"text",content:u.resetButtonText||gD("vxe.table.customRestore"),disabled:!i,onClick:B}):x(),p?s?y(s,{mode:"text",content:u.closeButtonText||gD("vxe.table.customClose"),onClick:N}):x():s?y(s,{mode:"text",content:u.cancelButtonText||gD("vxe.table.customCancel"),onClick:L}):x(),p?x():s?y(s,{mode:"text",status:"primary",content:u.confirmButtonText||gD("vxe.table.customConfirm"),onClick:$}):x()])]):null]),Q()])]:[])})()}};return b("$xeTableCustomPanel",ee),ee},render(){return this.renderVN()}}),{getI18n:bD,getIcon:xD,renderer:wD}=Im,yD=dS({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e,t){const o=np.uniqueId(),l=n("$xeTable",{}),{reactData:a,internalData:i,getComputeMaps:s}=l,{computeFilterOpts:c}=s(),u=r(),d={refElem:u},p={xID:o,props:e,context:t,getRefMaps:()=>d},m=g(()=>{const{filterStore:t}=e;return t&&t.options.some(e=>e.checked)}),f=e=>{l.handleFilterConfirmFilter(e)},v=e=>{l.handleFilterResetFilter(e)},h=(e,t,n)=>{l.handleFilterChangeOption(e,t,n)},b=(t,n)=>{const{filterStore:o}=e;o.multiple?((t,n)=>{const{filterStore:o}=e;o.options.forEach(e=>{e._checked=n,e.checked=n}),o.isAllSelected=n,o.isIndeterminate=!1})(0,n):v(t)},x={changeRadioOption:(e,t,n)=>{l.handleFilterChangeRadioOption(e,t,n)},changeMultipleOption:(e,t,n)=>{l.handleFilterChangeMultipleOption(e,t,n)},changeAllOption:b,changeOption:h,confirmFilter:f,resetFilter:v};Object.assign(p,x);const w=(t,n)=>{const{filterStore:o}=e,{column:r,multiple:a,maxHeight:s}=o,c=r?r.slots:null,u=c?c.filter:null,d=Object.assign({},i._currFilterParams,{$panel:p,$table:l}),m=n?n.renderTableFilter||n.renderFilter:null;if(u)return[y("div",{class:"vxe-table--filter-template",style:s?{maxHeight:`${s}px`}:{}},l.callSlot(u,d))];if(m)return[y("div",{class:"vxe-table--filter-template",style:s?{maxHeight:`${s}px`}:{}},OE(m(t,d)))];const g=a?o.isAllSelected:!o.options.some(e=>e._checked),f=a&&o.isIndeterminate;return[y("ul",{class:"vxe-table--filter-header"},[y("li",{class:["vxe-table--filter-option",{"is--checked":g,"is--indeterminate":f}],title:bD(a?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:e=>{b(e,!o.isAllSelected)}},(a?[y("span",{class:["vxe-checkbox--icon",f?xD().TABLE_CHECKBOX_INDETERMINATE:g?xD().TABLE_CHECKBOX_CHECKED:xD().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([y("span",{class:"vxe-checkbox--label"},bD("vxe.table.allFilter"))]))]),y("ul",{class:"vxe-table--filter-body",style:s?{maxHeight:`${s}px`}:{}},o.options.map(e=>{const t=e._checked;return y("li",{class:["vxe-table--filter-option",{"is--checked":e._checked}],title:e.label,onClick:t=>{h(t,!e._checked,e)}},(a?[y("span",{class:["vxe-checkbox--icon",t?xD().TABLE_CHECKBOX_CHECKED:xD().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([y("span",{class:"vxe-checkbox--label"},AC(e.label,1))]))}))]},C=()=>{const{filterStore:t}=e,{column:n,multiple:o}=t,l=c.value,r=m.value,{filterRender:a}=n,i=OC(a)?wD.get(a.name):null,s=!r&&!t.isAllSelected&&!t.isIndeterminate;return o&&(!i||!1!==i.showTableFilterFooter&&!1!==i.showFilterFooter&&!1!==i.isFooter)?[y("div",{class:"vxe-table--filter-footer"},[y("button",{class:{"is--disabled":s},disabled:s,onClick:f},l.confirmButtonText||bD("vxe.table.confirmFilter")),y("button",{onClick:v},l.resetButtonText||bD("vxe.table.resetFilter"))])]:[]};return p.renderVN=()=>{const{filterStore:t}=e,{initStore:n}=a,{visible:o,multiple:r,column:s}=t,d=s?s.filterRender:null,m=OC(d)?wD.get(d.name):null,g=m?m.tableFilterClassName||m.filterClassName:"",f=Object.assign({},i._currFilterParams,{$panel:p,$table:l}),v=l.props,{computeSize:h}=l.getComputeMaps(),b=h.value,x=c.value,{transfer:E,destroyOnClose:D}=x;return y(S,{to:"body",disabled:!E},[y("div",{ref:u,class:["vxe-table--filter-wrapper","filter--prevent-default",SS(g,f),{[`size--${b}`]:b,"is--animat":v.animat,"is--multiple":r,"is--active":o}],style:t.style},n.filter&&(!D||o)&&s?w(d,m).concat(C()):[])])},p},render(){return this.renderVN()}}),{getI18n:CD,getIcon:SD}=Im,ED=dS({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const o=Im.getComponent("VxeModal"),l=Im.getComponent("VxeButton"),a=Im.getComponent("VxeSelect"),i=n("$xeTable",{}),{computeImportOpts:s}=i.getComputeMaps(),c=m({loading:!1}),u=r(),d=g(()=>{const{storeData:t}=e;return`${t.filename}.${t.type}`}),p=g(()=>{const{storeData:t}=e;return t.file&&t.type}),f=g(()=>{const{storeData:t}=e,{type:n,typeList:o}=t;if(n){const e=np.find(o,e=>n===e.value);return e?e.label:"*.*"}return`*.${o.map(e=>e.value).join(", *.")}`}),v=()=>{const{storeData:t}=e;Object.assign(t,{filename:"",sheetName:"",type:""})},h=()=>{const{storeData:t,defaultOptions:n}=e;i.readFile(n).then(e=>{const{file:n}=e;Object.assign(t,RC(n),{file:n})}).catch(e=>e)},b=()=>{t(()=>{const e=u.value;e&&e.focus()})},w=()=>{const{storeData:t}=e;t.visible=!1},C=()=>{const{storeData:t,defaultOptions:n}=e,o=s.value;c.loading=!0,i.importByFile(t.file,Object.assign({},o,n)).then(()=>{c.loading=!1,t.visible=!1}).catch(()=>{c.loading=!1})};return t(()=>{o||fS("vxe.error.reqComp",["vxe-modal"]),l||fS("vxe.error.reqComp",["vxe-button"]),a||fS("vxe.error.reqComp",["vxe-select"])}),()=>{const t=i.xeGrid,{defaultOptions:n,storeData:r}=e,s=d.value,m=p.value,g=f.value,S=n.slots||{},E=S.top,D=S.bottom,T=S.default,O=S.footer;return o?y(o,{id:"VXE_IMPORT_MODAL",modelValue:r.visible,title:CD("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:c.loading,"onUpdate:modelValue"(e){r.visible=e},onShow:b},{default:()=>{const e={$table:i,$grid:t,options:n,params:n.params};return y("div",{class:"vxe-table-export--panel"},[E?y("div",{class:"vxe-table-export--panel-top"},i.callSlot(E,e)):x(),y("div",{class:"vxe-table-export--panel-body"},T?i.callSlot(T,e):[y("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[y("tbody",[y("tr",[y("td",CD("vxe.import.impFile")),y("td",[m?y("div",{class:"vxe-table-export--selected--file",title:s},[y("span",s),y("i",{class:SD().INPUT_CLEAR,onClick:v})]):y("button",{ref:u,class:"vxe-table-export--select--file",onClick:h},CD("vxe.import.impSelect"))])]),y("tr",[y("td",CD("vxe.import.impType")),y("td",g)]),y("tr",[y("td",CD("vxe.import.impMode")),y("td",[a?y(a,{modelValue:n.mode,options:r.modeList,"onUpdate:modelValue"(e){n.mode=e}}):x()])])])])]),D?y("div",{class:"vxe-table-export--panel-bottom"},i.callSlot(D,e)):x()])},footer(){const e={$table:i,$grid:t,options:n,params:n.params};return y("div",{class:"vxe-table-export--panel-footer"},O?i.callSlot(O,e):[y("div",{class:"vxe-table-export--panel-btns"},[l?y(l,{content:CD("vxe.import.impCancel"),onClick:w}):x(),l?y(l,{status:"primary",disabled:!m||c.loading,content:CD("vxe.import.impConfirm"),onClick:C}):x()])])}}):x()}}}),{getI18n:DD,getIcon:TD}=Im,OD=dS({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const o=Im.getComponent("VxeModal"),l=Im.getComponent("VxeButton"),a=Im.getComponent("VxeSelect"),i=Im.getComponent("VxeInput"),s=Im.getComponent("VxeCheckbox"),c=n("$xeTable",{}),{computeExportOpts:u,computePrintOpts:d}=c.getComputeMaps(),p=m({isAll:!1,isIndeterminate:!1,loading:!1}),f=r(),v=r(),h=r(),b=g(()=>{const{storeData:t}=e;return t.columns.every(e=>e.checked)}),w=g(()=>{const{defaultOptions:t}=e;return["html","xml","xlsx","pdf"].indexOf(t.type)>-1}),C=g(()=>{const{storeData:t,defaultOptions:n}=e;return!n.original&&"current"===n.mode&&(t.isPrint||["html","xlsx"].indexOf(n.type)>-1)}),S=g(()=>{const{defaultOptions:t}=e;return!t.original&&["xlsx"].indexOf(t.type)>-1}),E=t=>{const{storeData:n}=e,o=np.findTree(n.columns,e=>e===t);if(o&&o.parent){const{parent:e}=o;e.children&&e.children.length&&(e.checked=e.children.every(e=>e.checked),e.halfChecked=!e.checked&&e.children.some(e=>e.checked||e.halfChecked),E(e))}},D=()=>{const{storeData:t}=e,n=t.columns;p.isAll=n.every(e=>e.disabled||e.checked),p.isIndeterminate=!p.isAll&&n.some(e=>!e.disabled&&(e.checked||e.halfChecked))},T=()=>{const{storeData:t}=e,n=!p.isAll;np.eachTree(t.columns,e=>{e.disabled||(e.checked=n,e.halfChecked=!1)}),p.isAll=n,D()},O=()=>{t(()=>{const e=v.value,t=h.value,n=f.value,o=e||t||n;o&&o.focus()}),D()},k=()=>{const{storeData:t,defaultOptions:n}=e,{hasMerge:o,columns:l}=t,r=b.value,a=C.value,i=np.searchTree(l,e=>e.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},n,{columns:i,isMerge:!!(o&&a&&r)&&n.isMerge})},R=()=>{const{storeData:t}=e;t.visible=!1},I=()=>{const{storeData:t}=e;t.isPrint?(()=>{const{storeData:t}=e,n=d.value;t.visible=!1,c.print(Object.assign({},n,k()))})():(()=>{const{storeData:t}=e,n=u.value;p.loading=!0,c.exportData(Object.assign({},n,k())).then(()=>{p.loading=!1,t.visible=!1}).catch(()=>{p.loading=!1})})()};return t(()=>{o||fS("vxe.error.reqComp",["vxe-modal"]),l||fS("vxe.error.reqComp",["vxe-button"]),a||fS("vxe.error.reqComp",["vxe-select"]),i||fS("vxe.error.reqComp",["vxe-input"]),s||fS("vxe.error.reqComp",["vxe-checkbox"])}),()=>{const t=c.xeGrid,{defaultOptions:n,storeData:r}=e,{isAll:u,isIndeterminate:d}=p,{hasTree:m,hasMerge:g,isPrint:k,hasColgroup:P,columns:F}=r,{isHeader:M}=n,A=[],V=b.value,$=w.value,N=C.value,L=S.value,_=n.slots||{},B=_.top,z=_.bottom,j=_.default,H=_.footer,W=_.parameter;return np.eachTree(F,e=>{const t=AC(e.getTitle(),1),n=e.children&&e.children.length,o=e.checked,l=e.halfChecked,r="html"===e.type;A.push(y("li",{key:e.id,class:["vxe-table-export--panel-column-option",`level--${e.level}`,{"is--group":n,"is--checked":o,"is--indeterminate":l,"is--disabled":e.disabled}],title:r?"":t,onClick:()=>{e.disabled||(e=>{const t=!e.checked;np.eachTree([e],e=>{e.checked=t,e.halfChecked=!1}),E(e),D()})(e)}},[y("span",{class:["vxe-checkbox--icon",l?TD().TABLE_CHECKBOX_INDETERMINATE:o?TD().TABLE_CHECKBOX_CHECKED:TD().TABLE_CHECKBOX_UNCHECKED]}),r?y("span",{key:"1",class:"vxe-checkbox--label",innerHTML:t}):y("span",{key:"0",class:"vxe-checkbox--label"},t)]))}),o?y(o,{id:"VXE_EXPORT_MODAL",modelValue:r.visible,title:DD(k?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:p.loading,"onUpdate:modelValue"(e){r.visible=e},onShow:O},{default:()=>{const e={$table:c,$grid:t,options:n,columns:F,params:n.params},o="empty"===n.mode;return y("div",{class:"vxe-table-export--panel"},[B?y("div",{class:"vxe-table-export--panel-top"},c.callSlot(B,e)):x(),y("div",{class:"vxe-table-export--panel-body"},j?c.callSlot(j,e):[y("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[y("tbody",[[k?x():y("tr",[y("td",DD("vxe.export.expName")),y("td",[i?y(i,{ref:v,modelValue:n.filename,type:"text",clearable:!0,placeholder:DD("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(e){n.filename=e}}):x()])]),k?x():y("tr",[y("td",DD("vxe.export.expType")),y("td",[a?y(a,{modelValue:n.type,options:r.typeList,"onUpdate:modelValue"(e){n.type=e}}):x()])]),k||$?y("tr",[y("td",DD("vxe.export.expSheetName")),y("td",[i?y(i,{ref:h,modelValue:n.sheetName,type:"text",clearable:!0,placeholder:DD("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(e){n.sheetName=e}}):x()])]):x(),y("tr",[y("td",DD("vxe.export.expMode")),y("td",[a?y(a,{modelValue:n.mode,options:r.modeList.map(e=>({value:e.value,label:DD(e.label)})),"onUpdate:modelValue"(e){n.mode=e}}):x()])]),y("tr",[y("td",[DD("vxe.export.expColumn")]),y("td",[y("div",{class:"vxe-table-export--panel-column"},[y("ul",{class:"vxe-table-export--panel-column-header"},[y("li",{class:["vxe-table-export--panel-column-option",{"is--checked":u,"is--indeterminate":d}],title:DD("vxe.table.allTitle"),onClick:T},[y("span",{class:["vxe-checkbox--icon",d?TD().TABLE_CHECKBOX_INDETERMINATE:u?TD().TABLE_CHECKBOX_CHECKED:TD().TABLE_CHECKBOX_UNCHECKED]}),y("span",{class:"vxe-checkbox--label"},DD("vxe.export.expCurrentColumn"))])]),y("ul",{class:"vxe-table-export--panel-column-body"},A)])])]),y("tr",[y("td",DD("vxe.export.expOpts")),y("td",W?[y("div",{class:"vxe-table-export--panel-option-row"},c.callSlot(W,e))]:[y("div",{class:"vxe-table-export--panel-option-row"},[s?y(s,{modelValue:o||M,disabled:o,title:DD("vxe.export.expHeaderTitle"),content:DD("vxe.export.expOptHeader"),"onUpdate:modelValue"(e){n.isHeader=e}}):x(),s?y(s,{modelValue:!!M&&n.isTitle,disabled:!M,title:DD("vxe.export.expTitleTitle"),content:DD("vxe.export.expOptTitle"),"onUpdate:modelValue"(e){n.isTitle=e}}):x(),s?y(s,{modelValue:!!(M&&P&&N)&&n.isColgroup,title:DD("vxe.export.expColgroupTitle"),disabled:!M||!P||!N,content:DD("vxe.export.expOptColgroup"),"onUpdate:modelValue"(e){n.isColgroup=e}}):x()]),y("div",{class:"vxe-table-export--panel-option-row"},[s?y(s,{modelValue:!o&&n.original,disabled:o,title:DD("vxe.export.expOriginalTitle"),content:DD("vxe.export.expOptOriginal"),"onUpdate:modelValue"(e){n.original=e}}):x(),s?y(s,{modelValue:!!(g&&N&&V)&&n.isMerge,title:DD("vxe.export.expMergeTitle"),disabled:o||!g||!N||!V,content:DD("vxe.export.expOptMerge"),"onUpdate:modelValue"(e){n.isMerge=e}}):x(),k||!s?x():y(s,{modelValue:!!L&&n.useStyle,disabled:!L,title:DD("vxe.export.expUseStyleTitle"),content:DD("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(e){n.useStyle=e}}),s?y(s,{modelValue:!!m&&n.isAllExpand,disabled:o||!m,title:DD("vxe.export.expAllExpandTitle"),content:DD("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(e){n.isAllExpand=e}}):x()]),y("div",{class:"vxe-table-export--panel-option-row"},[s?y(s,{modelValue:n.isFooter,disabled:!r.hasFooter,title:DD("vxe.export.expFooterTitle"),content:DD("vxe.export.expOptFooter"),"onUpdate:modelValue"(e){n.isFooter=e}}):x()])])])]])])]),z?y("div",{class:"vxe-table-export--panel-bottom"},c.callSlot(z,e)):x()])},footer(){const e={$table:c,$grid:t,options:n,columns:F,params:n.params};return y("div",{class:"vxe-table-export--panel-footer"},H?c.callSlot(H,e):[y("div",{class:"vxe-table-export--panel-btns"},[l?y(l,{content:DD("vxe.export.expCancel"),onClick:R}):x(),l?y(l,{ref:f,status:"primary",content:DD(k?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:I}):x()])])}}):x()}}}),{getIcon:kD}=Im,RD=dS({name:"VxeTableMenuPanel",setup(e,t){const o=np.uniqueId(),l=n("$xeTable",{}),{reactData:a}=l,i=r(),s={refElem:i},c={xID:o,props:e,context:t,getRefMaps:()=>s};return c.renderVN=()=>{const{ctxMenuStore:e}=a,{computeMenuOpts:t}=l.getComputeMaps(),n=t.value;return y(S,{to:"body",disabled:!1},[y("div",{ref:i,class:["vxe-table--context-menu-wrapper",n.className,{"is--visible":e.visible}],style:e.style},e.list.map((t,n)=>t.every(e=>!1===e.visible)?x():y("ul",{class:"vxe-context-menu--option-wrapper",key:n},t.map((t,o)=>{const r=t.children&&t.children.some(e=>!1!==e.visible),a=Object.assign({},t.prefixConfig),i=Object.assign({},t.suffixConfig),s=MC(t.name);return!1===t.visible?null:y("li",{class:[t.className,{"link--disabled":t.disabled,"link--active":t===e.selected}],key:`${n}_${o}`},[y("a",{class:"vxe-context-menu--link",onClick(e){l.ctxMenuLinkEvent(e,t)},onMouseover(e){l.ctxMenuMouseoverEvent(e,t)},onMouseout(e){l.ctxMenuMouseoutEvent(e,t)}},[y("div",{class:["vxe-context-menu--link-prefix",a.className||""]},[y("i",{class:a.icon||t.prefixIcon}),a.content?y("span",{},`${a.content}`):x()]),y("div",{class:"vxe-context-menu--link-content",title:s},s),y("div",{class:["vxe-context-menu--link-suffix",i.className||""]},[y("i",{class:i.icon||t.suffixIcon||(r?kD().TABLE_MENU_OPTIONS:"")}),i.content?y("span",`${i.content}`):x()])]),r?y("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":t===e.selected&&e.showChild}]},t.children.map((r,a)=>{const i=Object.assign({},r.prefixConfig),s=Object.assign({},r.suffixConfig),c=MC(r.name);return!1===r.visible?null:y("li",{class:[r.className,{"link--disabled":r.disabled,"link--active":r===e.selectChild}],key:`${n}_${o}_${a}`},[y("a",{class:"vxe-context-menu--link",onClick(e){l.ctxMenuLinkEvent(e,r)},onMouseover(e){l.ctxMenuMouseoverEvent(e,t,r)},onMouseout(e){l.ctxMenuMouseoutEvent(e,t)}},[y("div",{class:["vxe-context-menu--link-prefix",i.className||""]},[y("i",{class:i.icon||r.prefixIcon}),i.content?y("span",`${i.content}`):x()]),y("div",{class:"vxe-context-menu--link-content",title:c},c),y("div",{class:["vxe-context-menu--link-suffix",s.className||""]},[y("i",{class:s.icon}),s.content?y("span",`${s.content}`):x()])])])})):null])}))))])},c},render(){return this.renderVN()}}),{getConfig:ID,getIcon:PD,getI18n:FD,renderer:MD,formats:AD,createEvent:VD,globalResize:$D,interceptor:ND,hooks:LD,globalEvents:_D,GLOBAL_EVENT_KEYS:BD,useFns:zD,renderEmptyElement:jD}=Im,HD=5e6,WD="VXE_CUSTOM_STORE",qD=5e6,GD=5e6,UD=dS({name:"VxeTable",props:pD,emits:mD,setup(e,o){const{slots:l,emit:a}=o,d=np.uniqueId(),p=np.browse(),h=Im.getComponent("VxeLoading"),x=Im.getComponent("VxeTooltip"),w=n("$xeTabs",null),{computeSize:C}=zD.useSize(e),S=m({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],rowGroupColumn:null,expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},visiblwRowsFlag:1,isRowGroupStatus:!1,rowGroupList:[],aggHandleFields:[],aggHandleAggColumns:[],rowGroupExpandedFlag:1,rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isDragRowMove:!1,dragRow:null,isDragColMove:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),E={tZindex:0,currKeyField:"",isCurrDeepKey:!1,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterGroupFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableFullGroupData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeBodyList:[],mergeBodyMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeBodyCellMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},rowGroupExpandedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},cvCacheMaps:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let D={},T={};const O=r(),k=r(),R=r(),I=r(),P=r(),F=r(),M=r(),A=r(),V=r(),$=r(),N=r(),L=r(),_=r(),B=r(),z=r(),j=r(),H=r(),W=r(),q=r(),G=r(),U=r(),K=r(),Y=r(),X=r(),Z=r(),Q=r(),J=r(),ee=r(),te=r(),ne=r(),oe=r(),le=r(),re=r(),ae=r(),ie=r(),se=r(),ce=r(),ue=r(),de=r(),pe=r(),me=n("$xeGrid",null);let ge;const fe=g(()=>{const{id:t}=e;return t?np.isFunction(t)?`${t({$table:It,$grid:me})||""}`:`${t}`:""}),ve=g(()=>{const t=Ae.value;return`${e.rowId||t.keyField||"_X_ROW_KEY"}`}),he=g(()=>Object.assign({},ID().table.validConfig,e.validConfig)),be=g(()=>ye.value),xe=g(()=>{const e=ye.value,{threshold:t}=e;return t?np.toNumber(t):0}),we=g(()=>Ce.value),ye=g(()=>Object.assign({},ID().table.virtualXConfig||ID().table.scrollX,e.virtualXConfig||e.scrollX)),Ce=g(()=>Object.assign({},ID().table.virtualYConfig||ID().table.scrollY,e.virtualYConfig||e.scrollY)),Se=g(()=>Object.assign({},ID().table.scrollbarConfig,e.scrollbarConfig)),Ee=g(()=>{const e=Se.value;return!(!e.x||"top"!==e.x.position)}),De=g(()=>{const e=Se.value;return!(!e.y||"left"!==e.y.position)}),Te=g(()=>{const e=Ce.value,{threshold:t}=e;return t?np.toNumber(t):0}),Oe=g(()=>S.rowHeightStore),ke=g(()=>{const e=C.value;return Oe.value[e||"default"]||18}),Re=g(()=>Object.assign({},ID().table.columnConfig,e.columnConfig)),Ie=g(()=>Object.assign({},ID().table.currentColumnConfig,e.currentColumnConfig)),Pe=g(()=>{const t=Object.assign({},ID().table.cellConfig,e.cellConfig);return t.height&&(t.height=np.toNumber(t.height)),t}),Fe=g(()=>{const t=Object.assign({},ID().table.headerCellConfig,e.headerCellConfig),n=Pe.value;return t.height=np.toNumber(dE(t.height||n.height)),t}),Me=g(()=>{const t=Object.assign({},ID().table.footerCellConfig,e.footerCellConfig),n=Pe.value;return t.height=np.toNumber(dE(t.height||n.height)),t}),Ae=g(()=>Object.assign({},ID().table.rowConfig,e.rowConfig)),Ve=g(()=>Object.assign({},ID().table.aggregateConfig||ID().table.rowGroupConfig,e.aggregateConfig||e.rowGroupConfig)),$e=g(()=>Ve.value),Ne=g(()=>Object.assign({},ID().table.currentRowConfig,e.currentRowConfig)),Le=g(()=>Object.assign({},ID().table.rowDragConfig,e.rowDragConfig)),_e=g(()=>Object.assign({},ID().table.columnDragConfig,e.columnDragConfig)),Be=g(()=>Object.assign({},ID().table.resizeConfig,e.resizeConfig)),ze=g(()=>Object.assign({},ID().table.resizableConfig,e.resizableConfig)),je=g(()=>Object.assign({startIndex:0},ID().table.seqConfig,e.seqConfig)),He=g(()=>Object.assign({},ID().table.radioConfig,e.radioConfig)),We=g(()=>Object.assign({},ID().table.checkboxConfig,e.checkboxConfig)),qe=g(()=>Object.assign({},ID().tooltip,ID().table.tooltipConfig,e.tooltipConfig)),Ge=g(()=>{const{tooltipStore:e}=S,t=qe.value;return Object.assign({},t,e.currOpts)}),Ue=g(()=>{const e=qe.value;return Object.assign({},e)}),Ke=g(()=>Object.assign({},ID().table.editConfig,e.editConfig)),Ye=g(()=>Object.assign({orders:["asc","desc",null]},ID().table.sortConfig,e.sortConfig)),Xe=g(()=>Object.assign({},ID().table.filterConfig,e.filterConfig)),Ze=g(()=>Object.assign({},ID().table.mouseConfig,e.mouseConfig)),Qe=g(()=>Object.assign({},ID().table.areaConfig,e.areaConfig)),Je=g(()=>Object.assign({},ID().table.keyboardConfig,e.keyboardConfig)),et=g(()=>Object.assign({},ID().table.clipConfig,e.clipConfig)),tt=g(()=>Object.assign({},ID().table.fnrConfig,e.fnrConfig)),nt=g(()=>Object.assign({},ID().table.menuConfig,e.menuConfig)),ot=g(()=>{const{columnStore:e}=S,{leftList:t}=e;let n=0;for(let o=0;o<t.length;o++){n+=t[o].renderWidth}return n}),lt=g(()=>{const{columnStore:e}=S,{rightList:t}=e;let n=0;for(let o=0;o<t.length;o++){n+=t[o].renderWidth}return n}),rt=g(()=>{const e=nt.value.header;return e&&e.options?e.options:[]}),at=g(()=>{const e=nt.value.body;return e&&e.options?e.options:[]}),it=g(()=>{const e=nt.value.footer;return e&&e.options?e.options:[]}),st=g(()=>{const t=nt.value,n=rt.value,o=at.value,l=it.value;return!!(e.menuConfig&&OC(t)&&(n.length||o.length||l.length))}),ct=g(()=>{const{ctxMenuStore:e}=S,t=[];return e.list.forEach(e=>{e.forEach(e=>{t.push(e)})}),t}),ut=g(()=>Object.assign({},ID().table.exportConfig,e.exportConfig)),dt=g(()=>Object.assign({},ID().table.importConfig,e.importConfig)),pt=g(()=>Object.assign({},ID().table.printConfig,e.printConfig)),mt=g(()=>Object.assign({},ID().table.expandConfig,e.expandConfig)),gt=g(()=>Object.assign({},ID().table.treeConfig,e.treeConfig)),ft=g(()=>Object.assign({},ID().table.emptyRender,e.emptyRender)),vt=g(()=>Object.assign({},ID().table.loadingConfig,e.loadingConfig)),ht=g(()=>e.border?Math.max(2,Math.ceil(S.scrollbarWidth/S.tableColumn.length)):1),bt=g(()=>Object.assign({},ID().table.customConfig,e.customConfig)),xt=g(()=>{const{rowExpandedFlag:e,expandColumn:t,rowGroupExpandedFlag:n,treeExpandedFlag:o}=S,{visibleDataRowIdData:l,rowExpandedMaps:r}=E,a=[];return t&&e&&n&&o&&np.each(r,(e,t)=>{l[t]&&a.push(e)}),a}),wt=g(()=>{const{visibleColumn:e}=E,{tableColumn:t}=S;return t.length||e.length?e.filter(e=>"auto"===e.width||"auto"===e.minWidth):[]}),yt=g(()=>{const{tableColumn:e}=S,{collectColumn:t}=E;let n=0;return e.length&&t.length&&t.forEach(e=>{e.renderFixed&&n++}),n}),Ct=g(()=>{const e=yt.value,t=Re.value,{maxFixedSize:n}=t;return!!n&&e>=n}),St=g(()=>{const{border:t}=e;return!0===t?"full":t||"default"}),Et=g(()=>{const{treeConfig:t}=e,{tableData:n}=S,{tableFullData:o}=E,l=We.value,{strict:r,checkMethod:a}=l;return!!r&&(!n.length&&!o.length||!!a&&o.every(e=>!a({$table:It,row:e})))}),Dt=g(()=>{const{overflowX:e,scrollXLoad:t,overflowY:n,scrollYLoad:o}=S;return{x:e&&t,y:n&&o}}),Tt=g(()=>$e.value.groupFields),Ot=g(()=>{const{rowGroupList:e}=S,{fullColumnFieldData:t}=E,n=[];return e.forEach(e=>{const o=t[e.field];o&&n.push(o.column)}),n}),kt={refElem:O,refTooltip:R,refValidTooltip:P,refTableFilter:M,refTableCustom:A,refTableMenu:F,refTableHeader:$,refTableBody:N,refTableFooter:L,refTableLeftHeader:_,refTableLeftBody:B,refTableLeftFooter:z,refTableRightHeader:j,refTableRightBody:H,refTableRightFooter:W,refLeftContainer:q,refRightContainer:G,refColResizeBar:U,refRowResizeBar:K,refScrollXVirtualElem:te,refScrollYVirtualElem:ne,refScrollXHandleElem:oe,refScrollYHandleElem:ae,refScrollXSpaceElem:de,refScrollYSpaceElem:pe},Rt={computeSize:C,computeTableId:fe,computeValidOpts:he,computeRowField:ve,computeVirtualXOpts:ye,computeVirtualYOpts:Ce,computeScrollbarOpts:Se,computeScrollbarXToTop:Ee,computeScrollbarYToLeft:De,computeColumnOpts:Re,computeCurrentColumnOpts:Ie,computeScrollXThreshold:xe,computeScrollYThreshold:Te,computeRowHeightMaps:Oe,computeDefaultRowHeight:ke,computeCellOpts:Pe,computeHeaderCellOpts:Fe,computeFooterCellOpts:Me,computeRowOpts:Ae,computeAggregateOpts:Ve,computeRowGroupOpts:$e,computeCurrentRowOpts:Ne,computeRowDragOpts:Le,computeColumnDragOpts:_e,computeResizeOpts:Be,computeResizableOpts:ze,computeSeqOpts:je,computeRadioOpts:He,computeCheckboxOpts:We,computeTooltipOpts:qe,computeEditOpts:Ke,computeSortOpts:Ye,computeFilterOpts:Xe,computeMouseOpts:Ze,computeAreaOpts:Qe,computeKeyboardOpts:Je,computeClipOpts:et,computeFNROpts:tt,computeHeaderMenu:rt,computeBodyMenu:at,computeFooterMenu:it,computeIsMenu:st,computeMenuList:ct,computeMenuOpts:nt,computeExportOpts:ut,computeImportOpts:dt,computePrintOpts:pt,computeExpandOpts:mt,computeTreeOpts:gt,computeEmptyOpts:ft,computeLoadingOpts:vt,computeCellOffsetWidth:ht,computeCustomOpts:bt,computeLeftFixedWidth:ot,computeRightFixedWidth:lt,computeFixedColumnSize:yt,computeIsMaxFixedColumn:Ct,computeIsAllCheckboxDisabled:Et,computeVirtualScrollBars:Dt,computeRowGroupFields:Tt,computeRowGroupColumns:Ot,computeSXOpts:be,computeSYOpts:we},It={xID:d,props:e,context:o,reactData:S,internalData:E,getRefMaps:()=>kt,getComputeMaps:()=>Rt,xeGrid:me,xegrid:me},Pt=(e,t,n)=>{const o=np.get(e,n),l=np.get(t,n);return!(!VC(o)||!VC(l))||(np.isString(o)||np.isNumber(o)?""+o==""+l:np.isEqual(o,l))},Ft=()=>{const e=ve.value;E.currKeyField=e,E.isCurrDeepKey=e.indexOf(".")>-1},Mt=(e,t)=>np.isBoolean(e)?e:t,At=e=>{const t=Ye.value,{orders:n=[]}=t,o=e.order||null,l=n.indexOf(o)+1;return n[l<n.length?l:0]},Vt=e=>{const t=ID().version,n=np.toStringJSON(localStorage.getItem(WD)||""),o=n&&n._v===t?n:{_v:t};return(e?o[e]:o)||{}},$t=e=>{const{fullAllDataRowIdData:t}=E,n={};return np.each(e,(e,o)=>{t[o]&&(n[o]=e)}),n},Nt=e=>{const{fullDataRowIdData:t}=E,n=[];return np.each(e,(e,o)=>{t[o]&&-1===It.findRowIndexOf(n,t[o].row)&&n.push(t[o].row)}),n},Lt=()=>{const{isScrollXBig:e,scrollXWidth:t}=S,{elemStore:n,visibleColumn:o,fullColumnIdData:l}=E,r=ot.value,a=lt.value,i=uE(n["main-body-scroll"]);if(i){const n=i.clientWidth;let s=i.scrollLeft;e&&(s=Math.ceil((t-n)*Math.min(1,s/(GD-n))));const c=s+r,u=s+n-a;let d=0,p=o.length;for(;d<p;){const e=Math.floor((d+p)/2);(l[o[e].id]||{}).oLeft<=c?d=e+1:p=e}let m=0;const g=d===o.length?d:Math.max(0,d<o.length?d-2:0);for(let e=g,t=o.length;e<t;e++){if(m++,(l[o[e].id]||{}).oLeft>u||m>=60)break}return{toVisibleIndex:Math.max(0,g),visibleSize:Math.max(1,m)}}return{toVisibleIndex:0,visibleSize:6}},_t=(e,t)=>{const{rowHeightStore:n}=S;t&&t.clientHeight&&(n[e]=t.clientHeight)},Bt=()=>{const{isAllOverflow:e,expandColumn:t,isScrollYBig:n,scrollYHeight:o}=S,{elemStore:l,isResizeCellHeight:r,afterFullData:a,fullAllDataRowIdData:i}=E,s=Ae.value,c=Pe.value,u=ke.value,d=uE(l["main-body-scroll"]);if(d){const l=d.clientHeight;let p=d.scrollTop;n&&(p=Math.ceil((o-l)*Math.min(1,p/(qD-l))));const m=p,g=p+l;let f=-1,v=0;if(r||c.height||s.height||t||!e){const{handleGetRowId:e}=YS(It);let t=0,n=a.length;for(;t<n;){const o=Math.floor((t+n)/2);(i[e(a[o])]||{}).oTop<=m?t=o+1:n=o}f=t===a.length?t:Math.max(0,t<a.length?t-2:0);for(let o=f,l=a.length;o<l;o++){if(v++,(i[e(a[o])]||{}).oTop>g||v>=100)break}}else f=Math.floor(m/u)-1,v=Math.ceil(l/u)+1;return{toVisibleIndex:Math.max(0,f),visibleSize:Math.max(6,v)}}return{toVisibleIndex:0,visibleSize:6}},zt=(e,t,n)=>{for(let o=0,l=e.length;o<l;o++){const l=e[o],{startIndex:r,endIndex:a}=t,i=l[n],s=i+l[n+"span"];i<r&&r<s&&(t.startIndex=i),i<a&&a<s&&(t.endIndex=s),t.startIndex===r&&t.endIndex===a||(o=-1)}};function jt(e){const t={};if(e&&e.length)for(let n=0;n<e.length;n++){const{row:o,col:l,rowspan:r,colspan:a}=e[n];for(let e=0;e<r;e++)for(let n=0;n<a;n++)t[`${o+e}:${l+n}`]=e||n?{rowspan:0,colspan:0}:{rowspan:r,colspan:a}}return t}const Ht=(e,n,o)=>{const l=Ye.value,{multiple:r,remote:a,orders:i}=l;if(np.isArray(n)||(n=[n]),n&&n.length){r||(n=[n[0]],Wt());let l=null;return n.forEach((e,t)=>{let{field:n,order:o}=e,r=n;np.isString(n)&&(r=It.getColumnByField(n)),l||(l=r),r&&r.sortable&&(i&&-1===i.indexOf(o)&&(o=At(r)),r.order!==o&&(r.order=o),r.sortTime=Date.now()+t)}),o&&(a||It.handleTableData(!0)),e&&It.handleColumnSortEvent(e,l),t().then(()=>(Wn(),It.updateCellAreas(),on()))}return t()},Wt=()=>{const{tableFullColumn:e}=E;e.forEach(e=>{e.order=null})},qt=t=>{const{parentHeight:n}=S,o=e[t];let l=0;if(o)if("100%"===o||"auto"===o)l=n;else{const e=It.getExcludeHeight();l=TS(o)?Math.floor((np.toInteger(o)||1)/100*n):np.toNumber(o),l=Math.max(40,l-e)}return l},Gt=e=>{let{collectColumn:t}=E;const{resizableData:n,sortData:o,visibleData:l,fixedData:r}=e;let a=!1;n||o||l||r?(np.eachTree(t,(e,t,i,s,c)=>{const u=e.getKey();c||(r&&void 0!==r[u]&&(e.fixed=r[u]),o&&np.isNumber(o[u])&&(a=!0,e.renderSortNumber=o[u])),n&&np.isNumber(n[u])&&(e.resizeWidth=n[u]),l&&np.isBoolean(l[u])&&(e.visible=l[u])}),a&&(t=np.orderBy(t,"renderSortNumber"),E.collectColumn=t,E.tableFullColumn=kn(t)),S.isCustomStatus=!0):S.isCustomStatus=!1},Ut=()=>{const{tableFullColumn:t,collectColumn:n}=E,o=E.fullColumnIdData={},l=E.fullColumnFieldData={},r=Ze.value,a=mt.value,i=Re.value,s=_e.value,c=Ce.value,{isCrossDrag:u,isSelfToChildDrag:d}=s,p=bt.value,{storage:m}=p,g=Ae.value,f=n.some(FC);let v,h,b,x,w,y,C=!!e.showOverflow;const D=(e,t,n,r,a)=>{const{id:s,field:c,fixed:p,type:g,treeNode:f,rowGroupNode:S}=e,E={$index:-1,_index:-1,column:e,colid:s,index:t,items:n,parent:a||null,width:0,oLeft:0};c?(l[c]&&fS("vxe.error.colRepet",["field",c]),l[c]=E):(m&&!g||i.drag&&(u||d))&&fS("vxe.error.reqProp",[`${e.getTitle()||g||""} -> column.field=?`]),y||"html"!==g||(y=e),f&&(b&&gS("vxe.error.colRepet",["tree-node",f]),b||(b=e)),S&&(b&&gS("vxe.error.colRepet",["row-group-node",S]),v||(v=e)),"expand"===g&&(h&&gS("vxe.error.colRepet",["type",g]),h||(h=e)),"checkbox"===g?(x&&gS("vxe.error.colRepet",["type",g]),x||(x=e)):"radio"===g&&(w&&gS("vxe.error.colRepet",["type",g]),w||(w=e)),C&&!1===e.showOverflow&&(C=!1),o[s]&&fS("vxe.error.colRepet",["colId",s]),o[s]=E};f?np.eachTree(n,(e,t,n,o,l,r)=>{e.level=r.length,D(e,t,n,0,l)}):t.forEach(D),h&&"fixed"!==a.mode&&c.enabled&&gS("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),h&&"fixed"!==a.mode&&r.area&&fS("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),y&&(i.useKey||fS("vxe.error.reqProp",["column-config.useKey & column.type=html"]),g.useKey||fS("vxe.error.reqProp",["row-config.useKey & column.type=html"])),S.isGroup=f,S.rowGroupColumn=v,S.treeNodeColumn=b,S.expandColumn=h,S.isAllOverflow=C},Kt=()=>{E.customHeight=qt("height"),E.customMinHeight=qt("minHeight"),E.customMaxHeight=qt("maxHeight"),!S.scrollYLoad||E.customHeight||E.customMinHeight||(E.customHeight=300)},Yt=(e,t)=>{const n=t.querySelectorAll(`.vxe-cell--wrapper[colid="${e.id}"]`);let o=0;const l=n[0];if(l&&l.parentElement){const e=getComputedStyle(l.parentElement);o=Math.ceil(np.toNumber(e.paddingLeft)+np.toNumber(e.paddingRight))}let r=e.renderAutoWidth-o;for(let a=0;a<n.length;a++){const e=n[a];r=Math.max(r,e?Math.ceil(e.scrollWidth)+4:0)}return r+o},Xt=()=>{const e=wt.value,{fullColumnIdData:t}=E,n=O.value;n&&(n.setAttribute("data-calc-col","Y"),e.forEach(e=>{const o=e.id,l=t[o],r=Yt(e,n);l&&(l.width=Math.max(r,l.width)),e.renderAutoWidth=r}),It.analyColumnWidth(),n.removeAttribute("data-calc-col"))},Zt=()=>{const{elemStore:t}=E,n=uE(t["main-body-wrapper"]);if(!n)return;if(!ae.value)return;if(!oe.value)return;let o=0;const l=n.clientWidth;let r=l,a=r/100;const{fit:i}=e,{columnStore:s}=S,{resizeList:c,pxMinList:u,autoMinList:d,pxList:p,scaleList:m,scaleMinList:g,autoList:f,remainList:v}=s;if(u.forEach(e=>{const t=np.toInteger(e.minWidth);o+=t,e.renderWidth=t}),d.forEach(e=>{const t=Math.max(60,np.toInteger(e.renderAutoWidth));o+=t,e.renderWidth=t}),g.forEach(e=>{const t=Math.floor(np.toInteger(e.minWidth)*a);o+=t,e.renderWidth=t}),m.forEach(e=>{const t=Math.floor(np.toInteger(e.width)*a);o+=t,e.renderWidth=t}),p.forEach(e=>{const t=np.toInteger(e.width);o+=t,e.renderWidth=t}),f.forEach(e=>{const t=Math.max(60,np.toInteger(e.renderAutoWidth));o+=t,e.renderWidth=t}),c.forEach(e=>{const t=np.toInteger(e.resizeWidth);o+=t,e.renderWidth=t}),r-=o,a=r>0?Math.floor(r/(g.length+u.length+d.length+v.length)):0,i?r>0&&g.concat(u).concat(d).forEach(e=>{o+=a,e.renderWidth+=a}):a=40,v.forEach(e=>{const t=Math.max(a,40);e.renderWidth=t,o+=t}),i){const e=m.concat(g).concat(u).concat(d).concat(v);let t=e.length-1;if(t>0){let n=l-o;if(n>0){for(;n>0&&t>=0;)n--,e[t--].renderWidth++;o=l}}}S.scrollXWidth=o,S.resizeWidthFlag++,Hn(),Kt()},Qt=(e,t)=>{const n=t.querySelectorAll(`.vxe-cell--wrapper[rowid="${e.rowid}"]`);let o=e.height;for(let l=0;l<n.length;l++){const e=n[l],t=e.parentElement,r=Math.ceil(np.toNumber(t.style.paddingTop)+np.toNumber(t.style.paddingBottom)),a=e?e.clientHeight:0;o=Math.max(o-r,Math.ceil(a))}return o},Jt=()=>{const{tableData:e,isAllOverflow:t,scrollYLoad:n,scrollXLoad:o}=S,{fullAllDataRowIdData:l}=E,r=ke.value,a=O.value;if(!t&&n&&a){const{handleGetRowId:t}=YS(It);a.setAttribute("data-calc-row","Y"),e.forEach(e=>{const n=t(e),i=l[n];if(i){const e=Qt(i,a);i.height=Math.max(r,o?Math.max(i.height,e):e)}a.removeAttribute("data-calc-row")}),S.calcCellHeightFlag++}},en=e=>{const{sortBy:t,sortType:n}=e;return o=>{let l;return l=t?np.isFunction(t)?t({row:o,column:e}):np.get(o,t):D.getCellLabel(o,e),n&&"auto"!==n?"number"===n?np.toNumber(l):"string"===n?np.toValueString(l):l:isNaN(l)?l:np.toNumber(l)}},tn=()=>{const{treeConfig:t}=e,{fullDataRowIdData:n,fullAllDataRowIdData:o,afterFullData:l,afterTreeFullData:r}=E,a=gt.value,{transform:i}=a,s=a.children||a.childrenField,c={};if(t){const{handleGetRowId:e}=YS(It);np.eachTree(r,(t,l,r,a)=>{const i=e(t),s=o[i],u=a.map((e,t)=>t%2==0?Number(e)+1:".").join("");if(s)s.seq=u,s.treeIndex=l;else{const e={row:t,rowid:i,seq:u,index:-1,$index:-1,_index:-1,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};o[i]=e,n[i]=e}c[i]=t},{children:i?a.mapChildrenField:s}),i&&l.forEach((n,l)=>{const r=e(n),a=o[r],i=l+1;a&&(t||(a.seq=i),a._index=l)}),E.afterFullRowMaps=c}else(()=>{const{treeConfig:t}=e,{afterFullData:n,fullDataRowIdData:o,fullAllDataRowIdData:l}=E,{handleGetRowId:r}=YS(It),a={};n.forEach((e,n)=>{const i=r(e),s=l[i],c=n+1;if(s)t||(s.seq=c),s._index=n;else{const t={row:e,rowid:i,seq:c,index:-1,$index:-1,_index:n,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};l[i]=t,o[i]=t}a[i]=e}),E.afterFullRowMaps=a})()},nn=()=>{const{treeConfig:t}=e,{isRowGroupStatus:n}=S,{fullAllDataRowIdData:o,treeExpandedMaps:l,rowGroupExpandedMaps:r}=E,a=Ve.value,i=gt.value,{handleGetRowId:s}=YS(It),c=[],u={};if(t&&i.transform){const e=i.children||i.childrenField;return np.eachTree(E.afterTreeFullData,(e,t,n,r,a)=>{const i=s(e),d=s(a);if(!a||u[d]&&l[d]){const t=o[i];t&&(t._index=c.length),u[i]=1,c.push(e)}},{children:e}),E.afterFullData=c,Fn(c),c}if(n){const{childrenField:e}=a;return np.eachTree(E.afterGroupFullData,(e,t,n,l,a)=>{const i=s(e),d=s(a);if(!a||u[d]&&r[d]){const t=o[i];t&&(t._index=c.length),u[i]=1,c.push(e)}},{children:e}),E.afterFullData=c,Fn(c),c}return E.afterFullData},on=()=>{const{showHeaderOverflow:n,showFooterOverflow:o,mouseConfig:l,spanMethod:r,footerSpanMethod:a}=e,{isGroup:i,currentRow:s,tableColumn:c,scrollXLoad:u,scrollYLoad:d,overflowX:m,scrollbarWidth:g,overflowY:f,scrollbarHeight:v,scrollXWidth:h,columnStore:b,editStore:x,isAllOverflow:w,expandColumn:y,isColLoading:C}=S,{visibleColumn:D,tableHeight:T,headerHeight:k,footerHeight:R,elemStore:I,customHeight:P,customMinHeight:F,customMaxHeight:M}=E,A=O.value;if(!A)return;const V=f?g:0,$=m?v:0,N=Y.value,L=Ze.value,_=mt.value,B=uE(I["main-body-wrapper"]),z=uE(I["main-body-table"]);N&&(N.style.top=`${k}px`,N.style.height=B?B.offsetHeight-$+"px":"");let j=0,H=0;const W=F-k-R-$;M&&(H=Math.max(W,M-k-R-$)),P&&(j=P-k-R-$),j||z&&(j=z.clientHeight),j&&(H&&(j=Math.min(H,j)),j=Math.max(W,j));const U=Ee.value,K=le.value,X=re.value,Z=te.value;Z&&(Z.style.height=`${$}px`,Z.style.visibility=m?"visible":"hidden");const Q=se.value;Q&&(Q.style.left=U?`${V}px`:"",Q.style.width=A.clientWidth-V+"px"),K&&(K.style.width=U?`${V}px`:"",K.style.display=U&&m&&$?"block":""),X&&(X.style.width=U?"":`${V}px`,X.style.display=U?"":m&&$?"block":"");const ee=ne.value;ee&&(ee.style.width=`${V}px`,ee.style.height=`${j+k+R}px`,ee.style.visibility=f?"visible":"hidden");const oe=ie.value;oe&&(oe.style.height=`${k}px`,oe.style.display=f&&k?"block":"");const ae=ce.value;ae&&(ae.style.height=`${j}px`,ae.style.top=`${k}px`);const de=ue.value;de&&(de.style.height=`${R}px`,de.style.top=`${k+j}px`,de.style.display=f&&R?"block":"");const pe=J.value;return pe&&(pe.style.height=`${j}px`,pe.style.top=`${k}px`),["main","left","right"].forEach((e,t)=>{const l=t>0?e:"",s="left"===l;let g,f=[];l&&(f=s?b.leftList:b.rightList,g=s?q.value:G.value),["header","body","footer"].forEach(t=>{const s=uE(I[`${e}-${t}-wrapper`]),v=uE(I[`${e}-${t}-scroll`]),b=uE(I[`${e}-${t}-table`]);if("header"===t){let e=c,t=!1;i?e=D:(u&&n&&(r||a||(t=!0)),t&&(C||!l&&m)||(e=D),l&&t&&(e=f||[]));const o=e.reduce((e,t)=>e+t.renderWidth,0);l&&(i?s&&(s.style.width=h?`${h}px`:""):t?s&&(s.style.width=o?`${o}px`:""):s&&(s.style.width=h?`${h}px`:"")),v&&(v.style.height=`${k}px`),b&&(b.style.width=o?`${o}px`:"")}else if("body"===t){v&&(v.style.maxHeight=M?`${H}px`:"",v.style.height=P?`${j}px`:"",v.style.minHeight=`${W}px`),g&&(s&&(s.style.top=`${k}px`),g.style.height=`${P>0?P:T+k+R+$}px`,g.style.width=`${f.reduce((e,t)=>e+t.renderWidth,0)}px`);let n=c,o=!1;(u||d||w)&&(y&&"fixed"!==_.mode||r||a||(o=!0)),l&&(n=D,o&&(n=f||[]));const i=n.reduce((e,t)=>e+t.renderWidth,0);l&&(o?s&&(s.style.width=i?`${i}px`:""):s&&(s.style.width=h?`${h}px`:"")),b&&(b.style.width=i?`${i}px`:"",b.style.paddingRight=V&&l&&(p.firefox||p.safari)?`${V}px`:"");const m=uE(I[`${e}-${t}-emptyBlock`]);m&&(m.style.width=i?`${i}px`:"")}else if("footer"===t){let e=c,t=!1;u&&o&&(r||a||(t=!0)),t&&(C||!l&&m)||(e=D),l&&t&&(e=f||[]);const n=e.reduce((e,t)=>e+t.renderWidth,0);l&&(t?s&&(s.style.width=n?`${n}px`:""):s&&(s.style.width=h?`${h}px`:"")),v&&(v.style.height=`${R}px`,g&&s&&(s.style.top=`${P>0?P-R-$:T+k}px`)),b&&(b.style.width=n?`${n}px`:"")}})}),s&&It.setCurrentRow(s),l&&L.selected&&x.selected.row&&x.selected.column&&It.addCellSelectedClass(),t()},ln=e=>It.triggerValidate?It.triggerValidate(e):t(),rn=(e,t)=>{ln("blur").catch(e=>e).then(()=>{It.handleEdit(t,e).then(()=>ln("change")).catch(e=>e)})},an=(e,t)=>{const{checkboxReserveRowMap:n}=E;if(We.value.reserve){const o=US(It,e);t?n[o]=e:n[o]&&delete n[o]}},sn=(e,n)=>{const o=He.value,{checkMethod:l}=o;return e&&(n||!l||l({$table:It,row:e}))&&(S.selectRadioRow=e,(e=>{He.value.reserve&&(E.radioReserveRow=e)})(e)),t()},cn=(e,n,o)=>(e&&!np.isArray(e)&&(e=[e]),It.handleBatchSelectRows(e,!!n,o),It.checkSelectionStatus(),t()),un=(n,o)=>{const{treeConfig:l}=e,{isRowGroupStatus:r}=S,{afterFullData:a,afterTreeFullData:i,afterGroupFullData:s,checkboxReserveRowMap:c,selectCheckboxMaps:u}=E,d=gt.value,p=Ve.value,m=d.children||d.childrenField,g=We.value,{checkField:f,reserve:v,checkMethod:h}=g,{handleGetRowId:b}=YS(It),x=g.indeterminateField||g.halfField,w={};if(f){const e=e=>{(o||!h||h({$table:It,row:e}))&&(n&&(w[b(e)]=e),np.set(e,f,n)),(l||r)&&x&&np.set(e,x,!1)};l||r?np.eachTree(a,e,{children:m}):a.forEach(e)}else r?n?np.eachTree(s,e=>{if(o||!h||h({$table:It,row:e})){const t=b(e);w[t]=e}},{children:p.mapChildrenField}):!o&&h&&np.eachTree(s,e=>{const t=b(e);!h({$table:It,row:e})&&u[t]&&(w[t]=e)},{children:p.mapChildrenField}):l?n?np.eachTree(i,e=>{if(o||!h||h({$table:It,row:e})){const t=b(e);w[t]=e}},{children:m}):!o&&h&&np.eachTree(i,e=>{const t=b(e);!h({$table:It,row:e})&&u[t]&&(w[t]=e)},{children:m}):n?!o&&h?a.forEach(e=>{const t=b(e);(u[t]||h({$table:It,row:e}))&&(w[t]=e)}):a.forEach(e=>{const t=b(e);w[t]=e}):!o&&h&&a.forEach(e=>{const t=b(e);!h({$table:It,row:e})&&u[t]&&(w[t]=e)});return v&&(n?np.each(w,(e,t)=>{c[t]=e}):a.forEach(e=>an(e,!1))),S.updateCheckboxFlag++,E.selectCheckboxMaps=f?{}:w,S.isAllSelected=n,S.isIndeterminate=!1,E.treeIndeterminateRowMaps={},It.checkSelectionStatus(),t()},dn=e=>{const n=gt.value,o=We.value,{transform:l,loadMethod:r}=n,{checkStrictly:a}=o;return new Promise(n=>{if(r){const{fullAllDataRowIdData:o,treeExpandLazyLoadedMaps:i}=E,s=US(It,e),c=o[s];i[s]=e,Promise.resolve(r({$table:It,row:e})).then(n=>{if(c&&(c.treeLoaded=!0),i[s]&&delete i[s],np.isArray(n)||(n=[]),n)return It.loadTreeChildren(e,n).then(n=>{const{treeExpandedMaps:o}=E;return n.length&&!o[s]&&(o[s]=e),S.treeExpandedFlag++,!a&&It.isCheckedByCheckboxRow(e)&&cn(n,!0),t().then(()=>{if(l)return It.handleTableData(),tn(),t()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:e}=E;c&&(c.treeLoaded=!1),e[s]&&delete e[s]}).finally(()=>{S.treeExpandedFlag++,t().then(()=>It.recalculate()).then(()=>n())})}else n()})},pn=(e,t)=>{const{treeExpandedReserveRowMap:n}=E;if(gt.value.reserve){const o=US(It,e);t?n[o]=e:n[o]&&delete n[o]}},mn=e=>new Promise(n=>{const o=mt.value,{loadMethod:l}=o;if(l){const{fullAllDataRowIdData:o,rowExpandLazyLoadedMaps:r}=E,a=US(It,e),i=o[a];r[a]=e,l({$table:It,row:e,rowIndex:It.getRowIndex(e),$rowIndex:It.getVMRowIndex(e)}).then(()=>{const{rowExpandedMaps:t}=E;i&&(i.expandLoaded=!0),t[a]=e,S.rowExpandedFlag++}).catch(()=>{i&&(i.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:e}=E;e[a]&&delete e[a],S.rowExpandedFlag++,t().then(()=>It.recalculate()).then(()=>It.updateCellAreas()).then(()=>n())})}else n()}),gn=(e,t)=>{const{rowExpandedReserveRowMap:n}=E;if(mt.value.reserve){const o=US(It,e);t?n[o]=e:n[o]&&delete n[o]}},fn=()=>t().then(()=>{const{scrollXLoad:e,scrollYLoad:t}=S,{scrollXStore:n,scrollYStore:o}=E,l=Ce.value,r=ye.value;if(e){const{toVisibleIndex:e,visibleSize:t}=Lt(),o=Math.max(0,r.oSize?np.toNumber(r.oSize):0);n.preloadSize=np.toNumber(r.preSize),n.offsetSize=o,n.visibleSize=t,n.endIndex=Math.max(n.startIndex+n.visibleSize+o,n.endIndex),n.visibleStartIndex=Math.max(n.startIndex,e),n.visibleEndIndex=Math.min(n.endIndex,e+t),It.updateScrollXData().then(()=>{On()})}else It.updateScrollXSpace();const a=(()=>{const{isAllOverflow:e}=S,t=$.value,n=N.value,o=n?n.$el:null,l=ke.value;let r=0;if(e){if(o){const e=t?t.$el:null;let n;n=o.querySelector("tr"),!n&&e&&(n=e.querySelector("tr")),n&&(r=n.clientHeight)}r||(r=l)}else r=l;return Math.max(18,r)})();o.rowHeight=a,S.rowHeight=a;const{toVisibleIndex:i,visibleSize:s}=Bt();if(t){const e=Math.max(0,l.oSize?np.toNumber(l.oSize):0);o.preloadSize=np.toNumber(l.preSize),o.offsetSize=e,o.visibleSize=s,o.endIndex=Math.max(o.startIndex+s+e,o.endIndex),o.visibleStartIndex=Math.max(o.startIndex,i),o.visibleEndIndex=Math.min(o.endIndex,i+s),It.updateScrollYData().then(()=>{$n()})}else It.updateScrollYSpace()}),vn=()=>{const{scrollXWidth:e,scrollYHeight:t}=S,{elemStore:n}=E,o=Se.value,l=uE(n["main-body-wrapper"]),r=uE(n["main-header-table"]),a=uE(n["main-footer-table"]),i=oe.value,s=ae.value;let c=!1,u=!1;if(l){c=t>l.clientHeight,s&&(S.scrollbarWidth=o.width||s.offsetWidth-s.clientWidth||14),S.overflowY=c,u=e>l.clientWidth,i&&(S.scrollbarHeight=o.height||i.offsetHeight-i.clientHeight||14);const n=r?r.clientHeight:0,d=a?a.clientHeight:0;E.tableHeight=l.offsetHeight,E.headerHeight=n,E.footerHeight=d,S.overflowX=u,S.parentHeight=Math.max(E.headerHeight+d+20,It.getParentHeight())}u&&It.checkScrolling()},hn=e=>{const n=O.value;if(E.rceRunTime=Date.now(),!n||!n.clientWidth)return t();const o=k.value;if(o){const[e,t,n,l]=o.children;_t("default",e),_t("medium",t),_t("small",n),_t("mini",l)}return Xt(),Zt(),vn(),on(),qn(),fn().then(()=>{if(Xt(),e&&Zt(),vn(),on(),e&&Wn(),qn(),e)return fn()})},bn=()=>{const{visibleColumn:e}=E,t=[];e.forEach(e=>{e.aggFunc&&t.push(e)}),S.aggHandleAggColumns=t},xn=e=>{const t=[],n=[];e&&(np.isArray(e)?e:[e]).forEach(e=>{t.push(e),n.push({field:e})}),S.rowGroupList=n,S.aggHandleFields=t,bn()},wn=e=>{const t=Ve.value,{mapChildrenField:n}=t;n&&(np.lastEach(e,e=>{let t=0;np.each(e[n],e=>{e.isAggregate?t+=e.childCount||0:t++}),e.childCount=t}),It.handlePivotTableAggregateData&&It.handlePivotTableAggregateData(e))},yn=(e,t)=>{let n=e,o=e;if(t){const l=Ve.value,{rowField:r,parentField:a,childrenField:i,mapChildrenField:s}=l,c=We.value,{checkField:u}=c,d=c.indeterminateField||c.halfField,p=t[0];if(p&&r&&a&&i&&s){n=[],o=[];const l=p.field,c=It.getColumnByField(l),m={},g=[],f=GS(It);e.forEach(e=>{const t=c?It.getCellLabel(e,c):np.get(e,l),n=np.eqNull(t)?"":t;let o=m[n];o||(o=[],m[n]=o),e.isAggregate&&(e.isAggregate=void 0),o.push(e)}),np.objectEach(m,(e,c)=>{const{fullData:p,treeData:m}=yn(e,t.slice(1)),v={isAggregate:!0,aggData:{},groupContent:c,groupField:l,childCount:0,[r]:qS(),[a]:null,[f]:qS(),[i]:m,[s]:m};u&&(v[u]=!1),d&&(v[d]=!1),g.push(v),o.push(v),n.push(v),p.length&&n.push(...p)}),wn(g)}}return{treeData:o,fullData:n}},Cn=(n,o)=>{const{keepSource:l,treeConfig:r,rowGroupConfig:a,aggregateConfig:i}=e,{rowGroupList:s,scrollYLoad:c}=S,{scrollYStore:u,scrollXStore:d,lastScrollLeft:p,lastScrollTop:g}=E,f=Ae.value,v=gt.value,h=mt.value,{transform:b}=v,x=v.children||v.childrenField;let w=[],y=m(n?n.slice(0):[]);if(y.length>HD&&fS("vxe.error.errMaxRow",[HD]),r&&s.length)return fS("vxe.error.noTree",["aggregate-config"]),t();if(f.drag&&s.length)return fS("vxe.error.errConflicts",["row-config.drag","aggregate-config"]),t();let C=!1;if(r)b?(v.rowField||fS("vxe.error.reqProp",["tree-config.rowField"]),v.parentField||fS("vxe.error.reqProp",["tree-config.parentField"]),x||fS("vxe.error.reqProp",["tree-config.childrenField"]),v.mapChildrenField||fS("vxe.error.reqProp",["tree-config.mapChildrenField"]),x===v.mapChildrenField&&fS("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),w=np.toArrayTree(y,{key:v.rowField,parentKey:v.parentField,children:x,mapChildren:v.mapChildrenField}),y=w.slice(0)):w=y.slice(0);else if((i||a)&&s.length){const e=yn(y,s);w=e.treeData,y=e.fullData,C=!0}S.isRowGroupStatus=C,u.startIndex=0,u.endIndex=1,d.startIndex=0,d.endIndex=1,E.cvCacheMaps={},S.isRowLoading=!0,S.scrollVMLoading=!1,S.treeExpandedFlag++,S.rowExpandedFlag++,E.insertRowMaps={},S.insertRowFlag++,E.removeRowMaps={},S.removeRowFlag++;const D=Fn(y);return S.isDragColMove=!1,S.isDragRowMove=!1,E.tableFullData=y,E.tableFullTreeData=C?[]:w,E.tableFullGroupData=C?w:[],It.cacheRowMap(o),E.tableSynchData=n,o&&(E.isResizeCellHeight=!1),l&&It.cacheSourceMap(y),It.clearCellAreas&&e.mouseConfig&&(It.clearCellAreas(),It.clearCopyCellArea()),It.clearMergeCells(),It.clearMergeFooterItems(),It.handleTableData(!0),It.updateFooter(),It.handleUpdateBodyMerge(),t().then(()=>{Kt(),on()}).then(()=>{fn()}).then(()=>(D&&(u.endIndex=u.visibleSize),D&&(S.expandColumn&&"fixed"!==h.mode&&fS("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),e.height||e.maxHeight||fS("vxe.error.reqProp",["height | max-height | virtual-y-config={enabled: false}"]),e.spanMethod&&fS("vxe.error.scrollErrProp",["table.span-method"])),(()=>{const{treeConfig:t}=e,{expandColumn:n,currentRow:o,selectRadioRow:l}=S,{fullDataRowIdData:r,fullAllDataRowIdData:a,radioReserveRow:i,selectCheckboxMaps:s,treeExpandedMaps:c,rowExpandedMaps:u}=E,d=mt.value,p=gt.value,m=He.value,g=We.value;if(l&&!a[US(It,l)]&&(S.selectRadioRow=null),m.reserve&&i){const e=US(It,i);r[e]&&sn(r[e].row,!0)}E.selectCheckboxMaps=$t(s),S.updateCheckboxFlag++,g.reserve&&cn(Nt(E.checkboxReserveRowMap),!0,!0),o&&!a[US(It,o)]&&(S.currentRow=null),E.rowExpandedMaps=n?$t(u):{},S.rowExpandedFlag++,n&&d.reserve&&It.setRowExpand(Nt(E.rowExpandedReserveRowMap),!0),E.treeExpandedMaps=t?$t(c):{},S.treeExpandedFlag++,t&&p.reserve&&It.setTreeExpand(Nt(E.treeExpandedReserveRowMap),!0)})(),It.checkSelectionStatus(),new Promise(e=>{t().then(()=>hn(!1)).then(()=>(Jt(),Wn(),hn(!1))).then(()=>{let t=p,n=g;const o=ye.value,l=Ce.value;o.scrollToLeftOnChange&&(t=0),l.scrollToTopOnChange&&(n=0),S.isRowLoading=!1,hn(!1),c===D?WS(It,t,n).then(()=>{Jt(),Wn(),e()}):setTimeout(()=>{WS(It,t,n).then(()=>{Jt(),Wn(),e()})})})})))},Sn=()=>{(()=>{const{checkboxConfig:t}=e;if(t){const{fullDataRowIdData:e}=E,t=We.value,{checkAll:n,checkRowKeys:o}=t;if(n)un(!0,!0);else if(o){const t=[];o.forEach(n=>{e[n]&&t.push(e[n].row)}),cn(t,!0,!0)}}})(),(()=>{const{radioConfig:t}=e;if(t){const{fullDataRowIdData:e}=E,t=He.value,{checkRowKey:n,reserve:o}=t;if(n&&(e[n]&&sn(e[n].row,!0),o)){const e=GS(It);E.radioReserveRow={[e]:n}}}})(),(()=>{const{expandConfig:t}=e;if(t){const{fullDataRowIdData:e}=E,t=mt.value,{expandAll:n,expandRowKeys:o}=t;if(n)It.setAllRowExpand(!0);else if(o){const t=[];o.forEach(n=>{e[n]&&t.push(e[n].row)}),It.setRowExpand(t,!0)}}})(),(()=>{const{treeConfig:t}=e;if(t){const{tableFullData:e}=E,t=gt.value,{expandAll:n,expandRowKeys:o}=t,l=t.children||t.childrenField;if(n)It.setAllTreeExpand(!0);else if(o){const t=[],n=GS(It);o.forEach(o=>{const r=np.findTree(e,e=>o===np.get(e,n),{children:l});r&&t.push(r.item)}),It.setTreeExpand(t,!0)}}})(),(()=>{const{mergeCells:t}=e;t&&It.setMergeCells(t)})(),(()=>{const{mergeFooterItems:t}=e;t&&It.setMergeFooterItems(t)})(),t(()=>setTimeout(()=>It.recalculate()))},En=()=>{(()=>{const{sortConfig:t}=e;if(t){const e=Ye.value;let{defaultSort:n}=e;n&&(np.isArray(n)||(n=[n]),n.length&&((t.multiple?n:n.slice(0,1)).forEach((e,t)=>{const{field:n,order:o}=e;if(n&&o){const e=It.getColumnByField(n);e&&e.sortable&&(e.order=o,e.sortTime=Date.now()+t)}}),e.remote||It.handleTableData(!0).then(on)))}})()},Dn=()=>{const{scrollXLoad:e}=S,{visibleColumn:t,scrollXStore:n,fullColumnIdData:o}=E,l=e?t.slice(n.startIndex,n.endIndex):t.slice(0);l.forEach((e,t)=>{const n=e.id,l=o[n];l&&(l.$index=t)}),S.tableColumn=l},Tn=()=>{const e=np.orderBy(E.collectColumn,"renderSortNumber");E.collectColumn=e;const t=kn(e);E.tableFullColumn=t,Ut()},On=()=>{const{isScrollXBig:e}=S,{mergeBodyList:t,mergeFooterList:n,scrollXStore:o}=E,{preloadSize:l,startIndex:r,endIndex:a,offsetSize:i}=o,{toVisibleIndex:s,visibleSize:c}=Lt(),u={startIndex:Math.max(0,e?s-1:s-1-i-l),endIndex:e?s+c:s+c+i+l};o.visibleStartIndex=s-1,o.visibleEndIndex=s+c+1,zt(t.concat(n),u,"col");const{startIndex:d,endIndex:p}=u;(s<=r||s>=a-c-1)&&(r===d&&a===p||(o.startIndex=d,o.endIndex=p,It.updateScrollXData())),It.closeTooltip()},kn=e=>{const t=[];return e.forEach(e=>{t.push(...e.children&&e.children.length?kn(e.children):[e])}),t},Rn=t=>{const n=[],o=[],l=[],{isGroup:r,columnStore:a}=S,{collectColumn:i,tableFullColumn:s,scrollXStore:c,fullColumnIdData:u}=E;if(r){const e=[],t=[],r=[];np.eachTree(i,(e,t,r,a,i)=>{const s=FC(e);i&&i.fixed&&(e.fixed=i.fixed),i&&e.fixed!==i.fixed&&fS("vxe.error.groupFixed"),s?e.visible=!!np.findTree(e.children,e=>!FC(e)&&e.visible):e.visible&&("left"===e.fixed?n.push(e):"right"===e.fixed?l.push(e):o.push(e))}),i.forEach(n=>{n.visible&&("left"===n.fixed?e.push(n):"right"===n.fixed?r.push(n):t.push(n))}),S.tableGroupColumn=e.concat(t).concat(r)}else s.forEach(e=>{e.visible&&("left"===e.fixed?n.push(e):"right"===e.fixed?l.push(e):o.push(e))});const d=n.concat(o).concat(l);E.visibleColumn=d,Hn();const p=Pn();if(S.hasFixedColumn=n.length>0||l.length>0,Object.assign(a,{leftList:n,centerList:o,rightList:l}),p&&(e.spanMethod&&gS("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&gS("vxe.error.scrollErrProp",["footer-span-method"]),t)){const{visibleSize:e}=Lt();c.startIndex=0,c.endIndex=e,c.visibleSize=e,c.visibleStartIndex=0,c.visibleEndIndex=e}return d.length===E.visibleColumn.length&&E.visibleColumn.every((e,t)=>e===d[t])||(It.clearMergeCells(),It.clearMergeFooterItems()),d.forEach((e,t)=>{const n=e.id,o=u[n];o&&(o._index=t)}),Dn(),bn(),t?(Hn(),It.updateFooter().then(()=>It.recalculate()).then(()=>(It.updateCellAreas(),It.recalculate()))):It.updateFooter()},In=n=>{const o=mt.value;E.collectColumn=n;const l=kn(n);return E.tableFullColumn=l,S.isColLoading=!0,S.isDragColMove=!1,(()=>{const{collectColumn:e}=E;e.forEach((e,t)=>{const n=t+1;e.sortNumber=n,e.renderSortNumber=n})})(),Promise.resolve((()=>{const{customConfig:t}=e,n=fe.value,o=bt.value,{storage:l,restoreStore:r,storeOptions:a}=o,i=!0===l,s=i?{}:Object.assign({},l||{},a),c=Mt(s.resizable,i),u=Mt(s.visible,i),d=Mt(s.fixed,i),p=Mt(s.sort,i),m=Mt(s.aggFunc,i);if(l&&(t?OC(o):o.enabled)&&(c||u||d||p||m)){if(!n)return void fS("vxe.error.reqProp",["id"]);const e=Vt(n);return r?Promise.resolve(r({$table:It,id:n,type:"restore",storeData:e})).then(e=>{if(e)return Gt(e)}).catch(e=>e):Gt(e)}})()).then(()=>{const{scrollXLoad:e,scrollYLoad:n,expandColumn:l}=S;return Ut(),Rn(!0).then(()=>{S.scrollXLoad&&On()}),It.clearMergeCells(),It.clearMergeFooterItems(),It.handleTableData(!0),It.handleAggregateSummaryData(),(e||n)&&l&&"fixed"!==o.mode&&gS("vxe.error.scrollErrProp",["column.type=expand"]),t().then(()=>(ge&&ge.syncUpdate({collectColumn:E.collectColumn,$table:It}),It.handleUpdateCustomColumn&&It.handleUpdateCustomColumn(),S.isColLoading=!1,It.recalculate()))})},Pn=e=>{const t=ye.value,n=E.tableFullColumn,o=!!t.enabled&&t.gt>-1&&(0===t.gt||t.gt<n.length);return S.scrollXLoad=o,o},Fn=t=>{const{treeConfig:n}=e,o=Ce.value,l=gt.value,{transform:r}=l,a=t||E.tableFullData,i=(r||!n)&&!!o.enabled&&o.gt>-1&&(0===o.gt||o.gt<a.length);return S.scrollYLoad=i,i},Mn=(e,t)=>{const{treeNodeColumn:n}=S,{fullAllDataRowIdData:o,tableFullTreeData:l,treeExpandedMaps:r,treeExpandLazyLoadedMaps:a}=E,i=gt.value,{reserve:s,lazy:c,accordion:u,toggleMethod:d}=i,p=i.children||i.childrenField,m=i.hasChild||i.hasChildField,g=[],f=It.getColumnIndex(n),v=It.getVMColumnIndex(n),{handleGetRowId:h}=YS(It);let b=d?e.filter(e=>d({$table:It,expanded:t,column:n,columnIndex:f,$columnIndex:v,row:e})):e;if(u){b=b.length?[b[b.length-1]]:[];const e=np.findTree(l,e=>e===b[0],{children:p});e&&e.items.forEach(e=>{const t=h(e);r[t]&&delete r[t]})}return t?b.forEach(e=>{const t=h(e);if(!r[t]){const n=o[t];if(n){c&&e[m]&&!n.treeLoaded&&!a[t]?g.push(dn(e)):e[p]&&e[p].length&&(r[t]=e)}}}):b.forEach(e=>{const t=h(e);r[t]&&delete r[t]}),s&&b.forEach(e=>pn(e,t)),S.treeExpandedFlag++,Promise.all(g).then(()=>It.recalculate())},An=(e,n)=>((e,t)=>{const{fullAllDataRowIdData:n,tableFullGroupData:o,rowGroupExpandedMaps:l}=E,r=Ve.value,{mapChildrenField:a,accordion:i}=r,{handleGetRowId:s}=YS(It);let c=e;if(a){if(i){c=c.length?[c[c.length-1]]:[];const e=np.findTree(o,e=>US(It,e)===US(It,c[0]),{children:a});e&&e.items.forEach(e=>{const t=s(e);l[t]&&delete l[t]})}t?c.forEach(e=>{const t=s(e);l[t]||n[t]&&e[a]&&e[a].length&&(l[t]=e)}):c.forEach(e=>{const t=s(e);l[t]&&delete l[t]})}return S.rowGroupExpandedFlag++,It.recalculate()})(e,n).then(()=>(nn(),It.handleTableData(),S.rowGroupExpandedFlag++,tn(),t())).then(()=>It.recalculate(!0)).then(()=>{setTimeout(()=>{It.updateCellAreas()},30)}),Vn=(e,t)=>{un(t),e&&_n("checkbox-all",{records:()=>It.getCheckboxRecords(),reserves:()=>It.getCheckboxReserveRecords(),indeterminates:()=>It.getCheckboxIndeterminateRecords(),checked:t},e)},$n=()=>{const{isAllOverflow:e,isScrollYBig:t}=S,{mergeBodyList:n,scrollYStore:o}=E,{preloadSize:l,startIndex:r,endIndex:a,offsetSize:i}=o,s=e?i:i+1,{toVisibleIndex:c,visibleSize:u}=Bt(),d={startIndex:Math.max(0,t?c-1:c-1-i-l),endIndex:t?c+u:c+u+s+l};o.visibleStartIndex=c-1,o.visibleEndIndex=c+u+1,zt(n,d,"row");const{startIndex:p,endIndex:m}=d;(c<=r||c>=a-u-1)&&(r===p&&a===m||(o.startIndex=p,o.endIndex=m,It.updateScrollYData()))},Nn=e=>function(t){const{fullAllDataRowIdData:n}=E;if(t){const o=n[US(It,t)];if(o)return o[e]}return-1},Ln=e=>function(t){const{fullColumnIdData:n}=E;if(t){const o=n[t.id];if(o)return o[e]}return-1},_n=(e,t,n)=>{a(e,VD(n,{$table:It,$grid:me},t))},Bn=()=>{const e=O.value;e&&e.clientWidth&&e.clientHeight&&It.recalculate()},zn=(e,t)=>{It.analyColumnWidth(),It.recalculate().then(()=>{It.saveCustomStore("update:width"),It.updateCellAreas(),It.dispatchEvent("column-resizable-change",t,e),It.dispatchEvent("resizable-change",t,e),setTimeout(()=>It.recalculate(!0),300)})},jn=(e,t)=>{S.resizeHeightFlag++,It.recalculate().then(()=>{It.updateCellAreas(),It.dispatchEvent("row-resizable-change",t,e),setTimeout(()=>It.recalculate(!0),300)})},Hn=()=>{const{visibleColumn:e,fullColumnIdData:t}=E;let n=0;for(let o=0,l=e.length;o<l;o++){const l=e[o],r=t[l.id];r&&(r.oLeft=n),n+=l.renderWidth}},Wn=()=>{const{expandColumn:e}=S,{afterFullData:t,fullAllDataRowIdData:n,rowExpandedMaps:o}=E,l=mt.value,r=Ae.value,a=Pe.value,i=ke.value,{handleGetRowId:s}=YS(It);let c=0;for(let u=0,d=t.length;u<d;u++){const d=s(t[u]),p=n[d]||{};p.oTop=c,c+=p.resizeHeight||a.height||r.height||p.height||i,e&&o[d]&&(c+=p.expandHeight||l.height||0)}},qn=()=>{const{expandColumn:e,scrollYLoad:n,scrollYTop:o,isScrollYBig:l}=S,r=mt.value,a=Ae.value,i=Pe.value,s=ke.value,{mode:c}=r;if(e&&"fixed"===c){const{elemStore:e,fullAllDataRowIdData:r}=E,c=J.value,u=uE(e["main-body-scroll"]);if(c&&u){let e=!1;np.arrayEach(c.children,t=>{const c=t,d=c.getAttribute("rowid")||"",p=r[d];if(p){const t=c.offsetHeight+1,r=u.querySelector(`.vxe-body--row[rowid="${d}"]`);let m=0;n?m=l&&r?r.offsetTop+r.offsetHeight:p.oTop+(p.resizeHeight||i.height||a.height||p.height||s):r&&(m=r.offsetTop+r.offsetHeight),l&&(m+=o),c.style.top=PS(m),e||p.expandHeight!==t&&(e=!0),p.expandHeight=t}}),e&&(S.rowExpandHeightFlag++,t(()=>{Wn()}))}}},Gn=()=>{const{elemStore:e}=E,t=J.value,n=uE(e["main-body-scroll"]);t&&n&&(t.scrollTop=n.scrollTop)};D={dispatchEvent:_n,getEl:()=>O.value,clearAll:()=>function(e){return e.clearFilter&&e.clearFilter(),function(e){const{props:t,internalData:n}=e;return n.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}(e)}(It),syncData:()=>(fS("vxe.error.delFunc",["syncData","getData"]),t().then(()=>(S.tableData=[],a("update:data",E.tableFullData),t()))),updateData(){const{scrollXLoad:e,scrollYLoad:t}=S;return T.handleTableData(!0).then(()=>{if(D.updateFooter(),e||t)return e&&T.updateScrollXSpace(),t&&T.updateScrollYSpace(),D.refreshScroll()}).then(()=>(D.updateCellAreas(),D.recalculate(!0))).then(()=>{setTimeout(()=>It.recalculate(),50)})},loadData(e){const{initStatus:t}=E;return Cn(e,!1).then(()=>(E.inited=!0,E.initStatus=!0,t||Sn(),D.recalculate()))},reloadData:e=>D.clearAll().then(()=>(E.inited=!0,E.initStatus=!0,Cn(e,!0))).then(()=>(Sn(),D.recalculate())),setRow(e,n){if(e&&n){let t=e;np.isArray(e)||(t=[e]);const o=GS(It);t.forEach(e=>{const t=US(It,e),l=np.clone(Object.assign({},n),!0);np.set(l,o,t),Object.assign(e,l)})}return t()},reloadRow(n,o,l){const{keepSource:r}=e,{tableData:a}=S,{sourceDataRowIdData:i}=E;if(r){if(It.isAggregateRecord(n))return t();const e=i[US(It,n)];if(e&&n)if(l){const t=np.clone(np.get(o||n,l),!0);np.set(n,l,t),np.set(e,l,t)}else{const t=GS(It),l=US(It,n),r=np.clone(Object.assign({},o),!0);np.set(r,t,l),np.destructuring(e,Object.assign(n,r))}S.tableData=a.slice(0)}else fS("vxe.error.reqProp",["keep-source"]);return t()},getParams:()=>e.params,loadTreeChildren(t,n){const{keepSource:o}=e,{tableSourceData:l,fullDataRowIdData:r,fullAllDataRowIdData:a,sourceDataRowIdData:i}=E,s=gt.value,{transform:c,mapChildrenField:u}=s,d=s.children||s.childrenField,p=a[US(It,t)],m=p?p.level:0;return D.createData(n).then(e=>{if(o){const n=US(It,t),o=np.findTree(l,e=>n===US(It,e),{children:d});o&&(o.item[d]=np.clone(e,!0)),e.forEach(e=>{const t=US(It,e);i[t]=np.clone(e,!0)})}return np.eachTree(e,(e,t,n,o,l,i)=>{const s=US(It,e),c={row:e,rowid:s,seq:-1,index:t,_index:-1,$index:-1,treeIndex:-1,items:n,parent:l||p.row,level:m+i.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};r[s]=c,a[s]=c},{children:d}),t[d]=e,c&&(t[u]=np.clone(e,!1)),tn(),e})},loadColumn(e){const{lastScrollLeft:t,lastScrollTop:n}=E,o=np.mapTree(e,e=>m(WE.createColumn(It,e)));return In(o).then(()=>{let e=t,o=n;const l=ye.value,r=Ce.value;l.scrollToLeftOnChange&&(e=0),r.scrollToTopOnChange&&(o=0),WS(It,e,o)})},reloadColumn:e=>D.clearAll().then(()=>D.loadColumn(e)),getRowNode(e){if(e){const{fullAllDataRowIdData:t}=E,n=e.getAttribute("rowid");if(n){const e=t[n];if(e)return{rowid:e.rowid,item:e.row,index:e.index,items:e.items,parent:e.parent}}}return null},getColumnNode(e){if(e){const{fullColumnIdData:t}=E,n=e.getAttribute("colid");if(n){const e=t[n];if(e)return{colid:e.colid,item:e.column,index:e.index,items:e.items,parent:e.parent}}}return null},getRowSeq:Nn("seq"),getRowIndex:Nn("index"),getVTRowIndex:Nn("_index"),getVMRowIndex:Nn("$index"),getColumnIndex:Ln("index"),getVTColumnIndex:Ln("_index"),getVMColumnIndex:Ln("$index"),createData:e=>t().then(()=>m(T.defineField(e))),createRow(e){const t=np.isArray(e);return t||(e=[e||{}]),D.createData(e).then(e=>t?e:e[0])},revertData(n,o){const{keepSource:l,treeConfig:r}=e,{fullAllDataRowIdData:a,fullDataRowIdData:i,tableSourceData:s,sourceDataRowIdData:c,tableFullData:u,afterFullData:d,removeRowMaps:p}=E,m=gt.value,{transform:g}=m,{handleGetRowId:f}=YS(It);if(!l)return fS("vxe.error.reqProp",["keep-source"]),t();let v=n;n?np.isArray(n)||(v=[n]):v=np.toArray(It.getUpdateRecords());let h=!1;return v.length&&v.forEach(e=>{const t=f(e),n=a[t];if(n){const e=n.row;if(!It.isInsertByRow(e)){const n=c[t];n&&e&&(o?np.set(e,o,np.clone(np.get(n,o),!0)):np.destructuring(e,np.clone(n,!0)),!i[t]&&It.isRemoveByRow(e)&&(p[t]&&delete p[t],u.unshift(e),d.unshift(e),h=!0))}}}),n?(h&&(S.removeRowFlag++,It.updateFooter(),It.cacheRowMap(!1),It.handleTableData(r&&g),r&&g||It.updateAfterDataIndex(),It.checkSelectionStatus(),S.scrollYLoad&&It.updateScrollYSpace()),t().then(()=>(It.updateCellAreas(),It.recalculate()))):It.reloadData(s)},clearData(e,n){const{tableFullData:o,visibleColumn:l}=E;return arguments.length?e&&!np.isArray(e)&&(e=[e]):e=o,n?e.forEach(e=>np.set(e,n,null)):e.forEach(e=>{l.forEach(t=>{t.field&&cE(e,t,null)})}),t()},getCellElement(e,t){const{elemStore:n}=E,o=tE(It,t);if(!o)return null;const l=US(It,e),r=uE(n["main-body-scroll"]),a=uE(n["left-body-scroll"]),i=uE(n["right-body-scroll"]);let s;return o&&(o.fixed&&("left"===o.fixed?a&&(s=a):i&&(s=i)),s||(s=r),s)?s.querySelector(`.vxe-body--row[rowid="${l}"] .${o.id}`):null},getCellLabel(e,t){const n=tE(It,t);if(!n)return null;const{formatter:o}=n,l=sE(e,n);let r=l;if(o){let t;const{fullAllDataRowIdData:a}=E,i=US(It,e),s=n.id,c=a[i];if(c&&(t=c.formatData,t||(t=a[i].formatData={}),c&&t[s]&&t[s].value===l))return t[s].label;const u={cellValue:l,row:e,rowIndex:D.getRowIndex(e),column:n,columnIndex:D.getColumnIndex(n)};if(np.isString(o)){const e=AD.get(o),t=e?e.tableCellFormatMethod||e.cellFormatMethod:null;r=t?t(u):""}else if(np.isArray(o)){const e=AD.get(o[0]),t=e?e.tableCellFormatMethod||e.cellFormatMethod:null;r=t?t(u,...o.slice(1)):""}else r=o(u);t&&(t[s]={value:l,label:r})}return r},isInsertByRow(e){const t=US(It,e);return!!S.insertRowFlag&&!!E.insertRowMaps[t]},isRemoveByRow(e){const t=US(It,e);return!!S.removeRowFlag&&!!E.removeRowMaps[t]},removeInsertRow(){const{insertRowMaps:e}=E;return It.remove(np.values(e))},isUpdateByRow(t,n){const{keepSource:o}=e,{tableFullColumn:l,fullDataRowIdData:r,sourceDataRowIdData:a}=E;if(o){const e=np.isString(t)||np.isNumber(t)?t:US(It,t),o=r[e];if(!o)return!1;const i=o.row,s=a[e];if(s){if(arguments.length>1)return!Pt(s,i,n);for(let e=0,t=l.length;e<t;e++){const t=l[e].field;if(t&&!Pt(s,i,t))return!0}}}return!1},getColumns(e){const{visibleColumn:t}=E;return np.isUndefined(e)?t.slice(0):t[e]},getColid(e){const t=tE(It,e);return t?t.id:null},getColumnById(e){const{fullColumnIdData:t}=E;return e&&t[e]?t[e].column:null},getColumnByField(e){const t=E.fullColumnFieldData;return e&&t[e]?t[e].column:null},getParentColumn(e){const{fullColumnIdData:t}=E,n=tE(It,e);return n&&n.parentId&&t[n.parentId]?t[n.parentId].column:null},getTableColumn:()=>({collectColumn:E.collectColumn.slice(0),fullColumn:E.tableFullColumn.slice(0),visibleColumn:E.visibleColumn.slice(0),tableColumn:S.tableColumn.slice(0)}),moveColumnTo(e,t,n){const{fullColumnIdData:o,visibleColumn:l}=E,{dragToChild:r,dragPos:a,isCrossDrag:i}=Object.assign({},n),s=tE(It,e);let c=null;const u=s?o[s.id]:null;let d="left";if(np.isNumber(t)){if(u&&t){let e=u.items,n=u._index+t;i&&(e=l,n=u._index+t),n>0&&n<e.length-1&&(c=e[n]),t>0&&(d="right")}}else{c=tE(It,t);const e=c?o[c.id]:null;u&&e&&e._index>u._index&&(d="right")}return It.handleColDragSwapEvent(null,!0,s,c,a||d,!0===r)},moveRowTo(t,n,o){const{treeConfig:l}=e,{fullAllDataRowIdData:r,afterFullData:a}=E,{dragToChild:i,dragPos:s,isCrossDrag:c}=Object.assign({},o),u=gt.value,d=nE(It,t);let p=null,m="top";const g=d?r[US(It,d)]:null;if(np.isNumber(n)){if(g&&n){let e=a,t=g._index+n;l&&(e=g.items,u.transform&&(t=g.treeIndex+n,c&&(e=a,t=g._index+n))),t>=0&&t<=e.length-1&&(p=e[t]),n>0&&(m="bottom")}}else{p=nE(It,n);const e=p?r[US(It,p)]:null;g&&e&&e._index>g._index&&(m="bottom")}return It.handleRowDragSwapEvent(null,!0,d,p,s||m,!0===i)},getFullColumns(){const{collectColumn:e}=E;return e.slice(0)},getData(t){const n=e.data||E.tableSynchData;return np.isUndefined(t)?n.slice(0):n[t]},getCheckboxRecords(t){const{treeConfig:n}=e,{updateCheckboxFlag:o}=S,{tableFullData:l,afterFullData:r,tableFullTreeData:a,fullDataRowIdData:i,afterFullRowMaps:s,selectCheckboxMaps:c}=E,u=gt.value,d=We.value,{transform:p,mapChildrenField:m}=u,{checkField:g}=d,f=u.children||u.childrenField;let v=[];if(o)if(g)if(n){const e=t?p?a:l:p?a:r;v=np.filterTree(e,e=>np.get(e,g),{children:p?m:f})}else{v=(t?l:r).filter(e=>np.get(e,g))}else{const e=t||n&&!p?i:s;np.each(c,(t,n)=>{e[n]&&v.push(i[n].row)})}return v},getTreeRowChildren(t){const{treeConfig:n}=e,{fullAllDataRowIdData:o}=E,l=gt.value,{transform:r,mapChildrenField:a}=l,i=l.children||l.childrenField;if(t&&n){let e;if(e=np.isString(t)?t:US(It,t),e){const t=o[e],n=t?t.row:null;if(n)return n[r?a:i]||[]}}return[]},getTreeParentRow(t){const{treeConfig:n}=e,{fullAllDataRowIdData:o}=E;if(t&&n){let e;if(e=np.isString(t)?t:US(It,t),e){const t=o[e];return t?t.parent:null}}return null},getParentRow:e=>(gS("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),It.getTreeParentRow(e)),getRowById(e){const{fullAllDataRowIdData:t}=E,n=np.eqNull(e)?"":encodeURIComponent(e||"");return t[n]?t[n].row:null},getRowid:e=>US(It,e),getTableData(){const{tableData:t,footerTableData:n}=S,{tableFullData:o,afterFullData:l,tableFullTreeData:r}=E;return{fullData:e.treeConfig?r.slice(0):o.slice(0),visibleData:l.slice(0),tableData:t.slice(0),footerData:n.slice(0)}},getFullData(){const{treeConfig:t}=e,{tableFullData:n,tableFullTreeData:o}=E;if(t){const e=gt.value,{transform:t,mapChildrenField:n,rowField:l,parentField:r}=e,a=e.children||e.childrenField;return t?np.toArrayTree(np.toTreeArray(o,{children:n}),{key:l,parentKey:r,children:a,mapChildren:n}):o.slice(0)}return n.slice(0)},setColumnFixed(e,n){let o=!1;const l=np.isArray(e)?e:[e],r=Re.value,a=Ct.value;for(let i=0;i<l.length;i++){const e=l[i],s=tE(It,e),c=hE(It,s);if(c&&c.fixed!==n){if(!c.fixed&&a)return Im.modal&&Im.modal.message({status:"error",content:FD("vxe.table.maxFixedCol",[r.maxFixedSize])}),t();np.eachTree([c],e=>{e.fixed=n,e.renderFixed=n}),T.saveCustomStore("update:fixed"),o||(o=!0)}}return o?D.refreshColumn():t()},clearColumnFixed(e){let n=!1;return(np.isArray(e)?e:[e]).forEach(e=>{const t=tE(It,e),o=hE(It,t);o&&o.fixed&&(np.eachTree([o],e=>{e.fixed=null,e.renderFixed=null}),T.saveCustomStore("update:fixed"),n||(n=!0))}),n?D.refreshColumn():t()},hideColumn(e){let n=!1;return(np.isArray(e)?e:[e]).forEach(e=>{const t=tE(It,e);t&&t.visible&&(t.visible=!1,n||(n=!0))}),n?T.handleCustom():t()},showColumn(e){let n=!1;return(np.isArray(e)?e:[e]).forEach(e=>{const t=tE(It,e);t&&!t.visible&&(t.visible=!0,n||(n=!0))}),n?T.handleCustom():t()},setColumnWidth(e,n){const{elemStore:o}=E;let l=!1;const r=np.isArray(e)?e:[e];let a=np.toInteger(n);if(TS(n)){const e=uE(o["main-body-scroll"]),t=e?e.clientWidth-1:0;a=Math.floor(a*t)}return a&&(r.forEach(e=>{const t=tE(It,e);t&&(t.resizeWidth=a,l||(l=!0))}),l)?It.refreshColumn().then(()=>({status:l})):t().then(()=>({status:l}))},getColumnWidth(e){const t=tE(It,e);return t?t.renderWidth:0},resetColumn:e=>(gS("vxe.error.delFunc",["resetColumn","resetCustom"]),It.resetCustom(e)),refreshColumn:e=>(e&&Tn(),Rn(!0).then(()=>D.refreshScroll()).then(()=>D.recalculate())),setRowHeightConf(e){const{fullAllDataRowIdData:n}=E;let o=!1;return e&&(np.each(e,(e,t)=>{const l=n[t];if(l){const t=np.toInteger(e);t&&(l.resizeHeight=t,o||(o=!0))}}),o&&(E.isResizeCellHeight=!0,S.resizeHeightFlag++)),t().then(()=>(Wn(),{status:o}))},getRowHeightConf(e){const{fullAllDataRowIdData:t,afterFullData:n}=E,{handleGetRowId:o}=YS(It),l=Ae.value,r=Pe.value,a=ke.value,i={};return n.forEach(n=>{const s=o(n),c=t[s];if(c){const t=c.resizeHeight;if(t||e){const e=t||r.height||l.height||c.height||a;i[s]=e}}}),i},setRowHeight(e,n){const{fullAllDataRowIdData:o}=E;let l=!1;const r=np.isArray(e)?e:[e];let a=np.toInteger(n);if(TS(n)){const e=N.value,t=e?e.$el:null,n=t?t.clientHeight-1:0;a=Math.floor(a*n)}if(a){const{handleGetRowId:e}=YS(It);r.forEach(t=>{const n=np.isString(t)||np.isNumber(t)?t:e(t),r=o[n];r&&(r.resizeHeight=a,l||(l=!0))}),l&&(E.isResizeCellHeight=!0,S.resizeHeightFlag++)}return t().then(()=>({status:l}))},getRowHeight(e){const{fullAllDataRowIdData:t}=E,n=Ae.value,o=Pe.value,l=ke.value,r=t[np.isString(e)||np.isNumber(e)?e:US(It,e)];return r?r.resizeHeight||o.height||n.height||r.height||l:0},refreshScroll(){const{elemStore:e,lastScrollLeft:t,lastScrollTop:n}=E,o=uE(e["main-header-scroll"]),l=uE(e["main-body-scroll"]),r=uE(e["main-footer-scroll"]),a=uE(e["left-body-scroll"]),i=uE(e["right-body-scroll"]),s=oe.value,c=ae.value;return new Promise(e=>{if(t||n)return WS(It,t,n).then(()=>{setTimeout(e,10)});E.intoRunScroll=!0,$S(c,n),$S(l,n),$S(a,n),$S(i,n),NS(s,t),NS(l,t),NS(o,t),NS(r,t),setTimeout(()=>{E.intoRunScroll=!1,e()},10)})},recalculate:e=>new Promise(n=>{const{rceTimeout:o,rceRunTime:l}=E,r=Be.value.refreshDelay||20,a=O.value;a&&a.clientWidth&&(Zt(),qn()),o?(clearTimeout(o),l&&l+(r-5)<Date.now()?n(hn(!!e)):t(()=>{n()})):n(hn(!!e)),E.rceTimeout=setTimeout(()=>{E.rceTimeout=void 0,hn(!!e)},r)}),openTooltip(e,n){const o=I.value;return o&&o.open?o.open(e,n):t()},closeTooltip(){const{tooltipStore:e}=S,n=R.value,o=I.value;return e.visible&&(Object.assign(e,{row:null,column:null,content:null,visible:!1,currOpts:{}}),n&&n.close&&n.close()),o&&o.close&&o.close(),t()},isAllCheckboxChecked:()=>S.isAllSelected,isAllCheckboxIndeterminate:()=>!S.isAllSelected&&S.isIndeterminate,getCheckboxIndeterminateRecords(t){const{treeConfig:n}=e,{fullDataRowIdData:o,treeIndeterminateRowMaps:l}=E;if(n){const e=[],n=[];return np.each(l,(t,l)=>{t&&(e.push(t),o[l]&&n.push(t))}),t?e:n}return[]},setCheckboxRow:(e,t)=>(e&&!np.isArray(e)&&(e=[e]),cn(e,t,!0)),setCheckboxRowKey(e,t){const{fullAllDataRowIdData:n}=E;np.isArray(e)||(e=[e]);const o=[];return e.forEach(e=>{const t=n[e];t&&o.push(t.row)}),cn(o,t,!0)},isCheckedByCheckboxRow(e){const{updateCheckboxFlag:t}=S,{selectCheckboxMaps:n}=E,o=We.value,{checkField:l}=o;return l?np.get(e,l):!!t&&!!n[US(It,e)]},isCheckedByCheckboxRowKey(e){const{updateCheckboxFlag:t}=S,{fullAllDataRowIdData:n,selectCheckboxMaps:o}=E,l=We.value,{checkField:r}=l;if(r){const t=n[e];return!!t&&np.get(t.row,r)}return!!t&&!!o[e]},isIndeterminateByCheckboxRow(e){const{treeIndeterminateRowMaps:t}=E;return!!t[US(It,e)]&&!It.isCheckedByCheckboxRow(e)},isIndeterminateByCheckboxRowKey(e){const{treeIndeterminateRowMaps:t}=E;return!!t[e]&&!It.isCheckedByCheckboxRowKey(e)},toggleCheckboxRow(e){const{selectCheckboxMaps:n}=E,o=We.value,{checkField:l}=o,r=l?!np.get(e,l):!n[US(It,e)];return T.handleBatchSelectRows([e],r,!0),T.checkSelectionStatus(),t()},setAllCheckboxRow:e=>un(e,!0),getRadioReserveRecord(t){const{treeConfig:n}=e,{fullDataRowIdData:o,radioReserveRow:l,afterFullData:r}=E,a=He.value,i=gt.value,s=i.children||i.childrenField;if(a.reserve&&l){const e=US(It,l);if(t){if(!o[e])return l}else{const t=GS(It);if(n){if(np.findTree(r,n=>e===np.get(n,t),{children:s}))return l}else if(!r.some(n=>e===np.get(n,t)))return l}}return null},clearRadioReserve:()=>(E.radioReserveRow=null,t()),getCheckboxReserveRecords(t){const{treeConfig:n}=e,{afterFullData:o,fullDataRowIdData:l,checkboxReserveRowMap:r}=E,a=We.value,i=gt.value,s=i.children||i.childrenField,c=[];if(a.reserve){const{handleGetRowId:e}=YS(It),a={};n?np.eachTree(o,t=>{a[e(t)]=1},{children:s}):o.forEach(t=>{a[e(t)]=1}),np.each(r,(e,n)=>{e&&(t?l[n]||c.push(e):a[n]||c.push(e))})}return c},clearCheckboxReserve:()=>(E.checkboxReserveRowMap={},t()),toggleAllCheckboxRow:()=>(Vn(null,!S.isAllSelected),t()),clearCheckboxRow(){const{treeConfig:n}=e,{tableFullData:o}=E,l=gt.value,r=l.children||l.childrenField,a=We.value,{checkField:i,reserve:s}=a,c=a.indeterminateField||a.halfField;if(i){const e=e=>{n&&c&&np.set(e,c,!1),np.set(e,i,!1)};n?np.eachTree(o,e,{children:r}):o.forEach(e)}return s&&o.forEach(e=>an(e,!1)),S.isAllSelected=!1,S.isIndeterminate=!1,E.selectCheckboxMaps={},E.treeIndeterminateRowMaps={},S.updateCheckboxFlag++,t()},setCurrentRow(n){const o=Ae.value,l=O.value;return D.clearCurrentRow(),S.currentRow=n,(o.isCurrent||e.highlightCurrentRow)&&l&&np.arrayEach(l.querySelectorAll(`[rowid="${US(It,n)}"]`),e=>RS(e,"row--current")),t()},isCheckedByRadioRow(e){const{selectRadioRow:t}=S;return!(!e||!t)&&It.eqRow(t,e)},isCheckedByRadioRowKey(e){const{selectRadioRow:t}=S;return!!t&&e===US(It,t)},setRadioRow:e=>sn(e,!0),setRadioRowKey(e){const{fullAllDataRowIdData:n}=E,o=n[e];return o?sn(o.row,!0):t()},clearCurrentRow(){const e=O.value;return S.currentRow=null,E.hoverRow=null,e&&np.arrayEach(e.querySelectorAll(".row--current"),e=>kS(e,"row--current")),t()},clearRadioRow:()=>(S.selectRadioRow=null,t()),getCurrentRecord:()=>Ae.value.isCurrent||e.highlightCurrentRow?S.currentRow:null,getRadioRecord(e){const{fullDataRowIdData:t,afterFullRowMaps:n}=E,{selectRadioRow:o}=S;if(o){const l=US(It,o);if(e){if(t[l])return o}else if(n[l])return o}return null},getCurrentColumn:()=>Re.value.isCurrent||e.highlightCurrentColumn?S.currentColumn:null,setCurrentColumn(n){const{mouseConfig:o}=e,l=Ze.value,r=o&&l.selected,a=tE(It,n);return a&&(It.clearCurrentColumn(),S.currentColumn=a),t().then(()=>{r&&It.addCellSelectedClass()})},clearCurrentColumn:()=>(S.currentColumn=null,t()),setPendingRow(e,n){const{handleGetRowId:o}=YS(It),{pendingRowMaps:l}=E;return e&&!np.isArray(e)&&(e=[e]),n?e.forEach(e=>{const t=o(e);t&&!l[t]&&(l[t]=e)}):e.forEach(e=>{const t=o(e);t&&l[t]&&delete l[t]}),S.pendingRowFlag++,t()},togglePendingRow(e){const{handleGetRowId:n}=YS(It),{pendingRowMaps:o}=E;return e&&!np.isArray(e)&&(e=[e]),e.forEach(e=>{const t=n(e);t&&(o[t]?delete o[t]:o[t]=e)}),S.pendingRowFlag++,t()},hasPendingByRow:e=>D.isPendingByRow(e),isPendingByRow(e){const{pendingRowMaps:t}=E;return!!t[US(It,e)]},getPendingRecords(){const{fullAllDataRowIdData:e,pendingRowMaps:t}=E,n=[];return np.each(t,(t,o)=>{e[o]&&n.push(t)}),n},clearPendingRow:()=>(E.pendingRowMaps={},S.pendingRowFlag++,t()),sort(e,n){const o=Ye.value,{multiple:l,remote:r,orders:a}=o;return e&&np.isString(e)&&(e=[{field:e,order:n}]),np.isArray(e)||(e=[e]),e.length?(l||Wt(),(l?e:[e[0]]).forEach((e,t)=>{let{field:n,order:o}=e,l=n;np.isString(n)&&(l=D.getColumnByField(n)),l&&l.sortable&&(a&&-1===a.indexOf(o)&&(o=At(l)),l.order!==o&&(l.order=o),l.sortTime=Date.now()+t)}),r||T.handleTableData(!0),t().then(()=>(Wn(),D.updateCellAreas(),on()))):t()},setSort:(e,t)=>Ht(new Event("click"),e,t),setSortByEvent:(e,t,n)=>Ht(e,t,n),clearSort(e){const n=Ye.value;if(e){const t=tE(It,e);t&&(t.order=null)}else Wt();return n.remote||It.handleTableData(!0),t().then(()=>(Wn(),on()))},clearSortByEvent(e,n){const{tableFullColumn:o}=E,l=Ye.value,r=[];let a=null;if(e)if(n?(a=tE(It,n),a&&(a.order=null)):o.forEach(e=>{e.order&&(e.order=null,r.push(e))}),l.remote||It.handleTableData(!0),r.length){_n("clear-all-sort",{$table:It,$event:e,cols:r,sortList:[]},e)}else a&&It.handleColumnSortEvent(e,a);return t().then(()=>(Wn(),on()))},isSort(e){if(e){const t=tE(It,e);return!!t&&(t.sortable&&!!t.order)}return D.getSortColumns().length>0},getSortColumns(){const e=Ye.value,{multiple:t,chronological:n}=e,o=[],{tableFullColumn:l}=E;return l.forEach(e=>{const{field:t,order:n}=e;e.sortable&&n&&o.push({column:e,field:t,property:t,order:n,sortTime:e.sortTime})}),t&&n&&o.length>1?np.orderBy(o,"sortTime"):o},setFilterByEvent(e,n,o,l){const r=tE(It,n);return r&&r.filters&&(r.filters=aE(o||[]),l)?It.handleColumnConfirmFilter(r,e):t()},closeFilter(){const{filterStore:e}=S,{column:n,visible:o}=e;return e.isAllSelected=!1,e.isIndeterminate=!1,e.options=[],e.visible=!1,o&&_n("filter-visible",{column:n,property:n.field,field:n.field,filterList:()=>It.getCheckedFilters(),visible:!1},null),t()},isActiveFilterByColumn(e){const t=tE(It,e);return t?t.filters&&t.filters.some(e=>e.checked):It.getCheckedFilters().length>0},isFilter:e=>D.isActiveFilterByColumn(e),clearFilterByEvent(e,n){const{filterStore:o}=S,{tableFullColumn:l}=E,r=Xe.value,a=[];let i=null;if(n?(i=tE(It,n),i&&It.handleClearFilter(i)):l.forEach(e=>{e.filters&&(a.push(e),It.handleClearFilter(e))}),n&&i===o.column||Object.assign(o,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),r.remote||It.updateData(),a.length){_n("clear-all-filter",{$table:It,$event:e,cols:a,filterList:[]},e)}else i&&It.dispatchEvent("clear-filter",{filterList:()=>It.getCheckedFilters()},e);return t()},isRowExpandLoaded(e){const{fullAllDataRowIdData:t}=E,n=t[US(It,e)];return n&&!!n.expandLoaded},clearRowExpandLoaded(e){const{fullAllDataRowIdData:n,rowExpandLazyLoadedMaps:o}=E,l=mt.value,{lazy:r}=l,a=US(It,e),i=n[a];return r&&i&&(i.expandLoaded=!1,delete o[a]),S.rowExpandedFlag++,t()},reloadRowExpand(e){const{rowExpandLazyLoadedMaps:n}=E,o=mt.value,{lazy:l}=o,r=US(It,e);return l&&!n[r]&&It.clearRowExpandLoaded(e).then(()=>mn(e)),t()},reloadExpandContent:e=>(gS("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),It.reloadRowExpand(e)),toggleRowExpand:e=>It.setRowExpand(e,!It.isRowExpandByRow(e)),setAllRowExpand(t){const n=gt.value,{tableFullData:o,tableFullTreeData:l}=E,r=n.children||n.childrenField;let a=[];return e.treeConfig?np.eachTree(l,e=>{a.push(e)},{children:r}):a=o,D.setRowExpand(a,t)},setRowExpand(e,n){const{expandColumn:o}=S;let{fullAllDataRowIdData:l,rowExpandedMaps:r,rowExpandLazyLoadedMaps:a}=E;const{handleGetRowId:i}=YS(It),s=mt.value,{reserve:c,lazy:u,accordion:d,toggleMethod:p}=s,m=[],g=o?It.getColumnIndex(o):-1,f=o?It.getVMColumnIndex(o):-1;if(e){np.isArray(e)||(e=[e]),d&&(r={},E.rowExpandedMaps=r,e=e.slice(e.length-1,e.length));const t=p?e.filter(e=>p({$table:It,expanded:n,column:o,columnIndex:g,$columnIndex:f,row:e,rowIndex:It.getRowIndex(e),$rowIndex:It.getVMRowIndex(e)})):e;n?t.forEach(e=>{const t=i(e);if(!r[t]){const n=l[t];u&&!n.expandLoaded&&!a[t]?m.push(mn(e)):r[t]=e}}):t.forEach(e=>{const t=i(e);r[t]&&delete r[t]}),c&&t.forEach(e=>gn(e,n))}return S.rowExpandedFlag++,Promise.all(m).then(()=>t()).then(()=>It.recalculate(!0)).then(()=>(Wn(),qn(),Gn(),It.updateCellAreas()))},isRowExpandByRow(e){const{rowExpandedFlag:t}=S,{rowExpandedMaps:n}=E,o=US(It,e);return!!t&&!!n[o]},isExpandByRow:e=>(gS("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),D.isRowExpandByRow(e)),clearRowExpand(){const{tableFullData:e}=E,n=mt.value,{reserve:o}=n,l=It.getRowExpandRecords();return E.rowExpandedMaps={},S.rowExpandedFlag++,o&&e.forEach(e=>gn(e,!1)),t().then(()=>{if(l.length)return It.recalculate(!0)}).then(()=>(Wn(),qn(),Gn(),It.updateCellAreas()))},clearRowExpandReserve:()=>(E.rowExpandedReserveRowMap={},t()),getRowExpandRecords(){const e=[];return np.each(E.rowExpandedMaps,t=>{t&&e.push(t)}),e},setRowGroups(n){const{aggregateConfig:o,rowGroupConfig:l}=e,r=Ve.value,{maxGroupSize:a}=r;if(!o&&!l)return fS("vxe.error.reqProp",["aggregate-config"]),t();const i=n?np.isArray(n)?n:[n]:[];return a&&i.length>a?(Im.modal&&Im.modal.message({status:"error",content:FD("vxe.table.maxGroupCol",[a])}),t()):i.length?(xn(i.map(e=>np.isString(e)?e:e.field)),Cn(E.tableSynchData,!0)):t()},clearRowGroups(){const{aggregateConfig:n,rowGroupConfig:o}=e;return n||o?(xn([]),Cn(E.tableSynchData,!0)):(fS("vxe.error.reqProp",["aggregate-config"]),t())},isRowGroupRecord:e=>(gS("vxe.error.delFunc",["isRowGroupRecord","isAggregateRecord"]),It.isAggregateRecord(e)),isRowGroupExpandByRow:e=>(gS("vxe.error.delFunc",["isRowGroupExpandByRow","isAggregateExpandByRow"]),It.isAggregateExpandByRow(e)),isAggregateRecord(e){const{isRowGroupStatus:t}=S;return t&&e.isAggregate},getAggregateContentByRow(e){const{isRowGroupStatus:t}=S;return t&&e&&e.isAggregate?e.groupContent:""},getAggregateRowChildren(e){const t=Ve.value,{childrenField:n,mapChildrenField:o}=t,{isRowGroupStatus:l}=S;return l&&e&&e.isAggregate&&n&&o&&e[o]||[]},isAggregateExpandByRow(e){const{rowGroupExpandedFlag:t}=S,{rowGroupExpandedMaps:n}=E;return!!t&&!!n[US(It,e)]},setRowGroupExpand:(e,n)=>e?(np.isArray(e)||(e=[e]),An(e,n)):t(),setAllRowGroupExpand(e){const{tableFullGroupData:t}=E,n=Ve.value,{mapChildrenField:o}=n,l={};return e&&o&&np.eachTree(t,e=>{e[o]&&e[o].length&&(l[US(It,e)]=e)},{children:o}),E.rowGroupExpandedMaps=l,nn(),It.handleTableData(),tn(),S.rowGroupExpandedFlag++,It.recalculate(!0)},clearRowGroupExpand:()=>(E.rowGroupExpandedMaps={},nn(),It.handleTableData(),tn(),S.rowGroupExpandedFlag++,It.recalculate(!0)),getTreeExpandRecords(){const e=[];return np.each(E.treeExpandedMaps,t=>{t&&e.push(t)}),e},isTreeExpandLoaded(e){const{fullAllDataRowIdData:t}=E,n=t[US(It,e)];return n&&!!n.treeLoaded},clearTreeExpandLoaded(e){const{fullAllDataRowIdData:n,treeExpandedMaps:o}=E,l=gt.value,{transform:r}=l;return e?(np.isArray(e)||(e=[e]),e.forEach(e=>{const t=US(It,e),l=n[t];l&&(l.treeLoaded=!1,o[t]&&delete o[t])})):np.each(n,e=>{e.treeLoaded=!1}),E.treeExpandedMaps={},r&&(nn(),It.handleTableData()),S.treeExpandedFlag++,t()},reloadTreeExpand(e){const{treeExpandLazyLoadedMaps:n}=E,o=gt.value,l=o.hasChild||o.hasChildField,{transform:r,lazy:a}=o,i=US(It,e);return a&&e[l]&&!n[i]?It.clearTreeExpandLoaded(e).then(()=>dn(e)).then(()=>{r&&(nn(),It.handleTableData()),S.treeExpandedFlag++}).then(()=>It.recalculate()):t()},reloadTreeChilds:e=>(gS("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),It.reloadTreeExpand(e)),toggleTreeExpand:e=>It.setTreeExpand(e,!It.isTreeExpandByRow(e)),setAllTreeExpand(e){const{tableFullData:t}=E,n=gt.value,{transform:o,lazy:l}=n,r=n.children||n.childrenField,a=[];return np.eachTree(t,e=>{const t=e[r];(l||t&&t.length)&&a.push(e)},{children:r}),It.setTreeExpand(a,e).then(()=>{if(o)return nn(),S.treeExpandedFlag++,It.recalculate()})},setTreeExpand(e,n){const o=gt.value,{transform:l}=o;return e&&(np.isArray(e)||(e=[e]),e.length)?l?((e,n)=>Mn(e,n).then(()=>(nn(),It.handleTableData(),S.treeExpandedFlag++,tn(),t())).then(()=>It.recalculate(!0)).then(()=>{setTimeout(()=>{It.updateCellAreas()},30)}))(e,n):Mn(e,n):t()},isTreeExpandByRow(e){const{treeExpandedFlag:t}=S,{treeExpandedMaps:n}=E;return!!t&&!!n[US(It,e)]},clearTreeExpand(){const{tableFullTreeData:e}=E,t=gt.value,n=t.children||t.childrenField,{transform:o,reserve:l}=t,r=It.getTreeExpandRecords();return E.treeExpandedMaps={},l&&np.eachTree(e,e=>pn(e,!1),{children:n}),It.handleTableData().then(()=>{o&&(nn(),It.handleTableData()),S.treeExpandedFlag++}).then(()=>{if(r.length)return It.recalculate()})},clearTreeExpandReserve:()=>(E.treeExpandedReserveRowMap={},t()),getScroll(){const{scrollXLoad:e,scrollYLoad:t}=S,{elemStore:n}=E,o=uE(n["main-body-scroll"]);return{virtualX:e,virtualY:t,scrollTop:o?o.scrollTop:0,scrollLeft:o?o.scrollLeft:0}},scrollTo(e,n){const{elemStore:o}=E,l=uE(o["main-header-scroll"]),r=uE(o["main-body-scroll"]),a=uE(o["main-footer-scroll"]),i=uE(o["left-body-scroll"]),s=uE(o["right-body-scroll"]),c=oe.value,u=ae.value;return E.intoRunScroll=!0,np.isNumber(e)&&(NS(c,e),NS(r,e),NS(l,e),NS(a,e),On()),np.isNumber(n)&&($S(u,n),$S(r,n),$S(i,n),$S(s,n),$n()),S.scrollXLoad||S.scrollYLoad?new Promise(e=>{setTimeout(()=>{t(()=>{E.intoRunScroll=!1,e()})},30)}):t().then(()=>{E.intoRunScroll=!1})},scrollToRow(n,o){const{isAllOverflow:l,scrollYLoad:r,scrollXLoad:a}=S,i=[];return n&&(e.treeConfig?i.push(It.scrollToTreeRow(n)):i.push(CE(It,n))),o&&i.push(((e,n)=>{const{fullColumnIdData:o}=E,l=tE(It,e);return l&&o[l.id]?SE(It,l,n):t()})(o,n)),Promise.all(i).then(()=>{if(n)return l||!r&&!a||(Jt(),Xt()),t()})},scrollToColumn(e){const{fullColumnIdData:n}=E,o=tE(It,e);return o&&n[o.id]?SE(It,o):t()},clearScroll(){const{elemStore:e,scrollXStore:n,scrollYStore:o}=E,l=uE(e["main-header-scroll"]),r=uE(e["main-body-scroll"]),a=uE(e["main-footer-scroll"]),i=uE(e["left-body-scroll"]),s=uE(e["right-body-scroll"]),c=oe.value,u=ae.value;return E.intoRunScroll=!0,NS(c,0),NS(r,0),NS(l,0),NS(a,0),$S(u,0),$S(r,0),$S(i,0),$S(s,0),n.startIndex=0,n.visibleStartIndex=0,n.endIndex=n.visibleSize,n.visibleEndIndex=n.visibleSize,o.startIndex=0,o.visibleStartIndex=0,o.endIndex=o.visibleSize,o.visibleEndIndex=o.visibleSize,t().then(()=>{E.intoRunScroll=!1})},updateFooter(){const{showFooter:n,footerData:o,footerMethod:l}=e,{visibleColumn:r,afterFullData:a}=E;let i=[];return n&&o&&o.length?i=o.slice(0):n&&l&&(i=r.length?l({columns:r,data:a,$table:It,$grid:me}):[]),S.footerTableData=i,It.handleUpdateFooterMerge(),t()},updateStatus:(n,o)=>t().then(()=>{const{editRules:t}=e;if(n&&t)return It.handleCellRuleUpdateStatus("change",n,o)}),setMergeCells:n=>(e.spanMethod&&fS("vxe.error.errConflicts",["merge-cells","span-method"]),(e=>{const{fullAllDataRowIdData:t,fullColumnIdData:n,visibleColumn:o,afterFullData:l,mergeBodyList:r,mergeBodyMaps:a}=E;if(e){const{handleGetRowId:i}=YS(It);np.isArray(e)||(e=[e]),e.forEach(e=>{let{row:s,col:c,rowspan:u,colspan:d}=e,p=-1,m=-1;if(np.isNumber(s))p=s;else{const e=s?i(s):null,n=e?t[e]:null;n&&(p=n._index)}if(np.isNumber(c))m=c;else{const e=c?c.id:null,t=e?n[e]:null;t&&(m=t._index)}if(p>-1&&m>-1&&(u||d)&&(u=np.toNumber(u)||1,d=np.toNumber(d)||1,u>1||d>1)){const e=l[p],t=o[m];let n=a[`${p}:${m}`];n?(n.rowspan=u,n.colspan=d,n._rowspan=u,n._colspan=d):(n={row:p,col:m,rowspan:u,colspan:d,_row:e,_col:t,_rowspan:u,_colspan:d},a[`${p}:${m}`]=n,r.push(n))}})}})(n),It.handleUpdateBodyMerge(),t().then(()=>(It.updateCellAreas(),on()))),removeMergeCells(n){e.spanMethod&&fS("vxe.error.errConflicts",["merge-cells","span-method"]);const o=(e=>{const{mergeBodyList:t,fullColumnIdData:n,fullAllDataRowIdData:o,mergeBodyMaps:l}=E,r=[];if(e){const{handleGetRowId:a}=YS(It);np.isArray(e)||(e=[e]),e.forEach(e=>{const{row:i,col:s}=e;let c=-1,u=-1;if(np.isNumber(i))c=i;else{const e=i?a(i):null,t=e?o[e]:null;t&&(c=t._index)}if(np.isNumber(s))u=s;else{const e=s?s.id:null,t=e?n[e]:null;t&&(u=t._index)}const d=np.findIndexOf(t,e=>e.row===c&&e.col===u);if(d>-1){const e=t.splice(d,1);e[0]&&(r.push(e[0]),l[`${c}:${u}`]&&delete l[`${c}:${u}`])}})}return r})(n);return It.handleUpdateBodyMerge(),t().then(()=>(It.updateCellAreas(),on(),o))},getMergeCells:()=>E.mergeBodyList.slice(0),clearMergeCells:()=>(E.mergeBodyList=[],E.mergeBodyMaps={},E.mergeBodyCellMaps={},S.mergeBodyFlag++,t().then(()=>on())),setMergeFooterItems:n=>(e.footerSpanMethod&&fS("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),(e=>{const{footerTableData:t}=S,{mergeFooterList:n,mergeFooterMaps:o,fullColumnIdData:l}=E;if(e){const{visibleColumn:r}=E;np.isArray(e)||(e=[e]),e.forEach(e=>{let{row:a,col:i,rowspan:s,colspan:c}=e;const u=np.isNumber(a)?a:-1;let d=-1;if(np.isNumber(i))d=i;else{const e=i?i.id:null,t=e?l[e]:null;t&&(d=t._index)}if(u>-1&&d>-1&&(s||c)&&(s=np.toNumber(s)||1,c=np.toNumber(c)||1,s>1||c>1)){const e=t[u],l=r[d];let a=o[`${u}:${d}`];a?(a.rowspan=s,a.colspan=c,a._rowspan=s,a._colspan=c):(a={row:u,col:d,rowspan:s,colspan:c,_row:e,_col:l,_rowspan:s,_colspan:c},o[`${u}:${d}`]=a,n.push(a))}})}})(n),It.handleUpdateFooterMerge(),t().then(()=>(D.updateCellAreas(),on()))),removeMergeFooterItems(n){e.footerSpanMethod&&fS("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const o=(e=>{const{mergeFooterList:t,fullColumnIdData:n,mergeFooterMaps:o}=E,l=[];return e&&(np.isArray(e)||(e=[e]),e.forEach(e=>{const{row:r,col:a}=e,i=np.isNumber(r)?r:-1;let s=-1;if(np.isNumber(a))s=a;else{const e=a?a.id:null,t=e?n[e]:null;t&&(s=t._index)}const c=np.findIndexOf(t,e=>e.row===i&&e.col===s);if(c>-1){const e=t.splice(c,1)[0];e&&(l.push(e),o[`${i}:${s}`]&&delete o[`${i}:${s}`])}})),l})(n);return It.handleUpdateFooterMerge(),t().then(()=>(D.updateCellAreas(),on(),o))},getMergeFooterItems:()=>E.mergeFooterList.slice(0),clearMergeFooterItems:()=>(E.mergeFooterList=[],E.mergeFooterMaps={},E.mergeFooterCellMaps={},S.mergeFootFlag++,t().then(()=>on())),updateCellAreas(){const{mouseConfig:n}=e,o=Ze.value;return n&&o.area&&It.handleRecalculateCellAreaEvent?It.handleRecalculateCellAreaEvent():t()},getCustomStoreData(){const{id:t}=e,n=bt.value,{collectColumn:o}=E,{storage:l,checkMethod:r,storeOptions:a}=n,i=!0===l,s=i?{}:Object.assign({},l||{},a),c=Mt(s.resizable,i),u=Mt(s.visible,i),d=Mt(s.fixed,i),p=Mt(s.sort,i),m=Mt(s.aggFunc,i),g={},f={},v={},h={},b={},x={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0,aggFuncData:void 0};if(!t)return l&&fS("vxe.error.reqProp",["id"]),x;let w=0,y=0,C=0,S=0,D=0;return np.eachTree(o,(e,t,n,o,l)=>{const a=e.getKey();a?(l||(p&&(y=1,f[a]=e.renderSortNumber),d&&e.fixed!==e.defaultFixed&&(C=1,h[a]=e.fixed)),c&&e.resizeWidth&&(w=1,g[a]=e.renderWidth),!u||r&&!r({$table:It,column:e})||(!e.visible&&e.defaultVisible?(S=1,v[a]=!1):e.visible&&!e.defaultVisible&&(S=1,v[a]=!0)),m&&e.aggFunc!==e.defaultAggFunc&&(D=1,b[a]=e.aggFunc)):fS("vxe.error.reqProp",[`${e.getTitle()||e.type||""} -> column.field=?`])}),w&&(x.resizableData=g),y&&(x.sortData=f),C&&(x.fixedData=h),S&&(x.visibleData=v),D&&(x.aggFuncData=b),x},focus:()=>(E.isActivated=!0,t()),blur:()=>(E.isActivated=!1,t()),connect:e=>(e?(ge=e,ge.syncUpdate({collectColumn:E.collectColumn,$table:It})):fS("vxe.error.barUnableLink"),t())};const Un=t=>{const{editStore:n,ctxMenuStore:o,filterStore:l,customStore:r}=S,{mouseConfig:a,editRules:i}=e,s=O.value,c=Ke.value,u=he.value,d=Qe.value,{actived:p}=n,m=P.value,g=M.value,f=A.value,v=F.value;if(g&&(_S(t,s,"vxe-cell--filter").flag||_S(t,g.getRefMaps().refElem.value).flag||_S(t,document.body,"vxe-table--ignore-clear").flag||T.preventEvent(t,"event.clearFilter",l.args,D.closeFilter)),f&&(r.btnEl===t.target||_S(t,document.body,"vxe-toolbar-custom-target").flag||_S(t,f.getRefMaps().refElem.value).flag||_S(t,document.body,"vxe-table--ignore-clear").flag||T.preventEvent(t,"event.clearCustom",{},()=>{It.closeCustom&&It.closeCustom()})),p.row){if(!1!==c.autoClear){const n=p.args.cell;n&&_S(t,n).flag||m&&_S(t,m.$el).flag||(!E._lastCallTime||E._lastCallTime+50<Date.now())&&(_S(t,document.body,"vxe-table--ignore-clear").flag||T.preventEvent(t,"event.clearEdit",p.args,()=>{let n;if("row"===c.mode){const e=_S(t,s,"vxe-body--row"),o=e.flag?D.getRowNode(e.targetElem):null;n=!!o&&!It.eqRow(o.item,p.args.row)}else n=!_S(t,s,"col--edit").flag;if(n||(n=_S(t,s,"vxe-header--row").flag),n||(n=_S(t,s,"vxe-footer--row").flag),!n&&e.height&&!S.overflowY){const e=t.target;OS(e,"vxe-table--body-wrapper")&&(n=t.offsetY<e.clientHeight)}!n&&_S(t,s).flag||setTimeout(()=>{It.handleClearEdit(t).then(()=>{!E.isActivated&&i&&u.autoClear&&(S.validErrorMaps={})})})}))}}else if(a&&!(_S(t,s).flag||me&&_S(t,me.getRefMaps().refElem.value).flag||v&&_S(t,v.getRefMaps().refElem.value).flag||ge&&_S(t,ge.getRefMaps().refElem.value).flag)&&(It.clearSelected&&It.clearSelected(),d.autoClear&&It.getCellAreas)){const e=It.getCellAreas();e&&e.length&&!_S(t,document.body,"vxe-table--ignore-areas-clear").flag&&T.preventEvent(t,"event.clearAreas",{},()=>{It.clearCellAreas(),It.clearCopyCellArea(),_n("clear-cell-area-selection",{cellAreas:e},t)})}It.closeMenu&&o.visible&&v&&!_S(t,v.getRefMaps().refElem.value).flag&&It.closeMenu();const h=_S(t,me?me.getRefMaps().refElem.value:s).flag;!h&&i&&u.autoClear&&(S.validErrorMaps={}),E.isActivated=h},Kn=()=>{D.closeFilter(),It.closeMenu&&It.closeMenu()},Yn=()=>{D.closeTooltip(),It.closeMenu&&It.closeMenu()},Xn=n=>{const{mouseConfig:o,keyboardConfig:l}=e,{filterStore:r,ctxMenuStore:a,editStore:i}=S,s=Ze.value,c=Je.value,{actived:u}=i;_D.hasKey(n,BD.ESCAPE)&&T.preventEvent(n,"event.keydown",null,()=>{if(_n("keydown-start",{},n),l&&o&&s.area&&It.handleKeyboardCellAreaEvent)It.handleKeyboardCellAreaEvent(n);else if((u.row||r.visible||a.visible)&&(n.stopPropagation(),It.closeMenu&&It.closeMenu(),D.closeFilter(),l&&c.isEsc&&u.row)){const e=u.args;It.handleClearEdit(n),s.selected&&t(()=>It.handleSelected(e,n))}_n("keydown",{},n),_n("keydown-end",{},n)})},Zn=n=>{E.isActivated&&It.preventEvent(n,"event.keydown",null,()=>{const{mouseConfig:o,keyboardConfig:l,treeConfig:r,editConfig:a,highlightCurrentRow:i,highlightCurrentColumn:s}=e,{ctxMenuStore:c,editStore:u,currentRow:d}=S,{afterFullData:p}=E,m=st.value,g=at.value,f=Je.value,v=Ze.value,h=Ke.value,b=gt.value,x=ct.value,w=Ae.value,y=Re.value,{selected:C,actived:O}=u,k=b.children||b.childrenField,R=n.keyCode,I=_D.hasKey(n,BD.ESCAPE),P=_D.hasKey(n,BD.BACKSPACE),F=_D.hasKey(n,BD.TAB),M=_D.hasKey(n,BD.ENTER),A=_D.hasKey(n,BD.SPACEBAR),V=_D.hasKey(n,BD.ARROW_LEFT),$=_D.hasKey(n,BD.ARROW_UP),N=_D.hasKey(n,BD.ARROW_RIGHT),L=_D.hasKey(n,BD.ARROW_DOWN),_=_D.hasKey(n,BD.DELETE),B=_D.hasKey(n,BD.F2),z=_D.hasKey(n,BD.CONTEXT_MENU),j=IS(n),H=n.shiftKey,W=n.altKey,q=V||$||N||L,G=m&&c.visible&&(M||A||q),U=OC(a)&&O.column&&O.row,K=h.beforeEditMethod||h.activeMethod;if(G)n.preventDefault(),c.showChild&&FC(c.selected)?It.moveCtxMenu(n,c,"selectChild",V,!1,c.selected.children):It.moveCtxMenu(n,c,"selected",N,!0,x);else if(l&&o&&v.area&&It.handleKeyboardCellAreaEvent)It.handleKeyboardCellAreaEvent(n);else if(I){if(It.closeMenu&&It.closeMenu(),It.closeFilter(),l&&f.isEsc&&O.row){const e=O.args;It.handleClearEdit(n),v.selected&&t(()=>It.handleSelected(e,n))}}else if(A&&l&&f.isChecked&&C.row&&C.column&&("checkbox"===C.column.type||"radio"===C.column.type))n.preventDefault(),"checkbox"===C.column.type?T.handleToggleCheckRowEvent(n,C.args):T.triggerRadioRowEvent(n,C.args);else if(B&&OC(a))U||C.row&&C.column&&(n.preventDefault(),It.handleEdit(C.args,n));else if(z)E._keyCtx=C.row&&C.column&&g.length,clearTimeout(E.keyCtxTimeout),E.keyCtxTimeout=setTimeout(()=>{E._keyCtx=!1},1e3);else if(M&&!W&&l&&f.isEnter&&(C.row||O.row||r&&(w.isCurrent||i)&&d)){const{isLastEnterAppendRow:e,beforeEnterMethod:o,enterMethod:l}=f;if(j){if(O.row){const e=O.args;It.handleClearEdit(n),v.selected&&t(()=>{It.handleSelected(e,n)})}}else if(C.row||O.row){const t=C.row?C.args:O.args;if(H)f.enterToTab?It.moveTabSelected(t,H,n):It.moveEnterSelected(t,V,!0,N,!1,n);else if(f.enterToTab)It.moveTabSelected(t,H,n);else{const r=C.row||O.row,a=C.column||O.column,i=It.getVTRowIndex(r),s={row:r,rowIndex:It.getRowIndex(r),$rowIndex:It.getVMRowIndex(r),_rowIndex:i,column:a,columnIndex:It.getColumnIndex(a),$columnIndex:It.getVMColumnIndex(a),_columnIndex:It.getVTColumnIndex(a),$table:It};if(!o||!1!==o(s)){if(e&&i>=p.length-1)return It.insertAt({},-1).then(({row:e})=>{It.scrollToRow(e,a),It.handleSelected(Object.assign(Object.assign({},t),{row:e}),n)}),void It.dispatchEvent("enter-append-row",s,n);It.moveEnterSelected(t,V,!1,N,!0,n),l&&l(s)}}}else if(r&&(w.isCurrent||i)&&d){const e=d[k];if(e&&e.length){n.preventDefault();const t=e[0],o={$table:It,row:t,rowIndex:It.getRowIndex(t),$rowIndex:It.getVMRowIndex(t)};It.setTreeExpand(d,!0).then(()=>It.scrollToRow(t)).then(()=>It.triggerCurrentRowEvent(n,o))}}}else if(q&&l&&f.isArrow)U||(v.selected&&C.row&&C.column?It.moveArrowSelected(C.args,V,$,N,L,n):(($||L)&&(w.isCurrent||i)&&It.moveCurrentRow($,L,n),(V||N)&&(y.isCurrent||s)&&It.moveCurrentColumn(V,N,n)));else if(F&&l&&f.isTab)C.row||C.column?It.moveTabSelected(C.args,H,n):(O.row||O.column)&&It.moveTabSelected(O.args,H,n);else if(l&&f.isDel&&_&&OC(a)&&(C.row||C.column)){if(!U){const{delMethod:e}=f,t={row:C.row,rowIndex:D.getRowIndex(C.row),column:C.column,columnIndex:D.getColumnIndex(C.column),$table:It,$grid:me};K&&!K(t)||(e?e(t):cE(C.row,C.column,null),D.updateFooter(),_n("cell-delete-value",t,n))}}else if(P&&l&&f.isBack&&OC(a)&&(C.row||C.column)){if(!U){const{backMethod:e}=f;if(f.isDel&&OC(a)&&(C.row||C.column)){const t={row:C.row,rowIndex:It.getRowIndex(C.row),column:C.column,columnIndex:It.getColumnIndex(C.column),$table:It,$grid:me};K&&!K(t)||(e?e(t):(cE(C.row,C.column,null),It.handleEdit(C.args,n)),_n("cell-backspace-value",t,n))}}}else if(P&&l&&r&&f.isBack&&(w.isCurrent||i)&&d){const{parent:e}=np.findTree(E.afterTreeFullData,e=>e===d,{children:k});if(e){n.preventDefault();const t={row:e,rowIndex:It.getRowIndex(e),$rowIndex:It.getVMRowIndex(e),$table:It,$grid:me};It.setTreeExpand(e,!1).then(()=>It.scrollToRow(e)).then(()=>It.triggerCurrentRowEvent(n,t))}}else if(l&&OC(a)&&f.isEdit&&!j&&(A||R>=48&&R<=57||R>=65&&R<=90||R>=96&&R<=111||R>=186&&R<=192||R>=219&&R<=222)){const{editMode:e,editMethod:t}=f;if(C.column&&C.row&&OC(C.column.editRender)){const o=h.beforeEditMethod||h.activeMethod,l={row:C.row,rowIndex:It.getRowIndex(C.row),column:C.column,columnIndex:It.getColumnIndex(C.column),$table:It,$grid:me};o&&!o(Object.assign(Object.assign({},C.args),{$table:It,$grid:me}))||(t?t(l):("insert"!==e&&cE(C.row,C.column,null),It.handleEdit(C.args,n)))}}_n("keydown",{},n)})},Qn=t=>{const{keyboardConfig:n,mouseConfig:o}=e,{editStore:l,filterStore:r}=S,{isActivated:a}=E,i=Ze.value,s=Je.value,{actived:c}=l;a&&!r.visible&&(c.row||c.column||n&&s.isClip&&o&&i.area&&It.handlePasteCellAreaEvent&&It.handlePasteCellAreaEvent(t),_n("paste",{},t))},Jn=t=>{const{keyboardConfig:n,mouseConfig:o}=e,{editStore:l,filterStore:r}=S,{isActivated:a}=E,i=Ze.value,s=Je.value,{actived:c}=l;a&&!r.visible&&(c.row||c.column||n&&s.isClip&&o&&i.area&&It.handleCopyCellAreaEvent&&It.handleCopyCellAreaEvent(t),_n("copy",{},t))},eo=t=>{const{keyboardConfig:n,mouseConfig:o}=e,{editStore:l,filterStore:r}=S,{isActivated:a}=E,i=Ze.value,s=Je.value,{actived:c}=l;a&&!r.visible&&(c.row||c.column||n&&s.isClip&&o&&i.area&&It.handleCutCellAreaEvent&&It.handleCutCellAreaEvent(t),_n("cut",{},t))},to=()=>{It.closeMenu&&It.closeMenu();const e=O.value;if(!e||!e.clientWidth)return t();D.recalculate(!0),D.updateCellAreas()},no=e=>{const t=R.value;clearTimeout(E.tooltipTimeout),e?D.closeTooltip():t&&t.setActived&&t.setActived(!0)},oo=()=>{const{dragRow:e,dragCol:t}=S;(e||t)&&(ro(),lo(),io(),S.dragRow=null,S.dragCol=null,S.isDragColMove=!1,S.isDragRowMove=!1)},lo=()=>{const e=O.value;if(e){const t="row--drag-origin";np.arrayEach(e.querySelectorAll(`.${t}`),e=>{e.draggable=!1,kS(e,t)})}},ro=()=>{const e=O.value;if(e){const t="col--drag-origin";np.arrayEach(e.querySelectorAll(`.${t}`),e=>{e.draggable=!1,kS(e,t)})}},ao=(e,t,n,o,l)=>{const r=O.value;if(!r)return;const{overflowX:a,scrollbarWidth:i,overflowY:s,scrollbarHeight:c}=S,{prevDragToChild:u}=E,d=r.getBoundingClientRect(),p=s?i:0,m=a?c:0,g=r.clientWidth,f=r.clientHeight;if(t){const e=Z.value;if(e)if(o){const n=De.value,o=t.getBoundingClientRect();let r=t.clientHeight;const a=Math.max(1,o.y-d.y);a+r>f-m&&(r=f-a-m),e.style.display="block",e.style.left=`${n?p:0}px`,e.style.top=`${a}px`,e.style.height=`${r}px`,e.style.width=g-p+"px",e.setAttribute("drag-pos",l),e.setAttribute("drag-to-child",u?"y":"n")}else e.style.display=""}else if(n){const e=Q.value;if(e)if(o){const t=Ee.value,o=q.value,r=o?o.clientWidth:0,a=G.value,i=a?a.clientWidth:0,s=n.getBoundingClientRect();let c=n.clientWidth;const v=Math.max(0,s.y-d.y),h=r;let b=s.x-d.x;b<h&&(c-=h-b,b=h);const x=g-i-(i?0:p);b+c>x&&(c=x-b),e.style.display="block",e.style.top=`${v}px`,e.style.left=`${b}px`,e.style.width=`${c}px`,e.style.height=u?`${s.height}px`:f-v-(t?0:m)+"px",e.setAttribute("drag-pos",l),e.setAttribute("drag-to-child",u?"y":"n")}else e.style.display=""}const v=X.value;v&&(v.style.display="block",v.style.top=`${Math.min(r.clientHeight-r.scrollTop-v.clientHeight,e.clientY-d.y)}px`,v.style.left=`${Math.min(r.clientWidth-r.scrollLeft-v.clientWidth-16,e.clientX-d.x)}px`,v.setAttribute("drag-status",o?u?"sub":"normal":"disabled"))},io=()=>{const e=X.value,t=Z.value,n=Q.value;e&&(e.style.display=""),t&&(t.style.display=""),n&&(n.style.display="")},so=(e,n,o,l,r)=>{const a=o||n;if(!a)return t();r.cell=n;const{tooltipStore:i}=S,s=qe.value,{column:c,row:u}=r,{showAll:d,contentMethod:p}=s,m=p?p(r):null,g=p&&!np.eqNull(m),f=g?m:np.toString("html"===c.type?a.innerText:a.textContent).trim(),v=a.scrollWidth>a.clientWidth;return f&&(d||g||v)&&(Object.assign(i,{row:u,column:c,visible:!0,currOpts:{}}),t(()=>{const e=R.value;e&&e.open&&e.open(v?a:l,AC(f))})),t()},co=(e,t)=>{if(e){if(me)return me.callSlot(e,t);if(np.isFunction(e))return OE(e(t))}return[]};T={getSetupOptions:()=>ID(),updateAfterDataIndex:tn,callSlot:co,getParentElem(){const e=O.value;if(me){const e=me.getRefMaps().refElem.value;return e?e.parentNode:null}return e?e.parentNode:null},getParentHeight(){const{height:t}=e,n=O.value;if(n){const e=n.parentNode,o="100%"===t||"auto"===t?VS(e):0;let l=0;return e&&(l=me&&OS(e,"vxe-grid--table-wrapper")?me.getParentHeight():e.clientHeight),Math.floor(l-o)}return 0},getExcludeHeight:()=>me?me.getExcludeHeight():0,defineField(t){const{treeConfig:n}=e,o=mt.value,l=gt.value,r=He.value,a=We.value,i=l.children||l.childrenField,s=GS(It);return np.isArray(t)||(t=[t]),t.map(e=>{E.tableFullColumn.forEach(t=>{const{field:n,editRender:o}=t;if(n&&!np.has(e,n)&&!e[n]){let l=null;if(o){const{defaultValue:e}=o;np.isFunction(e)?l=e({column:t}):np.isUndefined(e)||(l=e)}np.set(e,n,l)}});return[r.labelField,a.checkField,a.labelField,o.labelField].forEach(t=>{t&&VC(np.get(e,t))&&np.set(e,t,null)}),n&&l.lazy&&np.isUndefined(e[i])&&(e[i]=null),VC(np.get(e,s))&&np.set(e,s,qS()),e})},handleTableData(n){const{scrollYLoad:o}=S,{scrollYStore:l,fullDataRowIdData:r}=E;let a=E.afterFullData;n&&((()=>{const{treeConfig:t}=e,{isRowGroupStatus:n}=S,{tableFullColumn:o,tableFullData:l,tableFullTreeData:r,tableFullGroupData:a}=E,i=Xe.value,s=Ye.value,c=Ve.value,u=gt.value,d=u.children||u.childrenField,{transform:p,rowField:m,parentField:g,mapChildrenField:f}=u,{isEvery:v,remote:h,filterMethod:b}=i,{remote:x,sortMethod:w,multiple:y,chronological:C}=s;let D=[],T=[];if(h&&x)n?(T=np.searchTree(a,()=>!0,{original:!0,isEvery:!0,children:c.mapChildrenField,mapChildren:c.childrenField}),D=T):t&&p?(T=np.searchTree(r,()=>!0,{original:!0,isEvery:v,children:f,mapChildren:d}),D=T):(D=t?r.slice(0):l.slice(0),T=D);else{const e=[];let i=[];if(o.forEach(t=>{const{field:n,sortable:o,order:l,filters:r}=t;if(!h&&r&&r.length){const n=[],o=[];r.forEach(e=>{e.checked&&(o.push(e),n.push(e.value))}),o.length&&e.push({column:t,valueList:n,itemList:o})}!x&&o&&l&&i.push({column:t,field:n,property:n,order:l,sortTime:t.sortTime})}),y&&C&&i.length>1&&(i=np.orderBy(i,"sortTime")),!h&&e.length){const o=t=>e.every(({column:e,valueList:n,itemList:o})=>{const{filterMethod:l,filterRender:r}=e,a=OC(r)?MD.get(r.name):null,i=a?a.tableFilterMethod||a.filterMethod:null,s=a?a.tableFilterDefaultMethod||a.defaultTableFilterMethod||a.defaultFilterMethod:null,c=sE(t,e);return l?o.some(n=>l({value:n.value,option:n,cellValue:c,row:t,column:e,$table:It})):i?o.some(n=>i({value:n.value,option:n,cellValue:c,row:t,column:e,$table:It})):b?b({$table:It,options:o,values:n,cellValue:c,row:t,column:e}):s?o.some(n=>s({value:n.value,option:n,cellValue:c,row:t,column:e,$table:It})):n.indexOf(np.get(t,e.field))>-1});n?(T=np.searchTree(a,o,{original:!0,isEvery:!0,children:c.mapChildrenField,mapChildren:c.childrenField}),D=T):t&&p?(T=np.searchTree(r,o,{original:!0,isEvery:v,children:f,mapChildren:d}),D=T):(D=t?r.filter(o):l.filter(o),T=D)}else n?(T=np.searchTree(a,()=>!0,{original:!0,isEvery:!0,children:c.mapChildrenField,mapChildren:c.childrenField}),D=T):t&&p?(T=np.searchTree(r,()=>!0,{original:!0,isEvery:v,children:f,mapChildren:d}),D=T):(D=t?r.slice(0):l.slice(0),T=D);if(!x&&i.length)if(n){if(w){const e=w({data:T,sortList:i,$table:It});T=np.isArray(e)?e:T}else{const e=np.toTreeArray(T,{key:c.rowField,parentKey:c.parentField,children:c.mapChildrenField});T=np.toArrayTree(np.orderBy(e,i.map(({column:e,order:t})=>[en(e),t])),{key:c.rowField,parentKey:c.parentField,children:c.childrenField,mapChildren:c.mapChildrenField})}D=T}else if(t&&p){if(w){const e=w({data:T,sortList:i,$table:It});T=np.isArray(e)?e:T}else{const e=np.toTreeArray(T,{children:f});T=np.toArrayTree(np.orderBy(e,i.map(({column:e,order:t})=>[en(e),t])),{key:m,parentKey:g,children:d,mapChildren:f})}D=T}else{if(w){const e=w({data:D,sortList:i,$table:It});D=np.isArray(e)?e:D}else D=np.orderBy(D,i.map(({column:e,order:t})=>[en(e),t]));T=D}}E.afterFullData=D,E.afterTreeFullData=T,E.afterGroupFullData=T,tn()})(),a=nn());const i=o?a.slice(l.startIndex,l.endIndex):a.slice(0),s={};return i.forEach((e,t)=>{const n=US(It,e),o=r[n];o&&(o.$index=t),s[n]=e}),S.tableData=i,E.visibleDataRowIdData=s,t()},cacheRowMap(t){const{treeConfig:n}=e,{isRowGroupStatus:o}=S,{fullAllDataRowIdData:l,tableFullData:r,tableFullTreeData:a,tableFullGroupData:i,treeExpandedMaps:s}=E,c=t?{}:Object.assign({},l),u={},{handleUpdateRowId:d}=KS(It),p=(e,t,n,o,l,r,a,i)=>{let s=c[r];s||(s={row:e,rowid:r,seq:i,index:-1,_index:-1,$index:-1,treeIndex:t,items:n,parent:l,level:a,height:0,resizeHeight:0,oTop:0,expandHeight:0},u[r]=s,c[r]=s),s.treeLoaded=!1,s.expandLoaded=!1,s.row=e,s.items=n,s.parent=l,s.level=a,s.index=o,s.treeIndex=t,u[r]=s,c[r]=s};if(n){const e=gt.value,{lazy:t}=e,o=e.children||e.childrenField,l=e.hasChild||e.hasChildField;np.eachTree(a,(e,r,a,i,c,u)=>{const m=d(e);n&&t&&(e[l]&&void 0===e[o]&&(e[o]=null),s[m]&&(e[o]&&e[o].length||delete s[m])),p(e,r,a,c?-1:r,c,m,u.length-1,iE(i))},{children:o})}else if(o){const e=Ve.value,{mapChildrenField:t}=e;np.eachTree(i,(e,t,n,o,l,r)=>{const a=d(e);p(e,t,n,l?-1:t,l,a,r.length-1,iE(o))},{children:t})}else r.forEach((e,t,n)=>{p(e,t,n,t,null,d(e),0,t+1)});E.fullDataRowIdData=u,E.fullAllDataRowIdData=c,S.treeExpandedFlag++},cacheSourceMap(t){const{treeConfig:n}=e,o=gt.value,l=np.clone(t,!0),{handleUpdateRowId:r}=KS(It),a={},i=e=>{const t=r(e);a[t]=e};if(n){const e=o.children||o.childrenField;np.eachTree(l,i,{children:o.transform?o.mapChildrenField:e})}else l.forEach(i);E.sourceDataRowIdData=a,E.tableSourceData=l},analyColumnWidth(){const{tableFullColumn:e}=E,t=Re.value,{width:n,minWidth:o}=t,l=[],r=[],a=[],i=[],s=[],c=[],u=[],d=[];e.forEach(e=>{n&&!e.width&&(e.width=n),o&&!e.minWidth&&(e.minWidth=o),e.visible&&(e.resizeWidth?l.push(e):"auto"===e.width?u.push(e):DS(e.width)?r.push(e):TS(e.width)?s.push(e):DS(e.minWidth)?a.push(e):"auto"===e.minWidth?i.push(e):TS(e.minWidth)?c.push(e):d.push(e))}),Object.assign(S.columnStore,{resizeList:l,pxList:r,pxMinList:a,autoMinList:i,scaleList:s,scaleMinList:c,autoList:u,remainList:d})},handleColResizeMousedownEvent(e,t,n){e.stopPropagation(),e.preventDefault();const{column:o}=n,{columnStore:l,overflowX:r,scrollbarHeight:a}=S,{elemStore:i,visibleColumn:s}=E,{leftList:c,rightList:u}=l,d=ze.value,p=r?a:0,m=O.value,g=q.value,f=G.value,v=U.value;if(!v)return;const h="left"===t,b="right"===t,x=v.firstElementChild,w=Ee.value,{clientX:y}=e,C=e.target;let D=o;o.children&&o.children.length&&np.eachTree(o.children,e=>{D=e});const T=C.parentNode,k=Object.assign(n,{cell:T});let R=0;if(!uE(i["main-body-scroll"]))return;const I=m.getBoundingClientRect(),P=f?f.getBoundingClientRect():null,F=T.getBoundingClientRect(),M=C.getBoundingClientRect(),A=C.clientWidth,V=Math.floor(A/2),$=M.x-I.x+V,N=pE(k)-V,L=b?0:F.x-I.x+A+N,_=F.x-I.x+T.clientWidth-N;let B=0,z=0;if(h||b){let e=!1;const t=h?c:u;for(let n=0;n<t.length;n++){const o=t[n];e?B+=o.renderWidth:(e=o.id===D.id,e||(z+=o.renderWidth))}}const j=e=>{e.stopPropagation(),e.preventDefault();const t=m.clientHeight,n=e.clientX-y;let o=$+n;h?P&&(o=Math.min(o,P.x-I.x-B-N)):b&&(g&&(o=Math.max(o,g.clientWidth+z+N)),o=Math.min(o,_)),R=Math.max(o,L);const l=Math.max(1,R);if(v.style.left=`${l}px`,v.style.top=`${w?p:0}px`,v.style.height=`${w?t-p:t}px`,d.showDragTip&&x){x.textContent=FD("vxe.table.resizeColTip",[Math.floor(D.renderWidth+(b?$-R:R-$))]);const n=m.clientWidth,o=v.clientWidth,r=x.clientWidth,a=x.clientHeight;let i=-r;l<r+o?i=0:l>n&&(i+=n-l),x.style.left=`${i}px`,x.style.top=`${Math.min(t-a,Math.max(0,e.clientY-I.y-a/2))}px`}S.isDragResize=!0};S.isDragResize=!0,RS(m,"col-drag--resize"),v.style.display="block",document.onmousemove=j,document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null,v.style.display="none",E._lastResizeTime=Date.now(),setTimeout(()=>{S.isDragResize=!1},50);const t=D.renderWidth+(b?$-R:R-$),o=Object.assign(Object.assign({},n),{resizeWidth:t,resizeColumn:D});"fixed"===d.dragMode&&s.forEach(e=>{e.id!==D.id&&(e.resizeWidth||(e.resizeWidth=e.renderWidth))}),It.handleColResizeCellAreaEvent?It.handleColResizeCellAreaEvent(e,o):(D.resizeWidth=t,zn(e,o)),kS(m,"col-drag--resize")},j(e),It.closeMenu&&It.closeMenu()},handleColResizeDblclickEvent(e,t){const n=ze.value,{isDblclickAutoWidth:o}=n,l=O.value;if(o&&l){e.stopPropagation(),e.preventDefault();const{fullColumnIdData:n}=E,{column:o}=t;let r=o;o.children&&o.children.length&&np.eachTree(o.children,e=>{r=e});const a=n[r.id],i=e.target.parentNode,s=pE(Object.assign(t,{cell:i}));l.setAttribute("data-calc-col","Y");let c=Yt(r,l);l.removeAttribute("data-calc-col"),a&&(c=Math.max(c,a.width)),c=Math.max(s,c);const u=Object.assign(Object.assign({},t),{resizeWidth:c,resizeColumn:r});S.isDragResize=!1,E._lastResizeTime=Date.now(),It.handleColResizeDblclickCellAreaEvent?It.handleColResizeDblclickCellAreaEvent(e,u):(r.resizeWidth=c,zn(e,u))}},handleRowResizeMousedownEvent(e,t){e.stopPropagation(),e.preventDefault();const{row:n}=t,{overflowX:o,scrollbarWidth:l,overflowY:r,scrollbarHeight:a}=S,{elemStore:i,fullAllDataRowIdData:s}=E,c=r?l:0,u=o?a:0,d=De.value,p=ze.value,m=Ae.value,g=Pe.value,f=O.value,v=K.value;if(!v)return;const{clientY:h}=e,b=v.firstElementChild,x=e.currentTarget.parentNode,w=x.parentNode;if(!uE(i["main-body-scroll"]))return;const y=s[US(It,n)];if(!y)return;const C=ke.value,D=y.resizeHeight||g.height||m.height||y.height||C,T=f.getBoundingClientRect(),k=w.getBoundingClientRect(),R=h-k.y-w.clientHeight;let I=D;const P=x.querySelector(".vxe-cell");let F=0;if(P){const e=getComputedStyle(P);F=Math.max(1,Math.ceil(np.toNumber(e.paddingTop)+np.toNumber(e.paddingBottom)))}const M=k.y-T.y+F,A=e=>{e.stopPropagation(),e.preventDefault();const t=f.clientWidth-c,n=f.clientHeight-u;let o=e.clientY-T.y-R;if(o<M?o=M:I=Math.max(F,D+e.clientY-h),v.style.left=`${d?c:0}px`,v.style.top=`${o}px`,v.style.width=`${t}px`,p.showDragTip&&b){b.textContent=FD("vxe.table.resizeRowTip",[I]);const l=b.clientWidth,r=b.clientHeight;let a=Math.max(2,e.clientX-T.x),i=0;a+l>=t-2&&(a=t-l-2),o+r>=n&&(i=n-(o+r)),b.style.left=`${a}px`,b.style.top=`${i}px`}S.isDragResize=!0};S.isDragResize=!0,RS(f,"row-drag--resize"),v.style.display="block",document.onmousemove=A,document.onmouseup=function(e){if(document.onmousemove=null,document.onmouseup=null,v.style.display="none",E._lastResizeTime=Date.now(),setTimeout(()=>{S.isDragResize=!1},50),I!==D){const o=Object.assign(Object.assign({},t),{resizeHeight:I,resizeRow:n});E.isResizeCellHeight=!0,It.handleRowResizeCellAreaEvent?It.handleRowResizeCellAreaEvent(e,o):(y.resizeHeight=I,jn(e,o),Wn())}kS(f,"row-drag--resize")},A(e)},handleRowResizeDblclickEvent(e,t){const n=ze.value,{isDblclickAutoHeight:o}=n,l=O.value;if(o&&l){e.stopPropagation(),e.preventDefault();const{editStore:n}=S,{fullAllDataRowIdData:o}=E,{actived:r}=n,{row:a}=t,i=o[US(It,a)];if(!i)return;const s=()=>{l.setAttribute("data-calc-row","Y");const n=Qt(i,l);l.removeAttribute("data-calc-row");const o=Object.assign(Object.assign({},t),{resizeHeight:n,resizeRow:a});S.isDragResize=!1,E._lastResizeTime=Date.now(),It.handleRowResizeDblclickCellAreaEvent?It.handleRowResizeDblclickCellAreaEvent(e,o):(i.resizeHeight=n,jn(e,o))};r.row||r.column?It.clearEdit().then(s):s()}},saveCustomStore(n){const{customConfig:o}=e,l=fe.value,r=bt.value,{updateStore:a,storage:i,storeOptions:s}=r,c=!0===i,u=c?{}:Object.assign({},i||{},s),d=Mt(u.resizable,c),p=Mt(u.visible,c),m=Mt(u.fixed,c),g=Mt(u.sort,c),f=Mt(u.aggFunc,c);if("reset"!==n&&(S.isCustomStatus=!0),i&&(o?OC(r):r.enabled)&&(d||p||m||g||f)){if(!l)return fS("vxe.error.reqProp",["id"]),t();const e="reset"===n?{resizableData:{},sortData:{},visibleData:{},fixedData:{}}:D.getCustomStoreData();if(a)return a({$table:It,id:l,type:n,storeData:e});((e,t)=>{const n=ID().version,o=Vt();o[e]=t||void 0,o._v=n,localStorage.setItem(WD,np.toJSONString(o))})(l,"reset"===n?null:e)}return t()},handleCustom(){const{mouseConfig:t}=e;return t&&(It.clearSelected&&It.clearSelected(),It.clearCellAreas&&(It.clearCellAreas(),It.clearCopyCellArea())),T.analyColumnWidth(),D.refreshColumn(!0)},handleUpdateDataQueue(){S.upDataFlag++},handleRefreshColumnQueue(){S.reColumnFlag++},preventEvent(e,t,n,o,l){let r=ND.get(t);r.length||"event.clearEdit"!==t||(r=ND.get("event.clearActived"),r.length&&gS("vxe.error.delEvent",["event.clearActived","event.clearEdit"]));let a=null,i=!1;for(let s=0;s<r.length;s++){const t=(0,r[s])(Object.assign({$grid:me,$table:It,$event:e},n));if(!1===t){i=!0;break}if(t&&!1===t.status){a=t.result,i=!0;break}}return i||o&&(a=o()),l&&l(),a},updateCheckboxStatus(){const{treeConfig:t}=e,{isRowGroupStatus:n}=S,{afterTreeFullData:o,afterGroupFullData:l,selectCheckboxMaps:r,treeIndeterminateRowMaps:a}=E,i=Ve.value,s=gt.value,c=s.children||s.childrenField,u=We.value,{checkField:d,checkStrictly:p,checkMethod:m}=u;if(!p){if(n||t){const{handleGetRowId:e}=YS(It),u={},p=[];if(n){const t=i.mapChildrenField;t&&np.eachTree(l,n=>{const o=e(n),l=n[t];l&&l.length&&!u[o]&&(u[o]=1,p.unshift([n,o,l]))},{children:t})}else if(t){const{transform:t,mapChildrenField:n}=s;np.eachTree(o,o=>{const l=e(o),r=o[t?n:c];r&&r.length&&!u[l]&&(u[l]=1,p.unshift([o,l,r]))},{children:t?n:c})}p.forEach(t=>{const n=t[0],o=t[1],l=t[2];let i=0,s=0,c=0;l.forEach(m?t=>{const n=e(t),o=d?np.get(t,d):r[n];m({$table:It,row:t})?(o?i++:a[n]&&s++,c++):o?i++:a[n]&&s++}:t=>{const n=e(t);(d?np.get(t,d):r[n])?i++:a[n]&&s++,c++});let u=i>=c&&(c>=1||s>=1);m&&(u=m({$table:It,row:n})?i>=c:r[o]);const p=!u&&(i>=1||s>=1);d&&np.set(n,d,u),u?(d||(r[o]=n),a[o]&&delete a[o]):(d||r[o]&&delete r[o],p?a[o]=n:a[o]&&delete a[o])})}S.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:t}=e,{isRowGroupStatus:n}=S,{afterFullData:o,afterTreeFullData:l,afterGroupFullData:r,checkboxReserveRowMap:a,selectCheckboxMaps:i,treeIndeterminateRowMaps:s}=E,c=We.value,{checkField:u,checkMethod:d,showReserveStatus:p}=c,{handleGetRowId:m}=YS(It);let g=0,f=0,v=0;const h=t?l:n?r:o;h.forEach(d?e=>{const t=m(e),n=u?np.get(e,u):i[t];d({$table:It,row:e})?(n?g++:s[t]&&f++,v++):n?g++:s[t]&&f++}:e=>{const t=m(e);(u?np.get(e,u):i[t])?g++:s[t]&&f++,v++});const b=h.length>0&&(v>0?g>=v:g>=h.length);let x=!b&&(g>=1||f>=1);b||x||!p||(x=!np.isEmpty(a)),S.isAllSelected=b,S.isIndeterminate=x},checkSelectionStatus(){It.updateCheckboxStatus(),It.updateAllCheckboxStatus()},handleBatchSelectRows(t,n,o){const{treeConfig:l}=e,{isRowGroupStatus:r}=S,{selectCheckboxMaps:a}=E,i=Ve.value,s=gt.value,{transform:c,mapChildrenField:u}=s,d=s.children||s.childrenField,p=We.value,{checkField:m,checkStrictly:g,checkMethod:f}=p,{handleGetRowId:v}=YS(It),h=p.indeterminateField||p.halfField;if(m)return!l&&!r||g?(t.forEach(e=>{(o||!f||f({$table:It,row:e}))&&(np.set(e,m,n),an(e,n))}),void S.updateCheckboxFlag++):(np.eachTree(t,e=>{(o||!f||f({$table:It,row:e}))&&(np.set(e,m,n),h&&np.set(e,h,!1),an(e,n))},{children:c?u:d}),void S.updateCheckboxFlag++);if(!g){if(r)return np.eachTree(t,e=>{const t=v(e);(o||!f||f({$table:It,row:e}))&&(n?a[t]=e:a[t]&&delete a[t],an(e,n))},{children:i.mapChildrenField}),void S.updateCheckboxFlag++;if(l)return np.eachTree(t,e=>{const t=v(e);(o||!f||f({$table:It,row:e}))&&(n?a[t]=e:a[t]&&delete a[t],an(e,n))},{children:c?u:d}),void S.updateCheckboxFlag++}t.forEach(e=>{const t=v(e);(o||!f||f({$table:It,row:e}))&&(n?a[t]||(a[t]=e):a[t]&&delete a[t],an(e,n),S.updateCheckboxFlag++)})},handleSelectRow({row:e},t,n){It.handleBatchSelectRows([e],t,n)},handleUpdateBodyMerge(){const{mergeBodyList:e}=E;E.mergeBodyCellMaps=jt(e),S.mergeBodyFlag++},handleUpdateFooterMerge(){const{mergeFooterList:e}=E;E.mergeFooterCellMaps=jt(e),S.mergeFootFlag++},handleAggregateSummaryData:()=>(()=>{const{aggregateConfig:t,rowGroupConfig:n}=e,{isRowGroupStatus:o}=S,{tableFullGroupData:l}=E,r=Ve.value,{mapChildrenField:a}=r;if((t||n)&&o){const e=[];np.eachTree(l,t=>{t.isAggregate&&e.push(t)},{children:a}),wn(e)}})(),triggerHeaderTitleEvent(e,n,o){const l=n.content||n.message;if(l){const{tooltipStore:r}=S,{column:a}=o,i=MC(l);no(!0),r.row=null,r.column=a,r.visible=!0,r.currOpts=n,t(()=>{const t=R.value;t&&t.open&&t.open(e.currentTarget,i)})}},triggerHeaderTooltipEvent(e,t){const{tooltipStore:n}=S,{column:o}=t;no(!0);const l=e.currentTarget;if(!l)return;const r=l.parentElement;if(!r)return;const a=r.parentElement;if(!a)return;const i=a.parentElement;if(i&&(n.column!==o||!n.visible)){const e=i.querySelector(".vxe-cell--title");so(0,i,(OS(i,"col--ellipsis")?e:r)||r,e||a,t)}},triggerBodyTooltipEvent(t,n){const{editConfig:o}=e,{editStore:l}=S,{tooltipStore:r}=S,a=Ke.value,{actived:i}=l,{row:s,column:c}=n,u=t.currentTarget;if(no(r.column!==c||r.row!==s),c.editRender&&OC(o)){if("row"===a.mode&&i.row===s)return;if(i.row===s&&i.column===c)return}if(r.column!==c||r.row!==s||!r.visible){const e=u.querySelector(".vxe-cell--wrapper");let t=null,o=u.querySelector("html"===c.type?".vxe-cell--html":".vxe-cell--label");c.treeNode&&(t=u.querySelector(".vxe-tree-cell")),o||(o=e),so(0,u,t||e,o,n)}},triggerFooterTooltipEvent(e,t){const{column:n}=t,{tooltipStore:o}=S,l=e.currentTarget;if(no(o.column!==n||!!o.row),o.column!==n||!o.visible){const e=l.querySelector(".vxe-cell--wrapper");let o=null,r=l.querySelector("html"===n.type?".vxe-cell--html":".vxe-cell--label");"html"===n.type&&(o=l.querySelector(".vxe-cell--html")),r||(r=e),so(0,l,o||e,r,t)}},handleTargetLeaveEvent(){const e=qe.value;let t=R.value;t&&t.setActived&&t.setActived(!1),e.enterable?E.tooltipTimeout=setTimeout(()=>{t=R.value,t&&t.isActived&&!t.isActived()&&It.closeTooltip()},e.leaveDelay):It.closeTooltip()},triggerHeaderCellClickEvent(t,n){const{_lastResizeTime:o}=E,l=Ye.value,r=Re.value,a=Ie.value,{column:i}=n,s=t.currentTarget,c=o&&o>Date.now()-300,u=_S(t,s,"vxe-cell--sort").flag,d=_S(t,s,"vxe-cell--filter").flag;"cell"!==l.trigger||c||u||d||It.triggerSortEvent(t,i,At(i)),_n("header-cell-click",Object.assign({triggerResizable:c,triggerSort:u,triggerFilter:d,cell:s},n),t),!r.isCurrent&&!e.highlightCurrentColumn||a.trigger&&!["header","default"].includes(a.trigger)||It.triggerCurrentColumnEvent(t,n)},triggerHeaderCellDblclickEvent(e,t){_n("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},triggerCellClickEvent(t,n){const{highlightCurrentRow:o,highlightCurrentColumn:l,editConfig:r}=e,{editStore:a,isDragResize:i}=S;if(i)return;const s=mt.value,c=Ke.value,u=gt.value,d=He.value,p=We.value,m=Je.value,g=Ve.value,f=Ae.value,v=Re.value,h=Ie.value,{actived:b,focused:x}=a,{row:w,column:y}=n,{type:C,treeNode:E,rowGroupNode:D}=y,T="radio"===C,O="checkbox"===C,k="expand"===C,R=t.currentTarget,I=T&&_S(t,R,"vxe-cell--radio").flag,P=O&&_S(t,R,"vxe-cell--checkbox").flag,F=E&&_S(t,R,"vxe-cell--tree-btn").flag,M=k&&_S(t,R,"vxe-table--expanded").flag,A=k&&_S(t,R,"vxe-row-group--node-btn").flag;n=Object.assign({cell:R,triggerRadio:I,triggerCheckbox:P,triggerTreeNode:F,triggerExpandNode:M},n),P||I||(!M&&("row"===s.trigger||k&&"cell"===s.trigger)&&It.triggerRowExpandEvent(t,n),("row"===u.trigger||E&&"cell"===u.trigger)&&It.triggerTreeExpandEvent(t,n),("row"===g.trigger||D&&"cell"===g.trigger)&&It.triggerRowGroupExpandEvent(t,n)),F||(M||A||((f.isCurrent||o)&&(P||I||It.triggerCurrentRowEvent(t,n)),!v.isCurrent&&!l||h.trigger&&!["cell","default"].includes(h.trigger)||P||I||It.triggerCurrentColumnEvent(t,n),!I&&("row"===d.trigger||T&&"cell"===d.trigger)&&It.triggerRadioRowEvent(t,n),!P&&("row"===p.trigger||O&&"cell"===p.trigger)&&It.handleToggleCheckRowEvent(t,n)),OC(r)&&(m.arrowCursorLock&&t&&"cell"===c.mode&&t.target&&/^input|textarea$/i.test(t.target.tagName)&&(x.column=y,x.row=w),"manual"===c.trigger?b.args&&b.row===w&&y!==b.column&&rn(t,n):b.args&&w===b.row&&y===b.column||("click"===c.trigger||"dblclick"===c.trigger&&"row"===c.mode&&b.row===w)&&rn(t,n))),OC(r)&&"dblclick"===c.trigger&&b.row&&b.column&&("row"===c.mode?It.eqRow(b.row,w)||It.handleClearEdit(t):"cell"===c.mode&&(It.eqRow(b.row,w)&&b.column.id===y.id||It.handleClearEdit(t))),_n("cell-click",n,t)},triggerCellDblclickEvent(t,n){const{editConfig:o}=e,{editStore:l,isDragResize:r}=S;if(r)return;const a=Ke.value,{actived:i}=l,s=t.currentTarget;n=Object.assign({cell:s},n),OC(o)&&"dblclick"===a.trigger&&(i.args&&t.currentTarget===i.args.cell||("row"===a.mode?ln("blur").catch(e=>e).then(()=>{It.handleEdit(n,t).then(()=>ln("change")).catch(e=>e)}):"cell"===a.mode&&It.handleEdit(n,t).then(()=>ln("change")).catch(e=>e))),_n("cell-dblclick",n,t)},handleToggleCheckRowEvent(e,t){const{selectCheckboxMaps:n}=E,o=We.value,{checkField:l,trigger:r}=o,{row:a}=t;if("manual"===r)return;let i=!1;i=l?!np.get(a,l):!n[US(It,a)],e?It.triggerCheckRowEvent(e,t,i):(It.handleBatchSelectRows([a],i),It.checkSelectionStatus())},triggerCheckRowEvent(n,o,l){const{treeConfig:r}=e,{row:a}=o,{isRowGroupStatus:i}=S,{afterFullData:s}=E,c=We.value,{checkMethod:u,trigger:d}=c;if("manual"!==d){if(n.stopPropagation(),c.isShiftKey&&n.shiftKey&&!r&&!i){const e=It.getCheckboxRecords();if(e.length){const l=e[0],r=It.getVTRowIndex(a),i=It.getVTRowIndex(l);if(r!==i){It.setAllCheckboxRow(!1);const e=r<i?s.slice(r,i+1):s.slice(i,r+1);return t(()=>{cn(e,!0,!1)}),void _n("checkbox-range-select",Object.assign({rangeRecords:e},o),n)}}}u&&!u({$table:It,row:a})||(It.handleBatchSelectRows([a],l),It.checkSelectionStatus(),_n("checkbox-change",Object.assign({records:()=>It.getCheckboxRecords(),reserves:()=>It.getCheckboxReserveRecords(),indeterminates:()=>It.getCheckboxIndeterminateRecords(),checked:l},o),n))}},triggerCheckAllEvent(e,t){const n=We.value,{trigger:o}=n;"manual"!==o&&(e&&e.stopPropagation(),Vn(e,t))},triggerRadioRowEvent(e,t){const{selectRadioRow:n}=S,{row:o}=t,l=He.value,{trigger:r,checkMethod:a}=l;if("manual"!==r&&(e.stopPropagation(),!a||a({$table:It,row:o}))){let r=o,a=n!==r;a?sn(r):l.strict||(a=n===r,a&&(r=null,It.clearRadioRow())),a&&_n("radio-change",Object.assign({oldValue:n,newValue:r},t),e)}},triggerCurrentColumnEvent(e,t){const{currentColumn:n}=S,o=Re.value,l=Ie.value,r=l.beforeSelectMethod||o.currentMethod,{column:a}=t,{trigger:i}=l;if("manual"===i)return;const s=n!==a;!r||r({column:a,$table:It})?(It.setCurrentColumn(a),s&&_n("current-column-change",Object.assign({oldValue:n,newValue:a},t),e)):_n("current-column-disabled",t,e)},triggerCurrentRowEvent(e,t){const{currentRow:n}=S,o=Ae.value,l=Ne.value,r=l.beforeSelectMethod||o.currentMethod,{row:a}=t,{trigger:i}=l;if("manual"===i)return;const s=n!==a;!r||r({row:a,$table:It})?(It.setCurrentRow(a),s&&(_n("current-row-change",Object.assign({oldValue:n,newValue:a},t),e),_n("current-change",Object.assign({oldValue:n,newValue:a},t),e))):_n("current-row-disabled",t,e)},triggerRowExpandEvent(e,t){const{expandColumn:n}=S,{rowExpandLazyLoadedMaps:o}=E,l=mt.value,{row:r}=t,{lazy:a,trigger:i}=l;if("manual"===i)return;e.stopPropagation();const s=US(It,r);if(!a||!o[s]){const t=!It.isRowExpandByRow(r),o=n?It.getColumnIndex(n):-1,l=n?It.getVMColumnIndex(n):-1;It.setRowExpand(r,t),_n("toggle-row-expand",{expanded:t,column:n,columnIndex:o,$columnIndex:l,row:r,rowIndex:It.getRowIndex(r),$rowIndex:It.getVMRowIndex(r)},e)}},triggerRowGroupExpandEvent(e,t){const{rowGroupExpandedMaps:n}=E,o=Ve.value,{row:l,column:r}=t,{trigger:a}=o;if("manual"===a)return;e.stopPropagation();const i=!n[US(It,l)],s=It.getColumnIndex(r),c=It.getVMColumnIndex(r);It.setRowGroupExpand(l,i),_n("toggle-row-group-expand",{expanded:i,column:r,columnIndex:s,$columnIndex:c,row:l},e)},triggerTreeExpandEvent(e,t){const{treeExpandLazyLoadedMaps:n,treeEATime:o}=E,l=gt.value,{row:r,column:a}=t,{lazy:i,trigger:s,accordion:c}=l;if("manual"===s)return;e.stopPropagation();const u=US(It,r);if(!i||!n[u]){const t=!It.isTreeExpandByRow(r),n=It.getColumnIndex(a),l=It.getVMColumnIndex(a);o&&clearTimeout(o),It.setTreeExpand(r,t).then(()=>{c&&(E.treeEATime=setTimeout(()=>{E.treeEATime=void 0,It.scrollToRow(r)},30))}),_n("toggle-tree-expand",{expanded:t,column:a,columnIndex:n,$columnIndex:l,row:r},e)}},handleColumnSortEvent(t,n){const{mouseConfig:o}=e,l=Ze.value,{field:r,sortable:a,order:i}=n;if(a){const e={$table:It,$event:t,column:n,field:r,property:r,order:i,sortList:D.getSortColumns(),sortTime:n.sortTime};o&&l.area&&It.handleSortEvent&&It.handleSortEvent(t,e),i||_n("clear-sort",e,t),_n("sort-change",e,t)}},triggerSortEvent(e,t,n){const o=Ye.value,{multiple:l,allowClear:r}=o,{field:a,sortable:i}=t;i&&(n&&t.order!==n?It.sort({field:a,order:n}):r&&It.clearSort(l?t:null),It.handleColumnSortEvent(e,t))},handleCellRuleUpdateStatus(e,n,o){const{validStore:l}=S,{row:r,column:a}=n;if(It.hasCellRules&&It.hasCellRules(e,r,a)){const t=It.getCellElement(r,a);if(t){const n=!np.isUndefined(o);return It.validCellRules(e,r,a,o).then(()=>{n&&l.visible&&cE(r,a,o),It.clearValidate(r,a)}).catch(({rule:e})=>{n&&cE(r,a,o),It.showValidTooltip({rule:e,row:r,column:a,cell:t})})}}return t()},triggerHeaderCellMousedownEvent(t,n){const{mouseConfig:o}=e,l=Ze.value,r=Re.value,a=_e.value,{trigger:i,isCrossDrag:s,isPeerDrag:c,disabledMethod:u}=a,d=t.currentTarget,p=d&&d.tagName&&"input"===d.tagName.toLowerCase(),m=_S(t,d,"vxe-cell--checkbox").flag,g=_S(t,d,"vxe-cell--sort").flag,f=_S(t,d,"vxe-cell--filter").flag;let v=!1;const h=r.drag&&"cell"===i;if(!(p||m||g||f)){const{column:e}=n;!h||e.fixed||!s&&!c&&e.parentId||u&&u(n)||(v=!0,It.handleHeaderCellDragMousedownEvent(t,n))}!v&&o&&l.area&&It.handleHeaderCellAreaEvent&&It.handleHeaderCellAreaEvent(t,Object.assign({cell:d,triggerSort:g,triggerFilter:f},n)),It.focus(),It.closeMenu&&It.closeMenu()},triggerCellMousedownEvent(e,t){const{column:n}=t,{type:o,treeNode:l}=n,r="radio"===o,a="checkbox"===o,i="expand"===o,s=Ae.value,c=Le.value,{trigger:u,isCrossDrag:d,isPeerDrag:p,disabledMethod:m}=c,g=e.currentTarget;t.cell=g;const f=g&&g.tagName&&"input"===g.tagName.toLowerCase(),v=r&&_S(e,g,"vxe-cell--radio").flag,h=a&&_S(e,g,"vxe-cell--checkbox").flag,b=l&&_S(e,g,"vxe-cell--tree-btn").flag,x=i&&_S(e,g,"vxe-table--expanded").flag;let w=!1;s.drag&&(w="row"===u||n.dragSort&&"cell"===u);let y=!1;f||v||h||b||x||!w||!d&&!p&&t.level||m&&m(t)||(y=!0,It.handleCellDragMousedownEvent(e,t)),!y&&It.handleCellMousedownEvent&&It.handleCellMousedownEvent(e,t),It.focus(),It.closeFilter(),It.closeMenu&&It.closeMenu()},triggerCellMouseupEvent(){oo()},handleRowDragDragstartEvent(e){e.dataTransfer&&e.dataTransfer.setDragImage(CS(),0,0)},handleRowDragSwapEvent(n,o,l,r,a,i){const{treeConfig:s,dragConfig:c}=e,u=Le.value,{afterFullData:d,tableFullData:p,fullAllDataRowIdData:m}=E,{isPeerDrag:g,isCrossDrag:f,isSelfToChildDrag:v,dragEndMethod:h,dragToChildMethod:b}=u,x=gt.value,{transform:w,rowField:y,mapChildrenField:C,parentField:D}=x,T=x.children||x.childrenField,O=h||(c?c.dragEndMethod:null),k="bottom"===a?1:0,R={status:!1};if(r&&l&&r!==l){const e={oldRow:l,newRow:r,dragRow:l,dragPos:a,dragToChild:!!i,offsetIndex:k},o=v&&b?b(e):i;return Promise.resolve(!O||O(e)).then(e=>{if(!e)return R;let i=-1,c=-1;if(s){if(w){const e=US(It,l),t=m[e],n=US(It,r),a=m[n];if(t&&a){const{level:e}=t,{level:i}=a,s={};np.eachTree([l],e=>{s[US(It,e)]=e},{children:C});let c=!1;if(e&&i)if(g&&!f){if(t.row[D]!==a.row[D])return R}else{if(!f)return R;if(s[n]&&(c=!0,!f||!v))return Im.modal&&Im.modal.message({status:"error",content:FD("vxe.error.treeDragChild")}),R}else if(e){if(!f)return R}else if(i){if(!f)return R;if(s[n]&&(c=!0,!f||!v))return Im.modal&&Im.modal.message({status:"error",content:FD("vxe.error.treeDragChild")}),R}const u=np.toTreeArray(E.afterTreeFullData,{key:y,parentKey:D,children:C}),d=It.findRowIndexOf(u,l);u.splice(d,1);const p=It.findRowIndexOf(u,r)+k;u.splice(p,0,l),c&&f&&v&&np.each(l[T],e=>{e[D]=l[D]}),l[D]=o?r[y]:r[D],E.tableFullTreeData=np.toArrayTree(u,{key:y,parentKey:D,children:T,mapChildren:C})}}}else{i=It.findRowIndexOf(d,l);const e=It.findRowIndexOf(p,l);d.splice(i,1),p.splice(e,1);const t=It.findRowIndexOf(d,r),n=It.findRowIndexOf(p,r);c=t+k;const o=n+k;d.splice(c,0,l),p.splice(o,0,l)}return S.isDragRowMove=!0,It.handleTableData(s&&w),It.cacheRowMap(!1),Fn(),s&&w||It.updateAfterDataIndex(),It.checkSelectionStatus(),S.scrollYLoad&&It.updateScrollYSpace(),n&&_n("row-dragend",{oldRow:l,newRow:r,dragRow:l,dragPos:a,dragToChild:o,offsetIndex:k,_index:{newIndex:c,oldIndex:i}},n),t().then(()=>{It.updateCellAreas(),It.recalculate()}).then(()=>({status:!0}))}).catch(()=>R)}return Promise.resolve(R)},handleRowDragDragendEvent(t){const{treeConfig:n}=e,{fullAllDataRowIdData:o,prevDragToChild:l}=E,{dragRow:r}=S,a=gt.value,{lazy:i}=a,s=a.hasChild||a.hasChildField,{prevDragRow:c,prevDragPos:u}=E;if(n&&i&&l){const e=o[US(It,c)];c[s]?e&&e.treeLoaded&&It.handleRowDragSwapEvent(t,!0,r,c,u,l):It.handleRowDragSwapEvent(t,!0,r,c,u,l)}else It.handleRowDragSwapEvent(t,!0,r,c,u,l);io(),lo(),E.prevDragToChild=!1,S.dragRow=null,S.dragCol=null,setTimeout(()=>{S.isDragRowMove=!1},500)},handleRowDragDragoverEvent(t){const{treeConfig:n}=e,{fullAllDataRowIdData:o}=E,{dragRow:l}=S,r=gt.value,{lazy:a,transform:i,parentField:s}=r,c=r.hasChild||r.hasChildField,u=Le.value,{isPeerDrag:d,isCrossDrag:p,isToChildDrag:m}=u;if(!l)return void t.preventDefault();const g=IS(t),f=t.currentTarget,v=o[f.getAttribute("rowid")||""];if(v){const e=v.row,l=o[US(It,e)];t.preventDefault();const{dragRow:r}=S,u=t.clientY-f.getBoundingClientRect().y<f.clientHeight/2?"top":"bottom";if(E.prevDragToChild=!!(n&&i&&p&&m&&g),E.prevDragRow=e,E.prevDragPos=u,It.eqRow(r,e)||g&&n&&a&&e[c]&&l&&!l.treeLoaded||!p&&n&&i&&(d?r[s]!==e[s]:v.level))return void ao(t,f,null,!1,u);ao(t,f,null,!0,u),_n("row-dragover",{oldRow:r,targetRow:e,dragPos:u},t)}},handleCellDragMousedownEvent(t,n){var o;t.stopPropagation();const{dragConfig:l}=e,r=Le.value,{trigger:a,dragStartMethod:i}=r,{row:s}=n,c=t.currentTarget,u="cell"===a||"row"===a?c:null===(o=c.parentElement)||void 0===o?void 0:o.parentElement,d=u.parentElement,p=i||(l?l.dragStartMethod:null);if(lo(),p&&!p(n))return d.draggable=!1,S.dragRow=null,S.dragCol=null,void io();S.dragRow=s,S.dragCol=null,d.draggable=!0,(e=>{const t=O.value;if(t){const n="row--drag-origin",o=US(It,e);np.arrayEach(t.querySelectorAll(`[rowid="${o}"]`),e=>{RS(e,n)})}})(s),(t=>{const{dragConfig:n}=e,{dragRow:o}=S,l=Le.value,{tooltipMethod:r}=l,a=r||(n?n.rowTooltipMethod:null);let i="";i=a?`${a({$table:It,row:o})||""}`:FD("vxe.table.dragTip",[t.textContent||""]);S.dragTipText=i})(u),_n("row-dragstart",n,t)},handleCellDragMouseupEvent(){oo()},handleHeaderCellDragDragstartEvent(e){e.dataTransfer&&e.dataTransfer.setDragImage(CS(),0,0)},handleColDragSwapColumn(){Tn(),Rn(!1).then(()=>{It.updateCellAreas(),It.saveCustomStore("update:sort")})},handleColDragSwapEvent(t,n,o,l,r,a){const{mouseConfig:i}=e,s=_e.value,{isPeerDrag:c,isCrossDrag:u,isSelfToChildDrag:d,isToChildDrag:p,dragEndMethod:m,dragToChildMethod:g}=s,{collectColumn:f}=E,v="right"===r?1:0,h={status:!1};if(l&&o&&l!==o){const e=o,s=l,b={oldColumn:e,newColumn:s,dragColumn:e,dragPos:r,dragToChild:!!a,offsetIndex:v},x=d&&g?g(b):a;return Promise.resolve(!m||m(b)).then(o=>{if(!o)return h;let l=-1,a=-1;const m={};np.eachTree([e],e=>{m[e.id]=e});let g=!1;if(e.parentId&&s.parentId)if(c&&!u){if(e.parentId!==s.parentId)return h}else{if(!u)return h;if(m[s.id]&&(g=!0,!u||!d))return Im.modal&&Im.modal.message({status:"error",content:FD("vxe.error.treeDragChild")}),h}else if(e.parentId){if(!u)return h}else if(s.parentId){if(!u)return h;if(m[s.id]&&(g=!0,!u||!d))return Im.modal&&Im.modal.message({status:"error",content:FD("vxe.error.treeDragChild")}),h}const b=np.findTree(f,t=>t.id===e.id);if(g&&u&&d){if(b){const{items:t,index:n}=b,o=e.children||[];o.forEach(t=>{t.parentId=e.parentId}),t.splice(n,1,...o),e.children=[]}}else if(b){const{items:e,index:t,parent:n}=b;e.splice(t,1),n||(l=t)}const w=np.findTree(f,e=>e.id===s.id);if(w){const{items:t,index:n,parent:o}=w;u&&p&&x?(e.parentId=s.id,s.children=(s.children||[]).concat([e])):(e.parentId=s.parentId,t.splice(n+v,0,e)),o||(a=n)}return np.eachTree(f,(e,t,n,o,l)=>{if(!l){const n=t+1;e.renderSortNumber=n}}),S.isDragColMove=!0,i&&(It.clearSelected&&It.clearSelected(),It.clearCellAreas&&(It.clearCellAreas(),It.clearCopyCellArea())),t&&_n("column-dragend",{oldColumn:e,newColumn:s,dragColumn:e,dragPos:r,dragToChild:x,offsetIndex:v,_index:{newIndex:a,oldIndex:l}},t),n&&It.handleColDragSwapColumn(),{status:!0}}).catch(()=>h)}return Promise.resolve(h)},handleHeaderCellDragDragendEvent(e){const{dragCol:t}=S,{prevDragCol:n,prevDragPos:o,prevDragToChild:l}=E;It.handleColDragSwapEvent(e,!0,t,n,o,l),io(),ro(),E.prevDragToChild=!1,S.dragRow=null,S.dragCol=null,setTimeout(()=>{S.isDragColMove=!1,It.recalculate().then(()=>{On()})},500)},handleHeaderCellDragDragoverEvent(e){const{dragCol:t}=S,n=_e.value,{isToChildDrag:o,isPeerDrag:l,isCrossDrag:r}=n;if(!t)return void e.preventDefault();const a=IS(e),i=e.currentTarget,s=i.getAttribute("colid"),c=It.getColumnById(s);if(c){e.preventDefault();const{clientX:n}=e,s=n-i.getBoundingClientRect().x<i.clientWidth/2?"left":"right";if(E.prevDragToChild=!!(r&&o&&a),E.prevDragCol=c,E.prevDragPos=s,c.fixed||t&&t.id===c.id||!r&&(l?t.parentId!==c.parentId:c.parentId))return void ao(e,null,i,!1,s);ao(e,null,i,!0,s),_n("column-dragover",{oldColumn:t,targetColumn:c,dragPos:s},e);const u=O.value;if(!u)return;const d=oe.value,p=N.value,m=p?p.$el:null,g=d||m;if(g){const e=u.getBoundingClientRect(),t=u.clientWidth,o=q.value,l=o?o.clientWidth:0,r=G.value,a=r?r.clientWidth:0,i=28,s=n-(e.x+l),c=e.x+t-a-n;if(s>0&&s<=i){const e=Math.floor(t/(s>i/2?240:120));g.scrollLeft-=e*(i-s)}else if(c>0&&c<=i){const e=Math.floor(t/(c>i/2?240:120));g.scrollLeft+=e*(i-c)}}}},handleHeaderCellDragMousedownEvent(e,t){var n;e.stopPropagation();const o=_e.value,{trigger:l,dragStartMethod:r}=o,{column:a}=t,i=e.currentTarget,s="cell"===l?i:null===(n=i.parentElement)||void 0===n?void 0:n.parentElement;if(S.isDragColMove=!1,ro(),r&&!r(t))return s.draggable=!1,S.dragRow=null,S.dragCol=null,void io();S.dragCol=a,S.dragRow=null,s.draggable=!0,(e=>{const t=O.value;if(t){const n=[];np.eachTree([e],e=>{n.push(`[colid="${e.id}"]`)});const o="col--drag-origin";np.arrayEach(t.querySelectorAll(n.join(",")),e=>{RS(e,o)})}})(a),(e=>{const{dragCol:t}=S,n=_e.value,{tooltipMethod:o}=n;let l="";l=o?`${o({$table:It,column:t})||""}`:FD("vxe.table.dragTip",[e.textContent||""]);S.dragTipText=l})(s),_n("column-dragstart",t,e)},handleHeaderCellDragMouseupEvent(){ro(),io(),S.dragRow=null,S.dragCol=null,S.isDragColMove=!1},handleScrollEvent(t,n,o,l,r,a){const{highlightHoverRow:i}=e,{lastScrollLeft:s,lastScrollTop:c}=E,u=oe.value,d=ae.value;if(!u||!d)return;const p=Ae.value,m=P.value,g=R.value,f=d.clientHeight,v=u.clientWidth,h=d.scrollHeight,b=u.scrollWidth;let x=!1,w=!1,y=!1,C=!1,D="",T=!1,O=!1,k=!1,I=!1;if(o){const e=xe.value;y=r<=0,y||(C=r+v>=b),r>s?(D="right",r+v>=b-e&&(I=!0)):(D="left",r<=e&&(k=!0)),It.checkScrolling(),E.lastScrollLeft=r}if(n){const e=Te.value;x=l<=0,x||(w=l+f>=h),l>c?(D="bottom",l+f>=h-e&&(O=!0)):(D="top",l<=e&&(T=!0)),E.lastScrollTop=l}S.isDragColMove=!1,S.isDragRowMove=!1,S.lastScrollTime=Date.now();const F=Object.assign({scrollTop:l,scrollLeft:r,bodyHeight:f,bodyWidth:v,scrollHeight:h,scrollWidth:b,isX:o,isY:n,isTop:x,isBottom:w,isLeft:y,isRight:C,direction:D},a);qn(),((e,t)=>{const{scrollXLoad:n,scrollYLoad:o,isAllOverflow:l}=S,{lcsTimeout:r}=E;r&&clearTimeout(r),E.lcsTimeout=setTimeout(()=>{E.lcsRunTime=Date.now(),E.lcsTimeout=void 0,E.intoRunScroll=!1,E.inVirtualScroll=!1,E.inWheelScroll=!1,E.inHeaderScroll=!1,E.inBodyScroll=!1,E.inFooterScroll=!1,E.scrollRenderType="",l||(Jt(),Wn()),e&&n&&It.updateScrollXData(),t&&o&&It.updateScrollYData().then(()=>{l||(Jt(),Wn()),It.updateScrollYSpace()}),qn(),It.updateCellAreas()},200)})(o,n),o&&It.closeFilter(),(p.isHover||i)&&It.clearHoverRow(),m&&m.reactData.visible&&m.close(),g&&g.reactData.visible&&g.close(),(O||T||I||k)&&_n("scroll-boundary",F,t),_n("scroll",F,t)},triggerScrollXEvent(){ye.value.immediate?On():(()=>{const{lxTimeout:e,lxRunTime:t,scrollXStore:n}=E,{visibleSize:o}=n,l=o>26?26:o>16?14:6;e&&clearTimeout(e),(!t||t+l<Date.now())&&(E.lxRunTime=Date.now(),On()),E.lxTimeout=setTimeout(()=>{E.lxTimeout=void 0,E.lxRunTime=void 0,On()},l)})()},triggerScrollYEvent(){Ce.value.immediate?$n():(()=>{const{lyTimeout:e,lyRunTime:t,scrollYStore:n}=E,{visibleSize:o}=n,l=o>30?32:o>20?18:8;e&&clearTimeout(e),(!t||t+l<Date.now())&&(E.lyRunTime=Date.now(),$n()),E.lyTimeout=setTimeout(()=>{E.lyTimeout=void 0,E.lyRunTime=void 0,$n()},l)})()},triggerBodyScrollEvent(e,t){const{scrollYLoad:n,scrollXLoad:o}=S,{elemStore:l,intoRunScroll:r,lastScrollTop:a,lastScrollLeft:i,inWheelScroll:s,inVirtualScroll:c,inHeaderScroll:u,inBodyScroll:d,scrollRenderType:p,inFooterScroll:m}=E;if(s||c||u||m)return;const g=oe.value,f=ae.value,v=uE(l["left-body-scroll"]),h=uE(l["main-body-scroll"]),b=uE(l["right-body-scroll"]),x=uE(l["main-header-scroll"]),w=uE(l["main-footer-scroll"]),y=J.value;if(r)return;if(!h)return;if(!g)return;if(!f)return;if(d&&p!==t)return;let C=f.scrollTop,D=g.scrollLeft;v&&"left"===t?C=v.scrollTop:b&&"right"===t?C=b.scrollTop:(C=h.scrollTop,D=h.scrollLeft);const T=D!==i,O=C!==a;E.inBodyScroll=!0,E.scrollRenderType=t,O&&("left"===t?($S(h,C),$S(b,C)):"right"===t?($S(h,C),$S(v,C)):($S(v,C),$S(b,C)),$S(f,C),$S(y,C),n&&It.triggerScrollYEvent(e)),T&&(NS(g,D),NS(x,D),NS(w,D),o&&It.triggerScrollXEvent(e)),It.handleScrollEvent(e,O,T,C,D,{type:"body",fixed:t})},triggerHeaderScrollEvent(e,t){const{scrollXLoad:n}=S,{elemStore:o,intoRunScroll:l,inWheelScroll:r,inVirtualScroll:a,inBodyScroll:i,inFooterScroll:s}=E;if(r||a||i||s)return;const c=ae.value,u=oe.value,d=uE(o["main-body-scroll"]),p=uE(o["main-header-scroll"]),m=uE(o["main-footer-scroll"]);if(l)return;if(!p)return;if(!u)return;if(!c)return;const g=c.scrollTop,f=p.scrollLeft;E.inHeaderScroll=!0,NS(u,f),NS(m,f),NS(d,f),n&&It.triggerScrollXEvent(e),It.handleScrollEvent(e,!1,!0,g,f,{type:"header",fixed:t})},triggerFooterScrollEvent(e,t){const{scrollXLoad:n}=S,{elemStore:o,intoRunScroll:l,inWheelScroll:r,inVirtualScroll:a,inHeaderScroll:i,inBodyScroll:s}=E;if(r||a||i||s)return;const c=ae.value,u=oe.value,d=uE(o["main-body-scroll"]),p=uE(o["main-header-scroll"]),m=uE(o["main-footer-scroll"]);if(l)return;if(!m)return;if(!u)return;if(!c)return;const g=c.scrollTop,f=m.scrollLeft;E.inFooterScroll=!0,NS(u,f),NS(p,f),NS(d,f),n&&It.triggerScrollXEvent(e),It.handleScrollEvent(e,!1,!0,g,f,{type:"footer",fixed:t})},triggerBodyWheelEvent(e){const{target:t,deltaY:n,deltaX:o,shiftKey:l}=e;if(t&&/^textarea$/i.test(t.tagName))return;const{highlightHoverRow:r}=pD,{scrollXLoad:a,scrollYLoad:i,expandColumn:s}=S,c=ot.value,u=lt.value;if(!(c||u||s))return;const{elemStore:d,lastScrollTop:m,lastScrollLeft:g}=E,f=Ae.value,v=oe.value,h=ae.value,b=uE(d["left-body-scroll"]),x=uE(d["main-header-scroll"]),w=uE(d["main-body-scroll"]),y=uE(d["main-footer-scroll"]),C=uE(d["right-body-scroll"]),D=J.value;if(!v)return;if(!h)return;if(!w)return;const T=(e=>{let t=1;const n=Date.now();return e+25>n?t=1.18:e+30>n?t=1.15:e+40>n?t=1.12:e+55>n?t=1.09:e+75>n?t=1.06:e+100>n&&(t=1.03),t})(S.lastScrollTime),O=l?0:Math.ceil(n*T),k=l?Math.ceil((l&&n||o)*T):0,R=O<0,I=w.scrollTop;if(R?I<=0:I>=w.scrollHeight-w.clientHeight)return;const P=I+O,F=w.scrollLeft+k,M=F!==g,A=P!==m;if((f.isHover||r)&&It.clearHoverRow(),M)if(e.preventDefault(),E.inWheelScroll=!0,p.firefox||p.safari){const t=F;NS(v,t),NS(w,t),NS(x,t),NS(y,t),a&&It.triggerScrollXEvent(e),It.handleScrollEvent(e,A,M,w.scrollTop,t,{type:"table",fixed:""})}else((e,t)=>{requestAnimationFrame(()=>{t(e)})})(F,t=>{E.inWheelScroll=!0;const n=t;NS(v,n),NS(w,n),NS(x,n),NS(y,n),a&&It.triggerScrollXEvent(e),It.handleScrollEvent(e,A,M,w.scrollTop,n,{type:"table",fixed:""})});if(A)if(e.preventDefault(),E.inWheelScroll=!0,p.firefox||p.safari){const t=P;$S(h,t),$S(w,t),$S(b,t),$S(C,t),$S(D,t),i&&It.triggerScrollYEvent(e),It.handleScrollEvent(e,A,M,t,w.scrollLeft,{type:"table",fixed:""})}else((e,t)=>{const n=Math.abs(e),o=performance.now();let l=0;const r=a=>{let i=(a-o)/n;i>1&&(i=1);const s=Math.pow(i,2),c=Math.floor(e*s)-l;l+=c,t(c),i<1&&requestAnimationFrame(r)};requestAnimationFrame(r)})(P-I,t=>{E.inWheelScroll=!0;const n=w.scrollTop+t;$S(h,n),$S(w,n),$S(b,n),$S(C,n),$S(D,n),i&&It.triggerScrollYEvent(e),It.handleScrollEvent(e,A,M,n,w.scrollLeft,{type:"table",fixed:""})})},triggerVirtualScrollXEvent(e){const{scrollXLoad:t}=S,{elemStore:n,inWheelScroll:o,lastScrollTop:l,inHeaderScroll:r,inBodyScroll:a,inFooterScroll:i}=E;if(r||a||i)return;if(o)return;const s=uE(n["main-header-scroll"]),c=uE(n["main-body-scroll"]),u=uE(n["main-footer-scroll"]),d=ae.value,p=e.currentTarget,{scrollLeft:m}=p,g=d||c;let f=0;g&&(f=g.scrollTop);const v=f!==l;E.inVirtualScroll=!0,NS(c,m),NS(s,m),NS(u,m),t&&It.triggerScrollXEvent(e),It.handleScrollEvent(e,v,!0,f,m,{type:"table",fixed:""})},triggerVirtualScrollYEvent(e){const{scrollYLoad:t}=S,{elemStore:n,inWheelScroll:o,lastScrollLeft:l,inHeaderScroll:r,inBodyScroll:a,inFooterScroll:i}=E;if(r||a||i)return;if(o)return;const s=uE(n["left-body-scroll"]),c=uE(n["main-body-scroll"]),u=uE(n["right-body-scroll"]),d=J.value,p=oe.value,m=e.currentTarget,{scrollTop:g}=m,f=p||c;let v=0;f&&(v=f.scrollLeft);const h=v!==l;E.inVirtualScroll=!0,$S(c,g),$S(s,g),$S(u,g),$S(d,g),t&&It.triggerScrollYEvent(e),It.handleScrollEvent(e,!0,h,g,v,{type:"table",fixed:""})},scrollToTreeRow(t){const{treeConfig:n}=e,{isRowGroupStatus:o}=S,{tableFullData:l}=E,r=[];if(n||o){const e=Ve.value,n=gt.value,a=n.children||n.childrenField,i=np.findTree(l,e=>It.eqRow(e,t),{children:o?e.mapChildrenField:a});if(i){const e=i.nodes;e.forEach((t,n)=>{n<e.length-1&&!It.isTreeExpandByRow(t)&&r.push(It.setTreeExpand(t,!0))})}}return Promise.all(r).then(()=>CE(It,t))},updateScrollYStatus:Fn,updateScrollXSpace(){const{scrollXLoad:e,overflowX:n,scrollXWidth:o}=S,{visibleColumn:l,scrollXStore:r,elemStore:a,fullColumnIdData:i}=E,s=Ze.value,c=N.value;if(c?c.$el:null){const c=uE(a["main-body-scroll"]),u=uE(a["main-body-table"]),d=uE(a["main-header-table"]),p=uE(a["main-footer-table"]);let m=0;const g=l[r.startIndex];if(g){m=(i[g.id]||{}).oLeft}let f=0;c&&(f=c.clientWidth);let v=!1,h=o;o>GD&&(m=c&&u&&c.scrollLeft+f>=GD?GD-u.clientWidth:m/(o-f)*(GD-f),h=GD,v=!0),e&&n||(m=0),d&&(d.style.transform=d.getAttribute("xvm")?`translate(${m}px, 0px)`:""),u&&(u.style.transform=`translate(${m}px, ${S.scrollYTop||0}px)`),p&&(p.style.transform=p.getAttribute("xvm")?`translate(${m}px, 0px)`:"");["main"].forEach(t=>{["header","body","footer"].forEach(n=>{const o=uE(a[`${t}-${n}-xSpace`]);o&&(o.style.width=e?`${h}px`:"")})}),S.scrollXLeft=m,S.scrollXWidth=h,S.isScrollXBig=v;const b=de.value;return b&&(b.style.width=`${h}px`),v&&s.area&&fS("vxe.error.notProp",["mouse-config.area"]),vn(),t().then(()=>{on()})}},updateScrollYSpace(){const{isAllOverflow:e,overflowY:n,scrollYLoad:o,expandColumn:l}=S,{scrollYStore:r,elemStore:a,isResizeCellHeight:i,afterFullData:s,fullAllDataRowIdData:c,rowExpandedMaps:u}=E,{startIndex:d}=r,p=Ze.value,m=mt.value,g=Ae.value,f=Pe.value,v=ke.value,h=uE(a["main-body-scroll"]),b=uE(a["main-body-table"]),x=uE(a["left-body-table"]),w=uE(a["right-body-table"]);let y=0,C=0,D=!1;if(o){if(i||f.height||g.height||l||!e){const e=s[d];let t=US(It,e),n=c[t]||{};y=n.oTop||0;const o=s[s.length-1];t=US(It,o),n=c[t]||{},C=(n.oTop||0)+(n.resizeHeight||f.height||g.height||n.height||v),l&&u[t]&&(C+=n.expandHeight||m.height||0),C>qD&&(D=!0)}else C=s.length*v,C>qD&&(D=!0),y=Math.max(0,d*v)}else b&&(C=b.clientHeight);let T=0;h&&(T=h.clientHeight);let O=C,k=y;D&&(k=h&&b&&h.scrollTop+T>=qD?qD-b.clientHeight:y/(C-T)*(qD-T),O=qD),o&&n||(k=0),x&&(x.style.transform=`translate(0px, ${k}px)`),b&&(b.style.transform=`translate(${S.scrollXLeft||0}px, ${k}px)`),w&&(w.style.transform=`translate(0px, ${k}px)`),["main","left","right"].forEach(e=>{["header","body","footer"].forEach(t=>{const n=uE(a[`${e}-${t}-ySpace`]);n&&(n.style.height=O?`${O}px`:"")})});const R=pe.value;R&&(R.style.height=O?`${O}px`:"");const I=ee.value;return I&&(I.style.height=O?`${O}px`:""),S.scrollYTop=k,S.scrollYHeight=C,S.isScrollYBig=D,D&&p.area&&fS("vxe.error.notProp",["mouse-config.area"]),vn(),t().then(()=>{on()})},updateScrollXData(){const{isAllOverflow:e}=S;return Dn(),It.updateScrollXSpace(),t().then(()=>{Dn(),It.updateScrollXSpace(),e||It.updateScrollYSpace()})},updateScrollYData:()=>(It.handleTableData(),It.updateScrollYSpace(),t().then(()=>{It.handleTableData(),It.updateScrollYSpace()})),checkScrolling(){const{elemStore:e}=E,t=uE(e["main-body-scroll"]),n=q.value,o=G.value,l=oe.value||t;l&&(n&&(l.scrollLeft>0?RS(n,"scrolling--middle"):kS(n,"scrolling--middle")),o&&(l.clientWidth<l.scrollWidth-Math.ceil(l.scrollLeft)?RS(o,"scrolling--middle"):kS(o,"scrolling--middle")))},handleUpdateAggData:()=>Cn(E.tableSynchData,!0),updateZindex(){e.zIndex?E.tZindex=e.zIndex:E.tZindex<PC()&&(E.tZindex=IC())},handleCheckedCheckboxRow:cn,triggerHoverEvent(e,{row:t}){T.setHoverRow(t)},setHoverRow(e){const t=US(It,e),n=O.value;T.clearHoverRow(),n&&np.arrayEach(n.querySelectorAll(`.vxe-body--row[rowid="${t}"]`),e=>RS(e,"row--hover")),E.hoverRow=e},clearHoverRow(){const e=O.value;e&&np.arrayEach(e.querySelectorAll(".vxe-body--row.row--hover"),e=>kS(e,"row--hover")),E.hoverRow=null},getCell:(e,t)=>D.getCellElement(e,t),findRowIndexOf:(e,t)=>t?np.findIndexOf(e,e=>It.eqRow(e,t)):-1,eqRow:(e,t)=>!(!e||!t)&&(e===t||US(It,e)===US(It,t))},"openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print".split(",").forEach(e=>{It[e]=function(){fS("vxe.error.reqModule",["Export"])}}),"clearValidate,fullValidate,validate".split(",").forEach(e=>{It[e]=function(){fS("vxe.error.reqModule",["Validator"])}}),Object.assign(It,D,T);const uo=t=>{const{showHeader:n,showFooter:o}=e,{tableData:l,tableColumn:r,tableGroupColumn:a,columnStore:i,footerTableData:s}=S,c="left"===t,u=c?i.leftList:i.rightList;return y("div",{ref:c?q:G,class:`vxe-table--fixed-${t}-wrapper`},[n?y(aD,{ref:c?_:j,fixedType:t,tableData:l,tableColumn:r,tableGroupColumn:a,fixedColumn:u}):jD(It),y(nD,{ref:c?B:H,fixedType:t,tableData:l,tableColumn:r,fixedColumn:u}),o?y(uD,{ref:c?z:W,footerTableData:s,tableColumn:r,fixedColumn:u,fixedType:t}):jD(It)])},po=()=>{const t=ft.value,n=l.empty,o={$table:It,$grid:me};if(n)return n(o);{const e=t.name?MD.get(t.name):null,n=e?e.renderTableEmpty||e.renderTableEmptyView||e.renderEmpty:null;if(n)return OE(n(t,o))}return MC(e.emptyText)||FD("vxe.table.emptyText")},mo=()=>{const{dragConfig:t}=e,{dragRow:n,dragCol:o,dragTipText:l}=S,r=_e.value,a=(Le.value.slots||{}).tip||(t&&t.slots?t.slots.rowTip:null),i=(r.slots||{}).tip;return n&&a?co(a,{row:n}):o&&i?co(i,{column:o}):[y("span",l)]},go=()=>{const{dragRow:e,dragCol:t}=S,n=Ae.value,o=Re.value,l=Le.value,r=_e.value;return n.drag||o.drag?y("div",{class:"vxe-table--drag-wrapper"},[y("div",{ref:Z,class:["vxe-table--drag-row-line",{"is--guides":l.showGuidesStatus}]}),y("div",{ref:Q,class:["vxe-table--drag-col-line",{"is--guides":r.showGuidesStatus}]}),e&&l.showDragTip||t&&r.showDragTip?y("div",{ref:X,class:"vxe-table--drag-sort-tip"},[y("div",{class:"vxe-table--drag-sort-tip-wrapper"},[y("div",{class:"vxe-table--drag-sort-tip-status"},[y("span",{class:["vxe-table--drag-sort-tip-normal-status",e?PD().TABLE_DRAG_STATUS_ROW:PD().TABLE_DRAG_STATUS_COLUMN]}),y("span",{class:["vxe-table--drag-sort-tip-sub-status",PD().TABLE_DRAG_STATUS_SUB_ROW]}),y("span",{class:["vxe-table--drag-sort-tip-disabled-status",PD().TABLE_DRAG_DISABLED]})]),y("div",{class:"vxe-table--drag-sort-tip-content"},mo())])]):jD(It)]):jD(It)},fo=()=>{const{treeConfig:t}=e,{expandColumn:n,isRowGroupStatus:o}=S,l=xt.value,r=mt.value,{mode:a}=r;if("fixed"!==a)return jD(It);const i=[y("div",{key:"repY",ref:ee})];if(n){const{handleGetRowId:e}=YS(It);l.forEach(l=>{const r=mt.value,{height:a,padding:s,indent:c}=r,{fullAllDataRowIdData:u,fullColumnIdData:d}=E,p=gt.value,{transform:m,seqMode:g}=p,f={},v=e(l),h=u[v],b=d[n.id]||{};let x=0,w=-1,C=-1,S=-1,D=-1;h&&(x=h.level,w=o||t&&m&&"increasing"===g?h._index+1:h.seq,S=h.index,D=h.$index,C=h._index),a&&(f.height=`${a}px`),(o||t)&&(f.paddingLeft=x*(np.isNumber(c)?c:p.indent)+30+"px");let T=-1,O=-1,k=-1;b&&(T=b.index,O=b.$index,k=b._index);const R={$grid:me,$table:It,seq:w,column:n,columnIndex:T,$columnIndex:O,_columnIndex:k,fixed:"",type:"body",level:x,rowid:v,row:l,rowIndex:S,$rowIndex:D,_rowIndex:C,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};i.push(y("div",{key:v,class:["vxe-body--row-expanded-cell",{"is--padding":s,"is--ellipsis":a}],rowid:v,style:f},n.renderData(R)))})}return y("div",{ref:J,class:"vxe-table--row-expanded-wrapper"},i)},vo=()=>y("div",{key:"vsx",ref:te,class:"vxe-table--scroll-x-virtual"},[y("div",{ref:le,class:"vxe-table--scroll-x-left-corner"}),y("div",{ref:se,class:"vxe-table--scroll-x-wrapper"},[y("div",{ref:oe,class:"vxe-table--scroll-x-handle",onScroll:It.triggerVirtualScrollXEvent},[y("div",{ref:de,class:"vxe-table--scroll-x-space"})])]),y("div",{ref:re,class:"vxe-table--scroll-x-right-corner"})]),ho=()=>y("div",{ref:ne,class:"vxe-table--scroll-y-virtual"},[y("div",{ref:ie,class:"vxe-table--scroll-y-top-corner"}),y("div",{ref:ce,class:"vxe-table--scroll-y-wrapper"},[y("div",{ref:ae,class:"vxe-table--scroll-y-handle",onScroll:It.triggerVirtualScrollYEvent},[y("div",{ref:pe,class:"vxe-table--scroll-y-space"})])]),y("div",{ref:ue,class:"vxe-table--scroll-y-bottom-corner"})]),bo=()=>{const{showHeader:t,showFooter:n}=e,{overflowX:o,tableData:l,tableColumn:r,tableGroupColumn:a,footerTableData:i,columnStore:s}=S,{leftList:c,rightList:u}=s;return y("div",{ref:V,class:"vxe-table--viewport-wrapper"},[y("div",{class:"vxe-table--main-wrapper"},[t?y(aD,{ref:$,tableData:l,tableColumn:r,tableGroupColumn:a}):jD(It),y(nD,{ref:N,tableData:l,tableColumn:r}),n?y(uD,{ref:L,footerTableData:i,tableColumn:r}):jD(It)]),y("div",{class:"vxe-table--fixed-wrapper"},[c&&c.length&&o?uo("left"):jD(It),u&&u.length&&o?uo("right"):jD(It)]),fo()])},xo=()=>{const e=De.value;return y("div",{class:"vxe-table--layout-wrapper"},e?[ho(),bo()]:[bo(),ho()])},wo=r(0);i(()=>e.data?e.data.length:-1,()=>{wo.value++}),i(()=>e.data,()=>{wo.value++}),i(wo,()=>{const{initStatus:t}=E,n=e.data||[];n&&n.length>=5e4&&gS("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),Cn(n,!1).then(()=>{const{scrollXLoad:e,scrollYLoad:n,expandColumn:o}=S,l=mt.value;return E.inited=!0,E.initStatus=!0,t||Sn(),(e||n)&&o&&"fixed"!==l.mode&&gS("vxe.error.scrollErrProp",["column.type=expand"]),D.recalculate()})});const yo=r(0);i(()=>S.staticColumns.length,()=>{yo.value++}),i(()=>S.staticColumns,()=>{yo.value++}),i(yo,()=>{In(np.clone(S.staticColumns))});const Co=r(0);i(()=>S.tableColumn.length,()=>{Co.value++}),i(()=>S.tableColumn,()=>{Co.value++}),i(Co,()=>{T.analyColumnWidth()}),i(()=>S.upDataFlag,()=>{t(()=>{D.updateData()})}),i(()=>S.reColumnFlag,()=>{t(()=>{D.refreshColumn()})});const So=r(0);i(C,()=>{So.value++}),i(()=>e.showHeader,()=>{So.value++}),i(()=>e.showFooter,()=>{So.value++}),i(()=>S.overflowX,()=>{So.value++}),i(()=>S.overflowY,()=>{So.value++}),i(So,()=>{t(()=>{D.recalculate(!0).then(()=>D.refreshScroll())})});const Eo=r(0);i(()=>e.height,()=>{Eo.value++}),i(()=>e.maxHeight,()=>{Eo.value++}),i(Ee,()=>{Eo.value++}),i(De,()=>{Eo.value++}),i(()=>Im.getLanguage(),()=>{Eo.value++}),i(Eo,()=>{t(()=>D.recalculate(!0))});const Do=r(0);i(()=>e.footerData?e.footerData.length:-1,()=>{Do.value++}),i(()=>e.footerData,()=>{Do.value++}),i(Do,()=>{D.updateFooter()}),i(()=>e.syncResize,e=>{e&&(Bn(),t(()=>{Bn(),setTimeout(()=>Bn())}))});const To=r(0);i(()=>e.mergeCells?e.mergeCells.length:-1,()=>{To.value++}),i(()=>e.mergeCells,()=>{To.value++}),i(To,()=>{D.clearMergeCells(),t(()=>{e.mergeCells&&D.setMergeCells(e.mergeCells)})});const Oo=r(0);let ko;return i(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{Oo.value++}),i(()=>e.mergeFooterItems,()=>{Oo.value++}),i(Oo,()=>{D.clearMergeFooterItems(),t(()=>{e.mergeFooterItems&&D.setMergeFooterItems(e.mergeFooterItems)})}),i(Tt,e=>{xn(e)}),i(ve,()=>{const{inited:e,tableFullData:n}=E;e&&(Ft(),S.tableData=[],t(()=>{It.reloadData(n)}))}),w&&i(()=>w?w.reactData.resizeFlag:null,()=>{to()}),Ft(),LD.forEach(e=>{const{setupTable:t}=e;if(t){const e=t(It);e&&np.isObject(e)&&Object.assign(It,e)}}),T.preventEvent(null,"created",{$table:It}),u(()=>{D.recalculate().then(()=>D.refreshScroll()),T.preventEvent(null,"activated",{$table:It})}),c(()=>{E.isActivated=!1,T.preventEvent(null,"deactivated",{$table:It})}),f(()=>{const n=Re.value,o=Ae.value,l=bt.value,r=Ve.value,a=Ce.value,{groupFields:i}=r;if((n.drag||o.drag||l.allowSort)&&yS(),xn(i),t(()=>{const{data:t,exportConfig:o,importConfig:l,treeConfig:r,showOverflow:a,highlightCurrentRow:i,highlightCurrentColumn:s}=e,{scrollXStore:c,scrollYStore:u}=E,d=Ke.value,p=gt.value,m=He.value,g=We.value,f=mt.value,v=Ae.value,h=bt.value,b=Ze.value,x=ut.value,w=dt.value,y=Ne.value,C=Ie.value,S=Je.value,k=Ve.value;if(e.rowId&&gS("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&gS("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&gS("vxe.error.delProp",["column-id","column-config.useKey"]),e.rowId||v.keyField||!(g.reserve||g.checkRowKeys||m.reserve||m.checkRowKey||f.expandRowKeys||p.expandRowKeys)||gS("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(d.showStatus||d.showUpdateStatus||d.showInsertStatus)&&!e.keepSource&&gS("vxe.error.reqProp",["keep-source"]),r&&(p.showLine||p.line)&&!a&&gS("vxe.error.reqProp",["show-overflow"]),r&&!p.transform&&e.stripe&&gS("vxe.error.noTree",["stripe"]),!e.showFooter||e.footerMethod||e.footerData||gS("vxe.error.reqProp",["footer-data | footer-method"]),v.height&&gS("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&gS("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&gS("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&gS("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&gS("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),e.resizable&&gS("vxe.error.delProp",["resizable","column-config.resizable"]),l&&w.types&&!w.importMethod&&!np.includeArrays(np.keys(w._typeMaps),w.types)&&gS("vxe.error.errProp",[`export-config.types=${w.types.join(",")}`,w.types.filter(e=>np.includes(np.keys(w._typeMaps),e)).join(",")||np.keys(w._typeMaps).join(",")]),o&&x.types&&!x.exportMethod&&!np.includeArrays(np.keys(x._typeMaps),x.types)&&gS("vxe.error.errProp",[`export-config.types=${x.types.join(",")}`,x.types.filter(e=>np.includes(np.keys(x._typeMaps),e)).join(",")||np.keys(x._typeMaps).join(",")]),e.id||(e.customConfig?OC(h):h.enabled)&&h.storage&&fS("vxe.error.reqProp",["id"]),e.treeConfig&&g.range&&fS("vxe.error.noTree",["checkbox-config.range"]),v.height&&!e.showOverflow&&gS("vxe.error.notProp",["table.show-overflow"]),It.triggerCellAreaMousedownEvent||(e.areaConfig&&gS("vxe.error.notProp",["area-config"]),e.clipConfig&&gS("vxe.error.notProp",["clip-config"]),e.fnrConfig&&gS("vxe.error.notProp",["fnr-config"]),!b.area)){if(!It.handlePivotTableAggregateData){if(h.allowGroup)return void fS("vxe.error.notProp",["custom-config.allowGroup"]);if(h.allowValues)return void fS("vxe.error.notProp",["custom-config.allowValues"])}if(r&&v.drag&&!p.transform&&fS("vxe.error.notSupportProp",["column-config.drag","tree-config.transform=false","tree-config.transform=true"]),e.dragConfig&&gS("vxe.error.delProp",["drag-config","row-drag-config"]),e.rowGroupConfig&&gS("vxe.error.delProp",["row-group-config","aggregate-config"]),k.countFields&&gS("vxe.error.delProp",["row-group-config.countFields","column.agg-func"]),k.aggregateMethod&&gS("vxe.error.delProp",["row-group-config.aggregateMethod","aggregate-config.countMethod"]),e.treeConfig&&p.children&&gS("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&p.line&&gS("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),b.area&&b.selected&&gS("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),b.area&&e.treeConfig&&!p.transform&&fS("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&d.activeMethod&&gS("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&g.isShiftKey&&fS("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),g.halfField&&gS("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),v.currentMethod&&gS("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),n.currentMethod&&gS("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),(v.isCurrent||i)&&e.keyboardConfig&&S.isArrow&&!np.isBoolean(y.isFollowSelected)&&gS("vxe.error.notConflictProp",["row-config.isCurrent","current-row-config.isFollowSelected"]),(n.isCurrent||s)&&e.keyboardConfig&&S.isArrow&&!np.isBoolean(C.isFollowSelected)&&gS("vxe.error.notConflictProp",["column-config.isCurrent","current-column-config.isFollowSelected"]),e.editConfig&&!It.insert&&fS("vxe.error.reqModule",["Edit"]),e.editRules&&!It.validate&&fS("vxe.error.reqModule",["Validator"]),(g.range||e.keyboardConfig||e.mouseConfig)&&!It.handleCellMousedownEvent&&fS("vxe.error.reqModule",["Keyboard"]),(e.printConfig||e.importConfig||e.exportConfig)&&!It.exportData&&fS("vxe.error.reqModule",["Export"]),Object.assign(u,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(c,{startIndex:0,endIndex:0,visibleSize:0}),Cn(t||[],!0).then(()=>{t&&t.length&&(E.inited=!0,E.initStatus=!0,Sn()),En(),on()}),e.autoResize){const t=O.value,n=T.getParentElem();ko=$D.create(()=>{e.autoResize&&D.recalculate(!0)}),t&&ko.observe(t),n&&ko.observe(n)}}else fS("vxe.error.notProp",["mouse-config.area"])}),"scroll"!==a.mode){const e=V.value;e&&e.addEventListener("wheel",It.triggerBodyWheelEvent,{passive:!1})}_D.on(It,"paste",Qn),_D.on(It,"copy",Jn),_D.on(It,"cut",eo),_D.on(It,"mousedown",Un),_D.on(It,"blur",Kn),_D.on(It,"mousewheel",Yn),_D.on(It,"keydown",Zn),_D.on(It,"resize",to),_D.on(It,"contextmenu",It.handleGlobalContextmenuEvent),T.preventEvent(null,"mounted",{$table:It})}),s(()=>{const e=V.value;e&&e.removeEventListener("wheel",It.triggerBodyWheelEvent),E.cvCacheMaps={},E.prevDragRow=null,E.prevDragCol=null,ko&&ko.disconnect(),D.closeFilter(),It.closeMenu&&It.closeMenu(),T.preventEvent(null,"beforeUnmount",{$table:It})}),v(()=>{_D.off(It,"paste"),_D.off(It,"copy"),_D.off(It,"cut"),_D.off(It,"mousedown"),_D.off(It,"blur"),_D.off(It,"mousewheel"),_D.off(It,"keydown"),_D.off(It,"resize"),_D.off(It,"contextmenu"),T.preventEvent(null,"unmounted",{$table:It})}),t(()=>{e.loading&&(h||l.loading||fS("vxe.error.reqComp",["vxe-loading"])),(!0===e.showOverflow||"tooltip"===e.showOverflow||!0===e.showHeaderOverflow||"tooltip"===e.showHeaderOverflow||!0===e.showFooterOverflow||"tooltip"===e.showFooterOverflow||e.tooltipConfig||e.editRules)&&(x||fS("vxe.error.reqComp",["vxe-tooltip"]))}),b("$xeColgroup",null),b("$xeTable",It),It.renderVN=()=>{const{loading:t,stripe:n,showHeader:o,height:r,treeConfig:a,mouseConfig:i,showFooter:s,highlightCell:c,highlightHoverRow:u,highlightHoverColumn:p,editConfig:m,editRules:g}=e,{isGroup:f,overflowX:v,overflowY:b,scrollXLoad:w,scrollYLoad:E,tableData:D,initStore:T,isRowGroupStatus:V,columnStore:$,filterStore:N,customStore:L}=S,{leftList:_,rightList:B}=$,z=l.loading,j=Ge.value,H=Ue.value,W=he.value,q=We.value,G=gt.value,X=Ae.value,Z=Re.value,Q=C.value,J=St.value,ee=Ze.value,te=Qe.value,ne=vt.value,oe=st.value,le=S.isColLoading||S.isRowLoading||t,re=ze.value,ae=i&&ee.area,ie=_e.value,se=Ee.value,ce=De.value;return y("div",{ref:O,class:["vxe-table","vxe-table--render-default",`tid_${d}`,`border--${J}`,"sx-pos--"+(se?"top":"bottom"),"sy-pos--"+(ce?"left":"right"),{[`size--${Q}`]:Q,[`valid-msg--${W.msgMode}`]:!!g,"vxe-editable":!!m,"old-cell-valid":g&&"obsolete"===ID().cellVaildMode,"cell--highlight":c,"cell--selected":i&&ee.selected,"cell--area":ae,"header-cell--area":ae&&te.selectCellByHeader,"body-cell--area":ae&&te.selectCellByBody,"row--highlight":X.isHover||u,"column--highlight":Z.isHover||p,"checkbox--range":q.range,"col--drag-cell":Z.drag&&"cell"===ie.trigger,"is--header":o,"is--footer":s,"is--group":f,"is-row-group":V,"is--tree-line":a&&(G.showLine||G.line),"is--fixed-left":_.length,"is--fixed-right":B.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!a&&n,"is--loading":le,"is--empty":!le&&!D.length,"is--scroll-y":b,"is--scroll-x":v,"is--virtual-x":w,"is--virtual-y":E}],spellcheck:!1,onKeydown:Xn},[y("div",{class:"vxe-table-slots"},l.default?l.default({}):[]),y("div",{ref:k,class:"vxe-table-vars"},[y("div",{class:"vxe-table-var-default"}),y("div",{class:"vxe-table-var-medium"}),y("div",{class:"vxe-table-var-small"}),y("div",{class:"vxe-table-var-mini"})]),y("div",{key:"tw",class:"vxe-table--render-wrapper"},se?[vo(),xo()]:[xo(),vo()]),y("div",{key:"tn",ref:Y,class:"vxe-table--empty-placeholder"},[y("div",{class:"vxe-table--empty-content"},po())]),y("div",{key:"tl",class:"vxe-table--border-line"}),y("div",{key:"tcl",ref:U,class:"vxe-table--resizable-col-bar"},re.showDragTip?[y("div",{class:"vxe-table--resizable-number-tip"})]:[]),y("div",{key:"trl",ref:K,class:"vxe-table--resizable-row-bar"},re.showDragTip?[y("div",{class:"vxe-table--resizable-number-tip"})]:[]),h?y(h,{key:"lg",class:"vxe-table--loading",modelValue:le,icon:ne.icon,text:ne.text},z?{default:()=>co(z,{$table:It,$grid:me,loading:le})}:{}):z?y("div",{class:["vxe-loading--custom-wrapper",{"is--visible":le}]},co(z,{$table:It,$grid:me,loading:le})):jD(It),T.custom?y(hD,{key:"cs",ref:A,customStore:L}):jD(It),T.filter?y(yD,{key:"tf",ref:M,filterStore:N}):jD(It),T.import&&e.importConfig?y(ED,{key:"it",defaultOptions:S.importParams,storeData:S.importStore}):jD(It),T.export&&(e.exportConfig||e.printConfig)?y(OD,{key:"et",defaultOptions:S.exportParams,storeData:S.exportStore}):jD(It),oe?y(RD,{key:"tm",ref:F}):jD(It),go(),x?y("div",{},[y(x,{key:"ctp",ref:I,isArrow:!1,enterable:!1}),y(x,{key:"btp",ref:R,theme:j.theme,enterable:j.enterable,enterDelay:j.enterDelay,leaveDelay:j.leaveDelay,useHTML:j.useHTML}),e.editRules&&W.showMessage&&("default"===W.message?!r:"tooltip"===W.message)?y(x,{key:"vtp",ref:P,class:[{"old-cell-valid":g&&"obsolete"===ID().cellVaildMode},"vxe-table--valid-error"],theme:H.theme,enterable:H.enterable,enterDelay:H.enterDelay,leaveDelay:H.leaveDelay}):jD(It)]):jD(It)])},It},render(){return this.renderVN()}}),{getConfig:KD,getIcon:YD,getI18n:XD,renderer:ZD,commands:QD,createEvent:JD,useFns:eT}=Im,tT=dS({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],refreshOptions:Object,import:[Boolean,Object],importOptions:Object,export:[Boolean,Object],exportOptions:Object,print:[Boolean,Object],printOptions:Object,zoom:[Boolean,Object],zoomOptions:Object,custom:[Boolean,Object],customOptions:Object,buttons:{type:Array,default:()=>KD().toolbar.buttons},tools:{type:Array,default:()=>KD().toolbar.tools},perfect:{type:Boolean,default:()=>KD().toolbar.perfect},size:{type:String,default:()=>KD().toolbar.size||KD().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,o){const{slots:l,emit:a}=o,i=np.uniqueId(),s=Im.getComponent("VxeButton"),{computeSize:c}=eT.useSize(e),u=m({isRefresh:!1,connectFlag:0,columns:[]}),d={connectTable:null},p=r(),f={refElem:p},v={xID:i,props:e,context:o,reactData:u,internalData:d,getRefMaps:()=>f};let h={};const b=n("$xeGrid",null),w=g(()=>Object.assign({},np.clone(KD().toolbar.refresh,!0),e.refreshOptions,e.refresh)),C=g(()=>Object.assign({},np.clone(KD().toolbar.import,!0),e.importOptions,e.import)),S=g(()=>Object.assign({},np.clone(KD().toolbar.export,!0),e.exportOptions,e.export)),E=g(()=>Object.assign({},np.clone(KD().toolbar.print,!0),e.printOptions,e.print)),D=g(()=>Object.assign({},np.clone(KD().toolbar.zoom,!0),e.zoomOptions,e.zoom)),T=g(()=>Object.assign({},np.clone(KD().toolbar.custom,!0),e.customOptions,e.custom)),O=g(()=>{const{connectTable:e}=d,t=e;if((u.connectFlag||t)&&t){const{computeCustomOpts:e}=t.getComputeMaps();return e.value}return{trigger:""}}),k=g(()=>O.value.trigger),R=()=>{const{connectTable:e}=d;if(e)return!0;fS("vxe.error.barUnableLink")},I=({$event:e})=>{const{connectTable:t}=d,n=t;n&&n.triggerCustomEvent&&n.triggerCustomEvent(e)},P=({$event:e})=>{const{connectTable:t}=d;t&&t.customOpenEvent(e)},F=({$event:e})=>{const{connectTable:t}=d,n=t;if(n){const{customStore:t}=n.reactData;t.activeBtn=!1,setTimeout(()=>{t.activeBtn||t.activeWrapper||n.customCloseEvent(e)},350)}},M=({$event:e})=>{const{isRefresh:t}=u,n=w.value;if(!t){const t=n.queryMethod||n.query;if(t){u.isRefresh=!0;try{Promise.resolve(t({})).catch(e=>e).then(()=>{u.isRefresh=!1})}catch(o){u.isRefresh=!1}}else b&&(u.isRefresh=!0,b.triggerToolbarCommitEvent({code:n.code||"reload"},e).catch(e=>e).then(()=>{u.isRefresh=!1}))}},A=({$event:e})=>{b?b.triggerZoomEvent(e):gS("vxe.error.notProp",["zoom"])},V=()=>{if(R()){const{connectTable:e}=d;e&&e.openImport()}},$=()=>{if(R()){const{connectTable:e}=d;e&&e.openExport()}},N=()=>{if(R()){const{connectTable:e}=d;e&&e.openPrint()}},L=(e,t,n)=>{switch(t.code){case"print":(()=>{if(R()){const{connectTable:e}=d;e&&e.print()}})();break;case"open_print":N();break;case"custom":I(e);break;case"export":(()=>{if(R()){const{connectTable:e}=d;e&&e.exportData()}})();break;case"open_export":$();break;case"import":(()=>{if(R()){const{connectTable:e}=d;e&&e.importData()}})();break;case"open_import":V();break;case"zoom":A(e);break;case"refresh":M(e);break;default:n()}},_=(e,t)=>{const{$event:n}=e,{connectTable:o}=d,l=o,{code:r}=t;r&&L(e,t,()=>{if(b)b.triggerToolbarBtnEvent(t,n);else{const e=QD.get(r),o={code:r,button:t,$table:l,$grid:b,$event:n};if(e){const t=e.tableCommandMethod||e.commandMethod;t?t(o):fS("vxe.error.notCommands",[r])}v.dispatchEvent("button-click",o,n)}})},B=(e,t)=>{const{$event:n}=e,{connectTable:o}=d,l=o,{code:r}=t;r&&L(e,t,()=>{if(b)b.triggerToolbarTolEvent(t,n);else{const e=QD.get(r),o={code:r,button:null,tool:t,$table:l,$grid:b,$event:n};if(e){const t=e.tableCommandMethod||e.commandMethod;t?t(o):fS("vxe.error.notCommands",[r])}v.dispatchEvent("tool-click",o,n)}})};h={dispatchEvent:(e,t,n)=>{a(e,JD(n,{$toolbar:v},t))},syncUpdate(e){d.connectTable=e.$table,u.columns=e.collectColumn,u.connectFlag++}},Object.assign(v,h);const z=(e,t)=>{const{dropdowns:n}=e;return n?n.map((e,n)=>!1===e.visible?x():s?y(s,{key:n,disabled:e.disabled,loading:e.loading,type:e.type,mode:e.mode,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,title:e.title,routerLink:e.routerLink,permissionCode:e.permissionCode,prefixTooltip:e.prefixTooltip,suffixTooltip:e.suffixTooltip,onClick:n=>t?_(n,e):B(n,e)}):x()):[]},j=()=>{const{buttons:t}=e,{connectTable:n}=d,o=n,r=l.buttonPrefix||l["button-prefix"],a=l.buttonSuffix||l["button-suffix"],i=[];return r&&i.push(...OE(r({buttons:t||[],$grid:b,$table:o}))),t&&t.forEach((e,t)=>{const{dropdowns:n,buttonRender:l}=e;if(!1!==e.visible){const r=l?ZD.get(l.name):null;if(l&&r&&r.renderToolbarButton){const n=r.toolbarButtonClassName,a={$grid:b,$table:o,button:e};i.push(y("span",{key:`br${e.code||t}`,class:["vxe-button--item",n?np.isFunction(n)?n(a):n:""]},OE(r.renderToolbarButton(l,a))))}else s&&i.push(y(s,{key:`bd${e.code||t}`,disabled:e.disabled,loading:e.loading,type:e.type,mode:e.mode,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,title:e.title,routerLink:e.routerLink,permissionCode:e.permissionCode,prefixTooltip:e.prefixTooltip,suffixTooltip:e.suffixTooltip,destroyOnClose:e.destroyOnClose,placement:e.placement,transfer:e.transfer,onClick:t=>_(t,e)},n&&n.length?{dropdowns:()=>z(e,!0)}:{}))}}),a&&i.push(...OE(a({buttons:t||[],$grid:b,$table:o}))),i},H=()=>{const{tools:t}=e,{connectTable:n}=d,o=n,r=l.toolPrefix||l["tool-prefix"],a=l.toolSuffix||l["tool-suffix"],i=[];return r&&i.push(...OE(r({tools:t||[],$grid:b,$table:o}))),t&&t.forEach((e,t)=>{const{dropdowns:n,toolRender:l}=e;if(!1!==e.visible){const r=l?l.name:null,a=l?ZD.get(r):null;if(l&&a&&a.renderToolbarTool){const t=a.toolbarToolClassName,n={$grid:b,$table:o,tool:e};i.push(y("span",{key:r,class:["vxe-tool--item",t?np.isFunction(t)?t(n):t:""]},OE(a.renderToolbarTool(l,n))))}else s&&i.push(y(s,{key:t,disabled:e.disabled,loading:e.loading,type:e.type,mode:e.mode,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,title:e.title,routerLink:e.routerLink,permissionCode:e.permissionCode,prefixTooltip:e.prefixTooltip,suffixTooltip:e.suffixTooltip,destroyOnClose:e.destroyOnClose,placement:e.placement,transfer:e.transfer,onClick:t=>B(t,e)},n&&n.length?{dropdowns:()=>z(e,!1)}:{}))}}),a&&i.push(...OE(a({tools:t||[],$grid:b,$table:o}))),i},W=()=>{const e=C.value;return s?y(s,{key:"import",circle:!0,icon:e.icon||YD().TOOLBAR_TOOLS_IMPORT,title:XD("vxe.toolbar.import"),onClick:V}):x()},q=()=>{const e=S.value;return s?y(s,{key:"export",circle:!0,icon:e.icon||YD().TOOLBAR_TOOLS_EXPORT,title:XD("vxe.toolbar.export"),onClick:$}):x()},G=()=>{const e=E.value;return s?y(s,{key:"print",circle:!0,icon:e.icon||YD().TOOLBAR_TOOLS_PRINT,title:XD("vxe.toolbar.print"),onClick:N}):x()},U=()=>{const e=w.value;return s?y(s,{key:"refresh",circle:!0,icon:u.isRefresh?e.iconLoading||YD().TOOLBAR_TOOLS_REFRESH_LOADING:e.icon||YD().TOOLBAR_TOOLS_REFRESH,title:XD("vxe.toolbar.refresh"),onClick:M}):x()},K=()=>{const e=D.value;return b&&s?y(s,{key:"zoom",circle:!0,icon:b.isMaximized()?e.iconOut||YD().TOOLBAR_TOOLS_MINIMIZE:e.iconIn||YD().TOOLBAR_TOOLS_FULLSCREEN,title:XD("vxe.toolbar.zoom"+(b.isMaximized()?"Out":"In")),onClick:A}):x()},Y=()=>{const e=T.value,t=k.value,n={};return"manual"===t||("hover"===t?(n.onMouseenter=P,n.onMouseleave=F):n.onClick=I),s?y(s,Object.assign({key:"custom",circle:!0,icon:e.icon||YD().TOOLBAR_TOOLS_CUSTOM,title:XD("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},n)):x()};return v.renderVN=()=>{const{perfect:t,loading:n,refresh:o,zoom:r,custom:a,className:i}=e,{connectTable:s}=d,u=c.value,m=l.tools,g=l.buttons,f=s;return y("div",{ref:p,class:["vxe-toolbar",i?np.isFunction(i)?i({$toolbar:v}):i:"",{[`size--${u}`]:u,"is--perfect":t,"is--loading":n}]},[y("div",{class:"vxe-buttons--wrapper"},g?g({$grid:b,$table:f}):j()),y("div",{class:"vxe-tools--wrapper"},m?m({$grid:b,$table:f}):H()),y("div",{class:"vxe-tools--operate"},[e.import?W():x(),e.export?q():x(),e.print?G():x(),o?U():x(),r&&b?K():x(),a?Y():x()])])},t(()=>{const t=w.value,n=t.queryMethod||t.query;!e.refresh||b||n||gS("vxe.error.notFunc",["queryMethod"]),np.isPlainObject(e.custom)&&gS("vxe.error.delProp",["custom={...}","custom=boolean & custom-options={...}"]),np.isPlainObject(e.print)&&gS("vxe.error.delProp",["print={...}","print=boolean & print-options={...}"]),np.isPlainObject(e.export)&&gS("vxe.error.delProp",["export={...}","export=boolean & export-options={...}"]),np.isPlainObject(e.import)&&gS("vxe.error.delProp",["import={...}","import=boolean & import-options={...}"]),np.isPlainObject(e.refresh)&&gS("vxe.error.delProp",["refresh={...}","refresh=boolean & refresh-options={...}"]),np.isPlainObject(e.refresh)&&gS("vxe.error.delProp",["zoom={...}","zoom=boolean & zoom-options={...}"]);const o=T.value;o.isFooter&&gS("vxe.error.delProp",["toolbar.custom.isFooter","table.custom-config.showFooter"]),o.showFooter&&gS("vxe.error.delProp",["toolbar.custom.showFooter","table.custom-config.showFooter"]),o.immediate&&gS("vxe.error.delProp",["toolbar.custom.immediate","table.custom-config.immediate"]),o.trigger&&gS("vxe.error.delProp",["toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(s||fS("vxe.error.reqComp",["vxe-button"]))}),v},render(){return this.renderVN()}}),{getConfig:nT,getI18n:oT,commands:lT,hooks:rT,useFns:aT,createEvent:iT,globalEvents:sT,GLOBAL_EVENT_KEYS:cT,renderEmptyElement:uT}=Im,dT=Object.keys(pD),pT=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeRowChildren","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","sort","setSort","clearSort","clearSortByEvent","isSort","getSortColumns","closeFilter","isFilter","clearFilterByEvent","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","setRowGroupExpand","setAllRowGroupExpand","clearRowGroupExpand","isRowGroupExpandByRow","isRowGroupRecord","isAggregateRecord","isAggregateExpandByRow","getAggregateContentByRow","getAggregateRowChildren","setRowGroups","clearRowGroups","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect"],mT=[...mD,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],gT=dS({name:"VxeGrid",props:Object.assign(Object.assign({},pD),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>nT().grid.size||nT().size}}),emits:mT,setup(e,n){var o;const{slots:l,emit:a}=n,s=np.uniqueId(),c=Im.getComponent("VxeForm"),u=Im.getComponent("VxePager"),d=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:p}=aT.useSize(e),h=m({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:(null===(o=nT().pager)||void 0===o?void 0:o.pageSize)||10,currentPage:1}}),x=r(),w=r(),C=r(),S=r(),E=r(),D=r(),T=r(),O=r(),k=r(),R=r(),I=e=>{const t={};return e.forEach(e=>{t[e]=(...t)=>{const n=w.value;if(n&&n[e])return n[e](...t)}}),t},P=I(pT);pT.forEach(e=>{P[e]=(...t)=>{const n=w.value;if(n&&n[e])return n&&n[e](...t)}});const F=g(()=>np.merge({},np.clone(nT().grid.proxyConfig,!0),e.proxyConfig)),M=g(()=>{const e=F.value;return np.isBoolean(e.message)?e.message:e.showResponseMsg}),A=g(()=>F.value.showActiveMsg),V=g(()=>Object.assign({},nT().grid.pagerConfig,e.pagerConfig)),$=g(()=>Object.assign({},nT().grid.formConfig,e.formConfig)),N=g(()=>Object.assign({},nT().grid.toolbarConfig,e.toolbarConfig)),L=g(()=>Object.assign({},nT().grid.zoomConfig,e.zoomConfig)),_=g(()=>{const{height:t,maxHeight:n}=e,{isZMax:o,tZindex:l}=h,r={};return o?r.zIndex=l:(t&&(r.height="auto"===t||"100%"===t?"100%":PS(t)),n&&(r.maxHeight="auto"===n||"100%"===n?"100%":PS(n))),r}),B=g(()=>{const t={},n=e;return dT.forEach(e=>{t[e]=n[e]}),t}),z=g(()=>{const{seqConfig:t,pagerConfig:n,loading:o,editConfig:l,proxyConfig:r}=e,{isZMax:a,tableLoading:i,tablePage:s}=h,c=B.value,u=F.value,d=V.value,p=Object.assign({},c);return a&&(c.maxHeight?p.maxHeight="100%":p.height="100%"),r&&OC(u)&&(p.loading=o||i,n&&u.seq&&OC(d)&&(p.seqConfig=Object.assign({},t,{startIndex:(s.currentPage-1)*s.pageSize}))),l&&(p.editConfig=Object.assign({},l)),p}),j=g(()=>{const{layouts:t}=e;let n=[];n=t&&t.length?t:nT().grid.layouts||d;let o=[],l=[],r=[];return n.length&&(np.isArray(n[0])?(o=n[0],l=n[1]||[],r=n[2]||[]):l=n),{headKeys:o,bodyKeys:l,footKeys:r}}),H=g(()=>V.value.currentPage),W=g(()=>V.value.pageSize),q=g(()=>V.value.total),G={refElem:x,refTable:w,refForm:C,refToolbar:S,refPager:E},U={computeProxyOpts:F,computePagerOpts:V,computeFormOpts:$,computeToolbarOpts:N,computeZoomOpts:L},K={xID:s,props:e,context:n,reactData:h,getRefMaps:()=>G,getComputeMaps:()=>U},Y=()=>{const n=N.value;e.toolbarConfig&&OC(n)&&t(()=>{const e=w.value,t=S.value;e&&t&&e.connect(t)})},X=()=>{const{proxyConfig:t}=e,{formData:n}=h,o=F.value,l=$.value;return t&&OC(o)&&o.form?n:l.data},Z=t=>{const{tablePage:n}=h,{pagerConfig:o}=e,l=V.value;if(o&&OC(l))if(t)l[t]&&(n[t]=np.toNumber(l[t]));else{const{currentPage:e,pageSize:t,total:o}=l;e&&(n.currentPage=e),t&&(n.pageSize=t),o&&(n.pageSize=o)}},Q=(e,t)=>{const n=F.value,o=(n.response||n.props||{}).message;let l;return e&&o&&(l=np.isFunction(o)?o({data:e,$grid:K}):np.get(e,o)),l||oT(t)},J=(e,t,n)=>{const o=A.value,l=P.getCheckboxRecords();if(o)if(l.length){if(Im.modal)return Im.modal.confirm({id:`cfm_${e}`,content:oT(t),escClosable:!0}).then(e=>{if("confirm"===e)return n()})}else Im.modal&&Im.modal.message({id:`msg_${e}`,content:oT("vxe.grid.selectOneRecord"),status:"warning"});else l.length&&n();return Promise.resolve()},ee=t=>{const{proxyConfig:n}=e,{tablePage:o}=h,{$event:l,currentPage:r,pageSize:a}=t,i=F.value;o.currentPage=r,o.pageSize=a,K.dispatchEvent("page-change",t,l),n&&OC(i)&&K.commitProxy("query").then(e=>{K.dispatchEvent("proxy-query",e,l)})},te=t=>{const n=w.value,{proxyConfig:o}=e,{computeSortOpts:l}=n.getComputeMaps(),r=F.value;l.value.remote&&(h.sortData=t.sortList,o&&OC(r)&&(h.tablePage.currentPage=1,he.commitProxy("query").then(e=>{he.dispatchEvent("proxy-query",e,t.$event)}))),he.dispatchEvent("sort-change",t,t.$event)},ne=t=>{const n=w.value,{proxyConfig:o}=e,{computeFilterOpts:l}=n.getComputeMaps(),r=F.value;l.value.remote&&(h.filterData=t.filterList,o&&OC(r)&&(h.tablePage.currentPage=1,he.commitProxy("query").then(e=>{he.dispatchEvent("proxy-query",e,t.$event)}))),he.dispatchEvent("filter-change",t,t.$event)},oe=t=>{const{proxyConfig:n}=e,o=F.value;h.tableLoading||(n&&OC(o)&&he.commitProxy("reload").then(e=>{he.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isReload:!0}),t.$event)}),he.dispatchEvent("form-submit",t,t.$event))},le=t=>{const{proxyConfig:n}=e,{$event:o}=t,l=F.value,r=w.value;n&&OC(l)&&(r.clearScroll(),he.commitProxy("reload").then(e=>{he.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isReload:!0}),o)})),he.dispatchEvent("form-reset",t,o)},re=e=>{he.dispatchEvent("form-submit-invalid",e,e.$event)},ae=e=>{const{$event:t}=e;he.dispatchEvent("form-toggle-collapse",e,t),he.dispatchEvent("form-collapse",e,t)},ie=e=>{const{isZMax:n}=h;return(e?!n:n)&&(h.isZMax=!n,h.tZindex<PC()&&(h.tZindex=IC())),t().then(()=>P.recalculate(!0)).then(()=>(setTimeout(()=>P.recalculate(!0),15),h.isZMax))},se=(e,t)=>{const n=e[t];if(n){if(!np.isString(n))return n;if(l[n])return l[n];fS("vxe.error.notSlot",[n])}return null},ce=e=>{const t={};return np.objectMap(e,(e,n)=>{e&&(np.isString(e)?l[e]?t[n]=l[e]:fS("vxe.error.notSlot",[e]):t[n]=e)}),t},ue=()=>{const e=l.left;return e?y("div",{class:"vxe-grid--left-wrapper"},e({$grid:K})):uT(K)},de=()=>{const e=l.right;return e?y("div",{class:"vxe-grid--right-wrapper"},e({$grid:K})):uT(K)},pe=()=>{const{proxyConfig:t}=e,n=z.value,o=F.value,r=Object.assign({},ge),a=l.empty,i=l.loading,s=l.rowDragIcon||l["row-drag-icon"],c=l.columnDragIcon||l["column-drag-icon"];t&&OC(o)&&(o.sort&&(r.onSortChange=te),o.filter&&(r.onFilterChange=ne));const u={};return a&&(u.empty=a),i&&(u.loading=i),s&&(u.rowDragIcon=s),c&&(u.columnDragIcon=c),y("div",{class:"vxe-grid--table-wrapper"},[y(UD,Object.assign(Object.assign({ref:w},n),r),u)])},me=t=>{const n=[];return t.forEach(t=>{switch(t){case"Form":n.push((()=>{const{formConfig:t,proxyConfig:n}=e,{formData:o}=h,r=F.value,a=$.value;if(t&&OC(a)||l.form){let e=[];if(l.form)e=l.form({$grid:K});else if(a.items){const t={};if(!a.inited){a.inited=!0;const e=r.beforeItem;r&&e&&a.items.forEach(t=>{e({$grid:K,item:t})})}a.items.forEach(e=>{np.each(e.slots,e=>{np.isFunction(e)||l[e]&&(t[e]=l[e])})}),c&&e.push(y(c,Object.assign(Object.assign({ref:C},Object.assign({},a,{data:n&&OC(r)&&r.form?o:a.data})),{onSubmit:oe,onReset:le,onSubmitInvalid:re,onCollapse:ae}),t))}return y("div",{ref:D,key:"form",class:"vxe-grid--form-wrapper"},e)}return uT(K)})());break;case"Toolbar":n.push((()=>{const{toolbarConfig:t}=e,n=N.value;if(t&&OC(n)||l.toolbar){let e=[];if(l.toolbar)e=l.toolbar({$grid:K});else{const t=n.slots,o={};if(t){const e=se(t,"buttons"),n=se(t,"buttonPrefix"),l=se(t,"buttonSuffix"),r=se(t,"tools"),a=se(t,"toolPrefix"),i=se(t,"toolSuffix");e&&(o.buttons=e),n&&(o.buttonPrefix=n),l&&(o.buttonSuffix=l),r&&(o.tools=r),a&&(o.toolPrefix=a),i&&(o.toolSuffix=i)}e.push(y(tT,Object.assign(Object.assign({ref:S},n),{slots:void 0}),o))}return y("div",{ref:T,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},e)}return uT(K)})());break;case"Top":n.push(l.top?y("div",{ref:O,key:"top",class:"vxe-grid--top-wrapper"},l.top({$grid:K})):uT(K));break;case"Table":n.push(y("div",{key:"table",class:"vxe-grid--table-container"},[ue(),pe(),de()]));break;case"Bottom":n.push(l.bottom?y("div",{ref:k,key:"bottom",class:"vxe-grid--bottom-wrapper"},l.bottom({$grid:K})):uT(K));break;case"Pager":n.push((()=>{const{proxyConfig:t,pagerConfig:n}=e,o=F.value,r=V.value,a=l.pager;return n&&OC(r)||l.pager?y("div",{ref:R,key:"pager",class:"vxe-grid--pager-wrapper"},a?a({$grid:K}):[u?y(u,Object.assign(Object.assign(Object.assign({ref:E},r),t&&OC(o)?h.tablePage:{}),{onPageChange:ee}),ce(r.slots)):uT(K)]):uT(K)})());break;default:fS("vxe.error.notProp",[`layouts -> ${t}`])}}),n},ge={};mD.forEach(e=>{const t=np.camelCase(`on-${e}`);ge[t]=(...t)=>a(e,...t)});const fe=()=>{const{proxyConfig:n,formConfig:o}=e,{proxyInited:l}=h,r=F.value,a=$.value;if(n&&OC(r)){if(o&&OC(a)&&r.form&&a.items){const e={};a.items.forEach(t=>{const{field:n,itemRender:o}=t;if(n){let l=null;if(o){const{defaultValue:e}=o;np.isFunction(e)?l=e({item:t}):np.isUndefined(e)||(l=e)}e[n]=l}}),h.formData=e}l||(h.proxyInited=!0,!1!==r.autoLoad&&t().then(()=>he.commitProxy("_init")).then(e=>{he.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isInited:!0}),new Event("init"))}))}},ve=e=>{const t=L.value;sT.hasKey(e,cT.ESCAPE)&&h.isZMax&&!1!==t.escRestore&&be.triggerZoomEvent(e)},he={dispatchEvent:(e,t,n)=>{a(e,iT(n,{$grid:K},t))},getEl:()=>x.value,commitProxy(n,...o){const{toolbarConfig:l,pagerConfig:r,editRules:a,validConfig:i}=e,{tablePage:s}=h,c=A.value,u=M.value,d=F.value,p=V.value,m=N.value,{beforeQuery:g,afterQuery:f,beforeDelete:v,afterDelete:b,beforeSave:x,afterSave:y,ajax:C={}}=d,S=d.response||d.props||{},E=w.value,D=X();let T=null,O=null;if(np.isString(n)){const{buttons:e}=m,t=l&&OC(m)&&e?np.findTree(e,e=>e.code===n,{children:"dropdowns"}):null;T=t?t.item:null,O=n}else T=n,O=T.code;const k=T?T.params:null;switch(O){case"insert":return E.insert({});case"insert_edit":case"insert_actived":return E.insert({}).then(({row:e})=>E.setEditRow(e));case"mark_cancel":(e=>{const t=A.value,n=w.value,o=n.getCheckboxRecords();o.length?(n.togglePendingRow(o),P.clearCheckboxRow()):t&&Im.modal&&Im.modal.message({id:e,content:oT("vxe.grid.selectOneRecord"),status:"warning"})})(O);break;case"remove":return J(O,"vxe.grid.removeSelectRecord",()=>E.removeCheckboxRow());case"import":E.importData(k);break;case"open_import":E.openImport(k);break;case"export":E.exportData(k);break;case"open_export":E.openExport(k);break;case"reset_custom":return E.resetCustom(!0);case"_init":case"reload":case"query":{const e=C.query,n=C.querySuccess,l=C.queryError;if(e){const a="_init"===O,i="reload"===O;if(!a&&h.tableLoading)return t();let c=[],u=[],d={};if(r&&((a||i)&&(s.currentPage=1),OC(p)&&(d=Object.assign({},s))),a){let e=null;if(E){const{computeSortOpts:t}=E.getComputeMaps();e=t.value.defaultSort}e&&(np.isArray(e)||(e=[e]),c=e.map(e=>({field:e.field,property:e.field,order:e.order}))),E&&(u=E.getCheckedFilters())}else E&&(i?E.clearAll():(c=E.getSortColumns(),u=E.getCheckedFilters()));const m={code:O,button:T,isInited:a,isReload:i,$grid:K,page:d,sort:c.length?c[0]:{},sorts:c,filters:u,form:D,options:e};return h.sortData=c,h.filterData=u,h.tableLoading=!0,Promise.resolve((g||e)(m,...o)).then(e=>{let l=[];if(h.tableLoading=!1,e)if(r&&OC(p)){const t=S.total,n=(np.isFunction(t)?t({data:e,$grid:K}):np.get(e,t||"page.total"))||0;s.total=np.toNumber(n);const o=S.result;l=(np.isFunction(o)?o({data:e,$grid:K}):np.get(e,o||"result"))||[];const r=Math.max(Math.ceil(n/s.pageSize),1);s.currentPage>r&&(s.currentPage=r)}else{const t=S.list;l=(t?np.isFunction(t)?t({data:e,$grid:K}):np.get(e,t):e)||[]}return E?E.loadData(l):t(()=>{E&&E.loadData(l)}),f&&f(m,...o),n&&n(Object.assign(Object.assign({},m),{response:e})),{status:!0}}).catch(e=>(h.tableLoading=!1,l&&l(Object.assign(Object.assign({},m),{response:e})),{status:!1}))}fS("vxe.error.notFunc",["proxy-config.ajax.query"]);break}case"delete":{const e=C.delete,t=C.deleteSuccess,n=C.deleteError;if(e){const l=P.getCheckboxRecords(),r=l.filter(e=>!E.isInsertByRow(e)),a={$grid:K,code:O,button:T,body:{removeRecords:r},form:D,options:e};if(l.length)return J(O,"vxe.grid.deleteSelectRecord",()=>r.length?(h.tableLoading=!0,Promise.resolve((v||e)(a,...o)).then(e=>(h.tableLoading=!1,E.setPendingRow(r,!1),u&&Im.modal&&Im.modal.message({content:Q(e,"vxe.grid.delSuccess"),status:"success"}),b?b(a,...o):he.commitProxy("query"),t&&t(Object.assign(Object.assign({},a),{response:e})),{status:!0})).catch(e=>(h.tableLoading=!1,u&&Im.modal&&Im.modal.message({id:O,content:Q(e,"vxe.grid.operError"),status:"error"}),n&&n(Object.assign(Object.assign({},a),{response:e})),{status:!1}))):E.remove(l));c&&Im.modal&&Im.modal.message({id:O,content:oT("vxe.grid.selectOneRecord"),status:"warning"})}else fS("vxe.error.notFunc",["proxy-config.ajax.delete"]);break}case"save":{const e=C.save,t=C.saveSuccess,n=C.saveError;if(e){const l=E.getRecordset(),{insertRecords:r,removeRecords:s,updateRecords:d,pendingRecords:p}=l,m={$grid:K,code:O,button:T,body:l,form:D,options:e};r.length&&(l.pendingRecords=p.filter(e=>-1===E.findRowIndexOf(r,e))),p.length&&(l.insertRecords=r.filter(e=>-1===E.findRowIndexOf(p,e)));let g=Promise.resolve();return a&&(g=E[i&&"full"===i.msgMode?"fullValidate":"validate"](l.insertRecords.concat(d))),g.then(r=>{if(!r)return l.insertRecords.length||s.length||d.length||l.pendingRecords.length?(h.tableLoading=!0,Promise.resolve((x||e)(m,...o)).then(e=>(h.tableLoading=!1,E.clearPendingRow(),u&&Im.modal&&Im.modal.message({content:Q(e,"vxe.grid.saveSuccess"),status:"success"}),y?y(m,...o):he.commitProxy("query"),t&&t(Object.assign(Object.assign({},m),{response:e})),{status:!0})).catch(e=>(h.tableLoading=!1,u&&Im.modal&&Im.modal.message({id:O,content:Q(e,"vxe.grid.operError"),status:"error"}),n&&n(Object.assign(Object.assign({},m),{response:e})),{status:!1}))):void(c&&Im.modal&&Im.modal.message({id:O,content:oT("vxe.grid.dataUnchanged"),status:"info"}))})}fS("vxe.error.notFunc",["proxy-config.ajax.save"]);break}default:{const e=lT.get(O);if(e){const t=e.tableCommandMethod||e.commandMethod;t?t({code:O,button:T,$grid:K,$table:E},...o):fS("vxe.error.notCommands",[O])}}}return t()},zoom:()=>h.isZMax?he.revert():he.maximize(),isMaximized:()=>h.isZMax,maximize:()=>ie(!0),revert:()=>ie(),getFormData:X,getFormItems(t){const n=$.value,{formConfig:o}=e,{items:l}=n,r=[];return np.eachTree(o&&OC(n)&&l?l:[],e=>{r.push(e)},{children:"children"}),np.isUndefined(t)?r:r[t]},getProxyInfo(){const t=w.value;if(e.proxyConfig){const{sortData:e}=h;return{data:t?t.getFullData():[],filter:h.filterData,form:X(),sort:e.length?e[0]:{},sorts:e,pager:h.tablePage,pendingRecords:t?t.getPendingRecords():[]}}return null}},be={extendTableMethods:I,callSlot:(e,t)=>e&&(np.isString(e)&&(e=l[e]||null),np.isFunction(e))?OE(e(t)):[],getExcludeHeight(){const{isZMax:e}=h,t=x.value;if(t){const n=D.value,o=T.value,l=O.value,r=k.value,a=R.value,i=t.parentElement;return(e?0:i?VS(i):0)+VS(t)+AS(n)+AS(o)+AS(l)+AS(r)+AS(a)}return 0},getParentHeight(){const e=x.value;if(e){const t=e.parentElement;return(h.isZMax?MS().visibleHeight:t?np.toNumber(getComputedStyle(t).height):0)-be.getExcludeHeight()}return 0},triggerToolbarCommitEvent(e,t){const{code:n}=e;return he.commitProxy(e,t).then(e=>{n&&e&&e.status&&["query","reload","delete","save"].includes(n)&&he.dispatchEvent("delete"===n||"save"===n?`proxy-${n}`:"proxy-query",Object.assign(Object.assign({},e),{isReload:"reload"===n}),t)})},triggerToolbarBtnEvent(e,t){be.triggerToolbarCommitEvent(e,t),he.dispatchEvent("toolbar-button-click",{code:e.code,button:e},t)},triggerToolbarTolEvent(e,t){be.triggerToolbarCommitEvent(e,t),he.dispatchEvent("toolbar-tool-click",{code:e.code,tool:e},t)},triggerZoomEvent(e){he.zoom(),he.dispatchEvent("zoom",{type:h.isZMax?"max":"revert"},e)}};Object.assign(K,P,he,be,{loadColumn(e){const n=w.value;return np.eachTree(e,e=>{e.slots&&np.each(e.slots,e=>{np.isFunction(e)||l[e]||fS("vxe.error.notSlot",[e])})}),n?n.loadColumn(e):t()},reloadColumn:e=>(K.clearAll(),K.loadColumn(e))});const xe=r(0);i(()=>e.columns?e.columns.length:-1,()=>{xe.value++}),i(()=>e.columns,()=>{xe.value++}),i(xe,()=>{t(()=>K.loadColumn(e.columns||[]))}),i(()=>e.toolbarConfig,()=>{Y()}),i(H,()=>{Z("currentPage")}),i(W,()=>{Z("pageSize")}),i(q,()=>{Z("total")}),i(()=>e.proxyConfig,()=>{fe()}),rT.forEach(e=>{const{setupGrid:t}=e;if(t){const e=t(K);e&&np.isObject(e)&&Object.assign(K,e)}}),Z(),f(()=>{t(()=>{const{columns:t}=e;e.formConfig&&(c||fS("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(u||fS("vxe.error.reqComp",["vxe-pager"])),t&&t.length&&K.loadColumn(t),Y(),fe()}),sT.on(K,"keydown",ve)}),v(()=>{sT.off(K,"keydown")});return K.renderVN=()=>{const t=p.value,n=_.value;return y("div",{ref:x,class:["vxe-grid",{[`size--${t}`]:t,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":h.isZMax,"is--loading":e.loading||h.tableLoading}],style:n},(()=>{const e=j.value,{headKeys:t,bodyKeys:n,footKeys:o}=e,r=l.asideLeft||l["aside-left"],a=l.asideRight||l["aside-right"];return[y("div",{class:"vxe-grid--layout-header-wrapper"},me(t)),y("div",{class:"vxe-grid--layout-body-wrapper"},[r?y("div",{class:"vxe-grid--layout-aside-left-wrapper"},r({})):uT(K),y("div",{class:"vxe-grid--layout-body-content-wrapper"},me(n)),a?y("div",{class:"vxe-grid--layout-aside-right-wrapper"},a({})):uT(K)]),y("div",{class:"vxe-grid--layout-footer-wrapper"},me(o))]})())},b("$xeGrid",K),K},render(){return this.renderVN()}}),fT=Object.assign({},gT,{install(e){e.component(gT.name,gT)}});Im.dynamicApp&&Im.dynamicApp.component(gT.name,gT),Im.component(gT);const vT=fT;const{renderer:hT,hooks:bT}=Im,xT=["openFilter","setFilter","clearFilter","saveFilterPanel","resetFilterPanel","getCheckedFilters","updateFilterOptionStatus"];bT.add("tableFilterModule",{setupTable(e){const{props:n,reactData:o,internalData:l}=e,{refElem:r,refTableFilter:a}=e.getRefMaps(),{computeFilterOpts:i,computeMouseOpts:s}=e.getComputeMaps(),c=t=>{const{filterStore:n}=o;n.options.forEach(e=>{e.checked=e._checked}),e.confirmFilterEvent(t)},u=(t,n,l)=>{const{filterStore:r}=o;r.options.forEach(e=>{e._checked=!1}),l._checked=n,e.checkFilterOptions(),c(t)},d=(t,n,o)=>{o._checked=n,e.checkFilterOptions()},p=t=>{const{filterStore:n}=o;e.handleClearFilter(n.column),e.confirmFilterEvent(t),t&&e.dispatchEvent("clear-filter",{filterList:[]},t)},m={checkFilterOptions(){const{filterStore:e}=o;e.isAllSelected=e.options.every(e=>e._checked),e.isIndeterminate=!e.isAllSelected&&e.options.some(e=>e._checked)},triggerFilterEvent(n,s,c){const{initStore:u,filterStore:d}=o,{elemStore:p}=l;if(d.column===s&&d.visible)d.visible=!1;else{const o=r.value,{scrollTop:m,scrollLeft:g,visibleHeight:f,visibleWidth:v}=MS(),h=i.value,{transfer:b}=h,x=o.getBoundingClientRect(),w=n.currentTarget,{filters:y,filterMultiple:C,filterRender:S}=s,E=OC(S)?hT.get(S.name):null,D=s.filterRecoverMethod||(E?E.tableFilterRecoverMethod||E.filterRecoverMethod:null);l._currFilterParams=c,Object.assign(d,{multiple:C,options:y,column:s,style:null}),d.options.forEach(t=>{const{_checked:n,checked:o}=t;t._checked=o,o||n===o||D&&D({option:t,column:s,$table:e})}),this.checkFilterOptions(),d.visible=!0,u.filter=!0,t(()=>{if(!uE(p["main-header-scroll"]))return;const e=a.value,t=e?e.getRefMaps().refElem.value:null;if(!t)return;const n=w.getBoundingClientRect(),l=t.querySelector(".vxe-table--filter-header"),r=t.querySelector(".vxe-table--filter-footer"),i=t.offsetWidth,s=i/2;let c=0,u=0,h=0;b?(c=n.left-s+g,u=n.top+w.clientHeight+m,h=Math.min(Math.max(x.height,Math.floor(f/2)),Math.max(80,f-u-(l?l.clientHeight:0)-(r?r.clientHeight:0)-28)),c<16?c=16:c>v-i-16&&(c=v-i-16)):(c=n.left-x.left-s,u=n.top-x.top+w.clientHeight,h=Math.max(40,o.clientHeight-u-(l?l.clientHeight:0)-(r?r.clientHeight:0)-14),c<1?c=1:c>o.clientWidth-i-1&&(c=o.clientWidth-i-1)),d.style={top:PS(u),left:PS(c)},d.maxHeight=h})}e.dispatchEvent("filter-visible",{column:s,field:s.field,property:s.field,filterList:e.getCheckedFilters(),visible:d.visible},n)},handleClearFilter(t){if(t){const{filters:n,filterRender:o}=t;if(n){const l=OC(o)?hT.get(o.name):null,r=t.filterResetMethod||(l?l.tableFilterResetMethod||l.filterResetMethod:null);n.forEach(e=>{e._checked=!1,e.checked=!1,r||(e.data=np.clone(e.resetValue,!0))}),r&&r({options:n,column:t,$table:e})}}},handleColumnConfirmFilter(t,l){const{mouseConfig:r}=n,{scrollXLoad:a,scrollYLoad:c}=o,u=i.value,d=s.value,{field:p}=t,m=[],g=[];t.filters.forEach(e=>{e.checked&&(m.push(e.value),g.push(e.data))});const f=e.getCheckedFilters(),v={$table:e,$event:l,column:t,field:p,property:p,values:m,datas:g,filters:f,filterList:f};return u.remote||(e.handleTableData(!0),e.checkSelectionStatus()),r&&d.area&&e.handleFilterEvent&&e.handleFilterEvent(l,v),l&&e.dispatchEvent("filter-change",v,l),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:t,scrollYLoad:n}=o;if(a||t||c||n)return(a||t)&&e.updateScrollXSpace(),(c||n)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},confirmFilterEvent(t){const{filterStore:n}=o,{column:l}=n;e.handleColumnConfirmFilter(l,t)},handleFilterChangeRadioOption:u,handleFilterChangeMultipleOption:d,handleFilterChangeOption(e,t,n){const{filterStore:l}=o;l.multiple?d(0,t,n):u(e,t,n)},handleFilterConfirmFilter:c,handleFilterResetFilter:p},g={openFilter(n){const o=tE(e,n);if(o&&o.filters){const{elemStore:t}=l,{fixed:n}=o;return e.scrollToColumn(o).then(()=>{const e=uE(t[`${n||"main"}-header-wrapper`]||t["main-header-wrapper"]);if(e){const t=e.querySelector(`.vxe-header--column.${o.id} .vxe-cell--filter`);r="click",(l=t)&&l.dispatchEvent(new Event(r))}var l,r})}return t()},setFilter(n,o,l){const r=tE(e,n);return r&&r.filters&&(r.filters=aE(o||[]),l)?e.handleColumnConfirmFilter(r,new Event("click")):t()},clearFilter(n){const{filterStore:r}=o,{tableFullColumn:a}=l,s=i.value;let c;return n?(c=tE(e,n),c&&e.handleClearFilter(c)):a.forEach(e.handleClearFilter),n&&c===r.column||Object.assign(r,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),s.remote?t():e.updateData()},saveFilterPanel:()=>(c(null),t()),saveFilterPanelByEvent:e=>(c(e),t()),resetFilterPanel:()=>(p(null),t()),resetFilterPanelByEvent:e=>(p(e),t()),getCheckedFilters(){const{tableFullColumn:e}=l,t=[];return e.forEach(e=>{const{field:n,filters:o}=e,l=[],r=[];o&&o.length&&(o.forEach(e=>{e.checked&&(l.push(e.value),r.push(e.data))}),l.length&&t.push({column:e,field:n,property:n,values:l,datas:r}))}),t},updateFilterOptionStatus:(e,n)=>(e._checked=n,e.checked=n,t())};return Object.assign(Object.assign({},g),m)},setupGrid:e=>e.extendTableMethods(xT)});const{menus:wT,hooks:yT,globalEvents:CT,GLOBAL_EVENT_KEYS:ST}=Im,ET=["closeMenu"];yT.add("tableMenuModule",{setupTable(e){const{xID:n,props:o,reactData:l,internalData:r}=e,{refElem:a,refTableFilter:i,refTableMenu:s}=e.getRefMaps(),{computeMouseOpts:c,computeIsMenu:u,computeMenuOpts:d}=e.getComputeMaps();let p={},m={};const g=(n,o,a)=>{const{ctxMenuStore:i}=l,c=u.value,m=d.value,g=m[o],f=m.visibleMethod;if(g){const{options:o,disabled:l}=g;l?n.preventDefault():c&&o&&o.length&&(a.options=o,e.preventEvent(n,"event.showMenu",a,()=>{if(!f||f(a)){n.preventDefault(),e.updateZindex();const{scrollTop:l,scrollLeft:c,visibleHeight:u,visibleWidth:d}=MS();let p=n.clientY+l,m=n.clientX+c;const g=()=>{r._currMenuParams=a,Object.assign(i,{visible:!0,list:o,selected:null,selectChild:null,showChild:!1,style:{zIndex:r.tZindex,top:`${p}px`,left:`${m}px`}}),t(()=>{const e=s.value.getRefMaps().refElem.value,t=e.clientHeight,n=e.clientWidth,{boundingTop:o,boundingLeft:r}=BS(e),a=r+n-d;o+t-u>-10&&(i.style.top=`${Math.max(l+2,p-t-2)}px`),a>-10&&(i.style.left=`${Math.max(c+2,m-n-2)}px`)})},{keyboard:f,row:v,column:h}=a;f&&v&&h?e.scrollToRow(v,h).then(()=>{const t=e.getCellElement(v,h);if(t){const{boundingTop:e,boundingLeft:n}=BS(t);p=e+l+Math.floor(t.offsetHeight/2),m=n+c+Math.floor(t.offsetWidth/2)}g()}):g()}else p.closeMenu()}))}e.closeFilter()};return p={closeMenu:()=>(Object.assign(l.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),t())},m={moveCtxMenu(t,n,o,l,r,a){let i;const s=np.findIndexOf(a,e=>n[o]===e);if(l)r&&FC(n.selected)?n.showChild=!0:(n.showChild=!1,n.selectChild=null);else if(CT.hasKey(t,ST.ARROW_UP)){for(let e=s-1;e>=0;e--)if(!1!==a[e].visible){i=a[e];break}n[o]=i||a[a.length-1]}else if(CT.hasKey(t,ST.ARROW_DOWN)){for(let e=s+1;e<a.length;e++)if(!1!==a[e].visible){i=a[e];break}n[o]=i||a[0]}else n[o]&&(CT.hasKey(t,ST.ENTER)||CT.hasKey(t,ST.SPACEBAR))&&e.ctxMenuLinkEvent(t,n[o])},handleOpenMenuEvent:g,handleGlobalContextmenuEvent(t){const{mouseConfig:u,menuConfig:m}=o,{editStore:f,ctxMenuStore:v}=l,{visibleColumn:h}=r,b=i.value,x=s.value,w=c.value,y=d.value,C=a.value,{selected:S}=f,E=["header","body","footer"];if(OC(m)){if(v.visible&&x&&_S(t,x.getRefMaps().refElem.value).flag)return void t.preventDefault();if(r._keyCtx){const n="body",o={type:n,$table:e,keyboard:!0,columns:h.slice(0),$event:t};if(u&&w.area){const l=e.getActiveCellArea();if(l&&l.row&&l.column)return o.row=l.row,o.column=l.column,void g(t,n,o)}else if(u&&w.selected&&S.row&&S.column)return o.row=S.row,o.column=S.column,void g(t,n,o)}for(let o=0;o<E.length;o++){const l=E[o],r=_S(t,C,`vxe-${l}--column`,e=>e.parentNode.parentNode.parentNode.getAttribute("xid")===n),a={type:l,$table:e,columns:h.slice(0),$event:t};if(r.flag){const n=r.targetElem,o=e.getColumnNode(n),i=o?o.item:null;let s=`${l}-`;if(i&&Object.assign(a,{column:i,columnIndex:e.getColumnIndex(i),cell:n}),"body"===l){const t=e.getRowNode(n.parentNode),o=t?t.item:null;s="",o&&(a.row=o,a.rowIndex=e.getRowIndex(o))}const c=`${s}cell-menu`;return g(t,l,a),void e.dispatchEvent(c,a,t)}if(_S(t,C,`vxe-table--${l}-wrapper`,e=>e.getAttribute("xid")===n).flag)return void("cell"===y.trigger?t.preventDefault():g(t,l,a))}}b&&!_S(t,b.getRefMaps().refElem.value).flag&&e.closeFilter(),p.closeMenu()},ctxMenuMouseoverEvent(e,n,o){const r=e.currentTarget,{ctxMenuStore:a}=l;e.preventDefault(),e.stopPropagation(),a.selected=n,a.selectChild=o,o||(a.showChild=FC(n),a.showChild&&t(()=>{const e=r.nextElementSibling;if(e){const{boundingTop:t,boundingLeft:n,visibleHeight:o,visibleWidth:l}=BS(r),a=t+r.offsetHeight;let i="",s="";n+r.offsetWidth+e.offsetWidth>l-10&&(i="auto",s=`${r.offsetWidth}px`);let c="",u="";a+e.offsetHeight>o-10&&(c="auto",u="0"),e.style.left=i,e.style.right=s,e.style.top=c,e.style.bottom=u}}))},ctxMenuMouseoutEvent(e,t){const{ctxMenuStore:n}=l;t.children||(n.selected=null),n.selectChild=null},ctxMenuLinkEvent(t,n){const o=e.xeGrid;if(!n.disabled&&(n.code||!n.children||!n.children.length)){const l=wT.get(n.code),a=Object.assign({},r._currMenuParams,{menu:n,$table:e,$grid:o,$event:t}),i=l?l.tableMenuMethod||l.menuMethod:null;i&&i(a,t),e.dispatchEvent("menu-click",a,t),p.closeMenu()}}},Object.assign(Object.assign({},p),m)},setupGrid:e=>e.extendTableMethods(ET)});const{getConfig:DT,renderer:TT,hooks:OT,getI18n:kT}=Im,RT=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getEditCell","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];OT.add("tableEditModule",{setupTable(e){const{props:n,reactData:o,internalData:l}=e,{refElem:r}=e.getRefMaps(),{computeMouseOpts:a,computeEditOpts:i,computeCheckboxOpts:s,computeTreeOpts:c,computeValidOpts:u}=e.getComputeMaps(),d=np.browse();let p={},g={};const f=(e,t)=>{const{model:n,editRender:o}=t;o&&(n.value=sE(e,t),n.update=!1)},v=(e,t)=>{const{model:n,editRender:o}=t;o&&n.update&&(cE(e,t,n.value),n.update=!1,n.value=null)},h=()=>{const e=r.value;if(e){const t=e.querySelector(".col--selected");t&&kS(t,"col--selected")}},b=()=>{const{editStore:e,tableColumn:t}=o,n=i.value,{actived:l}=e,{row:r,column:a}=l;(r||a)&&("row"===n.mode?t.forEach(e=>v(r,e)):v(r,a))},x=(t,n)=>{const{tableFullTreeData:o,afterFullData:r,fullDataRowIdData:a,fullAllDataRowIdData:i}=l,s=c.value,{rowField:u,parentField:d,mapChildrenField:p}=s,m=s.children||s.childrenField,g=n?"push":"unshift";t.forEach(t=>{const n=t[d],l=US(e,t),s=n?np.findTree(o,e=>n===e[u],{children:p}):null;if(s){const{item:n}=s,o=i[US(e,n)],r=o?o.level:0;let c=n[m],u=n[p];np.isArray(c)||(c=n[m]=[]),np.isArray(u)||(u=n[m]=[]),c[g](t),u[g](t);const d={row:t,rowid:l,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:c,parent:n,level:r+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};a[l]=d,i[l]=d}else{n&&gS("vxe.error.unableInsert"),r[g](t),o[g](t);const e={row:t,rowid:l,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:o,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};a[l]=e,i[l]=e}})},w=(r,a,i)=>{const{treeConfig:s}=n,{tableFullTreeData:u,afterFullData:d,mergeBodyList:p,tableFullData:g,fullDataRowIdData:f,fullAllDataRowIdData:v,insertRowMaps:h}=l,b=c.value,{transform:w,rowField:y,mapChildrenField:C}=b,S=b.children||b.childrenField;np.isArray(r)||(r=[r]);const E=m(e.defineField(r.map(e=>Object.assign(s&&w?{[C]:[],[S]:[]}:{},e))));if(np.eqNull(a))s&&w?x(E,!1):(E.forEach(t=>{const n=US(e,t),o={row:t,rowid:n,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:d,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};f[n]=o,v[n]=o,d.unshift(t),g.unshift(t)}),p.forEach(e=>{const{row:t}=e;t>0&&(e.row=t+E.length)}));else if(-1===a)s&&w?x(E,!0):(E.forEach(t=>{const n=US(e,t),o={row:t,rowid:n,seq:-1,index:-1,_index:-1,treeIndex:-1,$index:-1,items:d,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};f[n]=o,v[n]=o,d.push(t),g.push(t)}),p.forEach(e=>{const{row:t,rowspan:n}=e;t+n>d.length&&(e.rowspan=n+E.length)}));else if(s&&w){const t=np.findTree(u,e=>a[y]===e[y],{children:C});if(t){const{parent:n}=t,o=n?n[C]:u,l=v[US(e,n)],r=l?l.level:0;if(E.forEach((l,a)=>{const s=US(e,l);l[b.parentField]&&n&&l[b.parentField]!==n[y]&&fS("vxe.error.errProp",[`${b.parentField}=${l[b.parentField]}`,`${b.parentField}=${n[y]}`]),n&&(l[b.parentField]=n[y]);let c=t.index+a;i&&(c+=1),o.splice(c,0,l);const u={row:l,rowid:s,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:o,parent:n,level:r+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};f[s]=u,v[s]=u}),n){const e=np.findTree(u,e=>a[y]===e[y],{children:S});if(e){const t=e.items;let n=e.index;i&&(n+=1),t.splice(n,0,...E)}}}else gS("vxe.error.unableInsert"),x(E,!0)}else{if(s)throw new Error(kT("vxe.error.noTree",["insert"]));let t=-1;if(np.isNumber(a)?a<d.length&&(t=a):t=e.findRowIndexOf(d,a),i&&(t=Math.min(d.length,t+1)),-1===t)throw new Error(kT("vxe.error.unableInsert"));d.splice(t,0,...E);const n=e.findRowIndexOf(g,a);n>-1?g.splice(n+(i?1:0),0,...E):g.push(...E),p.forEach(e=>{const{row:n,rowspan:o}=e;n>t?e.row=n+E.length:n+o>t&&(e.rowspan=o+E.length)})}return E.forEach(t=>{const n=US(e,t);h[n]=t}),o.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData(s&&w),s&&w||e.updateAfterDataIndex(),e.updateFooter(),e.handleUpdateBodyMerge(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),t().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:E.length?E[E.length-1]:null,rows:E}))},y=(e,t,o,l)=>{const{treeConfig:r}=n,a=c.value,{transform:i,rowField:s,parentField:u}=a;return r&&i?(np.isArray(e)||(e=[e]),w(e.map(e=>Object.assign({},e,{[u]:t[s]})),o,l)):(fS("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},C=(n,l)=>{const{editStore:r}=o,{actived:a,focused:i}=r,{row:s,column:c}=a,d=u.value;if(s||c){if(l&&US(e,l)!==US(e,s))return t();b(),a.args=null,a.row=null,a.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:s,rowIndex:e.getRowIndex(s),$rowIndex:e.getVMRowIndex(s),column:c,columnIndex:e.getColumnIndex(c),$columnIndex:e.getVMColumnIndex(c)},n||null)}return i.row=null,i.column=null,d.autoClear&&("full"!==d.msgMode||"obsolete"===DT().cellVaildMode)&&e.clearValidate?e.clearValidate():t().then(()=>e.updateCellAreas())},S=(l,r,a,s)=>{const c=e.xeGrid,{editConfig:u,mouseConfig:d}=n,{editStore:p,tableColumn:m}=o,g=i.value,{mode:v}=g,{actived:h,focused:b}=p,{row:x,column:w}=l,{editRender:y}=w,S=l.cell||e.getCellElement(x,w),E=g.beforeEditMethod||g.activeMethod;if(l.cell=S,S&&OC(u)&&OC(y)&&!e.isPendingByRow(x)&&!e.isAggregateRecord(x)){if(h.row!==x||"cell"===v&&h.column!==w){let n="edit-disabled";if(!E||E(Object.assign(Object.assign({},l),{$table:e,$grid:c}))){d&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),h.column&&C(r),n="edit-activated",w.renderHeight=S.offsetHeight,h.args=l,h.row=x,h.column=w,"row"===v?m.forEach(e=>f(x,e)):f(x,w);const o=g.afterEditMethod;t(()=>{a&&e.handleFocus(l,r),o&&o(Object.assign(Object.assign({},l),{$table:e,$grid:c}))})}e.dispatchEvent(n,{row:x,rowIndex:e.getRowIndex(x),$rowIndex:e.getVMRowIndex(x),column:w,columnIndex:e.getColumnIndex(w),$columnIndex:e.getVMColumnIndex(w)},r),"edit-activated"===n&&e.dispatchEvent("edit-actived",{row:x,rowIndex:e.getRowIndex(x),$rowIndex:e.getVMRowIndex(x),column:w,columnIndex:e.getColumnIndex(w),$columnIndex:e.getVMColumnIndex(w)},r)}else{const{column:t}=h;if(d&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),t!==w){const{model:n}=t;n.update&&cE(x,t,n.value),e.clearValidate&&e.clearValidate(x,w)}w.renderHeight=S.offsetHeight,h.args=l,h.column=w,s&&setTimeout(()=>{e.handleFocus(l,r)})}b.column=null,b.row=null,e.focus()}return t()},E=(o,r,a)=>{const{editConfig:i}=n,s=np.isString(r)?e.getColumnByField(r):r;return o&&s&&OC(i)&&OC(s.editRender)&&!e.isAggregateRecord(o)?Promise.resolve(a?e.scrollToRow(o,s):null).then(()=>{const n=e.getCellElement(o,s);return n&&(S({row:o,rowIndex:e.getRowIndex(o),column:s,columnIndex:e.getColumnIndex(s),cell:n,$table:e},null,a,a),l._lastCallTime=Date.now()),t()}):t()};return p={insert:e=>w(e,null),insertAt:(e,t)=>w(e,t),insertNextAt:(e,t)=>w(e,t,!0),insertChild:(e,t)=>y(e,t,null),insertChildAt:(e,t,n)=>y(e,t,n),insertChildNextAt:(e,t,n)=>y(e,t,n,!0),remove(r){const{treeConfig:a}=n,{editStore:i}=o,{tableFullTreeData:u,selectCheckboxMaps:d,afterFullData:m,mergeBodyList:g,tableFullData:f,pendingRowMaps:v,insertRowMaps:h,removeRowMaps:b}=l,x=s.value,w=c.value,{transform:y,mapChildrenField:C}=w,S=w.children||w.childrenField,{actived:E}=i,{checkField:D}=x;let T=[];return r?np.isArray(r)||(r=[r]):r=f,r.forEach(t=>{if(!e.isInsertByRow(t)){const n=US(e,t);b[n]=t}}),D||(r.forEach(t=>{const n=US(e,t);d[n]&&delete d[n]}),o.updateCheckboxFlag++),f===r?(r=T=f.slice(0),l.tableFullData=[],l.afterFullData=[],e.clearMergeCells()):a&&y?r.forEach(t=>{const n=US(e,t),o=np.findTree(u,t=>n===US(e,t),{children:C});if(o){const e=o.items.splice(o.index,1);T.push(e[0])}const l=np.findTree(u,t=>n===US(e,t),{children:S});l&&l.items.splice(l.index,1);const r=e.findRowIndexOf(m,t);r>-1&&m.splice(r,1)}):r.forEach(t=>{const n=e.findRowIndexOf(f,t);if(n>-1){const e=f.splice(n,1);T.push(e[0])}const o=e.findRowIndexOf(m,t);o>-1&&(g.forEach(e=>{const{row:t,rowspan:n}=e;t>o?e.row=t-1:t+n>o&&(e.rowspan=n-1)}),m.splice(o,1))}),E.row&&e.findRowIndexOf(r,E.row)>-1&&p.clearEdit(),r.forEach(t=>{const n=US(e,t);h[n]&&delete h[n],v[n]&&delete v[n]}),o.removeRowFlag++,o.insertRowFlag++,o.pendingRowFlag++,e.cacheRowMap(!1),e.handleTableData(a&&y),e.updateFooter(),e.handleUpdateBodyMerge(),a&&y||e.updateAfterDataIndex(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),t().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:T.length?T[T.length-1]:null,rows:T}))},removeCheckboxRow:()=>p.remove(e.getCheckboxRecords()).then(t=>(e.clearCheckboxRow(),t)),removeRadioRow(){const t=e.getRadioRecord();return p.remove(t||[]).then(t=>(e.clearRadioRow(),t))},removeCurrentRow(){const t=e.getCurrentRecord();return p.remove(t||[]).then(t=>(e.clearCurrentRow(),t))},getRecordset(){const t=p.getRemoveRecords(),n=e.getPendingRecords(),o=t.concat(n),l=p.getUpdateRecords().filter(t=>!o.some(n=>e.eqRow(n,t)));return{insertRecords:p.getInsertRecords(),removeRecords:t,updateRecords:l,pendingRecords:n}},getInsertRecords(){const{fullAllDataRowIdData:e,insertRowMaps:t}=l,n=[];return np.each(t,(t,o)=>{e[o]&&n.push(t)}),n},getRemoveRecords(){const{removeRowMaps:e}=l,t=[];return np.each(e,e=>{t.push(e)}),t},getUpdateRecords(){const{keepSource:t,treeConfig:o}=n,{tableFullData:r}=l,a=c.value;return t?(b(),o?np.filterTree(r,t=>e.isUpdateByRow(t),a):r.filter(t=>e.isUpdateByRow(t))):[]},getActiveRecord(){gS("vxe.error.delFunc",["getActiveRecord","getEditCell"]);const{editStore:t}=o,{fullAllDataRowIdData:n}=l,{args:r,row:a}=t.actived;return r&&a&&n[US(e,a)]?Object.assign({},r,{row:a}):null},getEditRecord(){gS("vxe.error.delFunc",["getEditRecord","getEditCell"]);const{editStore:t}=o,{fullAllDataRowIdData:n}=l,{args:r,row:a}=t.actived;return r&&a&&n[US(e,a)]?Object.assign({},r,{row:a}):null},getEditCell(){const{editStore:e}=o,{row:t,column:n}=e.actived;return n&&t?{row:t,column:n}:null},getSelectedCell(){const{editStore:e}=o,{row:t,column:n}=e.selected;return t&&n?{row:t,column:n}:null},clearActived:t=>(gS("vxe.error.delFunc",["clearActived","clearEdit"]),e.clearEdit(t)),clearEdit:e=>C(null,e),clearSelected(){const{editStore:e}=o,{selected:n}=e;return n.row=null,n.column=null,h(),t()},isActiveByRow:t=>(gS("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),e.isEditByRow(t)),isEditByRow(e){const{editStore:t}=o;return t.actived.row===e},setActiveRow:e=>(gS("vxe.error.delFunc",["setActiveRow","setEditRow"]),p.setEditRow(e)),setEditRow(t,n){const{visibleColumn:o}=l;let r=np.find(o,e=>OC(e.editRender)),a=!1;return n&&(a=!0,!0!==n&&(r=np.isString(n)?e.getColumnByField(n):n)),E(t,r,a)},setActiveCell:(e,t)=>(gS("vxe.error.delFunc",["setActiveCell","setEditCell"]),p.setEditCell(e,t)),setEditCell:(e,t)=>E(e,t,!0),setSelectCell(n,l){const{tableData:r}=o,a=i.value,s=np.isString(l)?e.getColumnByField(l):l;if(n&&s&&"manual"!==a.trigger){const t=e.findRowIndexOf(r,n);if(t>-1&&s){const o=e.getCellElement(n,s),l={row:n,rowIndex:t,column:s,columnIndex:e.getColumnIndex(s),cell:o};e.handleSelected(l,{})}}return t()}},g={handleEdit:(e,t)=>S(e,t,!0,!0),handleActived:(e,t)=>g.handleEdit(e,t),handleClearEdit:C,handleFocus(t){const{row:n,column:o,cell:l}=t,{editRender:r}=o,a=i.value;if(OC(r)){const i=TT.get(r.name);let s,c=r.autofocus||r.autoFocus,u=r.autoSelect||r.autoselect;if(a.autoFocus&&(!c&&i&&(c=i.tableAutoFocus||i.tableAutofocus||i.autofocus),!u&&i&&(u=i.tableAutoSelect||i.autoselect),np.isFunction(c)?s=c(t):c&&(s=!0===c?l.querySelector("input,textarea"):l.querySelector(c),s&&s.focus())),s){if(u)s.select();else if(d.msie){const e=s.createTextRange();e.collapse(!1),e.select()}}else a.autoPos&&(o.fixed||e.scrollToRow(n,o))}},handleSelected(l,r){const{mouseConfig:s}=n,{editStore:c}=o,u=a.value,d=i.value,{actived:p,selected:m}=c,{row:f,column:v}=l,h=s&&u.selected;return!h||m.row===f&&m.column===v||(p.row!==f||"cell"===d.mode&&p.column!==v)&&(C(r),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),m.args=l,m.row=f,m.column=v,h&&g.addCellSelectedClass(),e.focus(),r&&e.dispatchEvent("cell-selected",l,r)),t()},addCellSelectedClass(){const{editStore:t}=o,{selected:n}=t,{row:l,column:r}=n;if(h(),l&&r){const t=e.getCellElement(l,r);t&&RS(t,"col--selected")}}},Object.assign(Object.assign({},p),g)},setupGrid:e=>e.extendTableMethods(RT)});const{getI18n:IT,hooks:PT,renderer:FT}=Im;let MT;const AT="\r\n";function VT(e){return!!e.field||-1===["seq","checkbox","radio"].indexOf(e.type||"")}const $T=e=>{const t=[];return e.forEach(e=>{e.childNodes&&e.childNodes.length?(t.push(e),t.push(...$T(e.childNodes))):t.push(e)}),t};function NT(e){return!0===e?"full":e||"default"}function LT(e){return"TRUE"===e||"true"===e||!0===e}function _T(e,t,n){const{footerFilterMethod:o}=t;return o?n.filter((t,n)=>o({$table:e,items:t,$rowIndex:n})):n}function BT(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function zT(e,t){return e.getElementsByTagName(t)}function jT(e){return`#${e}@${np.uniqueId()}`}function HT(e,t){return e.replace(/#\d+@\d+/g,e=>np.hasOwnProp(t,e)?t[e]:e)}function WT(e,t){return HT(e,t).replace(/^"+$/g,e=>'"'.repeat(Math.ceil(e.length/2)))}function qT(e,t){const{fieldMaps:n,titleMaps:o}=e;if(!n[t]){const e=o[t];e&&e.field&&(t=e.field)}return t}function GT(e,t,n){const o=t.split(AT),l=[];let r=[];if(o.length){const t={},a=Date.now();o.forEach(o=>{if(o){const i={},s=(o=o.replace(/("")|(\n)/g,(e,n)=>{const o=jT(a);return t[o]=n?'"':"\n",o}).replace(/"(.*?)"/g,(e,n)=>{const o=jT(a);return t[o]=HT(n,t),o})).split(n);r.length?(s.forEach((e,n)=>{n<r.length&&(i[r[n]]=WT(e.trim(),t))}),l.push(i)):r=s.map(n=>qT(e,WT(n.trim(),t)))}})}return{fields:r,rows:l}}function UT(e){np.eachTree(e,e=>{delete e._level,delete e._colSpan,delete e._rowSpan,delete e._children,delete e.childNodes},{children:"children"})}const KT=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];PT.add("tableExportModule",{setupTable(e){const{props:o,reactData:l,internalData:r}=e,{computeTreeOpts:a,computePrintOpts:i,computeExportOpts:s,computeImportOpts:c,computeCustomOpts:u,computeSeqOpts:d,computeRadioOpts:p,computeCheckboxOpts:m,computeColumnOpts:g}=e.getComputeMaps(),f=n("$xeGrid",null),v=(t,n,o,l,r)=>{const a=d.value.seqMethod||l.seqMethod;return a?a({$table:e,row:n,rowIndex:e.getRowIndex(n),$rowIndex:o,column:l,columnIndex:e.getColumnIndex(l),$columnIndex:r}):t};function h(t,n){const o=g.value,l=n.headerExportMethod||o.headerExportMethod;return l?l({column:n,options:t,$table:e}):(t.isTitle?n.getTitle():n.field)||""}const b=e=>np.isBoolean(e)?e?"TRUE":"FALSE":e,x=e=>VC(e)?"":`${e}`,w=(t,n,l)=>{const{isAllExpand:r,mode:i}=t,{treeConfig:s}=o,c=p.value,u=m.value,d=a.value,f=g.value;if(MT||(MT=document.createElement("div")),s){const o=d.children||d.childrenField,s=[],p={},m={},{handleGetRowId:g}=YS(e);return np.eachTree(l,(o,l,d,h,w,y)=>{const C=o._row||o,S=g(C);if(m[S])return;const E=w&&w._row?w._row:w,D=E?g(E):"";if(r||!E||p[D]&&e.isTreeExpandByRow(E)){const o=(e=>{const t=a.value,n=t.children||t.childrenField;return e[n]&&e[n].length})(C),r={_row:C,_level:y.length-1,_hasChild:o,_expand:o&&e.isTreeExpandByRow(C)};n.forEach((n,o)=>{let a="";const s=n.editRender||n.cellRender;let d=n.exportMethod||f.exportMethod;if(!d&&s&&s.name){const e=FT.get(s.name);e&&(d=e.tableExportMethod||e.exportMethod)}if(d||(d=f.exportMethod),d)a=d({$table:e,row:C,column:n,options:t});else switch(n.type){case"seq":{const e=h.map((e,t)=>t%2==0?Number(e)+1:".").join("");a="all"===i?e:v(e,C,l,n,o);break}case"checkbox":a=b(e.isCheckedByCheckboxRow(C)),r._checkboxLabel=u.labelField?np.get(C,u.labelField):"",r._checkboxDisabled=u.checkMethod&&!u.checkMethod({$table:e,row:C});break;case"radio":a=b(e.isCheckedByRadioRow(C)),r._radioLabel=c.labelField?np.get(C,c.labelField):"",r._radioDisabled=c.checkMethod&&!c.checkMethod({$table:e,row:C});break;default:if(t.original)a=sE(C,n);else if(a=e.getCellLabel(C,n),"html"===n.type)MT.innerHTML=a,a=MT.innerText.trim();else{const t=e.getCellElement(C,n);t&&!OS(t,"is--progress")&&(a=t.innerText.trim())}}r[n.id]=x(a)}),m[S]=!0,D&&(p[D]=!0),s.push(Object.assign(r,C))}},{children:o}),s}return l.map((o,l)=>{const r={_row:o};return n.forEach((n,a)=>{let s="";const d=n.editRender||n.cellRender;let p=n.exportMethod||f.exportMethod;if(!p&&d&&d.name){const e=FT.get(d.name);e&&(p=e.tableExportMethod||e.exportMethod)}if(p)s=p({$table:e,row:o,column:n,options:t});else switch(n.type){case"seq":{const e=l+1;s="all"===i?e:v(e,o,l,n,a);break}case"checkbox":s=b(e.isCheckedByCheckboxRow(o)),r._checkboxLabel=u.labelField?np.get(o,u.labelField):"",r._checkboxDisabled=u.checkMethod&&!u.checkMethod({$table:e,row:o});break;case"radio":s=b(e.isCheckedByRadioRow(o)),r._radioLabel=c.labelField?np.get(o,c.labelField):"",r._radioDisabled=c.checkMethod&&!c.checkMethod({$table:e,row:o});break;default:if(t.original)s=sE(o,n);else if(s=e.getCellLabel(o,n),"html"===n.type)MT.innerHTML=s,s=MT.innerText.trim();else{const t=e.getCellElement(o,n);t&&!OS(t,"is--progress")&&(s=t.innerText.trim())}}r[n.id]=x(s)}),r})},y=(t,n,o)=>{const l=g.value,r=o.editRender||o.cellRender;let a=o.footerExportMethod;if(!a&&r&&r.name){const e=FT.get(r.name);e&&(a=e.tableFooterExportMethod||e.footerExportMethod)}a||(a=l.footerExportMethod);const i=e.getVTColumnIndex(o);return a?a({$table:e,items:n,itemIndex:i,row:n,_columnIndex:i,column:o,options:t}):np.isArray(n)?np.toValueString(n[i]):np.get(n,o.field)},C=(e,t,n,o)=>{let r="\ufeff";if(t.isHeader&&(r+=n.map(e=>BT(h(t,e))).join(",")+AT),o.forEach(e=>{r+=n.map(t=>BT(function(e,t){if(t){if("seq"===e.type)return`\t${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`\t${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`\t${t}`}}return t}(t,e[t.id]))).join(",")+AT}),t.isFooter){const{footerTableData:o}=l;_T(e,t,o).forEach(e=>{r+=n.map(n=>BT(y(t,e,n))).join(",")+AT})}return r},S=(e,t,n)=>{const o=e[t],r=np.isUndefined(o)||np.isNull(o)?n:o;let a="title"===r||(!0===r||"tooltip"===r)||"ellipsis"===r;const{scrollXLoad:i,scrollYLoad:s}=l;return!i&&!s||a||(a=!0),a},E=(t,n,i,s)=>{if(i.length)switch(n.type){case"csv":return C(t,n,i,s);case"txt":return((e,t,n,o)=>{let r="";if(t.isHeader&&(r+=n.map(e=>BT(h(t,e))).join("\t")+AT),o.forEach(e=>{r+=n.map(t=>BT(e[t.id])).join("\t")+AT}),t.isFooter){const{footerTableData:o}=l;_T(e,t,o).forEach(e=>{r+=n.map(n=>BT(y(t,e,n))).join("\t")+AT})}return r})(t,n,i,s);case"html":return((t,n,i)=>{const{id:s,border:c,treeConfig:u,headerAlign:d,align:p,footerAlign:m,showOverflow:g,showHeaderOverflow:f}=o,{isAllSelected:v,isIndeterminate:b}=l,{mergeBodyCellMaps:x}=r,w=a.value,{print:C,isHeader:E,isFooter:D,isColgroup:T,isMerge:O,colgroups:k,original:R}=t,I="check-all",P=[`<table class="${["vxe-table",`border--${NT(c)}`,C?"is--print":"",E?"is--header":""].filter(e=>e).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${n.map(e=>`<col style="width:${e.renderWidth}px">`).join("")}</colgroup>`];if(E&&(P.push("<thead>"),T&&!R?k.forEach(e=>{P.push(`<tr>${e.map(e=>{const n=e.headerAlign||e.align||d||p,o=S(e,"showHeaderOverflow",f)?["col--ellipsis"]:[],l=h(t,e);let r=0,a=0;np.eachTree([e],t=>{t.childNodes&&e.childNodes.length||a++,r+=t.renderWidth},{children:"childNodes"});const i=r-a;return n&&o.push(`col--${n}`),"checkbox"===e.type?`<th class="${o.join(" ")}" colspan="${e._colSpan}" rowspan="${e._rowSpan}"><div ${C?"":`style="width: ${i}px"`}><input type="checkbox" class="${I}" ${v?"checked":""}><span>${l}</span></div></th>`:`<th class="${o.join(" ")}" colspan="${e._colSpan}" rowspan="${e._rowSpan}" title="${l}"><div ${C?"":`style="width: ${i}px"`}><span>${AC(l,!0)}</span></div></th>`}).join("")}</tr>`)}):P.push(`<tr>${n.map(e=>{const n=e.headerAlign||e.align||d||p,o=S(e,"showHeaderOverflow",f)?["col--ellipsis"]:[],l=h(t,e);return n&&o.push(`col--${n}`),"checkbox"===e.type?`<th class="${o.join(" ")}"><div ${C?"":`style="width: ${e.renderWidth}px"`}><input type="checkbox" class="${I}" ${v?"checked":""}><span>${l}</span></div></th>`:`<th class="${o.join(" ")}" title="${l}"><div ${C?"":`style="width: ${e.renderWidth}px"`}><span>${AC(l,!0)}</span></div></th>`}).join("")}</tr>`),P.push("</thead>")),i.length&&(P.push("<tbody>"),u?i.forEach(e=>{P.push("<tr>"+n.map(t=>{const n=t.id,o=t.align||p,l=S(t,"showOverflow",g)?["col--ellipsis"]:[],r=e[n];if(o&&l.push(`col--${o}`),t.treeNode){let n="";return e._hasChild&&(n=`<i class="${e._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),l.push("vxe-table--tree-node"),"radio"===t.type?`<td class="${l.join(" ")}" title="${r}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*w.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${s}" ${e._radioDisabled?"disabled ":""}${LT(r)?"checked":""}><span>${e._radioLabel}</span></div></div></div></td>`:"checkbox"===t.type?`<td class="${l.join(" ")}" title="${r}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*w.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${LT(r)?"checked":""}><span>${e._checkboxLabel}</span></div></div></div></td>`:`<td class="${l.join(" ")}" title="${r}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*w.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell">${r}</div></div></div></td>`}return"radio"===t.type?`<td class="${l.join(" ")}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><input type="radio" name="radio_${s}" ${e._radioDisabled?"disabled ":""}${LT(r)?"checked":""}><span>${e._radioLabel}</span></div></td>`:"checkbox"===t.type?`<td class="${l.join(" ")}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${LT(r)?"checked":""}><span>${e._checkboxLabel}</span></div></td>`:`<td class="${l.join(" ")}" title="${r}"><div ${C?"":`style="width: ${t.renderWidth}px"`}>${AC(r,!0)}</div></td>`}).join("")+"</tr>")}):i.forEach(t=>{P.push("<tr>"+n.map(n=>{const o=n.align||p,l=S(n,"showOverflow",g)?["col--ellipsis"]:[],r=t[n.id];let a=1,i=1;if(O){const o=e.getVTRowIndex(t._row),l=e.getVTColumnIndex(n),r=x[`${o}:${l}`];if(r){const{rowspan:e,colspan:t}=r;if(!e||!t)return"";e>1&&(a=e),t>1&&(i=t)}}return o&&l.push(`col--${o}`),"radio"===n.type?`<td class="${l.join(" ")}" rowspan="${a}" colspan="${i}"><div ${C?"":`style="width: ${n.renderWidth}px"`}><input type="radio" name="radio_${s}" ${t._radioDisabled?"disabled ":""}${LT(r)?"checked":""}><span>${t._radioLabel}</span></div></td>`:"checkbox"===n.type?`<td class="${l.join(" ")}" rowspan="${a}" colspan="${i}"><div ${C?"":`style="width: ${n.renderWidth}px"`}><input type="checkbox" ${t._checkboxDisabled?"disabled ":""}${LT(r)?"checked":""}><span>${t._checkboxLabel}</span></div></td>`:`<td class="${l.join(" ")}" rowspan="${a}" colspan="${i}" title="${r}"><div ${C?"":`style="width: ${n.renderWidth}px"`}>${AC(r,!0)}</div></td>`}).join("")+"</tr>")}),P.push("</tbody>")),D){const{footerTableData:o}=l,r=_T(e,t,o);r.length&&(P.push("<tfoot>"),r.forEach(e=>{P.push(`<tr>${n.map(n=>{const o=n.footerAlign||n.align||m||p,l=S(n,"showOverflow",g)?["col--ellipsis"]:[],r=y(t,e,n);return o&&l.push(`col--${o}`),`<td class="${l.join(" ")}" title="${r}"><div ${C?"":`style="width: ${n.renderWidth}px"`}>${AC(r,!0)}</div></td>`}).join("")}</tr>`)}),P.push("</tfoot>"))}const F=!v&&b?`<script>(function(){var a=document.querySelector(".${I}");if(a){a.indeterminate=true}})()<\/script>`:"";return P.push("</table>",F),C?P.join(""):function(e,t){const{style:n}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>','<style>body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}</style>',n?`<style>${n}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}(t,P.join(""))})(n,i,s);case"xml":return((t,n,o)=>{let r=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${t.sheetName}">`,"<Table>",n.map(e=>`<Column ss:Width="${e.renderWidth}"/>`).join("")].join("");if(t.isHeader&&(r+=`<Row>${n.map(e=>`<Cell><Data ss:Type="String">${h(t,e)}</Data></Cell>`).join("")}</Row>`),o.forEach(e=>{r+="<Row>"+n.map(t=>`<Cell><Data ss:Type="String">${e[t.id]}</Data></Cell>`).join("")+"</Row>"}),t.isFooter){const{footerTableData:o}=l;_T(e,t,o).forEach(e=>{r+=`<Row>${n.map(n=>`<Cell><Data ss:Type="String">${y(t,e,n)}</Data></Cell>`).join("")}</Row>`})}return`${r}</Table></Worksheet></Workbook>`})(n,i,s)}return""},D=(e,t)=>{const{filename:n,type:o,download:l}=e;if(!l){const n=function(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}(t,e);return Promise.resolve({type:o,content:t,blob:n})}Im.saveFile&&Im.saveFile({filename:n,type:o,content:t}).then(()=>{!1!==e.message&&Im.modal&&Im.modal.message({content:IT("vxe.table.expSuccess"),status:"success"})})},T=t=>{const{remote:n,columns:o,colgroups:l,exportMethod:r,afterExportMethod:a}=t;return new Promise(a=>{if(n){const n={options:t,$table:e,$grid:f};a(r?r(n):n)}else{const n=(t=>{const{columns:n,dataFilterMethod:o}=t;let l=t.data;return o&&(l=l.filter((t,n)=>o({$table:e,row:t,$rowIndex:n}))),w(t,n,l)})(t);a(e.preventEvent(null,"event.export",{options:t,columns:o,colgroups:l,datas:n},()=>D(t,E(e,t,o,n))))}}).then(n=>(UT(o),t.print||a&&a({status:!0,options:t,$table:e,$grid:f}),Object.assign({status:!0},n))).catch(()=>{UT(o),t.print||a&&a({status:!1,options:t,$table:e,$grid:f});return Promise.reject({status:!1})})},O=(t,n)=>{const{tableFullColumn:o,_importResolve:l,_importReject:a}=r;let i={fields:[],rows:[]};const s={},c={};o.forEach(e=>{const t=e.field,n=e.getTitle();t&&(s[t]=e),n&&(c[e.getTitle()]=e)});const u={fieldMaps:s,titleMaps:c};switch(n.type){case"csv":i=function(e,t){return GT(e,t,",")}(u,t);break;case"txt":i=function(e,t){return GT(e,t,"\t")}(u,t);break;case"html":i=function(e,t){const n=zT((new DOMParser).parseFromString(t,"text/html"),"body"),o=[],l=[];if(n.length){const t=zT(n[0],"table");if(t.length){const n=zT(t[0],"thead");if(n.length){np.arrayEach(zT(n[0],"tr"),t=>{np.arrayEach(zT(t,"th"),t=>{l.push(qT(e,t.textContent||""))})});const r=zT(t[0],"tbody");r.length&&np.arrayEach(zT(r[0],"tr"),e=>{const t={};np.arrayEach(zT(e,"td"),(e,n)=>{l[n]&&(t[l[n]]=e.textContent||"")}),o.push(t)})}}}return{fields:l,rows:o}}(u,t);break;case"xml":i=function(e,t){const n=zT((new DOMParser).parseFromString(t,"application/xml"),"Worksheet"),o=[],l=[];if(n.length){const t=zT(n[0],"Table");if(t.length){const n=zT(t[0],"Row");n.length&&(np.arrayEach(zT(n[0],"Cell"),t=>{l.push(qT(e,t.textContent||""))}),np.arrayEach(n,(e,t)=>{if(t){const t={},n=zT(e,"Cell");np.arrayEach(n,(e,n)=>{l[n]&&(t[l[n]]=e.textContent)}),o.push(t)}}))}}return{fields:l,rows:o}}(u,t)}const{fields:d,rows:p}=i;d.some(e=>s[e]||c[e])?e.createData(p).then(t=>{let o;return"insert"!==n.mode&&"insertBottom"!==n.mode||(o=e.insertAt(t,-1)),o="insertTop"===n.mode?e.insert(t):e.reloadData(t),!1!==n.message&&Im.modal&&Im.modal.message({content:IT("vxe.table.impSuccess",[p.length]),status:"success"}),o.then(()=>{l&&l({status:!0})})}):!1!==n.message&&(Im.modal&&Im.modal.message({content:IT("vxe.error.impFields"),status:"error"}),a&&a({status:!1}))},k=(t,n)=>{const{importMethod:o,afterImportMethod:l}=n,{type:a,filename:i}=RC(t),s=c.value;if(!o&&!np.includes(np.keys(s._typeMaps),a)){!1!==n.message&&Im.modal&&Im.modal.message({content:IT("vxe.error.notType",[a]),status:"error"});const e={status:!1};return Promise.reject(e)}return new Promise((l,s)=>{const c=e=>{l(e),r._importResolve=null,r._importReject=null},u=e=>{s(e),r._importResolve=null,r._importReject=null};if(r._importResolve=c,r._importReject=u,window.FileReader){const l=Object.assign({mode:"insertTop"},n,{type:a,filename:i});if(l.remote)o?Promise.resolve(o({file:t,options:l,$table:e})).then(()=>{c({status:!0})}).catch(()=>{c({status:!0})}):c({status:!0});else{const{tableFullColumn:n}=r;e.preventEvent(null,"event.import",{file:t,options:l,columns:n},()=>{const e=new FileReader;e.onerror=()=>{fS("vxe.error.notType",[a]),u({status:!1})},e.onload=e=>{O(e.target.result,l)},e.readAsText(t,l.encoding||"UTF-8")})}}else fS("vxe.error.notExp"),c({status:!0})}).then(()=>{l&&l({status:!0,options:n,$table:e})}).catch(t=>(l&&l({status:!1,options:n,$table:e}),Promise.reject(t)))},R=(e,t,n)=>n.some(e=>{if(mE(e))return t.id===e.id;if(np.isString(e))return t.field===e;{const n=e.id||e.colId,o=e.type,l=e.field;if(n)return t.id===n;if(l&&o)return t.field===l&&t.type===o;if(l)return t.field===l;if(o)return t.type===o}return!1}),I=(e,t,n,o)=>(!o||!np.includes(o,t.field))&&(n?!!np.includes(n,t.field):e.original?!!t.field:VT(t)),P=(n,a)=>{const{treeConfig:i,showHeader:c,showFooter:d}=o,{initStore:p,isGroup:m,footerTableData:g,exportStore:v,exportParams:h}=l,{collectColumn:b,mergeBodyList:x,mergeFooterList:w}=r,y=s.value,C=i,S=u.value,E=e.getCheckboxRecords(),D=f?f.getComputeMaps().computeProxyOpts.value:{},T=!!g.length,O=!(!x.length&&!w.length),k=Object.assign({message:!0,isHeader:c,isTitle:c,isFooter:d,isColgroup:m,isMerge:O,useStyle:!0,current:"current",modes:(D.ajax&&D.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},n),P=k.types||np.keys(y._typeMaps),F=k.modes||[],M=S.checkMethod,A=b.slice(0),{columns:V,excludeFields:$,includeFields:N}=k,L=P.map(e=>({value:e,label:IT(`vxe.export.types.${e}`)})),_=F.map(e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:IT(`vxe.export.modes.${e}`)});np.eachTree(A,(t,n,o,l,r)=>{const a=t.children&&t.children.length>0;let i=!1;i=V&&V.length?R(0,t,V):$||N?I(k,t,N,$):t.visible&&(a||VT(t)),t.checked=i,t.halfChecked=!1,t.disabled=r&&r.disabled||!!M&&!M({$table:e,column:t})}),Object.assign(v,{columns:A,typeList:L,modeList:_,hasFooter:T,hasMerge:O,hasTree:C,isPrint:a,hasColgroup:m,visible:!0}),Object.assign(h,{mode:E.length?"selected":"current"},k);const{filename:B,sheetName:z,mode:j,type:H}=h;return B&&(np.isFunction(B)?h.filename=B({options:k,$table:e,$grid:f}):h.filename=`${B}`),z&&(np.isFunction(z)?h.sheetName=z({options:k,$table:e,$grid:f}):h.sheetName=`${z}`),_.some(e=>e.value===j)||(h.mode=_[0].value),L.some(e=>e.value===H)||(h.type=L[0].value),p.export=!0,t()},F=()=>Im.modal?Im.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),M={exportData(t){const{treeConfig:n,showHeader:i,showFooter:c}=o,{isGroup:u}=l,{tableFullColumn:d,afterFullData:p,afterTreeFullData:m,collectColumn:g,mergeBodyList:v,mergeFooterList:h}=r,b=s.value,x=a.value,w=f?f.getComputeMaps().computeProxyOpts.value:{},y=!(!v.length&&!h.length),C=Object.assign({message:!0,isHeader:i,isTitle:i,isFooter:c,isColgroup:u,isMerge:y,useStyle:!0,current:"current",modes:(w.ajax&&w.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},b,t);let{filename:S,sheetName:E,type:D,mode:O,columns:k,original:P,columnFilterMethod:F,beforeExportMethod:M,includeFields:A,excludeFields:V}=C,$=[];const N=e.getCheckboxRecords();O||(O=N.length?"selected":"current");let L=!1,_=[];k&&k.length?(L=!0,_=k):_=np.searchTree(g,e=>{const t=e.children&&e.children.length>0;let n=!1;return n=k&&k.length?R(0,e,k):V||A?I(C,e,A,V):e.visible&&(t||VT(e)),n},{children:"children",mapChildren:"childNodes",original:!0});const B=Object.assign({},C,{filename:"",sheetName:""});L||F||(F=({column:e})=>(!V||!np.includes(V,e.field))&&(A?!!np.includes(A,e.field):P?!!e.field:VT(e)),B.columnFilterMethod=F),_?(B._isCustomColumn=!0,$=np.searchTree(np.mapTree(_,t=>{let n;if(t){if(mE(t))n=t;else if(np.isString(t))n=e.getColumnByField(t);else{const o=t.id||t.colId,l=t.type,r=t.field;o?n=e.getColumnById(o):r&&l?n=d.find(e=>e.field===r&&e.type===l):r?n=e.getColumnByField(r):l&&(n=d.find(e=>e.type===l))}return n||{}}},{children:"childNodes",mapChildren:"_children"}),(t,n)=>mE(t)&&(!F||F({$table:e,column:t,$columnIndex:n})),{children:"_children",mapChildren:"childNodes",original:!0})):$=np.searchTree(u?g:d,(t,n)=>t.visible&&(!F||F({$table:e,column:t,$columnIndex:n})),{children:"children",mapChildren:"childNodes",original:!0});const z=[];if(np.eachTree($,e=>{e.children&&e.children.length||z.push(e)},{children:"childNodes"}),B.columns=z,B.colgroups=(e=>{let t=1;const n=(e,o)=>{if(o&&(e._level=o._level+1,t<e._level&&(t=e._level)),e.childNodes&&e.childNodes.length){let t=0;e.childNodes.forEach(o=>{n(o,e),t+=o._colSpan}),e._colSpan=t}else e._colSpan=1};e.forEach(e=>{e._level=1,n(e)});const o=[];for(let l=0;l<t;l++)o.push([]);return $T(e).forEach(e=>{e.childNodes&&e.childNodes.length?e._rowSpan=1:e._rowSpan=t-e._level+1,o[e._level-1].push(e)}),o})($),S&&(np.isFunction(S)?B.filename=S({options:C,$table:e,$grid:f}):B.filename=`${S}`),B.filename||(B.filename=IT(B.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[np.toDateString(Date.now(),"yyyyMMddHHmmss")])),E&&(np.isFunction(E)?B.sheetName=E({options:C,$table:e,$grid:f}):B.sheetName=`${E}`),B.sheetName||(B.sheetName=document.title||""),!B.exportMethod&&!np.includes(np.keys(b._typeMaps),D)){fS("vxe.error.notType",[D]),["xlsx","pdf"].includes(D)&&gS("vxe.error.reqPlugin",[4,"plugin-export-xlsx"]);const e={status:!1};return Promise.reject(e)}if(B.print||M&&M({options:B,$table:e,$grid:f}),B.data)B._isCustomData=!0;else{if(B.data=[],"selected"===O)["html","pdf"].indexOf(D)>-1&&n?B.data=np.searchTree(e.getTableData().fullData,t=>e.findRowIndexOf(N,t)>-1,Object.assign({},x,{data:"_row"})):B.data=N;else if("all"===O&&(f||fS("vxe.error.errProp",["all","mode=current,selected"]),f&&!B.remote)){const t=f.reactData,{computeProxyOpts:n}=f.getComputeMaps(),o=n.value,{sortData:l}=t,{beforeQueryAll:r,afterQueryAll:a,ajax:i={}}=o,s=o.response||o.props||{},c=i.queryAll,u=i.queryAllSuccess,d=i.queryAllError;if(c||fS("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),c){const n={$table:e,$grid:f,sort:l.length?l[0]:{},sorts:l,filters:t.filterData,form:t.formData,options:B};return Promise.resolve((r||c)(n)).then(e=>{const t=s.list;return B.data=(t?np.isFunction(t)?t({data:e,$grid:f}):np.get(e,t):e)||[],a&&a(n),u&&u(Object.assign(Object.assign({},n),{response:e})),T(B)}).catch(e=>{d&&d(Object.assign(Object.assign({},n),{response:e}))})}}"current"===O&&(B.data=n?m:p)}return T(B)},importByFile(t,n){const o=Object.assign({},n),{beforeImportMethod:l}=o;return l&&l({options:o,$table:e}),k(t,o)},importData(t){const n=c.value,o=Object.assign({types:np.keys(n._typeMaps)},n,t),{beforeImportMethod:l,afterImportMethod:r}=o;return l&&l({options:o,$table:e}),Im.readFile(o).catch(t=>(r&&r({status:!1,options:o,$table:e}),Promise.reject(t))).then(e=>{const{file:t}=e;return k(t,o)})},saveFile:e=>Im.saveFile(e),readFile:e=>Im.readFile(e),print(t){const n=i.value,o=Object.assign({original:!1},n,t,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:l}=o;let r="";l&&(r=np.isFunction(l)?l({options:o,$table:e,$grid:f}):`${l}`),r||(r=document.title||"");const a=o.beforePrintMethod,s=o.html||o.content;return new Promise((t,n)=>{if(Im.print)t(s?Im.print({title:r,html:s,customStyle:o.style,beforeMethod:a?({html:t})=>a({html:t,content:t,options:o,$table:e}):void 0}):M.exportData(o).then(({content:t})=>Im.print({title:r,html:t,customStyle:o.style,beforeMethod:a?({html:t})=>a({html:t,content:t,options:o,$table:e}):void 0})));else{n({status:!1})}})},getPrintHtml(t){const n=i.value,o=Object.assign({original:!1},n,t,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(o).then(({content:e})=>({html:e}))},closeImport:()=>Im.modal?Im.modal.close("VXE_IMPORT_MODAL"):Promise.resolve(),openImport(e){const{treeConfig:t,importConfig:n}=o,{initStore:r,importStore:a,importParams:i}=l,s=c.value,u=Object.assign({mode:"insertTop",message:!0,types:np.keys(s._typeMaps),modes:["insertTop","covering"]},s,e),d=u.types||[],p=u.modes||[];if(!!t)return void(u.message&&Im.modal&&Im.modal.message({content:IT("vxe.error.treeNotImp"),status:"error"}));n||fS("vxe.error.reqProp",["import-config"]);const m=d.map(e=>({value:e,label:IT(`vxe.export.types.${e}`)})),g=p.map(e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:IT(`vxe.import.modes.${e}`)});Object.assign(a,{file:null,type:"",filename:"",modeList:g,typeList:m,visible:!0}),Object.assign(i,u),g.some(e=>e.value===i.mode)||(i.mode=g[0].value),r.import=!0},closeExport:F,openExport(e){const t=s.value,n=Object.assign({message:!0,types:np.keys(t._typeMaps)},t,e);return o.exportConfig||fS("vxe.error.reqProp",["export-config"]),P(n)},closePrint:F,openPrint(e){const t=i.value,n=Object.assign({message:!0},t,e);return o.printConfig||fS("vxe.error.reqProp",["print-config"]),P(n,!0)}};return M},setupGrid:e=>e.extendTableMethods(KT)});const{hooks:YT}=Im,XT=np.browse();YT.add("tableKeyboardModule",{setupTable(e){const{props:t,reactData:n,internalData:o}=e,{refElem:l}=e.getRefMaps(),{computeEditOpts:r,computeCheckboxOpts:a,computeMouseOpts:i,computeTreeOpts:s,computeRowOpts:c,computeColumnOpts:u,computeCellOpts:d,computeDefaultRowHeight:p,computeCurrentRowOpts:m,computeCurrentColumnOpts:g}=e.getComputeMaps();const f=(r,a)=>{const{elemStore:i}=o,s=uE(i["main-body-scroll"]),u=uE(i["left-body-scroll"]),m=uE(i["right-body-scroll"]),{column:g,cell:f}=a;if("checkbox"===g.type){let i=s;if(u&&"left"===g.fixed?i=u:m&&"right"===g.fixed&&(i=m),!i)return;const v=l.value,h=r.clientX,b=r.clientY,x=i.querySelector(".vxe-table--checkbox-range"),w=f.parentElement,y=e.getCheckboxRecords();let C=[];const S=1,E=function(e,t){let n=0,o=0;const l=!XT.firefox&&OS(e,"vxe-checkbox--label");if(l){const t=getComputedStyle(e);n-=np.toNumber(t.paddingTop),o-=np.toNumber(t.paddingLeft)}for(;e&&e!==t;)if(n+=e.offsetTop,o+=e.offsetLeft,e=e.offsetParent,l){const t=getComputedStyle(e);n-=np.toNumber(t.paddingTop),o-=np.toNumber(t.paddingLeft)}return{offsetTop:n,offsetLeft:o}}(r.target,i),D=E.offsetTop+r.offsetY,T=E.offsetLeft+r.offsetX,O=i.scrollTop,k=w.offsetHeight,R=w.getBoundingClientRect(),I=b-R.y;let P=null,F=!1,M=1;const A=(t,n)=>{e.dispatchEvent(`checkbox-range-${t}`,{records:()=>e.getCheckboxRecords(),reserves:()=>e.getCheckboxReserveRecords()},n)},V=l=>{const{clientX:r,clientY:s}=l,u=r-h,m=s-b+(i.scrollTop-O);let g=Math.abs(m),f=Math.abs(u),v=D,E=T;m<S?(v+=m,v<S&&(v=S,g=D)):g=Math.min(g,i.scrollHeight-D-S),u<S?(E+=u,f>T&&(E=S,f=T)):f=Math.min(f,i.clientWidth-T-S),x.style.height=`${g}px`,x.style.width=`${f}px`,x.style.left=`${E}px`,x.style.top=`${v}px`,x.style.display="block";const k=function(l,r,a,i,s,u){const{showOverflow:m}=t,{fullAllDataRowIdData:g,isResizeCellHeight:f}=o,v=c.value,h=d.value,b=p.value,{row:x}=r;let w=0,y=[],C=0;const S=u>0,{scrollYLoad:E}=n,{afterFullData:D}=o;if(C=S?s+u:i.height-s+Math.abs(u),E){const t=e.getVTRowIndex(x);if(f||h.height||v.height||!m)if(S)for(let n=t;n<D.length;n++){const t=D[n],o=g[e.getRowid(t)]||{};if(w+=o.resizeHeight||h.height||v.height||o.height||b,y.push(t),w>C)return y}else for(let n=t;n>=0;n--){const t=D[n],o=g[e.getRowid(t)]||{};if(w+=o.resizeHeight||h.height||v.height||o.height||b,y.push(t),w>C)return y}else y=S?D.slice(t,t+Math.ceil(C/b)):D.slice(t-Math.floor(C/b),t+1)}else{const t=S?"next":"previous";for(;a&&w<C;){const n=e.getRowNode(a);n&&(y.push(n.item),w+=a.offsetHeight,a=a[`${t}ElementSibling`])}}return y}(0,a,w,R,I,m<S?-g:g);if(g>10&&k.length!==C.length){const t=IS(l);C=k,t?k.forEach(t=>{e.handleBatchSelectRows([t],-1===y.indexOf(t))}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(k,!0,!1)),A("change",l)}},$=()=>{clearTimeout(P),P=null},N=t=>{$(),P=setTimeout(()=>{if(P){const{scrollLeft:n,scrollTop:o,clientHeight:l,scrollHeight:r}=i,a=Math.ceil(50*M/k);F?o+l<r?(e.scrollTo(n,o+a),N(t),V(t)):$():o?(e.scrollTo(n,o-a),N(t),V(t)):$()}},50)};RS(v,"drag--range"),document.onmousemove=e=>{e.preventDefault(),e.stopPropagation();const{clientY:t}=e,{boundingTop:n}=BS(i);t<n?(F=!1,M=n-t,P||N(e)):t>n+i.clientHeight?(F=!0,M=t-n-i.clientHeight,P||N(e)):P&&$(),V(e)},document.onmouseup=e=>{$(),kS(v,"drag--range"),x.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,A("end",e)},A("start",r)}},v=(t,n,l,r,a,i)=>{const{afterFullData:s,visibleColumn:c}=o,u=Object.assign({},n),d=e.getVTRowIndex(u.row),p=e.getVTColumnIndex(u.column);return t.preventDefault(),r&&d>0?(u.rowIndex=d-1,u.row=s[u.rowIndex]):i&&d<s.length-1?(u.rowIndex=d+1,u.row=s[u.rowIndex]):l&&p?(u.columnIndex=p-1,u.column=c[u.columnIndex]):a&&p<c.length-1&&(u.columnIndex=p+1,u.column=c[u.columnIndex]),e.scrollToRow(u.row,u.column).then(()=>{u.cell=e.getCellElement(u.row,u.column),e.handleSelected(u,t)}),u};return{moveTabSelected(n,l,a){const{editConfig:i}=t,{afterFullData:s,visibleColumn:d}=o,p=r.value,f=c.value,v=m.value,h=u.value,b=g.value;let x,w,y;const C=Object.assign({},n),S=e.getVTRowIndex(C.row),E=e.getVTColumnIndex(C.column);a.preventDefault(),l?E<=0?S>0&&(w=S-1,x=s[w],y=d.length-1):y=E-1:E>=d.length-1?S<s.length-1&&(w=S+1,x=s[w],y=0):y=E+1;const D=d[y];D&&(x?(C.rowIndex=w,C.row=x):C.rowIndex=S,C.columnIndex=y,C.column=D,C.cell=e.getCellElement(C.row,C.column),f.isCurrent&&v.isFollowSelected&&e.triggerCurrentRowEvent(a,C),h.isCurrent&&b.isFollowSelected&&e.triggerCurrentColumnEvent(a,C),i?"click"!==p.trigger&&"dblclick"!==p.trigger||("row"===p.mode?e.handleEdit(C,a):e.scrollToRow(C.row,C.column).then(()=>{e.handleSelected(C,a)})):e.scrollToRow(C.row,C.column).then(()=>{e.handleSelected(C,a)}))},moveCurrentRow(l,r,a){const{treeConfig:i}=t,{currentRow:c}=n,{afterFullData:u}=o,d=s.value,p=d.children||d.childrenField;let m;if(c)if(i){const{index:e,items:t}=np.findTree(u,e=>e===c,{children:p});l&&e>0?m=t[e-1]:r&&e<t.length-1&&(m=t[e+1])}else{const t=e.getVTRowIndex(c);l&&t>0?m=u[t-1]:r&&t<u.length-1&&(m=u[t+1])}else m=u[0];if(m){a.preventDefault();const t={$table:e,row:m,rowIndex:e.getRowIndex(m),$rowIndex:e.getVMRowIndex(m)};e.scrollToRow(m).then(()=>e.triggerCurrentRowEvent(a,t))}},moveCurrentColumn(t,l,r){const{currentColumn:a}=n,{visibleColumn:i}=o;let s=null;if(a){const n=e.getVTColumnIndex(a);t&&n>0?s=i[n-1]:l&&n<i.length-1&&(s=i[n+1])}else s=i[0];if(s){r.preventDefault();const t={$table:e,column:s,columnIndex:e.getColumnIndex(s),$columnIndex:e.getVMColumnIndex(s)};e.scrollToColumn(s).then(()=>e.triggerCurrentColumnEvent(r,t))}},moveArrowSelected(n,o,l,r,a,i){const{highlightCurrentRow:s,highlightCurrentColumn:d}=t,p=c.value,f=m.value,h=u.value,b=g.value,x=v(i,n,o,l,r,a);(p.isCurrent||s)&&(f.isFollowSelected?e.triggerCurrentRowEvent(i,x):(l||a)&&(p.isCurrent||s)&&e.moveCurrentRow(l,a,i)),(h.isCurrent||d)&&(b.isFollowSelected?e.triggerCurrentColumnEvent(i,x):(o||r)&&(h.isCurrent||d)&&e.moveCurrentColumn(o,r,i))},moveEnterSelected(n,o,l,r,a,i){const{highlightCurrentRow:s,highlightCurrentColumn:d}=t,p=c.value,f=m.value,h=u.value,b=g.value,x=v(i,n,o,l,r,a);(p.isCurrent||s)&&f.isFollowSelected&&e.triggerCurrentRowEvent(i,x),(h.isCurrent||d)&&b.isFollowSelected&&e.triggerCurrentColumnEvent(i,x)},moveSelected(e,t,n,o,l,r){v(r,e,t,n,o,l)},handleCellMousedownEvent:(n,o)=>{const{editConfig:l,checkboxConfig:s,mouseConfig:c}=t,u=a.value,d=i.value,p=r.value;if(c&&d.area&&e.triggerCellAreaMousedownEvent)return e.triggerCellAreaMousedownEvent(n,o);s&&u.range&&f(n,o),c&&d.selected&&(l&&"cell"!==p.mode||e.handleSelected(o,n))}}}});const{getConfig:ZT,validators:QT,hooks:JT}=Im;class eO{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.max,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return MC(this.$options.content||this.$options.message)}get message(){return this.content}}function tO(e,t){return!(!np.eqNull(e)&&t>np.toNumber(e))}function nO(e,t){return!(!np.eqNull(e)&&t<np.toNumber(e))}function oO(e,t,n){const{type:o,min:l,max:r,pattern:a}=e,i="array"===o,s="number"===o,c="string"===o,u=`${t}`;if(!function(e,t){return!(e&&!(np.isRegExp(e)?e:new RegExp(e)).test(t))}(a,u))return!1;if(i){if(!np.isArray(t))return!1;if(n&&!t.length)return!1;if(!nO(l,t.length))return!1;if(!tO(r,t.length))return!1}else if(s){const e=Number(t);if(isNaN(e))return!1;if(!nO(l,e))return!1;if(!tO(r,e))return!1}else{if(c&&!np.isString(t))return!1;if(n&&!u)return!1;if(!nO(l,u.length))return!1;if(!tO(r,u.length))return!1}return!0}const lO=["fullValidate","validate","fullValidateField","validateField","clearValidate"];JT.add("tableValidatorModule",{setupTable(e){const{props:n,reactData:o,internalData:l}=e,{refValidTooltip:r}=e.getRefMaps(),{computeValidOpts:a,computeTreeOpts:i,computeEditOpts:s,computeAggregateOpts:c}=e.getComputeMaps();let u,d={},p={};const m=(r,s,m,g)=>{const f={},{editRules:v,treeConfig:h}=n,{isRowGroupStatus:b}=o,{afterFullData:x,pendingRowMaps:w,removeRowMaps:y}=l,C=i.value,S=c.value,E=a.value;let D;!0===r?D=x:r&&(np.isFunction(r)?m=r:D=np.isArray(r)?r:[r]),D||(D=e.getInsertRecords?e.getInsertRecords().concat(e.getUpdateRecords()):[]);const T=[];l._lastCallTime=Date.now(),u=!1,d.clearValidate();const O={};if(v){const n=s&&s.length?s:e.getColumns(),l=t=>{const o=US(e,t);if(!y[o]&&!w[o]&&!e.isAggregateRecord(t)&&(g||!u)){const o=[];n.forEach(n=>{const l=np.isString(n)?n:n.field;!g&&u||!np.has(v,l)||o.push(p.validCellRules("all",t,n).catch(({rule:o,rules:r})=>{const a={rule:o,rules:r,rowIndex:e.getRowIndex(t),row:t,columnIndex:e.getColumnIndex(n),column:n,field:l,$table:e};if(f[l]||(f[l]=[]),O[`${US(e,t)}:${n.id}`]={column:n,row:t,rule:o,content:o.content},f[l].push(a),!g)return u=!0,Promise.reject(a)}))}),T.push(Promise.all(o))}};if(b)np.eachTree(D,l,{children:S.mapChildrenField});else if(h){const e=C.children||C.childrenField;np.eachTree(D,l,{children:e})}else D.forEach(l);return Promise.all(T).then(()=>{const e=Object.keys(f);return o.validErrorMaps=(e=>{if("single"===a.value.msgMode){const t=Object.keys(e),n={};if(t.length){const o=t[0];n[o]=e[o]}return n}return e})(O),t().then(()=>{if(e.length)return Promise.reject(f[e[0]][0]);m&&m()})}).catch(n=>new Promise((o,l)=>{const r=()=>{t(()=>{m?(m(f),o()):"obsolete"===ZT().validToReject?l(f):o(f)})},i=()=>{var t,o;n.cell=e.getCellElement(n.row,n.column),(t=n.cell)&&(t[zS]?t[zS]():t[jS]&&t[jS]()),(o=n,new Promise(t=>{!1===a.value.autoPos?(e.dispatchEvent("valid-error",o,null),t()):e.handleEdit(o,{type:"valid-error",trigger:"call"}).then(()=>{t(p.showValidTooltip(o))})})).then(r)};if(!1===E.autoPos)r();else{const t=n.row,o=n.column;e.scrollToRow(t,o).then(i)}}))}return o.validErrorMaps={},t().then(()=>{m&&m()})};return d={fullValidate:(e,t)=>(np.isFunction(t)&&gS("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),m(e,null,t,!0)),validate:(e,t)=>m(e,null,t),fullValidateField(n,o){const l=(np.isArray(o)?o:o?[o]:[]).map(t=>tE(e,t));return l.length?m(n,l,null,!0):t()},validateField(n,o){const l=(np.isArray(o)?o:o?[o]:[]).map(t=>tE(e,t));return l.length?m(n,l,null):t()},clearValidate(n,l){const{validErrorMaps:i}=o,s=r.value,c=a.value,u=np.isArray(n)?n:n?[n]:[],d=(np.isArray(l)?l:l?[l]:[]).map(t=>tE(e,t));let p={};if(s&&s.reactData.visible&&s.close(),"single"===c.msgMode)return o.validErrorMaps={},t();if(u.length&&d.length)p=Object.assign({},i),u.forEach(t=>{d.forEach(n=>{const o=`${US(e,t)}:${n.id}`;p[o]&&delete p[o]})});else if(u.length){const t=u.map(t=>`${US(e,t)}`);np.each(i,(e,n)=>{t.indexOf(n.split(":")[0])>-1&&(p[n]=e)})}else if(d.length){const e=d.map(e=>`${e.id}`);np.each(i,(t,n)=>{e.indexOf(n.split(":")[1])>-1&&(p[n]=t)})}return o.validErrorMaps=p,t()}},p={validCellRules(t,o,l,r){const a=e.xeGrid,{editRules:i}=n,{field:s}=l,c=[],d=[];if(s&&i){const n=np.get(i,s);if(n){const i=np.isUndefined(r)?np.get(o,s):r;n.forEach(r=>{const{trigger:s,validator:p}=r;if("all"===t||!s||t===s)if(p){const t={cellValue:i,rule:r,rules:n,row:o,rowIndex:e.getRowIndex(o),column:l,columnIndex:e.getColumnIndex(l),field:l.field,$table:e,$grid:a};let m;if(np.isString(p)){const e=QT.get(p);if(e){const n=e.tableCellValidatorMethod||e.cellValidatorMethod;n?m=n(t):fS("vxe.error.notValidators",[p])}else fS("vxe.error.notValidators",[p])}else m=p(t);m&&(np.isError(m)?(u=!0,c.push(new eO({type:"custom",trigger:s,content:m.message,rule:new eO(r)}))):m.catch&&d.push(m.catch(e=>{u=!0,c.push(new eO({type:"custom",trigger:s,content:e&&e.message?e.message:r.content||r.message,rule:new eO(r)}))})))}else(function(e,t){const{required:n}=e,o=np.isArray(t)?!t.length:VC(t);if(n){if(o)return!1;if(!oO(e,t,n))return!1}else if(!o&&!oO(e,t,n))return!1;return!0})(r,i)||(u=!0,c.push(new eO(r)))})}}return Promise.all(d).then(()=>{if(c.length){const e={rules:c,rule:c[0]};return Promise.reject(e)}})},hasCellRules(e,t,o){const{editRules:l}=n,{field:r}=o;if(r&&l){const t=np.get(l,r);return t&&!!np.find(t,t=>"all"===e||!t.trigger||e===t.trigger)}return!1},triggerValidate(e){const{editConfig:t,editRules:l}=n,{editStore:r}=o,{actived:i}=r,c=s.value,u=a.value;if(l&&"single"===u.msgMode&&(o.validErrorMaps={}),t&&l&&i.row){const{row:t,column:n,cell:o}=i.args;if(p.hasCellRules(e,t,n))return p.validCellRules(e,t,n).then(()=>{"row"===c.mode&&d.clearValidate(t,n)}).catch(({rule:l})=>{if(!l.trigger||e===l.trigger){const e={rule:l,row:t,column:n,cell:o};return p.showValidTooltip(e),Promise.reject(e)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(l){const{height:i}=n,{tableData:s,validStore:c,validErrorMaps:u}=o,{rule:d,row:p,column:m,cell:g}=l,f=a.value,v=r.value,h=d.content;return c.visible=!0,"single"===f.msgMode?o.validErrorMaps={[`${US(e,p)}:${m.id}`]:{column:m,row:p,rule:d,content:h}}:o.validErrorMaps=Object.assign({},u,{[`${US(e,p)}:${m.id}`]:{column:m,row:p,rule:d,content:h}}),e.dispatchEvent("valid-error",l,null),v&&v&&("tooltip"===f.message||"default"===f.message&&!i&&s.length<2)?v.open(g,h):t()}},Object.assign(Object.assign({},d),p)},setupGrid:e=>e.extendTableMethods(lO)});const rO=["openCustom","closeCustom","toggleCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];Im.hooks.add("tableCustomModule",{setupTable(e){const{reactData:n,internalData:o}=e,{computeCustomOpts:l,computeRowGroupFields:r}=e.getComputeMaps(),{refElem:a}=e.getRefMaps(),i=e.xeGrid,s=()=>{const{customStore:e}=n,t=a.value;let o=0;t&&(o=t.clientHeight-28),e.maxHeight=Math.max(88,o)},c=()=>{const{initStore:e,customStore:o}=n;return o.visible=!0,e.custom=!0,u(),g(),s(),t().then(()=>s())},u=()=>{const{customStore:e}=n,{collectColumn:t}=o;if(e.visible){const o={},l={},r={};np.eachTree(t,e=>{const t=e.getKey();e.renderFixed=e.fixed,e.renderVisible=e.visible,e.renderResizeWidth=e.renderWidth,o[t]=e.renderSortNumber,l[t]=e.fixed,r[t]=e.visible}),e.oldSortMaps=o,e.oldFixedMaps=l,e.oldVisibleMaps=r,n.customColumnList=t.slice(0)}},d=()=>{const{customStore:o}=n,r=l.value;return o.visible&&(o.visible=!1,r.immediate||e.handleCustom()),t()},p=o=>{const{customStore:r}=n,{customColumnList:a}=n,i=l.value,{checkMethod:s,visibleMethod:c}=i,u=!!o;return i.immediate?(np.eachTree(a,t=>{c&&!c({$table:e,column:t})||s&&!s({$table:e,column:t})||(t.visible=u,t.renderVisible=u,t.halfVisible=!1)}),r.isAll=u,n.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(np.eachTree(a,t=>{c&&!c({$table:e,column:t})||s&&!s({$table:e,column:t})||(t.renderVisible=u,t.halfVisible=!1)}),r.isAll=u),e.checkCustomStatus(),t()},m={openCustom:c,closeCustom:d,toggleCustom:()=>{const{customStore:e}=n;return e.visible?d():c()},saveCustom:()=>{const{customColumnList:t,aggHandleFields:o,rowGroupList:r}=n,a=l.value,{allowVisible:i,allowSort:s,allowFixed:c,allowResizable:u,allowGroup:d,allowValues:p}=a;return np.eachTree(t,(e,t,n,o,l)=>{if(l)e.fixed=l.fixed;else{if(s){const n=t+1;e.renderSortNumber=n}c&&(e.fixed=e.renderFixed)}u&&(!e.renderVisible||e.children&&!e.children.length||e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth)),i&&(e.visible=e.renderVisible),d&&p&&(e.aggFunc=e.renderAggFn)}),n.isCustomStatus=!0,n.isDragColMove=!0,setTimeout(()=>{n.isDragColMove=!1},1e3),e.saveCustomStore("confirm").then(()=>{d&&p&&e.handlePivotTableAggregateData&&(r.length!==o.length||r.some((e,t)=>e.field!==o[t])?o.length?e.setRowGroups(o):e.clearRowGroups():e.handleUpdateAggData())})},cancelCustom:()=>{const{customColumnList:e,customStore:o}=n,{oldSortMaps:r,oldFixedMaps:a,oldVisibleMaps:i}=o,s=l.value,{allowVisible:c,allowSort:u,allowFixed:d,allowResizable:p}=s;return np.eachTree(e,e=>{const t=e.getKey(),n=!!i[t],o=a[t]||"";c&&(e.renderVisible=n,e.visible=n),d&&(e.renderFixed=o,e.fixed=o),u&&(e.renderSortNumber=r[t]||0),p&&(e.renderResizeWidth=e.renderWidth)},{children:"children"}),t()},resetCustom(t){const{rowGroupList:a}=n,{collectColumn:i}=o,s=l.value,{checkMethod:c}=s,u=Object.assign({visible:!0,resizable:!0===t,fixed:!0===t,sort:!0===t,aggFunc:!0===t},t);return np.eachTree(i,t=>{u.resizable&&(t.resizeWidth=0),u.fixed&&(t.fixed=t.defaultFixed),u.sort&&(t.renderSortNumber=t.sortNumber),c&&!c({$table:e,column:t})||(t.visible=t.defaultVisible),u.aggFunc&&(t.aggFunc=t.defaultAggFunc,t.renderAggFn=t.defaultAggFunc),t.renderResizeWidth=t.renderWidth}),n.isCustomStatus=!1,e.saveCustomStore("reset"),e.handleCustom().then(()=>{if(u.aggFunc&&e.handlePivotTableAggregateData){const t=r.value;(t?t.length:a.length)?t&&t.length?e.setRowGroups(t):e.clearRowGroups():e.handleUpdateAggData()}})},toggleCustomAllCheckbox(){const{customStore:e}=n,t=!e.isAll;return p(t)},setCustomAllCheckbox:p},g=()=>{const{customStore:t}=n,{collectColumn:r}=o,a=l.value,{checkMethod:i}=a;t.isAll=r.every(t=>!!i&&!i({$table:e,column:t})||t.renderVisible),t.isIndeterminate=!t.isAll&&r.some(t=>(!i||i({$table:e,column:t}))&&(t.renderVisible||t.halfVisible))},f=(t,n)=>{(i||e).dispatchEvent("custom",{type:t},n)},v={checkCustomStatus:g,emitCustomEvent:f,triggerCustomEvent(t){const n=e.reactData,{customStore:o}=n;o.visible?(d(),f("close",t)):(o.btnEl=t.target,c(),f("open",t))},customOpenEvent(t){const n=e.reactData,{customStore:o}=n;o.visible||(o.activeBtn=!0,o.btnEl=t.target,e.openCustom(),e.emitCustomEvent("open",t))},customCloseEvent(t){const n=e.reactData,{customStore:o}=n;o.visible&&(o.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",t))},handleUpdateCustomColumn:u};return Object.assign(Object.assign({},m),v)},setupGrid:e=>e.extendTableMethods(rO)});const{getConfig:aO,renderer:iO,getI18n:sO,getComponent:cO}=Im,uO="modelValue",dO={};function pO(e,t,n){return np.eqNull(e)?np.eqNull(t)?n:t:e}function mO(e,t,n){const{dateConfig:o={}}=t;return np.toDateString(function(e,t){return e&&t.valueFormat?np.toStringDate(e,t.valueFormat):e}(e,t),o.labelFormat||n)}function gO(e,t){return mO(e,t,sO(`vxe.input.date.labelFormat.${t.type||"date"}`))}function fO({name:e}){return cO(e)}function vO({name:e}){return C(function(e){return`vxe-${e.replace("$","")}`}(e))}function hO(e,t,n){const{$panel:o}=e;o.changeOption({},t,n)}function bO(e){let{name:t,attrs:n}=e;return"input"===t&&(n=Object.assign({type:"text"},n)),n}function xO(e){const{name:t,immediate:n,props:o}=e;if(!n){if("VxeInput"===t||"$input"===t){const{type:e}=o||{};return!(!e||"text"===e||"number"===e||"integer"===e||"float"===e)}return"input"!==t&&"textarea"!==t&&"$textarea"!==t}return n}function wO(e,t,n,o){return np.assign({immediate:xO(e)},dO,o,e.props,{[uO]:n})}function yO(e,t,n,o){return np.assign({},dO,o,e.props,{[uO]:n})}function CO(e,t){return"cell"===t.$type||xO(e)}function SO(e,t,n,o){const{placeholder:l}=e;return[y("span",{class:["vxe-cell--label",o?o.class:""]},l&&kC(n)?[y("span",{class:"vxe-cell--placeholder"},AC(MC(l),1))]:AC(n,1))]}function EO(e,t,n){const{events:o}=e,l=DE(e),r=TE(e),{model:a,change:i,blur:s}=n||{},c=r===l,u={};return o&&np.objectEach(o,(e,n)=>{u[EE(n)]=function(...n){e(t,...n)}}),a&&(u[EE(l)]=function(e){a(e),c&&i&&i(e),o&&o[l]&&o[l](t,e)}),!c&&i&&(u[EE(r)]=function(e){i(e),o&&o[r]&&o[r](t,e)}),s&&(u[EE(DO)]=function(e){s(e),o&&o[DO]&&o[DO](t,e)}),u}const DO="blur";function TO(e,t,n,o){const{events:l}=e,r=DE(e),a=TE(e),{model:i,change:s,blur:c}=n||{},u={};return np.objectEach(l,(e,n)=>{u[EE(n)]=function(...n){np.isFunction(e)||fS("vxe.error.errFunc",[e]),e(t,...n)}}),i&&(u[EE(r)]=function(e){i(e),l&&l[r]&&l[r](t,e)}),s&&(u[EE(a)]=function(...e){s(...e),l&&l[a]&&l[a](t,...e)}),c&&(u[EE(DO)]=function(...e){c(...e),l&&l[DO]&&l[DO](t,...e)}),o?Object.assign(u,o):u}function OO(e,t){const{$table:n,row:o,column:l}=t,{name:r}=e,{model:a}=l,i=CO(e,t);return TO(e,t,{model(e){a.update=!0,a.value=e,i&&cE(o,l,e)},change(e){if(!i&&r&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(r)){const o=e.value;a.update=!0,a.value=o,n.updateStatus(t,o)}else n.updateStatus(t)},blur(){i?n.handleCellRuleUpdateStatus("blur",t):n.handleCellRuleUpdateStatus("blur",t,a.value)}})}function kO(e,t,n){return TO(e,t,{model(e){n.data=e},change(){hO(t,!np.eqNull(n.data),n)},blur(){hO(t,!np.eqNull(n.data),n)}})}function RO(e,t){const{$table:n,row:o,column:l}=t,{model:r}=l;return EO(e,t,{model(n){const a=n.target;if(a){const n=a.value;CO(e,t)?cE(o,l,n):(r.update=!0,r.value=n)}},change(e){const o=e.target;if(o){const e=o.value;n.updateStatus(t,e)}},blur(e){const o=e.target;if(o){const e=o.value;n.updateStatus(t,e)}}})}function IO(e,t,n){return EO(e,t,{model(e){const t=e.target;t&&(n.data=t.value)},change(){hO(t,!np.eqNull(n.data),n)},blur(){hO(t,!np.eqNull(n.data),n)}})}function PO(e,t){const{row:n,column:o}=t,{name:l}=e,r=CO(e,t)?sE(n,o):o.model.value;return[y(l,Object.assign(Object.assign(Object.assign({class:`vxe-default-${l}`},bO(e)),{value:r}),RO(e,t)))]}function FO(e,t){const{row:n,column:o}=t,l=sE(n,o);return[y(fO(e),Object.assign(Object.assign({},wO(e,0,l)),OO(e,t)))]}function MO(e,t){const{options:n}=e,{row:o,column:l}=t,r=sE(o,l);return[y(fO(e),Object.assign(Object.assign({options:n},wO(e,0,r)),OO(e,t)))]}function AO(e,t){const{row:n,column:o}=t,l=sE(n,o);return[y(vO(e),Object.assign(Object.assign({},wO(e,0,l)),OO(e,t)))]}function VO(e,t){return[y(cO("vxe-button"),Object.assign(Object.assign({},wO(e,0,null)),TO(e,t)))]}function $O(e,t,n){const{optionGroups:o,optionGroupProps:l={}}=e,r=l.options||"options",a=l.label||"label";return o?o.map((o,l)=>y("optgroup",{key:l,label:o[a]},n(o[r],e,t))):[]}function NO(e,t,n){const{optionProps:o={}}=t,{row:l,column:r}=n,a=o.label||"label",i=o.value||"value",s=o.disabled||"disabled",c=CO(t,n)?sE(l,r):r.model.value;return e?e.map((e,t)=>y("option",{key:t,value:e[i],disabled:e[s],selected:e[i]==c},e[a])):[]}function LO(e,t){const{column:n}=t;return n.filters.map((n,o)=>{const l=n.data;return y(fO(e),Object.assign(Object.assign({key:o},yO(e,0,l)),kO(e,t,n)))})}function _O({option:e,row:t,column:n}){const{data:o}=e;return np.get(t,n.field)==o}function BO({option:e,row:t,column:n}){const{data:o}=e,l=np.get(t,n.field);return np.toValueString(l).indexOf(o)>-1}function zO(e,t){return[y("select",Object.assign(Object.assign({class:"vxe-default-select"},bO(e)),RO(e,t)),e.optionGroups?$O(e,t,NO):NO(e.options,e,t))]}function jO(e,t){const{row:n,column:o}=t,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i}=e,s=sE(n,o);return[y(fO(e),Object.assign(Object.assign({},wO(e,0,s,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i})),OO(e,t)))]}function HO(e,t){const{row:n,column:o}=t,{options:l,optionProps:r}=e,a=sE(n,o);return[y(fO(e),Object.assign(Object.assign({},wO(e,0,a,{options:l,optionProps:r})),OO(e,t)))]}function WO(e,t){const{row:n,column:o}=t,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i}=e,s=sE(n,o);return[y(vO(e),Object.assign(Object.assign({},wO(e,0,s,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i})),OO(e,t)))]}function qO(e,{row:t,column:n}){const{options:o,optionGroups:l,optionProps:r={},optionGroupProps:a={}}=e,i=np.get(t,n.field);let s;const c=r.label||"label",u=r.value||"value";return null!=i?np.map(np.isArray(i)?i:[i],l?e=>{const t=a.options||"options";for(let n=0;n<l.length&&(s=np.find(l[n][t],t=>t[u]==e),!s);n++);return s?s[c]:e}:e=>(s=np.find(o,t=>t[u]==e),s?s[c]:e)).join(", "):""}function GO(e){const{row:t,column:n,options:o}=e;return o.original?sE(t,n):qO(n.editRender||n.cellRender,e)}function UO(e,{row:t,column:n}){const{options:o,optionProps:l={}}=e,r=np.get(t,n.field),a=l.label||"label",i=l.value||"value",s=l.children||"children";if(null!=r){const e={};return np.eachTree(o,t=>{e[np.get(t,i)]=t},{children:s}),np.map(np.isArray(r)?r:[r],t=>{const n=e[t];return n?np.get(n,a):n}).join(", ")}return""}function KO(e){const{row:t,column:n,options:o}=e;return o.original?sE(t,n):UO(n.editRender||n.cellRender,e)}function YO(e,t){const{props:n={},showNegativeStatus:o}=e,{row:l,column:r}=t,{type:a}=n;let i=np.get(l,r.field),s=!1;if(!kC(i)){const e=aO().numberInput||{};if("float"===a){const t=pO(n.autoFill,e.autoFill,!0),l=pO(n.digits,e.digits,1);i=np.toFixed(np.floor(i,l),l),t||(i=np.toNumber(i)),o&&i<0&&(s=!0)}else if("amount"===a){const t=pO(n.autoFill,e.autoFill,!0),l=pO(n.digits,e.digits,2),r=pO(n.showCurrency,e.showCurrency,!1);if(i=np.toNumber(i),o&&i<0&&(s=!0),i=np.commafy(i,{digits:l}),!t){const[e,t]=i.split(".");if(t){const n=t.replace(/0+$/,"");i=n?[e,".",n].join(""):e}}r&&(i=`${n.currencySymbol||e.currencySymbol||sO("vxe.numberInput.currencySymbol")||""}${i}`)}else o&&np.toNumber(i)<0&&(s=!0)}return SO(e,0,i,s?{class:"is--negative"}:{})}iO.mixin({input:{tableAutoFocus:"input",renderTableEdit:PO,renderTableDefault:PO,renderTableFilter:function(e,t){const{column:n}=t,{name:o}=e,l=bO(e);return n.filters.map((n,r)=>y(o,Object.assign(Object.assign(Object.assign({key:r,class:`vxe-default-${o}`},l),{value:n.data}),IO(e,t,n))))},tableFilterDefaultMethod:BO},textarea:{tableAutoFocus:"textarea",renderTableEdit:PO},select:{renderTableEdit:zO,renderTableDefault:zO,renderTableCell:(e,t)=>SO(e,0,qO(e,t)),renderTableFilter(e,t){const{column:n}=t;return n.filters.map((n,o)=>y("select",Object.assign(Object.assign({key:o,class:"vxe-default-select"},bO(e)),IO(e,t,n)),e.optionGroups?$O(e,t,NO):NO(e.options,e,t)))},tableFilterDefaultMethod:_O,tableExportMethod:GO},VxeInput:{tableAutoFocus:"input",renderTableEdit:FO,renderTableCell(e,t){const{props:n={}}=e,{row:o,column:l}=t,r=aO().input||{},a=n.digits||r.digits||2;let i=np.get(o,l.field);if(i)switch(n.type){case"date":case"week":case"month":case"quarter":case"year":i=gO(i,n);break;case"float":i=np.toFixed(np.floor(i,a),a)}return SO(e,0,i)},renderTableDefault:FO,renderTableFilter:LO,tableFilterDefaultMethod:BO},FormatNumberInput:{renderTableDefault:YO,tableFilterDefaultMethod:BO,tableExportMethod(e){const{row:t,column:n}=e;return np.get(t,n.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:FO,renderTableCell:YO,renderTableFooter(e,t){const{props:n={}}=e,{row:o,column:l,_columnIndex:r}=t,{type:a}=n,i=np.isArray(o)?o[r]:np.get(o,l.field);if(np.isNumber(i)){const e=aO().numberInput||{};if("float"===a){const t=pO(n.autoFill,e.autoFill,!0),o=pO(n.digits,e.digits,1);let l=np.toFixed(np.floor(i,o),o);return t||(l=np.toNumber(l)),l}if("amount"===a){const t=pO(n.autoFill,e.autoFill,!0),o=pO(n.digits,e.digits,2),l=pO(n.showCurrency,e.showCurrency,!1);let r=np.commafy(np.toNumber(i),{digits:o});if(!t){const[e,t]=r.split(".");if(t){const n=t.replace(/0+$/,"");r=n?[e,".",n].join(""):e}}return l&&(r=`${n.currencySymbol||e.currencySymbol||sO("vxe.numberInput.currencySymbol")||""}${r}`),r}}return MC(i,1)},renderTableDefault:FO,renderTableFilter:LO,tableFilterDefaultMethod:BO,tableExportMethod(e){const{row:t,column:n}=e;return np.get(t,n.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:FO,renderTableCell(e,t){const{props:n={}}=e,{row:o,column:l}=t;let r=np.get(o,l.field);return r&&"time"!==n.type&&(r=gO(r,n)),SO(e,0,r)},renderTableDefault:FO,renderTableFilter:LO,tableFilterDefaultMethod:_O},VxeDateRangePicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{startField:n,endField:o}=e,{$table:l,row:r,column:a}=t,{model:i}=a,s=sE(r,a),c={},u={};return n&&o&&(c.startValue=np.get(r,n),c.endValue=np.get(r,o),u["onUpdate:startValue"]=e=>{n&&np.set(r,n,e)},u["onUpdate:endValue"]=e=>{o&&np.set(r,o,e)}),[y(fO(e),Object.assign(Object.assign({},wO(e,0,s,c)),TO(e,t,{model(e){i.update=!0,i.value=e,cE(r,a,e)},change(){l.updateStatus(t)},blur(){l.handleCellRuleUpdateStatus("blur",t)}},u)))]},renderTableCell(e,t){const{startField:n,endField:o}=e,{row:l,column:r}=t;let a="",i="";if(n&&o)a=np.get(l,n),i=np.get(l,o);else{const e=np.get(l,r.field);if(e)if(np.isArray(e))a=e[0],i=e[1];else{const t=`${e}`.split(",");a=t[0],i=t[1]}}let s="";return a&&i&&(s=`${a} ~ ${i}`),SO(e,0,s)}},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:FO,renderTableCell(e,t){const{row:n,column:o}=t;return SO(e,0,np.get(n,o.field))}},VxeButton:{renderTableDefault:function(e,t){return[y(fO(e),Object.assign(Object.assign({},wO(e,0,null)),TO(e,t)))]}},VxeButtonGroup:{renderTableDefault(e,t){const{options:n}=e;return[y(fO(e),Object.assign(Object.assign({options:n},wO(e,0,null)),TO(e,t)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:jO,renderTableDefault:jO,renderTableCell:(e,t)=>SO(e,0,qO(e,t)),renderTableFilter(e,t){const{column:n}=t,{options:o,optionProps:l,optionGroups:r,optionGroupProps:a}=e;return n.filters.map((n,i)=>{const s=n.data;return y(fO(e),Object.assign(Object.assign({key:i},yO(e,0,s,{options:o,optionProps:l,optionGroups:r,optionGroupProps:a})),kO(e,t,n)))})},tableFilterDefaultMethod:_O,tableExportMethod:GO},formatOption:{renderTableDefault:(e,t)=>SO(e,0,qO(e,t))},FormatSelect:{renderTableDefault:(e,t)=>SO(e,0,qO(e,t)),tableFilterDefaultMethod:_O,tableExportMethod:GO},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:HO,renderTableCell:(e,t)=>SO(e,0,UO(e,t)),tableExportMethod:KO},formatTree:{renderTableDefault:(e,t)=>SO(e,0,UO(e,t))},FormatTreeSelect:{renderTableDefault:(e,t)=>SO(e,0,UO(e,t)),tableExportMethod:KO},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:HO,renderTableCell:(e,t)=>SO(e,0,UO(e,t)),tableExportMethod:KO},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:n,column:o}=t,{options:l}=e,r=sE(n,o);return[y(fO(e),Object.assign(Object.assign({},wO(e,0,r,{colors:l})),OO(e,t)))]},renderTableCell(e,t){const{row:n,column:o}=t,l=np.get(n,o.field);return y("span",{class:"vxe-color-picker--readonly"},[y("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:l}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:n,column:o}=t,{options:l}=e,r=sE(n,o);return[y(fO(e),Object.assign(Object.assign({},wO(e,0,r,{icons:l})),OO(e,t)))]},renderTableCell(e,t){const{row:n,column:o}=t,l=np.get(n,o.field);return y("i",{class:l})}},VxeRadioGroup:{renderTableDefault:MO},VxeCheckbox:{renderTableDefault:function(e,t){const{row:n,column:o}=t,l=sE(n,o);return[y(fO(e),Object.assign(Object.assign({},wO(e,0,l)),OO(e,t)))]}},VxeCheckboxGroup:{renderTableDefault:MO},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:FO,renderTableDefault:FO},VxeUpload:{renderTableEdit:FO,renderTableCell:FO,renderTableDefault:FO},VxeImage:{renderTableDefault(e,t){const{row:n,column:o}=t,{props:l}=e,r=sE(n,o);return[y(fO(e),Object.assign(Object.assign(Object.assign({},l),{src:r}),OO(e,t)))]}},VxeImageGroup:{renderTableDefault(e,t){const{row:n,column:o}=t,{props:l}=e,r=sE(n,o);return[y(fO(e),Object.assign(Object.assign(Object.assign({},l),{urlList:r}),OO(e,t)))]}},VxeTextEllipsis:{renderTableDefault(e,t){const{row:n,column:o}=t,{props:l}=e,r=sE(n,o);return[y(fO(e),Object.assign(Object.assign(Object.assign({},l),{content:r}),OO(e,t)))]}},VxeRate:{renderTableDefault:FO},VxeSlider:{renderTableDefault:FO},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:AO,renderTableCell(e,t){var n;const{props:o={}}=e,{row:l,column:r}=t,a=o.digits||(null===(n=aO().input)||void 0===n?void 0:n.digits)||2;let i=np.get(l,r.field);if(i)switch(o.type){case"date":case"week":case"month":case"year":i=gO(i,o);break;case"float":i=np.toFixed(np.floor(i,a),a)}return SO(e,0,i)},renderTableDefault:AO,renderTableFilter:function(e,t){const{column:n}=t;return n.filters.map((n,o)=>{const l=n.data;return y(vO(e),Object.assign(Object.assign({key:o},yO(e,0,l)),kO(e,t,n)))})},tableFilterDefaultMethod:BO},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:VO},$buttons:{renderTableDefault:function(e,t){return e.children.map(e=>VO(e,t)[0])}},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:WO,renderTableDefault:WO,renderTableCell:(e,t)=>SO(e,0,qO(e,t)),renderTableFilter(e,t){const{column:n}=t,{options:o,optionProps:l,optionGroups:r,optionGroupProps:a}=e;return n.filters.map((n,i)=>{const s=n.data;return y(vO(e),Object.assign(Object.assign({key:i},yO(e,0,s,{options:o,optionProps:l,optionGroups:r,optionGroupProps:a})),kO(e,t,n)))})},tableFilterDefaultMethod:_O,tableExportMethod:GO},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:AO,renderTableDefault:AO}});const XO=Object.assign({},UD,{install(e){e.component(UD.name,UD)}}),ZO={useCellView:function(e){const t=g(()=>{const{renderParams:t}=e;return t.column}),n=g(()=>{const{renderParams:t}=e;return t.row}),o=g(()=>{const{renderOpts:t}=e;return t.props||{}});return{currColumn:t,currRow:n,cellModel:g({get(){const{renderParams:t}=e,{row:n,column:o}=t;return np.get(n,o.field)},set(t){const{renderParams:n}=e,{row:o,column:l}=n;return np.set(o,l.field,t)}}),cellOptions:o}}};Im.dynamicApp&&Im.dynamicApp.component(UD.name,UD),Im.component(UD),Im.tableHandle=ZO;const QO=XO,JO=Object.assign({},tT,{install(e){e.component(tT.name,tT)}});Im.dynamicApp&&Im.dynamicApp.component(tT.name,tT),Im.component(tT);const ek=JO,tk={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",maxGroupCol:"最大分组字段的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素",rowGroupContentTotal:"{0}（{1}）"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整顺序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},dateRangePicker:{pleaseRange:"请选择开始日期与结束日期"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},extendPivotTable:{aggregation:{grouping:"分组",values:"值",groupPlaceholder:"拖至此处进行分组",valuesPlaceholder:"拖至此处进行聚合",dragExistCol:"该列已存在",sortHelpTip:"点击并拖动图标可以调整顺序"},aggFuncs:{sum:"求和",count:"计数",avg:"平均值",min:"最小值",max:"最大值",first:"首个值",last:"末尾值"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}},nk=[UE,XE,fT,XO,JO];if(!Im.hasLanguage("zh-CN")){const e="zh-CN";Im.setI18n(e,tk),Im.setLanguage(e)}Im.setTheme("light");const ok=Object.freeze(Object.defineProperty({__proto__:null,Colgroup:ZE,Column:KE,Grid:vT,Table:QO,Toolbar:ek,VXETable:cS,VxeColgroup:XE,VxeColumn:UE,VxeGrid:fT,VxeTable:XO,VxeToolbar:JO,VxeUI:Im,_t:sS,clipboard:tS,commands:JC,config:aS,formats:QC,getConfig:zC,getI18n:GC,getIcon:HC,getTheme:_C,globalEvents:UC,globalResize:KC,hooks:oS,install:function(e,t){Im.setConfig(t),nk.forEach(t=>t.install(e))},interceptor:eS,log:nS,menus:ZC,modal:uS,print:e=>Im.print(e),readFile:e=>Im.readFile(e),renderer:YC,saveFile:e=>Im.saveFile(e),setConfig:BC,setI18n:qC,setIcon:jC,setLanguage:WC,setTheme:LC,setup:rS,t:iS,use:lS,validators:XC,version:$C},Symbol.toStringTag,{value:"Module"}));var lk={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 Delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};const rk=p({__name:"App",setup:e=>(e,t)=>{const n=C("router-view"),o=V;return T(),D(o,{locale:l(lk)},{default:O(()=>[h(n)]),_:1},8,["locale"])}}),ak={Connecting:"Connecting...",overlayTutorial:"Add this page as a data statistics overlay in ACT.",obsTutorial:"Open OBS → Tools → WebSocket Server Settings → Enable WebSocket Server → Show Connection Info → Obtain Port and Password",inputTutorial:"Can't type? First click on ACT, then click on this floating window to enter normally.",hideTutorial:"After completing all settings, in OverlayPlugin, uncheck [Show Overlay] to hide this page.",CombatStart:"Combat Start",CombatEnd:"Combat End","ACT Not Ready":"ACT Not Ready",Connect:"Connect","Connect to OBS":"Connect to OBS",Connected:"Connected","Connection Status":"Connection Status",CountDown:"CountDown",DeepDungeons:"Deep Dungeons",DisciplesOfTheLand:"Disciples Of The Land",Disconnect:"Disconnect",Dungeons:"Dungeons","End When":"End When","Enter Zone":"Enter Zone",Eureka:"Eureka","Extra Rule":"Extra Rule",GrandCompany:"GrandCompany",Guildhests:"Guildhests",Instructions:"Instructions",No:"No",None:"None","OBS Auto Record V2":"OBS Auto Record V2","OBS Connection":"OBS Connection","OBS Connection Closed":"OBS Connection Closed","OBS Connection Error":"OBS Connection Error","OBS Connection Opened":"OBS Connection Opened","Output Active":"Output Active","Output Path":"Output Path",Password:"Password",Port:"Port",Pvp:"Pvp",QuestBattles:"QuestBattles",Raids:"Raids",Recording:"Recording","Recording Controls":"Recording Controls","Split Record":"Split Record","Start Record":"Start Record","Start When":"Start When","Stop Record":"Stop Record",TreasureHunt:"TreasureHunt",Trials:"Trials",Type:"Type","User Content Settings":"User Content Settings",VCDungeonFinder:"VCD",Wipe:"Wipe",Yes:"Yes",passwordPlaceholder:"WebSocket Server Password",portPlaceholder:"WebSocket Server Port","Leave Zone":"Leave Zone",Savage:"Savage",Extreme:"Extreme",Ultimate:"Ultimate",fileNameExplanation:"%CCYY: Year, %MM: Month, %DD: Day, %hh: Hour, %mm: Minute, %ss: Second","Recording Profile":"Recording Profile","Record Path":"Path","Record File Name":"File Name",recordPathPlaceholder:"Please enter the path to save the recording file",recordFileNamePlaceholder:"Please enter the file name of the recording file",filePathExplanation:"Make sure the path exists",Default:"Default",Chaotic:"Chaotic",firewallTutorial:"If the password is correct, please check if Windows Defender Firewall is blocking the connection",OccultCrescent:"Occult Crescent",SocietyQuests:"Society Quests"},ik={portPlaceholder:"WebSocketサーバーポート",passwordPlaceholder:"WebSocketサーバーパスワード",Connect:"接続",Raids:"レイド",Dungeons:"ダンジョン",Trials:"討伐・討滅戦",VCDungeonFinder:"変動ダンジョン",DeepDungeons:"ディープダンジョン",Guildhests:"ギルドオーダー",DisciplesOfTheLand:"オーシャンフィッシング/無人島",Eureka:"エウレカ",GrandCompany:"ゴールドソーサー",QuestBattles:"クエストバトル",TreasureHunt:"トレジャーハント",Pvp:"PVP","OBS Connection":"OBS接続","OBS Connection Closed":"OBS接続切断","OBS Connection Error":"OBS接続エラー","OBS Connection Opened":"OBS接続成功","Connection Status":"接続状態",Disconnect:"切断",Connected:"接続済み",Recording:"録画中","Output Active":"出力アクティブ","Output Path":"出力パス","Recording Controls":"コントロールパネル","Start Record":"録画開始","Stop Record":"録画停止","Split Record":"録画分割","User Content Settings":"ルール設定",Type:"インスタンスタイプ","Start When":"録画開始条件","Enter Zone":"エリア入場","End When":"録画終了条件",Wipe:"全滅","OBS Auto Record V2":"OBS 自動録画2",Port:"ポート",Password:"パスワード",None:"なし",hideTutorial:"すべての設定が完了したら、OverlayPluginで「オーバーレイを表示」のチェックを外して、このページを非表示にします。",obsTutorial:"OBSを開く → ツール → WebSocketサーバー設定 → WebSocketサーバーを有効にする → 接続情報を表示 → ポートとパスワードを取得する",Connecting:"接続を試みています...",No:"いいえ",Yes:"はい",Instructions:"使用方法",inputTutorial:"入力できない場合は、まずACTをクリックし、次にこのオーバーレイウィンドウをクリックすると、通常の入力が可能になります","Connect to OBS":"OBSに接続",overlayTutorial:"ACTでこのページをデータ統計用のオーバーレイウィンドウとして追加してください",CombatEnd:"戦闘終了",CountDown:"カウントダウン開始",CombatStart:"戦闘開始","ACT Not Ready":"ACT未接続","Extra Rule":"追加ルール","Leave Zone":"エリア出場",Savage:"零式",Extreme:"極",Ultimate:"絶",fileNameExplanation:"%CCYY: 年、%MM: 月、%DD: 日、%hh: 時、%mm: 分、%ss: 秒","Recording Profile":"録音プロファイル","Record Path":"パス","Record File Name":"ファイル名",recordPathPlaceholder:"録音ファイルを保存するパスを入力してください",recordFileNamePlaceholder:"録音ファイルのファイル名を入力してください",filePathExplanation:"パスが存在することを確認してください",Default:"Default",Chaotic:"滅",firewallTutorial:"パスワードが正しい場合、Windows Defender ファイアウォールが接続をブロックしているかどうかを確認してください",SocietyQuests:"友好部族クエスト",OccultCrescent:"蜃気楼の島 クレセントアイル"},sk={portPlaceholder:"WebSocket 服务器端口",passwordPlaceholder:"WebSocket 服务器密码",Raids:"大型任务",Dungeons:"迷宫挑战",Trials:"讨伐歼灭战",VCDungeonFinder:"多变迷宫",DeepDungeons:"深层迷宫",Guildhests:"行会令",DisciplesOfTheLand:"海钓 / 云岛",Eureka:"尤雷卡",GrandCompany:"金蝶游乐场",QuestBattles:"任务剧情",TreasureHunt:"挖宝",Pvp:"PVP","OBS Connection":"OBS 连接","OBS Connection Closed":"OBS 连接失败","OBS Connection Error":"OBS 连接错误","OBS Connection Opened":"OBS 连接成功","Connection Status":"连接状态",Disconnect:"断开连接",Connected:"已连接",Recording:"录制中","Output Active":"输出激活","Output Path":"输出路径","Recording Controls":"测试面板","Start Record":"开始录制","Stop Record":"停止录制","Split Record":"分割录制","User Content Settings":"录制规则",Type:"副本类型","Start When":"开始录制条件","Enter Zone":"进入区域","End When":"结束录制条件",Wipe:"团灭","OBS Auto Record V2":"OBS 自动录制 2",inputTutorial:"打不了字？先点击 ACT，再点击本悬浮窗，即可正常输入",Port:"端口",Password:"密码",None:"无",Yes:"是",No:"否",obsTutorial:"打开 OBS → 工具 → WebSocket 服务器设置 → 开启 WebSocket 服务器 → 显示连接信息 → 获得端口与密码",Connecting:"正在尝试连接...",Connect:"连接",Instructions:"使用说明","Connect to OBS":"连接到 OBS",hideTutorial:"一切设置妥当后，在 OverlayPlugin 悬浮窗插件中，取消勾选 [显示悬浮窗] 以隐藏本页面",overlayTutorial:"在 ACT 中添加本页面作为数据统计悬浮窗","ACT Not Ready":"ACT 未连接",CombatEnd:"离开战斗",CountDown:"倒计时开始",CombatStart:"进入战斗","Extra Rule":"额外规则","Leave Zone":"离开区域",Savage:"零式",Extreme:"歼殛战",Ultimate:"绝境战",Rules:"使用子文件夹",FoldersByCategory:"按副本类型",FolderByContent:"按副本名称",FileName:"文件名","Record Path":"路径","Record File Name":"文件名",recordPathPlaceholder:"请填写路径",recordFileNamePlaceholder:"请填写文件名",fileNameExplanation:"%CCYY: 年, %MM: 月, %DD: 日, %hh: 时, %mm: 分, %ss: 秒","Recording Profile":"录制资料",filePathExplanation:"须保证目录存在","Set Recording Name":"设置路径",Default:"未归类",Chaotic:"破灭战",firewallTutorial:"若确定密码正确，却始终连接失败，请检查 Windows Defender 防火墙。",SocietyQuests:"友好部族任务",OccultCrescent:"蜃景幻界 新月岛","When Party":"小队人数>=",CountDownCancel:"倒计时取消"},ck={},uk=function(e,t,n){let o=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),l=n?.nonce||n?.getAttribute("nonce");o=e(t.map(e=>{if((e=function(e){return"/ff14-overlay-vue/"+e}(e))in ck)return;ck[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,l&&o.setAttribute("nonce",l),document.head.appendChild(o),t?new Promise((t,n)=>{o.addEventListener("load",t),o.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function l(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then(t=>{for(const e of t||[])"rejected"===e.status&&l(e.reason);return e().catch(l)})},dk=[{name:"jobs-dnc",path:"/jobs/dnc",component:()=>uk(()=>import("./dnc-106bb92b.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])),props:!0},{name:"zoneMacro",path:"/zonemacro",component:()=>uk(()=>import("./zoneMacro-b57764d4.js"),__vite__mapDeps([14,1,15,16,2,17,18,19,3,4,20,21,22,23,24,25,26,27,28,8,29,12,13,30,11,10,31])),props:!0},{name:"timelineSettings",path:"/timelinesettings",component:()=>uk(()=>import("./timelineSettings-e0abc1a0.js"),__vite__mapDeps([32,33,1,34,35,4,36,5,37,38,39,40,20,2,21,15,16,41,18,19,3,42,24,25,12,13,28,8,43,44,26,30,29,27,11,10,45])),props:!0},{name:"timelineHelp",path:"/timelinehelp",component:()=>uk(()=>import("./timelineHelp-a6f9ce31.js"),__vite__mapDeps([46,1,31])),props:!0},{name:"timeline",path:"/timeline",component:()=>uk(()=>import("./timeline-754b2edd.js"),__vite__mapDeps([47,33,1,34,35,4,36,5,37,2,3,48])),props:!0},{name:"time",path:"/time",component:()=>uk(()=>import("./time-7434c12a.js"),__vite__mapDeps([49,1,41,2,3,5,50])),props:!0},{name:"test",path:"/test",component:()=>uk(()=>import("./test-d5384b84.js"),__vite__mapDeps([51,20,2,4,1,21,52,34,53,22,54,19,5,55,30,43,26,10])),props:!0},{name:"startPages",path:"/startpages",component:()=>uk(()=>import("./startPages-4144c724.js"),__vite__mapDeps([56,4,1,5,57,24,25,26])),props:!0},{name:"showBarrier",path:"/showbarrier",component:()=>uk(()=>import("./showBarrier-ac04fefe.js"),__vite__mapDeps([58,59,1,35,3,5,60,52,34,2,61])),props:!0},{name:"okVpr2",path:"/okvpr2",component:()=>uk(()=>import("./okVpr2-c74f407a.js"),__vite__mapDeps([62,52,34,2,3,1,4,44,11,8,9,12,30,29])),props:!0},{name:"okVpr",path:"/okvpr",component:()=>uk(()=>import("./okVpr-0eae5f2d.js"),__vite__mapDeps([63,52,34,2,3,1,4,44,8,9,12,30,29])),props:!0},{name:"okDncDance",path:"/okdncdance",component:()=>uk(()=>import("./okDncDance-4a75473b.js"),__vite__mapDeps([64,17,2,52,34,3,1,4,44,11,8,9,12,30,29])),props:!0},{name:"obs2",path:"/obs2",component:()=>uk(()=>import("./obs2-8f9a20c7.js"),__vite__mapDeps([65,1,3,5,4,66,18,19,22,34,52,2,67,27,28,8,29,11,12,13,30,44,10,26])),props:!0},{name:"obs",path:"/obs",component:()=>uk(()=>import("./obs-a2c8bf60.js"),__vite__mapDeps([68,1,66,4,69,22,52,34,2,53,54,19,18,3,70])),props:!0},{name:"keigennRecord2",path:"/keigennrecord2",component:()=>uk(()=>import("./keigennRecord2-dc07f35b.js"),__vite__mapDeps([71,1,5,72,3,36,4,69,40,35,34,52,2,73,8,9])),props:!0},{name:"instancedAreaInfo",path:"/instancedareainfo",component:()=>uk(()=>import("./instancedAreaInfo-5805a7ab.js"),__vite__mapDeps([74,2,1,5,75])),props:!0},{name:"index",path:"/",component:p({__name:"index",setup(e){const t=k();return f(()=>{t.push("/startPages")}),(e,t)=>(T(),R("div"))}}),props:!0},{name:"hunt",path:"/hunt",component:()=>uk(()=>import("./hunt-2ce72722.js"),__vite__mapDeps([76,38,4,1,39,20,2,21,18,19,54,3,5,77,28,8,12,13,10,43,44,30,29])),props:!0},{name:"hexcode",path:"/hexcode",component:()=>uk(()=>import("./hexcode-99e6cf86.js"),__vite__mapDeps([78,1,3,5,79])),props:!0},{name:"ffxivAxisWebFont",path:"/ffxivaxiswebfont",component:()=>uk(()=>import("./ffxivAxisWebFont-4bf3c8fb.js"),__vite__mapDeps([80,5,1,81])),props:!0},{name:"fflogsUploaderDownload",path:"/fflogsuploaderdownload",component:()=>uk(()=>import("./fflogsUploaderDownload-1d410e06.js"),__vite__mapDeps([82,1,4,5,83,24,25])),props:!0},{name:"enmity",path:"/enmity",component:()=>uk(()=>import("./enmity-e4968f37.js"),__vite__mapDeps([84,1,35,52,34,2,3,4,5,85,26])),props:!0},{name:"dsrp6",path:"/dsrp6",component:()=>uk(()=>import("./dsrp6-cbe17f7c.js"),__vite__mapDeps([86,36,2,1,5,87])),props:!0},{name:"castingToChinese",path:"/castingtochinese",component:()=>uk(()=>import("./castingToChinese-d796e7ec.js"),__vite__mapDeps([88,1,40,2,3,4,5,89,25,7,8,9,10,30,29,12,11,13])),props:!0},{name:"castingMonitor",path:"/castingmonitor",component:()=>uk(()=>import("./castingMonitor-45e53f50.js"),__vite__mapDeps([90,1,35,36,2,5,4,91,10,24,25])),props:!0},{name:"cactbotRuntime",path:"/cactbotruntime",component:()=>uk(()=>import("./cactbotRuntime-316ed135.js"),__vite__mapDeps([92,59,1,35,3,5,60,69,2,4,93,45])),props:!0},{name:"blubook",path:"/blubook",component:()=>uk(()=>import("./blubook-ede33c02.js"),__vite__mapDeps([94,1,72,3,4,5,95,28,8,10,12])),props:!0},{name:"aether",path:"/aether",component:()=>uk(()=>import("./aether-71792992.js"),__vite__mapDeps([96,4,1,5,97,30,29,8])),props:!0}],pk=I({history:P(),routes:dk}),mk=new Map(Object.entries({aether:"简易风脉地图",blubook:"青魔法书图鉴",cactbotRuntime:"职能分配",castingMonitor:"施法监控",castingToChinese:"读条汉化",dsrp6:"绝龙诗 P6 修血简易记录",enmity:"开盾提醒",fflogsUploaderDownload:"今天 FFLogsUploader 更新了吗？",ffxivAxisWebFont:"FFXIV Axis 字体",hexcode:"hexcode 简易工具",hunt:"有车吗？",instancedAreaInfo:"我 TM 现在在几线？",keigennRecord2:"减伤监控 2",obs:"OBS 自动录制",obs2:"OBS 自动录制 2",showBarrier:"盾值显示",startPages:"主页导航",statusCompare:"版本新增状态一览",time:"显示时间",timeline:"自定义时间轴",timelineHelp:"自定义时间轴帮助",timelineSettings:"自定义时间轴编辑",zoneMacro:"副本宏"}));for(const Sk of pk.getRoutes())Sk.meta.title=mk.get(Sk.name?.toString()??"")??Sk.name;pk.afterEach((e,t)=>{document.title=e.meta.title?.toString()??"","startPages"===t.name&&"zoneMacro"===e.name&&window.location.reload(),"startPages"===e.name&&void 0!==t.name&&e.name!==t.name&&window.location.reload()});const gk=w(rk),fk=function(e){const t=e;return t.headTags=e.resolveTags,t.addEntry=e.push,t.addHeadObjs=e.push,t.addReactiveEntry=(e,t)=>{const n=Ae(e,t);return void 0!==n?n.dispose:()=>{}},t.removeHeadObjs=()=>{},t.updateDOM=()=>{e.hooks.callHook("entries:updated",e)},t.unhead=e,t}(Ie({})),vk=F(),hk=M({legacy:!1,locale:"zhCn",fallbackLocale:"en",messages:{en:ak,zhCn:sk,ja:ik}});function bk(e){$.error({dangerouslyUseHTMLString:!0,message:`<pre style="white-space: pre-wrap;">${e.stack||e.message}</pre>`,duration:5e3,showClose:!0})}gk.config.errorHandler=e=>{bk(e instanceof Error?e:new Error(String(e)))},window.addEventListener("unhandledrejection",e=>{bk(e.reason instanceof Error?e.reason:new Error(String(e.reason)))}),gk.use(pk),gk.use(fk),gk.use(vk),gk.use(TC),gk.use(ok),gk.use(dt),gk.use(hk),gk.mount("#app");const{protocol:xk,hostname:wk,href:yk}=window.location,Ck=["localhost","127.0.0.1","::1"].includes(wk);"http:"!==xk||Ck||(window.location.href=yk.replace("http:","https:"));export{Im as V};

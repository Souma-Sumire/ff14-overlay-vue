import{u as e,Z as l,j as a}from"./shared-core-1WzSK5h7.js";import{b as n}from"./cactbot-CmNinDrW.js";import{$ as t}from"./vendor-element-plus-DIlhOlLn.js";import{o as s,r as o,A as r,B as i,t as c,v as d,M as u,L as p,u as h,a as m,c as b}from"./vendor-vue-GqahCgpc.js";import{_ as v}from"./shared-common-CYjYp2IA.js";const f=v(s({__name:"zoneSelecter",props:{selectZone:{type:String,default:""},width:{type:String,default:"30em"},size:{type:String,default:"small"},clearable:{type:Boolean,default:!1},placeholder:{type:String,default:"选择区域"},showAllLevels:{type:Boolean,default:!0},border:{type:Boolean,default:!0}},emits:["update:selectZone"],setup(s,{emit:v}){const f=s,y=v;let S=null,z=null;const{t:g,locale:T,setLang:x}=e(),j=b(()=>function(e,t){if(S&&z===t)return S;z=t;const s=[{type:n.Dungeons,label:e("zoneSelect.dungeons")},{type:n.Trials,label:e("zoneSelect.trials")},{type:n.Raids,label:e("zoneSelect.raids")},{type:n.ChaoticAllianceRaid,label:e("zoneSelect.chaoticAllianceRaid")},{type:n.UltimateRaids,label:e("zoneSelect.ultimateRaids")},{type:n.VCDungeonFinder,label:e("zoneSelect.vcDungeonFinder")},{type:n.DeepDungeonExtras,label:e("zoneSelect.deepDungeonExtras")},{type:n.DeepDungeons,label:e("zoneSelect.deepDungeons")},{type:n.DisciplesOfTheLand,label:e("zoneSelect.disciplesOfTheLand")},{type:n.Eureka,label:e("zoneSelect.eureka")},{type:n.SaveTheQueen,label:e("zoneSelect.saveTheQueen")},{type:n.OccultCrescent,label:e("zoneSelect.occultCrescent")}],o=[];return s.forEach(l=>{l.type===n.Trials?o.push({label:l.label,value:n.Trials,children:[{label:e("zoneSelect.trialExtreme"),value:"歼殛战",children:[]},{label:e("zoneSelect.trialUnreal"),value:"幻巧战",children:[]},{label:e("zoneSelect.trialNormal"),value:"歼灭战",children:[]}]}):l.type===n.Raids?o.push({label:l.label,value:n.Raids,children:[{label:e("zoneSelect.raidSavage"),value:"零式",children:[]},{label:e("zoneSelect.raidNormal"),value:"普通",children:[]}]}):o.push({label:l.label,value:l.type,children:[]})}),Object.entries(l).map(([e,l])=>({id:e,...l})).sort((e,l)=>e.exVersion!==l.exVersion?l.exVersion-e.exVersion:e.contentType===n.Raids&&l.contentType===n.Raids&&l.name.ja&&e.name.ja?e.name.ja.localeCompare(l.name.ja):Number(e.id)-Number(l.id)).filter(e=>!e.name.en.startsWith("(")&&e.contentType&&s.some(l=>l.type===e.contentType)).forEach(e=>{const l=e.id,t=`[${+e.exVersion+2}.0] ${a(e.name)}`;if(e.contentType===n.Trials){const a=o.find(e=>e.value===n.Trials);if(!a)return;let s="歼灭战";e.name.en.includes("(Extreme)")||e.name.ja?.startsWith("極")||e.name.fr?.includes("(extrême)")?s="歼殛战":e.name.en.includes("(Unreal)")&&(s="幻巧战");const r=a.children.find(e=>e.value===s);r&&r.children.push({value:l,label:t})}else if(e.contentType===n.Raids){const a=o.find(e=>e.value===n.Raids);if(!a)return;const s=e.name.en.includes("(Savage)")?"零式":"普通",r=a.children.find(e=>e.value===s);r&&r.children.push({value:l,label:t})}else{const a=o.find(l=>l.value===e.contentType);a&&a.children.push({value:l,label:t})}}),o.push({label:e("zoneSelect.uncategorized"),value:"0"}),S=o.sort((e,l)=>{const a=s.findIndex(l=>l.label===e.label),n=s.findIndex(e=>e.label===l.label);return(-1===a?999:a)-(-1===n?999:n)}),S}(g,T.value)),R=o(f.selectZone);return r(R,e=>y("update:selectZone",e)),r(()=>f.selectZone,e=>R.value=e),i(()=>{x("zhCn"),S=null,z=null}),(e,l)=>{const a=t;return c(),d(a,{modelValue:h(R),"onUpdate:modelValue":l[0]||(l[0]=e=>m(R)?R.value=e:null),placeholder:f.placeholder,options:h(j),"show-all-levels":f.showAllLevels,props:{emitPath:!1,expandTrigger:"click"},style:p({width:f.width}),size:f.size,filterable:"",clearable:f.clearable,class:u({"no-border":!f.border})},null,8,["modelValue","placeholder","options","show-all-levels","style","size","clearable","class"])}}}),[["__scopeId","data-v-7e3139ac"]]);export{f as _};

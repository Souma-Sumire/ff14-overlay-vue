import{d as e,r as a,c as t,B as n,k as s,u as i,v as o,o as l}from"./index-KNkPbdkU.js";import{h as m}from"./moment-CBOc1lqT.js";import{a as r}from"./overlay_plugin_api-DHbPkDtN.js";import{d as u}from"./index-wlJhqTud.js";import{_ as d}from"./_plugin-vue_export-helper-BCo6x5W8.js";const c=["innerHTML"],p=["innerHTML"],v=d(e({__name:"time",setup(e){const d=a(!1),v=a(-1),f=a(""),h=a(""),_=u("hash").mode||"combat";if("combat"===_||"both"===_){r("CombatData",e=>{"true"===e.isActive&&!1===d.value?v.value=Date.now():"false"===e.isActive&&(v.value=-1,f.value=""),d.value="true"===e.isActive}),requestAnimationFrame(function e(){if(v.value>0){const e=Date.now()-v.value,a=m.duration(e),t=a.minutes(),n=a.seconds(),s=a.milliseconds().toString().padStart(3,"0");f.value=`${t<10?"0":""}${t}:${n<10?"0":""}${n}<small>.${s}</small>`}requestAnimationFrame(e)})}if("logline"===_||"both"===_){r("LogLine",e=>{if("00"!==e.line[0]){const a=e.line[1].match(new RegExp("(?<=T)(\\d\\d:\\d\\d:\\d\\d)\\.(\\d\\d\\d)"));h.value=`${a[1]}<small>.${a[2]}</small>`}})}return(e,a)=>(l(),t("div",null,["logline"===i(_)||"both"===i(_)?(l(),t("span",{key:0,innerHTML:i(h)},null,8,c)):n("",!0),"combat"===i(_)||"both"===i(_)?s((l(),t("span",{key:1,innerHTML:i(f)},null,8,p)),[[o,i(v)>=0]]):n("",!0)]))}}),[["__scopeId","data-v-c16ed97f"]]);export{v as default};

import{u as e,Z as l,l as a}from"./shared-core-DQ21wnXB.js";import{b as n}from"./cactbot-DtpbXwrG.js";import{$ as t}from"./vendor-element-plus-C8e3lHeC.js";import{h as s,G as o,x as r,w as i,o as c,g as d,a as u,z as p,s as h,f as b,i as m}from"./vendor-vue-i6lpFrx4.js";import{_ as f}from"./shared-common-C8cs7tke.js";const v=f(s({__name:"zoneSelecter",props:{selectZone:{type:String,default:"",required:!0},width:{type:String,default:"30em"},size:{type:String,default:"small"},clearable:{type:Boolean,default:!1},placeholder:{type:String,default:"选择区域"},showAllLevels:{type:Boolean,default:!0},border:{type:Boolean,default:!0}},emits:["update:selectZone"],setup(s,{emit:f}){let v=null,y=null;const{t:z,locale:S,setLang:g}=e(),T=o(()=>function(e,t){if(v&&y===t)return v;y=t;const s=[{type:n.Dungeons,label:e("zoneSelect.dungeons")},{type:n.Trials,label:e("zoneSelect.trials")},{type:n.Raids,label:e("zoneSelect.raids")},{type:n.ChaoticAllianceRaid,label:e("zoneSelect.chaoticAllianceRaid")},{type:n.UltimateRaids,label:e("zoneSelect.ultimateRaids")},{type:n.VCDungeonFinder,label:e("zoneSelect.vcDungeonFinder")},{type:n.DeepDungeonExtras,label:e("zoneSelect.deepDungeonExtras")},{type:n.DeepDungeons,label:e("zoneSelect.deepDungeons")},{type:n.DisciplesOfTheLand,label:e("zoneSelect.disciplesOfTheLand")},{type:n.Eureka,label:e("zoneSelect.eureka")},{type:n.SaveTheQueen,label:e("zoneSelect.saveTheQueen")},{type:n.OccultCrescent,label:e("zoneSelect.occultCrescent")}],o=[];return s.forEach(l=>{l.type===n.Trials?o.push({label:l.label,value:n.Trials,children:[{label:e("zoneSelect.trialExtreme"),value:"歼殛战",children:[]},{label:e("zoneSelect.trialUnreal"),value:"幻巧战",children:[]},{label:e("zoneSelect.trialNormal"),value:"歼灭战",children:[]}]}):l.type===n.Raids?o.push({label:l.label,value:n.Raids,children:[{label:e("zoneSelect.raidSavage"),value:"零式",children:[]},{label:e("zoneSelect.raidNormal"),value:"普通",children:[]}]}):o.push({label:l.label,value:l.type,children:[]})}),Object.entries(l).map(([e,l])=>({id:e,...l})).sort((e,l)=>e.exVersion!==l.exVersion?l.exVersion-e.exVersion:e.contentType===n.Raids&&l.contentType===n.Raids&&l.name.ja&&e.name.ja?e.name.ja.localeCompare(l.name.ja):Number(e.id)-Number(l.id)).filter(e=>!e.name.en.startsWith("(")&&e.contentType&&s.some(l=>l.type===e.contentType)).forEach(e=>{const l=e.id,t=`[${+e.exVersion+2}.0] `+a(e.name);if(e.contentType===n.Trials){const a=o.find(e=>e.value===n.Trials);if(!a)return;let s="歼灭战";e.name.en.includes("(Extreme)")||e.name.ja?.startsWith("極")||e.name.fr?.includes("(extrême)")?s="歼殛战":e.name.en.includes("(Unreal)")&&(s="幻巧战");const r=a.children.find(e=>e.value===s);r&&r.children.push({value:l,label:t})}else if(e.contentType===n.Raids){const a=o.find(e=>e.value===n.Raids);if(!a)return;const s=e.name.en.includes("(Savage)")?"零式":"普通",r=a.children.find(e=>e.value===s);r&&r.children.push({value:l,label:t})}else{const a=o.find(l=>l.value===e.contentType);a&&a.children.push({value:l,label:t})}}),o.push({label:e("zoneSelect.uncategorized"),value:"0"}),v=o.sort((e,l)=>{const a=s.findIndex(l=>l.label===e.label),n=s.findIndex(e=>e.label===l.label);return(-1===a?999:a)-(-1===n?999:n)}),v}(z,S.value)),x=s,j=f,R=r(x.selectZone);return i(R,e=>j("update:selectZone",e)),i(()=>x.selectZone,e=>R.value=e),c(()=>{g("zhCn"),v=null,y=null}),(e,l)=>{const a=t;return u(),d(a,{placeholder:x.placeholder,modelValue:b(R),"onUpdate:modelValue":l[0]||(l[0]=e=>m(R)?R.value=e:null),options:b(T),"show-all-levels":x.showAllLevels,props:{emitPath:!1,expandTrigger:"click"},style:h({width:x.width}),size:x.size,filterable:"",clearable:x.clearable,class:p({"no-border":!x.border})},null,8,["placeholder","modelValue","options","show-all-levels","style","size","clearable","class"])}}}),[["__scopeId","data-v-6d49aacb"]]);export{v as _};

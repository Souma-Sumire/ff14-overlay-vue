import{a8 as e,h as t,cV as l,ae as o,ba as r,af as a,bl as n,d as s,a0 as i,r as c,f as d,u,B as h,j as m,z as f,P as p,b3 as w,b7 as g,aR as y,ak as v,a2 as x,bp as b,bT as S,aa as R,C as T,a1 as C,aZ as H,b as I,bE as E,i as M,al as O,n as L,aQ as D,aU as W,F as z,b_ as K,ab as A,bS as N,ai as F,a7 as j,a5 as G,Q as V,bQ as k,cW as P,cX as $,aw as B,ao as q}from"./index-CjLHME3M.js";import{B as U,d as X,c as Y}from"./el-tag-Bd9-9T-J.js";import{d as Q,r as _,g as Z}from"./vnode-DNUa3K07.js";import{E as J}from"./index-B0-l0lXD.js";var ee=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function te(e,t){return e===t||!(!ee(e)||!ee(t))}function le(e,t){if(e.length!==t.length)return!1;for(var l=0;l<e.length;l++)if(!te(e[l],t[l]))return!1;return!0}const oe=()=>{const o=e().proxy.$props;return t(()=>{const e=(e,t,l)=>({});return o.perfMode?l(e):function(e,t){void 0===t&&(t=le);var l=null;function o(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];if(l&&l.lastThis===this&&t(o,l.lastArgs))return l.lastResult;var a=e.apply(this,o);return l={lastResult:a,lastArgs:o,lastThis:this},a}return o.clear=function(){l=null},o}(e)})},re=50,ae="itemRendered",ne="scroll",se="forward",ie="backward",ce="auto",de="smart",ue="start",he="center",me="end",fe="horizontal",pe="vertical",we="rtl",ge="negative",ye="positive-ascending",ve="positive-descending",xe={[fe]:"left",[pe]:"top"},be=r({type:a([Number,Function]),required:!0}),Se=r({type:Number}),Re=r({type:Number,default:2}),Te=r({type:String,values:["ltr","rtl"],default:"ltr"}),Ce=r({type:Number,default:0}),He=r({type:Number,required:!0}),Ie=r({type:String,values:["horizontal","vertical"],default:pe}),Ee=o({className:{type:String,default:""},containerElement:{type:a([String,Object]),default:"div"},data:{type:a(Array),default:()=>n([])},direction:Te,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},innerProps:{type:a(Object),default:()=>({})},style:{type:a([Object,String,Array])},useIsScrolling:Boolean,width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),Me=o({cache:Re,estimatedItemSize:Se,layout:Ie,initScrollOffset:Ce,total:He,itemSize:be,...Ee}),Oe={type:Number,default:6},Le={type:Number,default:0},De={type:Number,default:2},We=o({columnCache:Re,columnWidth:be,estimatedColumnWidth:Se,estimatedRowHeight:Se,initScrollLeft:Ce,initScrollTop:Ce,itemKey:{type:a(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:Re,rowHeight:be,totalColumn:He,totalRow:He,hScrollbarSize:Oe,vScrollbarSize:Oe,scrollbarStartGap:Le,scrollbarEndGap:De,role:String,...Ee}),ze=o({alwaysOn:Boolean,class:String,layout:Ie,total:He,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:Oe,startGap:Le,endGap:De,visible:Boolean}),Ke=(e,t)=>e<t?se:ie,Ae=e=>"ltr"===e||e===we||e===fe,Ne=e=>e===we;let Fe=null;function je(e=!1){if(null===Fe||e){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const l=document.createElement("div"),o=l.style;return o.width="100px",o.height="100px",e.appendChild(l),document.body.appendChild(e),e.scrollLeft>0?Fe=ve:(e.scrollLeft=1,Fe=0===e.scrollLeft?ge:ye),document.body.removeChild(e),Fe}return Fe}const Ge=s({name:"ElVirtualScrollBar",props:ze,emits:["scroll","start-move","stop-move"],setup(e,{emit:l}){const o=t(()=>e.startGap+e.endGap),r=i("virtual-scrollbar"),a=i("scrollbar"),n=c(),s=c();let w=null,g=null;const y=d({isDragging:!1,traveled:0}),v=t(()=>U[e.layout]),x=t(()=>e.clientSize-u(o)),b=t(()=>({position:"absolute",width:`${fe===e.layout?x.value:e.scrollbarSize}px`,height:`${fe===e.layout?e.scrollbarSize:x.value}px`,[xe[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),S=t(()=>{const t=e.ratio;if(t>=100)return Number.POSITIVE_INFINITY;if(t>=50)return t*x.value/100;const l=x.value/3;return Math.floor(Math.min(Math.max(t*x.value/100,20),l))}),R=t(()=>{if(!Number.isFinite(S.value))return{display:"none"};const t=`${S.value}px`,l=function({move:e,size:t,bar:l},o){const r={},a=`translate${l.axis}(${e}px)`;return r[l.size]=t,r.transform=a,"horizontal"===o?r.height="100%":r.width="100%",r}({bar:v.value,size:t,move:y.traveled},e.layout);return l}),T=t(()=>Math.ceil(e.clientSize-S.value-u(o))),C=()=>{window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",I),document.onselectstart=g,g=null;const e=u(s);e&&(e.removeEventListener("touchmove",E),e.removeEventListener("touchend",I))},H=e=>{e.stopImmediatePropagation(),e.ctrlKey||[1,2].includes(e.button)||(y.isDragging=!0,y[v.value.axis]=e.currentTarget[v.value.offset]-(e[v.value.client]-e.currentTarget.getBoundingClientRect()[v.value.direction]),l("start-move"),(()=>{window.addEventListener("mousemove",E),window.addEventListener("mouseup",I);const e=u(s);e&&(g=document.onselectstart,document.onselectstart=()=>!1,e.addEventListener("touchmove",E,{passive:!0}),e.addEventListener("touchend",I))})())},I=()=>{y.isDragging=!1,y[v.value.axis]=0,l("stop-move"),C()},E=e=>{const{isDragging:t}=y;if(!t)return;if(!s.value||!n.value)return;const o=y[v.value.axis];if(!o)return;Q(w);const r=-1*(n.value.getBoundingClientRect()[v.value.direction]-e[v.value.client])-(s.value[v.value.offset]-o);w=_(()=>{y.traveled=Math.max(0,Math.min(r,T.value)),l("scroll",r,T.value)})},M=e=>{const t=Math.abs(e.target.getBoundingClientRect()[v.value.direction]-e[v.value.client])-s.value[v.value.offset]/2;y.traveled=Math.max(0,Math.min(t,T.value)),l("scroll",t,T.value)};return h(()=>e.scrollFrom,e=>{y.isDragging||(y.traveled=Math.ceil(e*T.value))}),m(()=>{C()}),()=>f("div",{role:"presentation",ref:n,class:[r.b(),e.class,(e.alwaysOn||y.isDragging)&&"always-on"],style:b.value,onMousedown:p(M,["stop","prevent"]),onTouchstartPrevent:H},f("div",{ref:s,class:a.e("thumb"),style:R.value,onMousedown:H},[]))}});var Ve=(e=>(e.ASC="asc",e.DESC="desc",e))(Ve||{}),ke=(e=>(e.LEFT="left",e.CENTER="center",e.RIGHT="right",e))(ke||{}),Pe=(e=>(e.LEFT="left",e.RIGHT="right",e))(Pe||{});const $e={asc:"desc",desc:"asc"},Be=Symbol("placeholder");const qe=(l,{mainTableRef:o,leftTableRef:r,rightTableRef:a,tableInstance:n,ns:s,isScrolling:i})=>{const d=e(),{emit:h}=d,m=g(!1),f=c(l.defaultExpandedRowKeys||[]),p=c(-1),w=g(null),x=c({}),b=c({}),S=g({}),R=g({}),T=g({}),C=t(()=>y(l.estimatedRowHeight));function H({hovered:e,rowKey:t}){if(i.value)return;n.vnode.el.querySelectorAll(`[rowkey="${String(t)}"]`).forEach(t=>{e?t.classList.add(s.is("hovered")):t.classList.remove(s.is("hovered"))})}const I=X(()=>{var e,t,l,n;m.value=!0,x.value={...u(x),...u(b)},E(u(w),!1),b.value={},w.value=null,null==(e=o.value)||e.forceUpdate(),null==(t=r.value)||t.forceUpdate(),null==(l=a.value)||l.forceUpdate(),null==(n=d.proxy)||n.$forceUpdate(),m.value=!1},0);function E(e,t=!1){u(C)&&[o,r,a].forEach(l=>{const o=u(l);o&&o.resetAfterRowIndex(e,t)})}return{expandedRowKeys:f,lastRenderedRowIndex:p,isDynamic:C,isResetting:m,rowHeights:x,resetAfterIndex:E,onRowExpanded:function({expanded:e,rowData:t,rowIndex:o,rowKey:r}){var a,i;const c=[...u(f)],d=c.indexOf(r);e?-1===d&&c.push(r):d>-1&&c.splice(d,1),f.value=c,h("update:expandedRowKeys",c),null==(a=l.onRowExpand)||a.call(l,{expanded:e,rowData:t,rowIndex:o,rowKey:r}),null==(i=l.onExpandedRowsChange)||i.call(l,c),n.vnode.el.querySelector(`.${s.is("hovered")}[rowkey="${String(r)}"]`)&&v(()=>H({hovered:!0,rowKey:r}))},onRowHovered:H,onRowsRendered:function(e){var t;null==(t=l.onRowsRendered)||t.call(l,e),e.rowCacheEnd>u(p)&&(p.value=e.rowCacheEnd)},onRowHeightChange:function({rowKey:e,height:t,rowIndex:l},o){o?o===Pe.RIGHT?T.value[e]=t:S.value[e]=t:R.value[e]=t;const r=Math.max(...[S,T,R].map(t=>t.value[e]||0));u(x)[e]!==r&&(!function(e,t,l){const o=u(w);(null===o||o>l)&&(w.value=l),b.value[e]=t}(e,r,l),I())}}},Ue=(e,t)=>e+t,Xe=e=>x(e)?e.reduce(Ue,0):e,Ye=(e,t,l={})=>R(e)?e(t):null!=e?e:l,Qe=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=b(e[t])}),e),_e=e=>S(e)?t=>f(e,t):e;function Ze(l){const o=c(),r=c(),a=c(),{columns:n,columnsStyles:s,columnsTotalWidth:d,fixedColumnsOnLeft:m,fixedColumnsOnRight:f,hasFixedColumns:p,mainColumns:v,onColumnSorted:S}=function(e,l,o){const r=t(()=>u(l).map((e,t)=>{var l,o;return{...e,key:null!=(o=null!=(l=e.key)?l:e.dataKey)?o:t}})),a=t(()=>u(r).filter(e=>!e.hidden)),n=t(()=>u(a).filter(e=>"left"===e.fixed||!0===e.fixed)),s=t(()=>u(a).filter(e=>"right"===e.fixed)),i=t(()=>u(a).filter(e=>!e.fixed)),c=t(()=>{const e=[];return u(n).forEach(t=>{e.push({...t,placeholderSign:Be})}),u(i).forEach(t=>{e.push(t)}),u(s).forEach(t=>{e.push({...t,placeholderSign:Be})}),e}),d=t(()=>u(n).length||u(s).length),h=t(()=>u(r).reduce((t,l)=>(t[l.key]=((e,t,l)=>{var o;const r={flexGrow:0,flexShrink:0,...l?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};l||(r.flexShrink=1);const a={...null!=(o=e.style)?o:{},...r,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(a.maxWidth=e.maxWidth),e.minWidth&&(a.minWidth=e.minWidth)),a})(l,u(o),e.fixed),t),{})),m=t(()=>u(a).reduce((e,t)=>e+t.width,0)),f=e=>u(r).find(t=>t.key===e);return{columns:r,columnsStyles:h,columnsTotalWidth:m,fixedColumnsOnLeft:n,fixedColumnsOnRight:s,hasFixedColumns:d,mainColumns:c,normalColumns:i,visibleColumns:a,getColumn:f,getColumnStyle:e=>u(h)[e],updateColumnWidth:(e,t)=>{e.width=t},onColumnSorted:function(t){var l;const{key:o}=t.currentTarget.dataset;if(!o)return;const{sortState:r,sortBy:a}=e;let n=Ve.ASC;n=w(r)?$e[r[o]]:$e[a.order],null==(l=e.onColumnSort)||l.call(e,{column:f(o),key:o,order:n})}}}(l,T(l,"columns"),T(l,"fixed")),{scrollTo:R,scrollToLeft:C,scrollToTop:H,scrollToRow:I,onScroll:E,onVerticalScroll:M,scrollPos:O}=((e,{mainTableRef:t,leftTableRef:l,rightTableRef:o,onMaybeEndReached:r})=>{const a=c({scrollLeft:0,scrollTop:0});function n(e){var r,a,n;const{scrollTop:s}=e;null==(r=t.value)||r.scrollTo(e),null==(a=l.value)||a.scrollToTop(s),null==(n=o.value)||n.scrollToTop(s)}function s(e){a.value=e,n(e)}function i(e){a.value.scrollTop=e,n(u(a))}return h(()=>u(a).scrollTop,(e,t)=>{e>t&&r()}),{scrollPos:a,scrollTo:s,scrollToLeft:function(e){var l,o;a.value.scrollLeft=e,null==(o=null==(l=t.value)?void 0:l.scrollTo)||o.call(l,u(a))},scrollToTop:i,scrollToRow:function(e,l="auto"){var o;null==(o=t.value)||o.scrollToRow(e,l)},onScroll:function(t){var l;s(t),null==(l=e.onScroll)||l.call(e,t)},onVerticalScroll:function({scrollTop:e}){const{scrollTop:t}=u(a);e!==t&&i(e)}}})(l,{mainTableRef:o,leftTableRef:r,rightTableRef:a,onMaybeEndReached:function(){const{onEndReached:e}=l;if(!e)return;const{scrollTop:t}=u(O),o=u(q),r=u(Z),a=o-(t+r)+l.hScrollbarSize;!ae.value&&u(K)>=0&&o<=t+u(Y)-u(le)?(ae.value=!0,e(a)):ae.value=!1}}),L=i("table-v2"),D=e(),W=g(!1),{expandedRowKeys:z,lastRenderedRowIndex:K,isDynamic:A,isResetting:N,rowHeights:F,resetAfterIndex:j,onRowExpanded:G,onRowHeightChange:V,onRowHovered:k,onRowsRendered:P}=qe(l,{mainTableRef:o,leftTableRef:r,rightTableRef:a,tableInstance:D,ns:L,isScrolling:W}),{data:$,depthMap:B}=((e,{expandedRowKeys:l,lastRenderedRowIndex:o,resetAfterIndex:r})=>{const a=c({}),n=t(()=>{const t={},{data:o,rowKey:r}=e,n=u(l);if(!n||!n.length)return o;const s=[],i=new Set;n.forEach(e=>i.add(e));let c=o.slice();for(c.forEach(e=>t[e[r]]=0);c.length>0;){const e=c.shift();s.push(e),i.has(e[r])&&x(e.children)&&e.children.length>0&&(c=[...e.children,...c],e.children.forEach(l=>t[l[r]]=t[e[r]]+1))}return a.value=t,s}),s=t(()=>{const{data:t,expandColumnKey:l}=e;return l?u(n):t});return h(s,(e,t)=>{e!==t&&(o.value=-1,r(0,!0))}),{data:s,depthMap:a}})(l,{expandedRowKeys:z,lastRenderedRowIndex:K,resetAfterIndex:j}),q=t(()=>{const{estimatedRowHeight:e,rowHeight:t}=l,o=u($);return y(e)?Object.values(u(F)).reduce((e,t)=>e+t,0):o.length*t}),{bodyWidth:U,fixedTableHeight:X,mainTableHeight:Y,leftTableWidth:Q,rightTableWidth:_,windowHeight:Z,footerHeight:J,emptyStyle:ee,rootStyle:te,headerHeight:le}=((e,{columnsTotalWidth:l,rowsHeight:o,fixedColumnsOnLeft:r,fixedColumnsOnRight:a})=>{const n=t(()=>{const{fixed:t,width:o,vScrollbarSize:r}=e,a=o-r;return t?Math.max(Math.round(u(l)),a):a}),s=t(()=>{const{height:t=0,maxHeight:l=0,footerHeight:r,hScrollbarSize:a}=e;if(l>0){const e=u(f),t=u(o),n=u(m)+e+t+a;return Math.min(n,l-r)}return t-r}),i=t(()=>{const{maxHeight:t}=e,l=u(s);if(y(t)&&t>0)return l;const r=u(o)+u(m)+u(f);return Math.min(l,r)}),c=e=>e.width,d=t(()=>Xe(u(r).map(c))),h=t(()=>Xe(u(a).map(c))),m=t(()=>Xe(e.headerHeight)),f=t(()=>{var t;return((null==(t=e.fixedData)?void 0:t.length)||0)*e.rowHeight}),p=t(()=>u(s)-u(m)-u(f)),w=t(()=>{const{style:t={},height:l,width:o}=e;return Qe({...t,height:l,width:o})}),g=t(()=>Qe({height:e.footerHeight})),v=t(()=>({top:b(u(m)),bottom:b(e.footerHeight),width:b(e.width)}));return{bodyWidth:n,fixedTableHeight:i,mainTableHeight:s,leftTableWidth:d,rightTableWidth:h,windowHeight:p,footerHeight:g,emptyStyle:v,rootStyle:w,headerHeight:m}})(l,{columnsTotalWidth:d,fixedColumnsOnLeft:m,fixedColumnsOnRight:f,rowsHeight:q}),oe=c(),re=t(()=>{const e=0===u($).length;return x(l.fixedData)?0===l.fixedData.length&&e:e});const ae=c(!1);return h(()=>u(q),()=>ae.value=!1),h(()=>l.expandedRowKeys,e=>z.value=e,{deep:!0}),{columns:n,containerRef:oe,mainTableRef:o,leftTableRef:r,rightTableRef:a,isDynamic:A,isResetting:N,isScrolling:W,hasFixedColumns:p,columnsStyles:s,columnsTotalWidth:d,data:$,expandedRowKeys:z,depthMap:B,fixedColumnsOnLeft:m,fixedColumnsOnRight:f,mainColumns:v,bodyWidth:U,emptyStyle:ee,rootStyle:te,footerHeight:J,mainTableHeight:Y,fixedTableHeight:X,leftTableWidth:Q,rightTableWidth:_,showEmpty:re,getRowHeight:function(e){const{estimatedRowHeight:t,rowHeight:o,rowKey:r}=l;return t?u(F)[u($)[e][r]]||t:o},onColumnSorted:S,onRowHovered:k,onRowExpanded:G,onRowsRendered:P,onRowHeightChange:V,scrollTo:R,scrollToLeft:C,scrollToTop:H,scrollToRow:I,onScroll:E,onVerticalScroll:M}}const Je=Symbol("tableV2"),et="tableV2GridScrollLeft",tt=String,lt={type:a(Array),required:!0},ot={type:a(Array)},rt={...ot,required:!0},at=String,nt={type:a(Array),default:()=>n([])},st={type:Number,required:!0},it={type:a([String,Number,Symbol]),default:"id"},ct={type:a(Object)},dt=o({class:String,columns:lt,columnsStyles:{type:a(Object),required:!0},depth:Number,expandColumnKey:at,estimatedRowHeight:{...We.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:a(Function)},onRowHover:{type:a(Function)},onRowHeightChange:{type:a(Function)},rowData:{type:a(Object),required:!0},rowEventHandlers:{type:a(Object)},rowIndex:{type:Number,required:!0},rowKey:it,style:{type:a(Object)}}),ut={type:Number,required:!0},ht=o({class:String,columns:lt,fixedHeaderData:{type:a(Array)},headerData:{type:a(Array),required:!0},headerHeight:{type:a([Number,Array]),default:50},rowWidth:ut,rowHeight:{type:Number,default:50},height:ut,width:ut}),mt=o({columns:lt,data:rt,fixedData:ot,estimatedRowHeight:dt.estimatedRowHeight,width:st,height:st,headerWidth:st,headerHeight:ht.headerHeight,bodyWidth:st,rowHeight:st,cache:Me.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:We.scrollbarAlwaysOn,scrollbarStartGap:We.scrollbarStartGap,scrollbarEndGap:We.scrollbarEndGap,class:tt,style:ct,containerStyle:ct,getRowHeight:{type:a(Function),required:!0},rowKey:dt.rowKey,onRowsRendered:{type:a(Function)},onScroll:{type:a(Function)}}),ft=o({cache:mt.cache,estimatedRowHeight:dt.estimatedRowHeight,rowKey:it,headerClass:{type:a([String,Function])},headerProps:{type:a([Object,Function])},headerCellProps:{type:a([Object,Function])},headerHeight:ht.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:a([String,Function])},rowProps:{type:a([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:a([Object,Function])},columns:lt,data:rt,dataGetter:{type:a(Function)},fixedData:ot,expandColumnKey:dt.expandColumnKey,expandedRowKeys:nt,defaultExpandedRowKeys:nt,class:tt,fixed:Boolean,style:{type:a(Object)},width:st,height:st,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:We.hScrollbarSize,vScrollbarSize:We.vScrollbarSize,scrollbarAlwaysOn:ze.alwaysOn,sortBy:{type:a(Object),default:()=>({})},sortState:{type:a(Object),default:void 0},onColumnSort:{type:a(Function)},onExpandedRowsChange:{type:a(Function)},onEndReached:{type:a(Function)},onRowExpand:dt.onRowExpand,onScroll:mt.onScroll,onRowsRendered:mt.onRowsRendered,rowEventHandlers:dt.rowEventHandlers});var pt=s({name:"ElTableV2Header",props:ht,setup(e,{slots:l,expose:o}){const r=i("table-v2"),a=C(et),n=c(),s=t(()=>Qe({width:e.width,height:e.height})),d=t(()=>Qe({width:e.rowWidth,height:e.height})),h=t(()=>Y(u(e.headerHeight))),m=e=>{const t=u(n);v(()=>{(null==t?void 0:t.scroll)&&t.scroll({left:e})})},f=()=>{const t=r.e("fixed-header-row"),{columns:o,fixedHeaderData:a,rowHeight:n}=e;return null==a?void 0:a.map((e,r)=>{var a;const s=Qe({height:n,width:"100%"});return null==(a=l.fixed)?void 0:a.call(l,{class:t,columns:o,rowData:e,rowIndex:-(r+1),style:s})})},p=()=>{const t=r.e("dynamic-header-row"),{columns:o}=e;return u(h).map((e,r)=>{var a;const n=Qe({width:"100%",height:e});return null==(a=l.dynamic)?void 0:a.call(l,{class:t,columns:o,headerIndex:r,style:n})})};return H(()=>{(null==a?void 0:a.value)&&m(a.value)}),o({scrollToLeft:m}),()=>{if(!(e.height<=0))return I("div",{ref:n,class:e.class,style:u(s),role:"rowgroup"},[I("div",{style:u(d),class:r.e("header")},[p(),f()])])}}});const wt=({name:l,clearCache:o,getColumnPosition:r,getColumnStartIndexForOffset:a,getColumnStopIndexForStartIndex:n,getEstimatedTotalHeight:d,getEstimatedTotalWidth:h,getColumnOffset:m,getRowOffset:p,getRowPosition:w,getRowStartIndexForOffset:g,getRowStopIndexForStartIndex:x,initCache:b,injectToInstance:S,validateProps:R})=>s({name:null!=l?l:"ElVirtualList",props:We,emits:[ae,ne],setup(l,{emit:s,expose:T,slots:C}){const H=i("vl");R(l);const I=e(),A=c(b(l,I));null==S||S(I,A);const N=c(),F=c(),j=c(),G=c(null),V=c({isScrolling:!1,scrollLeft:y(l.initScrollLeft)?l.initScrollLeft:0,scrollTop:y(l.initScrollTop)?l.initScrollTop:0,updateRequested:!1,xAxisScrollDir:se,yAxisScrollDir:se}),k=oe(),P=t(()=>Number.parseInt(`${l.height}`,10)),$=t(()=>Number.parseInt(`${l.width}`,10)),B=t(()=>{const{totalColumn:e,totalRow:t,columnCache:o}=l,{isScrolling:r,xAxisScrollDir:s,scrollLeft:i}=u(V);if(0===e||0===t)return[0,0,0,0];const c=a(l,i,u(A)),d=n(l,c,i,u(A)),h=r&&s!==ie?1:Math.max(1,o),m=r&&s!==se?1:Math.max(1,o);return[Math.max(0,c-h),Math.max(0,Math.min(e-1,d+m)),c,d]}),q=t(()=>{const{totalColumn:e,totalRow:t,rowCache:o}=l,{isScrolling:r,yAxisScrollDir:a,scrollTop:n}=u(V);if(0===e||0===t)return[0,0,0,0];const s=g(l,n,u(A)),i=x(l,s,n,u(A)),c=r&&a!==ie?1:Math.max(1,o),d=r&&a!==se?1:Math.max(1,o);return[Math.max(0,s-c),Math.max(0,Math.min(t-1,i+d)),s,i]}),U=t(()=>d(l,u(A))),X=t(()=>h(l,u(A))),Y=t(()=>{var e;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:l.direction,height:y(l.height)?`${l.height}px`:l.height,width:y(l.width)?`${l.width}px`:l.width},null!=(e=l.style)?e:{}]}),J=t(()=>{const e=`${u(X)}px`;return{height:`${u(U)}px`,pointerEvents:u(V).isScrolling?"none":void 0,width:e}}),ee=()=>{const{totalColumn:e,totalRow:t}=l;if(e>0&&t>0){const[e,t,l,o]=u(B),[r,a,n,i]=u(q);s(ae,{columnCacheStart:e,columnCacheEnd:t,rowCacheStart:r,rowCacheEnd:a,columnVisibleStart:l,columnVisibleEnd:o,rowVisibleStart:n,rowVisibleEnd:i})}const{scrollLeft:o,scrollTop:r,updateRequested:a,xAxisScrollDir:n,yAxisScrollDir:i}=u(V);s(ne,{xAxisScrollDir:n,scrollLeft:o,yAxisScrollDir:i,scrollTop:r,updateRequested:a})},te=e=>{const{clientHeight:t,clientWidth:o,scrollHeight:r,scrollLeft:a,scrollTop:n,scrollWidth:s}=e.currentTarget,i=u(V);if(i.scrollTop===n&&i.scrollLeft===a)return;let c=a;if(Ne(l.direction))switch(je()){case ge:c=-a;break;case ve:c=s-o-a}V.value={...i,isScrolling:!0,scrollLeft:c,scrollTop:Math.max(0,Math.min(n,r-t)),updateRequested:!0,xAxisScrollDir:Ke(i.scrollLeft,c),yAxisScrollDir:Ke(i.scrollTop,n)},v(()=>me()),fe(),ee()},le=(e,t)=>{const l=u(P),o=(U.value-l)/t*e;ue({scrollTop:Math.min(U.value-l,o)})},re=(e,t)=>{const l=u($),o=(X.value-l)/t*e;ue({scrollLeft:Math.min(X.value-l,o)})},{onWheel:de}=(({atXEndEdge:e,atXStartEdge:t,atYEndEdge:l,atYStartEdge:o},r)=>{let a=null,n=0,s=0;const i=(r,a)=>{const n=r<=0&&t.value||r>=0&&e.value,s=a<=0&&o.value||a>=0&&l.value;return n&&s};return{hasReachedEdge:i,onWheel:e=>{Q(a);let t=e.deltaX,l=e.deltaY;Math.abs(t)>Math.abs(l)?l=0:t=0,e.shiftKey&&0!==l&&(t=l,l=0),i(n,s)&&i(n+t,s+l)||(n+=t,s+=l,e.preventDefault(),a=_(()=>{r(n,s),n=0,s=0}))}}})({atXStartEdge:t(()=>V.value.scrollLeft<=0),atXEndEdge:t(()=>V.value.scrollLeft>=X.value-u($)),atYStartEdge:t(()=>V.value.scrollTop<=0),atYEndEdge:t(()=>V.value.scrollTop>=U.value-u(P))},(e,t)=>{var l,o,r,a;null==(o=null==(l=F.value)?void 0:l.onMouseUp)||o.call(l),null==(a=null==(r=j.value)?void 0:r.onMouseUp)||a.call(r);const n=u($),s=u(P);ue({scrollLeft:Math.min(V.value.scrollLeft+e,X.value-n),scrollTop:Math.min(V.value.scrollTop+t,U.value-s)})});E(N,"wheel",de,{passive:!1});const ue=({scrollLeft:e=V.value.scrollLeft,scrollTop:t=V.value.scrollTop})=>{e=Math.max(e,0),t=Math.max(t,0);const l=u(V);t===l.scrollTop&&e===l.scrollLeft||(V.value={...l,xAxisScrollDir:Ke(l.scrollLeft,e),yAxisScrollDir:Ke(l.scrollTop,t),scrollLeft:e,scrollTop:t,updateRequested:!0},v(()=>me()),fe(),ee())},he=(e,t)=>{const{columnWidth:a,direction:n,rowHeight:s}=l,i=k.value(o&&a,o&&s,o&&n),c=`${e},${t}`;if(K(i,c))return i[c];{const[,o]=r(l,t,u(A)),a=u(A),s=Ne(n),[d,h]=w(l,e,a),[m]=r(l,t,a);return i[c]={position:"absolute",left:s?void 0:`${o}px`,right:s?`${o}px`:void 0,top:`${h}px`,height:`${d}px`,width:`${m}px`},i[c]}},me=()=>{V.value.isScrolling=!1,v(()=>{k.value(-1,null,null)})};M(()=>{if(!O)return;const{initScrollLeft:e,initScrollTop:t}=l,o=u(N);o&&(y(e)&&(o.scrollLeft=e),y(t)&&(o.scrollTop=t)),ee()});const fe=()=>{const{direction:e}=l,{scrollLeft:t,scrollTop:o,updateRequested:r}=u(V),a=u(N);if(r&&a){if(e===we)switch(je()){case ge:a.scrollLeft=-t;break;case ye:a.scrollLeft=t;break;default:{const{clientWidth:e,scrollWidth:l}=a;a.scrollLeft=l-e-t;break}}else a.scrollLeft=Math.max(0,t);a.scrollTop=Math.max(0,o)}},{resetAfterColumnIndex:pe,resetAfterRowIndex:xe,resetAfter:be}=I.proxy;T({windowRef:N,innerRef:G,getItemStyleCache:k,scrollTo:ue,scrollToItem:(e=0,t=0,o=ce)=>{const r=u(V);t=Math.max(0,Math.min(t,l.totalColumn-1)),e=Math.max(0,Math.min(e,l.totalRow-1));const a=Z(H.namespace.value),n=u(A),s=d(l,n),i=h(l,n);ue({scrollLeft:m(l,t,o,r.scrollLeft,n,i>l.width?a:0),scrollTop:p(l,e,o,r.scrollTop,n,s>l.height?a:0)})},states:V,resetAfterColumnIndex:pe,resetAfterRowIndex:xe,resetAfter:be});const Se=()=>{const e=L(l.innerElement),t=(()=>{var e;const[t,o]=u(B),[r,a]=u(q),{data:n,totalColumn:s,totalRow:i,useIsScrolling:c,itemKey:d}=l,h=[];if(i>0&&s>0)for(let l=r;l<=a;l++)for(let r=t;r<=o;r++){const t=d({columnIndex:r,data:n,rowIndex:l});h.push(f(z,{key:t},null==(e=C.default)?void 0:e.call(C,{columnIndex:r,data:n,isScrolling:c?u(V).isScrolling:void 0,style:he(l,r),rowIndex:l})))}return h})();return[f(e,W(l.innerProps,{style:u(J),ref:G}),D(e)?t:{default:()=>t})]};return()=>{const e=L(l.containerElement),{horizontalScrollbar:t,verticalScrollbar:o}=(()=>{const{scrollbarAlwaysOn:e,scrollbarStartGap:t,scrollbarEndGap:o,totalColumn:r,totalRow:a}=l,n=u($),s=u(P),i=u(X),c=u(U),{scrollLeft:d,scrollTop:h}=u(V);return{horizontalScrollbar:f(Ge,{ref:F,alwaysOn:e,startGap:t,endGap:o,class:H.e("horizontal"),clientSize:n,layout:"horizontal",onScroll:re,ratio:100*n/i,scrollFrom:d/(i-n),total:a,visible:!0}),verticalScrollbar:f(Ge,{ref:j,alwaysOn:e,startGap:t,endGap:o,class:H.e("vertical"),clientSize:s,layout:"vertical",onScroll:le,ratio:100*s/c,scrollFrom:h/(c-s),total:r,visible:!0})}})(),r=Se();return f("div",{key:0,class:H.e("wrapper"),role:l.role},[f(e,{class:l.className,style:u(Y),onScroll:te,ref:N},D(e)?r:{default:()=>r}),t,o])}}}),{max:gt,min:yt,floor:vt}=Math,xt={column:"columnWidth",row:"rowHeight"},bt={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},St=(e,t,l,o)=>{const[r,a,n]=[l[o],e[xt[o]],l[bt[o]]];if(t>n){let e=0;if(n>=0){const t=r[n];e=t.offset+t.size}for(let l=n+1;l<=t;l++){const t=a(l);r[l]={offset:e,size:t},e+=t}l[bt[o]]=t}return r[t]},Rt=(e,t,l,o,r,a)=>{for(;l<=o;){const n=l+vt((o-l)/2),s=St(e,n,t,a).offset;if(s===r)return n;s<r?l=n+1:o=n-1}return gt(0,l-1)},Tt=(e,t,l,o)=>{const[r,a]=[t[o],t[bt[o]]];return(a>0?r[a].offset:0)>=l?Rt(e,t,0,a,l,o):((e,t,l,o,r)=>{const a="column"===r?e.totalColumn:e.totalRow;let n=1;for(;l<a&&St(e,l,t,r).offset<o;)l+=n,n*=2;return Rt(e,t,vt(l/2),yt(l,a-1),o,r)})(e,t,gt(0,a),l,o)},Ct=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:l,row:o})=>{let r=0;if(l>=e&&(l=e-1),l>=0){const e=o[l];r=e.offset+e.size}return r+(e-l-1)*t},Ht=({totalColumn:e},{column:t,estimatedColumnWidth:l,lastVisitedColumnIndex:o})=>{let r=0;if(o>e&&(o=e-1),o>=0){const e=t[o];r=e.offset+e.size}return r+(e-o-1)*l},It={column:Ht,row:Ct},Et=(e,t,l,o,r,a,n)=>{const[s,i]=["row"===a?e.height:e.width,It[a]],c=St(e,t,r,a),d=i(e,r),u=gt(0,yt(d-s,c.offset)),h=gt(0,c.offset-s+n+c.size);switch(l===de&&(l=o>=h-s&&o<=u+s?ce:he),l){case ue:return u;case me:return h;case he:return Math.round(h+(u-h)/2);default:return o>=h&&o<=u?o:h>u||o<h?h:u}},Mt=wt({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,l)=>{const o=St(e,t,l,"column");return[o.size,o.offset]},getRowPosition:(e,t,l)=>{const o=St(e,t,l,"row");return[o.size,o.offset]},getColumnOffset:(e,t,l,o,r,a)=>Et(e,t,l,o,r,"column",a),getRowOffset:(e,t,l,o,r,a)=>Et(e,t,l,o,r,"row",a),getColumnStartIndexForOffset:(e,t,l)=>Tt(e,l,t,"column"),getColumnStopIndexForStartIndex:(e,t,l,o)=>{const r=St(e,t,o,"column"),a=l+e.width;let n=r.offset+r.size,s=t;for(;s<e.totalColumn-1&&n<a;)s++,n+=St(e,t,o,"column").size;return s},getEstimatedTotalHeight:Ct,getEstimatedTotalWidth:Ht,getRowStartIndexForOffset:(e,t,l)=>Tt(e,l,t,"row"),getRowStopIndexForStartIndex:(e,t,l,o)=>{const{totalRow:r,height:a}=e,n=St(e,t,o,"row"),s=l+a;let i=n.size+n.offset,c=t;for(;c<r-1&&i<s;)c++,i+=St(e,c,o,"row").size;return c},injectToInstance:(e,t)=>{const l=({columnIndex:l,rowIndex:o},r)=>{var a,n;r=!!A(r)||r,y(l)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,l-1)),y(o)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,o-1)),null==(a=e.exposed)||a.getItemStyleCache.value(-1,null,null),r&&(null==(n=e.proxy)||n.$forceUpdate())};Object.assign(e.proxy,{resetAfterColumnIndex:(e,t)=>{l({columnIndex:e},t)},resetAfterRowIndex:(e,t)=>{l({rowIndex:e},t)},resetAfter:l})},initCache:({estimatedColumnWidth:e=50,estimatedRowHeight:t=50})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Ot=wt({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:l},o,r,a,n,s)=>{l=Number(l);const i=Math.max(0,e*t-l),c=Math.min(i,o*t),d=Math.max(0,o*t-l+s+t);switch("smart"===r&&(r=a>=d-l&&a<=c+l?ce:he),r){case ue:return c;case me:return d;case he:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(l/2)?0:e>i+Math.floor(l/2)?i:e}default:return a>=d&&a<=c?a:d>c||a<d?d:c}},getRowOffset:({rowHeight:e,height:t,totalRow:l},o,r,a,n,s)=>{t=Number(t);const i=Math.max(0,l*e-t),c=Math.min(i,o*e),d=Math.max(0,o*e-t+s+e);switch(r===de&&(r=a>=d-t&&a<=c+t?ce:he),r){case ue:return c;case me:return d;case he:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(t/2)?0:e>i+Math.floor(t/2)?i:e}default:return a>=d&&a<=c?a:d>c||a<d?d:c}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:l},o,r)=>{const a=o*e,n=Math.ceil((l+r-a)/e);return Math.max(0,Math.min(t-1,o+n-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:l},o,r)=>{const a=o*e,n=Math.ceil((l+r-a)/e);return Math.max(0,Math.min(t-1,o+n-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}});var Lt=s({name:"ElTableV2Grid",props:mt,setup(e,{slots:l,expose:o}){const{ns:r}=C(Je),{bodyRef:a,fixedRowHeight:n,gridHeight:s,hasHeader:i,headerRef:d,headerHeight:m,totalHeight:f,forceUpdate:p,itemKey:g,onItemRendered:x,resetAfterRowIndex:b,scrollTo:S,scrollToTop:R,scrollToRow:T,scrollLeft:H}=(e=>{const l=c(),o=c(),r=c(0),a=t(()=>{const{data:t,rowHeight:l,estimatedRowHeight:o}=e;if(!o)return t.length*l}),n=t(()=>{const{fixedData:t,rowHeight:l}=e;return((null==t?void 0:t.length)||0)*l}),s=t(()=>Xe(e.headerHeight)),i=t(()=>{const{height:t}=e;return Math.max(0,t-u(s)-u(n))}),d=t(()=>u(s)+u(n)>0);return h(()=>e.bodyWidth,()=>{var t;y(e.estimatedRowHeight)&&(null==(t=o.value)||t.resetAfter({columnIndex:0},!1))}),{bodyRef:o,forceUpdate:function(){var e,t;null==(e=u(o))||e.$forceUpdate(),null==(t=u(l))||t.$forceUpdate()},fixedRowHeight:n,gridHeight:i,hasHeader:d,headerHeight:s,headerRef:l,totalHeight:a,itemKey:({data:t,rowIndex:l})=>t[l][e.rowKey],onItemRendered:function({rowCacheStart:t,rowCacheEnd:l,rowVisibleStart:o,rowVisibleEnd:r}){var a;null==(a=e.onRowsRendered)||a.call(e,{rowCacheStart:t,rowCacheEnd:l,rowVisibleStart:o,rowVisibleEnd:r})},resetAfterRowIndex:function(e,t){var l;null==(l=o.value)||l.resetAfterRowIndex(e,t)},scrollTo:function(e,t){const a=u(l),n=u(o);w(e)?(null==a||a.scrollToLeft(e.scrollLeft),r.value=e.scrollLeft,null==n||n.scrollTo(e)):(null==a||a.scrollToLeft(e),r.value=e,null==n||n.scrollTo({scrollLeft:e,scrollTop:t}))},scrollToTop:function(e){var t;null==(t=u(o))||t.scrollTo({scrollTop:e})},scrollToRow:function(e,t){var l;null==(l=u(o))||l.scrollToItem(e,1,t)},scrollLeft:r}})(e);F(et,H),N(async()=>{var e;await v();const t=null==(e=a.value)?void 0:e.states.scrollTop;t&&R(Math.round(t)+1)}),o({forceUpdate:p,totalHeight:f,scrollTo:S,scrollToTop:R,scrollToRow:T,resetAfterRowIndex:b});const E=()=>e.bodyWidth;return()=>{const{cache:t,columns:o,data:c,fixedData:h,useIsScrolling:f,scrollbarAlwaysOn:p,scrollbarEndGap:w,scrollbarStartGap:v,style:b,rowHeight:S,bodyWidth:R,estimatedRowHeight:T,headerWidth:C,height:H,width:M,getRowHeight:O,onScroll:L}=e,D=y(T),W=D?Mt:Ot,z=u(m);return I("div",{role:"table",class:[r.e("table"),e.class],style:b},[I(W,{ref:a,data:c,useIsScrolling:f,itemKey:g,columnCache:0,columnWidth:D?E:R,totalColumn:1,totalRow:c.length,rowCache:t,rowHeight:D?O:S,width:M,height:u(s),class:r.e("body"),role:"rowgroup",scrollbarStartGap:v,scrollbarEndGap:w,scrollbarAlwaysOn:p,onScroll:L,onItemRendered:x,perfMode:!1},{default:e=>{var t;const r=c[e.rowIndex];return null==(t=l.row)?void 0:t.call(l,{...e,columns:o,rowData:r})}}),u(i)&&I(pt,{ref:d,class:r.e("header-wrapper"),columns:o,headerData:c,headerHeight:e.headerHeight,fixedHeaderData:h,rowWidth:C,rowHeight:S,width:M,height:Math.min(z+u(n),H)},{dynamic:l.header,fixed:l.row})])}}});var Dt=(e,{slots:t})=>{const{mainTableRef:l,...o}=e;return I(Lt,W({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!S(r)?t:{default:()=>[t]});var r};var Wt=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:l,...o}=e;return I(Lt,W({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!S(r)?t:{default:()=>[t]});var r};var zt=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:l,...o}=e;return I(Lt,W({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!S(r)?t:{default:()=>[t]});var r};const Kt=e=>{const{isScrolling:l}=C(Je),o=c(!1),r=c(),a=t(()=>y(e.estimatedRowHeight)&&e.rowIndex>=0),n=t(()=>{const{rowData:t,rowIndex:l,rowKey:o,onRowHover:r}=e,a=e.rowEventHandlers||{},n={};return Object.entries(a).forEach(([e,r])=>{R(r)&&(n[e]=e=>{r({event:e,rowData:t,rowIndex:l,rowKey:o})})}),r&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:e,hovered:a})=>{const s=n[e];n[e]=e=>{r({event:e,hovered:a,rowData:t,rowIndex:l,rowKey:o}),null==s||s(e)}}),n});return M(()=>{u(a)&&((t=!1)=>{const l=u(r);if(!l)return;const{columns:a,onRowHeightChange:n,rowKey:s,rowIndex:i,style:c}=e,{height:d}=l.getBoundingClientRect();o.value=!0,v(()=>{if(t||d!==Number.parseInt(c.height)){const e=a[0],t=(null==e?void 0:e.placeholderSign)===Be;null==n||n({rowKey:s,height:d,rowIndex:i},e&&!t&&e.fixed)}})})(!0)}),{isScrolling:l,measurable:a,measured:o,rowRef:r,eventHandlers:n,onExpand:t=>{const{onRowExpand:l,rowData:o,rowIndex:r,rowKey:a}=e;null==l||l({expanded:t,rowData:o,rowIndex:r,rowKey:a})}}};var At=s({name:"ElTableV2TableRow",props:dt,setup(e,{expose:t,slots:l,attrs:o}){const{eventHandlers:r,isScrolling:a,measurable:n,measured:s,rowRef:i,onExpand:c}=Kt(e);return t({onExpand:c}),()=>{const{columns:t,columnsStyles:d,expandColumnKey:h,depth:m,rowData:f,rowIndex:p,style:w}=e;let g=t.map((e,o)=>{const r=x(f.children)&&f.children.length>0&&e.key===h;return l.cell({column:e,columns:t,columnIndex:o,depth:m,style:d[e.key],rowData:f,rowIndex:p,isScrolling:u(a),expandIconProps:r?{rowData:f,rowIndex:p,onExpand:c}:void 0})});if(l.row&&(g=l.row({cells:g.map(e=>x(e)&&1===e.length?e[0]:e),style:w,columns:t,depth:m,rowData:f,rowIndex:p,isScrolling:u(a)})),u(n)){const{height:t,...l}=w||{},a=u(s);return I("div",W({ref:i,class:e.class,style:a?w:l,role:"row"},o,u(r)),[g])}return I("div",W(o,{ref:i,class:e.class,style:w,role:"row"},u(r)),[g])}}});var Nt=(e,{slots:t})=>{const{columns:l,columnsStyles:o,depthMap:r,expandColumnKey:a,expandedRowKeys:n,estimatedRowHeight:s,hasFixedColumns:i,rowData:c,rowIndex:d,style:u,isScrolling:h,rowProps:m,rowClass:f,rowKey:p,rowEventHandlers:w,ns:g,onRowHovered:y,onRowExpanded:v}=e,x=Ye(f,{columns:l,rowData:c,rowIndex:d},""),b=Ye(m,{columns:l,rowData:c,rowIndex:d}),R=c[p],T=r[R]||0,C=Boolean(a),H=d<0,E=[g.e("row"),x,{[g.e(`row-depth-${T}`)]:C&&d>=0,[g.is("expanded")]:C&&n.includes(R),[g.is("fixed")]:!T&&H,[g.is("customized")]:Boolean(t.row)}],M=i?y:void 0,O={...b,columns:l,columnsStyles:o,class:E,depth:T,expandColumnKey:a,estimatedRowHeight:H?void 0:s,isScrolling:h,rowIndex:d,rowData:c,rowKey:R,rowEventHandlers:w,style:u};return I(At,W(O,{onRowExpand:v,onMouseenter:e=>{null==M||M({hovered:!0,rowKey:R,event:e,rowData:c,rowIndex:d})},onMouseleave:e=>{null==M||M({hovered:!1,rowKey:R,event:e,rowData:c,rowIndex:d})},rowkey:R}),"function"==typeof(L=t)||"[object Object]"===Object.prototype.toString.call(L)&&!S(L)?t:{default:()=>[t]});var L};const Ft=(e,{slots:t})=>{var l;const{cellData:o,style:r}=e,a=(null==(l=null==o?void 0:o.toString)?void 0:l.call(o))||"",n=j(t,"default",e,()=>[a]);return I("div",{class:e.class,title:a,style:r},[n])};Ft.displayName="ElTableV2Cell",Ft.inheritAttrs=!1;var jt=Ft;var Gt=e=>{const{expanded:t,expandable:l,onExpand:o,style:r,size:a}=e,n={onClick:l?()=>o(!t):void 0,class:e.class};return I(V,W(n,{size:a,style:r}),{default:()=>[I(G,null,null)]})};const Vt=({columns:e,column:t,columnIndex:l,depth:o,expandIconProps:r,isScrolling:a,rowData:n,rowIndex:s,style:i,expandedRowKeys:c,ns:d,cellProps:u,expandColumnKey:h,indentSize:m,iconSize:f,rowKey:p},{slots:g})=>{const y=Qe(i);if(t.placeholderSign===Be)return I("div",{class:d.em("row-cell","placeholder"),style:y},null);const{cellRenderer:v,dataKey:x,dataGetter:b}=t,S=R(b)?b({columns:e,column:t,columnIndex:l,rowData:n,rowIndex:s}):k(n,null!=x?x:""),T=Ye(u,{cellData:S,columns:e,column:t,columnIndex:l,rowIndex:s,rowData:n}),C={class:d.e("cell-text"),columns:e,column:t,columnIndex:l,cellData:S,isScrolling:a,rowData:n,rowIndex:s},H=_e(v),E=H?H(C):j(g,"default",C,()=>[I(jt,C,null)]),M=[d.e("row-cell"),t.class,t.align===ke.CENTER&&d.is("align-center"),t.align===ke.RIGHT&&d.is("align-right")],O=s>=0&&h&&t.key===h,L=s>=0&&c.includes(n[p]);let D;const z=`margin-inline-start: ${o*m}px;`;return O&&(D=w(r)?I(Gt,W(r,{class:[d.e("expand-icon"),d.is("expanded",L)],size:f,expanded:L,style:z,expandable:!0}),null):I("div",{style:[z,`width: ${f}px; height: ${f}px;`].join(" ")},null)),I("div",W({class:M,style:y},T,{role:"cell"}),[D,E])};Vt.inheritAttrs=!1;var kt=Vt;const Pt=o({class:String,columns:lt,columnsStyles:{type:a(Object),required:!0},headerIndex:Number,style:{type:a(Object)}});var $t=s({name:"ElTableV2HeaderRow",props:Pt,setup:(e,{slots:t})=>()=>{const{columns:l,columnsStyles:o,headerIndex:r,style:a}=e;let n=l.map((e,a)=>t.cell({columns:l,column:e,columnIndex:a,headerIndex:r,style:o[e.key]}));return t.header&&(n=t.header({cells:n.map(e=>x(e)&&1===e.length?e[0]:e),columns:l,headerIndex:r})),I("div",{class:e.class,style:a,role:"row"},[n])}});var Bt=({columns:e,columnsStyles:t,headerIndex:l,style:o,headerClass:r,headerProps:a,ns:n},{slots:s})=>{const i={columns:e,headerIndex:l},c=[n.e("header-row"),Ye(r,i,""),{[n.is("customized")]:Boolean(s.header)}],d={...Ye(a,i),columnsStyles:t,class:c,columns:e,headerIndex:l,style:o};return I($t,d,"function"==typeof(u=s)||"[object Object]"===Object.prototype.toString.call(u)&&!S(u)?s:{default:()=>[s]});var u};const qt=(e,{slots:t})=>j(t,"default",e,()=>{var t,l;return[I("div",{class:e.class,title:null==(t=e.column)?void 0:t.title},[null==(l=e.column)?void 0:l.title])]});qt.displayName="ElTableV2HeaderCell",qt.inheritAttrs=!1;var Ut=qt;var Xt=e=>{const{sortOrder:t}=e;return I(V,{size:14,class:e.class},{default:()=>[t===Ve.ASC?I(P,null,null):I($,null,null)]})};var Yt=(e,{slots:t})=>{const{column:l,ns:o,style:r,onColumnSorted:a}=e,n=Qe(r);if(l.placeholderSign===Be)return I("div",{class:o.em("header-row-cell","placeholder"),style:n},null);const{headerCellRenderer:s,headerClass:i,sortable:c}=l,d={...e,class:o.e("header-cell-text")},u=_e(s),h=u?u(d):j(t,"default",d,()=>[I(Ut,d,null)]),{sortBy:m,sortState:f,headerCellProps:p}=e;let w,g;if(f){const e=f[l.key];w=Boolean($e[e]),g=w?e:Ve.ASC}else w=l.key===m.key,g=w?m.order:Ve.ASC;const y=[o.e("header-cell"),Ye(i,e,""),l.align===ke.CENTER&&o.is("align-center"),l.align===ke.RIGHT&&o.is("align-right"),c&&o.is("sortable")],v={...Ye(p,e),onClick:l.sortable?a:void 0,class:y,style:n,"data-key":l.key};return I("div",W(v,{role:"columnheader"}),[h,c&&I(Xt,{class:[o.e("sort-icon"),w&&o.is("sorting")],sortOrder:g},null)])};const Qt=(e,{slots:t})=>{var l;return I("div",{class:e.class,style:e.style},[null==(l=t.default)?void 0:l.call(t)])};Qt.displayName="ElTableV2Footer";var _t=Qt;const Zt=(e,{slots:t})=>{const l=j(t,"default",{},()=>[I(J,null,null)]);return I("div",{class:e.class,style:e.style},[l])};Zt.displayName="ElTableV2Empty";var Jt=Zt;const el=(e,{slots:t})=>{var l;return I("div",{class:e.class,style:e.style},[null==(l=t.default)?void 0:l.call(t)])};el.displayName="ElTableV2Overlay";var tl=el;function ll(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!S(e)}var ol=s({name:"ElTableV2",props:ft,setup(e,{slots:t,expose:l}){const o=i("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:a,fixedColumnsOnRight:n,mainColumns:s,mainTableHeight:c,fixedTableHeight:d,leftTableWidth:h,rightTableWidth:m,data:f,depthMap:p,expandedRowKeys:w,hasFixedColumns:g,mainTableRef:y,leftTableRef:v,rightTableRef:x,isDynamic:b,isResetting:S,isScrolling:R,bodyWidth:T,emptyStyle:C,rootStyle:H,footerHeight:E,showEmpty:M,scrollTo:O,scrollToLeft:L,scrollToTop:D,scrollToRow:z,getRowHeight:K,onColumnSorted:A,onRowHeightChange:N,onRowHovered:j,onRowExpanded:G,onRowsRendered:V,onScroll:k,onVerticalScroll:P}=Ze(e);return l({scrollTo:O,scrollToLeft:L,scrollToTop:D,scrollToRow:z}),F(Je,{ns:o,isResetting:S,isScrolling:R}),()=>{const{cache:l,cellProps:i,estimatedRowHeight:S,expandColumnKey:R,fixedData:O,headerHeight:L,headerClass:D,headerProps:z,headerCellProps:F,sortBy:$,sortState:B,rowHeight:q,rowClass:U,rowEventHandlers:X,rowKey:Y,rowProps:Q,scrollbarAlwaysOn:_,indentSize:Z,iconSize:J,useIsScrolling:ee,vScrollbarSize:te,width:le}=e,oe=u(f),re={cache:l,class:o.e("main"),columns:u(s),data:oe,fixedData:O,estimatedRowHeight:S,bodyWidth:u(T),headerHeight:L,headerWidth:u(T),height:u(c),mainTableRef:y,rowKey:Y,rowHeight:q,scrollbarAlwaysOn:_,scrollbarStartGap:2,scrollbarEndGap:te,useIsScrolling:ee,width:le,getRowHeight:K,onRowsRendered:V,onScroll:k},ae=u(h),ne=u(d),se={cache:l,class:o.e("left"),columns:u(a),data:oe,fixedData:O,estimatedRowHeight:S,leftTableRef:v,rowHeight:q,bodyWidth:ae,headerWidth:ae,headerHeight:L,height:ne,rowKey:Y,scrollbarAlwaysOn:_,scrollbarStartGap:2,scrollbarEndGap:te,useIsScrolling:ee,width:ae,getRowHeight:K,onScroll:P},ie=u(m),ce={cache:l,class:o.e("right"),columns:u(n),data:oe,fixedData:O,estimatedRowHeight:S,rightTableRef:x,rowHeight:q,bodyWidth:ie,headerWidth:ie,headerHeight:L,height:ne,rowKey:Y,scrollbarAlwaysOn:_,scrollbarStartGap:2,scrollbarEndGap:te,width:ie,style:`${o.cssVarName("table-scrollbar-size")}: ${te}px`,useIsScrolling:ee,getRowHeight:K,onScroll:P},de=u(r),ue={ns:o,depthMap:u(p),columnsStyles:de,expandColumnKey:R,expandedRowKeys:u(w),estimatedRowHeight:S,hasFixedColumns:u(g),rowProps:Q,rowClass:U,rowKey:Y,rowEventHandlers:X,onRowHovered:j,onRowExpanded:G,onRowHeightChange:N},he={cellProps:i,expandColumnKey:R,indentSize:Z,iconSize:J,rowKey:Y,expandedRowKeys:u(w),ns:o},me={ns:o,headerClass:D,headerProps:z,columnsStyles:de},fe={ns:o,sortBy:$,sortState:B,headerCellProps:F,onColumnSorted:A},pe={row:e=>I(Nt,W(e,ue),{row:t.row,cell:e=>{let l;return t.cell?I(kt,W(e,he,{style:de[e.column.key]}),ll(l=t.cell(e))?l:{default:()=>[l]}):I(kt,W(e,he,{style:de[e.column.key]}),null)}}),header:e=>I(Bt,W(e,me),{header:t.header,cell:e=>{let l;return t["header-cell"]?I(Yt,W(e,fe,{style:de[e.column.key]}),ll(l=t["header-cell"](e))?l:{default:()=>[l]}):I(Yt,W(e,fe,{style:de[e.column.key]}),null)}})},we=[e.class,o.b(),o.e("root"),{[o.is("dynamic")]:u(b)}],ge={class:o.e("footer"),style:u(E)};return I("div",{class:we,style:u(H)},[I(Dt,re,ll(pe)?pe:{default:()=>[pe]}),I(Wt,se,ll(pe)?pe:{default:()=>[pe]}),I(zt,ce,ll(pe)?pe:{default:()=>[pe]}),t.footer&&I(_t,ge,{default:t.footer}),u(M)&&I(Jt,{class:o.e("empty"),style:u(C)},{default:t.empty}),t.overlay&&I(tl,{class:o.e("overlay")},{default:t.overlay})])}}});const rl=o({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:a(Function)}});var al=s({name:"ElAutoResizer",props:rl,setup(e,{slots:t}){const l=i("auto-resizer"),{height:o,width:r,sizer:a}=(e=>{const t=c(),l=c(0),o=c(0);let r;return M(()=>{r=B(t,([e])=>{const{width:t,height:r}=e.contentRect,{paddingLeft:a,paddingRight:n,paddingTop:s,paddingBottom:i}=getComputedStyle(e.target),c=Number.parseInt(a)||0,d=Number.parseInt(n)||0,u=Number.parseInt(s)||0,h=Number.parseInt(i)||0;l.value=t-c-d,o.value=r-u-h}).stop}),m(()=>{null==r||r()}),h([l,o],([t,l])=>{var o;null==(o=e.onResize)||o.call(e,{width:t,height:l})}),{sizer:t,width:l,height:o}})(e),n={width:"100%",height:"100%"};return()=>{var e;return I("div",{ref:a,class:l.b(),style:n},[null==(e=t.default)?void 0:e.call(t,{height:o.value,width:r.value})])}}});const nl=q(ol),sl=q(al);export{ce as A,ie as B,he as C,re as D,sl as E,se as F,fe as H,ae as I,we as R,ne as S,ol as T,pe as V,nl as a,Ge as b,ye as c,ge as d,Ke as e,ve as f,je as g,me as h,Ae as i,ue as j,de as k,ke as l,Pe as m,Ve as n,rl as o,Be as p,dt as q,Ot as r,Mt as s,ft as t,oe as u,Me as v,We as w,Ee as x,ze as y};

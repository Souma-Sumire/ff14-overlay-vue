import{_ as e}from"./ActWrapper-UDafzLxa.js";import{d as o,f as l,r as t,g as s,j as a,w as n,o as i,a as m,k as r,v as u,u as f,b as d,p,t as c,e as g,c as h,l as V,F as C,n as w}from"./index-DtRnTB31.js";/* empty css                */import{E as v}from"./el-progress-BtBN1nUn.js";import{b as x,a as j}from"./el-header-CV9ys67_.js";import{E as A}from"./el-popconfirm-Iilrzlw3.js";import"./el-popper-CfEQJd1B.js";/* empty css                   */import{E as D}from"./el-button-DQJ5K5gj.js";/* empty css               */import{E as I,b as z}from"./el-select-KLjkodZa.js";import"./el-scrollbar-BOzcOkZZ.js";/* empty css                 */import{E as b}from"./el-switch-CrjY2_Tp.js";import{E as U}from"./el-input-number-BWIlDMwZ.js";import{g as S}from"./actionChinese-CjZRUybd.js";import{a as X}from"./overlay_plugin_api-DHbPkDtN.js";import{u as Y}from"./index-DfBPki2T.js";import{E as y}from"./validator-C71Yi1RE.js";import{_ as T}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./el-card-BCG1h_HK.js";import"./useDev-DsYpLybs.js";import"./useDemo-DdiBJ_CJ.js";import"./index-BGXr5xLJ.js";import"./index-Bfer9MZi.js";import"./index-LggGjJev.js";import"./focus-trap-B5RDnuRl.js";import"./use-form-common-props-DU0Ex9rX.js";import"./index-BPiL1AwD.js";import"./index-CK_-nZGd.js";import"./isEqual-CSBA_F7Y.js";import"./index-DsK06T65.js";import"./scroll-BgDclaTI.js";import"./debounce-B9fz-hZQ.js";import"./vnode-CNWpmtka.js";import"./lz-string-Bhlr6y1U.js";import"./_commonjsHelpers-CLPN-Npl.js";import"./index-BLNLSygN.js";const _={};const F={style:{width:"10rem"}},P={class:"noCSS"},E={class:"noCSS"},N={class:"container"},k={class:"actionID"},$=T(o({__name:"castingToChinese",setup(o){function T(e){const o=Number.parseInt(e[4],16),l=e[2],t=e[5],s=_[o];if(s)return s;const a=S(o);return a||(l.startsWith("4")&&t.includes("unknown"),t)}w(e=>({"419001ee":f(L),ebf40c46:f(G),ebf40c44:f(O),"55519e55":f(W),"4bad32a2":f(J),"2f27c012":f(Q),"2f27c010":f(R),"2e45adf9":f(B),"0d0b575e":f(Z),"0d0b575c":f(ee),"6c441933":f(M),98272116:f(oe),98272114:f(le)}));class ${name;startTime;castTime;overTime;actionId;constructor(e){this.name=T(e),this.startTime=Date.now(),this.castTime=1e3*Number(e[8]),this.overTime=this.startTime+this.castTime,this.actionId=Number.parseInt(e[4],16)}}const K=l({targetCast:void 0}),q=[{value:"Target",label:"当前目标"},{value:"Focus",label:"焦点目标"}],H=t({width:265,showCountdown:!1,showProgress:!1,showActionChinese:!0,showActionID:!1,offsetProgressX:0,offsetProgressY:-22,offsetCountdownX:240,offsetCountdownY:-5,offsetActionChineseX:275,offsetActionChineseY:-45,offsetActionIDX:10,offsetActionIDY:-5,ping:80,keep:100,fontSizeCountDown:17,fontSizeActionName:20,fontFamily:"SmartisanHei",targetKey:"Target"});Y("castingToChineseFix",H,localStorage,{mergeDefaults:!0});const M=s(()=>`${H.value.width}px`),L=s(()=>H.value.showCountdown?1:0),W=s(()=>H.value.showProgress?1:0),J=s(()=>H.value.showActionChinese?1:0),B=s(()=>H.value.showActionID?1:0),G=s(()=>`${H.value.offsetCountdownX}px`),O=s(()=>-1*H.value.offsetCountdownY+"px"),Q=s(()=>`${H.value.offsetActionChineseX}px`),R=s(()=>-1*H.value.offsetActionChineseY+"px"),Z=s(()=>`${H.value.offsetActionIDX}px`),ee=s(()=>-1*H.value.offsetActionIDY+"px"),oe=s(()=>`${H.value.offsetProgressX}px`),le=s(()=>-1*H.value.offsetProgressY+"px"),te=new Map,se=t(0),ae=H.value.ping;function ne(){localStorage.removeItem("castingToChinese"),location.reload()}return X("EnmityTargetData",e=>{K.targetCast=te.get(e[H.value.targetKey]?.ID)}),X("LogLine",e=>{"20"===e.line[0]?te.set(Number.parseInt(e.line[2],16),new $(e.line)):"23"===e.line[0]&&te.delete(Number.parseInt(e.line[2],16))}),X("ChangeZone",()=>te.clear()),requestAnimationFrame(function e(){se.value=Date.now(),requestAnimationFrame(e)}),(o,l)=>{const t=U,s=b,w=y,S=z,X=I,Y=D,T=A,_=j,$=v,M=x,L=e;return i(),a(L,null,{readme:n(()=>[d(_,{class:"settings"},{default:n(()=>[m("form",null,[l[20]||(l[20]=g(" 宽度: ",-1)),d(t,{modelValue:f(H).width,"onUpdate:modelValue":l[0]||(l[0]=e=>f(H).width=e),min:20,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[21]||(l[21]=g("显示倒计时: ",-1)),d(s,{modelValue:f(H).showCountdown,"onUpdate:modelValue":l[1]||(l[1]=e=>f(H).showCountdown=e)},null,8,["modelValue"])]),m("form",null,[l[22]||(l[22]=g("显示进度条: ",-1)),d(s,{modelValue:f(H).showProgress,"onUpdate:modelValue":l[2]||(l[2]=e=>f(H).showProgress=e)},null,8,["modelValue"])]),m("form",null,[l[23]||(l[23]=g("显示中文: ",-1)),d(s,{modelValue:f(H).showActionChinese,"onUpdate:modelValue":l[3]||(l[3]=e=>f(H).showActionChinese=e)},null,8,["modelValue"])]),m("form",null,[l[24]||(l[24]=g("显示ID: ",-1)),d(s,{modelValue:f(H).showActionID,"onUpdate:modelValue":l[4]||(l[4]=e=>f(H).showActionID=e)},null,8,["modelValue"])]),m("form",null,[l[25]||(l[25]=g(" 延迟(ms): ",-1)),d(t,{modelValue:f(H).ping,"onUpdate:modelValue":l[5]||(l[5]=e=>f(H).ping=e),min:0,max:1e4,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[26]||(l[26]=g(" 保留(ms): ",-1)),d(t,{modelValue:f(H).keep,"onUpdate:modelValue":l[6]||(l[6]=e=>f(H).keep=e),min:0,max:1e5,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[27]||(l[27]=g(" 进度条偏移X: ",-1)),d(t,{modelValue:f(H).offsetProgressX,"onUpdate:modelValue":l[7]||(l[7]=e=>f(H).offsetProgressX=e),min:-1e3,max:1e3,size:"small"},null,8,["modelValue"])]),m("form",null,[l[28]||(l[28]=g(" 进度条偏移Y: ",-1)),d(t,{modelValue:f(H).offsetProgressY,"onUpdate:modelValue":l[8]||(l[8]=e=>f(H).offsetProgressY=e),min:-1e3,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[29]||(l[29]=g(" 倒计时偏移X: ",-1)),d(t,{modelValue:f(H).offsetCountdownX,"onUpdate:modelValue":l[9]||(l[9]=e=>f(H).offsetCountdownX=e),min:-1e3,max:1e3,size:"small"},null,8,["modelValue"])]),m("form",null,[l[30]||(l[30]=g(" 倒计时偏移Y: ",-1)),d(t,{modelValue:f(H).offsetCountdownY,"onUpdate:modelValue":l[10]||(l[10]=e=>f(H).offsetCountdownY=e),min:-1e3,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[31]||(l[31]=g(" 中文偏移X: ",-1)),d(t,{modelValue:f(H).offsetActionChineseX,"onUpdate:modelValue":l[11]||(l[11]=e=>f(H).offsetActionChineseX=e),min:-1e3,max:1e3,size:"small"},null,8,["modelValue"])]),m("form",null,[l[32]||(l[32]=g(" 中文偏移Y: ",-1)),d(t,{modelValue:f(H).offsetActionChineseY,"onUpdate:modelValue":l[12]||(l[12]=e=>f(H).offsetActionChineseY=e),min:-1e3,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[33]||(l[33]=g(" ID偏移X: ",-1)),d(t,{modelValue:f(H).offsetActionIDX,"onUpdate:modelValue":l[13]||(l[13]=e=>f(H).offsetActionIDX=e),min:-1e3,max:1e3,size:"small"},null,8,["modelValue"])]),m("form",null,[l[34]||(l[34]=g(" ID偏移Y: ",-1)),d(t,{modelValue:f(H).offsetActionIDY,"onUpdate:modelValue":l[14]||(l[14]=e=>f(H).offsetActionIDY=e),min:-1e3,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[35]||(l[35]=g(" 倒计时字号(px): ",-1)),d(t,{modelValue:f(H).fontSizeCountDown,"onUpdate:modelValue":l[15]||(l[15]=e=>f(H).fontSizeCountDown=e),min:1,max:100,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[36]||(l[36]=g(" 中文字号(px): ",-1)),d(t,{modelValue:f(H).fontSizeActionName,"onUpdate:modelValue":l[16]||(l[16]=e=>f(H).fontSizeActionName=e),min:1,max:100,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",F,[l[37]||(l[37]=g(" 字体: ",-1)),d(w,{modelValue:f(H).fontFamily,"onUpdate:modelValue":l[17]||(l[17]=e=>f(H).fontFamily=e),size:"small",clearable:"",onClear:l[18]||(l[18]=e=>f(H).fontFamily="SmartisanHei")},null,8,["modelValue"])]),m("form",P,[d(X,{modelValue:f(H).targetKey,"onUpdate:modelValue":l[19]||(l[19]=e=>f(H).targetKey=e),placeholder:"Select",size:"small",teleported:!1},{default:n(()=>[(i(),h(C,null,V(q,e=>d(S,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),m("form",E,[d(T,{teleported:!1,title:"确定要重置？",onConfirm:ne},{reference:n(()=>[d(Y,null,{default:n(()=>l[38]||(l[38]=[g("重置全部用户设置",-1)])),_:1,__:[38]})]),_:1})])]),_:1})]),default:n(()=>[m("div",N,[r(d(M,{style:p({fontFamily:f(H).fontFamily})},{default:n(()=>[m("div",{style:p({fontSize:`${f(H).fontSizeCountDown}px`}),class:"countdown"},c(Math.max(((f(K).targetCast?.overTime??1)-f(se)-f(ae))/1e3,0).toFixed(2)),5),d($,{percentage:Math.min((f(se)-(f(K).targetCast?.startTime??1)+f(ae))/(f(K).targetCast?.castTime??1)*100,100),"stroke-width":8,indeterminate:!1,"show-text":!1,color:"#fbfff9",class:"progress"},null,8,["percentage"]),m("div",k,c(f(K).targetCast?.actionId)+"("+c(f(K).targetCast?.actionId.toString(16).toUpperCase())+") ",1),m("div",{style:p({fontSize:`${f(H).fontSizeActionName}px`}),class:"actionChinese"},c(f(K).targetCast?.name),5)]),_:1},8,["style"]),[[u,f(K).targetCast&&f(se)-f(K).targetCast.overTime+f(ae)<f(H).keep]])])]),_:1})}}}),[["__scopeId","data-v-50233e43"]]);export{$ as default};

import"./index-DMFkdgl3.js";/* empty css               */import{u as e}from"./useWebSocket-DXuZNmFk.js";/* empty css               *//* empty css                *//* empty css                  */import{N as t}from"./netregexes-BPXJ-L2_.js";import{a,c as n}from"./overlay_plugin_api-DHbPkDtN.js";import{U as i}from"./user_config-Dpom12Ks.js";import{h as s,M as o,r,s as l,P as c}from"./element-plus-CIPkFfIK.js";import{t as u,r as g,v as d,x as m,u as v,A as f,M as x,J as y,K as p,E as C,L as b,a9 as L,G as E,D as h}from"./vue-vendor-Bp7_Yb1I.js";import{_ as D}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./content_type-lMHx3DqW.js";import"./zone_id-CumO8ZQS.js";import"./zone_info-CC6h72pn.js";const _={id:"app"},P={key:0,class:"container"},k={class:"header"},S={style:{"text-align":"right"}},w={style:{margin:"0","font-size":"15px"}},A={class:"section"},T={class:"info-table"},j={class:"info-key"},M={class:"section"},I={class:"card-title"},U={class:"event-content"},N={class:"section"},O={class:"card-title"},V={class:"event-content"},z={class:"section"},G={class:"card-title"},Z={class:"event-content"},R={key:1},B=D(u({__name:"test",setup(u){const{wsConnected:D}=e({addWsParam:!0,allowClose:!1}),B=i.getDefaultBaseOptions(),W=g({ParserLanguage:"",ShortLocale:"",DisplayLanguage:"",TextAlertsEnabled:!1,SoundAlertsEnabled:!1,SpokenAlertsEnabled:!1,GroupSpokenAlertsEnabled:!1,SystemInfo:{cactbotVersion:"",overlayPluginVersion:"",ffxivPluginVersion:"",actVersion:"",gameRegion:""},Debug:!1,Language:"",SystemLocale:"",CactbotUserDirectory:"",DefaultAlertOutput:""}),J=g(""),$=()=>J.value=(new Date).toLocaleString();$(),setInterval($,1e3);const F=g({ChangePrimaryPlayer:{title:"当前角色",instruction:"切换角色以触发事件"},ChangeZone:{title:"当前区域",instruction:"移动一次区域以触发事件"},CombatData:{title:"战斗信息",instruction:"进入战斗以触发事件"},EnmityTargetData:{title:"目标信息",instruction:"选中一个目标以触发事件"},PartyChanged:{title:"队伍列表",instruction:"切换职业/组成小队以触发事件"},onGameExistsEvent:{title:"游戏存在",instruction:"打开游戏以触发事件"},onGameActiveChangedEvent:{title:"游戏活动状态",instruction:"操作游戏以触发事件"},onInCombatChangedEvent:{title:"战斗状态",instruction:"进入战斗以触发事件"},onZoneChangedEvent:{title:"区域变化",instruction:"移动一次区域以触发事件"},onPlayerDied:{title:"玩家死亡",instruction:"死一次以触发事件"},onPlayerChangedEvent:{title:"玩家变化",instruction:"移动角色以触发事件"}});i.getUserConfigLocation("soumatest",B,()=>{W.value.ParserLanguage=B.ParserLanguage,W.value.DisplayLanguage=B.DisplayLanguage,W.value.SystemInfo=B.SystemInfo,W.value.CactbotUserDirectory=i.savedConfig.general.CactbotUserDirectory,W.value.DefaultAlertOutput=i.savedConfig.raidboss.DefaultAlertOutput});const H=g({});function K(e){if("EnmityTargetData"===e.type&&!e.Target)return;const{type:t,...a}={...e};H.value[e.type]=a}const Q=g({changeZone:{title:"Line 01 (0x01): ChangeZone",instruction:"切换地图",regex:t.changeZone()},addedCombatant:{title:"Line 03 (0x03): AddCombatant",instruction:"切换地图",regex:t.addedCombatant()},removingCombatant:{title:"Line 04 (0x04): RemoveCombatant",instruction:"切换地图",regex:t.removingCombatant()},startsUsing:{title:"Line 20 (0x14): NetworkStartsCasting",instruction:"读条技能",regex:t.startsUsing()},ability:{title:"Line 21 (0x15): NetworkAbility",instruction:"使用技能",regex:t.ability()},networkDoT:{title:"Line 24 (0x18): NetworkDoT",instruction:"获得 DoT/Hot 效果",regex:t.networkDoT()},wasDefeated:{title:"Line 25 (0x19): NetworkDeath",instruction:"被击倒",regex:t.wasDefeated()},gainsEffect:{title:"Line 26 (0x1A): NetworkBuff",instruction:"获得buff",regex:t.gainsEffect()},headMarker:{title:"Line 27 (0x1B): NetworkTargetIcon",instruction:"获得头顶点名（分摊/分散/死刑/麻将）",regex:t.headMarker()},losesEffect:{title:"Line 30 (0x1E): NetworkBuffRemove",instruction:"失去buff",regex:t.losesEffect()},network6d:{title:"Line 33 (0x21): Network6D",instruction:"打本触发（本越新越好）",regex:t.network6d()},tether:{title:"Line 35 (0x23): NetworkTether",instruction:"获得连线效果",regex:t.tether()},map:{title:"Line 40 (0x28): Map",instruction:"切换地图",regex:t.map()},systemLogMessage:{title:"Line 41 (0x29): SystemLogMessage",instruction:"系统日志信息",regex:t.systemLogMessage()}}),q=g({mapEffect:{title:"Line 257 (0x101): MapEffect",instruction:"打本触发（本越新越好）",regex:t.mapEffect()},inCombat:{title:"Line 260 (0x104): InCombat",instruction:"进入战斗",regex:t.inCombat()},combatantMemory:{title:"Line 261 (0x105): CombatantMemory",instruction:"打本触发（本越新越好）",regex:t.combatantMemory()},startsUsingExtra:{title:"Line 263 (0x107): StartsUsingExtra",instruction:"读条技能",regex:t.startsUsingExtra()},abilityExtra:{title:"Line 264 (0x108): AbilityExtra",instruction:"使用技能",regex:t.abilityExtra()},countdown:{title:"Line 268 (0x10C): Countdown",instruction:"开启倒计时",regex:t.countdown()},actorMove:{title:"Line 270 (0x10E): ActorMove",instruction:"打本触发（本越新越好）",regex:t.actorMove()},actorSetPos:{title:"Line 271 (0x10F): ActorSetPos",instruction:"打本触发（本越新越好）",regex:t.actorSetPos()},actorControlExtra:{title:"Line 273 (0x111): ActorControlExtra",instruction:"打本触发（本越新越好）",regex:t.actorControlExtra()}});return a("ChangePrimaryPlayer",K),a("ChangeZone",K),a("CombatData",K),a("EnmityTargetData",K),a("PartyChanged",K),a("onGameExistsEvent",K),a("onGameActiveChangedEvent",K),a("onInCombatChangedEvent",K),a("onZoneChangedEvent",K),a("onPlayerDied",K),a("onPlayerChangedEvent",K),a("LogLine",e=>{for(const t in Q.value){Q.value[t].regex.test(e.rawLine)&&(H.value[t]=!0)}for(const t in q.value){q.value[t].regex.test(e.rawLine)&&(H.value[t]=!0)}}),(e,t)=>{const a=s,i=r,u=o,g=l,B=c;return m(),d("div",_,[v(D)?(m(),d("div",P,[f("div",k,[t[3]||(t[3]=f("div",null,[f("h1",{style:{color:"#409eff",margin:"0"}}," 自助测试页 ")],-1)),f("div",S,[f("p",w,[t[1]||(t[1]=f("i",{class:"el-icon-time"},null,-1)),y(" 系统时间: "+p(v(J)||"无数据"),1)]),x(a,{type:"primary",size:"small",onClick:t[0]||(t[0]=e=>{return t=`测试TTS${(new Date).getTime().toString().slice(-4)}`,void n({call:"cactbotSay",text:t});var t})},{default:C(()=>t[2]||(t[2]=[f("i",{class:"el-icon-microphone"},null,-1),y(" 测试TTS ")])),_:1,__:[2]})])]),f("div",A,[t[4]||(t[4]=f("div",{class:"section-title"},[f("i",{class:"el-icon-setting"}),y(" 用户配置信息 ")],-1)),x(g,{gutter:12},{default:C(()=>[x(u,{span:24},{default:C(()=>[x(i,{shadow:"hover"},{default:C(()=>[f("div",T,[(m(!0),d(b,null,L({"ACT版本":v(W).SystemInfo.actVersion,"解析插件版本":v(W).SystemInfo.ffxivPluginVersion,"OverlayPlugin版本":v(W).SystemInfo.overlayPluginVersion,"Cactbot版本":v(W).SystemInfo.cactbotVersion,"解析语言":v(W).ParserLanguage,"Cactbot 显示语言":v(W).DisplayLanguage,"游戏区域":v(W).SystemInfo.gameRegion,"Raidboss 默认输出":v(W).DefaultAlertOutput,"用户文件夹":v(W).CactbotUserDirectory},(e,t)=>(m(),d("div",{key:t,class:"info-row"},[f("div",j,p(t),1),f("div",{class:E(["info-val",{"no-data":!e}])},p(e||"无数据"),3)]))),128))])]),_:1})]),_:1})]),_:1})]),f("div",M,[t[5]||(t[5]=f("div",{class:"section-title"},[f("i",{class:"el-icon-document"}),y(" ACT 网络日志测试（常用部分） ")],-1)),t[6]||(t[6]=f("div",{class:"header-tip"}," 如果无法触发这部分事件，说明你需要更新解析插件。 ",-1)),x(g,{gutter:12},{default:C(()=>[(m(!0),d(b,null,L(v(Q),(e,t)=>(m(),h(u,{key:t,xs:24,sm:12,md:8,lg:6},{default:C(()=>[x(i,{class:E(["event-card",v(H)[t]?"success":"danger"])},{default:C(()=>[f("div",I,[y(p(v(Q)[t].title)+" ",1),x(B,{type:v(H)[t]?"success":"danger",size:"small"},{default:C(()=>[y(p(v(H)[t]?"成功":"未触发"),1)]),_:2},1032,["type"])]),f("div",U,p(v(H)[t]?"":"请尝试：")+p(e.instruction),1)]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})]),f("div",N,[t[7]||(t[7]=f("div",{class:"section-title"},[f("i",{class:"el-icon-s-data"}),y(" OverlayPlugin 事件测试（常用部分） ")],-1)),t[8]||(t[8]=f("div",{class:"header-tip"}," 如果无法触发这部分事件，说明你需要更新 OverlayPlugin 插件。 ",-1)),x(g,{gutter:12},{default:C(()=>[(m(!0),d(b,null,L(v(F),(e,t)=>(m(),h(u,{key:t,xs:24,sm:12,md:8,lg:6},{default:C(()=>[x(i,{class:E(["event-card",v(H)[t]?"success":"danger"])},{default:C(()=>[f("div",O,[y(p(e.title)+"（"+p(t)+"） ",1),x(B,{type:v(H)[t]?"success":"danger",size:"small"},{default:C(()=>[y(p(v(H)[t]?"成功":"未触发"),1)]),_:2},1032,["type"])]),f("div",V,p(v(H)[t]?"":"请尝试：")+p(e.instruction),1)]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})]),f("div",z,[t[9]||(t[9]=f("div",{class:"section-title"},[f("i",{class:"el-icon-cpu"}),y(" OverlayPlugin 日志测试（常用部分） ")],-1)),t[10]||(t[10]=f("div",{class:"header-tip"}," 如果无法触发这部分事件，说明你需要更新 OverlayPlugin 插件。 ",-1)),x(g,{gutter:12},{default:C(()=>[(m(!0),d(b,null,L(v(q),(e,t)=>(m(),h(u,{key:t,xs:24,sm:12,md:8,lg:6},{default:C(()=>[x(i,{class:E(["event-card",v(H)[t]?"success":"danger"])},{default:C(()=>[f("div",G,[y(p(v(q)[t].title)+" ",1),x(B,{type:v(H)[t]?"success":"danger",size:"small"},{default:C(()=>[y(p(v(H)[t]?"成功":"未触发"),1)]),_:2},1032,["type"])]),f("div",Z,p(v(H)[t]?"":"请尝试：")+p(e.instruction),1)]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})])])):(m(),d("div",R,t[11]||(t[11]=[f("p",null,"等待 WebSocket 连接...",-1)])))])}}}),[["__scopeId","data-v-6b258ea3"]]);export{B as default};

import{_ as e}from"./ActWrapper-1ad3973c.js";import{d as o,a as t,r as l,c as s,g as a,j as n,n as i,f as m,w as r,v as u,u as d,i as f,p,t as c,h,e as g,k as V,F as C,m as w}from"./index-869ae773.js";/* empty css                */import{E as x}from"./el-progress-5a7a9d20.js";import{b as j,a as v}from"./el-header-2ca8d40a.js";import{E as A}from"./el-popconfirm-3b01614d.js";import"./el-popper-cf7bb117.js";/* empty css                   */import{E as z}from"./el-button-c9d1a860.js";/* empty css               */import{E as D,b as I}from"./el-select-4adf630d.js";import"./el-scrollbar-b1d14c31.js";/* empty css                 */import{E as b}from"./el-switch-a10f398c.js";import{E as S}from"./el-input-number-b4946c39.js";import{g as U}from"./actionChinese-1e4b8aeb.js";import{a as X}from"./overlay_plugin_api-974cdd44.js";import{u as Y}from"./index-27b56b2c.js";import{E as y}from"./validator-56bba001.js";import{_ as T}from"./_plugin-vue_export-helper-6a8c15be.js";import"./el-card-5d9af152.js";import"./useDev-6c09ce53.js";import"./useDemo-26f0b35c.js";import"./index-9b34d145.js";import"./index-489436cd.js";import"./index-f4efcc39.js";import"./focus-trap-b21ae32c.js";import"./use-form-common-props-1c074be8.js";import"./index-4a1437e7.js";import"./index-73737a7b.js";import"./isEqual-80cfe890.js";import"./index-103a6e3f.js";import"./scroll-6af2f89b.js";import"./debounce-bc11011f.js";import"./vnode-205d022f.js";import"./lz-string-84ffe694.js";import"./_commonjsHelpers-9516e90c.js";import"./index-b936f658.js";const _={};const F={style:{width:"10rem"}},P={class:"noCSS"},E={class:"noCSS"},N={class:"container"},k={class:"actionID"},$=T(o({__name:"castingToChinese",setup(o){function T(e){const o=Number.parseInt(e[4],16),t=e[2],l=e[5],s=_[o];if(s)return s;const a=U(o);return a||(t.startsWith("4")&&l.includes("unknown"),l)}w(e=>({"419001ee":d(L),ebf40c46:d(J),ebf40c44:d(O),"55519e55":d(B),"4bad32a2":d(W),"2f27c012":d(Q),"2f27c010":d(Z),"2e45adf9":d(G),"0d0b575e":d(R),"0d0b575c":d(ee),"6c441933":d(q),98272116:d(oe),98272114:d(te)}));class ${name;startTime;castTime;overTime;actionId;constructor(e){this.name=T(e),this.startTime=Date.now(),this.castTime=1e3*Number(e[8]),this.overTime=this.startTime+this.castTime,this.actionId=Number.parseInt(e[4],16)}}const H=t({targetCast:void 0}),K=[{value:"Target",label:"当前目标"},{value:"Focus",label:"焦点目标"}],M=l({width:265,showCountdown:!1,showProgress:!1,showActionChinese:!0,showActionID:!1,offsetProgressX:0,offsetProgressY:-22,offsetCountdownX:240,offsetCountdownY:-5,offsetActionChineseX:275,offsetActionChineseY:-45,offsetActionIDX:10,offsetActionIDY:-5,ping:80,keep:100,fontSizeCountDown:17,fontSizeActionName:20,fontFamily:"SmartisanHei",targetKey:"Target"});Y("castingToChineseFix",M,localStorage,{mergeDefaults:!0});const q=s(()=>`${M.value.width}px`),L=s(()=>M.value.showCountdown?1:0),B=s(()=>M.value.showProgress?1:0),W=s(()=>M.value.showActionChinese?1:0),G=s(()=>M.value.showActionID?1:0),J=s(()=>`${M.value.offsetCountdownX}px`),O=s(()=>-1*M.value.offsetCountdownY+"px"),Q=s(()=>`${M.value.offsetActionChineseX}px`),Z=s(()=>-1*M.value.offsetActionChineseY+"px"),R=s(()=>`${M.value.offsetActionIDX}px`),ee=s(()=>-1*M.value.offsetActionIDY+"px"),oe=s(()=>`${M.value.offsetProgressX}px`),te=s(()=>-1*M.value.offsetProgressY+"px"),le=new Map,se=l(0),ae=M.value.ping;function ne(){localStorage.removeItem("castingToChinese"),location.reload()}return X("EnmityTargetData",e=>{H.targetCast=le.get(e[M.value.targetKey]?.ID)}),X("LogLine",e=>{"20"===e.line[0]?le.set(Number.parseInt(e.line[2],16),new $(e.line)):"23"===e.line[0]&&le.delete(Number.parseInt(e.line[2],16))}),X("ChangeZone",()=>le.clear()),requestAnimationFrame(function e(){se.value=Date.now(),requestAnimationFrame(e)}),(o,t)=>{const l=S,s=b,w=y,U=I,X=D,Y=z,T=A,_=v,$=x,q=j,L=e;return i(),a(L,null,{readme:n(()=>[f(_,{class:"settings"},{default:n(()=>[m("form",null,[t[20]||(t[20]=h(" 宽度: ",-1)),f(l,{modelValue:d(M).width,"onUpdate:modelValue":t[0]||(t[0]=e=>d(M).width=e),min:20,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[t[21]||(t[21]=h("显示倒计时: ",-1)),f(s,{modelValue:d(M).showCountdown,"onUpdate:modelValue":t[1]||(t[1]=e=>d(M).showCountdown=e)},null,8,["modelValue"])]),m("form",null,[t[22]||(t[22]=h("显示进度条: ",-1)),f(s,{modelValue:d(M).showProgress,"onUpdate:modelValue":t[2]||(t[2]=e=>d(M).showProgress=e)},null,8,["modelValue"])]),m("form",null,[t[23]||(t[23]=h("显示中文: ",-1)),f(s,{modelValue:d(M).showActionChinese,"onUpdate:modelValue":t[3]||(t[3]=e=>d(M).showActionChinese=e)},null,8,["modelValue"])]),m("form",null,[t[24]||(t[24]=h("显示ID: ",-1)),f(s,{modelValue:d(M).showActionID,"onUpdate:modelValue":t[4]||(t[4]=e=>d(M).showActionID=e)},null,8,["modelValue"])]),m("form",null,[t[25]||(t[25]=h(" 延迟(ms): ",-1)),f(l,{modelValue:d(M).ping,"onUpdate:modelValue":t[5]||(t[5]=e=>d(M).ping=e),min:0,max:1e4,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[t[26]||(t[26]=h(" 保留(ms): ",-1)),f(l,{modelValue:d(M).keep,"onUpdate:modelValue":t[6]||(t[6]=e=>d(M).keep=e),min:0,max:1e5,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[t[27]||(t[27]=h(" 进度条偏移X: ",-1)),f(l,{modelValue:d(M).offsetProgressX,"onUpdate:modelValue":t[7]||(t[7]=e=>d(M).offsetProgressX=e),min:-1e3,max:1e3,size:"small"},null,8,["modelValue"])]),m("form",null,[t[28]||(t[28]=h(" 进度条偏移Y: ",-1)),f(l,{modelValue:d(M).offsetProgressY,"onUpdate:modelValue":t[8]||(t[8]=e=>d(M).offsetProgressY=e),min:-1e3,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[t[29]||(t[29]=h(" 倒计时偏移X: ",-1)),f(l,{modelValue:d(M).offsetCountdownX,"onUpdate:modelValue":t[9]||(t[9]=e=>d(M).offsetCountdownX=e),min:-1e3,max:1e3,size:"small"},null,8,["modelValue"])]),m("form",null,[t[30]||(t[30]=h(" 倒计时偏移Y: ",-1)),f(l,{modelValue:d(M).offsetCountdownY,"onUpdate:modelValue":t[10]||(t[10]=e=>d(M).offsetCountdownY=e),min:-1e3,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[t[31]||(t[31]=h(" 中文偏移X: ",-1)),f(l,{modelValue:d(M).offsetActionChineseX,"onUpdate:modelValue":t[11]||(t[11]=e=>d(M).offsetActionChineseX=e),min:-1e3,max:1e3,size:"small"},null,8,["modelValue"])]),m("form",null,[t[32]||(t[32]=h(" 中文偏移Y: ",-1)),f(l,{modelValue:d(M).offsetActionChineseY,"onUpdate:modelValue":t[12]||(t[12]=e=>d(M).offsetActionChineseY=e),min:-1e3,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[t[33]||(t[33]=h(" ID偏移X: ",-1)),f(l,{modelValue:d(M).offsetActionIDX,"onUpdate:modelValue":t[13]||(t[13]=e=>d(M).offsetActionIDX=e),min:-1e3,max:1e3,size:"small"},null,8,["modelValue"])]),m("form",null,[t[34]||(t[34]=h(" ID偏移Y: ",-1)),f(l,{modelValue:d(M).offsetActionIDY,"onUpdate:modelValue":t[14]||(t[14]=e=>d(M).offsetActionIDY=e),min:-1e3,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[t[35]||(t[35]=h(" 倒计时字号(px): ",-1)),f(l,{modelValue:d(M).fontSizeCountDown,"onUpdate:modelValue":t[15]||(t[15]=e=>d(M).fontSizeCountDown=e),min:1,max:100,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[t[36]||(t[36]=h(" 中文字号(px): ",-1)),f(l,{modelValue:d(M).fontSizeActionName,"onUpdate:modelValue":t[16]||(t[16]=e=>d(M).fontSizeActionName=e),min:1,max:100,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",F,[t[37]||(t[37]=h(" 字体: ",-1)),f(w,{modelValue:d(M).fontFamily,"onUpdate:modelValue":t[17]||(t[17]=e=>d(M).fontFamily=e),size:"small",clearable:"",onClear:t[18]||(t[18]=e=>d(M).fontFamily="SmartisanHei")},null,8,["modelValue"])]),m("form",P,[f(X,{modelValue:d(M).targetKey,"onUpdate:modelValue":t[19]||(t[19]=e=>d(M).targetKey=e),placeholder:"Select",size:"small",teleported:!1},{default:n(()=>[(i(),g(C,null,V(K,e=>f(U,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),m("form",E,[f(T,{teleported:!1,title:"确定要重置？",onConfirm:ne},{reference:n(()=>[f(Y,null,{default:n(()=>t[38]||(t[38]=[h("重置全部用户设置",-1)])),_:1,__:[38]})]),_:1})])]),_:1})]),default:n(()=>[m("div",N,[r(f(q,{style:p({fontFamily:d(M).fontFamily})},{default:n(()=>[m("div",{style:p({fontSize:`${d(M).fontSizeCountDown}px`}),class:"countdown"},c(Math.max(((d(H).targetCast?.overTime??1)-d(se)-d(ae))/1e3,0).toFixed(2)),5),f($,{percentage:Math.min((d(se)-(d(H).targetCast?.startTime??1)+d(ae))/(d(H).targetCast?.castTime??1)*100,100),"stroke-width":8,indeterminate:!1,"show-text":!1,color:"#fbfff9",class:"progress"},null,8,["percentage"]),m("div",k,c(d(H).targetCast?.actionId)+"("+c(d(H).targetCast?.actionId.toString(16).toUpperCase())+") ",1),m("div",{style:p({fontSize:`${d(M).fontSizeActionName}px`}),class:"actionChinese"},c(d(H).targetCast?.name),5)]),_:1},8,["style"]),[[u,d(H).targetCast&&d(se)-d(H).targetCast.overTime+d(ae)<d(M).keep]])])]),_:1})}}}),[["__scopeId","data-v-50233e43"]]);export{$ as default};

import{t as o,v as e,x as c,ax as l,D as t,u as s}from"./vue-vendor-Bp7_Yb1I.js";/* empty css                              */const i={class:"markdown-body"},d=o({__name:"timeline",setup:(o,{expose:t})=>(t({frontmatter:{},excerpt:void 0}),(o,t)=>(c(),e("div",i,t[0]||(t[0]=[l('<h1>时间轴语法</h1><p>你不需要按照时间顺序编写时间轴，程序会自动按照时间顺序显示。</p><h2>显式语句（你实际上能在悬浮窗中看到的部分）</h2><pre><code class="language-text">时间 &quot;提示文本&quot; tts &quot;语音文本&quot;\n</code></pre><pre><code class="language-text">120 &quot;&lt;天赐祝福&gt;~&quot;\n150 &quot;高频平A&quot; tts &quot;注意奶T&quot;\n200 &quot;&lt;至黑之夜&gt;&lt;献奉&gt;&lt;暗影卫&gt;开减伤&quot;\n</code></pre><h3>时间</h3><p>可以是整数、浮点数，如 <code class="">84.38</code>；或时间格式，如 <code class="">01:35</code></p><h3>提示文本</h3><ul><li>必须使用双引号包裹</li><li>显示在悬浮窗中的文本，如 <code class="">天赐祝福</code> 或 <code class="">治疗MT</code></li><li>提供一种 <code class="">&lt;技能名&gt;</code> 的特殊语法，来生成一张技能图标的图片。并且可以接上一个 <code class="">~</code> 来快速在后面重复该技能名称的字符串，如 <code class="">&lt;天赐祝福&gt;~</code> 在悬浮窗中实际显示为 <code class="">[图片]天赐祝福</code></li></ul><h3>语音文本</h3><ul><li>如 <code class="">tts &quot;天赐祝福&quot;</code>，会在该语句时间判定前默认 1 秒，调用 ACT 的 TTS 方法朗读 <code class="">天赐祝福</code> 。该参数可以省略</li></ul><h2>匹配语句（隐藏的、用于匹配时间轴的）</h2><p>大部分情况下，你不需要手动编写这些匹配语句</p><p>在没有血量轴或快慢轴的 BOSS 战斗中，不需要编写匹配语句</p><p>在使用FFLOGS导入时，会自动生成部分匹配语句，你可以在 <a href="https://github.com/Souma-Sumire/ff14-overlay-vue/blob/main/src/utils/timelineSpecialRules.ts">timelineSpecialRules.ts</a> 查看全部预置规则</p><h3>新语法</h3><p>已兼容 <a href="https://github.com/OverlayPlugin/cactbot/blob/main/docs/TimelineGuide.md">Cactbot Timeline</a> 新语法糖，只支持日志语法的 Ability、StartsUsing 类型</p><p>你可以复制 Cactbot Timeline 的时间轴条目到这里使用，其中参数的 <code class="">source</code> 字段将会被自动剔除</p><pre><code class="language-text">时间 &quot;隐藏的文本&quot; 日志类型 { 日志参数 } window 前匹配,后匹配 jump 时间\n</code></pre><pre><code class="language-text">00:11.3 &quot;空间斩&quot; StartsUsing { id: &quot;A3DA&quot; } window 10,10 #注释文本\n00:21.1 &quot;unknown_a38f&quot; Ability { id: &quot;A38F&quot;, once: true } window 60,60\n736.5 &quot;Beetle Avatar&quot; Ability { id: &quot;E82&quot; } window 130,10 jump 413.9 #匹配时跳转至第 413.9 秒\n</code></pre><h3>日志匹配类型与参数</h3><ul><li>Ability 技能判定。参数类型: <code class="">{ id: string, once?: boolean }</code>，id为16进制技能ID，once为true时该条目在整场战斗中仅会被匹配一次</li><li>StartsUsing 技能开始读条。参数类型: <code class="">{ id: string, once?: boolean }</code>，id为16进制技能ID，once为true时该条目在整场战斗中仅会被匹配一次</li><li>参数是一个标准的 Javascript 对象，如 <code class="">{ id: &quot;A3DA&quot; }</code>。</li></ul><h3>窗口匹配</h3><ul><li>控制日志匹配的容错范围，格式为 <code class="">window 前匹配,后匹配</code>。</li><li>例如，在 <code class="">00:10.0 &quot;AoE&quot; StartsUsing { id: &quot;ABCD&quot; } window 2,4</code>，当 BOSS 读条技能 ID 为 ABCD 的技能，且当前时间轴时间处于第 8 ~ 14 秒内，时间轴时间会修正至第 10 秒</li><li>该参数可以省略。若不填写，<code class="">window</code> 默认为 <code class="">2.5,2.5</code></li></ul><h3>跳转语句</h3><ul><li>改写日志匹配成功时跳转的时间点，格式为 <code class="">jump 时间</code>。只支持秒数格式，如 <code class="">120</code></li><li>例如，在 <code class="">736.5 &quot;Beetle Avatar&quot; Ability { id: &quot;E82&quot; } window 130,10 jump 413.9</code>，当 BOSS 判定技能 ID 为 E82 的技能，且时间轴时间处于第 606.5 ~ 746.5 秒内，时间轴会跳转至第 413.9 秒</li><li>该参数可以省略</li></ul><h3>旧语法（仍然可用）</h3><pre><code class="language-text">时间 &quot;注释文本&quot; sync /正则表达式/ window 前匹配,后匹配 jump 时间\n</code></pre><h4>sync 正则表达式</h4><ul><li>一个标准的 Javascript 正则表达式。用于匹配 ACT LogLine 日志，若匹配成功，则触发同步（参考下方window、jump的说明）</li><li>事件修饰符：可以在 sync 后面添加 <code class="">.once</code> 修饰符，来设置该条目在整场战斗中仅会被匹配一次，如 <code class="">sync.once /正则表达式/</code></li></ul><h4>window 数字,数字</h4><ul><li>控制 sync 匹配的时间范围，第一个数字代表向前的时间范围，第二个数字代表向后的时间范围</li><li>例如，在：<code class="">50 &quot;同步语句&quot; sync /正则表达式/ window 2,3</code>，当正则表达式匹配，且当前时间轴时间处于第 48 ~ 53 秒内，时间轴会跳转至第 50 秒</li><li>若不填写，默认为 <code class="">2.5,2.5</code></li></ul><h4>jump 数字</h4><ul><li>改写日志匹配成功时跳转的时间点，当 sync 匹配成功，且符合 window 的判定条件时候，时间轴会跳转至 <code class="">jump</code> 指定的数字时间点</li><li>只支持秒数格式，如 <code class="">120</code></li><li>例如，在：<code class="">120 &quot;分支判断&quot; sync /正则表达式/ window 20,5 jump 300</code>，当正则表达式匹配，且当前时间轴时间处于第 100 ~ 125 秒内，时间轴会跳转至第 300 秒</li></ul><h3>旧匹配语句例子</h3><pre><code class="language-text">652.1 &quot;究极超豪华野蛮大乱击&quot; sync /^.{14} \\w+ 14:4.{7}:[^:]+:942B:/ window 12,12\n</code></pre>',36)]))))}),u=o({__name:"timelineHelp",setup:o=>(o,e)=>(c(),t(s(d)))});export{u as default};

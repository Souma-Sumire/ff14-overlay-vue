import{u as e,Z as l,j as a}from"./shared-core-BpRPmPea.js";import{e as t}from"./cactbot-Bq2Gp82n.js";import{a3 as n}from"./vendor-element-plus-ICQGukrc.js";import{o as s,r as o,A as r,t as i,v as c,M as d,L as u,u as p,a as m,c as b}from"./vendor-vue-iK2zA9mI.js";import{_ as h}from"./shared-common-DBDnM_Vz.js";const y=h(s({__name:"zoneSelecter",props:{selectZone:{type:String,default:""},width:{type:String,default:"30em"},size:{type:String,default:"small"},clearable:{type:Boolean,default:!1},placeholder:{type:String,default:"选择区域"},showAllLevels:{type:Boolean,default:!0},border:{type:Boolean,default:!0}},emits:["update:selectZone"],setup(s,{emit:h}){const y=s,v=h;let f=null,S=null;const{t:z,locale:g}=e(),T=b(()=>function(e,n){if(f&&S===n)return f;S=n;const s=[{type:"SavageRaids",label:e("zoneSelect.raidSavage")},{type:t.Dungeons,label:e("zoneSelect.dungeons")},{type:t.Trials,label:e("zoneSelect.trials")},{type:t.ChaoticAllianceRaid,label:e("zoneSelect.chaoticAllianceRaid")},{type:t.UltimateRaids,label:e("zoneSelect.ultimateRaids")},{type:t.VCDungeonFinder,label:e("zoneSelect.vcDungeonFinder")},{type:t.DeepDungeonExtras,label:e("zoneSelect.deepDungeonExtras")},{type:t.DeepDungeons,label:e("zoneSelect.deepDungeons")},{type:t.Raids,label:e("zoneSelect.raids")},{type:t.DisciplesOfTheLand,label:e("zoneSelect.disciplesOfTheLand")},{type:t.Eureka,label:e("zoneSelect.eureka")},{type:t.SaveTheQueen,label:e("zoneSelect.saveTheQueen")},{type:t.OccultCrescent,label:e("zoneSelect.occultCrescent")}],o=[];return s.forEach(l=>{l.type===t.Trials?o.push({label:l.label,value:t.Trials,children:[{label:e("zoneSelect.trialExtreme"),value:"歼殛战",children:[]},{label:e("zoneSelect.trialUnreal"),value:"幻巧战",children:[]},{label:e("zoneSelect.trialNormal"),value:"歼灭战",children:[]}]}):o.push({label:l.label,value:l.type,children:[]})}),Object.entries(l).map(([e,l])=>({id:e,...l})).sort((e,l)=>e.exVersion!==l.exVersion?l.exVersion-e.exVersion:e.contentType===t.Raids&&l.contentType===t.Raids&&l.name.ja&&e.name.ja?e.name.ja.localeCompare(l.name.ja):Number(e.id)-Number(l.id)).filter(e=>!e.name.en.startsWith("(")&&e.contentType&&(s.some(l=>l.type===e.contentType)||e.contentType===t.Raids)).forEach(e=>{const l=e.id,n=`[${+e.exVersion+2}.0] ${a(e.name)}`;if(e.contentType===t.Trials){const a=o.find(e=>e.value===t.Trials);if(!a)return;let s="歼灭战";e.name.en.includes("(Extreme)")||e.name.ja?.startsWith("極")||e.name.fr?.includes("(extrême)")?s="歼殛战":e.name.en.includes("(Unreal)")&&(s="幻巧战");const r=a.children.find(e=>e.value===s);r&&r.children.push({value:l,label:n})}else if(e.contentType===t.Raids){const a=e.name.en.includes("(Savage)")?"SavageRaids":t.Raids,s=o.find(e=>e.value===a);s&&s.children.push({value:l,label:n})}else{const a=o.find(l=>l.value===e.contentType);a&&a.children.push({value:l,label:n})}}),o.push({label:e("zoneSelect.uncategorized"),value:"0"}),f=o.sort((e,l)=>{const a=s.findIndex(l=>l.type===e.value||l.label===e.label),t=s.findIndex(e=>e.type===l.value||e.label===l.label);return(-1===a?999:a)-(-1===t?999:t)}),f}(z,g.value)),x=o(y.selectZone);return r(x,e=>v("update:selectZone",e)),r(()=>y.selectZone,e=>x.value=e),r(g,()=>{f=null,S=null}),(e,l)=>{const a=n;return i(),c(a,{modelValue:p(x),"onUpdate:modelValue":l[0]||(l[0]=e=>m(x)?x.value=e:null),placeholder:y.placeholder,options:p(T),"show-all-levels":y.showAllLevels,props:{emitPath:!1,expandTrigger:"click"},style:u({width:y.width}),size:y.size,filterable:"",clearable:y.clearable,class:d({"no-border":!y.border})},null,8,["modelValue","placeholder","options","show-all-levels","style","size","clearable","class"])}}}),[["__scopeId","data-v-f9ea16ac"]]);export{y as _};

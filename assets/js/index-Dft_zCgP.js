const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/r4s-DHEgsiSP.js","assets/js/vue-vendor-Bbuz3Kwb.js","assets/js/netregexes-BW5Clp4J.js","assets/js/overlay_plugin_api-C1Kk3pZW.js","assets/js/index-bbahPALZ.js","assets/js/element-plus-QcyfhpSy.js","assets/js/_plugin-vue_export-helper-BCo6x5W8.js","assets/css/r4s-CFUqSMQ7.css","assets/css/el-header-LG7wV_nJ.css","assets/css/el-switch-B5lTGWdM.css","assets/css/el-input-BCtgWP8V.css","assets/css/el-input-number-DUUPPWGj.css","assets/js/dnc-D94iC5Ms.js","assets/css/dnc-BLKbhtK-.css","assets/css/el-popconfirm-Du63PGr7.css","assets/css/el-popper-DG5wR-qi.css","assets/css/el-popover-Cktl5fHm.css","assets/css/el-button-DhOMi8yW.css","assets/js/zoneMacro-Wvlk1emp.js","assets/js/postNamazu-CleHTUcY.js","assets/js/useWebSocket-DM5-xYhJ.js","assets/js/actWS-BajPEIJJ.js","assets/css/actWS-C6BJsxyy.css","assets/css/useWebSocket-VqxEEvUF.css","assets/js/zoneInfo-DooKWTZi.js","assets/js/content_type-CFYediyZ.js","assets/css/zoneMacro-CU4G3Z3a.css","assets/css/el-footer-BiwNrDRX.css","assets/css/el-main-D_N4FgXf.css","assets/css/el-card-fwQOLwdi.css","assets/css/el-table-column-CBdd4Iyj.css","assets/css/el-tooltip-DIPHKmvR.css","assets/css/el-select-CF1XGRSw.css","assets/css/github-markdown-light-C-vOJggO.css","assets/js/timelineSettings-BXWViyZp.js","assets/js/TimelineShow-CSvXEVgt.js","assets/js/util-DL4pAhxD.js","assets/js/xivapi-BtnvNd5O.js","assets/css/TimelineShow-DUuLevS4.css","assets/css/bootstrap-4-B3U2ESqv.css","assets/js/lz-string-B2HwplQ_.js","assets/css/lz-string-DtEr4Wq3.css","assets/js/actionChinese-n3DRA7Ql.js","assets/js/utils-lPMaa1ow.js","assets/css/timelineSettings-x9izrfOV.css","assets/css/el-form-item-CKZiX9BY.css","assets/css/el-alert-B9oGCRyi.css","assets/css/animate-BaVkx4tQ.css","assets/js/timelineHelp-CQHoR-A6.js","assets/js/timeline-CDLZHd6I.js","assets/css/timeline-CfPIIGj3.css","assets/js/time-DspkKi9J.js","assets/css/time-Dm5I1ie_.css","assets/js/statusCompare-C2HfX152.js","assets/js/status-Cdt4eyHF.js","assets/css/statusCompare-CYROroEG.css","assets/js/startPages-BW7i_Vxn.js","assets/css/startPages-BCDhxhzY.css","assets/js/showBarrier-LishL1Uq.js","assets/js/DragJob-ukMYIzls.js","assets/css/DragJob-BnDySwHn.css","assets/css/showBarrier-BREKYBk8.css","assets/js/okVpr2-4WPwW2TN.js","assets/js/okVpr-DAj_tgFH.js","assets/js/okDncDance-BLTmgUy4.js","assets/js/obs2-DJwmaiem.js","assets/js/obs-CG5AdCID.js","assets/css/obs2-Cf046Yez.css","assets/js/obs-B7EnaVAQ.js","assets/js/zone_id-Yqe57ttH.js","assets/css/obs-CMdTKe6J.css","assets/js/keigennRecord2-C0es6A7o.js","assets/js/style-l0sNRNKZ.js","assets/css/keigennRecord2-DWCmuH3D.css","assets/js/instancedAreaInfo-BzY6SIy5.js","assets/css/instancedAreaInfo-DAlaVJ3B.css","assets/js/hunt-C_Qy98EQ.js","assets/css/hunt-D986RMuR.css","assets/js/hexcode-BiUYQavD.js","assets/css/hexcode-aKsaOfd6.css","assets/js/ffxivAxisWebFont-DnyUSKyY.js","assets/css/ffxivAxisWebFont-CxKBOXCW.css","assets/js/fflogsUploaderDownload-BQAgU9ai.js","assets/css/fflogsUploaderDownload-BqIvY3tq.css","assets/js/dsrp6-u2CA3gUV.js","assets/css/dsrp6-Cd6JPb6w.css","assets/js/castingToChinese-WjytQaK1.js","assets/css/castingToChinese-6Z5qh1Ld.css","assets/js/castingMonitor-Dl_FrvHa.js","assets/css/castingMonitor-BfNWY1oA.css","assets/js/cactbotRuntime-Bgs3KVG-.js","assets/css/cactbotRuntime-hp-O3oKB.css","assets/js/blubook-Cf8RGPfZ.js","assets/css/blubook-DLJuI2Ql.css","assets/js/aether-DkAcxX_B.js","assets/css/aether-U2zQvVYU.css"])))=>i.map(i=>d[i]);
var e;import{n as t,u as n,i as o,ao as l,r,b as a,w as i,U as s,a2 as c,W as u,g as d,t as p,V as m,c as f,f as g,P as h,L as v,p as b,H as x,ak as y,a8 as w,ae as C,a0 as S,ab as E,C as T,v as D,D as O,x as k,ap as I,aq as M,ar as P,as as R}from"./vue-vendor-Bbuz3Kwb.js";import{g as V,E as A,b as $}from"./element-plus-QcyfhpSy.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const F=new Set(["title","titleTemplate","script","style","noscript"]),N=new Set(["base","meta","link","style","script","noscript"]),L=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),_=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),B=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),j="undefined"!=typeof window;function z(e){let t=9;for(let n=0;n<e.length;)t=Math.imul(t^e.charCodeAt(n++),9**9);return(65536+(t^t>>>9)).toString(16).substring(1,8).toLowerCase()}function W(e){if(e._h)return e._h;if(e._d)return z(e._d);let t=`${e.tag}:${e.textContent||e.innerHTML||""}:`;for(const n in e.props)t+=`${n}:${String(e.props[n])},`;return z(t)}function H(e,t,n,o){const l=o||K("object"!=typeof t||"function"==typeof t||t instanceof Promise?{["script"===e||"noscript"===e||"style"===e?"innerHTML":"textContent"]:t}:{...t},"templateParams"===e||"titleTemplate"===e);if(l instanceof Promise)return l.then((o=>H(e,t,n,o)));const r={tag:e,props:l};for(const a of B){const e=void 0!==r.props[a]?r.props[a]:n[a];void 0!==e&&(("innerHTML"!==a&&"textContent"!==a&&"children"!==a||F.has(r.tag))&&(r["children"===a?"innerHTML":a]=e),delete r.props[a])}return r.props.body&&(r.tagPosition="bodyClose",delete r.props.body),"script"===r.tag&&"object"==typeof r.innerHTML&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map((e=>({...r,props:{...r.props,content:e}}))):r}function q(e,t){var n;const o="class"===e?" ":";";return t&&"object"==typeof t&&!Array.isArray(t)&&(t=Object.entries(t).filter((([,e])=>e)).map((([t,n])=>"style"===e?`${t}:${n}`:t))),null==(n=String(Array.isArray(t)?t.join(o):t))?void 0:n.split(o).filter((e=>Boolean(e.trim()))).join(o)}function U(e,t,n,o){for(let l=o;l<n.length;l+=1){const o=n[l];if("class"!==o&&"style"!==o){if(e[o]instanceof Promise)return e[o].then((r=>(e[o]=r,U(e,t,n,l))));if(!t&&!B.has(o)){const t=String(e[o]),n=o.startsWith("data-");"true"===t||""===t?e[o]=!n||"true":e[o]||(n&&"false"===t?e[o]="false":delete e[o])}}else e[o]=q(o,e[o])}}function K(e,t=!1){const n=U(e,t,Object.keys(e),0);return n instanceof Promise?n.then((()=>e)):e}function G(e,t,n){for(let o=n;o<t.length;o+=1){const n=t[o];if(n instanceof Promise)return n.then((n=>(t[o]=n,G(e,t,o))));Array.isArray(n)?e.push(...n):e.push(n)}}function Y(e){const t=[],n=e.resolvedInput;for(const a in n){if(!Object.prototype.hasOwnProperty.call(n,a))continue;const o=n[a];if(void 0!==o&&L.has(a))if(Array.isArray(o))for(const n of o)t.push(H(a,n,e));else t.push(H(a,o,e))}if(0===t.length)return[];const o=[];return l=G(o,t,0),r=()=>o.map(((t,n)=>(t._e=e._i,e.mode&&(t._m=e.mode),t._p=(e._i<<10)+n,t))),l instanceof Promise?l.then(r):r(l);var l,r}const X=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),Z={base:-10,title:10},Q={critical:-80,high:-10,low:20};function J(e){const t=e.tagPriority;if("number"==typeof t)return t;let n=100;return"meta"===e.tag?"content-security-policy"===e.props["http-equiv"]?n=-30:e.props.charset?n=-20:"viewport"===e.props.name&&(n=-15):"link"===e.tag&&"preconnect"===e.props.rel?n=20:e.tag in Z&&(n=Z[e.tag]),t&&t in Q?n+Q[t]:n}const ee=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],te=["name","property","http-equiv"];function ne(e){const{props:t,tag:n}=e;if(_.has(n))return n;if("link"===n&&"canonical"===t.rel)return"canonical";if(t.charset)return"charset";if(t.id)return`${n}:id:${t.id}`;for(const o of te)if(void 0!==t[o])return`${n}:${o}:${t[o]}`;return!1}const oe="%separator";const le=new RegExp(`${oe}(?:\\s*${oe})*`,"g");function re(e,t,n,o=!1){if("string"!=typeof e||!e.includes("%"))return e;let l=e;try{l=decodeURI(e)}catch{}const r=l.match(/%\w+(?:\.\w+)?/g);if(!r)return e;const a=e.includes(oe);return e=e.replace(/%\w+(?:\.\w+)?/g,(e=>{if(e===oe||!r.includes(e))return e;const n=function(e,t,n=!1){var o;let l;if("s"===t||"pageTitle"===t)l=e.pageTitle;else if(t.includes(".")){const n=t.indexOf(".");l=null==(o=e[t.substring(0,n)])?void 0:o[t.substring(n+1)]}else l=e[t];if(void 0!==l)return n?(l||"").replace(/"/g,'\\"'):l||""}(t,e.slice(1),o);return void 0!==n?n:e})).trim(),a&&(e.endsWith(oe)&&(e=e.slice(0,-10)),e.startsWith(oe)&&(e=e.slice(10)),e=e.replace(le,n).trim()),e}function ae(e,t){return null==e?t||null:"function"==typeof e?e(t):e}function ie(e,t={}){const n=t.delayFn||(e=>setTimeout(e,10));return e._domDebouncedUpdatePromise=e._domDebouncedUpdatePromise||new Promise((o=>n((()=>async function(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const o={shouldRender:!0,tags:[]};return await e.hooks.callHook("dom:beforeRender",o),o.shouldRender?(e._domUpdatePromise||(e._domUpdatePromise=new Promise((async t=>{var o;const l=(await e.resolveTags()).map((e=>({tag:e,id:N.has(e.tag)?W(e):e.tag,shouldRender:!0})));let r=e._dom;if(!r){r={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};const e=new Set;for(const t of["body","head"]){const l=null==(o=n[t])?void 0:o.children;for(const t of l){const n=t.tagName.toLowerCase();if(!N.has(n))continue;const o={tag:n,props:await K(t.getAttributeNames().reduce(((e,n)=>({...e,[n]:t.getAttribute(n)})),{})),innerHTML:t.innerHTML},l=ne(o);let a=l,i=1;for(;a&&e.has(a);)a=`${l}:${i++}`;a&&(o._d=a,e.add(a)),r.elMap[t.getAttribute("data-hid")||W(o)]=t}}}function a(e,t,n){const o=`${e}:${t}`;r.sideEffects[o]=n,delete r.pendingSideEffects[o]}function i({id:e,$el:t,tag:o}){const l=o.tag.endsWith("Attrs");if(r.elMap[e]=t,l||(o.textContent&&o.textContent!==t.textContent&&(t.textContent=o.textContent),o.innerHTML&&o.innerHTML!==t.innerHTML&&(t.innerHTML=o.innerHTML),a(e,"el",(()=>{var t;null==(t=r.elMap[e])||t.remove(),delete r.elMap[e]}))),o._eventHandlers)for(const r in o._eventHandlers)Object.prototype.hasOwnProperty.call(o._eventHandlers,r)&&""!==t.getAttribute(`data-${r}`)&&(("bodyAttrs"===o.tag?n.defaultView:t).addEventListener(r.substring(2),o._eventHandlers[r].bind(t)),t.setAttribute(`data-${r}`,""));for(const n in o.props){if(!Object.prototype.hasOwnProperty.call(o.props,n))continue;const r=o.props[n],i=`attr:${n}`;if("class"===n){if(!r)continue;for(const n of r.split(" "))l&&a(e,`${i}:${n}`,(()=>t.classList.remove(n))),!t.classList.contains(n)&&t.classList.add(n)}else if("style"===n){if(!r)continue;for(const n of r.split(";")){const o=n.indexOf(":"),l=n.substring(0,o).trim(),r=n.substring(o+1).trim();a(e,`${i}:${l}`,(()=>{t.style.removeProperty(l)})),t.style.setProperty(l,r)}}else t.getAttribute(n)!==r&&t.setAttribute(n,!0===r?"":String(r)),l&&a(e,i,(()=>t.removeAttribute(n)))}}r.pendingSideEffects={...r.sideEffects},r.sideEffects={};const s=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const e of l){const{tag:t,shouldRender:o,id:l}=e;o&&("title"!==t.tag?(e.$el=e.$el||r.elMap[l],e.$el?i(e):N.has(t.tag)&&s.push(e)):n.title=t.textContent)}for(const e of s){const t=e.tag.tagPosition||"head";e.$el=n.createElement(e.tag.tag),i(e),c[t]=c[t]||n.createDocumentFragment(),c[t].appendChild(e.$el)}for(const u of l)await e.hooks.callHook("dom:renderTag",u,n,a);c.head&&n.head.appendChild(c.head),c.bodyOpen&&n.body.insertBefore(c.bodyOpen,n.body.firstChild),c.bodyClose&&n.body.appendChild(c.bodyClose);for(const e in r.pendingSideEffects)r.pendingSideEffects[e]();e._dom=r,await e.hooks.callHook("dom:rendered",{renders:l}),t()})).finally((()=>{e._domUpdatePromise=void 0,e.dirty=!1}))),e._domUpdatePromise):void 0}(e,t).then((()=>{delete e._domDebouncedUpdatePromise,o()}))))))}function se(e){return t=>{var n,o;const l=(null==(o=null==(n=t.resolvedOptions.document)?void 0:n.head.querySelector('script[id="unhead:payload"]'))?void 0:o.innerHTML)||!1;return l&&t.push(JSON.parse(l)),{mode:"client",hooks:{"entries:updated":t=>{ie(t,e)}}}}}function ce(e,t={},n){for(const o in e){const l=e[o],r=n?`${n}:${o}`:o;"object"==typeof l&&null!==l?ce(l,t,r):"function"==typeof l&&(t[r]=l)}return t}const ue={run:e=>e()},de=void 0!==console.createTask?console.createTask:()=>ue;function pe(e,t){const n=t.shift(),o=de(n);return e.reduce(((e,n)=>e.then((()=>o.run((()=>n(...t)))))),Promise.resolve())}function me(e,t){const n=t.shift(),o=de(n);return Promise.all(e.map((e=>o.run((()=>e(...t))))))}function fe(e,t){for(const n of[...e])n(t)}class ge{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,n={}){if(!e||"function"!=typeof t)return()=>{};const o=e;let l;for(;this._deprecatedHooks[e];)l=this._deprecatedHooks[e],e=l.to;if(l&&!n.allowDeprecated){let e=l.message;e||(e=`${o} hook has been deprecated`+(l.to?`, please use ${l.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(e)||this._deprecatedMessages.add(e)}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let n,o=(...e)=>("function"==typeof n&&n(),n=void 0,o=void 0,t(...e));return n=this.hook(e,o),n}removeHook(e,t){if(this._hooks[e]){const n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1),0===this._hooks[e].length&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]="string"==typeof t?{to:t}:t;const n=this._hooks[e]||[];delete this._hooks[e];for(const o of n)this.hook(e,o)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=ce(e),n=Object.keys(t).map((e=>this.hook(e,t[e])));return()=>{for(const e of n.splice(0,n.length))e()}}removeHooks(e){const t=ce(e);for(const n in t)this.removeHook(n,t[n])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(pe,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(me,e,...t)}callHookWith(e,t,...n){const o=this._before||this._after?{name:t,args:n,context:{}}:void 0;this._before&&fe(this._before,o);const l=e(t in this._hooks?[...this._hooks[t]]:[],n);return l instanceof Promise?l.finally((()=>{this._after&&o&&fe(this._after,o)})):(this._after&&o&&fe(this._after,o),l)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(void 0!==this._before){const t=this._before.indexOf(e);-1!==t&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(void 0!==this._after){const t=this._after.indexOf(e);-1!==t&&this._after.splice(t,1)}}}}const he=new Set(["templateParams","htmlAttrs","bodyAttrs"]),ve={hooks:{"tag:normalise":({tag:e})=>{e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.key&&(e.key=e.props.key,delete e.props.key);const t=ne(e);!t||t.startsWith("meta:og:")||t.startsWith("meta:twitter:")||delete e.key;const n=t||!!e.key&&`${e.tag}:${e.key}`;n&&(e._d=n)},"tags:resolve":e=>{const t=Object.create(null);for(const o of e.tags){const e=(o.key?`${o.tag}:${o.key}`:o._d)||W(o),n=t[e];if(n){let l=null==o?void 0:o.tagDuplicateStrategy;if(!l&&he.has(o.tag)&&(l="merge"),"merge"===l){const l=n.props;l.style&&o.props.style&&(";"!==l.style[l.style.length-1]&&(l.style+=";"),o.props.style=`${l.style} ${o.props.style}`),l.class&&o.props.class?o.props.class=`${l.class} ${o.props.class}`:l.class&&(o.props.class=l.class),t[e].props={...l,...o.props};continue}if(o._e===n._e){n._duped=n._duped||[],o._d=`${n._d}:${n._duped.length+1}`,n._duped.push(o);continue}if(J(o)>J(n))continue}o.innerHTML||o.textContent||0!==Object.keys(o.props).length||!N.has(o.tag)?t[e]=o:delete t[e]}const n=[];for(const o in t){const e=t[o],l=e._duped;n.push(e),l&&(delete e._duped,n.push(...l))}e.tags=n,e.tags=e.tags.filter((e=>!("meta"===e.tag&&(e.props.name||e.props.property)&&!e.props.content)))}}},be=new Set(["script","link","bodyAttrs"]),xe=e=>({hooks:{"tags:resolve":t=>{for(const n of t.tags){if(!be.has(n.tag))continue;const t=n.props;for(const o in t){if("o"!==o[0]||"n"!==o[1])continue;if(!Object.prototype.hasOwnProperty.call(t,o))continue;const l=t[o];"function"==typeof l&&(e.ssr&&X.has(o)?t[o]=`this.dataset.${o}fired = true`:delete t[o],n._eventHandlers=n._eventHandlers||{},n._eventHandlers[o]=l)}e.ssr&&n._eventHandlers&&(n.props.src||n.props.href)&&(n.key=n.key||z(n.props.src||n.props.href))}},"dom:renderTag":({$el:e,tag:t})=>{var n,o;const l=null==e?void 0:e.dataset;if(l)for(const r in l){if(!r.endsWith("fired"))continue;const l=r.slice(0,-5);X.has(l)&&(null==(o=null==(n=t._eventHandlers)?void 0:n[l])||o.call(e,new Event(l.substring(2))))}}}}),ye=new Set(["link","style","script","noscript"]),we={hooks:{"tag:normalise":({tag:e})=>{e.key&&ye.has(e.tag)&&(e.props["data-hid"]=e._h=z(e.key))}}},Ce={mode:"server",hooks:{"tags:beforeResolve":e=>{const t={};let n=!1;for(const o of e.tags)"server"!==o._m||"titleTemplate"!==o.tag&&"templateParams"!==o.tag&&"title"!==o.tag||(t[o.tag]="title"===o.tag||"titleTemplate"===o.tag?o.textContent:o.props,n=!0);n&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},Se={hooks:{"tags:resolve":e=>{var t;for(const n of e.tags)if("string"==typeof n.tagPriority)for(const{prefix:o,offset:l}of ee){if(!n.tagPriority.startsWith(o))continue;const r=n.tagPriority.substring(o.length),a=null==(t=e.tags.find((e=>e._d===r)))?void 0:t._p;if(void 0!==a){n._p=a+l;break}}e.tags.sort(((e,t)=>{const n=J(e),o=J(t);return n<o?-1:n>o?1:e._p-t._p}))}}},Ee={meta:"content",link:"href",htmlAttrs:"lang"},Te=["innerHTML","textContent"],De=e=>({hooks:{"tags:resolve":t=>{var n;const{tags:o}=t;let l;for(let e=0;e<o.length;e+=1){"templateParams"===o[e].tag&&(l=t.tags.splice(e,1)[0].props,e-=1)}const r=l||{},a=r.separator||"|";delete r.separator,r.pageTitle=re(r.pageTitle||(null==(n=o.find((e=>"title"===e.tag)))?void 0:n.textContent)||"",r,a);for(const e of o){if(!1===e.processTemplateParams)continue;const t=Ee[e.tag];if(t&&"string"==typeof e.props[t])e.props[t]=re(e.props[t],r,a);else if(e.processTemplateParams||"titleTemplate"===e.tag||"title"===e.tag)for(const n of Te)"string"==typeof e[n]&&(e[n]=re(e[n],r,a,"script"===e.tag&&e.props.type.endsWith("json")))}e._templateParams=r,e._separator=a},"tags:afterResolve":({tags:t})=>{let n;for(let e=0;e<t.length;e+=1){const o=t[e];"title"===o.tag&&!1!==o.processTemplateParams&&(n=o)}(null==n?void 0:n.textContent)&&(n.textContent=re(n.textContent,e._templateParams,e._separator))}}}),Oe={hooks:{"tags:resolve":e=>{const{tags:t}=e;let n,o;for(let l=0;l<t.length;l+=1){const e=t[l];"title"===e.tag?n=e:"titleTemplate"===e.tag&&(o=e)}if(o&&n){const t=ae(o.textContent,n.textContent);null!==t?n.textContent=t||n.textContent:e.tags.splice(e.tags.indexOf(n),1)}else if(o){const e=ae(o.textContent);null!==e&&(o.textContent=e,o.tag="title",o=void 0)}o&&e.tags.splice(e.tags.indexOf(o),1)}}},ke={hooks:{"tags:afterResolve":e=>{for(const t of e.tags)"string"==typeof t.innerHTML&&(!t.innerHTML||"application/ld+json"!==t.props.type&&"application/json"!==t.props.type?t.innerHTML=t.innerHTML.replace(new RegExp(`</${t.tag}`,"g"),`<\\/${t.tag}`):t.innerHTML=t.innerHTML.replace(/</g,"\\u003C"))}}};let Ie;function Me(e={}){const t=function(e={}){const t=new ge;t.addHooks(e.hooks||{}),e.document=e.document||(j?document:void 0);const n=!e.document,o=()=>{i.dirty=!0,t.callHook("entries:updated",i)};let l=0,r=[];const a=[],i={plugins:a,dirty:!1,resolvedOptions:e,hooks:t,headEntries:()=>r,use(e){const o="function"==typeof e?e(i):e;o.key&&a.some((e=>e.key===o.key))||(a.push(o),Pe(o.mode,n)&&t.addHooks(o.hooks||{}))},push(e,t){null==t||delete t.head;const a={_i:l++,input:e,...t};return Pe(a.mode,n)&&(r.push(a),o()),{dispose(){r=r.filter((e=>e._i!==a._i)),o()},patch(e){for(const t of r)t._i===a._i&&(t.input=a.input=e);o()}}},async resolveTags(){const e={tags:[],entries:[...r]};await t.callHook("entries:resolve",e);for(const n of e.entries){const o=n.resolvedInput||n.input;if(n.resolvedInput=await(n.transform?n.transform(o):o),n.resolvedInput)for(const l of await Y(n)){const o={tag:l,entry:n,resolvedOptions:i.resolvedOptions};await t.callHook("tag:normalise",o),e.tags.push(o.tag)}}return await t.callHook("tags:beforeResolve",e),await t.callHook("tags:resolve",e),await t.callHook("tags:afterResolve",e),e.tags},ssr:n};return[ve,Ce,xe,we,Se,De,Oe,ke,...(null==e?void 0:e.plugins)||[]].forEach((e=>i.use(e))),i.hooks.callHook("init",i),i}(e);return t.use(se()),Ie=t}function Pe(e,t){return!e||"server"===e&&t||"client"===e&&!t}const Re="3"===l[0];function Ve(e){if(e instanceof Promise||e instanceof Date||e instanceof RegExp)return e;const t="function"==typeof(o=e)?o():n(o);var o;if(!e||!t)return t;if(Array.isArray(t))return t.map((e=>Ve(e)));if("object"==typeof t){const e={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&("titleTemplate"===o||"o"===o[0]&&"n"===o[1]?e[o]=n(t[o]):e[o]=Ve(t[o]));return e}return t}const Ae={hooks:{"entries:resolve":e=>{for(const t of e.entries)t.resolvedInput=Ve(t.input)}}},$e="usehead";function Fe(e={}){e.domDelayFn=e.domDelayFn||(e=>t((()=>setTimeout((()=>e()),0))));const n=Me(e);return n.use(Ae),n.install=function(e){return{install(t){Re&&(t.config.globalProperties.$unhead=e,t.config.globalProperties.$head=e,t.provide($e,e))}}.install}(n),n}const Ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Le="__unhead_injection_handler__";function _e(){if(Le in Ne)return Ne[Le]();return o($e)||Ie}function Be(e,t={}){const n=t.head||_e();if(n)return n.ssr?n.push(e,t):function(e,t,n={}){const o=r(!1),l=r({});a((()=>{l.value=o.value?{}:Ve(t)}));const p=e.push(l.value,n);i(l,(e=>{p.patch(e)}));d()&&(s((()=>{p.dispose()})),c((()=>{o.value=!0})),u((()=>{o.value=!1})));return p}(n,e,t)}
/*!
 * Vue-Lazyload.js v3.0.0
 * (c) 2023 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */
function je(e,t){return e(t={exports:{}},t.exports),t.exports}var ze=je((function(e){const t=Object.prototype.toString,n=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;e.exports=(e,...l)=>{if("function"!=typeof(r=e)&&"[object Object]"!==t.call(r)&&!Array.isArray(r))throw new TypeError("expected the first argument to be an object");var r;if(0===l.length||"function"!=typeof Symbol||"function"!=typeof o)return e;for(let t of l){let l=o(t);for(let o of l)n.call(t,o)&&(e[o]=t[o])}return e}})),We=Object.freeze({__proto__:null,default:ze,__moduleExports:ze}),He=We&&ze||We,qe=je((function(e){const t=Object.prototype.toString,n=e=>"__proto__"!==e&&"constructor"!==e&&"prototype"!==e,o=e.exports=(e,...t)=>{let r=0;var a;for(("object"==typeof(a=e)?null===a:"function"!=typeof a)&&(e=t[r++]),e||(e={});r<t.length;r++)if(l(t[r])){for(const a of Object.keys(t[r]))n(a)&&(l(e[a])&&l(t[r][a])?o(e[a],t[r][a]):e[a]=t[r][a]);He(e,t[r])}return e};function l(e){return"function"==typeof e||"[object Object]"===t.call(e)}}));const Ue="undefined"!=typeof window&&null!==window,Ke=function(){if(Ue&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0;return!1}();const Ge="event",Ye="observer";function Xe(e,t){if(!e.length)return;const n=e.indexOf(t);return n>-1?e.splice(n,1):void 0}function Ze(e,t){if("IMG"!==e.tagName||!e.getAttribute("data-srcset"))return"";let n=e.getAttribute("data-srcset").trim().split(",");const o=[],l=e.parentNode.offsetWidth*t;let r,a,i;n.forEach((e=>{e=e.trim(),r=e.lastIndexOf(" "),-1===r?(a=e,i=99999):(a=e.substr(0,r),i=parseInt(e.substr(r+1,e.length-r-2),10)),o.push([i,a])})),o.sort(((e,t)=>{if(e[0]<t[0])return 1;if(e[0]>t[0])return-1;if(e[0]===t[0]){if(-1!==t[1].indexOf(".webp",t[1].length-5))return 1;if(-1!==e[1].indexOf(".webp",e[1].length-5))return-1}return 0}));let s,c="";for(let u=0;u<o.length;u++){s=o[u],c=s[1];const e=o[u+1];if(e&&e[0]<l){c=s[1];break}if(!e){c=s[1];break}}return c}const Qe=(e=1)=>Ue&&window.devicePixelRatio||e;function Je(){if(!Ue)return!1;let e=!0;function t(e,t){const n=new Image;n.onload=function(){const e=n.width>0&&n.height>0;t(e)},n.onerror=function(){t(!1)},n.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[e]}return t("lossy",(t=>{e=t})),t("lossless",(t=>{e=t})),t("alpha",(t=>{e=t})),t("animation",(t=>{e=t})),e}const et=function(){if(!Ue)return!1;let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",rt,t)}catch(t){}return e}(),tt={on(e,t,n,o=!1){et?e.addEventListener(t,n,{capture:o,passive:!0}):e.addEventListener(t,n,o)},off(e,t,n,o=!1){e.removeEventListener(t,n,o)}},nt=(e,t,n)=>{let o=new Image;if(!e||!e.src){const e=new Error("image src is required");return n(e)}e.cors&&(o.crossOrigin=e.cors),o.src=e.src,o.onload=function(){t({naturalHeight:o.naturalHeight,naturalWidth:o.naturalWidth,src:o.src}),o=null},o.onerror=function(e){n(e)}},ot=(e,t)=>"undefined"!=typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.style[t],lt=e=>ot(e,"overflow")+ot(e,"overflowY")+ot(e,"overflowX");function rt(){}class at{constructor(e){this.max=e||100,this._caches=[]}has(e){return this._caches.indexOf(e)>-1}add(e){this.has(e)||(this._caches.push(e),this._caches.length>this.max&&this.free())}free(){this._caches.shift()}}class it{constructor(e,t,n,o,l,r,a,i,s,c){this.el=e,this.src=t,this.error=n,this.loading=o,this.bindType=l,this.attempt=0,this.cors=i,this.naturalHeight=0,this.naturalWidth=0,this.options=a,this.rect={},this.$parent=r,this.elRenderer=s,this._imageCache=c,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(e){this.performanceData[e]=Date.now()}update(e){const t=this.src;this.src=e.src,this.loading=e.loading,this.error=e.error,this.filter(),t!==this.src&&(this.attempt=0,this.initState())}getRect(){this.rect=this.el.getBoundingClientRect()}checkInView(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}filter(){for(const e in this.options.filter)this.options.filter[e](this,this.options)}renderLoading(e){this.state.loading=!0,nt({src:this.loading,cors:this.cors},(()=>{this.render("loading",!1),this.state.loading=!1,e()}),(()=>{e(),this.state.loading=!1,this.options.silent}))}load(e=rt){return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent,void e()):this.state.rendered&&this.state.loaded?void 0:this._imageCache.has(this.src)?(this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,e()):void this.renderLoading((()=>{this.attempt++,this.options.adapter.beforeLoad&&this.options.adapter.beforeLoad(this,this.options),this.record("loadStart"),nt({src:this.src,cors:this.cors},(t=>{this.naturalHeight=t.naturalHeight,this.naturalWidth=t.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this._imageCache.add(this.src),e()}),(e=>{this.options.silent,this.state.error=!0,this.state.loaded=!1,this.render("error",!1)}))}))}render(e,t){this.elRenderer(this,e,t)}performance(){let e="loading",t=0;return this.state.loaded&&(e="loaded",t=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e="error"),{src:this.src,state:e,time:t}}$destroy(){this.el=null,this.src="",this.error=null,this.loading="",this.bindType=null,this.attempt=0}}const st="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ct=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],ut={rootMargin:"0px",threshold:0};class dt{constructor({preLoad:e,error:t,throttleWait:n,preLoadTop:o,dispatchEvent:l,loading:r,attempt:a,silent:i=!0,scale:s,listenEvents:c,filter:u,adapter:d,observer:p,observerOptions:m}){this.version='"3.0.0"',this.lazyContainerMananger=null,this.mode=Ge,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:i,dispatchEvent:!!l,throttleWait:n||200,preLoad:e||1.3,preLoadTop:o||0,error:t||st,loading:r||st,attempt:a||3,scale:s||Qe(s),listenEvents:c||ct,supportWebp:Je(),filter:u||{},adapter:d||{},observer:!!p,observerOptions:m||ut},this._initEvent(),this._imageCache=new at(200),this.lazyLoadHandler=function(e,t){let n=null,o=0;return function(){if(n)return;const l=Date.now()-o,r=this,a=arguments,i=function(){o=Date.now(),n=!1,e.apply(r,a)};l>=t?i():n=setTimeout(i,t)}}(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?Ye:Ge)}performance(){const e=[];return this.ListenerQueue.map((t=>e.push(t.performance()))),e}addLazyBox(e){this.ListenerQueue.push(e),Ue&&(this._addListenerTarget(window),this._observer&&this._observer.observe(e.el),e.$el&&e.$el.parentNode&&this._addListenerTarget(e.$el.parentNode))}add(e,n,o){if(this.ListenerQueue.some((t=>t.el===e)))return this.update(e,n),t(this.lazyLoadHandler);let{src:l,loading:r,error:a,cors:i}=this._valueFormatter(n.value);t((()=>{l=Ze(e,this.options.scale)||l,this._observer&&this._observer.observe(e);const o=Object.keys(n.modifiers)[0];let s;o&&(s=n.instance.$refs[o],s=s?s.el||s:document.getElementById(o)),s||(s=(e=>{if(!Ue)return;if(!(e instanceof Element))return window;let t=e;for(;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(lt(t)))return t;t=t.parentNode}return window})(e));const c=new it(e,l,a,r,n.arg,s,this.options,i,this._elRenderer.bind(this),this._imageCache);this.ListenerQueue.push(c),Ue&&(this._addListenerTarget(window),this._addListenerTarget(s)),t(this.lazyLoadHandler)}))}update(e,n,o){let{src:l,loading:r,error:a}=this._valueFormatter(n.value);l=Ze(e,this.options.scale)||l;const i=this.ListenerQueue.find((t=>t.el===e));i?i.update({src:l,loading:r,error:a}):"loaded"===e.getAttribute("lazy")&&e.dataset.src===l||this.add(e,n,o),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),t(this.lazyLoadHandler)}remove(e){if(!e)return;this._observer&&this._observer.unobserve(e);const t=this.ListenerQueue.find((t=>t.el===e));t&&(this._removeListenerTarget(t.$parent),this._removeListenerTarget(window),Xe(this.ListenerQueue,t),t.$destroy&&t.$destroy())}removeComponent(e){e&&(Xe(this.ListenerQueue,e),this._observer&&this._observer.unobserve(e.el),e.$parent&&e.$el.parentNode&&this._removeListenerTarget(e.$el.parentNode),this._removeListenerTarget(window))}setMode(e){Ke||e!==Ye||(e=Ge),this.mode=e,e===Ge?(this._observer&&(this.ListenerQueue.forEach((e=>{this._observer.unobserve(e.el)})),this._observer=null),this.TargetQueue.forEach((e=>{this._initListen(e.el,!0)}))):(this.TargetQueue.forEach((e=>{this._initListen(e.el,!1)})),this._initIntersectionObserver())}_addListenerTarget(e){if(!e)return;let t=this.TargetQueue.find((t=>t.el===e));return t?t.childrenCount++:(t={el:e,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===Ge&&this._initListen(t.el,!0),this.TargetQueue.push(t)),this.TargetIndex}_removeListenerTarget(e){this.TargetQueue.forEach(((t,n)=>{t.el===e&&(t.childrenCount--,t.childrenCount||(this._initListen(t.el,!1),this.TargetQueue.splice(n,1),t=null))}))}_initListen(e,t){this.options.listenEvents.forEach((n=>tt[t?"on":"off"](e,n,this.lazyLoadHandler)))}_initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(e,t)=>{this.Event.listeners[e]||(this.Event.listeners[e]=[]),this.Event.listeners[e].push(t)},this.$once=(e,t)=>{const n=this;this.$on(e,(function o(){n.$off(e,o),t.apply(n,arguments)}))},this.$off=(e,t)=>{if(t)Xe(this.Event.listeners[e],t);else{if(!this.Event.listeners[e])return;this.Event.listeners[e].length=0}},this.$emit=(e,t,n)=>{this.Event.listeners[e]&&this.Event.listeners[e].forEach((e=>e(t,n)))}}_lazyLoadHandler(){const e=[];this.ListenerQueue.forEach(((t,n)=>{t.el&&t.el.parentNode&&!t.state.loaded||e.push(t);t.checkInView()&&(t.state.loaded||t.load())})),e.forEach((e=>{Xe(this.ListenerQueue,e),e.$destroy&&e.$destroy()}))}_initIntersectionObserver(){Ke&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach((e=>{this._observer.observe(e.el)})))}_observerHandler(e){e.forEach((e=>{e.isIntersecting&&this.ListenerQueue.forEach((t=>{if(t.el===e.target){if(t.state.loaded)return this._observer.unobserve(t.el);t.load()}}))}))}_elRenderer(e,t,n){if(!e.el)return;const{el:o,bindType:l}=e;let r;switch(t){case"loading":r=e.loading;break;case"error":r=e.error;break;default:r=e.src}if(l?o.style[l]='url("'+r+'")':o.getAttribute("src")!==r&&o.setAttribute("src",r),o.setAttribute("lazy",t),this.$emit(t,e,n),this.options.adapter[t]&&this.options.adapter[t](e,this.options),this.options.dispatchEvent){const n=new CustomEvent(t,{detail:e});o.dispatchEvent(n)}}_valueFormatter(e){return null!==(t=e)&&"object"==typeof t?(!e.src&&this.options.silent,{src:e.src,loading:e.loading||this.options.loading,error:e.error||this.options.error,cors:this.options.cors}):{src:e,loading:this.options.loading,error:this.options.error,cors:this.options.cors};var t}}const pt=(e,t)=>{let n=m({});return{rect:n,checkInView:()=>(n=e.value.getBoundingClientRect(),Ue&&n.top<window.innerHeight*t&&n.bottom>0&&n.left<window.innerWidth*t&&n.right>0)}};class mt{constructor(e){this.lazy=e,e.lazyContainerMananger=this,this._queue=[]}bind(e,t,n){const o=new gt(e,t,n,this.lazy);this._queue.push(o)}update(e,t,n){const o=this._queue.find((t=>t.el===e));o&&o.update(e,t)}unbind(e,t,n){const o=this._queue.find((t=>t.el===e));o&&(o.clear(),Xe(this._queue,o))}}const ft={selector:"img",error:"",loading:""};class gt{constructor(e,t,n,o){this.el=e,this.vnode=n,this.binding=t,this.options={},this.lazy=o,this._queue=[],this.update(e,t)}update(e,t){this.el=e,this.options=qe({},ft,t.value);this.getImgs().forEach((e=>{this.lazy.add(e,qe({},this.binding,{value:{src:e.getAttribute("data-src")||e.dataset.src,error:e.getAttribute("data-error")||e.dataset.error||this.options.error,loading:e.getAttribute("data-loading")||e.dataset.loading||this.options.loading}}),this.vnode)}))}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach((e=>this.lazy.remove(e))),this.vnode=null,this.binding=null,this.lazy=null}}var ht=e=>p({setup(t,{slots:n}){const o=r(),l=m({src:"",error:"",loading:"",attempt:e.options.attempt}),a=m({loaded:!1,error:!1,attempt:0}),{rect:s,checkInView:c}=pt(o,e.options.preLoad),u=r(""),d=(t=rt)=>{if(a.attempt>l.attempt-1&&a.error)return e.options.silent,t();const n=l.src;nt({src:n},(({src:e})=>{u.value=e,a.loaded=!0}),(()=>{a.attempt++,u.value=l.error,a.error=!0}))},p=f((()=>({el:o.value,rect:s,checkInView:c,load:d,state:a})));g((()=>{e.addLazyBox(p.value),e.lazyLoadHandler()})),h((()=>{e.removeComponent(p.value)}));return i((()=>t.src),(()=>{(()=>{const{src:n,loading:o,error:r}=e._valueFormatter(t.src);a.loaded=!1,l.src=n,l.error=r,l.loading=o,u.value=l.loading})(),e.addLazyBox(p.value),e.lazyLoadHandler()}),{immediate:!0}),()=>{var e;return v(t.tag||"img",{src:u.value,ref:o},[null===(e=n.default)||void 0===e?void 0:e.call(n)])}}}),vt={install(e,t={}){const n=new dt(t),o=new mt(n);if(Number(e.version.split(".")[0])<3)return new Error("Vue version at least 3.0");e.config.globalProperties.$Lazyload=n,e.provide("Lazyload",n),t.lazyComponent&&e.component("lazy-component",(e=>p({props:{tag:{type:String,default:"div"}},emits:["show"],setup(t,{emit:n,slots:o}){const l=r(),a=m({loaded:!1,error:!1,attempt:0}),i=r(!1),{rect:s,checkInView:c}=pt(l,e.options.preLoad),u=()=>{i.value=!0,a.loaded=!0,n("show",i.value)},d=f((()=>({el:l.value,rect:s,checkInView:c,load:u,state:a})));return g((()=>{e.addLazyBox(d.value),e.lazyLoadHandler()})),h((()=>{e.removeComponent(d.value)})),()=>{var e;return v(t.tag,{ref:l},[i.value&&(null===(e=o.default)||void 0===e?void 0:e.call(o))])}}}))(n)),t.lazyImage&&e.component("lazy-image",ht(n)),e.directive("lazy",{beforeMount:n.add.bind(n),beforeUpdate:n.update.bind(n),updated:n.lazyLoadHandler.bind(n),unmounted:n.remove.bind(n)}),e.directive("lazy-container",{beforeMount:o.bind.bind(o),updated:o.update.bind(o),unmounted:o.unbind.bind(o)})}};const bt="4.0.29",xt={coreVersion:bt,uiVersion:"",tableVersion:""};var yt,wt,Ct,St,Et,Tt,Dt,Ot,kt,It,Mt,Pt,Rt,Vt,At,$t,Ft,Nt,Lt,_t,Bt,jt,zt,Wt,Ht,qt,Ut,Kt,Gt,Yt,Xt,Zt,Qt,Jt,en,tn,nn,on,ln,rn,an,sn,cn,un,dn,pn,mn,fn,gn,hn,vn,bn,xn,yn,wn,Cn,Sn,En,Tn,Dn,On,kn,In,Mn,Pn,Rn,Vn,An,$n,Fn,Nn,Ln,_n,Bn,jn,zn,Wn,Hn,qn,Un,Kn,Gn,Yn,Xn,Zn,Qn,Jn,eo,to,no,oo,lo,ro,ao,io,so,co,uo,po,mo,fo,go,ho,vo,bo,xo,yo,wo,Co,So,Eo,To,Do,Oo,ko,Io,Mo,Po,Ro,Vo,Ao,$o,Fo,No,Lo,_o,Bo,jo,zo,Wo,Ho,qo,Uo,Ko,Go,Yo,Xo,Zo,Qo,Jo,el,tl,nl,ol,ll,rl,al,il,sl,cl,ul,dl,pl,ml,fl,gl,hl,vl,bl,xl,yl,wl,Cl,Sl,El,Tl,Dl,Ol,kl,Il,Ml,Pl,Rl,Vl,Al,$l,Fl,Nl,Ll,_l,Bl,jl,zl,Wl,Hl,ql,Ul,Kl,Gl,Yl,Xl,Zl,Ql,Jl,er,tr,nr,or,lr,rr,ar,ir,sr,cr,ur,dr,pr,mr,fr,gr,hr,vr,br,xr,yr,wr,Cr,Sr,Er,Tr,Dr,Or,kr,Ir,Mr,Pr,Rr,Vr,Ar,$r,Fr,Nr,Lr,_r,Br,jr,zr,Wr,Hr,qr,Ur,Kr,Gr,Yr,Xr,Zr,Qr,Jr,ea,ta,na,oa,la,ra,aa,ia,sa,ca,ua,da,pa,ma,fa,ga,ha,va,ba,xa,ya,wa,Ca,Sa,Ea,Ta,Da,Oa,ka,Ia,Ma,Pa,Ra,Va,Aa,$a,Fa,Na,La,_a,Ba,ja,za,Wa,Ha,qa,Ua,Ka,Ga,Ya,Xa,Za,Qa,Ja,ei,ti,ni,oi,li,ri,ai,ii,si,ci,ui,di,pi,mi,fi,gi,hi,vi,bi,xi,yi,wi,Ci,Si,Ei,Ti,Di,Oi,ki,Ii,Mi,Pi,Ri,Vi,Ai,$i,Fi,Ni,Li,_i,Bi,ji,zi,Wi,Hi,qi,Ui,Ki,Gi,Yi,Xi,Zi,Qi,Ji,es,ts,ns,os,ls,rs,as,is,ss,cs,us,ds,ps,ms,fs,gs,hs,vs,bs,xs,ys,ws,Cs,Ss,Es,Ts,Ds,Os,ks,Is,Ms,Ps,Rs,Vs,As,$s,Fs,Ns,Ls,_s,Bs,js,zs,Ws,Hs,qs,Us,Ks,Gs,Ys,Xs,Zs,Qs,Js,ec,tc,nc,oc,lc,rc,ac,ic,sc,cc,uc,dc,pc,mc,fc,gc,hc,vc,bc,xc,yc,wc,Cc,Sc,Ec,Tc,Dc,Oc,kc,Ic,Mc,Pc,Rc,Vc;function Ac(){if(wt)return yt;wt=1;return yt={cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1}}function $c(){if(St)return Ct;return St=1,Ct=function(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else for(var o=0,l=e.length;o<l;o++)t.call(n,e[o],o,e)}}function Fc(){if(Tt)return Et;Tt=1;var e=Object.prototype.toString;return Et=e}function Nc(){if(Ot)return Dt;Ot=1;var e=Fc();return Dt=function(t){return function(n){return"[object "+t+"]"===e.call(n)}}}function Lc(){if(It)return kt;It=1;var e=Nc(),t=Array.isArray||e("Array");return kt=t}function _c(){if(Pt)return Mt;return Pt=1,Mt=function(e,t){return!(!e||!e.hasOwnProperty)&&e.hasOwnProperty(t)}}function Bc(){if(Vt)return Rt;Vt=1;var e=_c();return Rt=function(t,n,o){if(t)for(var l in t)e(t,l)&&n.call(o,t[l],l,t)}}function jc(){if($t)return At;$t=1;var e=Lc(),t=$c(),n=Bc();return At=function(o,l,r){return o?(e(o)?t:n)(o,l,r):o}}function zc(){if(Nt)return Ft;return Nt=1,Ft=function(e){return function(t){return typeof t===e}}}function Wc(){if(_t)return Lt;_t=1;var e=zc()("function");return Lt=e}function Hc(){if(jt)return Bt;jt=1;var e=jc();return Bt=function(t,n){var o=Object[t];return function(t){var l=[];if(t){if(o)return o(t);e(t,n>1?function(e){l.push([""+e,t[e]])}:function(){l.push(arguments[n])})}return l}},Bt}function qc(){if(Wt)return zt;Wt=1;var e=Hc()("keys",1);return zt=e}function Uc(){if(qt)return Ht;qt=1;var e=Fc(),t=Bc(),n=$c();function o(e,t){var n=e.__proto__.constructor;return t?new n(t):new n}function l(e,t){return t?r(e,t):e}function r(r,a){if(r)switch(e.call(r)){case"[object Object]":var i=Object.create(Object.getPrototypeOf(r));return t(r,(function(e,t){i[t]=l(e,a)})),i;case"[object Date]":case"[object RegExp]":return o(r,r.valueOf());case"[object Array]":case"[object Arguments]":var s=[];return n(r,(function(e){s.push(l(e,a))})),s;case"[object Set]":var c=o(r);return c.forEach((function(e){c.add(l(e,a))})),c;case"[object Map]":var u=o(r);return u.forEach((function(e,t){u.set(t,l(e,a))})),u}return r}return Ht=function(e,t){return e?r(e,t):e}}function Kc(){if(Kt)return Ut;Kt=1;var e=$c(),t=qc(),n=Lc(),o=Uc(),l=Object.assign;function r(n,l,r){for(var a,i=l.length,s=1;s<i;s++)a=l[s],e(t(l[s]),r?function(e){n[e]=o(a[e],r)}:function(e){n[e]=a[e]});return n}return Ut=function(e){if(e){var t=arguments;if(!0!==e)return l?l.apply(Object,t):r(e,t);if(t.length>1)return r(e=n(e[1])?[]:{},t,!0)}return e},Ut}function Gc(){if(Zt)return Xt;return Zt=1,Xt=function(e,t,n){for(var o=e.length-1;o>=0;o--)t.call(n,e[o],o,e)}}function Yc(){if(Jt)return Qt;Jt=1;var e=Gc(),t=qc();return Qt=function(n,o,l){e(t(n),(function(e){o.call(l,n[e],e,n)}))}}function Xc(){if(tn)return en;return tn=1,en=function(e){return null===e}}function Zc(){if(on)return nn;on=1;var e=Xc();return nn=function(t,n){return function(o){return e(o)?n:o[t]}}}function Qc(){if(sn)return an;return sn=1,an=function(e){return!!e&&e.constructor===Object}}function Jc(){if(pn)return dn;pn=1;var e=jc();return dn=function(t,n,o){var l=[];if(t&&arguments.length>1){if(t.map)return t.map(n,o);e(t,(function(){l.push(n.apply(o,arguments))}))}return l},dn}function eu(){if(fn)return mn;fn=1;var e=_c(),t=Lc();return mn=function(n,o,l,r,a){return function(i,s,c){if(i&&s){if(n&&i[n])return i[n](s,c);if(o&&t(i)){for(var u=0,d=i.length;u<d;u++)if(!!s.call(c,i[u],u,i)===r)return[!0,!1,u,i[u]][l]}else for(var p in i)if(e(i,p)&&!!s.call(c,i[p],p,i)===r)return[!0,!1,p,i[p]][l]}return a}}}function tu(){if(hn)return gn;hn=1;var e=eu()("some",1,0,!0,!1);return gn=e}function nu(){if(bn)return vn;bn=1;var e=eu()("every",1,1,!1,!0);return vn=e}function ou(){if(yn)return xn;yn=1;var e=_c();return xn=function(t,n){if(t){if(t.includes)return t.includes(n);for(var o in t)if(e(t,o)&&n===t[o])return!0}return!1}}function lu(){if(Cn)return wn;Cn=1;var e=Lc(),t=ou();return wn=function(n,o){var l,r=0;if(e(n)&&e(o)){for(l=o.length;r<l;r++)if(!t(n,o[r]))return!1;return!0}return t(n,o)}}function ru(){if(En)return Sn;En=1;var e=jc(),t=ou(),n=Wc(),o=Zc();return Sn=function(l,r,a){var i=[];if(r){n(r)||(r=o(r));var s,c={};e(l,(function(e,t){s=r.call(a,e,t,l),c[s]||(c[s]=1,i.push(e))}))}else e(l,(function(e){t(i,e)||i.push(e)}));return i}}function au(){if(Dn)return Tn;Dn=1;var e=Jc();return Tn=function(t){return e(t,(function(e){return e}))}}function iu(){if(Mn)return In;Mn=1;return In="undefined"}function su(){if(Rn)return Pn;Rn=1;var e=iu(),t=zc()(e);return Pn=t}function cu(){if(An)return Vn;An=1;var e=Xc(),t=su();return Vn=function(n){return e(n)||t(n)}}function uu(){if(Fn)return $n;Fn=1;return $n=/(.+)?\[(\d+)\]$/}function du(){if(Ln)return Nn;return Ln=1,Nn=function(e){return e?e.splice&&e.join?e:(""+e).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}}function pu(){if(Bn)return _n;Bn=1;var e=uu(),t=du(),n=_c(),o=su(),l=cu();function r(t,n){var o=n?n.match(e):"";return o?o[1]?t[o[1]]?t[o[1]][o[2]]:void 0:t[o[2]]:t[n]}return _n=function(e,a,i){if(l(e))return i;var s=function(e,o){if(e){var a,i,s,c=0;if(e[o]||n(e,o))return e[o];if(s=(i=t(o)).length)for(a=e;c<s;c++)if(a=r(a,i[c]),l(a))return c===s-1?a:void 0;return a}}(e,a);return o(s)?i:s}}function mu(){if(zn)return jn;zn=1;var e=$c(),t=au(),n=Jc(),o=Lc(),l=Wc(),r=Qc(),a=su(),i=Xc(),s=cu(),c=pu(),u=Zc();function d(e,t){return a(e)?1:i(e)?a(t)?-1:1:e&&e.localeCompare?e.localeCompare(t):e>t?1:-1}function p(e,t,n){return function(o,l){var r=o[e],a=l[e];return r===a?n?n(o,l):0:"desc"===t.order?d(a,r):d(r,a)}}return jn=function(a,i,m){if(a){if(s(i))return t(a).sort(d);for(var f,g=n(a,(function(e){return{data:e}})),h=function(t,n,a,i){var s=[];return a=o(a)?a:[a],e(a,(function(a,u){if(a){var d,p=a;o(a)?(p=a[0],d=a[1]):r(a)&&(p=a.field,d=a.order),s.push({field:p,order:d||"asc"}),e(n,l(p)?function(e,n){e[u]=p.call(i,e.data,n,t)}:function(e){e[u]=p?c(e.data,p):e.data})}})),s}(a,g,i,m),v=h.length-1;v>=0;)f=p(v,h[v],f),v--;return f&&(g=g.sort(f)),n(g,u("data"))}return[]}}function fu(){if(Un)return qn;return Un=1,qn=function(e,t){return e>=t?e:(e|=0)+Math.round(Math.random()*((t||9)-e))}}function gu(){if(Gn)return Kn;Gn=1;var e=Hc()("values",0);return Kn=e}function hu(){if(Xn)return Yn;Xn=1;var e=fu(),t=gu();return Yn=function(n){for(var o,l=[],r=t(n),a=r.length-1;a>=0;a--)o=a>0?e(0,a):0,l.push(r[o]),r.splice(o,1);return l}}function vu(){if(eo)return Jn;return eo=1,Jn=function(e){return function(t){if(t){var n=e(t&&t.replace?t.replace(/,/g,""):t);if(!isNaN(n))return n}return 0}}}function bu(){if(no)return to;no=1;var e=vu()(parseFloat);return to=e}function xu(){if(lo)return oo;lo=1;var e=bu();return oo=function(t,n,o){var l=[],r=arguments.length;if(t){if(n=r>=2?e(n):0,o=r>=3?e(o):t.length,t.slice)return t.slice(n,o);for(;n<o;n++)l.push(t[n])}return l},oo}function yu(){if(wo)return yo;wo=1;var e=Jc(),t=Zc();return yo=function(n,o){return e(n,t(o))}}function wu(){if(So)return Co;So=1;var e=Wc(),t=cu(),n=pu(),o=$c();return Co=function(l){return function(r,a){var i,s;return r&&r.length?(o(r,(function(o,c){a&&(o=e(a)?a(o,c,r):n(o,a)),t(o)||!t(i)&&!l(i,o)||(s=c,i=o)})),r[s]):i}}}function Cu(){if(To)return Eo;To=1;var e=wu()((function(e,t){return e<t}));return Eo=e}function Su(){if(Oo)return Do;Oo=1;var e=yu(),t=Cu();return Do=function(n){var o,l,r,a=[];if(n&&n.length)for(o=0,r=(l=t(n,(function(e){return e?e.length:0})))?l.length:0;o<r;o++)a.push(e(n,o));return a}}function Eu(){if(Vo)return Ro;Vo=1;var e=Lc(),t=$c();function n(o,l){var r=[];return t(o,(function(t){r=r.concat(e(t)?l?n(t,l):t:[t])})),r}return Ro=function(t,o){return e(t)?n(t,o):[]}}function Tu(){if(No)return Fo;return No=1,Fo=function(e,t){try{delete e[t]}catch(n){e[t]=void 0}}}function Du(){if(_o)return Lo;_o=1;var e=Lc(),t=Gc(),n=Yc();return Lo=function(o,l,r){return o?(e(o)?t:n)(o,l,r):o}}function Ou(){if(jo)return Bo;jo=1;var e=zc()("object");return Bo=e}function ku(){if(Wo)return zo;Wo=1;var e=Tu(),t=Qc(),n=Ou(),o=Lc(),l=Xc(),r=Kc(),a=Bc();return zo=function(i,s,c){if(i){var u,d=arguments.length>1&&(l(s)||!n(s)),p=d?c:s;if(t(i))a(i,d?function(e,t){i[t]=s}:function(t,n){e(i,n)}),p&&r(i,p);else if(o(i)){if(d)for(u=i.length;u>0;)u--,i[u]=s;else i.length=0;p&&i.push.apply(i,p)}}return i},zo}function Iu(){if(qo)return Ho;qo=1;var e=Tu(),t=Wc(),n=Lc(),o=jc(),l=$c(),r=Du(),a=ku(),i=cu();return Ho=function(s,c,u){if(s){if(!i(c)){var d=[],p=[];return t(c)||(m=c,c=function(e,t){return t===m}),o(s,(function(e,t,n){c.call(u,e,t,n)&&d.push(t)})),n(s)?r(d,(function(e,t){p.push(s[e]),s.splice(e,1)})):(p={},l(d,(function(t){p[t]=s[t],e(s,t)}))),p}return a(s)}var m;return s}}function Mu(){if(Ko)return Uo;Ko=1;var e=Ac();Jc();var t=mu(),n=Uc(),o=cu(),l=jc(),r=Iu(),a=Kc();return Uo=function(i,s){var c,u,d,p=a({},e.treeOptions,s),m=p.strict,f=p.key,g=p.parentKey,h=p.children,v=p.mapChildren,b=p.sortKey,x=p.reverse,y=p.data,w=[],C={},S={};return b&&(i=t(n(i),b),x&&(i=i.reverse())),l(i,(function(e){c=e[f],S[c]=!0})),l(i,(function(e){c=e[f],y?(u={})[y]=e:u=e,d=e[g],C[c]=C[c]||[],u[f]=c,u[g]=d,c===d&&(d=null),C[d]=C[d]||[],C[d].push(u),u[h]=C[c],v&&(u[v]=C[c]),(!m||m&&o(d))&&(S[d]||w.push(u))})),m&&function(e,t){l(e,(function(e){e[t]&&!e[t].length&&r(e,t)}))}(i,h),w}}function Pu(){if(Yo)return Go;Yo=1;var e=Ac(),t=$c(),n=Kc();function o(e,n,l,r){var a=r.key,i=r.parentKey,s=r.children,c=r.data,u=r.updated,d=r.clear;return t(l,(function(t){var l=t[s];c&&(t=t[c]),!1!==u&&(t[i]=n?n[a]:null),e.push(t),l&&l.length&&o(e,t,l,r),d&&delete t[s]})),e}return Go=function(t,l){return o([],null,t,n({},e.treeOptions,l))}}function Ru(){if(Zo)return Xo;return Zo=1,Xo=function(e){return function(t,n,o,l){var r=o||{},a=r.children||"children";return e(null,t,n,l,[],[],a,r)}}}function Vu(){if(tl)return el;tl=1;var e=Ru(),t=jc();var n=e((function e(n,o,l,r,a,i,s,c){var u,d;t(o,(function(t,c){u=a.concat([""+c]),d=i.concat([t]),l.call(r,t,c,o,u,n,d),t&&s&&(u.push(s),e(t,t[s],l,r,u,d,s))}))}));return el=n}function Au(){if(il)return al;il=1;var e=Ru(),t=$c(),n=Kc();function o(e,l,r,a,i,s,c,u,d){var p,m,f,g,h,v=[],b=d.original,x=d.data,y=d.mapChildren||u,w=d.isEvery;return t(r,(function(t,C){p=s.concat([""+C]),m=c.concat([t]),g=e&&!w||a.call(i,t,C,r,p,l,m),h=u&&t[u],g||h?(b?f=t:(f=n({},t),x&&(f[x]=t)),f[y]=o(g,t,t[u],a,i,p,m,u,d),(g||f[y].length)&&v.push(f)):g&&v.push(f)})),v}var l=e((function(e,t,n,l,r,a,i,s){return o(0,e,t,n,l,r,a,i,s)}));return al=l}function $u(){if(cl)return sl;return cl=1,sl=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,o=e.length;n<o;n++)if(t===e[n])return n}}function Fu(){if(dl)return ul;return dl=1,ul=function(e,t){if(e.lastIndexOf)return e.lastIndexOf(t);for(var n=e.length-1;n>=0;n--)if(t===e[n])return n;return-1}}function Nu(){if(ml)return pl;ml=1;var e=zc()("number");return pl=e}function Lu(){if(vl)return hl;vl=1;var e=zc()("string");return hl=e}function _u(){if(xl)return bl;xl=1;var e=Nc()("Date");return bl=e}function Bu(){if(wl)return yl;wl=1;var e=parseInt;return yl=e}function ju(){if(Tl)return El;return Tl=1,El=function(e){return e.getTime()}}function zu(){if(Ol)return Dl;Ol=1;var e=Bu(),t=Sl?Cl:(Sl=1,Cl=function(e){return Date.UTC(e.y,e.M||0,e.d||1,e.H||0,e.m||0,e.s||0,e.S||0)}),n=ju(),o=Lu(),l=_u();function r(e){return"(\\d{"+e+"})"}function a(t){return isNaN(t)?t:e(t)}for(var i=r(2),s=r("1,2"),c=r("1,7"),u=r("3,4"),d=".{1}",p=d+s,m="(([zZ])|([-+]\\d{2}:?\\d{2}))",f=[u,p,p,p,p,p,d+c,m],g=[],h=f.length-1;h>=0;h--){for(var v="",b=0;b<h+1;b++)v+=f[b];g.push(new RegExp("^"+v+"$"))}var x=[["yyyy",u],["yy",i],["MM",i],["M",s],["dd",i],["d",s],["HH",i],["H",s],["mm",i],["m",s],["ss",i],["s",s],["SSS",r(3)],["S",c],["Z",m]],y={},w=["\\[([^\\]]+)\\]"];for(b=0;b<x.length;b++){var C=x[b];y[C[0]]=C[1]+"?",w.push(C[0])}var S=new RegExp(w.join("|"),"g"),E={};return Dl=function(r,i){if(r){var s=l(r);if(s||!i&&/^[0-9]{11,15}$/.test(r))return new Date(s?n(r):e(r));if(o(r)){var c=i?function(e,t){var n=E[t];if(!n){var o=[],l=t.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(S,(function(e,t){var n=e.charAt(0);return"["===n?t:(o.push(n),y[e])}));n=E[t]={_i:o,_r:new RegExp(l)}}var r={},a=e.match(n._r);if(a){for(var i=n._i,s=1,c=a.length;s<c;s++)r[i[s-1]]=a[s];return r}return r}(r,i):function(e){for(var t,n={},o=0,l=g.length;o<l;o++)if(t=e.match(g[o])){n.y=t[1],n.M=t[2],n.d=t[3],n.H=t[4],n.m=t[5],n.s=t[6],n.S=t[7],n.Z=t[8];break}return n}(r);if(c.y)return c.M&&(c.M=a(c.M)-1),c.S&&(c.S=(u=a(c.S.substring(0,3)))<10?100*u:u<100?10*u:u),c.Z?function(n){if(/^[zZ]/.test(n.Z))return new Date(t(n));var o=n.Z.match(/([-+])(\d{2}):?(\d{2})/);return o?new Date(t(n)-("-"===o[1]?-1:1)*e(o[2])*36e5+6e4*e(o[3])):new Date("")}(c):new Date(c.y,c.M||0,c.d||1,c.H||0,c.m||0,c.s||0,c.S||0)}}var u;return new Date("")}}function Wu(){if(Il)return kl;return Il=1,kl=function(){return new Date}}function Hu(){if(Pl)return Ml;Pl=1;var e=_u(),t=zu(),n=Wu();return Ml=function(o){var l,r=o?t(o):n();return!!e(r)&&((l=r.getFullYear())%4==0&&(l%100!=0||l%400==0))}}function qu(){if(Nl)return Fl;Nl=1;var e=Lc(),t=Lu(),n=_c();return Fl=function(o,l){return function(r,a){if(r){if(r[o])return r[o](a);if(t(r)||e(r))return l(r,a);for(var i in r)if(n(r,i)&&a===r[i])return i}return-1}}}function Uu(){if(jl)return Bl;jl=1;var e=qu()("lastIndexOf",Fu());return Bl=e}function Ku(){if(Wl)return zl;Wl=1;var e=Lc(),t=Lu(),n=jc();return zl=function(o){var l=0;return t(o)||e(o)?o.length:(n(o,(function(){l++})),l)}}function Gu(){if(Kl)return Ul;Kl=1;var e=Lc(),t=Xc();return Ul=function(n){return!t(n)&&!isNaN(n)&&!e(n)&&n%1==0}}function Yu(){if(Zl)return Xl;Zl=1;var e=zc()("boolean");return Xl=e}function Xu(){if(Jl)return Ql;Jl=1;var e=Nc()("RegExp");return Ql=e}function Zu(){if(tr)return er;tr=1;var e=Nc()("Error");return er=e}function Qu(){if(rr)return lr;return rr=1,lr=function(e){for(var t in e)return!1;return!0}}function Ju(){if(ir)return ar;ir=1;var e=iu(),t=typeof Symbol!==e;return ar=function(e){return t&&Symbol.isSymbol?Symbol.isSymbol(e):"symbol"==typeof e}}function ed(){if(mr)return pr;mr=1;var e=iu(),t=typeof document===e?0:document;return pr=t}function td(){if(vr)return hr;vr=1;var e=iu(),t=typeof window===e?0:window;return hr=t}function nd(){if(Pr)return Mr;Pr=1;var e=Wc(),t=Lu(),n=Lc(),o=_c();return Mr=function(l){return function(r,a,i){if(r&&e(a)){if(n(r)||t(r))return l(r,a,i);for(var s in r)if(o(r,s)&&a.call(i,r[s],s,r))return s}return-1}}}function od(){if(Vr)return Rr;Vr=1;var e=nd()((function(e,t,n){for(var o=0,l=e.length;o<l;o++)if(t.call(n,e[o],o,e))return o;return-1}));return Rr=e}function ld(){if($r)return Ar;$r=1;var e=Nu(),t=Lc(),n=Lu(),o=Xu(),l=_u(),r=Yu(),a=su(),i=qc(),s=nu();return Ar=function c(u,d,p,m,f,g,h){if(u===d)return!0;if(u&&d&&!e(u)&&!e(d)&&!n(u)&&!n(d)){if(o(u))return p(""+u,""+d,f,g,h);if(l(u)||r(u))return p(+u,+d,f,g,h);var v,b,x,y=t(u),w=t(d);if(y||w?y&&w:u.constructor===d.constructor)return b=i(u),x=i(d),m&&(v=m(u,d,f)),b.length===x.length&&(a(v)?s(b,(function(e,t){return e===x[t]&&c(u[e],d[x[t]],p,m,y||w?t:e,u,d)})):!!v)}return p(u,d,f,g,h)},Ar}function rd(){if(Nr)return Fr;return Nr=1,Fr=function(e,t){return e===t}}function ad(){if(_r)return Lr;_r=1;var e=ld(),t=rd();return Lr=function(n,o){return e(n,o,t)}}function id(){if(oa)return na;oa=1;var e=Wc(),t=Lc(),n=jc(),o=od();return na=function(l,r){return function(a,i){var s,c,u={},d=[],p=this,m=arguments,f=m.length;if(!e(i)){for(c=1;c<f;c++)s=m[c],d.push.apply(d,t(s)?s:[s]);i=0}return n(a,(function(e,t){((i?i.call(p,e,t,a):o(d,(function(e){return e===t}))>-1)?l:r)&&(u[t]=e)})),u}},na}function sd(){if(va)return ha;va=1;var e=Qu(),t=Ou(),n=Wc(),o=Zc(),l=jc();return ha=function(r,a,i){var s,c={};return r&&(a&&t(a)?a=function(t){return function(){return e(t)}}(a):n(a)||(a=o(a)),l(r,(function(e,t){s=a?a.call(i,e,t,r):e,c[s]?c[s].push(e):c[s]=[e]}))),c}}function cd(){if(wa)return ya;return wa=1,ya=function(e,t,n){var o,l,r=[],a=arguments;if(a.length<2&&(t=a[0],e=0),l=t|0,(o=e|0)<t)for(n=n|0||1;o<l;o+=n)r.push(o);return r},ya}function ud(){if(Oa)return Da;return Oa=1,Da=function(e){return(e.split(".")[1]||"").length}}function dd(){if(Ia)return ka;Ia=1;var e=Bu();return ka=function(t,n){if(t.repeat)return t.repeat(n);var o=isNaN(n)?[]:new Array(e(n));return o.join(t)+(o.length>0?t:"")}}function pd(){if(Pa)return Ma;return Pa=1,Ma=function(e,t){return e.substring(0,t)+"."+e.substring(t,e.length)}}function md(){if(Va)return Ra;Va=1;var e=dd(),t=pd();return Ra=function(n){var o=""+n,l=o.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(l){var r=n<0?"-":"",a=l[3]||"",i=l[5]||"",s=l[6]||"",c=l[7],u=l[8],d=u-s.length,p=u-a.length,m=u-i.length;return"+"===c?a?r+a+e("0",u):d>0?r+i+s+e("0",d):r+i+t(s,u):a?p>0?r+"0."+e("0",Math.abs(p))+a:r+t(a,p):m>0?r+"0."+e("0",Math.abs(m))+i+s:r+t(i,m)+s}return o}}function fd(){if($a)return Aa;$a=1;var e=ud(),t=md();return Aa=function(n,o){var l=t(n),r=t(o);return parseInt(l.replace(".",""))*parseInt(r.replace(".",""))/Math.pow(10,e(l)+e(r))}}function gd(){if(Na)return Fa;Na=1;var e=fd(),t=bu(),n=md();return Fa=function(o){return function(l,r){var a=t(l),i=a;if(a){r|=0;var s=n(a).split("."),c=s[0],u=s[1]||"",d=u.substring(0,r+1),p=c+(d?"."+d:"");if(r>=u.length)return t(p);if(p=a,r>0){var m=Math.pow(10,r);i=Math[o](e(p,m))/m}else i=Math[o](p)}return i}}}function hd(){if(_a)return La;_a=1;var e=gd()("round");return La=e}function vd(){if(ja)return Ba;ja=1;var e=gd()("ceil");return Ba=e}function bd(){if(Wa)return za;Wa=1;var e=gd()("floor");return za=e}function xd(){if(qa)return Ha;qa=1;var e=cu(),t=Nu(),n=md();return Ha=function(o){return t(o)?n(o):""+(e(o)?"":o)}}function yd(){if(Ka)return Ua;Ka=1;var e=hd(),t=xd(),n=dd(),o=pd();return Ua=function(l,r){var a=t(e(l,r|=0)).split("."),i=a[0],s=a[1]||"",c=r-s.length;return r?c>0?i+"."+s+n("0",c):i+o(s,Math.abs(c)):i}}function wd(){if(Ja)return Qa;Ja=1;var e=fd(),t=bu();return Qa=function(n,o){var l=t(n),r=t(o);return e(l,r)}}function Cd(){if(ti)return ei;ti=1;var e=ud(),t=md(),n=wd();return ei=function(o,l){var r=t(o),a=t(l),i=Math.pow(10,Math.max(e(r),e(a)));return(n(o,i)+n(l,i))/i}}function Sd(){if(ii)return ai;ii=1;var e=ud(),t=md(),n=wd();return ai=function(o,l){var r=t(o),a=t(l),i=e(r),s=e(a)-i,c=s<0,u=Math.pow(10,c?Math.abs(s):s);return n(r.replace(".","")/a.replace(".",""),c?1/u:u)}}function Ed(){if(di)return ui;di=1;var e=Cd(),t=Wc(),n=Lc(),o=jc(),l=pu();return ui=function(r,a,i){var s=0;return o(r&&r.length>2&&n(r)?r.sort():r,a?t(a)?function(){s=e(s,a.apply(i,arguments))}:function(t){s=e(s,l(t,a))}:function(t){s=e(s,t)}),s},ui}function Td(){if(gi)return fi;gi=1;return fi="first"}function Dd(){if(vi)return hi;vi=1;return hi="last"}function Od(){if(xi)return bi;return xi=1,bi=function(e){return e.getFullYear()}}function kd(){if(wi)return yi;wi=1;return yi=864e5}function Id(){if(Si)return Ci;return Si=1,Ci=function(e){return e.getMonth()}}function Md(){if(Ti)return Ei;Ti=1;var e=_u(),t=ju();return Ei=function(n){return e(n)&&!isNaN(t(n))}}function Pd(){if(Oi)return Di;Oi=1;var e=Td(),t=Dd(),n=kd(),o=Od(),l=ju(),r=Id(),a=zu(),i=Md(),s=Nu();return Di=function c(u,d,p){var m=d&&!isNaN(d)?d:0;if(u=a(u),i(u)){if(p===e)return new Date(o(u),r(u)+m,1);if(p===t)return new Date(l(c(u,m+1,e))-1);if(s(p)&&u.setDate(p),m){var f=u.getDate();if(u.setMonth(r(u)+m),f!==u.getDate())return u.setDate(1),new Date(l(u)-n)}}return u},Di}function Rd(){if(Ii)return ki;Ii=1;var e=Td(),t=Dd(),n=Od(),o=Pd(),l=zu(),r=Md();return ki=function(a,i,s){var c;if(a=l(a),r(a)&&(i&&(c=i&&!isNaN(i)?i:0,a.setFullYear(n(a)+c)),s||!isNaN(s))){if(s===e)return new Date(n(a),0,1);if(s===t)return a.setMonth(11),o(a,0,t);a.setMonth(s)}return a}}function Vd(){if(Vi)return Ri;Vi=1;var e=Td(),t=Dd(),n=Bu(),o=Od(),l=Id(),r=ju(),a=zu(),i=Md();return Ri=function s(c,u,d){if(c=a(c),i(c)&&!isNaN(u)){if(c.setDate(c.getDate()+n(u)),d===e)return new Date(o(c),l(c),c.getDate());if(d===t)return new Date(r(s(c,1,e))-1)}return c},Ri}function Ad(){if($i)return Ai;return $i=1,Ai=function(e){return e.toUpperCase()}}function $d(){if(Ni)return Fi;Ni=1;var e=kd();return Fi=7*e}function Fd(){if(_i)return Li;_i=1;var e=Ac(),t=kd(),n=$d(),o=ju(),l=zu(),r=Md(),a=Nu();return Li=function(i,s,c,u){if(i=l(i),r(i)){var d=a(c),p=a(u),m=o(i);if(d||p){var f=p?u:e.firstDayOfWeek,g=i.getDay(),h=d?c:g;if(g!==h){var v=0;f>g?v=-(7-f+g):f<g&&(v=f-g),m+=h>f?((0===h?7:h)-f+v)*t:h<f?(7-f+h+v)*t:v*t}}return s&&!isNaN(s)&&(m+=s*n),new Date(m)}return i}}function Nd(){if(ji)return Bi;ji=1;var e=Ac(),t=kd(),n=$d(),o=Nu(),l=ou(),r=zu(),a=Md(),i=Fd(),s=cd(),c=Jc(),u=ju(),d=c(s(0,7),(function(e){return[(e+1)%7,(e+2)%7,(e+3)%7]}));function p(e,t){var n=new Date(e).getDay();return l(d[t],n)}return Bi=function(l,s){return function(c,d){var m=o(d)?d:e.firstDayOfWeek,f=r(c);if(a(f)){var g,h=i(f,0,m,m),v=l(h),b=u(v),x=u(h),y=x+6*t,w=new Date(y),C=i(v,0,m,m),S=u(C);if(x===S)return 1;if(s(h,w))for(g=u(l(w));g<y;g+=t)if(p(g,m))return 1;var E=S+6*t,T=new Date(y),D=1;if(s(C,T))for(D=0,g=b;g<E;g+=t)if(p(g,m)){D++;break}return Math.floor((x-S)/n)+D}return NaN}}}function Ld(){if(Wi)return zi;Wi=1;var e=Nd()((function(e){return new Date(e.getFullYear(),0,1)}),(function(e,t){return e.getFullYear()!==t.getFullYear()}));return zi=e}function _d(){if(Ki)return Ui;Ki=1;var e=ju(),t=function(){if(qi)return Hi;qi=1;var e=Od(),t=Id();return Hi=function(n){return new Date(e(n),t(n),n.getDate())}}();return Ui=function(n){return e(t(n))}}function Bd(){if(Yi)return Gi;Yi=1;var e=kd(),t=Td(),n=_d(),o=Rd(),l=zu(),r=Md();return Gi=function(a){return a=l(a),r(a)?Math.floor((n(a)-n(o(a,0,t)))/e)+1:NaN}}function jd(){if(Zi)return Xi;Zi=1;var e=xd(),t=su(),n=dd();return Xi=function(o,l,r){var a=e(o);return l|=0,r=t(r)?" ":""+r,a.padStart?a.padStart(l,r):l>a.length?((l-=a.length)>r.length&&(r+=n(r,l/r.length)),r.slice(0,l)+a):a}}function zd(){if(Ji)return Qi;Ji=1;var e=Ac(),t=Ad(),n=Od(),o=Id(),l=zu(),r=Ld(),a=Bd(),i=Kc(),s=Md(),c=Wc(),u=jd();function d(e,t,n,o){var l=t[n];return l?c(l)?l(o,n,e):l[o]:o}var p=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;return Qi=function(c,m,f){if(c){if(c=l(c),s(c)){var g=m||e.parseDateFormat||e.formatString,h=c.getHours(),v=h<12?"am":"pm",b=i({},e.parseDateRules||e.formatStringMatchs,f?f.formats:null),x=function(e,t){return(""+n(c)).substr(4-t)},y=function(e,t){return u(o(c)+1,t,"0")},w=function(e,t){return u(c.getDate(),t,"0")},C=function(e,t){return u(h,t,"0")},S=function(e,t){return u(h<=12?h:h-12,t,"0")},E=function(e,t){return u(c.getMinutes(),t,"0")},T=function(e,t){return u(c.getSeconds(),t,"0")},D=function(e,t){return u(c.getMilliseconds(),t,"0")},O=function(e,t){var n=c.getTimezoneOffset()/60*-1;return d(c,b,e,(n>=0?"+":"-")+u(n,2,"0")+(1===t?":":"")+"00")},k=function(t,n){return u(d(c,b,t,r(c,(f?f.firstDay:null)||e.firstDayOfWeek)),n,"0")},I=function(e,t){return u(d(c,b,e,a(c)),t,"0")},M={yyyy:x,yy:x,MM:y,M:y,dd:w,d:w,HH:C,H:C,hh:S,h:S,mm:E,m:E,ss:T,s:T,SSS:D,S:D,ZZ:O,Z:O,WW:k,W:k,DDD:I,D:I,a:function(e){return d(c,b,e,v)},A:function(e){return d(c,b,e,t(v))},e:function(e){return d(c,b,e,c.getDay())},E:function(e){return d(c,b,e,c.getDay())},q:function(e){return d(c,b,e,Math.floor((o(c)+3)/3))}};return g.replace(p,(function(e,t){return t||(M[e]?M[e](e,e.length):e)}))}return"Invalid Date"}return""}}function Wd(){if(ts)return es;ts=1;var e=ju(),t=Wu(),n=Date.now||function(){return e(t())};return es=n}function Hd(){if(xs)return bs;xs=1;var e=xd();return bs=function(t){return t&&t.trimRight?t.trimRight():e(t).replace(/[\s\uFEFF\xA0]+$/g,"")}}function qd(){if(ws)return ys;ws=1;var e=xd();return ys=function(t){return t&&t.trimLeft?t.trimLeft():e(t).replace(/^[\s\uFEFF\xA0]+/g,"")}}function Ud(){if(Ss)return Cs;Ss=1;var e=Hd(),t=qd();return Cs=function(n){return n&&n.trim?n.trim():e(t(n))}}function Kd(){if(Ts)return Es;Ts=1;return Es={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}}function Gd(){if(Os)return Ds;Os=1;var e=xd(),t=qc();return Ds=function(n){var o=new RegExp("(?:"+t(n).join("|")+")","g");return function(t){return e(t).replace(o,(function(e){return n[e]}))}}}function Yd(){if(Vs)return Rs;return Vs=1,Rs=function(e,t,n){return e.substring(t,n)}}function Xd(){if($s)return As;return $s=1,As=function(e){return e.toLowerCase()}}function Zd(){if(qs)return Hs;qs=1;var e=Ac(),t=xd(),n=Ud(),o=pu();return Hs=function(l,r,a){return t(l).replace((a||e).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,(function(e,t){return o(r,n(t))}))}}function Qd(){if(dc)return uc;dc=1;var e=decodeURIComponent;return uc=e}function Jd(){if(mc)return pc;mc=1;var e=Qd(),t=$c(),n=Lu();return pc=function(o){var l,r={};return o&&n(o)&&t(o.split("&"),(function(t){l=t.split("="),r[e(l[0])]=e(l[1]||"")})),r}}function ep(){if(gc)return fc;gc=1;var e=encodeURIComponent;return fc=e}function tp(){if(vc)return hc;vc=1;var e=ep(),t=jc(),n=Lc(),o=Xc(),l=su(),r=Qc();function a(l,i,s){var c,u=[];return t(l,(function(t,l){c=n(t),r(t)||c?u=u.concat(a(t,i+"["+l+"]",c)):u.push(e(i+"["+(s?"":l)+"]")+"="+e(o(t)?"":t))})),u}return hc=function(i){var s,c=[];return t(i,(function(t,i){l(t)||(s=n(t),r(t)||s?c=c.concat(a(t,i,s)):c.push(e(i)+"="+e(o(t)?"":t)))})),c.join("&").replace(/%20/g,"+")}}function np(){if(xc)return bc;xc=1;var e=iu(),t=typeof location===e?0:location;return bc=t}function op(){if(wc)return yc;wc=1;var e=np();return yc=function(){return e?e.origin||e.protocol+"//"+e.host:""}}function lp(){if(Sc)return Cc;Sc=1;var e=np(),t=Jd(),n=op();function o(e){return t(e.split("?")[1]||"")}return Cc=function(t){var l,r,a,i,s=""+t;return 0===s.indexOf("//")?s=(e?e.protocol:"")+s:0===s.indexOf("/")&&(s=n()+s),a=s.replace(/#.*/,"").match(/(\?.*)/),(i={href:s,hash:"",host:"",hostname:"",protocol:"",port:"",search:a&&a[1]&&a[1].length>1?a[1]:""}).path=s.replace(/^([a-z0-9.+-]*:)\/\//,(function(e,t){return i.protocol=t,""})).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,(function(e,t,n){return r=n||"",i.port=r.replace(":",""),i.hostname=t,i.host=t+r,"/"})).replace(/(#.*)/,(function(e,t){return i.hash=t.length>1?t:"",""})),l=i.hash.match(/#((.*)\?|(.*))/),i.pathname=i.path.replace(/(\?|#.*).*/,""),i.origin=i.protocol+"//"+i.host,i.hashKey=l&&(l[2]||l[1])||"",i.hashQuery=o(i.hash),i.searchQuery=o(i.search),i}}const rp=V(function(){if(Vc)return Rc;Vc=1;var e=function(){if(Yt)return Gt;Yt=1;var e=Ac(),t=$c(),n=jc(),o=Wc(),l=Kc(),r=function(){};return r.VERSION="3.6.0",r.mixin=function(){t(arguments,(function(e){n(e,(function(e,t){r[t]=o(e)?function(){var t=e.apply(r.$context,arguments);return r.$context=null,t}:e}))}))},r.setup=function(t){return l(e,t)},Gt=r}(),t=Kc(),n=Bc(),o=Yc(),l=function(){if(rn)return ln;rn=1;var e=jc(),t=Wc(),n=Zc();return ln=function(o,l,r){var a={};if(o){if(!l)return o;t(l)||(l=n(l)),e(o,(function(e,t){a[t]=l.call(r,e,t,o)}))}return a}}(),r=function(){if(un)return cn;un=1;var e=Lc(),t=Qc(),n=jc();function o(l,r){return t(l)&&t(r)||e(l)&&e(r)?(n(r,(function(e,t){l[t]=o(l[t],e)})),l):r}return cn=function(e){e||(e={});for(var t,n=arguments,l=n.length,r=1;r<l;r++)(t=n[r])&&o(e,t);return e},cn}(),a=Jc(),i=tu(),s=nu(),c=lu(),u=$c(),d=Gc(),p=ru(),m=function(){if(kn)return On;kn=1;var e=ru(),t=au();return On=function(){for(var n=arguments,o=[],l=0,r=n.length;l<r;l++)o=o.concat(t(n[l]));return e(o)},On}(),f=au(),g=function(){if(Hn)return Wn;Hn=1;var e=mu();return Wn=e}(),h=mu(),v=hu(),b=function(){if(Qn)return Zn;Qn=1;var e=hu();return Zn=function(t,n){var o=e(t);return arguments.length<=1?o[0]:(n<o.length&&(o.length=n||0),o)},Zn}(),x=xu(),y=function(){if(ao)return ro;ao=1;var e=jc();return ro=function(t,n,o){var l=[];if(t&&n){if(t.filter)return t.filter(n,o);e(t,(function(e,r){n.call(o,e,r,t)&&l.push(e)}))}return l}}(),w=function(){if(so)return io;so=1;var e=eu()("",0,2,!0);return io=e}(),C=ou(),S=function(){if(uo)return co;uo=1;var e=eu()("find",1,3,!0);return co=e}(),E=function(){if(mo)return po;mo=1;var e=Lc(),t=gu();return po=function(n,o,l){if(n){e(n)||(n=t(n));for(var r=n.length-1;r>=0;r--)if(o.call(l,n[r],r,n))return n[r]}}}(),T=function(){if(go)return fo;go=1;var e=qc();return fo=function(t,n,o){if(t){var l,r,a=0,i=o,s=arguments.length>2,c=e(t);if(t.length&&t.reduce)return r=function(){return n.apply(null,arguments)},s?t.reduce(r,i):t.reduce(r);for(s&&(a=1,i=t[c[0]]),l=c.length;a<l;a++)i=n.call(null,i,t[c[a]],a,t);return i}},fo}(),D=function(){if(vo)return ho;vo=1;var e=Lc();return ho=function(t,n,o,l){if(e(t)&&t.copyWithin)return t.copyWithin(n,o,l);var r,a,i=0|n,s=0|o,c=t.length,u=arguments.length>3?0|l:c;if(i<c&&(i=i>=0?i:c+i)>=0&&(s=s>=0?s:c+s)<(u=u>=0?u:c+u))for(r=0,a=t.slice(s,u);i<c&&!(a.length<=r);i++)t[i]=a[r++];return t},ho}(),O=function(){if(xo)return bo;xo=1;var e=Lc();return bo=function(t,n){var o,l=[],r=0|n||1;if(e(t))if(r>=0&&t.length>r)for(o=0;o<t.length;)l.push(t.slice(o,o+r)),o+=r;else l=t.length?[t]:t;return l}}(),k=function(){if(Io)return ko;Io=1;var e=Su();return ko=function(){return e(arguments)},ko}(),I=Su(),M=function(){if(Po)return Mo;Po=1;var e=gu(),t=jc();return Mo=function(n,o){var l={};return o=o||[],t(e(n),(function(e,t){l[e]=o[t]})),l}}(),P=Eu(),R=yu(),V=function(){if($o)return Ao;$o=1;var e=Jc(),t=Lc();return Ao=function(n,o){for(var l,r=arguments,a=[],i=[],s=2,c=r.length;s<c;s++)a.push(r[s]);if(t(o)){for(c=o.length-1,s=0;s<c;s++)i.push(o[s]);o=o[c]}return e(n,(function(e){if(i.length&&(e=function(e,t){for(var n=0,o=t.length;e&&n<o;)e=e[t[n++]];return o&&e?e:0}(e,i)),(l=e[o]||o)&&l.apply)return l.apply(e,a)}))},Ao}(),A=Mu(),$=Pu(),F=function(){if(Jo)return Qo;Jo=1;var e=Ru()((function e(t,n,o,l,r,a,i,s){var c,u,d,p,m,f;if(n)for(u=0,d=n.length;u<d;u++){if(c=n[u],p=r.concat([""+u]),m=a.concat([c]),o.call(l,c,u,n,p,t,m))return{index:u,item:c,path:p,items:n,parent:t,nodes:m};if(i&&c&&(f=e(c,c[i],o,l,p.concat([i]),m,i)))return f}}));return Qo=e}(),N=Vu(),L=function(){if(ol)return nl;ol=1;var e=Ru(),t=Jc(),n=e((function e(n,o,l,r,a,i,s,c){var u,d,p,m=c.mapChildren||s;return t(o,(function(t,f){return u=a.concat([""+f]),d=i.concat([t]),(p=l.call(r,t,f,o,u,n,d))&&t&&s&&t[s]&&(p[m]=e(t,t[s],l,r,u,d,s,c)),p}))}));return nl=n}(),_=function(){if(rl)return ll;rl=1;var e=Vu();return ll=function(t,n,o,l){var r=[];return t&&n&&e(t,(function(e,t,o,a,i,s){n.call(l,e,t,o,a,i,s)&&r.push(e)}),o),r}}(),B=Au(),j=$u(),z=Fu(),W=_c(),H=Lc(),q=Xc(),U=function(){if(gl)return fl;gl=1;var e=Nu();return fl=function(t){return e(t)&&isNaN(t)}}(),K=su(),G=Wc(),Y=Ou(),X=Lu(),Z=Qc(),Q=Hu(),J=_u(),ee=cu(),te=jc(),ne=function(){if(Vl)return Rl;Vl=1;var e=Lc(),t=_c();return Rl=function(n,o,l){if(n)if(e(n))for(var r=0,a=n.length;r<a&&!1!==o.call(l,n[r],r,n);r++);else for(var i in n)if(t(n,i)&&!1===o.call(l,n[i],i,n))break}}(),oe=function(){if($l)return Al;$l=1;var e=Lc(),t=_c();return Al=function(n,o,l){var r,a;if(n)if(e(n))for(r=n.length-1;r>=0&&!1!==o.call(l,n[r],r,n);r--);else for(r=(a=t(n)).length-1;r>=0&&!1!==o.call(l,n[a[r]],a[r],n);r--);}}(),le=function(){if(_l)return Ll;_l=1;var e=qu()("indexOf",$u());return Ll=e}(),re=Uu(),ae=qc(),ie=gu(),se=Uc(),ce=Ku(),ue=Du(),de=Iu(),pe=ku(),me=function(){if(ql)return Hl;ql=1;var e=Nu();return Hl=function(t){return e(t)&&isFinite(t)}}(),fe=function(){if(Yl)return Gl;Yl=1;var e=Lc(),t=Gu(),n=Xc();return Gl=function(o){return!(n(o)||isNaN(o)||e(o)||t(o))}}(),ge=Gu(),he=Yu(),ve=Nu(),be=Xu(),xe=Zu(),ye=or?nr:(or=1,nr=function(e){return!!e&&e.constructor===TypeError}),we=Qu(),Ce=Ju(),Se=function(){if(cr)return sr;cr=1;var e=Nc()("Arguments");return sr=e}(),Ee=function(){if(dr)return ur;dr=1;var e=Lu(),t=Nu();return ur=function(n){return!!(n&&e(n.nodeName)&&t(n.nodeType))}}(),Te=function(){if(gr)return fr;gr=1;var e=ed();return fr=function(t){return!(!t||!e||9!==t.nodeType)}}(),De=function(){if(xr)return br;xr=1;var e=td();return br=function(t){return!(!e||!t||t!==t.window)}}(),Oe=function(){if(wr)return yr;wr=1;var e=iu(),t=typeof FormData!==e;return yr=function(e){return t&&e instanceof FormData}}(),ke=function(){if(Sr)return Cr;Sr=1;var e=iu(),t=typeof Map!==e;return Cr=function(e){return t&&e instanceof Map}}(),Ie=function(){if(Tr)return Er;Tr=1;var e=iu(),t=typeof WeakMap!==e;return Er=function(e){return t&&e instanceof WeakMap}}(),Me=function(){if(Or)return Dr;Or=1;var e=iu(),t=typeof Set!==e;return Dr=function(e){return t&&e instanceof Set}}(),Pe=function(){if(Ir)return kr;Ir=1;var e=iu(),t=typeof WeakSet!==e;return kr=function(e){return t&&e instanceof WeakSet}}(),Re=function(){if(jr)return Br;jr=1;var e=qc(),t=od(),n=ad(),o=tu(),l=lu();return Br=function(r,a){var i=e(r),s=e(a);return!s.length||(l(i,s)?o(s,(function(e){return t(i,(function(t){return t===e&&n(r[t],a[e])}))>-1})):n(r,a))}}(),Ve=ad(),Ae=function(){if(Wr)return zr;Wr=1;var e=ld(),t=rd(),n=Wc(),o=su();return zr=function(l,r,a){return n(a)?e(l,r,(function(e,n,l,r,i){var s=a(e,n,l,r,i);return o(s)?t(e,n):!!s}),a):e(l,r,t)}}(),$e=function(){if(qr)return Hr;qr=1;var e=Ju(),t=_u(),n=Lc(),o=Xu(),l=Zu(),r=Xc();return Hr=function(a){return r(a)?"null":e(a)?"symbol":t(a)?"date":n(a)?"array":o(a)?"regexp":l(a)?"error":typeof a}}(),Fe=function(){if(Kr)return Ur;Kr=1;var e=0;return Ur=function(t){return[t,++e].join("")}}(),Ne=od(),Le=function(){if(Yr)return Gr;Yr=1;var e=nd()((function(e,t,n){for(var o=e.length-1;o>=0;o--)if(t.call(n,e[o],o,e))return o;return-1}));return Gr=e}(),_e=function(){if(Zr)return Xr;Zr=1;var e=Qc(),t=Lu();return Xr=function(n){if(e(n))return n;if(t(n))try{return JSON.parse(n)}catch(o){}return{}}}(),Be=function(){if(Jr)return Qr;Jr=1;var e=cu();return Qr=function(t){return e(t)?"":JSON.stringify(t)}}(),je=function(){if(ta)return ea;ta=1;var e=Hc()("entries",2);return ea=e}(),ze=function(){if(ra)return la;ra=1;var e=id()(1,0);return la=e}(),We=function(){if(ia)return aa;ia=1;var e=id()(0,1);return aa=e}(),He=function(){if(ca)return sa;ca=1;var e=gu();return sa=function(t){return e(t)[0]}}(),qe=function(){if(da)return ua;da=1;var e=gu();return ua=function(t){var n=e(t);return n[n.length-1]}}(),Ue=function(){if(ma)return pa;ma=1;var e=uu(),t=du(),n=_c();return pa=function(o,l){if(o){if(n(o,l))return!0;var r,a,i,s,c,u,d=t(l),p=0,m=d.length;for(c=o;p<m&&(u=!1,(s=(r=d[p])?r.match(e):"")?(a=s[1],i=s[2],a?c[a]&&n(c[a],i)&&(u=!0,c=c[a][i]):n(c,i)&&(u=!0,c=c[i])):n(c,r)&&(u=!0,c=c[r]),u);p++)if(p===m-1)return!0}return!1}}(),Ke=pu(),Ge=function(){if(ga)return fa;ga=1;var e=Bu(),t=du(),n=_c(),o=/(.+)?\[(\d+)\]$/;function l(t,n,l,r,a){if(!t[n]){var i,s,c=n?n.match(o):null;if(l)s=a;else{var u=r?r.match(o):null;s=u&&!u[1]?new Array(e(u[2])+1):{}}return c?c[1]?(i=e(c[2]),t[c[1]]?l?t[c[1]][i]=s:t[c[1]][i]?s=t[c[1]][i]:t[c[1]][i]=s:(t[c[1]]=new Array(i+1),t[c[1]][i]=s)):t[c[2]]=s:t[n]=s,s}return l&&(t[n]=a),t[n]}function r(e){return"__proto__"===e||"constructor"===e||"prototype"===e}return fa=function(e,o,a){if(e)if(!e[o]&&!n(e,o)||r(o)){for(var i=e,s=t(o),c=s.length,u=0;u<c;u++)if(!r(s[u])){var d=u===c-1;i=l(i,s[u],d,d?null:s[u+1],a)}}else e[o]=a;return e}}(),Ye=sd(),Xe=function(){if(xa)return ba;xa=1;var e=sd(),t=Bc();return ba=function(n,o,l){var r=e(n,o,l||this);return t(r,(function(e,t){r[t]=e.length})),r}}(),Ze=cd(),Qe=function(){if(Sa)return Ca;Sa=1;var e=qc(),t=xu(),n=ou(),o=$c(),l=Kc();return Ca=function(r,a){if(r&&a){var i=l.apply(this,[{}].concat(t(arguments,1))),s=e(i);o(e(r),(function(e){n(s,e)&&(r[e]=i[e])}))}return r},Ca}(),Je=fu(),et=Cu(),tt=function(){if(Ta)return Ea;Ta=1;var e=wu()((function(e,t){return e>t}));return Ea=e}(),nt=function(){if(Ya)return Ga;Ya=1;var e=Ac(),t=hd(),n=vd(),o=bd(),l=Nu(),r=xd(),a=yd(),i=md(),s=Kc();return Ga=function(c,u){var d,p,m,f,g,h=s({},e.commafyOptions,u),v=h.digits;return l(c)?(d=(h.ceil?n:h.floor?o:t)(c,v),f=(p=i(v?a(d,v):d).split("."))[0],g=p[1],(m=f&&d<0)&&(f=f.substring(1,f.length))):f=(p=(d=r(c).replace(/,/g,""))?[d]:[])[0],p.length?(m?"-":"")+f.replace(new RegExp("(?=(?!(\\b))(.{"+(h.spaceNumber||3)+"})+$)","g"),h.separator||",")+(g?"."+g:""):d}}(),ot=hd(),lt=vd(),rt=bd(),at=yd(),it=function(){if(Za)return Xa;Za=1;var e=Bu(),t=vu()(e);return Xa=t}(),st=bu(),ct=md(),ut=function(){if(oi)return ni;oi=1;var e=Cd(),t=bu();return ni=function(n,o){return e(t(n),t(o))}}(),dt=function(){if(ri)return li;ri=1;var e=ud(),t=md(),n=bu(),o=yd();return li=function(l,r){var a=n(l),i=n(r),s=t(a),c=t(i),u=e(s),d=e(c),p=Math.pow(10,Math.max(u,d));return parseFloat(o((a*p-i*p)/p,u>=d?u:d))}}(),pt=wd(),mt=function(){if(ci)return si;ci=1;var e=Sd(),t=bu();return si=function(n,o){return e(t(n),t(o))}}(),ft=Ed(),gt=function(){if(mi)return pi;mi=1;var e=Sd(),t=Ku(),n=Ed();return pi=function(o,l,r){return e(n(o,l,r),t(o))}}(),ht=Rd(),vt=function(){if(Pi)return Mi;Pi=1;var e=Pd(),t=zu(),n=Md();return Mi=function(o,l,r){var a,i=l&&!isNaN(l)?3*l:0;return o=t(o),n(o)?(a=3*(function(e){var t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}(o)-1),o.setMonth(a),e(o,i,r)):o}}(),bt=Pd(),xt=Vd(),yt=zu(),wt=zd(),Ct=Wd(),St=function(){if(os)return ns;os=1;var e=ju(),t=Wd(),n=zu(),o=_u();return ns=function(l,r){if(l){var a=n(l,r);return o(a)?e(a):a}return t()}}(),Et=Md(),Tt=function(){if(rs)return ls;rs=1;var e=zd();return ls=function(t,n,o){return!(!t||!n)&&"Invalid Date"!==(t=e(t,o))&&t===e(n,o)}}(),Dt=Fd(),Ot=Bd(),kt=Ld(),It=function(){if(is)return as;is=1;var e=Nd()((function(e){return new Date(e.getFullYear(),e.getMonth(),1)}),(function(e,t){return e.getMonth()!==t.getMonth()}));return as=e}(),Mt=function(){if(cs)return ss;cs=1;var e=Rd(),t=zu(),n=Md(),o=Hu();return ss=function(l,r){return l=t(l),n(l)?o(e(l,r))?366:365:NaN}}(),Pt=function(){if(ds)return us;ds=1;var e=kd(),t=Td(),n=Dd(),o=ju(),l=Pd(),r=zu(),a=Md();return us=function(i,s){return i=r(i),a(i)?Math.floor((o(l(i,s,n))-o(l(i,s,t)))/e)+1:NaN}}(),Rt=function(){if(ms)return ps;ms=1;var e=ju(),t=Wu(),n=zu(),o=Md(),l=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]];return ps=function(r,a){var i,s,c,u,d,p,m={done:!1,time:0};if(r=n(r),a=a?n(a):t(),o(r)&&o(a)&&(i=e(r))<(s=e(a)))for(u=m.time=s-i,m.done=!0,p=0,d=l.length;p<d;p++)u>=(c=l[p])[1]?p===d-1?m[c[0]]=u||0:(m[c[0]]=Math.floor(u/c[1]),u-=m[c[0]]*c[1]):m[c[0]]=0;return m}}(),Vt=function(){if(gs)return fs;gs=1;var e=xd(),t=su(),n=dd();return fs=function(o,l,r){var a=e(o);return l|=0,r=t(r)?" ":""+r,a.padEnd?a.padEnd(l,r):l>a.length?((l-=a.length)>r.length&&(r+=n(r,l/r.length)),a+r.slice(0,l)):a}}(),At=jd(),$t=function(){if(vs)return hs;vs=1;var e=xd(),t=dd();return hs=function(n,o){return t(e(n),o)}}(),Ft=Ud(),Nt=Hd(),Lt=qd(),_t=function(){if(Is)return ks;Is=1;var e=Kd(),t=Gd()(e);return ks=t}(),Bt=function(){if(Ps)return Ms;Ps=1;var e=Kd(),t=Gd(),n=jc(),o={};n(e,(function(t,n){o[e[n]]=n}));var l=t(o);return Ms=l}(),jt=function(){if(Ns)return Fs;Ns=1;var e=xd(),t=Yd(),n=Ad(),o=Xd(),l={};return Fs=function(r){if(r=e(r),l[r])return l[r];var a=r.length,i=r.replace(/([-]+)/g,(function(e,t,n){return n&&n+t.length<a?"-":""}));return a=i.length,i=i.replace(/([A-Z]+)/g,(function(e,l,r){var i=l.length;return l=o(l),r?i>2&&r+i<a?n(t(l,0,1))+t(l,1,i-1)+n(t(l,i-1,i)):n(t(l,0,1))+t(l,1,i):i>1&&r+i<a?t(l,0,i-1)+n(t(l,i-1,i)):l})).replace(/(-[a-zA-Z])/g,(function(e,o){return n(t(o,1,o.length))})),l[r]=i,i}}(),zt=function(){if(_s)return Ls;_s=1;var e=xd(),t=Yd(),n=Xd(),o={};return Ls=function(l){if(l=e(l),o[l])return o[l];if(/^[A-Z]+$/.test(l))return n(l);var r=l.replace(/^([a-z])([A-Z]+)([a-z]+)$/,(function(e,o,l,r){var a=l.length;return a>1?o+"-"+n(t(l,0,a-1))+"-"+n(t(l,a-1,a))+r:n(o+"-"+l+r)})).replace(/^([A-Z]+)([a-z]+)?$/,(function(e,o,l){var r=o.length;return n(t(o,0,r-1)+"-"+t(o,r-1,r)+(l||""))})).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,(function(e,o,l,r,a){var i=l.length;return i>1&&(o&&(o+="-"),r)?(o||"")+n(t(l,0,i-1))+"-"+n(t(l,i-1,i))+r:(o||"")+(a?"-":"")+n(l)+(r||"")}));return r=r.replace(/([-]+)/g,(function(e,t,n){return n&&n+t.length<r.length?"-":""})),o[l]=r,r}}(),Wt=function(){if(js)return Bs;js=1;var e=xd();return Bs=function(t,n,o){var l=e(t);return 0===(1===arguments.length?l:l.substring(o)).indexOf(n)},Bs}(),Ht=function(){if(Ws)return zs;Ws=1;var e=xd();return zs=function(t,n,o){var l=e(t),r=arguments.length;return r>1&&(r>2?l.substring(0,o).indexOf(n)===o-1:l.indexOf(n)===l.length-1)},zs}(),qt=Zd(),Ut=function(){if(Ks)return Us;Ks=1;var e=Zd();return Us=function(t,n){return e(t,n,{tmplRE:/\{([.\w[\]\s]+)\}/g})}}(),Kt=xd(),Xt=Ys?Gs:(Ys=1,Gs=function(){}),Zt=Zc(),Qt=function(){if(Zs)return Xs;Zs=1;var e=xu();return Xs=function(t,n){var o=e(arguments,2);return function(){return t.apply(n,e(arguments).concat(o))}},Xs}(),Jt=function(){if(Js)return Qs;Js=1;var e=xu();return Qs=function(t,n){var o=!1,l=null,r=e(arguments,2);return function(){return o||(l=t.apply(n,e(arguments).concat(r)),o=!0),l}},Qs}(),en=function(){if(tc)return ec;tc=1;var e=xu();return ec=function(t,n,o){var l=0,r=[];return function(){var a=arguments;++l<=t&&r.push(a[0]),l>=t&&n.apply(o,[r].concat(e(a)))}},ec}(),tn=function(){if(oc)return nc;oc=1;var e=xu();return nc=function(t,n,o){var l=0,r=[];return o=o||this,function(){var a=arguments;++l<t&&(r.push(a[0]),n.apply(o,[r].concat(e(a))))}},nc}(),nn=(rc||(rc=1,lc=function(e,t,n){var o=null,l=null,r=n||{},a=!1,i=null,s=!("leading"in r)||r.leading,c="trailing"in r&&r.trailing,u=function(){o=null,l=null},d=function(){a=!0,e.apply(l,o),i=setTimeout(p,t),u()},p=function(){i=null,a||!0!==c||d()},m=function(){o=arguments,l=this,a=!1,null===i&&(!0===s?d():!0===c&&(i=setTimeout(p,t)))};return m.cancel=function(){var e=null!==i;return e&&clearTimeout(i),u(),i=null,a=!1,e},m}),lc),on=(ic||(ic=1,ac=function(e,t,n){var o=null,l=null,r=n||{},a=!1,i=null,s="boolean"==typeof n,c="leading"in r?r.leading:s,u="trailing"in r?r.trailing:!s,d=function(){o=null,l=null},p=function(){a=!0,e.apply(l,o),d()},m=function(){!0===c&&(i=null),a||!0!==u||p()},f=function(){a=!1,o=arguments,l=this,null===i?!0===c&&p():clearTimeout(i),i=setTimeout(m,t)};return f.cancel=function(){var e=null!==i;return e&&clearTimeout(i),d(),i=null,a=!1,e},f}),ac),an=function(){if(cc)return sc;cc=1;var e=xu();return sc=function(t,n){var o=e(arguments,2),l=this;return setTimeout((function(){t.apply(l,o)}),n)},sc}(),sn=Jd(),dn=tp(),pn=lp(),mn=function(){if(Tc)return Ec;Tc=1;var e=np(),t=op(),n=Uu();return Ec=function(){if(e){var o=e.pathname,l=n(o,"/")+1;return t()+(l===o.length?o:o.substring(0,l))}return""}}(),fn=function(){if(Oc)return Dc;Oc=1;var e=np(),t=lp();return Dc=function(){return e?t(e.href):{}}}(),gn=function(){if(Ic)return kc;Ic=1;var e=Ac(),t=ed(),n=Qd(),o=ep(),l=Lc(),r=Ou(),a=_u(),i=su(),s=ou(),c=qc(),u=Kc(),d=$c(),p=Wu(),m=ju(),f=Rd(),g=Pd(),h=Vd();function v(e,t){var n=parseFloat(t),o=p(),l=m(o);switch(e){case"y":return m(f(o,n));case"M":return m(g(o,n));case"d":return m(h(o,n));case"h":case"H":return l+60*n*60*1e3;case"m":return l+60*n*1e3;case"s":return l+1e3*n}return l}function b(e){return(a(e)?e:new Date(e)).toUTCString()}function x(s,c,p){if(t){var m,f,g,h,x,y,w=[],C=arguments;return l(s)?w=s:C.length>1?w=[u({name:s,value:c},p)]:r(s)&&(w=[s]),w.length>0?(d(w,(function(n){m=u({},e.cookies,n),g=[],m.name&&(f=m.expires,g.push(o(m.name)+"="+o(r(m.value)?JSON.stringify(m.value):m.value)),f&&(f=isNaN(f)?f.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,(function(e,t,n){return b(v(n,t))})):/^[0-9]{11,13}$/.test(f)||a(f)?b(f):b(v("d",f)),m.expires=f),d(["expires","path","domain","secure"],(function(e){i(m[e])||g.push(m[e]&&"secure"===e?e:e+"="+m[e])}))),t.cookie=g.join("; ")})),!0):(h={},(x=t.cookie)&&d(x.split("; "),(function(e){y=e.indexOf("="),h[n(e.substring(0,y))]=n(e.substring(y+1)||"")})),1===C.length?h[s]:h)}return!1}function y(e){return x(e)}function w(e,t,n){return x(e,t,n),x}function C(t,n){x(t,"",u({expires:-1},e.cookies,n))}function S(){return c(x())}return u(x,{has:function(e){return s(S(),e)},set:w,setItem:w,get:y,getItem:y,remove:C,removeItem:C,keys:S,getJSON:function(){return x()}}),kc=x}(),hn=function(){if(Pc)return Mc;Pc=1;var e=iu(),t=ed(),n=td(),o=Kc(),l=$c();function r(e){try{var t="__xe_t";return e.setItem(t,1),e.removeItem(t),!0}catch(n){return!1}}function a(e){return navigator.userAgent.indexOf(e)>-1}return Mc=function(){var i,s,c,u=!1,d=!1,p=!1,m={isNode:!1,isMobile:u,isPC:!1,isDoc:!!t};if(n||typeof process===e){c=a("Edge"),s=a("Chrome"),u=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),m.isDoc&&(i=t.body||t.documentElement,l(["webkit","khtml","moz","ms","o"],(function(e){m["-"+e]=!!i[e+"MatchesSelector"]})));try{d=r(n.localStorage)}catch(f){}try{p=r(n.sessionStorage)}catch(f){}o(m,{edge:c,firefox:a("Firefox"),msie:!c&&m["-ms"],safari:!s&&!c&&a("Safari"),isMobile:u,isPC:!u,isLocalStorage:d,isSessionStorage:p})}else m.isNode=!0;return m}}();return t(e,{assign:t,objectEach:n,lastObjectEach:o,objectMap:l,merge:r,uniq:p,union:m,sortBy:g,orderBy:h,shuffle:v,sample:b,some:i,every:s,slice:x,filter:y,find:S,findLast:E,findKey:w,includes:C,arrayIndexOf:j,arrayLastIndexOf:z,map:a,reduce:T,copyWithin:D,chunk:O,zip:k,unzip:I,zipObject:M,flatten:P,toArray:f,includeArrays:c,pluck:R,invoke:V,arrayEach:u,lastArrayEach:d,toArrayTree:A,toTreeArray:$,findTree:F,eachTree:N,mapTree:L,filterTree:_,searchTree:B,hasOwnProp:W,eqNull:ee,isNaN:U,isFinite:me,isUndefined:K,isArray:H,isFloat:fe,isInteger:ge,isFunction:G,isBoolean:he,isString:X,isNumber:ve,isRegExp:be,isObject:Y,isPlainObject:Z,isDate:J,isError:xe,isTypeError:ye,isEmpty:we,isNull:q,isSymbol:Ce,isArguments:Se,isElement:Ee,isDocument:Te,isWindow:De,isFormData:Oe,isMap:ke,isWeakMap:Ie,isSet:Me,isWeakSet:Pe,isLeapYear:Q,isMatch:Re,isEqual:Ve,isEqualWith:Ae,getType:$e,uniqueId:Fe,getSize:ce,indexOf:le,lastIndexOf:re,findIndexOf:Ne,findLastIndexOf:Le,toStringJSON:_e,toJSONString:Be,keys:ae,values:ie,entries:je,pick:ze,omit:We,first:He,last:qe,each:te,forOf:ne,lastForOf:oe,lastEach:ue,has:Ue,get:Ke,set:Ge,groupBy:Ye,countBy:Xe,clone:se,clear:pe,remove:de,range:Ze,destructuring:Qe,random:Je,min:tt,max:et,commafy:nt,round:ot,ceil:lt,floor:rt,toFixed:at,toNumber:st,toNumberString:ct,toInteger:it,add:ut,subtract:dt,multiply:pt,divide:mt,sum:ft,mean:gt,now:Ct,timestamp:St,isValidDate:Et,isDateSame:Tt,toStringDate:yt,toDateString:wt,getWhatYear:ht,getWhatQuarter:vt,getWhatMonth:bt,getWhatWeek:Dt,getWhatDay:xt,getYearDay:Ot,getYearWeek:kt,getMonthWeek:It,getDayOfYear:Mt,getDayOfMonth:Pt,getDateDiff:Rt,trim:Ft,trimLeft:Lt,trimRight:Nt,escape:_t,unescape:Bt,camelCase:jt,kebabCase:zt,repeat:$t,padStart:At,padEnd:Vt,startsWith:Wt,endsWith:Ht,template:qt,toFormatString:Ut,toString:Kt,toValueString:Kt,noop:Xt,property:Zt,bind:Qt,once:Jt,after:en,before:tn,throttle:nn,debounce:on,delay:an,unserialize:sn,serialize:dn,parseUrl:pn,getBaseURL:mn,locat:fn,browse:hn,cookie:gn}),Rc=e}());var ap=null,ip=null,sp=null,cp="z-index-manage",up=null,dp="z-index-style",pp={m:1e3,s:1e3};function mp(){return ap||"undefined"!=typeof document&&(ap=document),ap}function fp(){return ap&&!ip&&(ip=ap.body||ap.getElementsByTagName("body")[0]),ip}function gp(){var e=function(){if(!up){var e=mp();e&&((up=e.getElementById(dp))||((up=e.createElement("style")).id=dp,e.getElementsByTagName("head")[0].appendChild(up)))}return up}();if(e){var t="--dom-",n="-z-index";e.innerHTML=":root{"+t+"main"+n+":"+yp()+";"+t+"sub"+n+":"+Ep()+"}"}}function hp(){if(!sp){var e=mp();if(e&&!(sp=e.getElementById(cp))){var t=fp();t&&((sp=e.createElement("div")).id=cp,sp.style.display="none",t.appendChild(sp),bp(pp.m),Cp(pp.s))}}return sp}function vp(e){return function(t){if(t){t=Number(t),pp[e]=t;var n=hp();n&&(n.dataset?n.dataset[e]=t+"":n.setAttribute("data-"+e,t+""))}return gp(),pp[e]}}var bp=vp("m");function xp(e,t){return function(n){var o,l=hp();if(l){var r=l.dataset?l.dataset[e]:l.getAttribute("data-"+e);r&&(o=Number(r))}return o||(o=pp[e]),n?Number(n)<o?t():n:o}}var yp=xp("m",wp);function wp(){return bp(yp()+1)}var Cp=vp("s"),Sp=xp("s",Tp);function Ep(){return yp()+Sp()}function Tp(){return Cp(Sp()+1),Ep()}var Dp={setCurrent:bp,getCurrent:yp,getNext:wp,setSubCurrent:Cp,getSubCurrent:Ep,getSubNext:Tp,getMax:function(){var e=0;if(mp()){var t=fp();if(t)for(var n=t.getElementsByTagName("*"),o=0;o<n.length;o++){var l=n[o];if(l&&l.style&&1===l.nodeType){var r=l.style.zIndex;r&&/^\d+$/.test(r)&&(e=Math.max(e,Number(r)))}}}return e}};gp();const Op={size:"",version:1,zIndex:999,resizeInterval:500},kp={theme:""};function Ip(e){const t=e&&"default"!==e?e:"light";if(kp.theme=t,"undefined"!=typeof document){const e=document.documentElement;e&&e.setAttribute("data-vxe-ui-theme",t)}return xt}function Mp(){return kp.theme}function Pp(e){return e&&(e.zIndex&&Dp.setCurrent(e.zIndex),e.theme&&Ip(e.theme),rp.merge(Op,e)),xt}function Rp(e,t){return arguments.length?rp.get(Op,e,t):Op}const Vp={},Ap={};function $p(e){return e&&Object.assign(Ap,e),xt}function Fp(e){return arguments.length?rp.get(Ap,e):Ap}const Np={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},Lp=rp.browse(),_p={" ":"Spacebar",Apps:Np.CONTEXT_MENU,Del:Np.DELETE,Up:Np.ARROW_UP,Down:Np.ARROW_DOWN,Left:Np.ARROW_LEFT,Right:Np.ARROW_RIGHT},Bp=Lp.firefox?"DOMMouseScroll":"mousewheel",jp=[];function zp(e){const t=e.type===Bp;jp.forEach((({type:n,cb:o})=>{e.cancelBubble||(n===e.type||t&&"mousewheel"===n)&&o(e)}))}class Wp{constructor(e,t,n){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=e,e&&(e.type&&(this.type=e.type),e.key&&(this.key=e.key),e.code&&(this.code=e.code)),Object.assign(this,t,n)}stopPropagation(){const e=this.$event;e&&e.stopPropagation()}preventDefault(){const e=this.$event;e&&e.preventDefault()}}const Hp=(e,t,n)=>new Wp(e,t,n),qp={on(e,t,n){jp.push({comp:e,type:t,cb:n})},off(e,t){rp.remove(jp,(n=>n.comp===e&&n.type===t))},hasKey(e,t){const{key:n}=e;return t=t.toLowerCase(),!!n&&(t===n.toLowerCase()||!(!_p[n]||_p[n].toLowerCase()!==t))}};let Up;Lp.isDoc&&(Lp.msie||(window.addEventListener("copy",zp,!1),window.addEventListener("cut",zp,!1),window.addEventListener("paste",zp,!1)),document.addEventListener("keydown",zp,!1),document.addEventListener("contextmenu",zp,!1),window.addEventListener("mousedown",zp,!1),window.addEventListener("blur",zp,!1),window.addEventListener("resize",zp,!1),window.addEventListener(Bp,rp.throttle(zp,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));const Kp=[];function Gp(){Kp.length&&(Kp.forEach((e=>{e.tarList.forEach((t=>{const{target:n,width:o,heighe:l}=t,r=n.clientWidth,a=n.clientHeight;(r&&o!==r||a&&l!==a)&&(t.width=r,t.heighe=a,setTimeout(e.callback))}))})),Yp())}function Yp(){clearTimeout(Up),Up=setTimeout(Gp,Op.resizeInterval||500)}class Xp{constructor(e){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=e}observe(e){if(e){const{tarList:t}=this;t.some((t=>t.target===e))||t.push({target:e,width:e.clientWidth,heighe:e.clientHeight}),Kp.length||Yp(),Kp.some((e=>e===this))||Kp.push(this)}}unobserve(e){rp.remove(Kp,(t=>t.tarList.some((t=>t.target===e))))}disconnect(){rp.remove(Kp,(e=>e===this))}}const Zp={create:e=>window.ResizeObserver?new window.ResizeObserver(e):new Xp(e)},Qp=m({language:"",langMaps:{}});let Jp=!1;function em(e,t){const{langMaps:n,language:o}=Qp,{i18n:l}=Op;return l?`${l(e,t)||""}`:(Jp||(n[o],Jp=!0),rp.toFormatString(rp.get(n[o],e,e),t))}function tm(e){return Qp.language=e||"zh-CN",xt}function nm(e,t){return Qp.langMaps[e]=Object.assign({},t),xt}function om(e){const{langMaps:t}=Qp;return!!t[e]}function lm(){const{language:e}=Qp;return e}function rm(e,t){return function(e,n){return`[vxe ${t||""}] ${em(e,n)}`}}const am="4.0.29",im={create:rm,warn:rm(0,`v${am}`),err:rm(0,`v${am}`)},sm={},cm={mixin:e=>(rp.each(e,((e,t)=>cm.add(t,e))),cm),get:e=>sm[e]||null,add(e,t){if(e&&t){const n=sm[e];n?Object.assign(n,t):sm[e]=t}return cm},forEach:e=>(rp.objectEach(sm,e),cm),delete:e=>(delete sm[e],cm)};class um{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return rp.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];return this.store[e]=n?rp.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){rp.objectEach(this.store,e)}}const dm=new um;const pm=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return rp.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];return rp.isFunction(t)&&(t={menuMethod:t}),this.store[e]=n?rp.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){rp.objectEach(this.store,e)}};const mm=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return rp.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];return rp.isFunction(t)&&(t={cellFormatMethod:t}),this.store[e]=n?rp.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){rp.objectEach(this.store,e)}};const fm=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return rp.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];return rp.isFunction(t)&&(t={commandMethod:t}),this.store[e]=n?rp.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){rp.objectEach(this.store,e)}},gm={},hm={mixin:e=>(rp.each(e,((e,t)=>{hm.add(t,e)})),hm),get:e=>gm[e]||[],add(e,t){rp.isFunction(t)&&(t={tableInterceptorMethod:t});const n=t.tableInterceptorMethod;if(n){let t=gm[e];t||(t=gm[e]=[]),t.push(n)}return hm},delete(e,t){const n=gm[e];if(n){rp.isFunction(t)&&(t={tableInterceptorMethod:t});const o=t?t.tableInterceptorMethod:null;o?rp.remove(n,(e=>e===o)):delete gm[e]}}};let vm;const bm={text:"",html:""};const xm={getStore:()=>bm,setStore(e){Object.assign(bm,e||{})},copy(e){let t=!1;try{const n=rp.toValueString(e);!function(e){if(!vm){vm=document.createElement("textarea"),vm.id="$VxeCopy";const e=vm.style;e.width="48px",e.height="24px",e.position="fixed",e.zIndex="0",e.left="-500px",e.top="-500px",document.body.appendChild(vm)}vm.value=e}(n),vm.select(),vm.setSelectionRange(0,vm.value.length),t=document.execCommand("copy"),vm.blur(),bm.text=n,bm.html=""}catch(n){}return t},getText:()=>bm.text||""};function ym(e,t){let n=!0,o=!1;const l=t||Op.permissionMethod;if(e&&l){n=!1,o=!0;let t=!1,r=!1;const a=String(e).split("|");for(let e=0;e<a.length;e++){let i=!0,s=!1;const c=l({code:a[e]});if(rp.isBoolean(c)?i=c:c&&(i=!!c.visible,s=!!c.disabled),s||r||(r=!0,o=s),i&&!t&&(t=!0,n=i),t&&r)break}}return{code:e,visible:n,disabled:o}}const wm={getCheckInfo:e=>ym(e),checkVisible:e=>ym(e).visible,checkDisable:e=>ym(e).disabled},Cm=new um;function Sm(e){const t=o("xeSizeInfo",null),n=f((()=>e.size||(t?t.value:null)));return b("xeSizeInfo",n),{computeSize:n}}function Em(e){return{computePermissionInfo:f((()=>ym(e.permissionCode,e.permissionMethod)))}}const Tm={useSize:Sm,usePermission:Em},Dm=[];function Om(e,t){return e&&e.install&&-1===Dm.indexOf(e)&&(e.install(Rm,t),Dm.push(e)),Rm}const km={};function Im(e){return km[e]||null}function Mm(e){e&&e.name&&(km[e.name]=e)}function Pm(){return x()}const Rm=Object.assign(xt,{renderEmptyElement:Pm,setTheme:Ip,getTheme:Mp,setConfig:Pp,getConfig:Rp,setIcon:$p,getIcon:Fp,setLanguage:tm,hasLanguage:om,getLanguage:lm,setI18n:nm,getI18n:em,globalEvents:qp,GLOBAL_EVENT_KEYS:Np,createEvent:Hp,globalResize:Zp,renderer:cm,validators:dm,menus:pm,formats:mm,commands:fm,interceptor:hm,clipboard:xm,log:im,permission:wm,globalStore:Vp,hooks:Cm,component:Mm,getComponent:Im,useFns:Tm,use:Om});Ip();let Vm;const Am=m({modals:[],drawers:[],globalLoading:null,globalWatermark:null}),$m=y(p({setup(){const e=Rm.getComponent("VxeModal"),t=Rm.getComponent("VxeDrawer"),n=Rm.getComponent("VxeLoading"),o=Rm.getComponent("VxeWatermark");return()=>{const{modals:l,drawers:r,globalWatermark:a,globalLoading:i}=Am;return[l.length?w("div",{key:1,class:"vxe-dynamics--modal"},l.map((t=>w(e,t)))):x(),r.length?w("div",{key:2,class:"vxe-dynamics--drawer"},r.map((e=>w(t,e)))):x(),a?w(o,a):x(),i?w(n,i):x()]}}}));function Fm(){Vm||(Vm=document.createElement("div"),Vm.className="vxe-dynamics",document.body.appendChild(Vm),$m.mount(Vm))}const Nm="ui v4.3.74";im.create("warn",Nm);const Lm=im.create("error",Nm),_m="4.3.74";function Bm(e){return Pp(e)}function jm(e){return Pp(e)}Rm.uiVersion=_m,Rm.dynamicApp=$m,Rm.config=Bm,Rm.setup=jm,Pp({alert:{},anchor:{},anchorLink:{},avatar:{},badge:{},breadcrumb:{separator:"/"},breadcrumbItem:{},button:{trigger:"hover",prefixTooltip:{enterable:!0},suffixTooltip:{enterable:!0}},buttonGroup:{},calendar:{minDate:new Date(1900,0,1),maxDate:new Date(2100,0,1),startDay:1,selectDay:1},card:{border:!0,padding:!0},carousel:{height:200,loop:!0,interval:5e3},carouselItem:{},checkbox:{},checkboxGroup:{},col:{},collapse:{padding:!0,expandConfig:{showIcon:!0}},collapsePane:{},countdown:{},colorPicker:{type:"hex",clearable:!0,showAlpha:!0,clickToCopy:!0,showColorExtractor:!0,showQuick:!0},datePicker:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,shortcutConfig:{align:"left",mode:"text",autoClose:!0}},drawer:{position:"right",showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0,padding:!0,cancelClosable:!0,confirmClosable:!0},empty:{},form:{validConfig:{showMessage:!0,autoPos:!0,theme:"beautify"},tooltipConfig:{enterable:!0},titleAsterisk:!0,titleOverflow:!1,padding:!0},formDesign:{height:400,showHeader:!0,showPc:!0},formGather:{},formGroup:{},formItem:{},formView:{},icon:{},iconPicker:{icons:["home","company","comment","setting","send","envelope","envelope-open","bell","search","print","pc","goods","chart-line","edit","delete","save","folder","microphone","flag","link","location","sunny","rmb","usd","user","add-user","add-users","star","unlock","time","text","feedback","calendar","association-form","cloud-download","cloud-upload","file","subtable","chart-bar-x","chart-bar-y","chart-line","chart-pie","chart-radar"]},image:{showPreview:!0,showPrintButton:!0,maskClosable:!0},imageGroup:{showPreview:!0,showPrintButton:!0},imagePreview:{showPrintButton:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},layoutAside:{},layoutBody:{},layoutContainer:{},layoutFooter:{},layoutHeader:{},link:{underline:!0},listDesign:{height:400,showPc:!0},listView:{},list:{scrollY:{enabled:!0,gt:100}},loading:{showIcon:!0,showText:!0},modal:{top:16,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,padding:!0,draggable:!0,showConfirmButton:null,cancelClosable:!0,confirmClosable:!0,zoomConfig:{minimizeMaxSize:10,minimizeVerticalOffset:{top:-24,left:0},minimizeHorizontalOffset:{top:0,left:32}},storageKey:"VXE_MODAL_POSITION"},noticeBar:{},numberInput:{digits:2,autoFill:!0,controls:!0},optgroup:{},option:{},pager:{pageSizePlacement:"top"},print:{},passwordInput:{controls:!0},printPageBreak:{},pulldown:{destroyOnClose:!0},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},rate:{},result:{},row:{},select:{multiCharOverflow:8,scrollY:{enabled:!0,gt:100,oSize:2}},slider:{max:100,min:0},steps:{},switch:{},tabPane:{},tableSelect:{gridConfig:{showOverflow:!0,showHeaderOverflow:!0,showFooterOverflow:!0,rowConfig:{isHover:!0},scrollX:{enabled:!0,gt:0},scrollY:{mode:"wheel",enabled:!0,gt:0}}},tabs:{},tag:{},textEllipsis:{},text:{},textarea:{resize:"none"},tip:{},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300,isArrow:!0},tree:{indent:20,minHeight:60,radioConfig:{strict:!0}},treeSelect:{treeConfig:{radioConfig:{},checkboxConfig:{}}},upload:{mode:"all",imageTypes:["jpg","jpeg","png","gif"],showList:!0,showUploadButton:!0,showButtonText:!0,showRemoveButton:!0,showButtonIcon:!0,showPreview:!0,dragToUpload:!0},watermark:{rotate:-30,gap:[100,100]},table:{},colgroup:{},column:{},toolbar:{},grid:{}});const zm="vxe-icon-";function Wm(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function Hm(e){switch(e){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function qm(e){switch(e){case"input":case"textarea":case"VxeInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function Um(e){return rp.isArray(e)?e:e?[e]:[]}$p({LOADING:zm+"spinner roll vxe-loading--default-icon",BUTTON_DROPDOWN:zm+"arrow-down",BUTTON_LOADING:zm+"spinner roll",BUTTON_TOOLTIP_ICON:zm+"question-circle-fill",MENU_ITEM_EXPAND_OPEN:zm+"arrow-down rotate180",MENU_ITEM_EXPAND_CLOSE:zm+"arrow-down",SELECT_LOADED:zm+"spinner roll",SELECT_OPEN:zm+"caret-down rotate180",SELECT_CLOSE:zm+"caret-down",ICON_PICKER_OPEN:zm+"caret-down rotate180",ICON_PICKER_CLOSE:zm+"caret-down",PAGER_HOME:zm+"home-page",PAGER_END:zm+"end-page",PAGER_JUMP_PREV:zm+"arrow-double-left",PAGER_JUMP_NEXT:zm+"arrow-double-right",PAGER_PREV_PAGE:zm+"arrow-left",PAGER_NEXT_PAGE:zm+"arrow-right",PAGER_JUMP_MORE:zm+"ellipsis-h",RADIO_CHECKED:zm+"radio-checked-fill",RADIO_UNCHECKED:zm+"radio-unchecked",CHECKBOX_INDETERMINATE:zm+"checkbox-indeterminate-fill",CHECKBOX_CHECKED:zm+"checkbox-checked-fill",CHECKBOX_UNCHECKED:zm+"checkbox-unchecked",INPUT_CLEAR:zm+"error-circle-fill",INPUT_SEARCH:zm+"search",NUMBER_INPUT_PREV_NUM:zm+"caret-up",NUMBER_INPUT_NEXT_NUM:zm+"caret-down",DATE_PICKER_DATE:zm+"calendar",PASSWORD_INPUT_SHOW_PWD:zm+"eye-fill-close",PASSWORD_INPUT_HIDE_PWD:zm+"eye-fill",MODAL_ZOOM_MIN:zm+"minus",MODAL_ZOOM_REVERT:zm+"recover",MODAL_ZOOM_IN:zm+"square",MODAL_ZOOM_OUT:zm+"maximize",MODAL_CLOSE:zm+"close",MODAL_INFO:zm+"info-circle-fill",MODAL_SUCCESS:zm+"success-circle-fill",MODAL_WARNING:zm+"warning-circle-fill",MODAL_ERROR:zm+"error-circle-fill",MODAL_QUESTION:zm+"question-circle-fill",MODAL_LOADING:zm+"spinner roll",DRAWER_CLOSE:zm+"close",FORM_PREFIX:zm+"question-circle-fill",FORM_SUFFIX:zm+"question-circle-fill",FORM_FOLDING:zm+"arrow-up rotate180",FORM_UNFOLDING:zm+"arrow-up",FORM_DESIGN_STYLE_SETTING:zm+"layout",FORM_DESIGN_PROPS_PC:zm+"pc",FORM_DESIGN_PROPS_MOBILE:zm+"mobile",FORM_DESIGN_PROPS_ADD:zm+"add",FORM_DESIGN_PROPS_EDIT:zm+"edit",FORM_DESIGN_WIDGET_ADD:zm+"square-plus-fill",FORM_DESIGN_WIDGET_COPY:zm+"copy",FORM_DESIGN_WIDGET_DELETE:zm+"delete",FORM_DESIGN_WIDGET_SWAP_LR:zm+"swap",FORM_DESIGN_WIDGET_OPTION_DELETE:zm+"delete",FORM_DESIGN_WIDGET_OPTION_EXPAND_OPEN:zm+"square-plus",FORM_DESIGN_WIDGET_OPTION_EXPAND_CLOSE:zm+"square-minus",LIST_DESIGN_FIELD_SETTING:zm+"custom-column",LIST_DESIGN_LIST_SETTING:zm+"menu",LIST_DESIGN_LIST_SETTING_SEARCH_DELETE:zm+"delete",LIST_DESIGN_LIST_SETTING_ACTIVE_DELETE:zm+"delete",UPLOAD_FILE_ERROR:zm+"warning-circle-fill",UPLOAD_FILE_ADD:zm+"upload",UPLOAD_FILE_REMOVE:zm+"delete",UPLOAD_FILE_DOWNLOAD:zm+"download",UPLOAD_IMAGE_RE_UPLOAD:zm+"repeat",UPLOAD_IMAGE_ADD:zm+"add",UPLOAD_IMAGE_REMOVE:zm+"close",UPLOAD_LOADING:zm+"spinner roll vxe-loading--default-icon",UPLOAD_FILE_TYPE_DEFAULT:zm+"file",UPLOAD_FILE_TYPE_XLSX:zm+"file-excel",UPLOAD_FILE_TYPE_XLS:zm+"file-excel",UPLOAD_FILE_TYPE_PDF:zm+"file-pdf",UPLOAD_FILE_TYPE_PNG:zm+"file-image",UPLOAD_FILE_TYPE_GIF:zm+"file-image",UPLOAD_FILE_TYPE_JPG:zm+"file-image",UPLOAD_FILE_TYPE_JPEG:zm+"file-image",UPLOAD_FILE_TYPE_MD:zm+"file-markdown",UPLOAD_FILE_TYPE_PPD:zm+"file-ppt",UPLOAD_FILE_TYPE_DOCX:zm+"file-word",UPLOAD_FILE_TYPE_DOC:zm+"file-word",UPLOAD_FILE_TYPE_ZIP:zm+"file-zip",UPLOAD_FILE_TYPE_TXT:zm+"file-txt",IMAGE_PREVIEW_CLOSE:zm+"close",IMAGE_PREVIEW_PREVIOUS:zm+"arrow-left",IMAGE_PREVIEW_NEXT:zm+"arrow-right",IMAGE_PREVIEW_PCT_FULL:zm+"pct-full",IMAGE_PREVIEW_PCT_1_1:zm+"pct-1-1",IMAGE_PREVIEW_ZOOM_OUT:zm+"search-zoom-out",IMAGE_PREVIEW_ZOOM_IN:zm+"search-zoom-in",IMAGE_PREVIEW_ROTATE_LEFT:zm+"rotate-left",IMAGE_PREVIEW_ROTATE_RIGHT:zm+"rotate-right",IMAGE_PREVIEW_PRINT:zm+"print",IMAGE_PREVIEW_DOWNLOAD:zm+"download",ALERT_CLOSE:zm+"close",ALERT_INFO:zm+"info-circle-fill",ALERT_SUCCESS:zm+"success-circle-fill",ALERT_WARNING:zm+"warning-circle-fill",ALERT_ERROR:zm+"error-circle-fill",TREE_NODE_OPEN:zm+"caret-right rotate90",TREE_NODE_CLOSE:zm+"caret-right",TREE_NODE_LOADED:zm+"spinner roll",TREE_SELECT_LOADED:zm+"spinner roll",TREE_SELECT_OPEN:zm+"caret-down rotate180",TREE_SELECT_CLOSE:zm+"caret-down",TABLE_SELECT_LOADED:zm+"spinner roll",TABLE_SELECT_OPEN:zm+"caret-down rotate180",TABLE_SELECT_CLOSE:zm+"caret-down",TABS_TAB_BUTTON_LEFT:zm+"arrow-left",TABS_TAB_BUTTON_RIGHT:zm+"arrow-right",TABS_TAB_CLOSE:zm+"close",TABS_TAB_REFRESH:zm+"refresh",TABS_TAB_REFRESH_LOADING:zm+"refresh roll",TEXT_COPY:zm+"copy",TEXT_LOADING:zm+"spinner roll",CAROUSEL_HORIZONTAL_PREVIOUS:zm+"arrow-left",CAROUSEL_HORIZONTAL_NEXT:zm+"arrow-right",CAROUSEL_VERTICAL_PREVIOUS:zm+"arrow-up",CAROUSEL_VERTICAL_NEXT:zm+"arrow-down",COLLAPSE_OPEN:zm+"arrow-right rotate90",COLLAPSE_CLOSE:zm+"arrow-right",EMPTY_DEFAULT:zm+"empty",RESULT_INFO:zm+"info-circle-fill",RESULT_SUCCESS:zm+"success-circle-fill",RESULT_WARNING:zm+"warning-circle-fill",RESULT_ERROR:zm+"error-circle-fill",RESULT_QUESTION:zm+"question-circle-fill",RESULT_LOADING:zm+"spinner roll",RATE_CHECKED:zm+"star-fill",RATE_UNCHECKED:zm+"star",COLOR_COPY:zm+"copy"});const Km=p({name:"VxeAlert",props:{title:{type:[String,Number],default:()=>Rp().alert.title},content:[String,Number],status:String,showIcon:Boolean,showClose:Boolean,icon:{type:String,default:()=>Rp().alert.icon}},emits:["close"],setup(e,t){const{emit:n,slots:o}=t,l=rp.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent(e,t,o){n(e,Hp(o,{$alert:u},t))}},p=e=>{d.dispatchEvent("close",{},e)};Object.assign(u,d,{});return u.renderVN=()=>{const{status:t,content:n,icon:l,title:r,showIcon:i,showClose:s}=e,c=o.default,u=o.title,d=o.icon;return w("div",{ref:a,class:["vxe-alert",{[`theme--${t}`]:t}]},[d||i&&t||l?w("div",{class:"vxe-alert--icon"},d?Um(d({})):[w("i",{class:l||Fp()[`ALERT_${null==t?void 0:t.toUpperCase()}`]})]):x(),w("div",{class:"vxe-alert--body"},[u||r?w("div",{class:"vxe-alert--title"},u?Um(u({})):rp.toValueString(r)):x(),w("div",{class:"vxe-alert--content"},c?Um(c({})):rp.toValueString(n))]),s?w("div",{class:"vxe-alert--close-btn",onClick:p},[w("i",{class:Fp().ALERT_CLOSE})]):x()])},u},render(){return this.renderVN()}}),Gm=Object.assign({},Km,{install(e){e.component(Km.name,Km)}});$m.use(Gm),Rm.component(Km);const Ym=Gm,Xm=rp.browse();let Zm;function Qm(){return Zm||(Zm=new Image,Zm.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),Zm}const Jm={};function ef(e){return Jm[e]||(Jm[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),Jm[e]}function tf(e,t,n){if(e){const o=e.parentNode;if(n.top+=e.offsetTop,n.left+=e.offsetLeft,o&&o!==document.documentElement&&o!==document.body&&(n.top-=o.scrollTop,n.left-=o.scrollLeft),(!t||e!==t&&e.offsetParent!==t)&&e.offsetParent)return tf(e.offsetParent,t,n)}return n}function nf(e,t){return e&&e.className&&e.className.match&&e.className.match(ef(t))}function of(e,t){e&&nf(e,t)&&(e.className=e.className.replace(ef(t),""))}function lf(e,t="px"){return rp.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function rf(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function af(e,t,n,o){let l,r=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;r&&r.nodeType&&r!==document;){if(n&&nf(r,n))l=r;else if(r===t)return{flag:!n||!!l,container:t,targetElem:l};r=r.parentNode}return{flag:!1}}function sf(e,t){return tf(e,t,{left:0,top:0})}function cf(e){const t=e.getBoundingClientRect(),n=t.top,o=t.left,{scrollTop:l,scrollLeft:r,visibleHeight:a,visibleWidth:i}=rf();return{boundingTop:n,top:l+n,boundingLeft:o,left:r+o,visibleHeight:a,visibleWidth:i}}const uf="scrollIntoViewIfNeeded",df="scrollIntoView";const pf=p({name:"VxeAnchorLink",props:{content:[String,Number],title:[String,Number],href:String},emits:[],setup(e,t){const{slots:n}=t,l=o("$xeAnchor",null),a=o("$xeAnchorLink",null),s=rp.uniqueId(),c=r(),u=m({}),d=m({id:s,href:e.href,children:[]}),p={refElem:c},v=f((()=>{const{href:t}=e;return l?l.reactData.activeHref===t:null})),y={},C={xID:s,props:e,context:t,reactData:u,linkConfig:d,getRefMaps:()=>p,getComputeMaps:()=>y},S=t=>{const{href:n}=e;l&&l.handleClickLink(t,n)};i((()=>e.href),(e=>{d.href=e})),g((()=>{const e=c.value;l&&e&&function(e,t,n,o){const l=e.reactData.staticLinks,r=t.parentNode,a=o?o.linkConfig:null,i=a?a.children:l;r&&i&&(i.splice(rp.arrayIndexOf(r.children,t),0,n),e.reactData.staticLinks=l.slice(0))}(l,e,d,a)})),h((()=>{l&&function(e,t){const n=e.reactData.staticLinks,o=rp.findTree(n,(e=>e.id===t.id),{children:"children"});o&&o.items.splice(o.index,1),e.reactData.staticLinks=n.slice(0)}(l,d)}));return b("$xeAnchorLink",C),C.renderVN=()=>{const{href:t,content:o,title:l}=e,r=n.default,a=n.sub,i=v.value;return w("div",{ref:c,class:["vxe-anchor-link",{"is--active":i}]},[w("a",{class:"vxe-anchor-link--item",href:t,title:l,onClick:S},r?r({}):rp.toValueString(o)),a?w("div",{class:"vxe-anchor-link--sub-items"},a({})):x()])},C},render(){return this.renderVN()}}),mf=p({name:"VxeAnchor",props:{modelValue:String,options:Array,container:[String,Object,Function],showMarker:{type:Boolean,default:!0}},emits:["update:modelValue","change","click"],setup(e,n){const{slots:o,emit:l}=n,a=rp.uniqueId(),c=r(),u=r(),d=m({activeHref:null,staticLinks:[],containerElem:null}),p={refElem:c},h=f((()=>{const e=[];return rp.eachTree(d.staticLinks,(t=>{e.push(t.href||"")}),{children:"children"}),e})),v={},y={xID:a,props:e,context:n,reactData:d,getRefMaps:()=>p,getComputeMaps:()=>v},C={dispatchEvent(e,t,n){l(e,Hp(n,{$anchor:y},t))}},S=()=>{const e=h.value,{containerElem:t}=d;if(t){const n=t.querySelectorAll(e.map((e=>`${e}`)).join(","));for(let e=0;e<n.length;e++){const t=n[e];if(t.getBoundingClientRect().top>0){const e=t.id;d.activeHref=`#${e}`;break}}}},E=()=>{const{containerElem:e}=d;e&&e.removeEventListener("scroll",S)},T=()=>{const t=(()=>{const{container:t}=e;if(t){if(rp.isElement(t))return t;if(rp.isString(t))return document.querySelector(t);if(rp.isFunction(t))return t({$anchor:y})}return null})();d.containerElem=t,t&&t.addEventListener("scroll",S,{passive:!1})},D={handleClickLink(e,t){e.preventDefault();const n=document.getElementById(`${t}`.replace("#",""));var o;n&&n.scrollIntoView({behavior:"smooth"}),o=t,d.activeHref=o,l("update:modelValue",o),C.dispatchEvent("click",{href:t},e)}};Object.assign(y,C,D);const O=e=>{const t=[];return e&&e.forEach((e=>{const n=e.children;n&&n.length?t.push(w(pf,{content:e.content,title:e.title,href:e.href},{sub:()=>O(n)})):t.push(w(pf,{content:e.content,title:e.title,href:e.href}))})),t};return i((()=>e.modelValue),(e=>{d.activeHref=e})),i((()=>d.activeHref),(()=>{t((()=>{const{activeHref:e}=d,t=c.value,n=u.value;if(t&&n&&e){const o=t.querySelector(`[href="${e}"]`);if(o){const{top:e}=sf(o,t);n.style.top=`${e}px`}}}))})),i((()=>e.container),(()=>{E(),T()})),g((()=>{t((()=>{T()}))})),s((()=>{E()})),b("$xeAnchor",y),y.renderVN=()=>{const{options:t,showMarker:n}=e,l=o.default;return w("div",{ref:c,class:["vxe-anchor",{"is--marker":n}]},[w("div",{class:"vxe-anchor--list"},l?l({}):O(t)),n?w("div",{ref:u,class:"vxe-anchor--marker"}):x()])},y},render(){return this.renderVN()}}),ff=Object.assign({},mf,{install(e){e.component(mf.name,mf)}});$m.use(ff),Rm.component(mf);const gf=ff,hf=Object.assign({},pf,{install(e){e.component(pf.name,pf)}});$m.use(hf),Rm.component(pf);const vf=hf,bf=p({name:"VxeAvatar",props:{count:[String,Number],dot:Boolean,content:[String,Number],icon:String,src:String,width:[String,Number],height:[String,Number],circle:{type:Boolean,default:()=>Rp().avatar.circle},status:{type:String,default:()=>Rp().avatar.status},size:{type:String,default:()=>Rp().avatar.size||Rp().size}},emits:[],setup(e,t){const{emit:n}=t,o=rp.uniqueId(),{computeSize:l}=Sm(e),a=r(),i=m({}),s={refElem:a},c=f((()=>{const{width:t,height:n}=e,o={};return t&&(o.width=lf(t)),n&&(o.height=lf(n)),o})),u=f((()=>{const{count:t}=e;return t?rp.toNumber(t):0})),d={},p={xID:o,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>d},g={dispatchEvent:(e,t,o)=>{n(e,Hp(o,{$avatar:p},t))}};Object.assign(p,g,{});const h=()=>{const{icon:t,content:n,src:o}=e;return t?w("span",{class:"vxe-avatar--icon"},[w("i",{class:t})]):n?w("span",{class:"vxe-avatar--content"},`${n}`):o?w("img",{class:"vxe-avatar--img",src:o}):Pm()};return p.renderVN=()=>{const{circle:t,dot:n,status:o}=e,r=l.value,i=u.value,s=c.value;return w("div",{ref:a,class:["vxe-avatar",{[`size--${r}`]:r,[`theme--${o}`]:o,"is--circle":t,"is--dot":n}],style:s},[h(),i?w("span",{class:"vxe-avatar--count"},i>99?"99+":`${i}`):Pm()])},p},render(){return this.renderVN()}}),xf=Object.assign({},bf,{install(e){e.component(bf.name,bf)}});$m.use(xf),Rm.component(bf);const yf=xf,wf=p({name:"VxeBadge",props:{count:[String,Number],dot:Boolean,content:[String,Number],size:{type:String,default:()=>Rp().badge.size||Rp().size}},emits:[],setup(e,t){const{emit:n,slots:o}=t,l=rp.uniqueId(),a=r(),{computeSize:i}=Sm(e),s=m({}),c={refElem:a},u=f((()=>{const{count:t}=e;return t?rp.toNumber(t):0})),d={},p={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>d},g={dispatchEvent:(e,t,o)=>{n(e,Hp(o,{$badge:p},t))}};Object.assign(p,g,{});return p.renderVN=()=>{const{dot:t,content:n}=e,l=i.value,r=u.value,s=o.default;return w("div",{ref:a,class:["vxe-badge",{[`size--${l}`]:l,"is--dot":t}]},[s||n?w("div",{class:"vxe-badge--content"},s?s({}):`${n||""}`):[],r?w("span",{class:"vxe-badge--count"},r>99?"99+":`${r}`):Pm()])},p},render(){return this.renderVN()}}),Cf=Object.assign({},wf,{install(e){e.component(wf.name,wf)}});$m.use(Cf),Rm.component(wf);const Sf=Cf,Ef=p({name:"VxeBreadcrumbItem",props:{title:String,routerLink:Object},emits:[],setup(e,t){const{slots:n}=t,l=rp.uniqueId(),a=r(),i=o("$xeBreadcrumb",null),s=m({}),c={refElem:a},u=f((()=>i?i.props.separator:"")),d=t=>{if(i){const n={title:e.title,routerLink:e.routerLink};i.handleClickLink(t,n)}},p={},g={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>p};return g.renderVN=()=>{const{title:t,routerLink:o}=e,l=u.value,r=n.default;return w("span",{ref:a,class:"vxe-breadcrumb-item",onClick:d},[w("span",{class:"vxe-breadcrumb-item--content"},[o?w(C("router-link"),{class:"vxe-breadcrumb-item--content-link",title:t,to:o},{default:()=>w("span",{class:"vxe-breadcrumb-item--content-text"},r?r({}):`${t||""}`)}):w("span",{class:"vxe-breadcrumb-item--content-text"},r?r({}):`${t||""}`)]),l?w("span",{class:"vxe-breadcrumb-item--separator"},`${l}`):x()])},g},render(){return this.renderVN()}}),Tf=p({name:"VxeBreadcrumb",props:{separator:{type:String,default:()=>Rp().breadcrumb.separator},options:Array},emits:["click"],setup(e,t){const{emit:n,slots:o}=t,l=rp.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent(e,t,o){n(e,Hp(o,{$breadcrumb:u},t))}},p={handleClickLink(e,t){d.dispatchEvent("click",{option:t},e)}};Object.assign(u,d,p);return b("$xeBreadcrumb",u),u.renderVN=()=>{const t=o.default;return w("div",{ref:a,class:"vxe-breadcrumb"},t?t({}):(()=>{const{options:t}=e;return t&&t.length?t.map((e=>w(Ef,{title:e.title,routerLink:e.routerLink}))):[]})())},u},render(){return this.renderVN()}}),Df=Object.assign({},Tf,{install(e){e.component(Tf.name,Tf)}});$m.use(Df),Rm.component(Tf);const Of=Df,kf=Object.assign({},Ef,{install(e){e.component(Ef.name,Ef)}});$m.use(kf),Rm.component(Ef);const If=kf;function Mf(e){return e&&!1!==e.enabled}function Pf(){return Dp.getNext()}function Rf(){return Dp.getCurrent()}function Vf(e,t){if(e){const n=Rp().translate;return rp.toValueString(n?n(""+e,t):e)}return""}function Af(e){return null==e||""===e}function $f(e){return rp.isBoolean(e)?e:null}const Ff=p({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>Rp().tooltip.size||Rp().size},selector:String,trigger:{type:String,default:()=>Rp().tooltip.trigger||"hover"},theme:{type:String,default:()=>Rp().tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],isArrow:{type:Boolean,default:()=>Rp().tooltip.isArrow},enterable:{type:Boolean,default:()=>Rp().tooltip.enterable},enterDelay:{type:Number,default:()=>Rp().tooltip.enterDelay},leaveDelay:{type:Number,default:()=>Rp().tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,n){const{slots:o,emit:l}=n,a=rp.uniqueId(),{computeSize:c}=Sm(e),u=m({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),d={},p=r(),f={refElem:p},h={xID:a,props:e,context:n,reactData:u,internalData:d,getRefMaps:()=>f};let v={};const b=()=>{const{tipTarget:e,tipStore:t}=u;if(e){const{scrollTop:n,scrollLeft:o,visibleWidth:l}=rf(),{top:r,left:a}=cf(e),i=p.value,s=6,c=i.offsetHeight,u=i.offsetWidth;let d=a,m=r-c-s;d=Math.max(s,a+Math.floor((e.offsetWidth-u)/2)),d+u+s>o+l&&(d=o+l-u-s),r-c<n+s&&(t.placement="bottom",m=r+e.offsetHeight+s),t.style.top=`${m}px`,t.style.left=`${d}px`,t.arrowStyle.left=a-d+e.offsetWidth/2+"px"}},x=e=>{e!==u.visible&&(u.visible=e,u.isUpdate=!0,l("update:modelValue",e))},y=()=>{u.visible?v.close():k(u.target||I(),e.content)},C=()=>{k(u.target||I(),e.content)},S=()=>{const{trigger:t,enterable:n,leaveDelay:o}=e;u.tipActive=!1,n&&"hover"===t?setTimeout((()=>{u.tipActive||v.close()}),o):v.close()},E=()=>{u.tipActive=!0},T=()=>{const{trigger:t,enterable:n,leaveDelay:o}=e;u.tipActive=!1,n&&"hover"===t&&setTimeout((()=>{u.tipActive||v.close()}),o)},D=()=>{const{tipStore:t}=u,n=p.value;if(n){n.parentNode||document.body.appendChild(n)}return x(!0),u.tipZindex<Rf()&&(u.tipZindex=Pf()),t.placement="top",t.style={width:"auto",left:0,top:0,zIndex:e.zIndex||u.tipZindex},t.arrowStyle={left:"50%"},v.updatePlacement()},O=()=>{d.showDelayTip=rp.debounce((()=>{u.tipActive&&D()}),e.enterDelay,{leading:!1,trailing:!0})},k=(n,l)=>{if(!o.content&&(""===l||rp.eqNull(l)))return t();if(n){const{showDelayTip:t}=d,{trigger:o,enterDelay:r}=e;if(u.tipActive=!0,u.tipTarget=n,u.tipContent=l,!r||"hover"!==o)return D();t&&t()}return t()},I=()=>{const{selector:t}=e;if(t){if(rp.isElement(t))return t;if(rp.isString(t))return document.querySelector(t)}return null};v={dispatchEvent(e,t,n){l(e,Hp(n,{$tooltip:h},t))},open:(e,t)=>k(e||u.target||I(),t),close:()=>(u.tipTarget=null,u.tipActive=!1,Object.assign(u.tipStore,{style:{},placement:"",arrowStyle:null}),x(!1),t()),toVisible:(e,t)=>k(e,t),updatePlacement:()=>t().then((()=>{const{tipTarget:e}=u,n=p.value;if(e&&n)return b(),t().then((()=>{b()}))})),isActived:()=>u.tipActive,setActived(e){u.tipActive=!!e}},Object.assign(h,v);const M=()=>{const{useHTML:t}=e,{tipContent:n}=u,l=o.content;return l?w("div",{key:1,class:"vxe-table--tooltip-content"},Um(l({}))):t?w("div",{key:2,class:"vxe-table--tooltip-content",innerHTML:n}):w("div",{key:3,class:"vxe-table--tooltip-content"},`${n}`)};return i((()=>e.enterDelay),(()=>{O()})),i((()=>e.content),(e=>{u.tipContent=e})),i((()=>e.modelValue),(t=>{u.isUpdate||(t?k(u.target||I(),e.content):v.close()),u.isUpdate=!1})),g((()=>{t((()=>{const{trigger:t,content:n}=e,o=p.value;if(o){const l=o.parentNode;if(l){u.tipContent=n,u.tipZindex=Pf(),rp.arrayEach(o.children,((e,t)=>{t>1&&(l.insertBefore(e,o),u.target||(u.target=e))})),l.removeChild(o);const{target:r}=u;r&&("hover"===t?(r.onmouseenter=C,r.onmouseleave=S):"click"===t&&(r.onclick=y)),e.modelValue&&k(r||I(),n)}}}))})),s((()=>{const{target:e}=u,t=p.value;if(e&&(e.onmouseenter=null,e.onmouseleave=null,e.onclick=null),t){const e=t.parentNode;e&&e.removeChild(t)}})),O(),h.renderVN=()=>{const{popupClassName:t,theme:n,isArrow:l,enterable:r}=e,{tipActive:a,visible:i,tipStore:s}=u,d=o.default,m=c.value;let f;return r&&(f={onMouseenter:E,onMouseleave:T}),w("div",Object.assign({ref:p,class:["vxe-table--tooltip-wrapper",`theme--${n}`,t?rp.isFunction(t)?t({$tooltip:h}):t:"",{[`size--${m}`]:m,[`placement--${s.placement}`]:s.placement,"is--enterable":r,"is--visible":i,"is--arrow":l,"is--active":a}],style:s.style},f),[M(),w("div",{class:"vxe-table--tooltip-arrow",style:s.arrowStyle}),...d?Um(d({})):[]])},h},render(){return this.renderVN()}}),Nf=p({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>Rp().button.size||Rp().size},name:[String,Number],routerLink:Object,permissionCode:[String,Number],content:String,placement:String,status:String,title:String,icon:String,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,trigger:{type:String,default:()=>Rp().button.trigger},align:String,prefixTooltip:Object,suffixTooltip:Object,destroyOnClose:{type:Boolean,default:()=>Rp().button.destroyOnClose},transfer:{type:Boolean,default:null}},emits:["click","mouseenter","mouseleave","dropdown-click"],setup(e,n){const{slots:l,emit:a}=n,i=o("$xeModal",null),s=o("$xeDrawer",null),c=o("$xeTable",null),u=o("$xeForm",null),d=o("$xeButtonGroup",null),p=rp.uniqueId(),{computeSize:v}=Sm(e),{computePermissionInfo:b}=Em(e),y=m({initialized:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),E={showTime:void 0,tooltipTimeout:void 0},T=r(),D=r(),O=r(),k={refElem:T},I={xID:p,props:e,context:n,reactData:y,internalData:E,getRefMaps:()=>k};let M={};const P=f((()=>{const{transfer:t}=e;if(null===t){const e=Rp().button.transfer;if(rp.isBoolean(e))return e;if(c||i||s||u)return!0}return t})),R=f((()=>{const{disabled:t}=e,n=b.value;return t||n.disabled})),V=f((()=>{const{type:t}=e;return!!t&&["submit","reset","button"].indexOf(t)>-1})),A=f((()=>{const{type:t,mode:n}=e;return"text"===n||"text"===t||d&&"text"===d.props.mode?"text":"button"})),$=f((()=>{const{status:t}=e;return t||(d?d.props.status:"")})),F=f((()=>{const{align:t}=e;return t||!!d&&d.props.align})),N=f((()=>{const{round:t}=e;return t||!!d&&d.props.round})),L=f((()=>{const{circle:t}=e;return t||!!d&&d.props.circle})),_=f((()=>Object.assign({},e.prefixTooltip))),B=f((()=>Object.assign({},e.suffixTooltip))),j=()=>t().then((()=>{const{placement:n}=e,{panelIndex:o}=y,l=D.value,r=O.value,a=P.value;if(r&&l){const e=l.offsetHeight,i=l.offsetWidth,s=r.offsetHeight,c=r.offsetWidth,u=5,d={zIndex:o},{top:p,left:m,boundingTop:f,visibleHeight:g,visibleWidth:h}=cf(l);let v="bottom";if(a){let t=m+i-c,o=p+e;"top"===n?(v="top",o=p-s):n||(f+e+s+u>g&&(v="top",o=p-s),o<u&&(v="bottom",o=p+e)),t+c+u>h&&(t-=t+c+u-h),t<u&&(t=u),Object.assign(d,{left:`${t}px`,right:"auto",top:`${o}px`,minWidth:`${i}px`})}else"top"===n?(v="top",d.bottom=`${e}px`):n||f+e+s>g&&f-e-s>u&&(v="top",d.bottom=`${e}px`);return y.panelStyle=d,y.panelPlacement=v,t()}})),z=t=>{d&&d.handleClick({name:e.name},t),ne("click",{$event:t},t)},W=e=>{0===e.button&&e.stopPropagation()},H=e=>{const t=e.currentTarget,n=O.value,{flag:o,targetElem:l}=af(e,t,"vxe-button");o&&(n&&(n.dataset.active="N"),y.visiblePanel=!1,setTimeout((()=>{n&&"Y"===n.dataset.active||(y.isAniVisible=!1)}),350),ne("dropdown-click",{name:l.getAttribute("name"),$event:e},e))},q=()=>{const e=O.value;e&&(e.dataset.active="Y",y.isAniVisible=!0,setTimeout((()=>{"Y"===e.dataset.active&&(y.visiblePanel=!0,y.panelIndex<Rf()&&(y.panelIndex=Pf()),j(),setTimeout((()=>{y.visiblePanel&&j()}),50))}),20))},U=t=>{const{loading:n}=e;R.value||n||(Z(),G(t))},K=e=>{Q(),Y(e)},G=e=>{ne("mouseenter",{},e)},Y=e=>{ne("mouseleave",{},e)},X=t=>{const{loading:n,trigger:o}=e;R.value||n||("click"===o&&(y.visiblePanel?Q():Z()),z(t))},Z=()=>{const{trigger:n}=e,o=O.value;return o&&(o.dataset.active="Y",y.initialized||(y.initialized=!0),E.showTime=setTimeout((()=>{"Y"===o.dataset.active?q():y.isAniVisible=!1}),"click"===n?50:250)),t()},Q=()=>{const e=O.value;return clearTimeout(E.showTime),e?(e.dataset.active="N",setTimeout((()=>{"Y"!==e.dataset.active&&(y.visiblePanel=!1,setTimeout((()=>{"Y"!==e.dataset.active&&(y.isAniVisible=!1)}),350))}),100)):(y.isAniVisible=!1,y.visiblePanel=!1),t()},J=()=>{Q()},ee=(e,t)=>w(Ff,{useHTML:e.useHTML,content:e.content,enterable:e.enterable,theme:e.theme},{default:()=>w("i",{class:[`vxe-button--tooltip-${t}-icon`,e.icon||Fp().BUTTON_TOOLTIP_ICON]})}),te=()=>{const{content:t,icon:n,loading:o,prefixTooltip:r,suffixTooltip:a}=e,i=_.value,s=B.value,c=l.icon,u=l.default,d=[];return r&&d.push(ee(i,"prefix")),o?d.push(w("i",{class:["vxe-button--loading-icon",Fp().BUTTON_LOADING]})):c?d.push(w("span",{class:"vxe-button--custom-icon"},c({}))):n&&d.push(w("i",{class:["vxe-button--icon",n]})),u?d.push(w("span",{class:"vxe-button--content"},u({}))):t&&d.push(w("span",{class:"vxe-button--content"},Vf(t))),a&&d.push(ee(s,"suffix")),d},ne=(e,t,n)=>{a(e,Hp(n,{$button:I},t))};M={dispatchEvent:ne,openPanel:Z,closePanel:Q,focus(){const e=D.value;return e&&e.focus(),t()},blur(){const e=D.value;return e&&e.blur(),t()}};const oe=e=>{const t=O.value;y.visiblePanel&&!af(e,t).flag&&Q()},le=e=>{const t=R.value,{visiblePanel:n}=y;if(!t){const t=T.value,o=O.value;y.isActivated=af(e,t).flag||af(e,o).flag,n&&!y.isActivated&&Q()}};Object.assign(I,M);return I.renderVN=()=>{const{className:t,popupClassName:n,trigger:o,title:r,routerLink:a,type:i,destroyOnClose:s,name:c,loading:u}=e,{initialized:d,isAniVisible:p,visiblePanel:m}=y,f=V.value,g=A.value,h=$.value,E=N.value,k=F.value,M=L.value,_=P.value,B=R.value,j=b.value,Z=v.value,Q=l.dropdowns;if(!j.visible)return x();if(Q){const e={},l={};return"hover"===o&&(e.onMouseenter=U,e.onMouseleave=K,l.onMouseenter=q,l.onMouseleave=J),w("div",{ref:T,class:["vxe-button--dropdown",t?rp.isFunction(t)?t({$button:I}):t:"",{[`size--${Z}`]:Z,"is--active":m}]},[a?w(C("router-link"),Object.assign({ref:D,class:["vxe-button","vxe-button--link",`type--${g}`,k?`align--${k}`:"",t?rp.isFunction(t)?t({$button:I}):t:"",{[`size--${Z}`]:Z,[`theme--${h}`]:h,"is--round":E,"is--circle":M,"is--disabled":B||u,"is--loading":u}],title:r,name:c,type:f?i:"button",disabled:B||u,to:a,onClick:X},e),{default:()=>te().concat([w("i",{class:`vxe-button--dropdown-arrow ${Fp().BUTTON_DROPDOWN}`})])}):w("button",Object.assign({ref:D,class:["vxe-button",`type--${g}`,k?`align--${k}`:"",t?rp.isFunction(t)?t({$button:I}):t:"",{[`size--${Z}`]:Z,[`theme--${h}`]:h,"is--round":E,"is--circle":M,"is--disabled":B||u,"is--loading":u}],title:r,name:c,type:f?i:"button",disabled:B||u,onClick:X},e),te().concat([w("i",{class:`vxe-button--dropdown-arrow ${Fp().BUTTON_DROPDOWN}`})])),w(S,{to:"body",disabled:!_||!d},[w("div",Object.assign({ref:O,class:["vxe-button--dropdown-panel",n?rp.isFunction(n)?n({$button:I}):n:"",{[`size--${Z}`]:Z,"ani--leave":p,"ani--enter":m}],placement:y.panelPlacement,style:y.panelStyle},l),d&&(m||p)?[w("div",{class:"vxe-button--dropdown-wrapper",onMousedown:W,onClick:H},s&&!m?[]:Q({}))]:[])])])}return a?w(C("router-link"),{ref:D,class:["vxe-button","vxe-button--link",`type--${g}`,k?`align--${k}`:"",t?rp.isFunction(t)?t({$button:I}):t:"",{[`size--${Z}`]:Z,[`theme--${h}`]:h,"is--round":E,"is--circle":M,"is--disabled":B||u,"is--loading":u}],title:r,name:c,type:f?i:"button",disabled:B||u,to:a,onClick:z,onMouseenter:G,onMouseleave:Y},{default:()=>te()}):w("button",{ref:D,class:["vxe-button",`type--${g}`,k?`align--${k}`:"",t?rp.isFunction(t)?t({$button:I}):t:"",{[`size--${Z}`]:Z,[`theme--${h}`]:h,"is--round":E,"is--circle":M,"is--disabled":B||u,"is--loading":u}],title:r,name:c,type:f?i:"button",disabled:B||u,onClick:z,onMouseenter:G,onMouseleave:Y},te())},g((()=>{qp.on(I,"mousewheel",oe),qp.on(I,"mousedown",le)})),h((()=>{qp.off(I,"mousewheel"),qp.off(I,"mousedown")})),I},render(){return this.renderVN()}}),Lf=Object.assign({},Nf,{install(e){e.component(Nf.name,Nf)}});$m.use(Lf),Rm.component(Nf);const _f=Lf,Bf=p({name:"VxeButtonGroup",props:{options:Array,mode:String,status:String,round:Boolean,vertical:Boolean,circle:Boolean,align:String,className:[String,Function],disabled:Boolean,permissionCode:[String,Number],size:{type:String,default:()=>Rp().buttonGroup.size||Rp().size}},emits:["click"],setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId(),r=m({}),a={},i={xID:l,props:e,context:t,reactData:r,getComputeMaps:()=>a};Sm(e);const{computePermissionInfo:s}=Em(e),c={dispatchEvent(e,t,n){o(e,Hp(n,{$buttonGroup:i},t))}},u={handleClick(t,n){const{options:o}=e,{name:l}=t,r=o?o.find((e=>e.name===l)):null;c.dispatchEvent("click",Object.assign(Object.assign({},t),{option:r}),n)}};Object.assign(i,c,u);return i.renderVN=()=>{const{className:t,options:o,vertical:l}=e,r=s.value,a=n.default;return r.visible?w("div",{class:["vxe-button-group",t?rp.isFunction(t)?t({$buttonGroup:i}):t:"",{"is--vertical":l}]},a?a({}):o?o.map(((e,t)=>w(Nf,Object.assign({key:t},e)))):[]):x()},b("$xeButtonGroup",i),i},render(){return this.renderVN()}}),jf=Object.assign({},Bf,{install(e){e.component(Bf.name,Bf)}});$m.use(jf),Rm.component(Bf);const zf=jf;function Wf(e){if(e){const t=new Date;let n=0,o=0,l=0;if(rp.isDate(e))n=e.getHours(),o=e.getMinutes(),l=e.getSeconds();else{const t=(e=rp.toValueString(e)).match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);t&&(n=rp.toNumber(t[1]),o=rp.toNumber(t[3]),l=rp.toNumber(t[5]))}return t.setHours(n),t.setMinutes(o),t.setSeconds(l),t}return new Date("")}function Hf(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}const qf=p({name:"VxeCalendar",props:{modelValue:[String,Number,Date],type:{type:String,default:"date"},className:String,size:{type:String,default:()=>Rp().calendar.size||Rp().size},multiple:Boolean,width:[String,Number],height:[String,Number],minDate:{type:[String,Number,Date],default:()=>Rp().calendar.minDate},maxDate:{type:[String,Number,Date],default:()=>Rp().calendar.maxDate},startDay:{type:[String,Number],default:()=>Rp().calendar.startDay},labelFormat:String,valueFormat:String,festivalMethod:{type:Function,default:()=>Rp().calendar.festivalMethod},disabledMethod:{type:Function,default:()=>Rp().calendar.disabledMethod},selectDay:{type:[String,Number],default:()=>Rp().calendar.selectDay}},emits:["update:modelValue","change","click","date-prev","date-today","date-next","view-change"],setup(e,t){const{emit:n}=t,o=rp.uniqueId(),{computeSize:l}=Sm(e),a=m({selectValue:e.modelValue,inputValue:e.modelValue,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),s={yearSize:12,monthSize:20,quarterSize:8},c=r(),u={refElem:c},d={xID:o,props:e,context:t,reactData:a,internalData:s,getRefMaps:()=>u},p=f((()=>{const{height:t,width:n}=e,o={};return n&&(o.width=lf(n)),t&&(o.height=lf(t)),o})),h=f((()=>!1)),v=f((()=>["date","week","month","quarter","year"].indexOf(e.type)>-1)),b=f((()=>e.minDate?rp.toStringDate(e.minDate):null)),x=f((()=>e.maxDate?rp.toStringDate(e.maxDate):null)),y=f((()=>["date","week","month","quarter","year"].indexOf(e.type)>-1)),C=f((()=>{const{multiple:t}=e,{selectValue:n}=a,o=v.value,l=T.value;return t&&n&&o?rp.toValueString(n).split(",").map((e=>{const t=q(e,l);return rp.isValidDate(t)?t:null})):[]})),S=f((()=>{const e=C.value,t=T.value;return e.map((e=>rp.toDateString(e,t)))})),E=f((()=>{const e=C.value,t=M.value;return e.map((e=>rp.toDateString(e,t))).join(", ")})),T=f((()=>{const{valueFormat:t}=e;return t||"yyyy-MM-dd"})),D=f((()=>{const{selectValue:e}=a,t=v.value,n=T.value;let o=null;if(e&&t){const t=q(e,n);rp.isValidDate(t)&&(o=t)}return o})),O=f((()=>{const e=b.value,{selectMonth:t}=a;return!(!t||!e)&&t<=e})),k=f((()=>{const e=x.value,{selectMonth:t}=a;return!(!t||!e)&&t>=e})),I=f((()=>{const e=D.value;return e?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0})),M=f((()=>{const{labelFormat:t}=e,n=v.value,o=T.value;return n?t||o||em(`vxe.input.date.labelFormat.${e.type}`):null})),P=f((()=>{const{selectMonth:e,currentDate:t}=a,{yearSize:n}=s,o=[];if(e&&t){const l=t.getFullYear(),r=e.getFullYear(),a=new Date(r-r%n,0,1);for(let e=-4;e<n+4;e++){const t=rp.getWhatYear(a,e,"first"),r=t.getFullYear();o.push({date:t,isCurrent:!0,isPrev:e<0,isNow:l===r,isNext:e>=n,year:r})}}return o})),R=f((()=>{if(v.value){const{datePanelType:e,selectMonth:t}=a,n=P.value;let o,l="";return t&&(l=t.getFullYear(),o=t.getMonth()+1),"quarter"===e?em("vxe.input.date.quarterLabel",[l]):"month"===e?em("vxe.input.date.monthLabel",[l]):"year"===e?n.length?`${n[0].year} - ${n[n.length-1].year}`:"":em("vxe.input.date.dayLabel",[l,o?em(`vxe.input.date.m${o}`):"-"])}return""})),V=f((()=>{const{startDay:t}=e;return rp.toNumber(t)})),A=f((()=>{const e=[];if(v.value){let t=V.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e})),$=f((()=>{if(v.value){return A.value.map((e=>({value:e,label:em(`vxe.input.date.weeks.w${e}`)})))}return[]})),F=f((()=>{if(v.value){const e=$.value;return[{label:em("vxe.input.date.weeks.w")}].concat(e)}return[]})),N=f((()=>{const e=P.value;return rp.chunk(e,4)})),L=f((()=>{const{selectMonth:e,currentDate:t}=a,{quarterSize:n}=s,o=[];if(e&&t){const l=t.getFullYear(),r=Hf(t),a=rp.getWhatYear(e,0,"first"),i=a.getFullYear();for(let e=-2;e<n-2;e++){const t=rp.getWhatQuarter(a,e),n=t.getFullYear(),s=Hf(t),c=n<i;o.push({date:t,isPrev:c,isCurrent:n===i,isNow:n===l&&s===r,isNext:!c&&n>i,quarter:s})}}return o})),_=f((()=>{const e=L.value;return rp.chunk(e,2)})),B=f((()=>{const{selectMonth:e,currentDate:t}=a,{monthSize:n}=s,o=[];if(e&&t){const l=t.getFullYear(),r=t.getMonth(),a=rp.getWhatYear(e,0,"first").getFullYear();for(let t=-4;t<n-4;t++){const n=rp.getWhatYear(e,0,t),i=n.getFullYear(),s=n.getMonth(),c=i<a;o.push({date:n,isPrev:c,isCurrent:i===a,isNow:i===l&&s===r,isNext:!c&&i>a,month:s})}}return o})),j=f((()=>{const e=B.value;return rp.chunk(e,4)})),z=f((()=>{const{selectMonth:e,currentDate:t}=a,n=[];if(e&&t){const o=I.value,l=A.value,r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-l.indexOf(u),p=new Date(rp.getWhatDay(e,d).getTime()+o);for(let t=0;t<42;t++){const o=rp.getWhatDay(p,t),l=o.getFullYear(),u=o.getMonth(),d=o.getDate(),m=o<e;n.push({date:o,isPrev:m,isCurrent:l===s&&u===c,isNow:l===r&&u===a&&d===i,isNext:!m&&c!==u,label:d})}}return n})),W=f((()=>{const e=z.value;return rp.chunk(e,7)})),H=f((()=>{const e=W.value,t=V.value;return e.map((e=>{const n=e[0];return[{date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:rp.getYearWeek(n.date,t)}].concat(e)}))})),q=(e,t)=>rp.toStringDate(e,t),U=(t,o)=>{a.inputValue=t,n("update:modelValue",t),rp.toValueString(e.modelValue)!==t&&me("change",{value:t},o)},K=t=>{const{type:n}=e,o=M.value,l=T.value,r=V.value;let i=null,s="";if(t&&(i=q(t,l)),rp.isValidDate(i)){if(s=rp.toDateString(i,o,{firstDay:r}),o&&"week"===n){if(rp.getWhatWeek(i,0,r,r).getFullYear()<i.getFullYear()){const e=o.indexOf("yyyy");if(e>-1){const t=Number(s.substring(e,e+4));t&&!isNaN(t)&&(s=s.replace(`${t}`,""+(t-1)))}}}}else i=null;a.datePanelValue=i,a.datePanelLabel=s},G=()=>{const t=v.value,{inputValue:n}=a;t&&(K(n),a.inputValue=e.multiple?E.value:a.datePanelLabel)},Y=()=>{v.value&&G()},X=e=>{const t=rp.getWhatMonth(e,0,"first");rp.isEqual(t,a.selectMonth)||(a.selectMonth=t)},Z=t=>{const{modelValue:n,multiple:o}=e,l=T.value,r=V.value;if("week"===e.type){const n=rp.toNumber(e.selectDay);t=rp.getWhatWeek(t,0,n,r)}const i=rp.toDateString(t,l,{firstDay:r});if(X(t),a.selectValue=t,o){const e=S.value;e.some((e=>rp.isEqual(e,i)))?U(e.filter((e=>!rp.isEqual(e,i))).join(","),{type:"update"}):U(e.concat([i]).join(","),{type:"update"})}else rp.isEqual(n,i)||U(i,{type:"update"})},Q=(e,t)=>{a.selectMonth=rp.getWhatMonth(e,t,"first")},J=()=>{const e=rp.getWhatDay(Date.now(),0,"first");a.currentDate=e,Q(e,0)},ee=e=>{let{datePanelType:t}=a;t="month"===t||"quarter"===t?"year":"month",a.datePanelType=t,re(e)},te=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l}=a,{yearSize:r}=s;O.value||(a.selectMonth="year"===n?rp.getWhatYear(l,-r,"first"):"month"===n||"quarter"===n?"year"===o?rp.getWhatYear(l,-r,"first"):rp.getWhatYear(l,-1,"first"):"year"===o?rp.getWhatYear(l,-r,"first"):"month"===o?rp.getWhatYear(l,-1,"first"):rp.getWhatMonth(l,-1,"first"),me("date-prev",{type:n},t),re(t))},ne=t=>{J(),e.multiple||Z(a.currentDate),me("date-today",{type:e.type},t),re(t)},oe=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l}=a,{yearSize:r}=s;k.value||(a.selectMonth="year"===n?rp.getWhatYear(l,r,"first"):"month"===n||"quarter"===n?"year"===o?rp.getWhatYear(l,r,"first"):rp.getWhatYear(l,1,"first"):"year"===o?rp.getWhatYear(l,r,"first"):"month"===o?rp.getWhatYear(l,1,"first"):rp.getWhatMonth(l,1,"first"),me("date-next",{type:n},t),re(t))},le=t=>{const{disabledMethod:n}=e,{datePanelType:o}=a;return n&&n({type:o,viewType:o,date:t.date,$calendar:d})},re=e=>{const{datePanelType:t}=a,n=N.value,o=_.value,l=j.value,r=H.value,i=W.value,s=[];let c=[];switch(t){case"year":c=n;break;case"quarter":c=o;break;case"month":c=l;break;case"week":c=r;break;case"day":c=i}c.forEach((e=>{e.forEach((e=>{s.push(e.date)}))})),me("view-change",{viewType:t,viewDates:s},e)},ae=t=>{le(t)||(t=>{const{type:n}=e,{datePanelType:o}=a;"month"===n?"year"===o?(a.datePanelType="month",X(t),re(null)):Z(t):"year"===n?Z(t):"quarter"===n?"year"===o?(a.datePanelType="quarter",X(t),re(null)):Z(t):"month"===o?(a.datePanelType="week"===n?n:"day",X(t),re(null)):"year"===o?(a.datePanelType="month",X(t),re(null)):Z(t)})(t.date)},ie=e=>{if(!le(e)){const{datePanelType:r}=a;"month"===r?(l=e.date,le({date:l})||(B.value.some((e=>rp.isDateSame(e.date,l,"yyyyMM")))||X(l),K(l))):"quarter"===r?(o=e.date,le({date:o})||(L.value.some((e=>rp.isDateSame(e.date,o,"yyyyq")))||X(o),K(o))):"year"===r?(n=e.date,le({date:n})||(P.value.some((e=>rp.isDateSame(e.date,n,"yyyy")))||X(n),K(n))):(t=e.date,le({date:t})||(z.value.some((e=>rp.isDateSame(e.date,t,"yyyyMMdd")))||X(t),K(t)))}var t,n,o,l},se=()=>{},ce=()=>{const{type:t}=e,n=D.value;["year","quarter","month","week"].indexOf(t)>-1?a.datePanelType=t:a.datePanelType="day",a.currentDate=rp.getWhatDay(Date.now(),0,"first"),n?(Q(n,0),K(n)):J()},ue=(t,n)=>{const{festivalMethod:o}=e;if(o){const{datePanelType:e}=a,l=o({type:e,viewType:e,date:t.date,$calendar:d}),r=l?rp.isString(l)?{label:l}:l:{},i=r.extra?rp.isString(r.extra)?{label:r.extra}:r.extra:null,s=[w("span",{class:["vxe-calendar--date-label",{"is-notice":r.notice}]},i&&i.label?[w("span",`${n||""}`),w("span",{class:["vxe-calendar--date-label--extra",i.important?"is-important":"",i.className],style:i.style},rp.toValueString(i.label))]:[`${n||""}`])],c=r.label;if(c){const e=rp.toValueString(c).split(",");s.push(w("span",{class:["vxe-calendar--date-festival",r.important?"is-important":"",r.className],style:r.style},[e.length>1?w("span",{class:["vxe-calendar--date-festival--overlap",`overlap--${e.length}`]},e.map((e=>w("span",e.substring(0,3))))):w("span",{class:"vxe-calendar--date-festival--label"},e[0].substring(0,3))]))}return s}return`${n||""}`},de=()=>{const{datePanelType:t}=a;switch(t){case"week":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=D.value,r=F.value,i=H.value,s=C.value,c="yyyyMMdd";return[w("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("tr",r.map((e=>w("td",{class:"vxe-calendar--view-th"},e.label)))),...i.map((e=>{const n=t?e.some((e=>s.some((t=>rp.isDateSame(t,e.date,c))))):e.some((e=>rp.isDateSame(l,e.date,c))),r=e.some((e=>rp.isDateSame(o,e.date,c)));return w("tr",e.map((e=>w("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":le(e),"is--selected":n,"is--hover":r}],onClick:()=>ae(e),onMouseenter:()=>ie(e)},ue(e,e.label)))))}))])]})();case"month":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=D.value,r=j.value,i=C.value,s="yyyyMM";return[w("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("tbody",r.map((e=>w("tr",e.map((e=>w("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":le(e),"is--selected":t?i.some((t=>rp.isDateSame(t,e.date,s))):rp.isDateSame(l,e.date,s),"is--hover":rp.isDateSame(o,e.date,s)}],onClick:()=>ae(e),onMouseenter:()=>ie(e)},ue(e,em(`vxe.input.date.months.m${e.month}`)))))))))])]})();case"quarter":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=D.value,r=_.value,i=C.value,s="yyyyq";return[w("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("tbody",r.map((e=>w("tr",e.map((e=>w("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":le(e),"is--selected":t?i.some((t=>rp.isDateSame(t,e.date,s))):rp.isDateSame(l,e.date,s),"is--hover":rp.isDateSame(o,e.date,s)}],onClick:()=>ae(e),onMouseenter:()=>ie(e)},ue(e,em(`vxe.input.date.quarters.q${e.quarter}`)))))))))])]})();case"year":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=D.value,r=N.value,i=C.value,s="yyyy";return[w("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("tbody",r.map((e=>w("tr",e.map((e=>w("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":le(e),"is--selected":t?i.some((t=>rp.isDateSame(t,e.date,s))):rp.isDateSame(l,e.date,s),"is--hover":rp.isDateSame(o,e.date,s)}],onClick:()=>ae(e),onMouseenter:()=>ie(e)},ue(e,e.year))))))))])]})()}return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=D.value,r=$.value,i=W.value,s=C.value,c="yyyyMMdd";return[w("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("tr",r.map((e=>w("th",{class:"vxe-calendar--view-th"},e.label)))),...i.map((e=>w("tr",e.map((e=>w("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":le(e),"is--selected":t?s.some((t=>rp.isDateSame(t,e.date,c))):rp.isDateSame(l,e.date,c),"is--hover":rp.isDateSame(o,e.date,c)}],onClick:()=>ae(e),onMouseenter:()=>ie(e)},ue(e,e.label)))))))])]})()},pe=()=>{const{multiple:t}=e,{datePanelType:n}=a,o=O.value,l=k.value,r=R.value;return[w("div",{class:"vxe-calendar--header"},[w("div",{class:"vxe-calendar--type-wrapper"},[w(Nf,{disabled:"year"===n,content:r,onClick:ee})]),w("div",{class:"vxe-calendar--btn-wrapper"},[w(Nf,{disabled:o,icon:"vxe-icon-caret-left",onClick:te}),w(Nf,{icon:"vxe-icon-dot",onClick:ne}),w(Nf,{disabled:l,icon:"vxe-icon-caret-right",onClick:oe}),t&&y.value?w("span",{class:"vxe-calendar--btn vxe-calendar--confirm-btn"},[w("button",{class:"vxe-calendar--confirm",type:"button",onClick:se},em("vxe.button.confirm"))]):null])]),w("div",{class:"vxe-calendar--body"},de())]},me=(e,t,o)=>{n(e,Hp(o,{$input:d},t))},fe={dispatchEvent:me};Object.assign(d,fe);return d.renderVN=()=>{const{className:t,type:n}=e,o=l.value,r=h.value,a=p.value;return w("div",{ref:c,class:["vxe-calendar",`type--${n}`,t,{[`size--${o}`]:o,"is--disabled":r}],style:a},[pe()])},i((()=>e.modelValue),(e=>{a.inputValue=e,G()})),i((()=>e.type),(()=>{Object.assign(a,{selectValue:null,inputValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),Y(),ce()})),i(M,(()=>{v.value&&(K(a.datePanelValue),a.inputValue=e.multiple?E.value:a.datePanelLabel)})),g((()=>{ce()})),Y(),d},render(){return this.renderVN()}}),Uf=Object.assign({},qf,{install(e){e.component(qf.name,qf)}});$m.use(Uf),Rm.component(qf);const Kf=Uf,Gf=p({name:"VxeLoading",props:{modelValue:Boolean,icon:{type:String,default:()=>Rp().loading.icon},showIcon:{type:Boolean,default:()=>Rp().loading.showIcon},text:{type:String,default:()=>Rp().loading.text},showText:{type:Boolean,default:()=>Rp().loading.showText},status:String,size:{type:String,default:()=>Rp().loading.size||Rp().size}},setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId(),{computeSize:r}=Sm(e),a=m({initialized:!1}),s={computeSize:r},c={xID:l,props:e,context:t,reactData:a,getComputeMaps:()=>s},u=f((()=>e.icon||Fp().LOADING)),d=f((()=>{const{text:t}=e;return rp.isString(t)?t:em("vxe.loading.text")})),p=()=>{a.initialized||(a.initialized=!!a.initialized)},g={dispatchEvent:(e,t,n)=>{o(e,Hp(n,{$loading:c},t))}};Object.assign(c,g,{});return i((()=>e.modelValue),(()=>{p()})),p(),c.renderVN=()=>{const{modelValue:t,showIcon:o,status:l}=e,{initialized:i}=a,s=r.value,c=n.default,p=n.text,m=n.icon,f=u.value,g=d.value;return i||t?w("div",{class:["vxe-loading",{[`size--${s}`]:s,[`theme--${l}`]:l,"is--visible":t}]},c?[w("div",{class:"vxe-loading--wrapper"},Um(c({})))]:[w("div",{class:"vxe-loading--chunk"},[o&&(m||f)?w("div",{class:"vxe-loading--icon"},m?Um(m({})):[w("i",{class:f})]):w("div",{class:"vxe-loading--spinner"}),p||g?w("div",{class:"vxe-loading--text"},p?Um(p({})):`${g}`):null])]):x()},c},render(){return this.renderVN()}}),Yf=p({name:"VxeCard",props:{title:String,showTitleOverflow:{type:Boolean,default:()=>Rp().card.showTitleOverflow},width:[String,Number],height:[String,Number],border:{type:Boolean,default:()=>Rp().card.border},loading:Boolean,shadow:{type:Boolean,default:()=>Rp().card.shadow},padding:{type:Boolean,default:()=>Rp().card.padding}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId(),a=r(),i=m({}),s={refElem:a},c=f((()=>{const{height:t,width:n}=e,o={};return n&&(o.width=lf(n)),t&&(o.height=lf(t)),o})),u={},d={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>u},p={dispatchEvent:(e,t,n)=>{o(e,Hp(n,{$card:d},t))}};Object.assign(d,p,{});return d.renderVN=()=>{const{title:t,border:o,shadow:l,padding:r,loading:i,showTitleOverflow:s}=e,u=n.default,d=n.header,p=n.title,m=n.extra,f=n.footer,g=n.left,h=n.right,v=c.value;return w("div",{ref:a,class:["vxe-card",{"is--border":o,"is--shadow":l,"is--padding":r}],style:v},[t||p||d?w("div",{class:"vxe-card--header"},d?Um(d({})):[w("div",{class:["vxe-card--header-title",{"is--ellipsis":s}]},p?Um(p({})):`${t||""}`),m?w("div",{class:"vxe-card--header-extra"},Um(m({}))):x()]):x(),w("div",{class:"vxe-card--body"},[g?w("div",{class:"vxe-card--body-left"},Um(g({}))):x(),w("div",{class:"vxe-card--body-content"},u?Um(u({})):[]),h?w("div",{class:"vxe-card--body-right"},Um(h({}))):x()]),f?w("div",{class:"vxe-card--footer"},Um(f({}))):x(),w(Gf,{class:"vxe-card--loading",modelValue:i})])},d},render(){return this.renderVN()}}),Xf=Object.assign({},Yf,{install(e){e.component(Yf.name,Yf)}});$m.use(Xf),Rm.component(Yf);const Zf=Xf,Qf=p({name:"VxeCarousel",props:{modelValue:[String,Number],options:Array,loading:Boolean,height:{type:[Number,String],default:()=>Rp().carousel.height},width:{type:[Number,String],default:()=>Rp().carousel.width},autoPlay:{type:Boolean,default:()=>Rp().carousel.autoPlay},interval:{type:[Number,String],default:()=>Rp().carousel.interval},loop:{type:Boolean,default:()=>Rp().carousel.loop},vertical:{type:Boolean,default:()=>Rp().carousel.vertical},showIndicators:{type:Boolean,default:()=>Rp().carousel.showIndicators}},emits:["update:modelValue","change"],setup(e,n){const{emit:o,slots:l}=n,a=rp.uniqueId(),s=r(),c=r(),u=m({activeName:"",staticItems:[],itemWidth:0,itemHeight:0}),d={apTimeout:void 0,stopFlag:!1},p={refElem:s},v=f((()=>{const{vertical:t,options:n}=e,{activeName:o,itemWidth:l,itemHeight:r,staticItems:a}=u,i=(a&&a.length?a:n)||[],s=Math.max(0,rp.findIndexOf(i,(e=>e.name===o))),c={};return t?c.transform=`translateY(-${s*r}px)`:(c.width=l*i.length+"px",c.transform=`translateX(-${s*l}px)`),c})),y={},C={xID:a,props:e,context:n,reactData:u,internalData:d,getRefMaps:()=>p,getComputeMaps:()=>y},S=()=>{t((()=>{const e=c.value;e&&(u.itemWidth=e.clientWidth,u.itemHeight=e.clientHeight)}))},E=t=>{let n=null;if(t&&t.length){let l=!1;n=e.modelValue,t.forEach((e=>{n===e.name&&(l=!0)})),l||(n=t[0].name,o("update:modelValue",n))}u.activeName=n},T=t=>{const{options:n,loop:l}=e,{activeName:r,staticItems:a}=u,i=(a&&a.length?a:n)||[],s=Math.max(0,rp.findIndexOf(i,(e=>e.name===r)));if(s>-1){let e=null;if(t?s<i.length-1?e=i[s+1]:l&&(e=i[0]):s>0?e=i[s-1]:l&&(e=i[i.length-1]),e){const t=e.name,n=t;return u.activeName=t,o("update:modelValue",n),!0}}return!1},D={dispatchEvent:(e,t,n)=>{o(e,Hp(n,{$carousel:C},t))},prev:()=>(T(!1)&&M(),t()),next:()=>(T(!0)&&M(),t())},O=e=>{if(T(!1)){const t=u.activeName;o("change",{value:t},e)}},k=e=>{if(T(!0)){const t=u.activeName;o("change",{value:t},e)}},I=()=>{const{apTimeout:e}=d;d.stopFlag=!0,e&&(clearTimeout(e),d.apTimeout=void 0)},M=()=>{const{autoPlay:t,interval:n}=e,{stopFlag:o}=d;I(),t&&(d.stopFlag=!1,d.apTimeout=setTimeout((()=>{o||T(!0)}),rp.toNumber(n)||300))},P=()=>{I()},R=()=>{M()};Object.assign(C,D,{});const V=t=>{const{height:n}=e,{activeName:o}=u,r=v.value;return w("div",{class:"vxe-carousel--list",style:r},t.map((e=>{const{name:t,url:r,slots:a}=e,i=a?a.default:null;return w("div",{key:`${t}`,class:["vxe-carousel--item-inner",{"is--active":o===t}],style:n?{height:lf(n)}:null},i?(c={},(s=i)&&(rp.isString(s)&&(s=l[s]||null),rp.isFunction(s))?Um(s(c)):[]):[w("img",{class:"vxe-carousel--item-img",src:r})]);var s,c})))},A=e=>{const{activeName:t}=u;return w("div",{class:"vxe-carousel--indicators"},e.map((e=>{const{name:n}=e;return w("div",{key:`${n}`,class:["vxe-carousel--indicators-item",{"is--active":t===n}],onClick(t){((e,t)=>{const n=t.name;u.activeName=t.name,o("update:modelValue",n),o("change",{value:n},e),S()})(t,e)}})})))},$=r(0);i((()=>e.options?e.options.length:-1),(()=>{$.value++})),i((()=>e.options),(()=>{$.value++})),i($,(()=>{E(e.options)}));const F=r(0);return i((()=>u.staticItems?u.staticItems.length:-1),(()=>{F.value++})),i((()=>u.staticItems),(()=>{F.value++})),i(F,(()=>{E(u.staticItems)})),i((()=>e.autoPlay),(()=>{M()})),E(u.staticItems.length?u.staticItems:e.options),g((()=>{M(),S()})),h((()=>{I()})),b("$xeCarousel",C),C.renderVN=()=>{const{loading:t,height:n,width:o,showIndicators:r,vertical:a,options:i}=e,{staticItems:d}=u,p=l.default,m=(d&&d.length?d:i)||[];return w("div",{ref:s,class:["vxe-carousel","is--"+(a?"vertical":"horizontal")],style:o?{width:lf(o)}:null,onMouseenter:P,onMouseleave:R},[w("div",{class:"vxe-carousel--slots"},p?p({}):[]),w("div",{ref:c,class:"vxe-carousel--item-wrapper",style:n?{height:lf(n)}:null},[V(m)]),r?A(m):x(),w("div",{class:"vxe-carousel--btn-wrapper"},[w("div",{class:"vxe-carousel--previous-btn",onClick:O},[w("i",{class:a?Fp().CAROUSEL_VERTICAL_PREVIOUS:Fp().CAROUSEL_HORIZONTAL_PREVIOUS})]),w("div",{class:"vxe-carousel--next-btn",onClick:k},[w("i",{class:a?Fp().CAROUSEL_VERTICAL_NEXT:Fp().CAROUSEL_HORIZONTAL_NEXT})])]),w(Gf,{class:"vxe-carousel--loading",modelValue:t})])},C},render(){return this.renderVN()}}),Jf=Object.assign({},Qf,{install(e){e.component(Qf.name,Qf)}});$m.use(Jf),Rm.component(Qf);const eg=Jf;const tg=p({name:"VxeCarouselItem",props:{name:[String,Number],className:String,url:String},emits:[],setup(e,t){const{slots:n,emit:l}=t,a=o("$xeCarousel",null),s=rp.uniqueId(),c=r(),u=m({}),d=m({id:s,name:e.name,url:e.url,className:e.className,slots:n}),p={refElem:c},f={},v={xID:s,props:e,context:t,reactData:u,getRefMaps:()=>p,getComputeMaps:()=>f},b={dispatchEvent:(e,t,n)=>{l(e,Hp(n,{$carouselItem:v},t))}};Object.assign(v,b,{});return i((()=>e.name),(e=>{d.name=e})),i((()=>e.url),(e=>{d.url=e})),g((()=>{const e=c.value;a&&e&&function(e,t,n){const o=e.reactData.staticItems,l=t.parentNode;l&&o.splice(rp.arrayIndexOf(l.children,t),0,n),e.reactData.staticItems=o.slice(0)}(a,e,d)})),h((()=>{a&&function(e,t){const n=e.reactData.staticItems,o=rp.findIndexOf(n,(e=>e.id===t.id));o>-1&&n.splice(o,1),e.reactData.staticItems=n.slice(0)}(a,d)})),v.renderVN=()=>w("div",{ref:c}),v},render(){return this.renderVN()}}),ng=Object.assign({},tg,{install(e){e.component(tg.name,tg)}});$m.use(ng),Rm.component(tg);const og=ng,lg=p({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:{type:Boolean,default:null},size:{type:String,default:()=>Rp().checkbox.size||Rp().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:l}=t,r=o("$xeForm",null),a=o("xeFormItemInfo",null),i=o("$xeCheckboxGroup",null),s=rp.uniqueId(),c=m({}),u={xID:s,props:e,context:t,reactData:c};let d={};const{computeSize:p}=Sm(e),g=f((()=>i?rp.includes(i.props.modelValue,e.label):e.modelValue===e.checkedValue)),h=f((()=>{const{disabled:t}=e,n=g.value;if(null===t&&i){const{computeIsDisabled:e,computeIsMaximize:t}=i.getComputeMaps(),o=e.value,l=t.value;return o||l&&!n}return t})),v=t=>{const{checkedValue:n,uncheckedValue:o}=e;if(!h.value){const s=t.target.checked,c=s?n:o,u={checked:s,value:c,label:e.label};i?i.handleChecked(u,t):(l("update:modelValue",c),d.dispatchEvent("change",u,t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,c))}};d={dispatchEvent:(e,t,n)=>{l(e,Hp(n,{$checkbox:u},t))}},Object.assign(u,d);return u.renderVN=()=>{const{label:t}=e,o=p.value,l=h.value,r=g.value,a=!r&&e.indeterminate;return w("label",{key:t,class:["vxe-checkbox",{[`size--${o}`]:o,"is--indeterminate":a,"is--disabled":l,"is--checked":r}],title:e.title},[w("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:l,checked:r,onChange:v}),w("span",{class:["vxe-checkbox--icon",a?Fp().CHECKBOX_INDETERMINATE:r?Fp().CHECKBOX_CHECKED:Fp().CHECKBOX_UNCHECKED]}),w("span",{class:"vxe-checkbox--label"},n.default?n.default({}):Vf(e.content))])},u},render(){return this.renderVN()}}),rg=Object.assign(lg,{install(e){e.component(lg.name,lg)}});$m.use(rg),Rm.component(lg);const ag=rg,ig=p({name:"VxeCheckboxGroup",props:{modelValue:Array,options:Array,optionProps:Object,disabled:{type:Boolean,default:null},max:{type:[String,Number],default:null},size:{type:String,default:()=>Rp().checkboxGroup.size||Rp().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:l}=t,r=o("$xeForm",null),a=o("xeFormItemInfo",null),i=rp.uniqueId(),s=m({}),c=f((()=>{const{disabled:t}=e;return null===t?!!r&&(r.props.readonly||r.props.disabled):t})),u=f((()=>{const{modelValue:t,max:n}=e;return!!n&&(t?t.length:0)>=rp.toNumber(n)})),d=f((()=>Object.assign({},e.optionProps))),p=f((()=>d.value.label||"label")),g=f((()=>d.value.value||"value")),h=f((()=>d.value.disabled||"disabled")),v={computeIsMaximize:u,computeIsDisabled:c},x={xID:i,props:e,context:t,reactData:s,getComputeMaps:()=>v};Sm(e);const y={dispatchEvent:(e,t,n)=>{l(e,Hp(n,{$checkboxGroup:x},t))}},C={handleChecked(t,n){const{checked:o,label:i}=t,s=e.modelValue||[],c=s.indexOf(i);o?-1===c&&s.push(i):s.splice(c,1),l("update:modelValue",s),x.dispatchEvent("change",Object.assign({checklist:s},t),n),r&&a&&r.triggerItemEvent(n,a.itemConfig.field,s)}};Object.assign(x,y,C);const S=()=>{const{options:t}=e,o=n.default,l=g.value,r=p.value,a=h.value;return w("div",{class:"vxe-checkbox-group"},o?o({}):t?t.map((e=>w(lg,{key:e[l],label:e[l],content:e[r],disabled:e[a]}))):[])};return b("$xeCheckboxGroup",x),x.renderVN=S,S}}),sg=Object.assign(ig,{install(e){e.component(ig.name,ig)}});$m.use(sg),Rm.component(ig);const cg=sg,ug=p({name:"VxeCol",props:{span:[Number,String],align:String,width:[Number,String],fill:Boolean,ellipsis:Boolean,size:{type:String,default:()=>Rp().col.size||Rp().size}},emits:[],setup(e,t){const{slots:n,emit:l}=t,a=rp.uniqueId();Sm(e);const i=r(),s=m({}),c={refElem:i},u=o("$xeRow",null),d=f((()=>u?u.props.gutter:null)),p=f((()=>u?u.props.vertical:null)),g=f((()=>{const{width:t}=e,n=d.value,o=p.value,l={};if(n){let[e,t]=rp.isArray(n)?n:[n];if(o&&(t=e,e=""),e){const t=rp.isNumber(e)?lf(e/2):`calc(${lf(e)} / 2)`;l.paddingLeft=t,l.paddingRight=t}if(t){const e=rp.isNumber(t)?lf(t/2):`calc(${lf(t)} / 2)`;l.paddingTop=e,l.paddingBottom=e}}return t&&(l.width=lf(t)),l})),h={},v={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>h},b={dispatchEvent:(e,t,n)=>{l(e,Hp(n,{$col:v},t))}};Object.assign(v,b,{});return v.renderVN=()=>{const{span:t,fill:o,align:l,ellipsis:r}=e,a=g.value,s=n.default;return w("div",{ref:i,class:["vxe-col",t?`span${t}`:"",l?`align--${l}`:"",{"is--span":t,"is--fill":o,"is--ellipsis":r}],style:a},[w("div",{class:"vxe-col--inner"},s?s({}):[])])},v},render(){return this.renderVN()}}),dg=Object.assign({},ug,{install(e){e.component(ug.name,ug)}});$m.use(dg),Rm.component(ug);const pg=dg,mg=p({name:"VxeCollapse",props:{modelValue:Array,options:Array,padding:{type:Boolean,default:()=>Rp().collapse.padding},expandConfig:Object,size:{type:String,default:()=>Rp().collapse.size||Rp().size}},emits:["update:modelValue","collapse-load"],setup(e,t){const{emit:n,slots:o}=t,l=rp.uniqueId(),{computeSize:a}=Sm(e),s=r(),c=m({staticPanes:[],activeNames:[],initNames:[],cachePaneMaps:{}}),u={refElem:s},d=f((()=>{const{options:t}=e;return(t||[]).filter((e=>x(e)))})),p=f((()=>{const{staticPanes:e}=c;return e.filter((e=>x(e)))})),g=f((()=>Object.assign({},Rp().collapse.expandConfig,e.expandConfig))),h={},v={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>h},x=e=>{const{permissionCode:t}=e;return!(t&&!wm.checkVisible(t))},y=e=>{const{initNames:t}=c;return!(!e||t.includes(e))&&(t.push(e),!0)},C=e=>{const{activeNames:t}=c,n={};e&&e.length&&e.forEach((e=>{const{name:o,preload:l}=e||{};if(o){const e=t.includes(o);n[`${o}`]={loading:!1},e&&y(o),l&&(e||t.push(o))}})),c.activeNames=t?t.slice(0):[],c.cachePaneMaps=n},S={dispatchEvent:(e,t,o)=>{n(e,Hp(o,{$collapse:v},t))}},E=(e,t)=>e&&(rp.isString(e)&&(e=o[e]||null),rp.isFunction(e))?Um(e(t)):[];Object.assign(v,S,{});const T=e=>{const{activeNames:t,initNames:n}=c,o=g.value;return e.map((e=>{const{icon:l,name:r,title:a,slots:i}=e,s=i?i.title:null,u=i?i.default:null,d=r&&t.includes(r);return w("div",{class:"vxe-collapse-item"},[w("div",{class:"vxe-collapse--item-header",onClick(t){((e,t)=>{const{activeNames:n}=c,{name:o}=t;if(o){const e=n.indexOf(o);-1===e?n.push(o):n.splice(e,1),y(o)}})(0,e)}},[o.showIcon?w("span",{class:"vxe-collapse--item-switch"},[w("i",{class:d?Fp().COLLAPSE_OPEN:Fp().COLLAPSE_CLOSE})]):Pm(),l?w("span",{class:"vxe-collapse--item-icon"},[w("i",{class:l})]):Pm(),w("span",{class:"vxe-collapse--item-name"},s?E(s,{name:r,title:a}):`${a}`)]),w("div",{class:["vxe-collapse--item-content",{"is--visible":d}]},[r&&n.includes(r)?w("div",{class:"vxe-collapse--item-inner"},[u?E(u,{name:r,title:a}):""]):Pm()])])}))};i((()=>e.modelValue),(e=>{c.activeNames=e||[]}));const D=r(0);i((()=>e.options?e.options.length:-1),(()=>{D.value++})),i((()=>e.options),(()=>{D.value++})),i(D,(()=>{C(e.options)}));const O=r(0);return i((()=>c.staticPanes?c.staticPanes.length:-1),(()=>{O.value++})),i((()=>c.staticPanes),(()=>{O.value++})),i(O,(()=>{C(c.staticPanes)})),c.activeNames=e.modelValue||[],C(c.staticPanes.length?c.staticPanes:e.options),b("$xeCollapse",v),v.renderVN=()=>{const{padding:t}=e,n=a.value,l=d.value,r=p.value,i=o.default,c=i?r:l;return w("div",{ref:s,class:["vxe-collapse",{[`size--${n}`]:n,"is--padding":t}]},[w("div",{class:"vxe-collapse-slots"},i?i({}):[]),T(c)])},v},render(){return this.renderVN()}}),fg=Object.assign({},mg,{install(e){e.component(mg.name,mg)}});$m.use(fg),Rm.component(mg);const gg=fg;const hg=p({name:"VxeCollapsePane",props:{title:[String,Number],name:[String,Number],icon:String,preload:Boolean,permissionCode:[String,Number]},emits:[],setup(e,t){const{emit:n,slots:l}=t,a=rp.uniqueId(),s=o("$xeCollapse",null),c=r(),u=m({}),d=m({id:a,title:e.title,name:e.name,icon:e.icon,preload:e.preload,permissionCode:e.permissionCode,slots:l}),p={refElem:c},f={},v={xID:a,props:e,context:t,reactData:u,getRefMaps:()=>p,getComputeMaps:()=>f},b={dispatchEvent:(e,t,o)=>{n(e,Hp(o,{$collapsePane:v},t))}};Object.assign(v,b,{});return i((()=>e.title),(e=>{d.title=e})),i((()=>e.name),(e=>{d.name=e})),i((()=>e.icon),(e=>{d.icon=e})),i((()=>e.permissionCode),(e=>{d.permissionCode=e})),g((()=>{const e=c.value;s&&e&&function(e,t,n){const o=e.reactData.staticPanes,l=t.parentNode;l&&(o.splice(rp.arrayIndexOf(l.children,t),0,n),e.reactData.staticPanes=o.slice(0))}(s,e,d)})),h((()=>{s&&function(e,t){const n=e.reactData.staticPanes,o=rp.findTree(n,(e=>e.id===t.id),{children:"children"});o&&o.items.splice(o.index,1),e.reactData.staticPanes=n.slice(0)}(s,d)})),v.renderVN=()=>w("div",{ref:c},[]),v},render(){return this.renderVN()}}),vg=Object.assign({},hg,{install(e){e.component(hg.name,hg)}});$m.use(vg),Rm.component(hg);const bg=vg,xg={},yg={};"FF,FC,FA,F7,F5,F2,F0,ED,EB,E8,E6,E3,E0,DE,DB,D9,D6,D4,D1,CF,CC,C9,C7,C4,C2,BF,BD,BA,B8,B5,B3,B0,AD,AB,A8,A6,A3,A1,9E,9C,99,96,94,91,8F,8C,8A,87,85,82,80,7D,7A,78,75,73,70,6E,6B,69,66,63,61,5E,5C,59,57,54,52,4F,4D,4A,47,45,42,40,3D,3B,38,36,33,30,2E,2B,29,26,24,21,1F,1C,1A,17,14,12,0F,0D,0A,08,05,03,00".split(",").forEach(((e,t)=>{const n=(100-t)/100;xg[e]=n,yg[n]=e}));const wg=/^rgb(a?)\((\d{1,3})[,\s]+(\d{1,3})[,\s]+(\d{1,3})([,//\s]+([0-9.]{1,4})(%?))?\)$/,Cg=/^(#?)([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;function Sg(e){const t={value:"",type:"",hex:"",hexV:"",hexA:"",r:0,g:0,b:0,a:1};if(e){const n=e.match(Cg);n&&(t.value=e,t.type="hex",t.hex=e,t.hexV=n[2],t.hexA=n[3]||"",t.a=(n[3]?xg[n[3].toUpperCase()]:1)||1);const o=e.match(wg);o&&(t.value=e,t.type=o[6]?"rgba":"rgb",t.r=parseInt(o[2]),t.g=parseInt(o[3]),t.b=parseInt(o[4]),t.a=o[7]?parseInt(o[6])/100:o[6]?parseFloat(o[6]):1)}return t}function Eg(e,t,n,o){return rp.eqNull(o)?`rgb(${e},${t},${n})`:`rgba(${e},${t},${n},${o})`}function Tg(e){if(!e)return null;const{r:t,g:n,b:o}=e,l=t/255,r=n/255,a=o/255;let i=0,s=0;const c=Math.max(l,r,a),u=c-Math.min(l,r,a),d=e=>(c-e)/6/u+.5;if(0===u)i=s=0;else{s=u/c;const e=d(l),t=d(r),n=d(a);l===c?i=n-t:r===c?i=1/3+e-n:a===c&&(i=2/3+t-e),i<0?i+=1:i>1&&(i-=1)}return{h:Math.round(360*i),s:rp.round(s,2),v:rp.round(c,2)}}function Dg(e){const t=Og(e);return t?Tg(t):null}function Og(e){if(e){const t=e.match(/^(#?)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})?$/);if(t)return{r:parseInt(t[2],16),g:parseInt(t[3],16),b:parseInt(t[4],16),a:(t[5]?xg[t[5].toUpperCase()]:1)||1}}return null}function kg(e){return rp.isString(e)?e.replace(/,/g,""):e}function Ig(e,t){return/^-/.test(""+e)?rp.toFixed(rp.ceil(e,t),t):rp.toFixed(rp.floor(e,t),t)}const Mg=p({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>Rp().input.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:{type:String,default:null},maxLength:[String,Number],autoComplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>Rp().input.size||Rp().size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],trim:{type:Boolean,default:()=>Rp().input.trim},exponential:{type:Boolean,default:()=>Rp().input.exponential},controls:{type:Boolean,default:()=>Rp().input.controls},digits:{type:[String,Number],default:()=>Rp().input.digits},startDate:{type:[String,Number,Date],default:()=>Rp().input.startDate},endDate:{type:[String,Number,Date],default:()=>Rp().input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>Rp().input.startDay},labelFormat:String,valueFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>Rp().input.festivalMethod},disabledMethod:{type:Function,default:()=>Rp().input.disabledMethod},selectDay:{type:[String,Number],default:()=>Rp().input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,n){const{slots:l,emit:a}=n,c=o("$xeSelect",null),u=o("$xeTreeSelect",null),d=o("$xeModal",null),p=o("$xeDrawer",null),h=o("$xeTable",null),v=o("$xeForm",null),b=o("xeFormItemInfo",null),y=rp.uniqueId(),{computeSize:C}=Sm(e),E=m({initialized:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),T={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0,dnTimeout:void 0},D=r(),O=r(),k=r(),I=r(),M=r(),P={refElem:D,refInput:O},R={xID:y,props:e,context:n,reactData:E,internalData:T,getRefMaps:()=>P};let V={};const A=(t,n)=>{const{type:o}=e;return"time"===o?Wf(t):rp.toStringDate(t,n)},$=f((()=>{const{transfer:t}=e;if(null===t){const e=Rp().input.transfer;if(rp.isBoolean(e))return e;if(h||d||p||v)return!0}return t})),F=f((()=>!!v&&v.props.readonly)),N=f((()=>{const{readonly:t}=e;return t})),L=f((()=>{const{disabled:t}=e;return null===t?!!v&&v.props.disabled:t})),_=f((()=>{const{maxLength:t,maxlength:n}=e,o=t||n;return j.value&&!rp.toNumber(o)?16:o})),B=f((()=>{const{type:t}=e;return"time"===t||"datetime"===t})),j=f((()=>["number","integer","float"].indexOf(e.type)>-1)),z=f((()=>rp.getSize(E.inputValue))),W=f((()=>{const e=z.value,t=_.value;return t&&e>rp.toNumber(t)})),H=f((()=>B.value||["date","week","month","quarter","year"].indexOf(e.type)>-1)),q=f((()=>"password"===e.type)),U=f((()=>"search"===e.type)),K=f((()=>rp.toInteger(e.digits)||1)),G=f((()=>{const{type:t}=e,n=K.value,o=e.step;return"integer"===t?rp.toInteger(o)||1:"float"===t?rp.toNumber(o)||1/Math.pow(10,n):rp.toNumber(o)||1})),Y=f((()=>{const{type:t}=e,n=j.value,o=H.value,l=q.value;return e.clearable&&(l||n||o||"text"===t||"search"===t)})),X=f((()=>e.startDate?rp.toStringDate(e.startDate):null)),Z=f((()=>e.endDate?rp.toStringDate(e.endDate):null)),Q=f((()=>["date","week","month","quarter","year"].indexOf(e.type)>-1)),J=f((()=>{const{modelValue:t,multiple:n}=e,o=H.value,l=ne.value;return n&&t&&o?rp.toValueString(t).split(",").map((e=>{const t=A(e,l);return rp.isValidDate(t)?t:null})):[]})),ee=f((()=>{const e=J.value,t=ne.value;return e.map((e=>rp.toDateString(e,t)))})),te=f((()=>{const e=J.value,t=se.value;return e.map((e=>rp.toDateString(e,t))).join(", ")})),ne=f((()=>{const{type:t,valueFormat:n}=e;return n||("time"===t?"HH:mm:ss":"datetime"===t?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")})),oe=f((()=>{const{modelValue:t}=e,n=H.value,o=ne.value;let l=null;if(t&&n){const e=A(t,o);rp.isValidDate(e)&&(l=e)}return l})),le=f((()=>{const e=X.value,{selectMonth:t}=E;return!(!t||!e)&&t<=e})),re=f((()=>{const e=Z.value,{selectMonth:t}=E;return!(!t||!e)&&t>=e})),ae=f((()=>{const{datetimePanelValue:e}=E,t=De.value;return e?rp.toDateString(e,t?"HH:mm:ss":"HH:mm"):""})),ie=f((()=>{const e=oe.value,t=B.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0})),se=f((()=>{const{labelFormat:t}=e;return H.value?t||em(`vxe.input.date.labelFormat.${e.type}`):""})),ce=f((()=>{const{selectMonth:e,currentDate:t}=E,{yearSize:n}=T,o=[];if(e&&t){const l=t.getFullYear(),r=e.getFullYear(),a=new Date(r-r%n,0,1);for(let e=-4;e<n+4;e++){const t=rp.getWhatYear(a,e,"first"),r=t.getFullYear();o.push({date:t,isCurrent:!0,isPrev:e<0,isNow:l===r,isNext:e>=n,year:r})}}return o})),ue=f((()=>{if(H.value){const{datePanelType:e,selectMonth:t}=E,n=ce.value;let o,l="";return t&&(l=t.getFullYear(),o=t.getMonth()+1),"quarter"===e?em("vxe.input.date.quarterLabel",[l]):"month"===e?em("vxe.input.date.monthLabel",[l]):"year"===e?n.length?`${n[0].year} - ${n[n.length-1].year}`:"":em("vxe.input.date.dayLabel",[l,o?em(`vxe.input.date.m${o}`):"-"])}return""})),de=f((()=>{const{startDay:t,startWeek:n}=e;return rp.toNumber(rp.isNumber(t)||rp.isString(t)?t:n)})),pe=f((()=>{const e=[];if(H.value){let t=de.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e})),me=f((()=>{if(H.value){return pe.value.map((e=>({value:e,label:em(`vxe.input.date.weeks.w${e}`)})))}return[]})),fe=f((()=>{if(H.value){const e=me.value;return[{label:em("vxe.input.date.weeks.w")}].concat(e)}return[]})),ge=f((()=>{const e=ce.value;return rp.chunk(e,4)})),he=f((()=>{const{selectMonth:e,currentDate:t}=E,{quarterSize:n}=T,o=[];if(e&&t){const l=t.getFullYear(),r=Hf(t),a=rp.getWhatYear(e,0,"first"),i=a.getFullYear();for(let e=-2;e<n-2;e++){const t=rp.getWhatQuarter(a,e),n=t.getFullYear(),s=Hf(t),c=n<i;o.push({date:t,isPrev:c,isCurrent:n===i,isNow:n===l&&s===r,isNext:!c&&n>i,quarter:s})}}return o})),ve=f((()=>{const e=he.value;return rp.chunk(e,2)})),be=f((()=>{const{selectMonth:e,currentDate:t}=E,{monthSize:n}=T,o=[];if(e&&t){const l=t.getFullYear(),r=t.getMonth(),a=rp.getWhatYear(e,0,"first").getFullYear();for(let t=-4;t<n-4;t++){const n=rp.getWhatYear(e,0,t),i=n.getFullYear(),s=n.getMonth(),c=i<a;o.push({date:n,isPrev:c,isCurrent:i===a,isNow:i===l&&s===r,isNext:!c&&i>a,month:s})}}return o})),xe=f((()=>{const e=be.value;return rp.chunk(e,4)})),ye=f((()=>{const{selectMonth:e,currentDate:t}=E,n=[];if(e&&t){const o=ie.value,l=pe.value,r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-l.indexOf(u),p=new Date(rp.getWhatDay(e,d).getTime()+o);for(let t=0;t<42;t++){const o=rp.getWhatDay(p,t),l=o.getFullYear(),u=o.getMonth(),d=o.getDate(),m=o<e;n.push({date:o,isPrev:m,isCurrent:l===s&&u===c,isNow:l===r&&u===a&&d===i,isNext:!m&&c!==u,label:d})}}return n})),we=f((()=>{const e=ye.value;return rp.chunk(e,7)})),Ce=f((()=>{const e=we.value,t=de.value;return e.map((e=>{const n=e[0];return[{date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:rp.getYearWeek(n.date,t)}].concat(e)}))})),Se=f((()=>{const e=[];if(B.value)for(let t=0;t<24;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),Ee=f((()=>{const e=[];if(B.value)for(let t=0;t<60;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),Te=f((()=>{const e=ne.value;return!/HH/.test(e)||/mm/.test(e)})),De=f((()=>{const e=ne.value;return!/HH/.test(e)||/ss/.test(e)})),Oe=f((()=>Ee.value)),ke=f((()=>{const{type:t,editable:n,multiple:o}=e;return N.value||o||!n||"week"===t||"quarter"===t})),Ie=f((()=>{const{type:t}=e,{showPwd:n}=E,o=j.value,l=H.value,r=q.value;return l||o||r&&n||"number"===t?"text":t})),Me=f((()=>{const{placeholder:t}=e;if(t)return Vf(t);if(rp.eqNull(t)){const e=Rp().input.placeholder;return e?Vf(e):em("vxe.base.pleaseInput")}return t})),Pe=f((()=>{const{type:t,immediate:n}=e;return n||!("text"===t||"number"===t||"integer"===t||"float"===t)})),Re=f((()=>{const{type:t}=e,{inputValue:n}=E;return j.value?"integer"===t?rp.toInteger(kg(n)):rp.toNumber(kg(n)):0})),Ve=f((()=>{const{min:t}=e,{inputValue:n}=E,o=j.value,l=Re.value;return!(!n&&0!==n||!o||null===t)&&l<=rp.toNumber(t)})),Ae=f((()=>{const{max:t}=e,{inputValue:n}=E,o=j.value,l=Re.value;return!(!n&&0!==n||!o||null===t)&&l>=rp.toNumber(t)})),$e=t=>{const{type:n,exponential:o}=e,l=_.value,r=K.value,a="float"===n?Ig(t,r):rp.toValueString(t);return!o||t!==a&&rp.toValueString(t).toLowerCase()!==rp.toNumber(a).toExponential()?a.slice(0,l):t},Fe=e=>{const{inputValue:t}=E;V.dispatchEvent(e.type,{value:t},e)},Ne=(t,n)=>{e.trim&&(t=`${t||""}`.trim()),E.inputValue=t,(e=>{a("update:modelValue",e)})(t),V.dispatchEvent("input",{value:t},n),rp.toValueString(e.modelValue)!==t&&(V.dispatchEvent("change",{value:t},n),c||u||v&&b&&v.triggerItemEvent(n,b.itemConfig.field,t))},Le=(e,t)=>{const n=H.value,o=Pe.value;E.inputValue=e,n||(o?Ne(e,t):V.dispatchEvent("input",{value:e},t))},_e=e=>{const t=e.target.value;Le(t,e)},Be=e=>{Pe.value||Fe(e)},je=e=>{const{inputValue:t}=E,n=t;Pe.value||Ne(n,e),et(),E.visiblePanel||(E.isActivated=!1),V.dispatchEvent("blur",{value:n},e),c||u||v&&b&&v.triggerItemEvent(e,b.itemConfig.field,n)},ze=e=>{const{inputValue:t}=E,n=j.value,o=H.value;E.isActivated=!0,n?E.inputValue=Af(t)?"":`${rp.toNumber(t)}`:o&&Rt(e),Fe(e)},We=e=>{if(!L.value){const{inputValue:t}=E;V.dispatchEvent("prefix-click",{value:t},e)}},He=()=>new Promise((e=>{E.visiblePanel=!1,T.hpTimeout=window.setTimeout((()=>{E.isAniVisible=!1,e()}),350)})),qe=(t,n)=>{const{type:o}=e,l=j.value;H.value&&He(),(l||["text","search","password"].indexOf(o)>-1)&&focus(),Ne("",t),V.dispatchEvent("clear",{value:n},t)},Ue=e=>{if(!L.value){const{inputValue:t}=E;V.dispatchEvent("suffix-click",{value:t},e)}},Ke=t=>{const{type:n}=e,o=se.value,l=ne.value,r=de.value;let a=null,i="";if(t&&(a=A(t,l)),rp.isValidDate(a)){if(i=rp.toDateString(a,o,{firstDay:r}),o&&"week"===n){const e=rp.getYearWeek(a,r),t=rp.getWhatWeek(a,0,1===e?(6+r)%7:r,r).getFullYear();if(t!==a.getFullYear()){const e=o.indexOf("yyyy");if(e>-1){const n=Number(i.substring(e,e+4));n&&!isNaN(n)&&(i=i.replace(`${n}`,`${t}`))}}}}else a=null;E.datePanelValue=a,E.datePanelLabel=i},Ge=()=>{const t=H.value,{inputValue:n}=E;t&&(Ke(n),E.inputValue=e.multiple?te.value:E.datePanelLabel)},Ye=()=>{const{type:t}=e,{inputValue:n}=E,o=H.value,l=K.value;if(o)Ge();else if("float"===t&&n){const e=Ig(n,l);n!==e&&Ne(e,{type:"init"})}},Xe=t=>null===e.max||rp.toNumber(t)<=rp.toNumber(e.max),Ze=t=>null===e.min||rp.toNumber(t)>=rp.toNumber(e.min),Qe=e=>{const t=de.value,n=rp.getYearWeek(e,t),o=rp.getWhatWeek(e,0,t,t),l=rp.getWhatMonth(1===n?rp.getWhatDay(o,6):e,0,"first");rp.isEqual(l,E.selectMonth)||(E.selectMonth=l)},Je=t=>{const{modelValue:n,multiple:o}=e,{datetimePanelValue:l}=E,r=B.value,a=ne.value,i=de.value;if("week"===e.type){const n=rp.toNumber(e.selectDay);t=rp.getWhatWeek(t,0,n,i)}else r&&(t.setHours(l.getHours()),t.setMinutes(l.getMinutes()),t.setSeconds(l.getSeconds()));const s=rp.toDateString(t,a,{firstDay:i});if(Qe(t),o){const e=ee.value;if(r){const e=[...J.value],n=[],o=rp.findIndexOf(e,(e=>rp.isDateSame(t,e,"yyyyMMdd")));-1===o?e.push(t):e.splice(o,1),e.forEach((e=>{e&&(e.setHours(l.getHours()),e.setMinutes(l.getMinutes()),e.setSeconds(l.getSeconds()),n.push(e))})),Ne(n.map((e=>rp.toDateString(e,a))).join(","),{type:"update"})}else e.some((e=>rp.isEqual(e,s)))?Ne(e.filter((e=>!rp.isEqual(e,s))).join(","),{type:"update"}):Ne(e.concat([s]).join(","),{type:"update"})}else rp.isEqual(n,s)||Ne(s,{type:"update"})},et=()=>{const{type:t,min:n,max:o,exponential:l}=e,{inputValue:r,datetimePanelValue:a}=E,i=j.value,s=H.value,c=se.value;if(!ke.value)if(i){if(r){let e="integer"===t?rp.toInteger(kg(r)):rp.toNumber(kg(r));if(Ze(e)?Xe(e)||(e=o):e=n,l){const t=rp.toValueString(r).toLowerCase();t===rp.toNumber(e).toExponential()&&(e=t)}Ne($e(e),{type:"check"})}}else if(s)if(r){let n=A(r,c);if(rp.isValidDate(n))if("time"===t)n=rp.toDateString(n,c),r!==n&&Ne(n,{type:"check"}),E.inputValue=n;else{let e=!1;const o=de.value;if("datetime"===t){const t=oe.value;r===rp.toDateString(t,c)&&r===rp.toDateString(n,c)||(e=!0,a.setHours(n.getHours()),a.setMinutes(n.getMinutes()),a.setSeconds(n.getSeconds()))}else e=!0;E.inputValue=rp.toDateString(n,c,{firstDay:o}),e&&Je(n)}else E.inputValue=e.multiple?te.value:E.datePanelLabel}else Ne("",{type:"check"})},tt=e=>{const{showPwd:t}=E,n=L.value,o=N.value;n||o||(E.showPwd=!t),V.dispatchEvent("toggle-visible",{visible:E.showPwd},e)},nt=e=>{V.dispatchEvent("search-click",{},e)},ot=(t,n)=>{const{min:o,max:l,type:r}=e,{inputValue:a}=E,i=G.value,s="integer"===r?rp.toInteger(kg(a)):rp.toNumber(kg(a)),c=t?rp.add(s,i):rp.subtract(s,i);let u;u=Ze(c)?Xe(c)?c:l:o,Le($e(u),n)},lt=e=>{const t=L.value,n=N.value,o=Ve.value;ct(),t||n||o||ot(!1,e),V.dispatchEvent("next-number",{value:E.inputValue},e)},rt=e=>{T.dnTimeout=window.setTimeout((()=>{lt(e),rt(e)}),60)},at=e=>{const t=L.value,n=N.value,o=Ae.value;ct(),t||n||o||ot(!0,e),V.dispatchEvent("prev-number",{value:E.inputValue},e)},it=t=>{const{exponential:n,controls:o}=e;if(j.value){const e=t.ctrlKey,l=t.shiftKey,r=t.altKey,a=t.keyCode,i=qp.hasKey(t,Np.ESCAPE),s=qp.hasKey(t,Np.ARROW_UP),c=qp.hasKey(t,Np.ARROW_DOWN);e||l||r||!(qp.hasKey(t,Np.SPACEBAR)||(!n||69!==a)&&a>=65&&a<=90||a>=186&&a<=188||a>=191)||t.preventDefault(),i?et():(s||c)&&o&&(e=>{const t=qp.hasKey(e,Np.ARROW_UP),n=qp.hasKey(e,Np.ARROW_DOWN);(t||n)&&(e.preventDefault(),t?at(e):lt(e))})(t)}Fe(t)},st=e=>{Fe(e)},ct=()=>{const{dnTimeout:e}=T;e&&(clearTimeout(e),T.dnTimeout=void 0)},ut=e=>{T.dnTimeout=window.setTimeout((()=>{at(e),ut(e)}),60)},dt=e=>{if(ct(),0===e.button){const t=nf(e.currentTarget,"is--prev");t?at(e):lt(e),T.dnTimeout=window.setTimeout((()=>{t?ut(e):rt(e)}),500)}},pt=t=>{if(j.value&&e.controls&&E.isActivated){const e=t.deltaY;e>0?lt(t):e<0&&at(t),t.preventDefault()}Fe(t)},mt=(e,t)=>{const n=de.value,o=rp.getYearWeek(e,n),l=rp.getWhatWeek(e,0,n,n),r=rp.getWhatMonth(1===o?rp.getWhatDay(l,6):e,t,"first");E.selectMonth=r},ft=()=>{const e=rp.getWhatDay(Date.now(),0,"first");E.currentDate=e,mt(e,0)},gt=()=>{let{datePanelType:e}=E;e="month"===e||"quarter"===e?"year":"month",E.datePanelType=e},ht=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l,inputValue:r}=E,{yearSize:a}=T,i=r;if(!le.value){let e;e="year"===n?rp.getWhatYear(l,-a,"first"):"month"===n||"quarter"===n?"year"===o?rp.getWhatYear(l,-a,"first"):rp.getWhatYear(l,-1,"first"):"year"===o?rp.getWhatYear(l,-a,"first"):"month"===o?rp.getWhatYear(l,-1,"first"):rp.getWhatMonth(l,-1,"first"),E.selectMonth=e,V.dispatchEvent("date-prev",{viewType:o,viewDate:e,value:i,type:n},t)}},vt=t=>{ft(),e.multiple||(Je(E.currentDate),He()),V.dispatchEvent("date-today",{type:e.type},t)},bt=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l,inputValue:r}=E,{yearSize:a}=T,i=r;if(!re.value){let e;e="year"===n?rp.getWhatYear(l,a,"first"):"month"===n||"quarter"===n?"year"===o?rp.getWhatYear(l,a,"first"):rp.getWhatYear(l,1,"first"):"year"===o?rp.getWhatYear(l,a,"first"):"month"===o?rp.getWhatYear(l,1,"first"):rp.getWhatMonth(l,1,"first"),E.selectMonth=e,V.dispatchEvent("date-next",{viewType:o,viewDate:e,value:i,type:n},t)}},xt=t=>{const{disabledMethod:n}=e,{datePanelType:o}=E,l=X.value,r=Z.value,{date:a}=t;return!!(l&&l.getTime()>a.getTime())||(!!(r&&r.getTime()<a.getTime())||!!n&&n({type:o,viewType:o,date:a,$input:R}))},yt=t=>{const{type:n,multiple:o}=e,{datePanelType:l}=E;"month"===n?"year"===l?(E.datePanelType="month",Qe(t)):(Je(t),o||He()):"year"===n?(Je(t),o||He()):"quarter"===n?"year"===l?(E.datePanelType="quarter",Qe(t)):(Je(t),o||He()):"month"===l?(E.datePanelType="week"===n?n:"day",Qe(t)):"year"===l?(E.datePanelType="month",Qe(t)):(Je(t),"datetime"===n||o||He())},wt=e=>{xt(e)||yt(e.date)},Ct=e=>{if(!xt({date:e})){ye.value.some((t=>rp.isDateSame(t.date,e,"yyyyMMdd")))||Qe(e),Ke(e)}},St=e=>{if(!xt({date:e})){ce.value.some((t=>rp.isDateSame(t.date,e,"yyyy")))||Qe(e),Ke(e)}},Et=e=>{if(!xt({date:e})){he.value.some((t=>rp.isDateSame(t.date,e,"yyyyq")))||Qe(e),Ke(e)}},Tt=e=>{if(!xt({date:e})){be.value.some((t=>rp.isDateSame(t.date,e,"yyyyMM")))||Qe(e),Ke(e)}},Dt=e=>{if(!xt(e)){const{datePanelType:t}=E;"month"===t?Tt(e.date):"quarter"===t?Et(e.date):"year"===t?St(e.date):Ct(e.date)}},Ot=e=>{if(e){const t=e.offsetHeight;e.parentNode.scrollTop=e.offsetTop-4*t}},kt=e=>{E.datetimePanelValue=new Date(E.datetimePanelValue.getTime()),Ot(e.currentTarget)},It=()=>{const{multiple:t}=e,{datetimePanelValue:n}=E,o=oe.value,l=B.value;if(l){const e=ne.value;if(t){const t=ee.value;if(l){const t=[...J.value],o=[];t.forEach((e=>{e&&(e.setHours(n.getHours()),e.setMinutes(n.getMinutes()),e.setSeconds(n.getSeconds()),o.push(e))})),Ne(o.map((t=>rp.toDateString(t,e))).join(","),{type:"update"})}else Ne(t.join(","),{type:"update"})}else Je(o||E.currentDate)}He()},Mt=()=>t().then((()=>{const{placement:n}=e,{panelIndex:o}=E,l=O.value,r=k.value,a=$.value;if(l&&r){const e=l.offsetHeight,i=l.offsetWidth,s=r.offsetHeight,c=r.offsetWidth,u=5,d={zIndex:o},{boundingTop:p,boundingLeft:m,visibleHeight:f,visibleWidth:g}=cf(l);let h="bottom";if(a){let t=m,o=p+e;"top"===n?(h="top",o=p-s):n||(o+s+u>f&&(h="top",o=p-s),o<u&&(h="bottom",o=p+e)),t+c+u>g&&(t-=t+c+u-g),t<u&&(t=u),Object.assign(d,{left:`${t}px`,top:`${o}px`,minWidth:`${i}px`})}else"top"===n?(h="top",d.bottom=`${e}px`):n||(d.top=`${e}px`,p+e+s>f&&p-e-s>u&&(h="top",d.top="",d.bottom=`${e}px`));return E.panelStyle=d,E.panelPlacement=h,t()}})),Pt=()=>{const{visiblePanel:n}=E,{hpTimeout:o}=T,l=L.value,r=H.value;return l||n?t():(E.initialized||(E.initialized=!0),o&&(clearTimeout(o),T.hpTimeout=void 0),E.isActivated=!0,E.isAniVisible=!0,r&&(()=>{const{type:n}=e,o=B.value,l=oe.value;["year","quarter","month","week"].indexOf(n)>-1?E.datePanelType=n:E.datePanelType="day",E.currentDate=rp.getWhatDay(Date.now(),0,"first"),l?(mt(l,0),Ke(l)):ft(),o&&(E.datetimePanelValue=E.datePanelValue||rp.getWhatDay(Date.now(),0,"first"),t((()=>{const e=M.value;rp.arrayEach(e.querySelectorAll("li.is--selected"),(e=>{Ot(e)}))})))})(),setTimeout((()=>{E.visiblePanel=!0}),10),E.panelIndex<Rf()&&(E.panelIndex=Pf()),Mt())},Rt=e=>{N.value||(e.preventDefault(),Pt())},Vt=e=>{Fe(e)},At=e=>{const{visiblePanel:t,isActivated:n}=E,o=H.value,l=D.value,r=I.value;!L.value&&n&&(E.isActivated=af(e,l).flag||af(e,r).flag,E.isActivated||(o?t&&(He(),et()):et()))},$t=t=>{const{clearable:n}=e,{visiblePanel:o}=E,l=L.value,r=H.value;if(!l){const e=qp.hasKey(t,Np.TAB),l=qp.hasKey(t,Np.DELETE),a=qp.hasKey(t,Np.ESCAPE),i=qp.hasKey(t,Np.ENTER),s=qp.hasKey(t,Np.ARROW_LEFT),c=qp.hasKey(t,Np.ARROW_UP),u=qp.hasKey(t,Np.ARROW_RIGHT),d=qp.hasKey(t,Np.ARROW_DOWN),p=qp.hasKey(t,Np.PAGE_UP),m=qp.hasKey(t,Np.PAGE_DOWN),f=s||c||u||d;let g=E.isActivated;e?(g&&et(),g=!1,E.isActivated=g):f?r&&g&&(o?(e=>{const{isActivated:t,datePanelValue:n,datePanelType:o}=E;if(t){e.preventDefault();const t=qp.hasKey(e,Np.ARROW_LEFT),l=qp.hasKey(e,Np.ARROW_UP),r=qp.hasKey(e,Np.ARROW_RIGHT),a=qp.hasKey(e,Np.ARROW_DOWN);if("year"===o){let e=rp.getWhatYear(n||Date.now(),0,"first");t?e=rp.getWhatYear(e,-1):l?e=rp.getWhatYear(e,-4):r?e=rp.getWhatYear(e,1):a&&(e=rp.getWhatYear(e,4)),St(e)}else if("quarter"===o){let e=rp.getWhatQuarter(n||Date.now(),0,"first");t?e=rp.getWhatQuarter(e,-1):l?e=rp.getWhatQuarter(e,-2):r?e=rp.getWhatQuarter(e,1):a&&(e=rp.getWhatQuarter(e,2)),Et(e)}else if("month"===o){let e=rp.getWhatMonth(n||Date.now(),0,"first");t?e=rp.getWhatMonth(e,-1):l?e=rp.getWhatMonth(e,-4):r?e=rp.getWhatMonth(e,1):a&&(e=rp.getWhatMonth(e,4)),Tt(e)}else{let e=n||rp.getWhatDay(Date.now(),0,"first");const o=de.value;t?e=rp.getWhatDay(e,-1):l?e=rp.getWhatWeek(e,-1,o):r?e=rp.getWhatDay(e,1):a&&(e=rp.getWhatWeek(e,1,o)),Ct(e)}}})(t):(c||d)&&Rt(t)):i?r&&(o?E.datePanelValue?yt(E.datePanelValue):He():g&&Rt(t)):(p||m)&&r&&g&&(e=>{const{isActivated:t}=E;if(t){const t=qp.hasKey(e,Np.PAGE_UP);e.preventDefault(),t?ht(e):bt(e)}})(t),e||a?o&&He():l&&n&&g&&qe(t,null)}},Ft=e=>{const{visiblePanel:t}=E;if(!L.value&&t){af(e,I.value).flag?Mt():(He(),et())}},Nt=()=>{const{isActivated:e,visiblePanel:t}=E;t?(He(),et()):e&&et()},Lt=(t,n)=>{const{festivalMethod:o}=e;if(o){const{datePanelType:e}=E,l=o({type:e,viewType:e,date:t.date,$input:R}),r=l?rp.isString(l)?{label:l}:l:{},a=r.extra?rp.isString(r.extra)?{label:r.extra}:r.extra:null,i=[w("span",{class:["vxe-input--date-label",{"is-notice":r.notice}]},a&&a.label?[w("span",`${n||""}`),w("span",{class:["vxe-input--date-label--extra",a.important?"is-important":"",a.className],style:a.style},rp.toValueString(a.label))]:[`${n||""}`])],s=r.label;if(s){const e=rp.toValueString(s).split(",");i.push(w("span",{class:["vxe-input--date-festival",r.important?"is-important":"",r.className],style:r.style},[e.length>1?w("span",{class:["vxe-input--date-festival--overlap",`overlap--${e.length}`]},e.map((e=>w("span",e.substring(0,3))))):w("span",{class:"vxe-input--date-festival--label"},e[0].substring(0,3))]))}return i}return[`${n||""}`]},_t=()=>{const{datePanelType:t}=E;switch(t){case"week":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=fe.value,a=Ce.value,i=J.value,s="yyyyMMdd";return[w("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("thead",[w("tr",r.map((e=>w("th",e.label))))]),w("tbody",a.map((e=>{const n=t?e.some((e=>i.some((t=>rp.isDateSame(t,e.date,s))))):e.some((e=>rp.isDateSame(l,e.date,s))),r=e.some((e=>rp.isDateSame(o,e.date,s)));return w("tr",e.map((e=>w("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":xt(e),"is--selected":n,"is--hover":r},onClick:()=>wt(e),onMouseenter:()=>Dt(e)},Lt(e,e.label)))))})))])]})();case"month":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=xe.value,a=J.value,i="yyyyMM";return[w("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("tbody",r.map((e=>w("tr",e.map((e=>w("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":xt(e),"is--selected":t?a.some((t=>rp.isDateSame(t,e.date,i))):rp.isDateSame(l,e.date,i),"is--hover":rp.isDateSame(o,e.date,i)},onClick:()=>wt(e),onMouseenter:()=>Dt(e)},Lt(e,em(`vxe.input.date.months.m${e.month}`)))))))))])]})();case"quarter":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=ve.value,a=J.value,i="yyyyq";return[w("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("tbody",r.map((e=>w("tr",e.map((e=>w("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":xt(e),"is--selected":t?a.some((t=>rp.isDateSame(t,e.date,i))):rp.isDateSame(l,e.date,i),"is--hover":rp.isDateSame(o,e.date,i)},onClick:()=>wt(e),onMouseenter:()=>Dt(e)},Lt(e,em(`vxe.input.date.quarters.q${e.quarter}`)))))))))])]})();case"year":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=ge.value,a=J.value,i="yyyy";return[w("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("tbody",r.map((e=>w("tr",e.map((e=>w("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":xt(e),"is--selected":t?a.some((t=>rp.isDateSame(t,e.date,i))):rp.isDateSame(l,e.date,i),"is--hover":rp.isDateSame(o,e.date,i)},onClick:()=>wt(e),onMouseenter:()=>Dt(e)},Lt(e,e.year))))))))])]})()}return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=me.value,a=we.value,i=J.value,s="yyyyMMdd";return[w("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("thead",[w("tr",r.map((e=>w("th",e.label))))]),w("tbody",a.map((e=>w("tr",e.map((e=>w("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":xt(e),"is--selected":t?i.some((t=>rp.isDateSame(t,e.date,s))):rp.isDateSame(l,e.date,s),"is--hover":rp.isDateSame(o,e.date,s)},onClick:()=>wt(e),onMouseenter:()=>Dt(e)},Lt(e,e.label))))))))])]})()},Bt=()=>{const{multiple:t}=e,{datePanelType:n}=E,o=le.value,l=re.value,r=ue.value;return[w("div",{class:"vxe-input--date-picker-header"},[w("div",{class:"vxe-input--date-picker-type-wrapper"},[w("span","year"===n?{class:"vxe-input--date-picker-label"}:{class:"vxe-input--date-picker-btn",onClick:gt},r)]),w("div",{class:"vxe-input--date-picker-btn-wrapper"},[w("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":o}],onClick:ht},[w("i",{class:"vxe-icon-caret-left"})]),w("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:vt},[w("i",{class:"vxe-icon-dot"})]),w("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":l}],onClick:bt},[w("i",{class:"vxe-icon-caret-right"})]),t&&Q.value?w("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[w("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:It},em("vxe.button.confirm"))]):null])]),w("div",{class:"vxe-input--date-picker-body"},_t())]},jt=()=>{const{datetimePanelValue:e}=E,t=ae.value,n=Se.value,o=Te.value,l=Ee.value,r=De.value,a=Oe.value;return[w("div",{class:"vxe-input--time-picker-header"},[o?w("span",{class:"vxe-input--time-picker-title"},t):x(),w("div",{class:"vxe-input--time-picker-btn"},[w("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:It},em("vxe.button.confirm"))])]),w("div",{ref:M,class:"vxe-input--time-picker-body"},[w("ul",{class:"vxe-input--time-picker-hour-list"},n.map(((t,n)=>w("li",{key:n,class:{"is--selected":e&&e.getHours()===t.value},onClick:e=>((e,t)=>{E.datetimePanelValue.setHours(t.value),kt(e)})(e,t)},t.label)))),o?w("ul",{class:"vxe-input--time-picker-minute-list"},l.map(((t,n)=>w("li",{key:n,class:{"is--selected":e&&e.getMinutes()===t.value},onClick:e=>((e,t)=>{E.datetimePanelValue.setMinutes(t.value),kt(e)})(e,t)},t.label)))):x(),o&&r?w("ul",{class:"vxe-input--time-picker-second-list"},a.map(((t,n)=>w("li",{key:n,class:{"is--selected":e&&e.getSeconds()===t.value},onClick:e=>((e,t)=>{E.datetimePanelValue.setSeconds(t.value),kt(e)})(e,t)},t.label)))):x()])]},zt=()=>{const{type:t}=e,{initialized:n,isAniVisible:o,visiblePanel:l,panelPlacement:r,panelStyle:a}=E,i=C.value,s=$.value,c=[];return H.value?("datetime"===t?c.push(w("div",{key:t,ref:I,class:"vxe-input--panel-layout-wrapper"},[w("div",{class:"vxe-input--panel-left-wrapper"},Bt()),w("div",{class:"vxe-input--panel-right-wrapper"},jt())])):"time"===t?c.push(w("div",{key:t,ref:I,class:"vxe-input--panel-wrapper"},jt())):c.push(w("div",{key:t||"default",ref:I,class:"vxe-input--panel-wrapper"},Bt())),w(S,{to:"body",disabled:!s||!n},[w("div",{ref:k,class:["vxe-table--ignore-clear vxe-input--panel",`type--${t}`,{[`size--${i}`]:i,"is--transfer":s,"ani--leave":o,"ani--enter":l}],placement:r,style:a},l||o?c:[])])):x()},Wt=()=>{const{controls:t}=e,n=j.value,o=H.value,l=q.value,r=U.value;return l?(()=>{const{showPwd:e}=E;return w("div",{class:"vxe-input--control-icon",onClick:tt},[w("i",{class:["vxe-input--password-icon",e?Fp().PASSWORD_INPUT_SHOW_PWD:Fp().PASSWORD_INPUT_HIDE_PWD]})])})():n&&t?(()=>{const e=Ae.value,t=Ve.value;return w("div",{class:"vxe-input--control-icon"},[w("div",{class:"vxe-input--number-icon"},[w("div",{class:["vxe-input--number-btn is--prev",{"is--disabled":e}],onMousedown:dt,onMouseup:ct,onMouseleave:ct},[w("i",{class:Fp().NUMBER_INPUT_PREV_NUM})]),w("div",{class:["vxe-input--number-btn is--next",{"is--disabled":t}],onMousedown:dt,onMouseup:ct,onMouseleave:ct},[w("i",{class:Fp().NUMBER_INPUT_NEXT_NUM})])])])})():o?w("div",{class:"vxe-input--control-icon",onClick:Rt},[w("i",{class:["vxe-input--date-picker-icon",Fp().DATE_PICKER_DATE]})]):r?w("div",{class:"vxe-input--control-icon",onClick:nt},[w("i",{class:["vxe-input--search-icon",Fp().INPUT_SEARCH]})]):x()};V={dispatchEvent:(e,t,n)=>{a(e,Hp(n,{$input:R},t))},focus(){const e=O.value;return E.isActivated=!0,e.focus(),t()},blur:()=>(O.value.blur(),E.isActivated=!1,t()),select:()=>(O.value.select(),E.isActivated=!1,t()),showPanel:Pt,hidePanel:He,updatePlacement:Mt},Object.assign(R,V);return i((()=>e.modelValue),(e=>{E.inputValue=e,Ge()})),i((()=>e.type),(()=>{Object.assign(E,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),Ye()})),i(se,(()=>{H.value&&(Ke(E.datePanelValue),E.inputValue=e.multiple?te.value:E.datePanelLabel)})),g((()=>{qp.on(R,"mousewheel",Ft),qp.on(R,"mousedown",At),qp.on(R,"keydown",$t),qp.on(R,"blur",Nt)})),s((()=>{ct(),et(),qp.off(R,"mousewheel"),qp.off(R,"mousedown"),qp.off(R,"keydown"),qp.off(R,"blur")})),Ye(),R.renderVN=()=>{const{className:t,controls:n,type:o,align:r,showWordCount:a,countMethod:i,name:s,autoComplete:c,autocomplete:u}=e,{inputValue:d,visiblePanel:p,isActivated:m}=E,f=C.value,g=L.value;if(F.value)return w("div",{ref:D,class:["vxe-input--readonly",`type--${o}`,t]},d);const h=W.value,v=z.value,b=ke.value,y=_.value,S=Ie.value,T=Me.value,k=Y.value,I=a&&["text","search"].includes(o),M=(()=>{const{prefixIcon:t}=e,n=l.prefix;return n||t?w("div",{class:"vxe-input--prefix",onClick:We},[w("div",{class:"vxe-input--prefix-icon"},n?Um(n({})):[w("i",{class:t})])]):null})(),P=(()=>{const{suffixIcon:t}=e,{inputValue:n}=E,o=l.suffix,r=L.value,a=j.value,i=H.value,s=q.value,c=U.value,u=Y.value,d=s||a||i||c;return u||o||t||d?w("div",{class:["vxe-input--suffix",{"is--clear":u&&!r&&!(""===n||rp.eqNull(n))}]},[u?w("div",{class:"vxe-input--clear-icon",onClick:qe},[w("i",{class:Fp().INPUT_CLEAR})]):x(),d?Wt():x(),o||t?w("div",{class:"vxe-input--suffix-icon",onClick:Ue},o?Um(o({})):[w("i",{class:t})]):x()]):null})();return w("div",{ref:D,class:["vxe-input",`type--${o}`,t,{[`size--${f}`]:f,[`is--${r}`]:r,"is--controls":n,"is--prefix":!!M,"is--suffix":!!P,"is--visible":p,"is--count":I,"is--disabled":g,"is--active":m,"show--clear":k&&!g&&!(""===d||rp.eqNull(d))}],spellcheck:!1},[M||x(),w("div",{class:"vxe-input--wrapper"},[w("input",{ref:O,class:"vxe-input--inner",value:d,name:s,type:S,placeholder:T,maxlength:y,readonly:b,disabled:g,autocomplete:c||u,onKeydown:it,onKeyup:st,onWheel:pt,onClick:Vt,onInput:_e,onChange:Be,onFocus:ze,onBlur:je})]),P||x(),zt(),I?w("span",{class:["vxe-input--count",{"is--error":h}]},i?`${i({value:d})}`:`${v}${y?`/${y}`:""}`):x()])},R},render(){return this.renderVN()}}),Pg=p({name:"VxeColorPicker",props:{modelValue:String,placeholder:String,clearable:{type:Boolean,default:()=>Rp().colorPicker.clearable},type:{type:String,default:()=>Rp().colorPicker.type},size:{type:String,default:()=>Rp().colorPicker.size||Rp().size},className:[String,Function],popupClassName:[String,Function],colors:{type:Array,default:()=>rp.clone(Rp().colorPicker.colors,!0)||[]},showAlpha:{type:Boolean,default:()=>Rp().colorPicker.showAlpha},showColorExtractor:{type:Boolean,default:()=>Rp().colorPicker.showColorExtractor},showQuick:{type:Boolean,default:()=>Rp().colorPicker.showQuick},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},clickToCopy:{type:Boolean,default:()=>Rp().colorPicker.clickToCopy},placement:String,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","click"],setup(e,n){const{emit:l}=n,a=o("$xeModal",null),s=o("$xeDrawer",null),c=o("$xeTable",null),u=o("$xeForm",null),d=o("xeFormItemInfo",null),p=rp.uniqueId(),{computeSize:v}=Sm(e),x=r(),y=r(),C=r(),E=r(),T=r(),D=r(),O=r(),k=r(),I=r(),M=m({initialized:!1,selectColor:`${e.modelValue||""}`,panelColor:"",hexValue:"",rValue:0,gValue:0,bValue:0,aValue:0,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),P={},R=f((()=>{const{readonly:t}=e;return null===t?!!u&&u.props.readonly:t})),V=f((()=>{const{disabled:t}=e;return null===t?!!u&&u.props.disabled:t})),A=f((()=>{const{transfer:t}=e;if(null===t){const e=Rp().colorPicker.transfer;if(rp.isBoolean(e))return e;if(c||a||s||u)return!0}return t})),$=f((()=>{const{colors:t}=e;return t?t.map((e=>rp.isString(e)?{label:e,value:e}:{label:rp.eqNull(e.label)?e.value:e.label,value:e.value})):[]})),F=f((()=>{const{type:t}=e;return"rgb"===t||"rgba"===t?"rgb":"hex"})),N=f((()=>"rgb"===F.value)),L={refElem:x},_={},B={xID:p,props:e,context:n,reactData:M,getRefMaps:()=>L,getComputeMaps:()=>_},j=()=>{const{modelValue:t}=e;M.selectColor=rp.toValueString(t),z()},z=()=>{const{selectColor:e,isAniVisible:t}=M,n=N.value,o=E.value,l=D.value,r=Sg(e);if(M.hexValue=r.hex,M.rValue=r.r,M.gValue=r.g,M.bValue=r.b,M.aValue=r.a,r.value)if(n){if("hex"===r.type){const e=Og(r.hex);e&&(M.rValue=e.r,M.gValue=e.g,M.bValue=e.b,M.aValue=e.a)}}else"hex"!==r.type&&(M.hexValue=function(e){if(!e)return"";const{r:t,g:n,b:o,a:l=1}=e;return`#${t.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}${1===l?"":yg[l]||""}`.toUpperCase()}(r));if(t){const e="hex"===r.type?Dg(r.hex):Tg(r),t=k.value;if(e){if(t){const n=t.clientHeight*(1-e.v),o=t.clientWidth*e.s;ae(o,n)}o&&Q(rp.ceil((1-e.h/360)*o.clientWidth))}l&&te(l.clientWidth*r.a)}},W=()=>t().then((()=>{const{placement:n}=e,{panelIndex:o}=M,l=x.value,r=C.value,a=A.value;if(r&&l){const e=l.offsetHeight,i=l.offsetWidth,s=r.offsetHeight,c=r.offsetWidth,u=5,d={zIndex:o},{boundingTop:p,boundingLeft:m,visibleHeight:f,visibleWidth:g}=cf(l);let h="bottom";if(a){let t=m,o=p+e;"top"===n?(h="top",o=p-s):n||(o+s+u>f&&(h="top",o=p-s),o<u&&(h="bottom",o=p+e)),t+c+u>g&&(t-=t+c+u-g),t<u&&(t=u),Object.assign(d,{left:`${t}px`,top:`${o}px`,minWidth:`${i}px`})}else"top"===n?(h="top",d.bottom=`${e}px`):n||p+e+s>f&&p-e-s>u&&(h="top",d.bottom=`${e}px`);return M.panelStyle=d,M.panelPlacement=h,t()}})),H=()=>{const{hpTimeout:e}=P;V.value||(e&&(clearTimeout(e),P.hpTimeout=void 0),M.initialized||(M.initialized=!0),M.isActivated=!0,M.isAniVisible=!0,setTimeout((()=>{z(),M.visiblePanel=!0}),10),M.panelIndex<Rf()&&(M.panelIndex=Pf()),W())},q=()=>{M.visiblePanel=!1,P.hpTimeout=window.setTimeout((()=>{M.isAniVisible=!1}),350)},U=(t,n)=>{M.selectColor=n,n!==e.modelValue&&((e=>{l("update:modelValue",e)})(n),pe("change",{value:n},t),u&&d&&u.triggerItemEvent(t,d.itemConfig.field,n))},K=()=>{V.value||M.visiblePanel||H()},G=()=>{M.isActivated=!1},Y=e=>{((e,t)=>{U(e,t),pe("clear",{value:t},e)})(e,null),q()},X=e=>{const{selectColor:t}=M;U(e,t),q()},Z=e=>{(e=>{e.preventDefault(),M.visiblePanel?q():H()})(e),pe("click",{},e)},Q=e=>{const t=E.value,n=T.value;if(t&&n){e<0&&(e=0);const o=rp.toInteger(t.clientWidth),l=255,r=6*l,a=rp.ceil(r/o*e),i=a%l;let s=0,c=0,u=0;switch(Math.ceil(a/l)){case 1:s=l,u=i;break;case 2:s=l-i,u=l;break;case 3:c=i,u=l;break;case 4:c=l,u=l-i;break;case 5:s=i,c=l;break;case 6:s=l,c=l-i}M.panelColor=Eg(s,c,u),n.style.left=lf(e)}},J=e=>{const t=E.value,n=T.value;if(t&&n){const n=t.getBoundingClientRect(),o=rp.toInteger(t.clientWidth),l=rp.ceil(Math.min(o-1,Math.max(1,e.clientX-n.x)));Q(l)}},ee=e=>{e.preventDefault(),document.onmousemove=e=>{e.preventDefault(),J(e)},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,J(e)}},te=e=>{const{selectColor:t}=M,n=D.value,o=O.value;if(n&&o){const l=n.getBoundingClientRect().width;e<0&&(e=0),e>l&&(e=l);const r=rp.ceil(100/l*e/100,2);M.aValue=r,o.style.left=lf(e),M.selectColor=function(e,t=1){const n=Sg(e),{type:o,hexV:l,r:r,g:a,b:i}=n;return"rgb"===o||"rgba"===o?Eg(r,a,i,t):"hex"===o?`#${l}${1===t?"":yg[t]||""}`:""}(t,r)}},ne=e=>{const t=D.value,n=O.value;if(t&&n){const n=t.getBoundingClientRect(),o=n.width,l=Math.min(o,Math.max(0,e.clientX-n.x));te(l),z()}},oe=e=>{e.preventDefault(),document.onmousemove=e=>{e.preventDefault(),ne(e)},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,ne(e)}},le=()=>{const{rValue:e,gValue:t,bValue:n,aValue:o}=M;M.selectColor=Eg(e,t,n,o),z()},re=()=>{const{aValue:e}=M,t=D.value,n=O.value;if(t&&n){const n=t.getBoundingClientRect().width;te(n*e)}},ae=(e,t)=>{const n=I.value;n&&(n.style.top=lf(t),n.style.left=lf(e))},ie=t=>{const{showAlpha:n}=e,{panelColor:o,aValue:l}=M,r=k.value,a=I.value;if(r&&a){const e=r.getBoundingClientRect(),a=t.clientY-e.y,i=t.clientX-e.x,s=Sg(o);{const e="hex"===s.type?Dg(s.hex):Tg(s);if(e){const t=function(e,t,n){let o=0,l=0,r=0;const a=Math.floor(e/60),i=e/60-a,s=n*(1-t),c=n*(1-i*t),u=n*(1-(1-i)*t);switch(a){case 0:o=n,l=u,r=s;break;case 1:o=c,l=n,r=s;break;case 2:o=s,l=n,r=u;break;case 3:o=s,l=c,r=n;break;case 4:o=u,l=s,r=n;break;case 5:o=n,l=s,r=c}return{r:Math.round(255*o),g:Math.round(255*l),b:Math.round(255*r)}}(e.h,i/r.clientWidth,1-a/r.clientHeight);M.selectColor=Eg(t.r,t.g,t.b,n?l:null),ae(i,a),z()}}}},se=()=>{const{selectColor:e}=M;e&&Rm.clipboard.copy(e)&&Rm.modal&&Rm.modal.message({content:em("vxe.colorPicker.copySuccess",[e]),status:"success"})},ce=e=>{const{visiblePanel:t}=M;if(!V.value&&t){af(e,C.value).flag?W():q()}},ue=e=>{const{visiblePanel:t}=M;if(!V.value){const n=x.value,o=C.value;M.isActivated=af(e,n).flag||af(e,o).flag,t&&!M.isActivated&&q()}},de=()=>{q()},pe=(e,t,n)=>{l(e,Hp(n,{$colorPicker:B},t))},me={dispatchEvent:pe};Object.assign(B,me,{});const fe=()=>{const{showColorExtractor:t}=e,{panelColor:n}=M;return t?w("div",{ref:k,class:"vxe-color-picker--color-wrapper",onMousedown:ie},[w("div",{class:"vxe-color-picker--color-bg",style:{backgroundColor:n}}),w("div",{class:"vxe-color-picker--white-bg"}),w("div",{class:"vxe-color-picker--black-bg"}),w("div",{ref:I,class:"vxe-color-picker--color-active"})]):Pm()},ge=()=>{const{showAlpha:t,clickToCopy:n}=e,{hexValue:o,rValue:l,gValue:r,bValue:a,aValue:i,selectColor:s,panelColor:c}=M,u=F.value,d=N.value;return w("div",{class:"vxe-color-picker--bar-wrapper"},[w("div",{class:"vxe-color-picker--slider-wrapper"},[w("div",{class:"vxe-color-picker--slider-preview"},[w("div",{class:"vxe-color-picker--preview-btn"},[w("div",{class:"vxe-color-picker--preview-color",style:{backgroundColor:s}},n?[w("span",{class:"vxe-color-picker--preview-copy-btn",onClick:se},[w("i",{class:Fp().COLOR_COPY})])]:[])])]),w("div",{class:"vxe-color-picker--slider-handle"},[w("div",{ref:E,class:"vxe-color-picker--bar-hue-slider",onClick:J},[w("div",{ref:T,class:"vxe-color-picker--bar-hue-btn",onMousedown:ee})]),t?w("div",{ref:D,class:"vxe-color-picker--bar-alpha-slider",onClick:ne},[w("div",{class:"vxe-color-picker--bar-alpha-bg",style:{background:`linear-gradient(to right, rgba(0, 0, 0, 0), ${c})`}}),w("div",{ref:O,class:"vxe-color-picker--bar-alpha-btn",onMousedown:oe})]):Pm()])]),w("div",{class:`vxe-color-picker--${u}-wrapper`},d?[w("div",{class:"vxe-color-picker--input-wrapper"},[w(Mg,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:l,"onUpdate:modelValue"(e){M.rValue=e},onChange:le}),w(Mg,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:r,"onUpdate:modelValue"(e){M.gValue=e},onChange:le}),w(Mg,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:a,"onUpdate:modelValue"(e){M.bValue=e},onChange:le}),w(Mg,{type:"number",size:"mini",align:"center",min:0,max:1,step:.01,maxLength:4,placeholder:"",modelValue:i,"onUpdate:modelValue"(e){M.aValue=e},onChange:re})]),w("div",{class:"vxe-color-picker--input-title"},[w("span","R"),w("span","G"),w("span","B"),w("span","A")])]:[w("div",{class:"vxe-color-picker--input-title"},"HEX"),w("div",{class:"vxe-color-picker--input-wrapper"},[w(Mg,{type:"text",size:"mini",align:"center",maxLength:9,placeholder:"",modelValue:o,"onUpdate:modelValue"(e){M.hexValue=e},onChange(){const e=Sg(M.hexValue);e.value&&(M.selectColor=e.value,z())}})])])])},he=()=>{const{showQuick:t}=e,n=$.value;return t&&n.length?w("div",{class:"vxe-color-picker--quick-wrapper"},n.map(((e,t)=>w("div",{key:t,class:"vxe-color-picker--quick-item",title:e.label||"",style:{backgroundColor:e.value},onClick(t){((e,t)=>{const n=t.value;M.selectColor=n,z()})(0,e)}})))):Pm()};return i((()=>e.modelValue),(()=>{j()})),g((()=>{qp.on(B,"mousewheel",ce),qp.on(B,"mousedown",ue),qp.on(B,"blur",de)})),h((()=>{qp.off(B,"mousewheel"),qp.off(B,"mousedown"),qp.off(B,"blur")})),j(),b("$xeColorPicker",B),B.renderVN=()=>{const{className:t,popupClassName:n,clearable:o,modelValue:l}=e,{initialized:r,isActivated:a,isAniVisible:i,visiblePanel:s}=M,c=v.value,u=V.value,d=A.value;return R.value?w("div",{ref:x,class:["vxe-color-picker--readonly",t]},[w("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:l}})]):w("div",{ref:x,class:["vxe-color-picker",t?rp.isFunction(t)?t({$colorPicker:B}):t:"",{[`size--${c}`]:c,"is--selected":!!l,"is--visible":s,"is--disabled":u,"is--active":a}]},[w("input",{ref:y,class:"vxe-color-picker--input",onFocus:K,onBlur:G}),w("div",{class:"vxe-color-picker--inner",onClick:Z},[w("div",{class:"vxe-color-picker--inner-color",style:{backgroundColor:l}})]),w(S,{to:"body",disabled:!d||!r},[w("div",{ref:C,class:["vxe-table--ignore-clear vxe-color-picker--panel",n?rp.isFunction(n)?n({$colorPicker:B}):n:"",{[`size--${c}`]:c,"is--transfer":d,"ani--leave":i,"ani--enter":s}],placement:M.panelPlacement,style:M.panelStyle},[r&&(s||i)?w("div",{class:"vxe-color-picker--panel-wrapper"},[fe(),ge(),he(),w("div",{class:"vxe-color-picker--footer-wrapper"},[o?w(Nf,{content:em("vxe.colorPicker.clear"),size:"mini",onClick:Y}):Pm(),w(Nf,{content:em("vxe.colorPicker.confirm"),size:"mini",status:"primary",onClick:X})])]):Pm()])])])},B},render(){return this.renderVN()}}),Rg=Object.assign({},Pg,{install(e){e.component(Pg.name,Pg)}});$m.use(Rg),Rm.component(Pg);const Vg=Rg,Ag=p({name:"VxeText",props:{status:String,title:[String,Number],icon:String,loading:Boolean,content:[String,Number],clickToCopy:Boolean,size:{type:String,default:()=>Rp().text.size||Rp().size}},emits:["click"],setup(e,t){const{emit:n,slots:o}=t,l=rp.uniqueId(),{computeSize:a}=Sm(e),i=r(),s=r(),c=m({}),u={refElem:i},d={},p=()=>{const{content:t,clickToCopy:n}=e;if(n){const e=s.value,n=(e?e.textContent:"")||t;n&&(Rm.clipboard.copy(n)?Rm.modal&&Rm.modal.message({content:em("vxe.text.copySuccess"),status:"success"}):Rm.modal&&Rm.modal.message({content:em("vxe.text.copyError"),status:"error"}))}},f={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},g=(e,t,o)=>{n(e,Hp(o,{$text:f},t))},h={dispatchEvent:g},v=t=>{const{loading:n}=e;n||g("click",{},t)};Object.assign(f,h,{});return f.renderVN=()=>{const{loading:t,status:n,title:l,clickToCopy:r}=e,c=a.value;return w("span",{ref:i,title:l,class:["vxe-text",{[`size--${c}`]:c,[`theme--${n}`]:n,"is--copy":r,"is--loading":t}],onClick:v},(()=>{const{loading:t,icon:n,content:l,clickToCopy:r}=e,a=o.default,i=o.icon;return[t?w("span",{class:"vxe-text--loading"},[w("i",{class:Fp().TEXT_LOADING})]):i||n||r?w("span",{class:"vxe-text--icon",onClick:p},i?Um(i({})):[w("i",{class:n||Fp().TEXT_COPY})]):x(),w("span",{ref:s,class:"vxe-text--content"},a?a({}):rp.toValueString(l))]})())},f},render(){return this.renderVN()}}),$g=p({name:"VxeCountdown",props:{modelValue:[Number,String],format:String,prefixConfig:Object,suffixConfig:Object,size:{type:String,default:()=>Rp().countdown.size||Rp().size}},emits:["update:modelValue","start","end"],setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId(),a=r(),{computeSize:s}=Sm(e),c=m({currNum:0,secondNum:0}),u={dnTimeout:void 0},d={refElem:a},p=f((()=>{const{secondNum:e}=c;return e>=316224e5?["yyyy","MM","dd","HH","mm","ss"]:e>=26784e5?["MM","dd","HH","mm","ss"]:e>=864e5?["dd","HH","mm","ss"]:e>=36e5?["HH","mm","ss"]:e>=6e4?["mm","ss"]:["ss"]})),v=f((()=>{const{currNum:e}=c;return rp.getDateDiff(Date.now(),Date.now()+e)})),b=f((()=>{const{format:t}=e,n=v.value;let o="";return t?(o=`${t}`,rp.each(n,((e,t)=>{o=o.replace(new RegExp(t,"g"),rp.padStart(e,t.length,"0"))})),o):o})),y=f((()=>Object.assign({},e.prefixConfig,Rp().countdown.prefixConfig))),C=f((()=>Object.assign({},e.suffixConfig,Rp().countdown.suffixConfig))),S={computeSize:s},E={xID:l,props:e,context:t,reactData:c,internalData:u,getRefMaps:()=>d,getComputeMaps:()=>S},T=(e,t,n)=>{o(e,Hp(n,{$carousel:E},t))},D=()=>{const t=rp.toNumber(e.modelValue||0);c.secondNum=t,c.currNum=t},O=()=>{const{currNum:e}=c;e>1e3?(c.currNum-=1e3,u.dnTimeout=setTimeout((()=>{O()}),1e3)):(c.currNum=0,M())},k={dispatchEvent:T},I=()=>{T("start",{},null),O()},M=()=>{const{dnTimeout:e}=u;e&&(clearTimeout(e),u.dnTimeout=void 0,T("end",{},null))};Object.assign(E,k,{});const P=()=>{const{format:t}=e,n=p.value,o=v.value,l=b.value;return t?[w("div",{key:"format",class:"vxe-countdown--content-format"},l)]:n.map(((e,t)=>w("div",{key:t,class:"vxe-countdown--content-item"},[w("div",{class:"vxe-countdown--content-num"},`${o[e]||0}`),w("div",{class:"vxe-countdown--content-unit"},em(`vxe.countdown.formats.${e}`))])))};return i((()=>e.modelValue),(()=>{D(),M(),I()})),h((()=>{M()})),g((()=>{I()})),D(),E.renderVN=()=>{const{prefixConfig:t,suffixConfig:o}=e,{currNum:l}=c,r=s.value,i=v.value,u=y.value,d=C.value,p=n.prefix,m=n.suffix,f=n.default;return w("div",{ref:a,class:["vxe-countdown",i.done?"is--progress":"is-end",{[`size--${r}`]:r}]},[p||t?w("div",{class:"vxe-countdown--prefix"},p?Um(p({currentValue:l,diffConf:i})):[w(Ag,{content:u.content,icon:u.icon,status:u.status})]):x(),w("div",{class:"vxe-countdown--content"},f?Um(f({currentValue:l,diffConf:i})):P()),m||o?w("div",{class:"vxe-countdown--suffix"},m?Um(m({currentValue:l,diffConf:i})):[w(Ag,{content:d.content,icon:d.icon,status:d.status})]):x()])},E},render(){return this.renderVN()}}),Fg=Object.assign({},$g,{install(e){e.component($g.name,$g)}});$m.use(Fg),Rm.component($g);const Ng=Fg,Lg=p({name:"VxeDatePicker",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"date"},clearable:{type:Boolean,default:()=>Rp().datePicker.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,maxLength:[String,Number],autoComplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>Rp().datePicker.size||Rp().size},multiple:Boolean,startDate:{type:[String,Number,Date],default:()=>Rp().datePicker.startDate},endDate:{type:[String,Number,Date],default:()=>Rp().datePicker.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>Rp().datePicker.startDay},labelFormat:String,valueFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>Rp().datePicker.festivalMethod},disabledMethod:{type:Function,default:()=>Rp().datePicker.disabledMethod},selectDay:{type:[String,Number],default:()=>Rp().datePicker.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},shortcutConfig:Object,startWeek:Number,maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","prefix-click","suffix-click","date-prev","date-today","date-next","shortcut-click"],setup(e,n){const{slots:l,emit:a}=n,s=o("$xeModal",null),c=o("$xeDrawer",null),u=o("$xeTable",null),d=o("$xeForm",null),p=o("xeFormItemInfo",null),g=rp.uniqueId(),{computeSize:v}=Sm(e),b=m({initialized:!1,panelIndex:0,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:"",datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),y={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0},C=r(),E=r(),T=r(),D=r(),O=r(),k={refElem:C,refInput:E},I={xID:g,props:e,context:n,reactData:b,internalData:y,getRefMaps:()=>k};let M={};const P=f((()=>{const{transfer:t}=e;if(null===t){const e=Rp().datePicker.transfer;if(rp.isBoolean(e))return e;if(u||s||c||d)return!0}return t})),R=f((()=>{const{readonly:t}=e;return null===t?!!d&&d.props.readonly:t})),V=f((()=>{const{disabled:t}=e;return null===t?!!d&&d.props.disabled:t})),A=f((()=>{const{type:t}=e;return"time"===t||"datetime"===t})),$=f((()=>A.value||["date","week","month","quarter","year"].indexOf(e.type)>-1)),F=f((()=>e.clearable)),N=f((()=>e.startDate?rp.toStringDate(e.startDate):null)),L=f((()=>e.endDate?rp.toStringDate(e.endDate):null)),_=f((()=>["date","week","month","quarter","year"].indexOf(e.type)>-1)),B=f((()=>{const{modelValue:t,multiple:n}=e,o=$.value,l=W.value;return n&&t&&o?rp.toValueString(t).split(",").map((e=>{const t=we(e,l);return rp.isValidDate(t),t})):[]})),j=f((()=>{const e=B.value,t=W.value;return e.map((e=>rp.toDateString(e,t)))})),z=f((()=>{const e=B.value,t=Y.value;return e.map((e=>rp.toDateString(e,t))).join(", ")})),W=f((()=>{const{type:t,valueFormat:n}=e;return n||("time"===t?"HH:mm:ss":"datetime"===t?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")})),H=f((()=>{const{modelValue:t}=e,n=$.value,o=W.value;let l=null;if(t&&n){const e=we(t,o);rp.isValidDate(e)&&(l=e)}return l})),q=f((()=>{const e=N.value,{selectMonth:t}=b;return!(!t||!e)&&t<=e})),U=f((()=>{const e=L.value,{selectMonth:t}=b;return!(!t||!e)&&t>=e})),K=f((()=>{const{datetimePanelValue:e}=b,t=me.value;return e?rp.toDateString(e,t?"HH:mm:ss":"HH:mm"):""})),G=f((()=>{const e=H.value,t=A.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0})),Y=f((()=>{const{labelFormat:t}=e;return $.value?t||em(`vxe.input.date.labelFormat.${e.type}`):null})),X=f((()=>{const{yearSize:e}=y,{selectMonth:t,currentDate:n}=b,o=[];if(t&&n){const l=n.getFullYear(),r=t.getFullYear(),a=new Date(r-r%e,0,1);for(let t=-4;t<e+4;t++){const n=rp.getWhatYear(a,t,"first"),r=n.getFullYear();o.push({date:n,isCurrent:!0,isPrev:t<0,isNow:l===r,isNext:t>=e,year:r})}}return o})),Z=f((()=>{if($.value){const{datePanelType:e,selectMonth:t}=b,n=X.value;let o,l="";return t&&(l=t.getFullYear(),o=t.getMonth()+1),"quarter"===e?em("vxe.input.date.quarterLabel",[l]):"month"===e?em("vxe.input.date.monthLabel",[l]):"year"===e?n.length?`${n[0].year} - ${n[n.length-1].year}`:"":em("vxe.input.date.dayLabel",[l,o?em(`vxe.input.date.m${o}`):"-"])}return""})),Q=f((()=>{const{startDay:t,startWeek:n}=e;return rp.toNumber(rp.isNumber(t)||rp.isString(t)?t:n)})),J=f((()=>{const e=[];if($.value){let t=Q.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e})),ee=f((()=>{if($.value){return J.value.map((e=>({value:e,label:em(`vxe.input.date.weeks.w${e}`)})))}return[]})),te=f((()=>{if($.value){const e=ee.value;return[{label:em("vxe.input.date.weeks.w")}].concat(e)}return[]})),ne=f((()=>{const e=X.value;return rp.chunk(e,4)})),oe=f((()=>{const{quarterSize:e}=y,{selectMonth:t,currentDate:n}=b,o=[];if(t&&n){const l=n.getFullYear(),r=Hf(n),a=rp.getWhatYear(t,0,"first"),i=a.getFullYear();for(let t=-2;t<e-2;t++){const e=rp.getWhatQuarter(a,t),n=e.getFullYear(),s=Hf(e),c=n<i;o.push({date:e,isPrev:c,isCurrent:n===i,isNow:n===l&&s===r,isNext:!c&&n>i,quarter:s})}}return o})),le=f((()=>{const e=oe.value;return rp.chunk(e,2)})),re=f((()=>{const{monthSize:e}=y,{selectMonth:t,currentDate:n}=b,o=[];if(t&&n){const l=n.getFullYear(),r=n.getMonth(),a=rp.getWhatYear(t,0,"first").getFullYear();for(let n=-4;n<e-4;n++){const e=rp.getWhatYear(t,0,n),i=e.getFullYear(),s=e.getMonth(),c=i<a;o.push({date:e,isPrev:c,isCurrent:i===a,isNow:i===l&&s===r,isNext:!c&&i>a,month:s})}}return o})),ae=f((()=>{const e=re.value;return rp.chunk(e,4)})),ie=f((()=>{const{selectMonth:e,currentDate:t}=b,n=[];if(e&&t){const o=G.value,l=J.value,r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-l.indexOf(u),p=new Date(rp.getWhatDay(e,d).getTime()+o);for(let t=0;t<42;t++){const o=rp.getWhatDay(p,t),l=o.getFullYear(),u=o.getMonth(),d=o.getDate(),m=o<e;n.push({date:o,isPrev:m,isCurrent:l===s&&u===c,isNow:l===r&&u===a&&d===i,isNext:!m&&c!==u,label:d})}}return n})),se=f((()=>{const e=ie.value;return rp.chunk(e,7)})),ce=f((()=>{const e=se.value,t=Q.value;return e.map((e=>{const n=e[0];return[{date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:rp.getYearWeek(n.date,t)}].concat(e)}))})),ue=f((()=>{const e=[];if(A.value)for(let t=0;t<24;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),de=f((()=>{const e=[];if(A.value)for(let t=0;t<60;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),pe=f((()=>{const e=W.value;return!/HH/.test(e)||/mm/.test(e)})),me=f((()=>{const e=W.value;return!/HH/.test(e)||/ss/.test(e)})),fe=f((()=>de.value)),ge=f((()=>{const{type:t,editable:n,multiple:o}=e;return R.value||o||!n||"week"===t||"quarter"===t})),he=f((()=>"text")),ve=f((()=>{const{placeholder:t}=e;if(t)return Vf(t);const n=Rp().datePicker.placeholder;return n?Vf(n):em("vxe.base.pleaseSelect")})),be=f((()=>{const{immediate:t}=e;return t})),xe=f((()=>Object.assign({},Rp().datePicker.shortcutConfig,e.shortcutConfig))),ye=e=>{const{isActivated:t,visiblePanel:n}=b;let o="";e&&(o=rp.isNumber(e)&&/^[0-9]{11,15}$/.test(`${e}`)?new Date(e):e),b.inputValue=o,t&&n&&lt()},we=(t,n)=>{const{type:o,multiple:l}=e;return"time"===o?Wf(t):rp.isArray(t)?rp.toStringDate(t[0],n):rp.isString(t)?rp.toStringDate(l?rp.last(t.split(",")):t,n):rp.toStringDate(t,n)},Ce=e=>{const{inputValue:t}=b;ft(e.type,{value:t},e)},Se=(t,n)=>{b.inputValue=t,a("update:modelValue",t),rp.toValueString(e.modelValue)!==t&&(ft("change",{value:t},n),d&&p&&d.triggerItemEvent(n,p.itemConfig.field,t))},Ee=e=>{const t=$.value,n=be.value,o=e.target.value;b.inputValue=o,t||(n?Se(o,e):ft("input",{value:o},e))},Te=e=>{be.value||Ce(e)},De=e=>{b.isActivated=!0;$.value&&it(e),Ce(e)},Oe=e=>{if(!V.value){const{inputValue:t}=b;ft("prefix-click",{value:t},e)}},ke=()=>new Promise((e=>{b.visiblePanel=!1,y.hpTimeout=window.setTimeout((()=>{b.isAniVisible=!1,e()}),350)})),Ie=(e,t)=>{$.value&&ke(),Se("",e),ft("clear",{value:t},e)},Me=e=>{if(!V.value){const{inputValue:t}=b;ft("suffix-click",{value:t},e)}},Pe=t=>{const{type:n}=e,o=Y.value,l=W.value,r=Q.value;let a=null,i="";if(t&&(a=we(t,l)),rp.isValidDate(a)){if(i=rp.toDateString(a,o,{firstDay:r}),o&&"week"===n){const e=rp.getYearWeek(a,r),t=rp.getWhatWeek(a,0,1===e?(6+r)%7:r,r).getFullYear();if(t!==a.getFullYear()){const e=o.indexOf("yyyy");if(e>-1){const n=Number(i.substring(e,e+4));n&&!isNaN(n)&&(i=i.replace(`${n}`,`${t}`))}}}}else a=null;b.datePanelValue=a,b.datePanelLabel=i},Re=()=>{const t=$.value,{inputValue:n}=b;t&&(Pe(n),b.inputValue=e.multiple?z.value:b.datePanelLabel)},Ve=()=>{const t=$.value;ye(e.modelValue),t&&Re()},Ae=e=>{const t=Q.value,n=rp.getYearWeek(e,t),o=rp.getWhatWeek(e,0,t,t),l=rp.getWhatMonth(1===n?rp.getWhatDay(o,6):e,0,"first");rp.isEqual(l,b.selectMonth)||(b.selectMonth=l)},$e=(t,n)=>{const{modelValue:o,multiple:l}=e,{datetimePanelValue:r}=b,a=A.value,i=W.value,s=Q.value;if("week"===e.type){const n=rp.toNumber(e.selectDay);t=rp.getWhatWeek(t,0,n,s)}else a&&r&&(t.setHours(r.getHours()),t.setMinutes(r.getMinutes()),t.setSeconds(r.getSeconds()));const c=rp.toDateString(t,i,{firstDay:s});if(Ae(t),l)if(a){const e=n?[]:[...B.value],o=[],l=rp.findIndexOf(e,(e=>rp.isDateSame(t,e,"yyyyMMdd")));-1===l?e.push(t):e.splice(l,1),e.forEach((e=>{e&&(r&&(e.setHours(r.getHours()),e.setMinutes(r.getMinutes()),e.setSeconds(r.getSeconds())),o.push(e))})),Se(o.map((e=>rp.toDateString(e,i))).join(","),{type:"update"})}else{const e=n?[]:j.value;e.some((e=>rp.isEqual(e,c)))?Se(e.filter((e=>!rp.isEqual(e,c))).join(","),{type:"update"}):Se(e.concat([c]).join(","),{type:"update"})}else rp.isEqual(o,c)||Se(c,{type:"update"})},Fe=()=>{const{type:t}=e,{inputValue:n,datetimePanelValue:o}=b,l=Y.value;if(!ge.value)if(n){let r=we(n,l);if(rp.isValidDate(r))if("time"===t)r=rp.toDateString(r,l),n!==r&&Se(r,{type:"check"}),b.inputValue=r;else{let e=!1;const a=Q.value;if("datetime"===t){const t=H.value;n===rp.toDateString(t,l)&&n===rp.toDateString(r,l)||(e=!0,o&&(o.setHours(r.getHours()),o.setMinutes(r.getMinutes()),o.setSeconds(r.getSeconds())))}else e=!0;b.inputValue=rp.toDateString(r,l,{firstDay:a}),e&&$e(r)}else b.inputValue=e.multiple?z.value:b.datePanelLabel}else Se("",{type:"check"})},Ne=e=>{const{inputValue:t}=b,n=t;be.value||Se(n,e),Fe(),b.visiblePanel||(b.isActivated=!1),ft("blur",{value:n},e),d&&p&&d.triggerItemEvent(e,p.itemConfig.field,n)},Le=e=>{Ce(e)},_e=e=>{Ce(e)},Be=e=>{Ce(e)},je=(e,t)=>{const n=Q.value,o=rp.getYearWeek(e,n),l=rp.getWhatWeek(e,0,n,n),r=rp.getWhatMonth(1===o?rp.getWhatDay(l,6):e,t,"first");b.selectMonth=r},ze=()=>{const{type:t}=e,n=Q.value;let o=new Date;switch(t){case"week":o=rp.getWhatWeek(o,0,n);break;case"datetime":o=new Date,b.datetimePanelValue=new Date;break;default:o=rp.getWhatDay(Date.now(),0,"first")}b.currentDate=o,je(o,0)},We=()=>{let{datePanelType:e}=b;e="month"===e||"quarter"===e?"year":"month",b.datePanelType=e},He=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l,inputValue:r}=b,{yearSize:a}=y,i=r;if(!q.value){let e;e="year"===n?rp.getWhatYear(l,-a,"first"):"month"===n||"quarter"===n?"year"===o?rp.getWhatYear(l,-a,"first"):rp.getWhatYear(l,-1,"first"):"year"===o?rp.getWhatYear(l,-a,"first"):"month"===o?rp.getWhatYear(l,-1,"first"):rp.getWhatMonth(l,-1,"first"),b.selectMonth=e,ft("date-prev",{viewType:o,viewDate:e,value:i,type:n},t)}},qe=t=>{ze(),$e(b.currentDate,!0),e.multiple||ke(),ft("date-today",{type:e.type},t)},Ue=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l,inputValue:r}=b,{yearSize:a}=y,i=r;if(!U.value){let e;e="year"===n?rp.getWhatYear(l,a,"first"):"month"===n||"quarter"===n?"year"===o?rp.getWhatYear(l,a,"first"):rp.getWhatYear(l,1,"first"):"year"===o?rp.getWhatYear(l,a,"first"):"month"===o?rp.getWhatYear(l,1,"first"):rp.getWhatMonth(l,1,"first"),b.selectMonth=e,ft("date-next",{viewType:o,value:i,type:n},t)}},Ke=t=>{const{disabledMethod:n}=e,{datePanelType:o}=b,l=N.value,r=L.value,{date:a}=t;return!!(l&&l.getTime()>a.getTime())||(!!(r&&r.getTime()<a.getTime())||!!n&&n({type:o,viewType:o,date:a,$datePicker:I}))},Ge=t=>{const{type:n,multiple:o}=e,{datePanelType:l}=b;"month"===n?"year"===l?(b.datePanelType="month",Ae(t)):($e(t),o||ke()):"year"===n?($e(t),o||ke()):"quarter"===n?"year"===l?(b.datePanelType="quarter",Ae(t)):($e(t),o||ke()):"month"===l?(b.datePanelType="week"===n?n:"day",Ae(t)):"year"===l?(b.datePanelType="month",Ae(t)):($e(t),"datetime"===n||o||ke())},Ye=e=>{Ke(e)||Ge(e.date)},Xe=e=>{if(!Ke({date:e})){ie.value.some((t=>rp.isDateSame(t.date,e,"yyyyMMdd")))||Ae(e),Pe(e)}},Ze=e=>{if(!Ke({date:e})){X.value.some((t=>rp.isDateSame(t.date,e,"yyyy")))||Ae(e),Pe(e)}},Qe=e=>{if(!Ke({date:e})){oe.value.some((t=>rp.isDateSame(t.date,e,"yyyyq")))||Ae(e),Pe(e)}},Je=e=>{if(!Ke({date:e})){re.value.some((t=>rp.isDateSame(t.date,e,"yyyyMM")))||Ae(e),Pe(e)}},et=e=>{if(!Ke(e)){const{datePanelType:t}=b;"month"===t?Je(e.date):"quarter"===t?Qe(e.date):"year"===t?Ze(e.date):Xe(e.date)}},tt=e=>{if(e){const t=e.offsetHeight;e.parentNode.scrollTop=e.offsetTop-4*t}},nt=e=>{const{datetimePanelValue:t}=b;b.datetimePanelValue=t?new Date(t.getTime()):new Date,tt(e.currentTarget)},ot=()=>{const{multiple:t}=e,{datetimePanelValue:n}=b,o=H.value,l=A.value;if(l){const e=W.value;if(t){const t=j.value;if(l){const t=[...B.value],o=[];t.forEach((e=>{e&&(n&&(e.setHours(n.getHours()),e.setMinutes(n.getMinutes()),e.setSeconds(n.getSeconds())),o.push(e))})),Se(o.map((t=>rp.toDateString(t,e))).join(","),{type:"update"})}else Se(t.join(","),{type:"update"})}else $e(o||b.currentDate)}ke()},lt=()=>{const{type:n}=e,o=A.value,l=H.value;["year","quarter","month","week"].indexOf(n)>-1?b.datePanelType=n:b.datePanelType="day",b.currentDate=rp.getWhatDay(Date.now(),0,"first"),l?(je(l,0),Pe(l)):ze(),o&&(b.datetimePanelValue=b.datePanelValue||rp.getWhatDay(Date.now(),0,"first"),t((()=>{const e=O.value;rp.arrayEach(e.querySelectorAll("li.is--selected"),(e=>{tt(e)}))})))},rt=()=>t().then((()=>{const{placement:n}=e,{panelIndex:o}=b,l=E.value,r=T.value,a=P.value;if(l&&r){const e=l.offsetHeight,i=l.offsetWidth,s=r.offsetHeight,c=r.offsetWidth,u=5,d={zIndex:o},{boundingTop:p,boundingLeft:m,visibleHeight:f,visibleWidth:g}=cf(l);let h="bottom";if(a){let t=m,o=p+e;"top"===n?(h="top",o=p-s):n||(o+s+u>f&&(h="top",o=p-s),o<u&&(h="bottom",o=p+e)),t+c+u>g&&(t-=t+c+u-g),t<u&&(t=u),Object.assign(d,{left:`${t}px`,top:`${o}px`,minWidth:`${i}px`})}else"top"===n?(h="top",d.bottom=`${e}px`):n||(d.top=`${e}px`,p+e+s>f&&p-e-s>u&&(h="top",d.top="",d.bottom=`${e}px`));return b.panelStyle=d,b.panelPlacement=h,t()}})),at=()=>{const{visiblePanel:e}=b,n=V.value,o=$.value;return n||e?t():(b.initialized||(b.initialized=!0),y.hpTimeout&&(clearTimeout(y.hpTimeout),y.hpTimeout=void 0),b.isActivated=!0,b.isAniVisible=!0,o&&lt(),setTimeout((()=>{b.visiblePanel=!0}),10),b.panelIndex<Rf()&&(b.panelIndex=Pf()),rt())},it=e=>{R.value||(e.preventDefault(),at())},st=e=>{Ce(e)},ct=({option:e,$event:t})=>{const n=xe.value,{autoClose:o}=n,l=e.clickMethod||n.clickMethod,r={$datePicker:I,option:e};l&&l(r),o&&ke(),ft("shortcut-click",r,t)},ut=e=>{const{visiblePanel:t,isActivated:n}=b,o=$.value,l=C.value,r=D.value;!V.value&&n&&(b.isActivated=af(e,l).flag||af(e,r).flag,b.isActivated||(o?t&&(ke(),Fe()):Fe()))},dt=t=>{const{clearable:n}=e,{visiblePanel:o}=b,l=$.value;if(!V.value){const e=qp.hasKey(t,Np.TAB),r=qp.hasKey(t,Np.DELETE),a=qp.hasKey(t,Np.ESCAPE),i=qp.hasKey(t,Np.ENTER),s=qp.hasKey(t,Np.ARROW_LEFT),c=qp.hasKey(t,Np.ARROW_UP),u=qp.hasKey(t,Np.ARROW_RIGHT),d=qp.hasKey(t,Np.ARROW_DOWN),p=qp.hasKey(t,Np.PAGE_UP),m=qp.hasKey(t,Np.PAGE_DOWN),f=s||c||u||d;let g=b.isActivated;e?(g&&Fe(),g=!1,b.isActivated=g):f?l&&g&&(o?(e=>{const{isActivated:t,datePanelValue:n,datePanelType:o}=b;if(t){e.preventDefault();const t=qp.hasKey(e,Np.ARROW_LEFT),l=qp.hasKey(e,Np.ARROW_UP),r=qp.hasKey(e,Np.ARROW_RIGHT),a=qp.hasKey(e,Np.ARROW_DOWN);if("year"===o){let e=rp.getWhatYear(n||Date.now(),0,"first");t?e=rp.getWhatYear(e,-1):l?e=rp.getWhatYear(e,-4):r?e=rp.getWhatYear(e,1):a&&(e=rp.getWhatYear(e,4)),Ze(e)}else if("quarter"===o){let e=rp.getWhatQuarter(n||Date.now(),0,"first");t?e=rp.getWhatQuarter(e,-1):l?e=rp.getWhatQuarter(e,-2):r?e=rp.getWhatQuarter(e,1):a&&(e=rp.getWhatQuarter(e,2)),Qe(e)}else if("month"===o){let e=rp.getWhatMonth(n||Date.now(),0,"first");t?e=rp.getWhatMonth(e,-1):l?e=rp.getWhatMonth(e,-4):r?e=rp.getWhatMonth(e,1):a&&(e=rp.getWhatMonth(e,4)),Je(e)}else if("week"===o){let e=n||rp.getWhatDay(Date.now(),0,"first");const t=Q.value;l?e=rp.getWhatWeek(e,-1,t):a&&(e=rp.getWhatWeek(e,1,t)),Xe(e)}else{let e=n||rp.getWhatDay(Date.now(),0,"first");t?e=rp.getWhatDay(e,-1):l?e=rp.getWhatWeek(e,-1,e.getDay()):r?e=rp.getWhatDay(e,1):a&&(e=rp.getWhatWeek(e,1,e.getDay())),Xe(e)}}})(t):(c||d)&&it(t)):i?l&&(o?b.datePanelValue?Ge(b.datePanelValue):ke():g&&it(t)):(p||m)&&l&&g&&(e=>{const{isActivated:t}=b;if(t){const t=qp.hasKey(e,Np.PAGE_UP);e.preventDefault(),t?He(e):Ue(e)}})(t),e||a?o&&ke():r&&n&&g&&Ie(t,null)}},pt=e=>{const{visiblePanel:t}=b;if(!V.value&&t){af(e,D.value).flag?rt():(ke(),Fe())}},mt=()=>{const{isActivated:e,visiblePanel:t}=b;t?(ke(),Fe()):e&&Fe()},ft=(e,t,n)=>{a(e,Hp(n,{$datePicker:I},t))};M={dispatchEvent:ft,focus(){const e=E.value;return b.isActivated=!0,e.focus(),t()},blur:()=>(E.value.blur(),b.isActivated=!1,t()),select:()=>(E.value.select(),b.isActivated=!1,t()),showPanel:at,hidePanel:ke,updatePlacement:rt},Object.assign(I,M);const gt=(t,n)=>{const{festivalMethod:o}=e;if(o){const{datePanelType:e}=b,l=o({type:e,viewType:e,date:t.date,$datePicker:I}),r=l?rp.isString(l)?{label:l}:l:{},a=r.extra?rp.isString(r.extra)?{label:r.extra}:r.extra:null,i=[w("span",{class:["vxe-date-picker--date-label",{"is-notice":r.notice}]},a&&a.label?[w("span",`${n}`),w("span",{class:["vxe-date-picker--date-label--extra",a.important?"is-important":"",a.className],style:a.style},rp.toValueString(a.label))]:`${n}`)],s=r.label;if(s){const e=rp.toValueString(s).split(",");i.push(w("span",{class:["vxe-date-picker--date-festival",r.important?"is-important":"",r.className],style:r.style},[e.length>1?w("span",{class:["vxe-date-picker--date-festival--overlap",`overlap--${e.length}`]},e.map((e=>w("span",e.substring(0,3))))):w("span",{class:"vxe-date-picker--date-festival--label"},e[0].substring(0,3))]))}return i}return n},ht=()=>{const{datePanelType:t}=b;switch(t){case"week":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=b,l=H.value,r=te.value,a=ce.value,i=B.value,s="yyyyMMdd";return[w("table",{class:`vxe-date-picker--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("thead",[w("tr",r.map((e=>w("th",e.label))))]),w("tbody",a.map((e=>{const n=t?e.some((e=>i.some((t=>rp.isDateSame(t,e.date,s))))):e.some((e=>rp.isDateSame(l,e.date,s))),r=e.some((e=>rp.isDateSame(o,e.date,s)));return w("tr",e.map((e=>w("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Ke(e),"is--selected":n,"is--hover":r},onClick:()=>Ye(e),onMouseenter:()=>et(e)},gt(e,e.label)))))})))])]})();case"month":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=b,l=H.value,r=ae.value,a=B.value,i="yyyyMM";return[w("table",{class:`vxe-date-picker--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("tbody",r.map((e=>w("tr",e.map((e=>w("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Ke(e),"is--selected":t?a.some((t=>rp.isDateSame(t,e.date,i))):rp.isDateSame(l,e.date,i),"is--hover":rp.isDateSame(o,e.date,i)},onClick:()=>Ye(e),onMouseenter:()=>et(e)},gt(e,em(`vxe.input.date.months.m${e.month}`)))))))))])]})();case"quarter":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=b,l=H.value,r=le.value,a=B.value,i="yyyyq";return[w("table",{class:`vxe-date-picker--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("tbody",r.map((e=>w("tr",e.map((e=>w("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Ke(e),"is--selected":t?a.some((t=>rp.isDateSame(t,e.date,i))):rp.isDateSame(l,e.date,i),"is--hover":rp.isDateSame(o,e.date,i)},onClick:()=>Ye(e),onMouseenter:()=>et(e)},gt(e,em(`vxe.input.date.quarters.q${e.quarter}`)))))))))])]})();case"year":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=b,l=H.value,r=ne.value,a=B.value,i="yyyy";return[w("table",{class:`vxe-date-picker--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("tbody",r.map((e=>w("tr",e.map((e=>w("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Ke(e),"is--selected":t?a.some((t=>rp.isDateSame(t,e.date,i))):rp.isDateSame(l,e.date,i),"is--hover":rp.isDateSame(o,e.date,i)},onClick:()=>Ye(e),onMouseenter:()=>et(e)},gt(e,e.year))))))))])]})()}return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=b,l=H.value,r=ee.value,a=se.value,i=B.value,s="yyyyMMdd";return[w("table",{class:`vxe-date-picker--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[w("thead",[w("tr",r.map((e=>w("th",e.label))))]),w("tbody",a.map((e=>w("tr",e.map((e=>w("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":Ke(e),"is--selected":t?i.some((t=>rp.isDateSame(t,e.date,s))):rp.isDateSame(l,e.date,s),"is--hover":rp.isDateSame(o,e.date,s)},onClick:()=>Ye(e),onMouseenter:()=>et(e)},gt(e,e.label))))))))])]})()},vt=()=>{const{multiple:t}=e,{datePanelType:n}=b,o=q.value,l=U.value,r=Z.value;return[w("div",{class:"vxe-date-picker--date-picker-header"},[w("div",{class:"vxe-date-picker--date-picker-type-wrapper"},[w("span","year"===n?{class:"vxe-date-picker--date-picker-label"}:{class:"vxe-date-picker--date-picker-btn",onClick:We},r)]),w("div",{class:"vxe-date-picker--date-picker-btn-wrapper"},[w("span",{class:["vxe-date-picker--date-picker-btn vxe-date-picker--date-picker-prev-btn",{"is--disabled":o}],onClick:He},[w("i",{class:"vxe-icon-caret-left"})]),w("span",{class:"vxe-date-picker--date-picker-btn vxe-date-picker--date-picker-current-btn",onClick:qe},[w("i",{class:"vxe-icon-dot"})]),w("span",{class:["vxe-date-picker--date-picker-btn vxe-date-picker--date-picker-next-btn",{"is--disabled":l}],onClick:Ue},[w("i",{class:"vxe-icon-caret-right"})]),t&&_.value?w("span",{class:"vxe-date-picker--date-picker-btn vxe-date-picker--date-picker-confirm-btn"},[w("button",{class:"vxe-date-picker--date-picker-confirm",type:"button",onClick:ot},em("vxe.button.confirm"))]):null])]),w("div",{class:"vxe-date-picker--date-picker-body"},ht())]},bt=()=>{const{datetimePanelValue:e}=b,t=K.value,n=ue.value,o=pe.value,l=de.value,r=me.value,a=fe.value;return[w("div",{class:"vxe-date-picker--time-picker-header"},[o?w("div",{class:"vxe-date-picker--time-picker-title"},t):x(),w("div",{class:"vxe-date-picker--time-picker-btn"},[w("button",{class:"vxe-date-picker--time-picker-confirm",type:"button",onClick:ot},em("vxe.button.confirm"))])]),w("div",{ref:O,class:"vxe-date-picker--time-picker-body"},[w("ul",{class:"vxe-date-picker--time-picker-hour-list"},n.map(((t,n)=>w("li",{key:n,class:{"is--selected":e&&e.getHours()===t.value},onClick:e=>((e,t)=>{const{datetimePanelValue:n}=b;n&&n.setHours(t.value),nt(e)})(e,t)},t.label)))),o?w("ul",{class:"vxe-date-picker--time-picker-minute-list"},l.map(((t,n)=>w("li",{key:n,class:{"is--selected":e&&e.getMinutes()===t.value},onClick:e=>((e,t)=>{const{datetimePanelValue:n}=b;n&&n.setMinutes(t.value),nt(e)})(e,t)},t.label)))):x(),o&&r?w("ul",{class:"vxe-date-picker--time-picker-second-list"},a.map(((t,n)=>w("li",{key:n,class:{"is--selected":e&&e.getSeconds()===t.value},onClick:e=>((e,t)=>{const{datetimePanelValue:n}=b;n&&n.setSeconds(t.value),nt(e)})(e,t)},t.label)))):x()])]},xt=(e,t)=>{const n=xe.value,{options:o,position:l,align:r,mode:a}=n;return Mf(n)&&o&&o.length&&(l||"left")===e?w("div",{class:`vxe-date-picker--panel-${e}-wrapper`},[w(Bf,{options:o,mode:a,align:r,vertical:t,onClick:ct})]):Pm()},yt=()=>{const{type:t}=e,{initialized:n,isAniVisible:o,visiblePanel:r,panelPlacement:a,panelStyle:i}=b,s=v.value,c=P.value,u=xe.value,{options:d,position:p}=u,m=l.header,f=l.footer,g=l.top,h=l.bottom,x=l.left,y=l.right,C=d&&d.length,E=[];return"datetime"===t?E.push(w("div",{key:t,ref:D,class:"vxe-date-picker--panel-datetime-layout-wrapper"},[w("div",{class:"vxe-date-picker--panel-datetime-left-wrapper"},vt()),w("div",{class:"vxe-date-picker--panel-datetime-right-wrapper"},bt())])):"time"===t?E.push(w("div",{key:t,ref:D,class:"vxe-date-picker--panel-wrapper"},bt())):E.push(w("div",{key:t||"default",ref:D,class:"vxe-date-picker--panel-wrapper"},vt())),w(S,{to:"body",disabled:!c||!n},[w("div",{ref:T,class:["vxe-table--ignore-clear vxe-date-picker--panel",`type--${t}`,{[`size--${s}`]:s,"is--transfer":c,"ani--leave":o,"ani--enter":r,"show--top":!!(g||m||C&&("top"===p||"header"===p)),"show--bottom":!!(h||f||C&&("bottom"===p||"footer"===p)),"show--left":!!(x||C&&"left"===p),"show--right":!!(y||C&&"right"===p)}],placement:a,style:i},n&&(r||o)?[w("div",{class:"vxe-date-picker--panel-layout-wrapper"},[g?w("div",{class:"vxe-date-picker--panel-top-wrapper"},g({})):xt("top"),w("div",{class:"vxe-date-picker--panel-body-layout-wrapper"},[x?w("div",{class:"vxe-date-picker--panel-left-wrapper"},x({})):xt("left",!0),w("div",{class:"vxe-date-picker--panel-body-content-wrapper"},[m?w("div",{class:"vxe-date-picker--panel-header-wrapper"},m({})):xt("header"),w("div",{class:"vxe-date-picker--panel-body-wrapper"},E),f?w("div",{class:"vxe-date-picker--panel-footer-wrapper"},f({})):xt("footer")]),y?w("div",{class:"vxe-date-picker--panel-right-wrapper"},y({})):xt("right",!0)]),h?w("div",{class:"vxe-date-picker--panel-bottom-wrapper"},h({})):xt("bottom")])]:[])])},wt=()=>w("div",{class:"vxe-date-picker--control-icon",onClick:it},[w("i",{class:["vxe-date-picker--date-picker-icon",Fp().DATE_PICKER_DATE]})]);return i((()=>e.modelValue),(e=>{ye(e),Re()})),i((()=>e.type),(()=>{Object.assign(b,{inputValue:"",datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),Ve()})),i(Y,(()=>{$.value&&(Pe(b.datePanelValue),b.inputValue=e.multiple?z.value:b.datePanelLabel)})),t((()=>{qp.on(I,"mousewheel",pt),qp.on(I,"mousedown",ut),qp.on(I,"keydown",dt),qp.on(I,"blur",mt)})),h((()=>{qp.off(I,"mousewheel"),qp.off(I,"mousedown"),qp.off(I,"keydown"),qp.off(I,"blur")})),Ve(),I.renderVN=()=>{const{className:t,type:n,align:o,name:r,autocomplete:a,autoComplete:i}=e,{inputValue:s,visiblePanel:c,isActivated:u}=b,d=v.value,p=V.value;if(R.value)return w("div",{ref:C,class:["vxe-date-picker--readonly",`type--${n}`,t]},s);const m=ge.value,f=he.value,g=ve.value,h=F.value,y=(()=>{const{prefixIcon:t}=e,n=l.prefix;return n||t?w("div",{class:"vxe-date-picker--prefix",onClick:Oe},[w("div",{class:"vxe-date-picker--prefix-icon"},n?Um(n({})):[w("i",{class:t})])]):null})(),S=(()=>{const{suffixIcon:t}=e,{inputValue:n}=b,o=l.suffix,r=V.value,a=F.value;return w("div",{class:["vxe-date-picker--suffix",{"is--clear":a&&!r&&!(""===n||rp.eqNull(n))}]},[a?w("div",{class:"vxe-date-picker--clear-icon",onClick:Ie},[w("i",{class:Fp().INPUT_CLEAR})]):x(),wt(),o||t?w("div",{class:"vxe-date-picker--suffix-icon",onClick:Me},o?Um(o({})):[w("i",{class:t})]):x()])})();return w("div",{ref:C,class:["vxe-date-picker",`type--${n}`,t,{[`size--${d}`]:d,[`is--${o}`]:o,"is--prefix":!!y,"is--suffix":!!S,"is--visible":c,"is--disabled":p,"is--active":u,"show--clear":h&&!p&&!(""===s||rp.eqNull(s))}],spellcheck:!1},[y||x(),w("div",{class:"vxe-date-picker--wrapper"},[w("input",{ref:E,class:"vxe-date-picker--inner",value:s,name:r,type:f,placeholder:g,readonly:m,disabled:p,autocomplete:i||a,onKeydown:Le,onKeyup:_e,onWheel:Be,onClick:st,onInput:Ee,onChange:Te,onFocus:De,onBlur:Ne})]),S||x(),yt()])},I},render(){return this.renderVN()}}),_g=Object.assign({},Lg,{install(e){e.component(Lg.name,Lg),e.component("VxeDateInput",Lg)}});$m.use(_g),Rm.component(Lg);const Bg=_g,jg=Object.assign({},Gf,{install(e){e.component(Gf.name,Gf)}}),zg={open(e){const t=Object.assign({},e);Am.globalLoading={modelValue:!0,text:t.text,icon:t.icon},Fm()},close(){Am.globalLoading=null}};$m.use(jg),Rm.component(Gf),Rm.loading=zg;const Wg=jg,Hg=[],qg=p({name:"VxeDrawer",props:{modelValue:Boolean,id:String,title:String,loading:{type:Boolean,default:null},className:String,position:{type:[String,Object],default:()=>Rp().drawer.position},lockView:{type:Boolean,default:()=>Rp().drawer.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>Rp().drawer.mask},maskClosable:{type:Boolean,default:()=>Rp().drawer.maskClosable},escClosable:{type:Boolean,default:()=>Rp().drawer.escClosable},cancelClosable:{type:Boolean,default:()=>Rp().drawer.cancelClosable},confirmClosable:{type:Boolean,default:()=>Rp().drawer.confirmClosable},showHeader:{type:Boolean,default:()=>Rp().drawer.showHeader},showFooter:{type:Boolean,default:()=>Rp().drawer.showFooter},showClose:{type:Boolean,default:()=>Rp().drawer.showClose},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>Rp().drawer.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>Rp().drawer.showConfirmButton},confirmButtonText:{type:String,default:()=>Rp().drawer.confirmButtonText},destroyOnClose:{type:Boolean,default:()=>Rp().drawer.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>Rp().drawer.showTitleOverflow},width:[Number,String],height:[Number,String],resize:{type:Boolean,default:()=>Rp().drawer.resize},zIndex:Number,transfer:{type:Boolean,default:()=>Rp().drawer.transfer},padding:{type:Boolean,default:()=>Rp().drawer.padding},size:{type:String,default:()=>Rp().drawer.size||Rp().size},beforeHideMethod:{type:Function,default:()=>Rp().drawer.beforeHideMethod},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","resize"],setup(e,n){const{slots:l,emit:a}=n,s=rp.uniqueId(),c=o("$xeModal",null),u=o("$xeDrawer",null),d=o("$xeTable",null),p=o("$xeForm",null),{computeSize:v}=Sm(e),x=r(),y=r(),C=r(),E=r(),T=m({initialized:!1,visible:!1,contentVisible:!1,drawerZIndex:0}),D={refElem:x},O=f((()=>{const{transfer:t}=e;if(null===t){const e=Rp().modal.transfer;if(rp.isBoolean(e))return e;if(d||c||u||p)return!0}return t})),k=f((()=>{switch(e.position){case"top":return"sb";case"bottom":return"st";case"left":return"wr"}return"wl"})),I={},M={xID:s,props:e,context:n,reactData:T,getRefMaps:()=>D,getComputeMaps:()=>I},P=()=>y.value,R=()=>{const{width:n,height:o}=e,l=P();return l&&(l.style.width=lf(n),l.style.height=lf(o)),t()},V=()=>{const{zIndex:t}=e,{drawerZIndex:n}=T;t?T.drawerZIndex=t:n<Rf()&&(T.drawerZIndex=Pf())},A=n=>{const{beforeHideMethod:o}=e,{visible:l}=T,r={type:n};return l&&Promise.resolve(o?o(r):null).then((e=>{rp.isError(e)||(T.contentVisible=!1,rp.remove(Hg,(e=>e===M)),_("before-hide",r,null),setTimeout((()=>{T.visible=!1,a("update:modelValue",!1),_("hide",r,null)}),200))})).catch((e=>e)),t()},$=e=>{const t="close";_(t,{type:t},e),A(t)},F=t=>{const{confirmClosable:n}=e,o="confirm";_(o,{type:o},t),n&&A(o)},N=t=>{const{cancelClosable:n}=e,o="cancel";_(o,{type:o},t),n&&A(o)},L=()=>{const{showFooter:n}=e,{initialized:o,visible:l}=T;return o||(T.initialized=!0),l||(T.visible=!0,T.contentVisible=!1,V(),Hg.push(M),setTimeout((()=>{R(),T.contentVisible=!0,t((()=>{if(n){const e=C.value,t=E.value,n=e||t;n&&n.focus()}const e={type:""};a("update:modelValue",!0),_("show",e,null)}))}),10)),t()},_=(e,t,n)=>{a(e,Hp(n,{$drawer:M},t))},B={dispatchEvent:_,open:L,close:()=>A("close"),getBox:P},j=t=>{const n=x.value;if(e.maskClosable&&t.target===n){A("mask")}},z=e=>{if(qp.hasKey(e,Np.ESCAPE)){const t=rp.max(Hg,(e=>e.reactData.drawerZIndex));t&&setTimeout((()=>{if(t===M&&t.props.escClosable){const t="exit";_("close",{type:t},e),A(t)}}),10)}},W=()=>{const{drawerZIndex:e}=T;Hg.some((t=>t.reactData.visible&&t.reactData.drawerZIndex>e))&&V()},H=e=>{e.preventDefault();const{visibleHeight:t,visibleWidth:n}=rf(),o=e.target.getAttribute("type"),l=n,r=t,a=P(),i=document.onmousemove,s=document.onmouseup,c=a.clientWidth,u=a.clientHeight,d=e.clientX,p=e.clientY,m=a.offsetTop,f=a.offsetLeft,g={type:"resize"};document.onmousemove=e=>{let i,s,h,v;switch(e.preventDefault(),o){case"wl":i=d-e.clientX,h=i+c,f-i>0&&h>0&&(a.style.width=`${h<l?h:l}px`);break;case"st":s=p-e.clientY,v=u+s,m-s>0&&v>0&&(a.style.height=`${v<r?v:r}px`);break;case"wr":i=e.clientX-d,h=i+c,f+h+0<n&&h>0&&(a.style.width=`${h<l?h:l}px`);break;case"sb":s=e.clientY-p,v=s+u,m+v+0<t&&v>0&&(a.style.height=`${v<r?v:r}px`)}a.className=a.className.replace(/\s?is--drag/,"")+" is--drag",_("resize",g,e)},document.onmouseup=()=>{document.onmousemove=i,document.onmouseup=s,setTimeout((()=>{a.className=a.className.replace(/\s?is--drag/,"")}),50)}};Object.assign(M,B,{});const q=()=>{const{slots:t={},showTitleOverflow:n}=e,o=l.header||t.header;return e.showHeader?w("div",{class:["vxe-drawer--header",{"is--ellipsis":n}]},o?Um(o({$drawer:M})):(()=>{const{slots:t={},showClose:n,title:o}=e,r=l.title||t.title,a=l.corner||t.corner;return[w("div",{class:"vxe-drawer--header-title"},r?Um(r({$drawer:M})):o?Vf(o):em("vxe.alert.title")),w("div",{class:"vxe-drawer--header-right"},[a?w("div",{class:"vxe-drawer--corner-wrapper"},Um(a({$drawer:M}))):Pm(),n?w("div",{class:["vxe-drawer--close-btn","trigger--btn"],title:em("vxe.drawer.close"),onClick:$},[w("i",{class:Fp().DRAWER_CLOSE})]):Pm()])]})()):Pm()},U=()=>{const{slots:t={},content:n}=e,o=l.default||t.default,r=l.left||t.left,a=l.right||t.right;return w("div",{class:"vxe-drawer--body"},[r?w("div",{class:"vxe-drawer--body-left"},Um(r({$drawer:M}))):Pm(),w("div",{class:"vxe-drawer--body-default"},[w("div",{class:"vxe-drawer--content"},o?Um(o({$drawer:M})):Vf(n))]),a?w("div",{class:"vxe-drawer--body-right"},Um(a({$drawer:M}))):Pm(),w(jg,{class:"vxe-drawer--loading",modelValue:e.loading})])},K=()=>{const{slots:t={},showCancelButton:n,showConfirmButton:o,loading:r}=e,a=l.leftfoot||t.leftfoot,i=l.rightfoot||t.rightfoot,s=[];return n&&s.push(w(Nf,{key:1,ref:E,content:e.cancelButtonText||em("vxe.button.cancel"),onClick:N})),o&&s.push(w(Nf,{key:2,ref:C,loading:r,status:"primary",content:e.confirmButtonText||em("vxe.button.confirm"),onClick:F})),w("div",{class:"vxe-drawer--footer-wrapper"},[w("div",{class:"vxe-drawer--footer-left"},a?Um(a({$drawer:M})):[]),w("div",{class:"vxe-drawer--footer-right"},i?Um(i({$drawer:M})):s)])},G=()=>{const{slots:t={}}=e,n=l.footer||t.footer;return e.showFooter?w("div",{class:"vxe-drawer--footer"},n?Um(n({$drawer:M})):[K()]):Pm()};return i((()=>e.width),R),i((()=>e.height),R),i((()=>e.modelValue),(e=>{e?L():A("model")})),g((()=>{t((()=>{e.modelValue&&L(),R()})),e.escClosable&&qp.on(M,"keydown",z)})),h((()=>{qp.off(M,"keydown")})),b("$xeDrawer","$xeDrawer"),M.renderVN=()=>{const{slots:t={},className:n,position:o,loading:r,lockScroll:a,padding:i,lockView:s,mask:c,resize:u,destroyOnClose:d}=e,{initialized:p,contentVisible:m,visible:f}=T,g=l.aside||t.aside,h=v.value,b=k.value,C=O.value;return w(S,{to:"body",disabled:!C||!p},[w("div",{ref:x,class:["vxe-drawer--wrapper",`pos--${o}`,n||"",{[`size--${h}`]:h,"is--padding":i,"lock--scroll":a,"lock--view":s,"is--resize":u,"is--mask":c,"is--visible":m,"is--active":f,"is--loading":r}],style:{zIndex:T.drawerZIndex},onClick:j},[w("div",{ref:y,class:"vxe-drawer--box",onMousedown:W},[g?w("div",{class:"vxe-drawer--aside"},Um(g({$drawer:M}))):Pm(),w("div",{class:"vxe-drawer--container"},!T.initialized||d&&!T.visible?[]:[q(),U(),G(),u?w("span",{class:"vxe-drawer--resize"},[w("span",{class:`${b}-resize`,type:b,onMousedown:H})]):Pm()])])])])},M},render(){return this.renderVN()}});function Ug(e){return rp.find(Hg,(t=>t.props.id===e))}const Kg={get:Ug,close:function(e){const t=e?[Ug(e)]:Hg,n=[];return t.forEach((e=>{e&&n.push(e.close())})),Promise.all(n)},open:function(e){return function(e){return Fm(),new Promise((t=>{if(e&&e.id&&Hg.some((t=>t.props.id===e.id)))t("exist");else{const n=e.onHide,o=Object.assign(e,{key:rp.uniqueId(),modelValue:!0,onHide(e){const l=Am.drawers;n&&n(e),Am.drawers=l.filter((e=>e.key!==o.key)),t(e.type)}});Am.drawers.push(o)}}))}(Object.assign({},e))}},Gg=Object.assign(qg,{install:function(e){e.component(qg.name,qg)}});Rm.drawer=Kg,$m.use(Gg),Rm.component(qg);const Yg=Gg,Xg=p({name:"VxeEmpty",props:{imageUrl:String,imageStyle:Object,icon:String,status:String,content:[String,Number]},emits:[],setup(e,t){const{emit:n}=t,o=rp.uniqueId(),l=r(),a=m({}),i={refElem:l},s={},c={xID:o,props:e,context:t,reactData:a,getRefMaps:()=>i,getComputeMaps:()=>s},u={dispatchEvent:(e,t,o)=>{n(e,Hp(o,{$empty:c},t))}};Object.assign(c,u,{});return c.renderVN=()=>{const{imageUrl:t,imageStyle:n,icon:o,status:r,content:a}=e;return w("div",{ref:l,class:["vxe-empty",{[`theme--${r}`]:r}]},[w("div",{class:"vxe-empty--inner"},[t?w("div",{class:"vxe-empty--img-wrapper"},[w("img",{src:t,style:n})]):w("div",{class:"vxe-empty--icon-wrapper"},[w("i",{class:o||Fp().EMPTY_DEFAULT})]),w("div",{class:"vxe-empty--content-wrapper"},`${a||em("vxe.empty.defText")}`)])])},c},render(){return this.renderVN()}}),Zg=Object.assign({},Xg,{install(e){e.component(Xg.name,Xg)}});$m.use(Zg),Rm.component(Xg);const Qg=Zg;class Jg{constructor(e,t){Object.assign(this,{id:rp.uniqueId("item_"),title:t.title,field:t.field,span:t.span,align:t.align,verticalAlign:t.verticalAlign,titleBackground:t.titleBackground,titleBold:t.titleBold,titleAlign:t.titleAlign,titleWidth:t.titleWidth,titleColon:t.titleColon,vertical:t.vertical,padding:t.padding,titleAsterisk:t.titleAsterisk,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,titleOverflow:t.titleOverflow,showTitle:t.showTitle,resetValue:t.resetValue,visibleMethod:t.visibleMethod,visible:t.visible,showContent:t.showContent,folding:t.folding,collapseNode:t.collapseNode,className:t.className,contentClassName:t.contentClassName,contentStyle:t.contentStyle,titleClassName:t.titleClassName,titleStyle:t.titleStyle,itemRender:t.itemRender,rules:t.rules,showError:!1,errRule:null,slots:t.slots,children:[]})}update(e,t){this[e]=t}}function eh(e,t){return t instanceof Jg?t:new Jg(e,t)}function th(e,t){return t?rp.isString(t)?e.getItemByField(t):t:null}function nh(e,t){let{visibleMethod:n,itemRender:o,visible:l,field:r}=t;if(!1===l)return l;const a=Mf(o)?cm.get(o.name):null,i=a?a.formItemVisibleMethod||a.itemVisibleMethod:null;if(!n&&i&&(n=i),!n)return!0;const s=e.props,{data:c}=s;return n({data:c,field:r,property:r,item:t,$form:e,$grid:e.xegrid})}function oh(e,t){Object.keys(e).forEach((n=>{i((()=>e[n]),(e=>{t.update(n,e)}))}))}function lh(e,t,n,o){const{reactData:l}=e,r=e.props,{customLayout:a}=r,{staticItems:i}=l;if(a)i.some((e=>e.id===n.id))||i.push(n);else if(t){const e=t.parentNode,r=o?o.formItem:null,a=r?r.children:i;e&&(a.splice(rp.arrayIndexOf(e.children,t),0,n),l.staticItems=i.slice(0))}}function rh(e,t){const{reactData:n}=e,{staticItems:o}=n,l=rp.findIndexOf(o,(e=>e.id===t.id));l>-1&&o.splice(l,1),n.staticItems=o.slice(0)}const ah=p({name:"VxeIcon",props:{name:String,className:String,roll:Boolean,status:String,size:{type:String,default:()=>Rp().icon.size||Rp().size}},emits:["click"],setup(e,t){const{emit:n}=t,o=rp.uniqueId(),{computeSize:l}=Sm(e),r={xID:o,props:e,context:t},a=e=>{n("click",Hp(e,{}))},i={dispatchEvent:(e,t,o)=>{n(e,Hp(o,{$icon:r},t))}};Object.assign(r,i,{});return r.renderVN=()=>{const{name:t,roll:n,status:o,className:r}=e,i=l.value;return w("i",{class:["vxe-icon",`vxe-icon-${t}`,`${r||""}`,{[`size--${i}`]:i,[`theme--${o}`]:o,roll:n}],onClick:a})},r},render(){return this.renderVN()}});function ih(e){return w("span",{class:"vxe-form--item-title-prefix"},[w(ah,{class:e.icon||Fp().FORM_PREFIX,status:e.iconStatus})])}function sh(e){return w("span",{class:"vxe-form--item-title-suffix"},[w(ah,{class:e.icon||Fp().FORM_SUFFIX,status:e.iconStatus})])}const ch=(e,t,n)=>{const o=e.props,l=e.reactData,{data:r,rules:a,readonly:i,disabled:s,span:c,titleBackground:u,titleBold:d,titleColon:p,titleAsterisk:m,vertical:f,padding:g}=o,{collapseAll:h}=l,{folding:v,field:b,itemRender:x,showError:y,className:w,vertical:C,padding:S,children:E,showContent:T}=t,D=Mf(x)?cm.get(x.name):null,O=D?D.formItemClassName||D.itemClassName:"",k=t.span||c,I=rp.eqNull(S)?g:S,M=rp.eqNull(C)?f:C,P=rp.eqNull(t.titleBackground)?u:t.titleBackground,R=rp.eqNull(t.titleBold)?d:t.titleBold,V=rp.eqNull(t.titleColon)?p:t.titleColon,A=rp.eqNull(t.titleAsterisk)?m:t.titleAsterisk,$={data:r,disabled:s,readonly:i,field:b,property:b,item:t,$form:e,$grid:e.xegrid},F=E&&E.length>0;let N=!1,L=!1;if(!i&&a){const e=a[b];e&&e.length&&(L=!0,N=e.some((e=>e.required)))}return[n||F?"vxe-form--group":"","vxe-form--item",t.id,k?`vxe-form--item-col_${k} is--span`:"",w?rp.isFunction(w)?w($):w:"",O?rp.isFunction(O)?O($):O:"",{"is--colon":V,"is--tbg":P,"is--bold":R,"is--padding":I,"is--vertical":M,"is--asterisk":A,"hide--content":!1===T,"is--valid":L,"is--required":N,"is--hidden":v&&h,"is--active":nh(e,t),"is--error":y}]},uh=(e,t,n)=>{const o=e.props,{data:l,readonly:r,disabled:a,align:i,verticalAlign:s}=o,{field:c,itemRender:u,contentClassName:d,children:p}=t,m=Mf(u)?cm.get(u.name):null,f=m?m.formItemContentClassName||m.itemContentClassName:"",g=rp.eqNull(t.align)?i:t.align,h=rp.eqNull(t.verticalAlign)?s:t.verticalAlign,v={data:l,disabled:a,readonly:r,field:c,property:c,item:t,$form:e,$grid:e.xegrid},b=p&&p.length>0;return[n||b?"vxe-form--group-content vxe-form--item-row":"","vxe-form--item-content",g?`align--${g}`:"",h?`vertical-align--${h}`:"",f?rp.isFunction(f)?f(v):f:"",d?rp.isFunction(d)?d(v):d:""]};function dh(e,t,n){const o=e.props,{data:l,readonly:r,disabled:a,titleAlign:i,titleWidth:s,titleOverflow:c,vertical:u}=o,{slots:d,title:p,field:m,itemRender:f,titleOverflow:g,vertical:h,showTitle:v,titleClassName:b,titleStyle:y,titlePrefix:C,titleSuffix:S,children:E,showContent:T}=t,{computeTooltipOpts:D}=e.getComputeMaps(),O=D.value,k=Mf(f)?cm.get(f.name):null,I=k?k.formItemTitleClassName||k.itemTitleClassName:"",M=k?k.formItemTitleStyle||k.itemTitleStyle:null,P=rp.eqNull(h)?u:h,R=rp.eqNull(t.titleAlign)?i:t.titleAlign,V=P?null:rp.eqNull(t.titleWidth)?s:t.titleWidth,A=rp.eqNull(g)?c:g,$="title"===A,F=!0===A||"tooltip"===A,N=$||F||"ellipsis"===A,L={data:l,disabled:a,readonly:r,field:m,property:m,item:t,$form:e,$grid:e.xegrid},_=d?d.title:null,B=d?d.extra:null,j=!1!==v&&(p||_),z=E&&E.length>0,W=[];C&&W.push(C.content||C.message?w(Ff,Object.assign(Object.assign(Object.assign({},O),C),{content:Vf(C.content||C.message)}),{default:()=>ih(C)}):ih(C));const H=k?k.renderFormItemTitle||k.renderItemTitle:null;W.push(w("span",{class:"vxe-form--item-title-label"},_?e.callSlot(_,L):H?Um(H(f,L)):Vf(t.title)));const q=[];S&&q.push(S.content||S.message?w(Ff,Object.assign(Object.assign(Object.assign({},O),S),{content:Vf(S.content||S.message)}),{default:()=>sh(S)}):sh(S));const U=F?{onMouseenter(t){e.triggerTitleTipEvent(t,L)},onMouseleave:e.handleTitleTipLeaveEvent}:{};return j?w("div",Object.assign({class:[n||z?"vxe-form--group-title":"","vxe-form--item-title",R?`align--${R}`:"",N?"is--ellipsis":"",I?rp.isFunction(I)?I(L):I:"",b?rp.isFunction(b)?b(L):b:""],style:Object.assign({},rp.isFunction(M)?M(L):M,rp.isFunction(y)?y(L):y,V&&!1!==T?{width:lf(V)}:null),title:$?Vf(p):null},U),[w("div",{class:"vxe-form--item-title-content"},W),w("div",{class:"vxe-form--item-title-postfix"},q),B?w("div",{class:"vxe-form--item-title-extra"},e.callSlot(B,L)):x()]):x()}const ph=(e,t)=>{const n=e.props,o=e.reactData,{computeCollapseOpts:l,computeValidOpts:r}=e.getComputeMaps(),{data:a,readonly:i,disabled:s}=n,{collapseAll:c}=o,{slots:u,field:d,itemRender:p,collapseNode:m,errRule:f}=t,g=u?u.default:null,h=u?u.valid:null,v=l.value,b=r.value,x=Mf(p)?cm.get(p.name):null,y={data:a,disabled:s,readonly:i,field:d,property:d,item:t,$form:e,$grid:e.xegrid};let C=[];const S=x?x.renderFormItemContent||x.renderItemContent:null;if(g)C=e.callSlot(g,y);else if(S)C=Um(S(p,y));else if(d){const e=rp.get(a,d);C=[Af(e)?"":`${e}`]}if(m&&C.push(w("div",{class:"vxe-form--item-trigger-node",onClick:e.toggleCollapseEvent},[w("span",{class:"vxe-form--item-trigger-text"},c?v.unfoldButtonText||em("vxe.form.unfolding"):v.foldButtonText||em("vxe.form.folding")),w("i",{class:["vxe-form--item-trigger-icon",c?v.foldIcon||Fp().FORM_FOLDING:v.unfoldIcon||Fp().FORM_UNFOLDING]})])),f&&b.showMessage){const t=Object.assign(Object.assign({},y),{rule:f});C.push(w("div",{class:"vxe-form-item--valid-error-tip",style:f.maxWidth?{width:lf(f.maxWidth)}:null},[w("div",{class:`vxe-form-item--valid-error-wrapper vxe-form-item--valid-error-theme-${b.theme||"normal"}`},[h?e.callSlot(h,t):[w("span",{class:"vxe-form--item--valid-error-msg"},f.content||f.message)]])]))}return w("div",{class:"vxe-form--item-inner"},C)},mh=p({name:"VxeFormConfigItem",props:{itemConfig:Object},setup(e){const t=o("$xeForm",{}),n={itemConfig:e.itemConfig};b("xeFormItemInfo",n);const l=(e,t)=>{const n=e.props,{data:o,readonly:r,disabled:a}=n,{visible:i,field:s,itemRender:c,contentStyle:u,children:d,showContent:p}=t,m=Mf(c)?cm.get(c.name):null,f=m?m.formItemStyle||m.itemStyle:null,g=m?m.formItemContentStyle||m.itemContentStyle:null,h={data:o,disabled:a,readonly:r,field:s,property:s,item:t,$form:e,$grid:e.xegrid},v=d&&d.length>0;return!1===i?x():w("div",{key:t.id,class:ch(e,t),style:rp.isFunction(f)?f(h):f},[dh(e,t),!1===p?x():w("div",{class:uh(e,t),style:Object.assign({},rp.isFunction(g)?g(h):g,rp.isFunction(u)?u(h):u)},v?d.map((t=>l(e,t))):[ph(e,t)])])},r={renderVN:()=>l(t,e.itemConfig)};return b("$xeFormGroup",null),r},render(){return this.renderVN()}});let fh=class{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.min,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return Vf(this.$options.content||this.$options.message)}get message(){return this.content}};const gh=(e,t)=>{const{type:n,min:o,max:l,pattern:r}=e,a="number"===n,i=a?rp.toNumber(t):rp.getSize(t);return!(!a||!isNaN(t))||(!rp.eqNull(o)&&i<rp.toNumber(o)||(!rp.eqNull(l)&&i>rp.toNumber(l)||!(!r||(rp.isRegExp(r)?r:new RegExp(r)).test(t))))},hh=p({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:()=>Rp().form.size||Rp().size},span:{type:[String,Number],default:()=>Rp().form.span},align:{type:String,default:()=>Rp().form.align},verticalAlign:{type:String,default:()=>Rp().form.verticalAlign},border:{type:Boolean,default:()=>Rp().form.border},titleBackground:{type:Boolean,default:()=>Rp().form.titleBackground},titleBold:{type:Boolean,default:()=>Rp().form.titleBold},titleAlign:{type:String,default:()=>Rp().form.titleAlign},titleWidth:{type:[String,Number],default:()=>Rp().form.titleWidth},titleColon:{type:Boolean,default:()=>Rp().form.titleColon},titleAsterisk:{type:Boolean,default:()=>Rp().form.titleAsterisk},titleOverflow:{type:[Boolean,String],default:()=>Rp().form.titleOverflow},vertical:{type:Boolean,default:()=>Rp().form.vertical},padding:{type:Boolean,default:()=>Rp().form.padding},className:[String,Function],readonly:Boolean,disabled:Boolean,items:Array,rules:Object,preventSubmit:{type:Boolean,default:()=>Rp().form.preventSubmit},validConfig:Object,tooltipConfig:Object,collapseConfig:Object,customLayout:{type:Boolean,default:()=>Rp().form.customLayout}},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup(e,n){const{slots:l,emit:a}=n,s=rp.uniqueId(),{computeSize:c}=Sm(e),u=m({collapseAll:e.collapseStatus,staticItems:[],formItems:[]}),d=m({meTimeout:void 0,stTimeout:void 0,tooltipStore:{item:null,visible:!1}});b("xeFormItemInfo",null);const p=o("$xeGrid",null),h=r(),v=r();let x={};const y=f((()=>Object.assign({},Rp().form.validConfig,e.validConfig))),C=f((()=>Object.assign({},Rp().tooltip,Rp().form.tooltipConfig,e.tooltipConfig))),S=f((()=>Object.assign({},Rp().form.collapseConfig,e.collapseConfig))),E={refElem:h},T={computeSize:c,computeValidOpts:y,computeTooltipOpts:C,computeCollapseOpts:S},D={xID:s,props:e,context:n,reactData:u,xegrid:p,getRefMaps:()=>E,getComputeMaps:()=>T},O=e=>(e.length,u.staticItems=rp.mapTree(e,(e=>eh(D,e)),{children:"children"}),t()),k=()=>{const e=[];return rp.eachTree(u.formItems,(t=>{e.push(t)}),{children:"children"}),e},I=e=>{const t=rp.findTree(u.formItems,(t=>t.field===e),{children:"children"});return t?t.item:null},M=()=>u.collapseAll,P=()=>{const e=!M();return u.collapseAll=e,a("update:collapseStatus",e),t()},R=e=>{if(e){let t=e;rp.isArray(e)||(t=[e]),t.forEach((e=>{if(e){const t=th(D,e);t&&(t.showError=!1)}}))}else k().forEach((e=>{e.showError=!1}));return t()},V=()=>{const{data:t}=e,n=k();return t&&n.forEach((e=>{const{field:n,itemRender:o}=e;if(Mf(o)){const l=cm.get(o.name),r=l?l.formItemResetMethod||l.itemResetMethod:null;l&&r?r({data:t,field:n,property:n,item:e,$form:D,$grid:D.xegrid}):n&&rp.set(t,n,((e,t)=>{const{field:n,resetValue:o}=e,l=rp.get(t,n);return rp.isFunction(o)?o({field:n,item:e,data:t,$form:D,$grid:D.xegrid}):null===o&&rp.isArray(l)?[]:void 0})(e,t))}})),R()},A=t=>{t.preventDefault(),V(),x.dispatchEvent("reset",{data:e.data},t)},$=(t,n,o)=>{const{data:l,rules:r}=e,a={};return rp.isArray(n)||(n=[n]),Promise.all(n.map((e=>{const n=[],i=[];if(e&&r){const a=rp.get(r,e);if(a){const r=rp.isUndefined(o)?rp.get(l,e):o;a.forEach((o=>{const{type:s,trigger:c,required:u,validator:d}=o;if("all"===t||!c||t===c)if(d){const t={itemValue:r,rule:o,rules:a,data:l,field:e,property:e,$form:D};let s;if(rp.isString(d)){const e=dm.get(d);if(e){const n=e.formItemValidatorMethod||e.itemValidatorMethod;n&&(s=n(t))}}else s=d(t);s&&(rp.isError(s)?n.push(new fh({type:"custom",trigger:c,content:s.message,rule:new fh(o)})):s.catch&&i.push(s.catch((e=>{n.push(new fh({type:"custom",trigger:c,content:e?e.message:o.content||o.message,rule:new fh(o)}))}))))}else{const e="array"===s,t=rp.isArray(r);let l=!0;l=e||t?!t||!r.length:rp.isString(r)?Af(r.trim()):Af(r),(u?l||gh(o,r):!l&&gh(o,r))&&n.push(new fh(o))}}))}}return Promise.all(i).then((()=>{n.length&&(a[e]=n.map((t=>({$form:D,rule:t,data:l,field:e,property:e}))))}))}))).then((()=>{if(!rp.isEmpty(a))return Promise.reject(a)}))},F=(n,o,l)=>{const{data:r,rules:a}=e,i=y.value,s={},c=[],u=[];return clearTimeout(d.meTimeout),r&&a?(n.forEach((e=>{const{field:t}=e;t&&!function(e,t){const{reactData:n}=e,{collapseAll:o}=n,{folding:l,visible:r}=t;return!1===r||l&&o}(D,e)&&nh(D,e)&&u.push($(o||"all",t).then((()=>{e.errRule=null})).catch((n=>{const o=n[t];return s[t]||(s[t]=[]),s[t].push(o),c.push(t),e.errRule=o[0].rule,Promise.reject(o)})))})),Promise.all(u).then((()=>{l&&l()})).catch((()=>new Promise((o=>{d.meTimeout=window.setTimeout((()=>{n.forEach((e=>{e.errRule&&(e.showError=!0)}))}),20),!1!==i.autoPos&&t((()=>{(t=>{const n=h.value;if(n)for(let l=0;l<t.length;l++){const r=t[l],a=I(r);if(a&&Mf(a.itemRender)){const{itemRender:t}=a,i=cm.get(t.name);l||(o=n.querySelector(`.${a.id}`))&&(o[uf]?o[uf]():o[df]&&o[df]());let s=null;const c=t.autoFocus||t.autofocus||(i?i.formItemAutoFocus:null);if(rp.isFunction(c)?s=c({$form:D,$grid:p,item:a,data:e.data,field:r}):!0===c?s=n.querySelector(`.${a.id} input,textarea`):c&&(s=n.querySelector(`.${a.id} ${c}`)),s){s.focus();break}}}var o})(c)})),l?(l(s),o()):o(s)}))))):(l&&l(),Promise.resolve())},N=t=>{const{readonly:n}=e;if(t.preventDefault(),!e.preventSubmit){if(R(),n)return void x.dispatchEvent("submit",{data:e.data},t);F(k()).then((n=>{n?x.dispatchEvent("submit-invalid",{data:e.data,errMap:n},t):x.dispatchEvent("submit",{data:e.data},t)}))}},L=()=>{const{tooltipStore:e}=d,n=v.value;return e.visible&&(Object.assign(e,{item:null,visible:!1}),n&&n.close()),t()},_=(e,n,o)=>n?$(e?["blur"].includes(e.type)?"blur":"change":"all",n,o).then((()=>{R(n)})).catch((e=>{const t=e[n],o=I(n);t&&o&&(o.showError=!0,o.errRule=t[0].rule)})):t();x={dispatchEvent(e,t,n){a(e,Hp(n,{$form:D,$grid:p},t))},reset:V,validate:n=>{const{readonly:o}=e;return R(),o?t():F(k(),"",n)},validateField:(n,o)=>{const{readonly:l}=e;if(l)return t();let r=[];return n&&(r=rp.isArray(n)?n:[n]),F(r.map((e=>th(D,e))),"",o)},clearValidate:R,updateStatus:(e,t)=>{const{field:n}=e;return _(new Event("change"),n,t)},toggleCollapse:P,getItems:k,getItemByField:I,closeTooltip:L};const B={callSlot:(e,t)=>e&&(rp.isString(e)&&(e=l[e]||null),rp.isFunction(e))?Um(e(t)):[],triggerItemEvent:_,toggleCollapseEvent:t=>{P();const n=M();x.dispatchEvent("toggle-collapse",{status:n,collapse:n,data:e.data},t),x.dispatchEvent("collapse",{status:n,collapse:n,data:e.data},t)},triggerTitleTipEvent:(e,t)=>{const{item:n}=t,{tooltipStore:o}=d,l=v.value,r=e.currentTarget.children[0],a=(r.textContent||"").trim(),i=r.scrollWidth>r.clientWidth;clearTimeout(d.stTimeout),o.item!==n&&L(),a&&i&&(Object.assign(o,{item:n,visible:!0}),l&&l.open(r,a))},handleTitleTipLeaveEvent:()=>{const e=C.value;let t=v.value;t&&t.setActived(!1),e.enterable?d.stTimeout=setTimeout((()=>{t=v.value,t&&!t.isActived()&&L()}),e.leaveDelay):L()}};Object.assign(D,x,B);const j=r(0);i((()=>u.staticItems.length),(()=>{j.value++})),i((()=>u.staticItems),(()=>{j.value++})),i(j,(()=>{u.formItems=u.staticItems}));const z=r(0);return i((()=>e.items?e.items.length:-1),(()=>{z.value++})),i((()=>e.items),(()=>{z.value++})),i(z,(()=>{O(e.items||[])})),i((()=>e.collapseStatus),(e=>{u.collapseAll=!!e})),i((()=>e.readonly),(()=>{R()})),i((()=>e.disabled),(()=>{R()})),g((()=>{t((()=>{}))})),e.items&&O(e.items),b("$xeForm",D),b("$xeFormGroup",null),b("$xeFormItem",null),D.renderVN=()=>{const{loading:t,border:n,className:o,data:r,customLayout:a}=e,{formItems:i}=u,s=c.value,d=C.value,p=l.default;return w("form",{ref:h,class:["vxe-form",o?rp.isFunction(o)?o({items:i,data:r,$form:D}):o:"",{[`size--${s}`]:s,"is--border":n,"custom--layout":a,"is--loading":t}],onSubmit:N,onReset:A},[w("div",{class:"vxe-form--wrapper vxe-form--item-row"},a?p?p({}):[]:i.map(((e,t)=>w(mh,{key:t,itemConfig:e})))),w("div",{class:"vxe-form-slots",ref:"hideItem"},a?[]:p?p({}):[]),w(Gf,{class:"vxe-form--loading",modelValue:t}),w(Ff,Object.assign({ref:v},d))])},D},render(){return this.renderVN()}}),vh="modelValue";function bh(e){return`vxe-${e.replace("$","")}`}function xh({name:e}){return C(e)}function yh({name:e}){return C(bh(e))}function wh(e){let{name:t,attrs:n}=e;return"input"===t&&(n=Object.assign({type:"text"},n)),n}function Ch(e,t,n,o){return rp.assign({},o,e.props,{[vh]:n})}function Sh(e,t,n,o){const{events:l}=e,r=Hm(e.name),a=qm(e.name),i={};return rp.objectEach(l,((e,n)=>{i[Wm(n)]=function(...n){e(t,...n)}})),n&&(i[Wm(r)]=function(e){n(e),l&&l[r]&&l[r](t,e)}),o&&(i[Wm(a)]=function(...e){o(...e),l&&l[a]&&l[a](t,...e)}),i}function Eh(e,t){const{$form:n,data:o,field:l}=t;return Sh(e,t,(e=>{rp.set(o,l,e)}),(()=>{n.updateStatus(t)}))}function Th(e,t){const{$form:n,data:o,field:l}=t;return function(e,t,n,o){const{events:l}=e,r=Hm(e.name),a=qm(e.name),i=a===r,s={};return l&&rp.objectEach(l,((e,n)=>{s[Wm(n)]=function(...n){e(t,...n)}})),s[Wm(r)]=function(e){n(e),i&&o&&o(e),l&&l[r]&&l[r](t,e)},!i&&o&&(s[Wm(a)]=function(...e){o(...e),l&&l[a]&&l[a](t,...e)}),s}(e,t,(e=>{const t=e.target.value;rp.set(o,l,t)}),(()=>{n.updateStatus(t)}))}function Dh(e,t,n){const{optionGroups:o,optionGroupProps:l={}}=e,r=l.options||"options",a=l.label||"label";return o.map(((o,l)=>w("optgroup",{key:l,label:o[a]},n(o[r],e,t))))}function Oh(e,t){const{data:n,field:o}=t,{name:l}=e,r=wh(e),a=rp.get(n,o);return[w(l,Object.assign(Object.assign(Object.assign({class:`vxe-default-${l}`},r),{value:!r||"input"!==l||"submit"!==r.type&&"reset"!==r.type?a:null}),Th(e,t)))]}function kh(e,t){const{data:n,field:o}=t,l=rp.get(n,o);return[w(xh(e),Object.assign(Object.assign({},Ch(e,0,l)),Eh(e,t)))]}function Ih(e,t){const{data:n,field:o}=t,l=rp.get(n,o);return[w(yh(e),Object.assign(Object.assign({},Ch(e,0,l)),Eh(e,t)))]}function Mh(e,t){return[w(C("vxe-button"),Object.assign(Object.assign({},Ch(e,0,null)),Sh(e,t)))]}function Ph(e,t,n){const{data:o,field:l}=n,{optionProps:r={}}=t,a=r.label||"label",i=r.value||"value",s=r.disabled||"disabled",c=rp.get(o,l);return e.map(((e,t)=>w("option",{key:t,value:e[i],disabled:e[s],selected:e[i]==c},e[a])))}function Rh(e,t){const{data:n,field:o}=t,l=rp.get(n,o);return[w(xh(e),Object.assign(Object.assign({},Ch(e,0,l)),Eh(e,t)))]}function Vh(e,t){const{options:n,optionProps:o}=e,{data:l,field:r}=t,a=rp.get(l,r);return[w(xh(e),Object.assign(Object.assign({options:n,optionProps:o},Ch(e,0,a)),Eh(e,t)))]}function Ah(e,t){const{name:n,options:o,optionProps:l={}}=e,{data:r,field:a}=t,i=l.label||"label",s=l.value||"value",c=l.disabled||"disabled",u=rp.get(r,a),d=bh(n);return o?[w(C(`${d}-group`),Object.assign(Object.assign({},Ch(e,0,u)),Eh(e,t)),{default:()=>o.map(((e,t)=>w(C(d),{key:t,label:e[s],content:e[i],disabled:e[c]})))})]:[w(C(d),Object.assign(Object.assign({},Ch(e,0,u)),Eh(e,t)))]}cm.mixin({input:{formItemAutoFocus:"input",renderFormItemContent:Oh},textarea:{formItemAutoFocus:"textarea",renderFormItemContent:Oh},select:{formItemAutoFocus:"input",renderFormItemContent:(e,t)=>[w("select",Object.assign(Object.assign({class:"vxe-default-select"},wh(e)),Th(e,t)),e.optionGroups?Dh(e,t,Ph):Ph(e.options,e,t))]},VxeInput:{formItemAutoFocus:"input",renderFormItemContent:kh},VxeNumberInput:{formItemAutoFocus:"input",renderFormItemContent:kh},VxePasswordInput:{formItemAutoFocus:"input",renderFormItemContent:kh},VxeTextarea:{formItemAutoFocus:"textarea",renderFormItemContent:kh},VxeDatePicker:{formItemAutoFocus:"input",renderFormItemContent:kh},VxeButton:{renderFormItemContent:Rh},VxeButtonGroup:{renderFormItemContent(e,t){const{options:n}=e,{data:o,field:l}=t,r=rp.get(o,l);return[w(xh(e),Object.assign(Object.assign({options:n},Ch(e,0,r)),Eh(e,t)))]}},VxeSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i}=e,s=rp.get(n,o);return[w(xh(e),Object.assign(Object.assign({},Ch(e,0,s,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i})),Eh(e,t)))]}},VxeTreeSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l,optionProps:r}=e,a=rp.get(n,o);return[w(xh(e),Object.assign(Object.assign({},Ch(e,0,a,{options:l,optionProps:r})),Eh(e,t)))]}},VxeTableSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l,optionProps:r}=e,a=rp.get(n,o);return[w(xh(e),Object.assign(Object.assign({},Ch(e,0,a,{options:l,optionProps:r})),Eh(e,t)))]}},VxeColorPicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l}=e,r=rp.get(n,o);return[w(xh(e),Object.assign(Object.assign({},Ch(e,0,r,{colors:l})),Eh(e,t)))]}},VxeIconPicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l}=e,r=rp.get(n,o);return[w(xh(e),Object.assign(Object.assign({},Ch(e,0,r,{icons:l})),Eh(e,t)))]}},VxeRadio:{renderFormItemContent:Rh},VxeRadioGroup:{renderFormItemContent:Vh},VxeCheckbox:{renderFormItemContent:Rh},VxeCheckboxGroup:{renderFormItemContent:Vh},VxeSwitch:{renderFormItemContent:kh},VxeRate:{renderFormItemContent:kh},VxeSlider:{renderFormItemContent:kh},VxeImage:{renderFormItemContent(e,t){const{data:n,field:o}=t,{props:l}=e,r=rp.get(n,o);return[w(xh(e),Object.assign(Object.assign(Object.assign({},l),{src:r}),Eh(e,t)))]}},VxeImageGroup:{renderFormItemContent(e,t){const{data:n,field:o}=t,{props:l}=e,r=rp.get(n,o);return[w(xh(e),Object.assign(Object.assign(Object.assign({},l),{urlList:r}),Eh(e,t)))]}},VxeUpload:{renderFormItemContent:kh},$input:{formItemAutoFocus:"input",renderFormItemContent:Ih},$textarea:{formItemAutoFocus:"textarea",renderFormItemContent:Ih},$button:{renderFormItemContent:Mh},$buttons:{renderFormItemContent:function(e,t){return e.children.map((e=>Mh(e,t)[0]))}},$select:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i}=e,s=rp.get(n,o);return[w(yh(e),Object.assign(Object.assign({},Ch(e,0,s,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i})),Eh(e,t)))]}},$radio:{renderFormItemContent:Ah},$checkbox:{renderFormItemContent:Ah},$switch:{renderFormItemContent:Ih}});const $h=Object.assign(hh,{install(e){e.component(hh.name,hh)}});$m.use($h),Rm.component(hh);const Fh=$h;let Nh=1e5;const Lh=e=>{if(e){return"layout"===Bh(e.name).group}return!1},_h=r({}),Bh=e=>_h.value[e]||{};class jh{constructor(e,t,n){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"field",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:{update:!1,value:""}});let o="";if(t){const n=cm.get(t)||{};{const l=_h.value,r=n.createFormDesignWidgetConfig;if(r){const n={name:t,$formDesign:e},a=r(n)||{},i=a.title,s=a.field;this.title=rp.toValueString(rp.isFunction(i)?i(n):i),this.options=a.options||{},this.children=a.children||[],s&&(o=rp.isFunction(s)?s({name:t,$formDesign:e}):s),l[t]||(l[t]=Object.assign({},a),_h.value=Object.assign({},l))}}}const l=function(e){return rp.eachTree(e,(e=>{e&&(Nh=Math.max(Nh,e.id))}),{children:"children"}),++Nh}(n);o&&(((e,t)=>!rp.findTree(t,(t=>t.field===e),{children:"children"}))(o,n)||Lm("vxe.error.uniField",[o])),this.id=l,this.field=o||`${t}${l}`,this.name=t}}function zh(e){const t=new jh(null,e.name,[]);return t.id=e.id,t.title=e.title||"",t.field=e.field||"",t.required=e.required||!1,t.hidden=e.hidden||!1,t.options=Object.assign({},t.options,e.options),t.children=e.children?e.children.map((e=>zh(e))):[],t}const Wh=p({props:{},emits:[],setup(){const e=o("$xeFormDesign",null);if(!e)return()=>[];const{reactData:t}=e,n=n=>{const o=n.currentTarget,l=n.dataTransfer,r=o.getAttribute("data-widget-name")||"";if(e.validWidgetUnique(r)){const n=e.createWidget(r);l&&l.setData("text/plain",r),t.sortWidget=null,t.dragWidget=n}else n.preventDefault()},l=n=>{if(n.preventDefault(),t.dragWidget){const o=t.dragWidget;t.activeWidget=o,e.dispatchEvent("add-widget",{newWidget:o},n)}t.dragWidget=null,t.sortWidget=null},r=o=>{const r=[];return o.children&&o.children.forEach(((o,a)=>{const{name:i}=o,s=function(e,t){{const n=Bh(e).title,o={name:e,$formDesign:t};return rp.toValueString(rp.isFunction(n)?n(o):n)}}(i,e),c=cm.get(i)||{},u=Bh(i),d=c.renderFormDesignWidgetItem;r.push(w("div",{key:a,class:"vxe-form-design--widget-item"},w("div",{class:"vxe-form-design--widget-box","data-widget-name":i,title:s,draggable:!0,onDragstart:n,onDragend:l},d?Um(d({},{$formDesign:e})):[w("i",{class:["vxe-form-design--widget-item-icon",u.icon||""]}),w("span",{class:"vxe-form-design--widget-item-name"},s),w("span",{class:"vxe-form-design--widget-item-add",onClick(n){((n,o)=>{if(e.validWidgetUnique(o)){const{widgetObjList:l}=t,r=e.createWidget(o);l.push(r),t.activeWidget=r,t.sortWidget=null,t.dragWidget=null,e.dispatchEvent("add-widget",{newWidget:r},n)}})(n,i)}},[w("i",{class:Fp().FORM_DESIGN_WIDGET_ADD})])])))})),r},a=()=>{const{widgetConfigs:e}=t;return e.map(((e,n)=>{const{title:o,group:l}=e;return w("div",{key:n,class:"vxe-form-design--widget-group"},[w("div",{class:"vxe-form-design--widget-title"},l?em(`vxe.formDesign.widget.group.${l}`):`${o||""}`),w("div",{class:"vxe-form-design--widget-list",onDragover(n){((e,n)=>{const{widgetObjList:o,dragWidget:l}=t;if(l&&n.children.some((e=>e.name===l.name))){const e=rp.findTree(o,(e=>e&&e.id===l.id),{children:"children"});e&&e.items.splice(e.index,1)}})(0,e)}},r(e))])}))};return()=>w("div",{class:"vxe-form-design--widget"},a())}}),Hh=p({name:"FormDesignLayoutViewItem",props:{item:{type:Object,default:()=>({})},itemIndex:{type:Number,default:0},items:{type:Array,default:()=>[]}},emits:[],setup(e,{slots:t}){const n=o("$xeFormDesign",null);if(!n)return()=>[];const{reactData:l}=n,r=e=>{const{widgetObjList:t}=l,n=e.currentTarget,o=Number(n.getAttribute("data-widget-id")),r=rp.findTree(t,(e=>e&&e.id===o),{children:"children"});r&&(l.dragWidget=null,l.sortWidget=r.item)},a=()=>{l.activeWidget=l.sortWidget,l.sortWidget=null},i=e=>{const{widgetObjList:t,sortWidget:o}=l,r=n.internalData,{lastDragTime:a}=r;if(a&&a>Date.now()-300)e.preventDefault();else if(o){const l=e.currentTarget;e.preventDefault();const a=Number(l.getAttribute("data-widget-id"));if(a!==o.id){const l=rp.findTree(t,(e=>e&&e.id===a),{children:"children"});if(l){const a=rp.findTree(t,(e=>e&&e.id===o.id),{children:"children"});a&&(a.parent&&"row"===a.parent.name?a.items[a.index]=n.createEmptyWidget():a.items.splice(a.index,1),l.items.splice(l.index,0,a.item),r.lastDragTime=Date.now(),n.dispatchEvent("drag-widget",{widget:a.item},e))}}}};return()=>{const{dragWidget:o,activeWidget:s,sortWidget:c}=l,{item:u}=e,{name:d}=u,p=s&&s.id===u.id,m=t.default;return w("div",{key:u.id,"data-widget-id":u.id,draggable:!0,class:["vxe-form-design--preview-item",`widget-${rp.kebabCase(d)}`,{"is--active":p,"is--sort":c&&c.id===u.id,"is--drag":o&&o.id===u.id}],onDragstart:r,onDragend:a,onDragenter:i,onClick(e){((e,t)=>{n.handleClickWidget(e,t)})(e,u)}},[w("div",{class:"vxe-form-design--preview-item-view vxe-form--item-row"},m?m({}):[]),p?w("div",{class:"vxe-form-design--preview-item-operate"},[w(Nf,{icon:Fp().FORM_DESIGN_WIDGET_COPY,status:"primary",size:"mini",circle:!0,onClick(e){n.handleCopyWidget(e.$event,u)}}),w(Nf,{icon:Fp().FORM_DESIGN_WIDGET_DELETE,status:"danger",size:"mini",circle:!0,onClick(e){n.handleRemoveWidget(e.$event,u)}})]):x()])}}}),qh=p({name:"FormDesignLayoutPreview",props:{},emits:[],setup(){const e=o("$xeFormDesign",null);if(!e)return()=>[];const{reactData:t}=e,n=n=>{const{widgetObjList:o,dragWidget:l}=t;if(l){n.preventDefault();rp.findTree(o,(e=>e&&e.id===l.id),{children:"children"})||(t.sortWidget=l,o.push(l),e.dispatchEvent("drag-widget",{widget:l},n))}},l=e=>{e.preventDefault()};let r=Date.now();const a=n=>{const{widgetObjList:o,sortWidget:l}=t;if(n.stopPropagation(),r>Date.now()-300)n.preventDefault();else if(l){if(Lh(l))return;const t=rp.findTree(o,(e=>e.id===l.id),{children:"children"});if(t){const{item:l,index:a,items:i,parent:s}=t;s&&"row"===s.name?t.items[t.index]=e.createEmptyWidget():i.splice(a,1),o.unshift(l),r=Date.now(),e.dispatchEvent("drag-widget",{widget:l},n)}}},i=n=>{const{widgetObjList:o,sortWidget:l}=t;if(n.stopPropagation(),r>Date.now()-300)n.preventDefault();else if(l){if(Lh(l))return;const t=rp.findTree(o,(e=>e.id===l.id),{children:"children"});if(t){const{item:l,index:a,items:i,parent:s}=t;s&&"row"===s.name?t.items[t.index]=e.createEmptyWidget():i.splice(a,1),o.push(l),r=Date.now(),e.dispatchEvent("drag-widget",{widget:l},n)}}};return()=>{const{widgetObjList:o}=t;return w("div",{class:"vxe-form-design--preview",onDragenter:n,onDragover:l},[w("div",{class:"vxe-form-design--preview-wrapper"},[w("div",{class:"vxe-form-design--preview-place-widget",onDragenter:a}),w(hh,{customLayout:!0,span:24,vertical:!0},{default:()=>w(E,{class:"vxe-form-design--preview-list",tag:"div",name:"vxe-form-design--preview-list"},{default:()=>o.map(((t,n)=>w(Hh,{key:t.id,item:t,itemIndex:n,items:o},{default(){const{name:n}=t,o=cm.get(n)||{},l=o.renderFormDesignWidgetEdit||o.renderFormDesignWidgetView;return l?Um(l(t,{widget:t,readonly:!1,disabled:!1,isEditMode:!0,isViewMode:!1,$formDesign:e,$formView:null})):[]}})))})}),w("div",{class:"vxe-form-design--preview-place-widget",onDragenter:i})])])}}}),Uh=p({name:"VxeTabs",props:{modelValue:[String,Number,Boolean],options:Array,height:[String,Number],destroyOnClose:Boolean,titleWidth:[String,Number],titleAlign:[String,Number],type:String,showClose:Boolean,padding:{type:Boolean,default:()=>Rp().tabs.padding},trigger:String,beforeChangeMethod:Function,closeConfig:Object,refreshConfig:Object,beforeCloseMethod:Function},emits:["update:modelValue","change","tab-change","tab-change-fail","tab-close","tab-close-fail","tab-click","tab-load"],setup(e,n){const{slots:l,emit:a}=n,s=rp.uniqueId(),c=o("$xeTabs",null),u=r(),d=r(),p=m({staticTabs:[],activeName:null,initNames:[],lintLeft:0,lintWidth:0,isTabOver:!1,resizeFlag:1,cacheTabMaps:{}}),v={slTimeout:void 0},y={refElem:u},C=f((()=>Object.assign({},Rp().tabs.closeConfig,e.closeConfig))),S=f((()=>Object.assign({},Rp().tabs.refreshConfig,e.refreshConfig))),E=f((()=>{const{options:t}=e;return(t||[]).filter((e=>k(e)))})),T=f((()=>{const{staticTabs:e}=p;return e.filter((e=>k(e)))})),D={},O={xID:s,props:e,context:n,reactData:p,getRefMaps:()=>y,getComputeMaps:()=>D},k=e=>{const{permissionCode:t}=e;return!(t&&!wm.checkVisible(t))},I=(e,t)=>e&&(rp.isString(e)&&(e=l[e]||null),rp.isFunction(e))?Um(e(t)):[],M=()=>{t((()=>{const{type:t}=e,{activeName:n}=p,o=E.value,l=T.value,r=d.value;let a=0,i=0,s=!1;if(r){const e=rp.findIndexOf(l.length?l:o,(e=>e.name===n)),{children:c,scrollWidth:u,clientWidth:d}=r;if(s=u!==d,e>-1){const n=c[e],o=n.clientWidth;t?"card"===t?(a=o+2,i=n.offsetLeft):"border-card"===t&&(a=o+2,i=n.offsetLeft-1):(a=Math.max(4,Math.floor(.6*o)),i=n.offsetLeft+Math.floor((o-a)/2))}}p.lintLeft=i,p.lintWidth=a,p.isTabOver=s}))},P=(e,t,n)=>{a(e,Hp(n,{$tabs:O},t))},R=(e,t)=>{const{initNames:n}=p;return!(!e||n.includes(e))&&(P("tab-load",{name:e},t),n.push(e),!0)},V=t=>{let n=null;const o={};if(t&&t.length){let l=!1;n=e.modelValue,t.forEach((e=>{const{name:t,preload:r}=e||{};t&&(o[`${t}`]={loading:!1},n===t&&(l=!0),r&&R(t,null))})),l||(n=t[0].name,R(n,null),a("update:modelValue",n))}p.activeName=n,p.cacheTabMaps=o},A=e=>{const t=d.value;if(t){((e,t)=>{const{slTimeout:n}=v;let o=t,l=6,r=35;n&&(clearTimeout(n),v.slTimeout=void 0);const a=()=>{const t=d.value;if(l>0&&(l--,t)){const{clientWidth:n,scrollWidth:l,scrollLeft:i}=t;o=Math.floor(o/2),e>0?n+i<l&&(t.scrollLeft+=o,r-=4,v.slTimeout=setTimeout(a,r)):i>0&&(t.scrollLeft-=o,r-=4,v.slTimeout=setTimeout(a,r)),M()}};a()})(e,Math.floor(.75*t.clientWidth))}},$=()=>{A(-1)},F=()=>{A(1)},N=e=>{const n=E.value,o=T.value;return t().then((()=>{const t=d.value;if(t){const l=rp.findIndexOf(o.length?o:n,(t=>t.name===e));if(l>-1){const{scrollLeft:e,clientWidth:n,children:o}=t,r=o[l];if(r){const o=r.offsetLeft,l=o+r.clientWidth-(e+n);l>0&&(t.scrollLeft+=l),o<e&&(t.scrollLeft=o)}}M()}}))},L=e=>{const{activeName:n}=p,o=E.value,l=T.value,r=l.length?l:o,i=rp.findIndexOf(r,(e=>e.name===n));if(i>-1){let t=null;if(e?i<r.length-1&&(t=r[i+1]):i>0&&(t=r[i-1]),t){const e=t.name,n=e;p.activeName=e,a("update:modelValue",n),R(e,null)}}return t()},_={dispatchEvent:P,scrollToTab:N,prev:()=>L(!1),next:()=>L(!0),prevTab:()=>_.prev(),nextTab:()=>_.next()};Object.assign(O,_,{});const B=t=>{const{type:n,titleWidth:o,titleAlign:r,showClose:i,closeConfig:s,refreshConfig:c}=e,{activeName:u,lintLeft:m,lintWidth:f,isTabOver:g,cacheTabMaps:h}=p,v=l.extra,b=C.value,y=b.visibleMethod,E=S.value,T=E.visibleMethod;return w("div",{class:"vxe-tabs-header"},[g?w("div",{class:"vxe-tabs-header--bar vxe-tabs-header--left-bar",onClick:$},[w("span",{class:Fp().TABS_TAB_BUTTON_LEFT})]):x(),w("div",{class:"vxe-tabs-header--wrapper"},[w("div",{ref:d,class:"vxe-tabs-header--item-wrapper"},t.map(((n,l)=>{const{title:d,titleWidth:m,titleAlign:f,icon:g,name:v,slots:D}=n,k=D?D.title||D.tab:null,M=m||o,V=f||r,A={$tabs:O,value:u,name:v,option:n},$=u===v,F=v?h[`${v}`]:null,N=!!F&&F.loading;return w("div",{key:`${v}`,class:["vxe-tabs-header--item",V?`align--${V}`:"",{"is--active":$}],style:M?{width:lf(M)}:null,onClick(t){((t,n)=>{const{trigger:o}=e,l=e.beforeChangeMethod||Rp().tabs.beforeChangeMethod,{activeName:r}=p,{name:i}=n,s=i;P("tab-click",{name:i},t),"manual"!==o&&i!==r&&Promise.resolve(!l||l({$tabs:O,name:i,oldName:r,newName:i,option:n})).then((e=>{e?(p.activeName=i,a("update:modelValue",s),R(i,t),P("change",{value:s,name:i,oldName:r,newName:i,option:n},t),P("tab-change",{value:s,name:i,oldName:r,newName:i,option:n},t)):P("tab-change-fail",{value:s,name:i,oldName:r,newName:i,option:n},t)})).catch((()=>{P("tab-change-fail",{value:s,name:i,oldName:r,newName:i,option:n},t)}))})(t,n)}},[w("div",{class:"vxe-tabs-header--item-inner"},[w("div",{class:"vxe-tabs-header--item-content"},[g?w("span",{class:"vxe-tabs-header--item-icon"},[w("i",{class:g})]):x(),w("span",{class:"vxe-tabs-header--item-name"},k?I(k,{name:v,title:d}):`${d}`)]),(Mf(c)||E.enabled)&&(T?T(A):$)?w("div",{class:"vxe-tabs-header--refresh-btn",onClick(e){((e,t)=>{e.stopPropagation();const{activeName:n,cacheTabMaps:o}=p,{name:l}=t,r=S.value,{queryMethod:a}=r,i=l?o[`${l}`]:null;i&&(a?(i.loading=!0,Promise.resolve(a({$tabs:O,value:n,name:l,option:t})).finally((()=>{i.loading=!1}))):Lm("vxe.error.notFunc",["refresh-config.queryMethod"]))})(e,n)}},[w("i",{class:N?Fp().TABS_TAB_REFRESH_LOADING:Fp().TABS_TAB_REFRESH})]):x(),!(i||Mf(s)||b.enabled)||y&&!y(A)?x():w("div",{class:"vxe-tabs-header--close-btn",onClick(o){((t,n,o,l)=>{t.stopPropagation();const{activeName:r}=p,a=C.value.beforeMethod||e.beforeCloseMethod||Rp().tabs.beforeCloseMethod,{name:i}=n,s=r;let c=s;if(r===i){const e=o<l.length-1?l[o+1]:l[o-1];c=e?e.name:null}Promise.resolve(!a||a({$tabs:O,value:s,name:i,nextName:c,option:n})).then((e=>{P(e?"tab-close":"tab-close-fail",{value:s,name:i,nextName:c},t)})).catch((()=>{P("tab-close-fail",{value:s,name:i,nextName:c},t)}))})(o,n,l,t)}},[w("i",{class:Fp().TABS_TAB_CLOSE})])])])})).concat([w("span",{key:"line",class:`vxe-tabs-header--active-line type--${n||"default"}`,style:{left:`${m}px`,width:`${f}px`}})]))]),g?w("div",{class:"vxe-tabs-header--bar vxe-tabs-header--right-bar",onClick:F},[w("span",{class:Fp().TABS_TAB_BUTTON_RIGHT})]):x(),v?w("div",{class:"vxe-tabs-header--extra"},Um(v({}))):x()])},j=e=>{const{initNames:t,activeName:n}=p,{name:o,slots:l}=e,r=l?l.default:null;return o&&t.includes(o)?w("div",{key:`${o}`,class:["vxe-tabs-pane--item",{"is--visible":n===o,"has--content":!!r}]},r?I(r,{name:o}):[]):x()},z=t=>{const{destroyOnClose:n}=e,{activeName:o}=p,l=t.find((e=>e.name===o));return n?[l?j(l):x()]:t.map((e=>j(e)))};i((()=>e.modelValue),(e=>{R(e,null),p.activeName=e})),i((()=>p.activeName),(e=>{N(e),t((()=>{p.resizeFlag++}))}));const W=r(0);i((()=>e.options?e.options.length:-1),(()=>{W.value++})),i((()=>e.options),(()=>{W.value++})),i(W,(()=>{V(e.options),M()}));const H=r(0);return i((()=>p.staticTabs?p.staticTabs.length:-1),(()=>{H.value++})),i((()=>p.staticTabs),(()=>{H.value++})),i(H,(()=>{V(p.staticTabs),M()})),c&&i((()=>c?c.reactData.resizeFlag:null),(()=>{p.resizeFlag++})),i((()=>p.resizeFlag),(()=>{t((()=>{M()}))})),g((()=>{qp.on(O,"resize",M),M()})),h((()=>{qp.off(O,"resize")})),b("$xeTabs",O),R(e.modelValue,null),V(p.staticTabs.length?p.staticTabs:e.options),O.renderVN=()=>{const{type:t,height:n,padding:o,trigger:r}=e,a=E.value,i=T.value,s=l.default,c=l.footer,d=s?i:a;return w("div",{ref:u,class:["vxe-tabs",`vxe-tabs--${t||"default"}`,"trigger--"+("manual"===r?"trigger":"default"),{"is--padding":o,"is--height":n}],style:n?{height:lf(n)}:null},[w("div",{class:"vxe-tabs-slots"},s?s({}):[]),B(d),w("div",{class:"vxe-tabs-pane"},z(d)),c?w("div",{class:"vxe-tabs-footer"},I(c,{})):Pm()])},O},render(){return this.renderVN()}});const Kh=p({name:"VxeTabPane",props:{title:[String,Number],name:[String,Number],icon:String,titleWidth:[String,Number],titleAlign:[String,Number],preload:Boolean,permissionCode:[String,Number]},emits:[],setup(e,t){const{slots:n,emit:l}=t,a=rp.uniqueId(),s=r(),c=o("$xeTabs",null),u=m({}),d=m({id:a,title:e.title,name:e.name,icon:e.icon,titleWidth:e.titleWidth,titleAlign:e.titleAlign,preload:e.preload,permissionCode:e.permissionCode,slots:n}),p={refElem:s},f={},v={xID:a,props:e,context:t,reactData:u,getRefMaps:()=>p,getComputeMaps:()=>f},b={dispatchEvent:(e,t,n)=>{l(e,Hp(n,{$tabPane:v},t))}};Object.assign(v,b,{}),i((()=>e.title),(e=>{d.title=e})),i((()=>e.name),(e=>{d.name=e})),i((()=>e.icon),(e=>{d.icon=e})),i((()=>e.permissionCode),(e=>{d.permissionCode=e})),g((()=>{const e=s.value;c&&e&&function(e,t,n){const o=e.reactData.staticTabs,l=t.parentNode;l&&(o.splice(rp.arrayIndexOf(l.children,t),0,n),e.reactData.staticTabs=o.slice(0))}(c,e,d)})),h((()=>{c&&function(e,t){const n=e.reactData.staticTabs,o=rp.findTree(n,(e=>e.id===t.id),{children:"children"});o&&o.items.splice(o.index,1),e.reactData.staticTabs=n.slice(0)}(c,d)}));return v.renderVN=()=>w("div",{ref:s},[]),v},render(){return this.renderVN()}}),Gh={title:String,field:String,span:{type:[String,Number],default:null},align:{type:String,default:null},verticalAlign:{type:String,default:null},titleBackground:{type:Boolean,default:null},titleBold:{type:Boolean,default:null},titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},showTitle:{type:Boolean,default:!0},vertical:{type:Boolean,default:null},padding:{type:Boolean,default:null},className:[String,Function],contentClassName:[String,Function],contentStyle:[Object,Function],titleClassName:[String,Function],titleStyle:[Object,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},showContent:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object,rules:Array},Yh=p({name:"VxeFormItem",props:Gh,setup(e,{slots:t}){const n=r(),l=o("$xeForm",{}),a=o("$xeFormGroup",null),i=m(eh(l,e));i.slots=t;b("xeFormItemInfo",{itemConfig:i});const s={formItem:i,renderVN:()=>!!l&&l.props.customLayout?((e,t)=>{const o=e.props,{data:l,readonly:r,disabled:a}=o,{visible:i,field:s,itemRender:c,contentStyle:u,showContent:d}=t,p=Mf(c)?cm.get(c.name):null,m=p?p.formItemStyle||p.itemStyle:null,f=p?p.formItemContentStyle||p.itemContentStyle:null,g={data:l,disabled:a,readonly:r,field:s,property:s,item:t,$form:e,$grid:e.xegrid};return!1===i?x():w("div",{ref:n,key:t.id,class:ch(e,t),style:rp.isFunction(m)?m(g):m},[dh(e,t),!1===d?x():w("div",{class:uh(e,t),style:Object.assign({},rp.isFunction(f)?f(g):f,rp.isFunction(u)?u(g):u)},[ph(e,t)])])})(l,i):w("div",{ref:n})};return oh(e,i),g((()=>{const e=n.value;lh(l,e,i,a)})),h((()=>{rh(l,i)})),b("$xeFormItem",s),b("$xeFormGroup",null),s},render(){return this.renderVN()}}),Xh=p({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},size:{type:String,default:()=>Rp().switch.size||Rp().size},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String,openActiveIcon:String,closeActiveIcon:String},emits:["update:modelValue","change","focus","blur"],setup(e,n){const{emit:l}=n,a=o("$xeForm",null),i=o("xeFormItemInfo",null),s=rp.uniqueId(),{computeSize:c}=Sm(e),u=m({isActivated:!1,hasAnimat:!1,offsetLeft:0}),d={},p={xID:s,props:e,context:n,reactData:u,internalData:d},g=r();let h={};const v=f((()=>{const{disabled:t}=e;return null===t?!!a&&(a.props.readonly||a.props.disabled):t})),b=f((()=>{const{readonly:t}=e;return null===t?!!a&&(a.props.readonly||a.props.disabled):t})),y=f((()=>Vf(e.openLabel))),C=f((()=>Vf(e.closeLabel))),S=f((()=>e.modelValue===e.openValue)),E=t=>{const n=v.value,o=b.value;if(!n&&!o){const n=S.value;clearTimeout(d.atTimeout);const o=n?e.closeValue:e.openValue;u.hasAnimat=!0,(e=>{l("update:modelValue",e)})(o),h.dispatchEvent("change",{value:o},t),a&&i&&a.triggerItemEvent(t,i.itemConfig.field,o),d.atTimeout=setTimeout((()=>{u.hasAnimat=!1,d.atTimeout=void 0}),400)}},T=t=>{u.isActivated=!0,h.dispatchEvent("focus",{value:e.modelValue},t)},D=t=>{u.isActivated=!1,h.dispatchEvent("blur",{value:e.modelValue},t)};h={dispatchEvent:(e,t,n)=>{l(e,Hp(n,{$switch:p},t))},focus(){const e=g.value;return u.isActivated=!0,e&&e.focus(),t()},blur(){const e=g.value;return e&&e.blur(),u.isActivated=!1,t()}},Object.assign(p,h);return p.renderVN=()=>{const{openIcon:t,closeIcon:n,openActiveIcon:o,closeActiveIcon:l}=e,r=c.value,a=S.value,i=y.value,s=C.value,d=v.value,p=b.value;return w("div",{class:["vxe-switch",a?"is--on":"is--off",{[`size--${r}`]:r,"is--disabled":d,"is--readonly":p,"is--animat":u.hasAnimat}]},[w("button",{ref:g,class:"vxe-switch--button",type:"button",disabled:d||p,onClick:E,onFocus:T,onBlur:D},[w("span",{class:"vxe-switch--label vxe-switch--label-on"},[t?w("i",{class:["vxe-switch--label-icon",t]}):x(),i]),w("span",{class:"vxe-switch--label vxe-switch--label-off"},[n?w("i",{class:["vxe-switch--label-icon",n]}):x(),s]),w("span",{class:["vxe-switch--icon"]},o||l?[w("i",{class:a?o:l})]:[])])])},p},render(){return this.renderVN()}}),Zh=p({name:"DefaultSettingForm",props:{formData:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormDesign",null);if(!t)return()=>[];const{props:n}=t;return()=>{const{formData:t}=e;return w(hh,{data:t,span:24,vertical:!0,titleBold:!0},{default(){const{showPc:e,showMobile:o}=n;return[w(Yh,{title:em("vxe.formDesign.formName"),field:"title",itemRender:{name:"VxeInput",props:{placeholder:em("vxe.formDesign.defFormTitle")}}}),e&&o?w(Yh,{title:em("vxe.formDesign.widgetProp.displaySetting.name")},{default:()=>[w("div",{class:"vxe-form-design--widget-form-item-devices"},[w("div",{class:"vxe-form-design--widget-form-item-pc"},[w(Ag,{icon:Fp().FORM_DESIGN_PROPS_PC,content:em("vxe.formDesign.widgetProp.displaySetting.pc")}),w(Xh,{modelValue:t.pcVisible,openLabel:em("vxe.formDesign.widgetProp.displaySetting.visible"),closeLabel:em("vxe.formDesign.widgetProp.displaySetting.hidden"),"onUpdate:modelValue"(e){t.pcVisible=e}})]),w("div",{class:"vxe-form-design--widget-form-item-mobile"},[w(Ag,{icon:Fp().FORM_DESIGN_PROPS_MOBILE,content:em("vxe.formDesign.widgetProp.displaySetting.mobile")}),w(Xh,{modelValue:t.mobileVisible,openLabel:em("vxe.formDesign.widgetProp.displaySetting.visible"),closeLabel:em("vxe.formDesign.widgetProp.displaySetting.hidden"),"onUpdate:modelValue"(e){t.mobileVisible=e}})])])]}):x()]}})}}}),Qh=p({name:"FormDesignLayoutSetting",props:{},emits:[],setup(){const e=o("$xeFormDesign",null);if(!e)return()=>[];const{props:t,reactData:n}=e,l=r(1);return i((()=>n.activeWidget),(()=>{l.value=1})),()=>w("div",{class:"vxe-form-design--setting"},[w("div",{class:"vxe-form-design--setting-form"},[w(Uh,{modelValue:l.value,titleWidth:"50%",titleAlign:"center",padding:!0,class:"vxe-form-design--setting-form-tabs","onUpdate:modelValue"(e){l.value=e}},{default:()=>[w(Kh,{title:em("vxe.formDesign.widgetPropTab"),name:1},{default:()=>(()=>{const{activeWidget:t}=n;if(t){const n=cm.get(t.name),o=n?n.renderFormDesignWidgetFormView:null;if(o)return w("div",{class:"vxe-form-design--custom-widget-form-view"},Um(o(t,{isEditMode:!0,isViewMode:!1,widget:t,$formDesign:e,$formView:null})))}return x()})()}),w(Kh,{title:em("vxe.formDesign.widgetFormTab"),name:2},{default:()=>(()=>{const{formRender:o}=t,{formData:l}=n;if(o){const t=cm.get(o.name),n=t?t.renderFormDesignSettingFormView:null;if(n)return w("div",{class:"vxe-form-design--custom-setting-form-view"},Um(n({},{$formDesign:e})))}return w(Zh,{formData:l})})()})]})])])}}),Jh=[],ev=[],tv=[],nv="data-vxe-lock-scroll",ov="--vxe-ui-modal-lock-scroll-view-width",lv=p({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>Rp().modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>Rp().modal.duration},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>Rp().modal.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>Rp().modal.showConfirmButton},confirmButtonText:{type:String,default:()=>Rp().modal.confirmButtonText},lockView:{type:Boolean,default:()=>Rp().modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>Rp().modal.mask},maskClosable:{type:Boolean,default:()=>Rp().modal.maskClosable},escClosable:{type:Boolean,default:()=>Rp().modal.escClosable},cancelClosable:{type:Boolean,default:()=>Rp().modal.cancelClosable},confirmClosable:{type:Boolean,default:()=>Rp().modal.confirmClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>Rp().modal.showHeader},showFooter:{type:Boolean,default:()=>Rp().modal.showFooter},showZoom:Boolean,zoomConfig:Object,showMaximize:{type:Boolean,default:()=>$f(Rp().modal.showMaximize)},showMinimize:{type:Boolean,default:()=>$f(Rp().modal.showMinimize)},showClose:{type:Boolean,default:()=>Rp().modal.showClose},dblclickZoom:{type:Boolean,default:()=>Rp().modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>Rp().modal.minWidth},minHeight:{type:[Number,String],default:()=>Rp().modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>Rp().modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>Rp().modal.draggable},remember:{type:Boolean,default:()=>Rp().modal.remember},destroyOnClose:{type:Boolean,default:()=>Rp().modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>Rp().modal.showTitleOverflow},transfer:{type:Boolean,default:()=>Rp().modal.transfer},storage:{type:Boolean,default:()=>Rp().modal.storage},storageKey:{type:String,default:()=>Rp().modal.storageKey},padding:{type:Boolean,default:()=>Rp().modal.padding},size:{type:String,default:()=>Rp().modal.size||Rp().size},beforeHideMethod:Function,slots:Object,message:[Number,String],animat:{type:Boolean,default:()=>Rp().modal.animat}},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom","resize","move"],setup(e,n){const{slots:l,emit:a}=n,s=rp.uniqueId(),c=o("$xeModal",null),u=o("$xeDrawer",null),d=o("$xeTable",null),p=o("$xeForm",null),{computeSize:v}=Sm(e),y=m({initialized:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,prevZoomStatus:"",zoomStatus:"",revertLocat:null,prevLocat:null,firstOpen:!0}),C={msgTimeout:void 0},E=r(),T=r(),D=r(),O=r(),k=r(),I={refElem:E},M=f((()=>{const{transfer:t}=e;if(null===t){const e=Rp().modal.transfer;if(rp.isBoolean(e))return e;if(d||c||u||p)return!0}return t})),P=f((()=>"message"===e.type||"notification"===e.type)),R=f((()=>"minimize"===y.zoomStatus)),V=f((()=>"maximize"===y.zoomStatus)),A=f((()=>Object.assign({},Rp().modal.zoomConfig,e.zoomConfig))),$={computeSize:v,computeZoomOpts:A},F={xID:s,props:e,context:n,reactData:y,internalData:C,getRefMaps:()=>I,getComputeMaps:()=>$};let N={};const L=()=>T.value,_=()=>{const{width:n,height:o}=e,l=L();return l&&(l.style.width=n?lf(n):"",l.style.height=o?lf(o):""),t()},B=()=>{const{zIndex:t}=e,{modalZindex:n}=y;t?y.modalZindex=t:n<Rf()&&(y.modalZindex=Pf())},j=()=>t().then((()=>{const{position:t}=e,n=rp.toNumber(e.marginSize),o=L();if(!o)return;const l=document.documentElement.clientWidth||document.body.clientWidth,r=document.documentElement.clientHeight||document.body.clientHeight,a="center"===t,{top:i,left:s}=rp.isString(t)?{top:t,left:t}:Object.assign({},t),c=a||"center"===i;let u="",d="";d=s&&!(a||"center"===s)?isNaN(s)?s:`${s}px`:`${Math.max(n,l/2-o.offsetWidth/2)}px`,u=i&&!c?isNaN(i)?i:`${i}px`:`${Math.max(n,r/2-o.offsetHeight/2)}px`,o.style.top=u,o.style.left=d})),z=()=>{t((()=>{const{type:t}=e;let n=0;("notification"===t?tv:ev).forEach((e=>{const t=e.getBox();t&&(n+=rp.toNumber(e.props.top),e.reactData.modalTop=n,n+=t.clientHeight)}))}))},W=()=>{const{type:t}=e,n="notification"===t?tv:ev;n.indexOf(F)>-1&&rp.remove(n,(e=>e===F)),z()},H=n=>{const{remember:o}=e,{visible:l}=y,r=P.value,i=e.beforeHideMethod||Rp().modal.beforeHideMethod,s={type:n};return l&&Promise.resolve(i?i(s):null).then((e=>{rp.isError(e)||(r&&W(),y.contentVisible=!1,o||re(),rp.remove(Jh,(e=>e===F)),pe("before-hide",s,null),setTimeout((()=>{y.visible=!1,a("update:modelValue",!1),pe("hide",s,null)}),200),J())})).catch((e=>e)),t()},q=e=>{const t="close";pe(t,{type:t},e),H(t)},U=t=>{const{confirmClosable:n}=e,o="confirm";pe(o,{type:o},t),n&&H(o)},K=t=>{const{cancelClosable:n}=e,o="cancel";pe(o,{type:o},t),n&&H(o)},G=e=>{const t=Rp().version,n=rp.toStringJSON(localStorage.getItem(e)||"");return n&&n._v===t?n:{_v:t}},Y=()=>{const{id:t,storage:n,storageKey:o}=e,{zoomStatus:l,revertLocat:r}=y;if(!l&&t&&n){const e=L();if(!e)return;const n=G(o);n[t]=[e.style.left,e.style.top,e.style.width,e.style.height].concat(r?[r.left,r.top,r.width,r.height]:[]).map((e=>e?rp.toNumber(e):"")).join(","),localStorage.setItem(o,rp.toJSONString(n))}},X=()=>{const e=A.value,{minimizeLayout:n,minimizeMaxSize:o,minimizeHorizontalOffset:l,minimizeVerticalOffset:r,minimizeOffsetMethod:a}=e,i="horizontal"===n,s=y.zoomStatus,c=[],u=[];Jh.forEach((e=>{if(e.xID!==F.xID&&"modal"===e.props.type&&"minimize"===e.reactData.zoomStatus){"horizontal"===e.getComputeMaps().computeZoomOpts.value.minimizeLayout?c.push(e):u.push(e)}}));const d=i?c:u;return o&&d.length>=o?(Rm.modal&&Rm.modal.message({status:"error",content:em("vxe.modal.miniMaxSize",[o])}),Promise.resolve({status:!1})):(y.prevZoomStatus=s,y.zoomStatus="minimize",t().then((()=>{const e=L();if(!e)return{status:!1};const t=D.value;if(!t)return{status:!1};const{visibleHeight:n}=rf();s||(y.revertLocat={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth+(e.style.width?0:1),height:e.offsetHeight+(e.style.height?0:1)});const o=rp[i?"max":"min"](d,(e=>{const t=e.getBox();return t?rp.toNumber(t.style[i?"left":"top"]):0}));let c=n-t.offsetHeight-16,u=16;if(o){const e=o.getBox();if(e){const t=rp.toNumber(e.style.left),n=rp.toNumber(e.style.top);let o={};o=i?Object.assign({},l):Object.assign({},r),u=t+rp.toNumber(o.left),c=n+rp.toNumber(o.top),a&&(o=a({$modal:F,left:u,top:c}),u=rp.toNumber(o.left),c=rp.toNumber(o.top))}}return Object.assign(e.style,{top:`${c}px`,left:`${u}px`,width:"200px",height:`${t.offsetHeight}px`}),Y(),{status:!0}})))},Z=()=>{const e=y.zoomStatus;return y.prevZoomStatus=e,y.zoomStatus="maximize",t().then((()=>{const t=L();return t&&(e||(y.revertLocat={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth+(t.style.width?0:1),height:t.offsetHeight+(t.style.height?0:1)}),Object.assign(t.style,{top:"0",left:"0",width:"100%",height:"100%"})),Y(),{status:!0}}))},Q=()=>{const{duration:t}=e;-1!==t&&(C.msgTimeout=setTimeout((()=>H("close")),rp.toNumber(t)))},J=()=>{const e=document.documentElement,t=e.getAttribute(nv);if(t){const n=t.split(",").filter((e=>e!==s));n.length?e.setAttribute(nv,n.join(",")):(e.removeAttribute(nv),e.style.removeProperty(ov))}},ee=()=>{const{remember:n,showFooter:o}=e,{initialized:l,visible:r}=y,i=P.value;return l||(y.initialized=!0),r||((()=>{const{lockScroll:t}=e,n=P.value;if(t&&!n){const e=document.documentElement,t=document.body.clientWidth,n=e.getAttribute(nv),o=n?n.split(","):[];o.includes(s)||(o.push(s),e.setAttribute(nv,o.join(","))),e.style.setProperty(ov,`${t}px`)}})(),y.visible=!0,y.contentVisible=!1,B(),Jh.push(F),setTimeout((()=>{y.contentVisible=!0,t((()=>{if(o){const e=O.value,t=k.value,n=e||t;n&&n.focus()}const e={type:""};a("update:modelValue",!0),pe("show",e,null)}))}),10),i?((()=>{const{type:t}=e,n="notification"===t?tv:ev;-1===n.indexOf(F)&&n.push(F),z()})(),Q()):t((()=>{const{fullscreen:o}=e,{firstOpen:l}=y;l?(y.firstOpen=!1,(()=>{const{id:t,storage:n,storageKey:o}=e;return!!(t&&n&&G(o)[t])})()?(()=>{const{id:t,storage:n,storageKey:o}=e;if(t&&n){const e=G(o)[t];if(e){const t=L(),[n,o,l,r,a,i,s,c]=e.split(",");t&&(n&&(t.style.left=`${n}px`),o&&(t.style.top=`${o}px`),l&&(t.style.width=`${l}px`),r&&(t.style.height=`${r}px`)),a&&i&&(y.revertLocat={left:a,top:i,width:s,height:c})}}})():o?t((()=>Z())):(_(),j().then((()=>{setTimeout((()=>j()),20)})))):n||(_(),j().then((()=>{setTimeout((()=>j()),20)})))}))),t()},te=t=>{const n=E.value;if(e.maskClosable&&t.target===n){H("mask")}},ne=()=>{const{msgTimeout:e}=C;if(!e)return;P.value&&(clearTimeout(e),C.msgTimeout=void 0)},oe=()=>{const{msgTimeout:e}=C;if(!e){P.value&&Q()}},le=e=>{if(qp.hasKey(e,Np.ESCAPE)){const t=rp.max(Jh,(e=>e.reactData.modalZindex));t&&setTimeout((()=>{if(t===F&&t.props.escClosable){const t="exit";pe("close",{type:t},e),H(t)}}),10)}},re=()=>(y.prevZoomStatus=y.zoomStatus,y.zoomStatus="",t().then((()=>{const{revertLocat:e}=y;if(e){const n=L();return y.revertLocat=null,n&&Object.assign(n.style,{top:`${e.top}px`,left:`${e.left}px`,width:`${e.width}px`,height:`${e.height}px`}),Y(),t().then((()=>({status:!0})))}return{status:!1}}))),ae=e=>{const{zoomStatus:t}=y;return new Promise((n=>{if(e)return"maximize"===e?void n(Z()):"minimize"===e?void n(X()):void n(re());n(t?re():Z())})).then((()=>y.zoomStatus||"revert"))},ie=e=>{const{zoomStatus:t,prevZoomStatus:n}=y;return ae("minimize"===t?n||"revert":"minimize").then((t=>{pe("zoom",{type:t},e)}))},se=e=>ae().then((t=>{pe("zoom",{type:t},e)})),ce=()=>{const{modalZindex:e}=y;Jh.some((t=>t.reactData.visible&&t.reactData.modalZindex>e))&&B()},ue=n=>{const{storage:o}=e,{zoomStatus:l}=y,r=rp.toNumber(e.marginSize),a=L();if(a&&"maximize"!==l&&0===n.button&&!af(n,a,"trigger--btn").flag){n.preventDefault();const e=document.onmousemove,l=document.onmouseup,i=n.clientX-a.offsetLeft,s=n.clientY-a.offsetTop,{visibleHeight:c,visibleWidth:u}=rf();document.onmousemove=e=>{e.preventDefault();const t=a.offsetWidth,n=a.offsetHeight,o=r,l=u-t-r-1,d=r,p=c-n-r-1;let m=e.clientX-i,f=e.clientY-s;m>l&&(m=l),m<o&&(m=o),f>p&&(f=p),f<d&&(f=d),a.style.left=`${m}px`,a.style.top=`${f}px`,a.className=a.className.replace(/\s?is--drag/,"")+" is--drag",pe("move",{type:"move"},e)},document.onmouseup=()=>{document.onmousemove=e,document.onmouseup=l,o&&t((()=>{Y()})),setTimeout((()=>{a.className=a.className.replace(/\s?is--drag/,"")}),50)}}},de=t=>{t.preventDefault();const{storage:n}=e,{visibleHeight:o,visibleWidth:l}=rf(),r=rp.toNumber(e.marginSize),a=t.target.getAttribute("type"),i=rp.toNumber(e.minWidth),s=rp.toNumber(e.minHeight),c=l,u=o,d=L(),p=document.onmousemove,m=document.onmouseup,f=d.clientWidth,g=d.clientHeight,h=t.clientX,v=t.clientY,b=d.offsetTop,x=d.offsetLeft,w={type:"resize"};document.onmousemove=e=>{let t,p,m,y;switch(e.preventDefault(),a){case"wl":t=h-e.clientX,m=t+f,x-t>r&&m>i&&(d.style.width=`${m<c?m:c}px`,d.style.left=x-t+"px");break;case"swst":t=h-e.clientX,p=v-e.clientY,m=t+f,y=p+g,x-t>r&&m>i&&(d.style.width=`${m<c?m:c}px`,d.style.left=x-t+"px"),b-p>r&&y>s&&(d.style.height=`${y<u?y:u}px`,d.style.top=b-p+"px");break;case"swlb":t=h-e.clientX,p=e.clientY-v,m=t+f,y=p+g,x-t>r&&m>i&&(d.style.width=`${m<c?m:c}px`,d.style.left=x-t+"px"),b+y+r<o&&y>s&&(d.style.height=`${y<u?y:u}px`);break;case"st":p=v-e.clientY,y=g+p,b-p>r&&y>s&&(d.style.height=`${y<u?y:u}px`,d.style.top=b-p+"px");break;case"wr":t=e.clientX-h,m=t+f,x+m+r<l&&m>i&&(d.style.width=`${m<c?m:c}px`);break;case"sest":t=e.clientX-h,p=v-e.clientY,m=t+f,y=p+g,x+m+r<l&&m>i&&(d.style.width=`${m<c?m:c}px`),b-p>r&&y>s&&(d.style.height=`${y<u?y:u}px`,d.style.top=b-p+"px");break;case"selb":t=e.clientX-h,p=e.clientY-v,m=t+f,y=p+g,x+m+r<l&&m>i&&(d.style.width=`${m<c?m:c}px`),b+y+r<o&&y>s&&(d.style.height=`${y<u?y:u}px`);break;case"sb":p=e.clientY-v,y=p+g,b+y+r<o&&y>s&&(d.style.height=`${y<u?y:u}px`)}d.className=d.className.replace(/\s?is--drag/,"")+" is--drag",n&&Y(),pe("resize",w,e)},document.onmouseup=()=>{y.revertLocat=null,document.onmousemove=p,document.onmouseup=m,setTimeout((()=>{d.className=d.className.replace(/\s?is--drag/,"")}),50)}},pe=(e,t,n)=>{a(e,Hp(n,{$modal:F},t))};N={dispatchEvent:pe,open:ee,close:()=>H("close"),getBox:L,getPosition:()=>{if(!P.value){const e=L();if(e)return{top:e.offsetTop,left:e.offsetLeft}}return null},setPosition:(e,n)=>{if(!P.value){const t=L();t&&(rp.isNumber(e)&&(t.style.top=`${e}px`),rp.isNumber(n)&&(t.style.left=`${n}px`))}return t()},isMinimized:()=>"minimize"===y.zoomStatus,isMaximized:()=>"maximize"===y.zoomStatus,zoom:()=>ae(),minimize:()=>y.visible?X():Promise.resolve({status:!1}),maximize:()=>y.visible?Z():Promise.resolve({status:!1}),revert:()=>y.visible?re():Promise.resolve({status:!1})},Object.assign(F,N);const me=()=>{const{slots:t={},showZoom:n,showMaximize:o,draggable:r}=e,a=P.value,i=l.header||t.header;if(e.showHeader){const t={};return r&&(t.onMousedown=ue),(rp.isBoolean(o)?o:n)&&e.dblclickZoom&&"modal"===e.type&&(t.onDblclick=se),w("div",Object.assign({ref:D,class:["vxe-modal--header",{"is--ellipsis":!a&&e.showTitleOverflow}]},t),i?Um(i({$modal:F})):(()=>{const{slots:t={},showClose:n,showZoom:o,showMaximize:r,showMinimize:a,title:i}=e,{zoomStatus:s}=y,c=l.title||t.title,u=l.corner||t.corner,d=R.value,p=V.value;return[w("div",{class:"vxe-modal--header-title"},c?Um(c({$modal:F,minimized:d,maximized:p})):i?Vf(i):em("vxe.alert.title")),w("div",{class:"vxe-modal--header-right"},[u&&!d?w("div",{class:"vxe-modal--corner-wrapper"},Um(u({$modal:F}))):x(),(rp.isBoolean(a)?a:o)?w("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:em("vxe.modal.zoom"+("minimize"===s?"Out":"Min")),onClick:ie},[w("i",{class:"minimize"===s?Fp().MODAL_ZOOM_REVERT:Fp().MODAL_ZOOM_MIN})]):x(),(rp.isBoolean(r)?r:o)&&"minimize"!==s?w("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:em("vxe.modal.zoom"+("maximize"===s?"Out":"In")),onClick:se},[w("i",{class:"maximize"===s?Fp().MODAL_ZOOM_OUT:Fp().MODAL_ZOOM_IN})]):x(),n?w("div",{class:["vxe-modal--close-btn","trigger--btn"],title:em("vxe.modal.close"),onClick:q},[w("i",{class:Fp().MODAL_CLOSE})]):x()])]})())}return x()},fe=()=>{const{slots:t={},status:n,message:o,iconStatus:r}=e,a=e.content||o,i=P.value,s=l.default||t.default,c=l.left||t.left,u=l.right||t.right,d=[];return i||!n&&!r||d.push(w("div",{class:"vxe-modal--status-wrapper"},[w("i",{class:["vxe-modal--status-icon",r||Fp()[`MODAL_${n}`.toLocaleUpperCase()]]})])),d.push(w("div",{class:"vxe-modal--content"},s?Um(s({$modal:F})):Vf(a))),w("div",{class:"vxe-modal--body"},[c?w("div",{class:"vxe-modal--body-left"},Um(c({$modal:F}))):x(),w("div",{class:"vxe-modal--body-default"},d),u?w("div",{class:"vxe-modal--body-right"},Um(u({$modal:F}))):x(),i?x():w(jg,{class:"vxe-modal--loading",modelValue:e.loading})])},ge=()=>{const{slots:t={},showCancelButton:n,showConfirmButton:o,type:r,loading:a}=e,i=l.leftfoot||t.leftfoot,s=l.rightfoot||t.rightfoot,c=[];return(rp.isBoolean(n)?n:"confirm"===r)&&c.push(w(Nf,{key:1,ref:k,content:e.cancelButtonText||em("vxe.button.cancel"),onClick:K})),(rp.isBoolean(o)?o:"confirm"===r||"alert"===r)&&c.push(w(Nf,{key:2,ref:O,loading:a,status:"primary",content:e.confirmButtonText||em("vxe.button.confirm"),onClick:U})),w("div",{class:"vxe-modal--footer-wrapper"},[w("div",{class:"vxe-modal--footer-left"},i?Um(i({$modal:F})):[]),w("div",{class:"vxe-modal--footer-right"},s?Um(s({$modal:F})):c)])},he=()=>{const{slots:t={}}=e,n=l.footer||t.footer;return e.showFooter?w("div",{class:"vxe-modal--footer"},n?Um(n({$modal:F})):[ge()]):x()};return F.renderVN=()=>{const{slots:t={},className:n,type:o,animat:r,draggable:a,iconStatus:i,position:s,loading:c,destroyOnClose:u,status:d,lockScroll:p,padding:m,lockView:f,mask:g,resize:h}=e,{initialized:b,modalTop:C,contentVisible:D,visible:O,zoomStatus:k}=y,I=l.aside||t.aside,V=v.value,A=P.value,$=R.value,N=M.value,L={};return A&&(L.onMouseover=ne,L.onMouseout=oe),w(S,{to:"body",disabled:!N||!b},[w("div",Object.assign({ref:E,class:["vxe-modal--wrapper",`type--${o}`,`zoom--${k||"revert"}`,n||"",s?`pos--${s}`:"",{[`size--${V}`]:V,[`status--${d}`]:d,"is--padding":m,"is--animat":r,"lock--scroll":p,"lock--view":f,"is--draggable":a,"is--resize":h,"is--mask":g,"is--visible":D,"is--active":O,"is--loading":c}],style:{zIndex:y.modalZindex,top:C?`${C}px`:null},onClick:te},L),[w("div",{ref:T,class:"vxe-modal--box",onMousedown:ce},[!A&&!I||$?x():w("div",{class:"vxe-modal--aside"},I?Um(I({$modal:F})):[d||i?w("div",{class:"vxe-modal--status-wrapper"},[w("i",{class:["vxe-modal--status-icon",i||Fp()[`MODAL_${d}`.toLocaleUpperCase()]]})]):x()]),w("div",{class:"vxe-modal--container"},!y.initialized||u&&!y.visible?[]:[me(),fe(),he(),!A&&h?w("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map((e=>w("span",{class:`${e}-resize`,type:e,onMousedown:de})))):x()])])])])},i((()=>e.width),_),i((()=>e.height),_),i((()=>e.modelValue),(e=>{e?ee():H("model")})),g((()=>{t((()=>{e.storage&&!e.id&&Lm("vxe.error.reqProp",["modal.id"]),e.modelValue&&ee(),_()})),e.escClosable&&qp.on(F,"keydown",le)})),h((()=>{qp.off(F,"keydown"),W(),J()})),b("$xeModal",F),F},render(){return this.renderVN()}}),rv=e=>{const{formConfig:t}=e;return{vertical:t.pcVertical,titleBold:t.pcTitleBold,titleColon:t.pcTitleColon,titleAlign:t.pcTitleAlign,titleWidth:t.pcTitleWidth}},av=p({name:"VxeFormGroup",props:Gh,setup(e,t){const{slots:n}=t,l=r(),a=o("$xeForm",{}),i=o("$xeFormGroup",null),s=m(eh(a,e));s.slots=n,s.children=[];b("xeFormItemInfo",{itemConfig:s});const c={formItem:s,renderVN:()=>{const e=a.props,t=s,{data:o,readonly:r,disabled:i}=e,{visible:c,field:u,itemRender:d,contentStyle:p}=t,m=Mf(d)?cm.get(d.name):null,f=m?m.formItemStyle||m.itemStyle:null,g=m?m.formItemContentStyle||m.itemContentStyle:null,h=n?n.default:null,v={data:o,disabled:i,readonly:r,field:u,property:u,item:t,$form:a,$grid:a.xegrid};return!1===c?x():w("div",{ref:l,key:t.id,class:ch(a,t,!0),style:rp.isFunction(f)?f(v):f},[dh(a,t,!0),w("div",{class:uh(a,t,!0),style:Object.assign({},rp.isFunction(g)?g(v):g,rp.isFunction(p)?p(v):p)},h?h({}):[])])}};return oh(e,s),g((()=>{const e=l.value;lh(a,e,s,i)})),h((()=>{rh(a,s)})),b("$xeFormGroup",c),b("$xeFormItem",null),c},render(){return this.renderVN()}}),iv=p({name:"VxeFormView",props:{modelValue:Object,config:Object,readonly:Boolean,disabled:Boolean,viewRender:Object,formOptions:Object,createFormConfig:Function,size:{type:String,default:()=>Rp().formView.size||Rp().size}},emits:["update:modelValue","submit","reset"],setup(e,n){const{emit:l,slots:a}=n,s=rp.uniqueId(),c=r(),u=r(),{computeSize:d}=Sm(e),p=o("$xeFormDesignLayoutStyle",null),f=m({formConfig:{},formRules:{},widgetObjList:[]}),g={refElem:c},h={computeSize:d},v={xID:s,props:e,context:n,reactData:f,getRefMaps:()=>g,getComputeMaps:()=>h},y=e=>{if(e){const{formConfig:t,widgetData:n}=e;S(t||{}),D(n||[])}return t()},C=t=>{const{viewRender:n,createFormConfig:o,formOptions:l}=e,r={viewRender:n,formConfig:t};if(o)return o(r);const{name:a}=n||{},i=(cm.get(a)||{}).createFormViewFormConfig;return Object.assign({},i?i(r):rv(r),l)},S=e=>(f.formConfig=C(e),t()),E=e=>{const t={},n={};return rp.eachTree(e,(e=>{const{name:o,field:l,required:r}=e,a=cm.get(o)||{},i=a.createFormDesignWidgetFieldValue,s=a.createFormDesignWidgetFieldRules;if(t[l]=i?i({widget:e,$formView:v}):O(e),s){const t=s({widget:e,$formView:v});t&&t.length&&(n[l]=t)}else r&&(n[l]=k())}),{children:"children"}),{formData:t,formRules:n}},T=e=>(e||[]).map((e=>zh(e))),D=n=>{const o=T(n);f.widgetObjList=o;const{formData:r,formRules:a}=E(o);return f.formRules=a,l("update:modelValue",Object.assign(r,e.modelValue)),t()},O=e=>"subtable"===e.name?[]:null,k=()=>[{required:!0,content:"该填写该字段！"}],I=(e,n)=>{const{field:o}=e,l=u.value;return l&&l.updateStatus({field:o},n),t()},M=(e,t,n)=>{l(e,Hp(n,{$formView:v},t))},P=e=>e?rp.isArray(e)?e.map((e=>e.name)):[e.name]:null,R={dispatchEvent:M,clearConfig:()=>y({formConfig:{},widgetData:[]}),loadConfig:y,parseConfig:e=>{const{formConfig:t,widgetData:n}=e||{},o=T(n||[]);return Object.assign(Object.assign({},E(o)),{formConfig:C(t||{}),widgetData:o})},loadFormConfig:S,loadWidgetData:D,updateWidgetStatus:I,setItemValue:(n,o)=>{const{modelValue:l}=e,{field:r}=n,a=u.value;return l&&(l[r]=o),a&&a.updateStatus({field:r},o),t()},getItemValue:t=>{const{modelValue:n}=e;return n?n[t.field]:null},validate(){const e=u.value;return e?e.validate():t()},validateWidget(e){const n=u.value;return n?n.validateField(P(e)):t()},clearValidate(e){const n=u.value;return n?n.clearValidate(P(e)):t()},reset(){const{widgetObjList:e}=f,{formData:n}=E(e);return l("update:modelValue",Object.assign({},n)),t()},updateItemStatus:(e,t)=>I(e,t)},V=e=>{M("submit",e,e.$event)},A=e=>{M("reset",e,e.$event)};Object.assign(v,R,{});return v.renderVN=()=>{const{readonly:t,disabled:n,modelValue:o}=e,{formConfig:l,formRules:r,widgetObjList:i}=f,s=d.value,m=a.top,g=a.bottom,h=a.header,b=a.footer;return w("div",{ref:c,class:["vxe-form-view",{[`size--${s}`]:s}]},[m?w("div",{class:"vxe-form-view--top"},Um(m({$formView:v}))):x(),w(hh,Object.assign(Object.assign({ref:u},l),{data:o,customLayout:!0,readonly:t,disabled:n,span:24,rules:r,onSubmit:V,onReset:A}),{default(){const{readonly:t,disabled:n}=e;return[h?w(Yh,{},{default:()=>h({})}):x(),...i.map((e=>{const{name:o}=e,l=cm.get(o)||{},r=l.renderFormDesignWidgetView,a=l.renderFormDesignWidgetPreview,i=l.renderFormDesignWidgetMobilePreview,s=!!p,c=e,u={widget:e,readonly:!!t,disabled:!!n,isEditMode:s,isViewMode:!s,$formDesign:null,$formView:v};return w(av,{key:e.id},{default(){if(p)if(2===p.reactData.activeTab){if(i)return Um(i(c,u))}else if(a)return Um(a(c,u));return r?Um(r(c,u)):[]}})})),b?w(av,{span:24},{default:()=>b({})}):x()]}}),g?w("div",{class:"vxe-form-view--bottom"},Um(g({$formView:v}))):x()])},i((()=>e.config),(e=>{y(e||{})})),e.config&&y(e.config),b("$xeFormView",v),v},render(){return this.renderVN()}}),sv=p({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},name:String,strict:{type:Boolean,default:()=>Rp().radio.strict},size:{type:String,default:()=>Rp().radio.size||Rp().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:l}=t,r=o("$xeForm",null),a=o("xeFormItemInfo",null),i=o("$xeRadioGroup",null),s=rp.uniqueId(),c=m({}),u={xID:s,props:e,context:t,reactData:c},{computeSize:d}=Sm(e),p=f((()=>{const{disabled:t}=e;if(null===t&&i){const{computeIsDisabled:e}=i.getComputeMaps();return e.value}return t})),g=f((()=>i?i.name:e.name)),h=f((()=>i?i.props.strict:e.strict)),v=f((()=>{const{label:t}=e;return i?i.props.modelValue===t:e.modelValue===t})),b=(e,t)=>{i?i.handleChecked({label:e},t):(l("update:modelValue",e),C("change",{label:e},t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,e))},x=t=>{p.value||b(e.label,t)},y=t=>{const n=p.value,o=h.value;n||o||e.label===(i?i.props.modelValue:e.modelValue)&&b(null,t)},C=(e,t,n)=>{l(e,Hp(n,{$radio:u},t))},S={dispatchEvent:C};Object.assign(u,S,{});return u.renderVN=()=>{const{label:t}=e,o=d.value,l=p.value,r=g.value,a=v.value;return w("label",{key:t,class:["vxe-radio",{[`size--${o}`]:o,"is--checked":a,"is--disabled":l}],title:e.title},[w("input",{class:"vxe-radio--input",type:"radio",name:r,checked:a,disabled:l,onChange:x,onClick:y}),w("span",{class:["vxe-radio--icon",a?Fp().RADIO_CHECKED:Fp().RADIO_UNCHECKED]}),w("span",{class:"vxe-radio--label"},n.default?n.default({}):Vf(e.content))])},u},render(){return this.renderVN()}}),cv=p({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},strict:{type:Boolean,default:()=>Rp().radioButton.strict},size:{type:String,default:()=>Rp().radioButton.size||Rp().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:l}=t,r=o("$xeForm",null),a=o("xeFormItemInfo",null),i=o("$xeRadioGroup",null),s=rp.uniqueId(),c=m({}),{computeSize:u}=Sm(e),d={xID:s,props:e,context:t,reactData:c},p=f((()=>{const{disabled:t}=e;if(null===t&&i){const{computeIsDisabled:e}=i.getComputeMaps();return e.value}return t})),g=f((()=>i?i.name:null)),h=f((()=>i?i.props.strict:e.strict)),v=f((()=>{const{label:t}=e;return i?i.props.modelValue===t:e.modelValue===t})),b={dispatchEvent(e,t,n){l(e,Hp(n,{$radioButton:d},t))}};Object.assign(d,b,{});const x=(e,t)=>{i?i.handleChecked({label:e},t):(l("update:modelValue",e),b.dispatchEvent("change",{label:e},t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,e))},y=t=>{p.value||x(e.label,t)},C=t=>{const n=p.value,o=h.value;n||o||e.label===(i?i.props.modelValue:e.modelValue)&&x(null,t)},S=()=>{const{label:t}=e,o=u.value,l=p.value,r=g.value,a=v.value;return w("label",{key:t,class:["vxe-radio","vxe-radio-button",{[`size--${o}`]:o,"is--disabled":l}],title:e.title},[w("input",{class:"vxe-radio--input",type:"radio",name:r,checked:a,disabled:l,onChange:y,onClick:C}),w("span",{class:"vxe-radio--label"},n.default?n.default({}):Vf(e.content))])};return d.renderVN=S,S}}),uv=p({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>Rp().radioGroup.strict},size:{type:String,default:()=>Rp().radioGroup.size||Rp().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:n,emit:l}=t,r=o("$xeForm",null),a=o("xeFormItemInfo",null),i=rp.uniqueId();Sm(e);const s=m({}),c={computeIsDisabled:f((()=>{const{disabled:t}=e;return null===t?!!r&&(r.props.readonly||r.props.disabled):t}))},u={xID:i,props:e,context:t,reactData:s,name:rp.uniqueId("xe_group_"),getComputeMaps:()=>c},d=f((()=>Object.assign({},e.optionProps))),p=f((()=>d.value.label||"label")),g=f((()=>d.value.value||"value")),h=f((()=>d.value.disabled||"disabled")),v=(e,t,n)=>{l(e,Hp(n,{$radioGroup:u},t))},x={dispatchEvent:v},y={handleChecked(e,t){const n=e.label;l("update:modelValue",n),v("change",e,t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,n)}};Object.assign(u,x,y);return b("$xeRadioGroup",u),u.renderVN=()=>{const{options:t,type:o}=e,l=n.default,r=g.value,a=p.value,i=h.value,s="button"===o?cv:sv;return w("div",{class:"vxe-radio-group"},l?l({}):t?t.map((e=>w(s,{key:e[r],label:e[r],content:e[a],disabled:e[i]}))):[])},u},render(){return this.renderVN()}});function dv(e){return!1!==e.visible}const pv=p({name:"VxeSelect",props:{modelValue:[String,Number,Boolean,Array],defaultConfig:Object,clearable:Boolean,placeholder:String,readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>Rp().select.multiCharOverflow},prefixIcon:String,placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},size:{type:String,default:()=>Rp().select.size||Rp().size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteMethod:Function,emptyText:String,transfer:{type:Boolean,default:null},scrollY:Object,optionId:{type:String,default:()=>Rp().select.optionId},optionKey:Boolean},emits:["update:modelValue","change","clear","blur","focus","click","scroll"],setup(e,n){const{slots:l,emit:a}=n,s=o("$xeModal",null),c=o("$xeDrawer",null),u=o("$xeTable",null),d=o("$xeForm",null),p=o("xeFormItemInfo",null),v=rp.uniqueId(),y=r(),C=r(),E=r(),T=r(),D=r(),O=r(),{computeSize:k}=Sm(e),I=m({initialized:!1,scrollYLoad:!1,bodyHeight:0,topSpaceHeight:0,optList:[],afterVisibleList:[],staticOptions:[],reactFlag:0,currentOption:null,searchValue:"",searchLoading:!1,panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),M={synchData:[],fullData:[],optGroupKeyMaps:{},optFullValMaps:{},remoteValMaps:{},lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0},lastScrollTime:0,hpTimeout:void 0},P={refElem:y},R={xID:v,props:e,context:n,reactData:I,internalData:M,getRefMaps:()=>P},V=f((()=>{const{readonly:t}=e;return null===t?!!d&&d.props.readonly:t})),A=f((()=>{const{disabled:t}=e;return null===t?!!d&&d.props.disabled:t})),$=f((()=>{const{transfer:t}=e;if(null===t){const e=Rp().select.transfer;if(rp.isBoolean(e))return e;if(u||s||c||d)return!0}return t})),F=f((()=>{const{placeholder:t}=e;if(t)return Vf(t);const n=Rp().select.placeholder;return n?Vf(n):em("vxe.base.pleaseSelect")})),N=f((()=>Object.assign({},e.defaultConfig))),L=f((()=>Object.assign({},e.optionProps))),_=f((()=>Object.assign({},e.optionGroupProps))),B=f((()=>L.value.label||"label")),j=f((()=>L.value.value||"value")),z=f((()=>_.value.label||"label")),W=f((()=>_.value.options||"options")),H=f((()=>{const{modelValue:t,multiple:n,max:o}=e;return!(!n||!o)&&(rp.isArray(t)?t.length:rp.eqNull(t)?0:1)>=rp.toNumber(o)})),q=f((()=>Object.assign({},Rp().select.scrollY,e.scrollY))),U=f((()=>Object.assign({},Rp().select.optionConfig,e.optionConfig))),K=f((()=>rp.toNumber(e.multiCharOverflow))),G=f((()=>{const{modelValue:t,remote:n,multiple:o}=e,l=K.value;if(rp.eqNull(t))return"";const r=rp.isArray(t)?t:[t];return n?r.map((e=>ee(e))).join(", "):r.map((e=>{const t=te(e);return o&&l>0&&t.length>l?`${t.substring(0,l)}...`:t})).join(", ")})),Y=(e,t)=>e&&(rp.isString(e)&&(e=l[e]||null),rp.isFunction(e))?Um(e(t)):[],X=(e,t,n)=>{a(e,Hp(n,{$select:R},t))},Z=e=>{a("update:modelValue",e)},Q=()=>U.value.keyField||e.optionId||"_X_OPTION_KEY",J=e=>{const t=e[Q()];return t?encodeURIComponent(t):""},ee=e=>{const{remoteValMaps:t}=M,n=B.value,o=t[e],l=o?o.item:null;return rp.toValueString(l?l[n]:e)},te=e=>{const{optFullValMaps:t}=M,n=B.value,o=I.reactFlag?t[e]:null;return o?o.item[n]:rp.toValueString(e)},ne=e=>{const t=W.value,n=j.value,o=Q(),l={},r={},a=[],i=e=>{a.push(e);let t=J(e);t||(t=rp.uniqueId("opt_"),e[o]=t),r[e[n]]={key:t,item:e,_index:-1}};e.forEach((e=>{i(e),e[t]&&(l[e[o]]=e,e[t].forEach(i))})),M.fullData=a,M.optGroupKeyMaps=l,M.optFullValMaps=r,I.reactFlag++,oe()},oe=()=>{const{filterable:n,filterMethod:o}=e,{searchValue:l}=I,{fullData:r,optFullValMaps:a}=M,i=B.value,s=j.value,c=`${l||""}`.toLowerCase();let u=[];return u=n&&o?r.filter((e=>dv(e)&&o({group:null,option:e,searchValue:c}))):n?r.filter((e=>dv(e)&&(!c||`${e[i]}`.toLowerCase().indexOf(c)>-1))):r.filter(dv),u.forEach(((e,t)=>{const n=a[e[s]];n&&(n._index=t)})),I.afterVisibleList=u,t()},le=e=>{e&&(I.currentOption=e)},re=()=>t().then((()=>{const{placement:n}=e,{panelIndex:o}=I,l=y.value,r=D.value,a=$.value;if(r&&l){const e=l.offsetHeight,i=l.offsetWidth,s=r.offsetHeight,c=r.offsetWidth,u=5,d={zIndex:o},{boundingTop:p,boundingLeft:m,visibleHeight:f,visibleWidth:g}=cf(l);let h="bottom";if(a){let t=m,o=p+e;"top"===n?(h="top",o=p-s):n||(o+s+u>f&&(h="top",o=p-s),o<u&&(h="bottom",o=p+e)),t+c+u>g&&(t-=t+c+u-g),t<u&&(t=u),Object.assign(d,{left:`${t}px`,top:`${o}px`,minWidth:`${i}px`})}else"top"===n?(h="top",d.bottom=`${e}px`):n||p+e+s>f&&p-e-s>u&&(h="top",d.bottom=`${e}px`);return I.panelStyle=d,I.panelPlacement=h,t()}})),ae=()=>{const{loading:t,filterable:n}=e,{hpTimeout:o}=M,l=A.value;t||l||(o&&(clearTimeout(o),M.hpTimeout=void 0),I.initialized||(I.initialized=!0),I.isActivated=!0,I.isAniVisible=!0,n&&(oe(),Oe()),setTimeout((()=>{I.visiblePanel=!0,ve(),Pe().then((()=>Me()))}),10),setTimeout((()=>{Pe().then((()=>Me()))}),100),I.panelIndex<Rf()&&(I.panelIndex=Pf()),re())},ie=()=>{I.searchValue="",I.searchLoading=!1,I.visiblePanel=!1,M.hpTimeout=window.setTimeout((()=>{I.isAniVisible=!1}),350)},se=(t,n)=>{Z(n),n!==e.modelValue&&(X("change",{value:n},t),d&&p&&d.triggerItemEvent(t,p.itemConfig.field,n))},ce=(e,t)=>{M.remoteValMaps={},se(e,t),X("clear",{value:t},e)},ue=(e,t)=>{ce(t,null),ie()},de=(t,n)=>{const{modelValue:o,multiple:l}=e,{remoteValMaps:r}=M,a=n[j.value],i=r[a];if(i?i.item=n:r[a]={key:J(n),item:n,_index:-1},l){let e=[];const n=rp.eqNull(o)?[]:rp.isArray(o)?o:[o];e=-1===rp.findIndexOf(n,(e=>e===a))?n.concat([a]):n.filter((e=>e!==a)),se(t,e)}else se(t,a),ie();I.reactFlag++},pe=e=>{const{visiblePanel:t}=I;if(!A.value&&t){af(e,D.value).flag?re():ie()}},me=e=>{const{visiblePanel:t}=I;if(!A.value){const n=y.value,o=D.value;I.isActivated=af(e,n).flag||af(e,o).flag,t&&!I.isActivated&&ie()}},fe=e=>{const t=e.disabled,n=J(e);return!t&&!$e(n)},ge=t=>{const{clearable:n}=e,{visiblePanel:o,currentOption:l}=I;if(!A.value){const e=qp.hasKey(t,Np.TAB),r=qp.hasKey(t,Np.ENTER),a=qp.hasKey(t,Np.ESCAPE),i=qp.hasKey(t,Np.ARROW_UP),s=qp.hasKey(t,Np.ARROW_DOWN),c=qp.hasKey(t,Np.DELETE),u=qp.hasKey(t,Np.SPACEBAR);if(e&&(I.isActivated=!1),o)if(a||e)ie();else if(r)t.preventDefault(),t.stopPropagation(),de(t,l);else if(i||s){t.preventDefault();const e=((e,t)=>{const{afterVisibleList:n}=I,{optFullValMaps:o}=M,l=j.value;if(!e)for(let a=0;a<n.length-1;a++){const e=n[a];if(fe(e))return e}const r=o[e[l]];if(r){const e=r._index;if(e>-1)if(t)for(let t=e+1;t<=n.length-1;t++){const e=n[t];if(fe(e))return e}else if(e>0)for(let t=e-1;t>=0;t--){const e=n[t];if(fe(e))return e}}return null})(l,s);e&&(le(e),Ie(e,s))}else u&&t.preventDefault();else(i||s||r||u)&&I.isActivated&&(t.preventDefault(),ae());I.isActivated&&c&&n&&ce(t,null)}},he=()=>{ie()},ve=()=>{e.filterable&&t((()=>{const e=E.value;e&&e.focus()}))},be=e=>{A.value||I.visiblePanel||(I.triggerFocusPanel=!0,ae(),setTimeout((()=>{I.triggerFocusPanel=!1}),150)),X("focus",{},e)},xe=e=>{Ee(e),X("click",{},e)},ye=e=>{I.isActivated=!1,X("blur",{},e)},we=e=>{I.searchValue=e},Ce=()=>{I.isActivated=!0},Se=rp.debounce((()=>{const{remote:n,remoteMethod:o}=e,{searchValue:l}=I;n&&o?(I.searchLoading=!0,Promise.resolve(o({searchValue:l})).then((()=>t())).catch((()=>t())).finally((()=>{I.searchLoading=!1,oe(),Oe()}))):(oe(),Oe())}),350,{trailing:!0}),Ee=e=>{const{$event:t}=e;t.preventDefault(),I.triggerFocusPanel?I.triggerFocusPanel=!1:I.visiblePanel?ie():ae()},Te=()=>{const{scrollYLoad:e,afterVisibleList:t}=I,{scrollYStore:n}=M;I.bodyHeight=e?t.length*n.rowHeight:0,I.topSpaceHeight=e?Math.max(n.startIndex*n.rowHeight,0):0},De=()=>{const{scrollYLoad:e,afterVisibleList:n}=I,{scrollYStore:o}=M;return I.optList=e?n.slice(o.startIndex,o.endIndex):n.slice(0),t()},Oe=()=>{De(),Te()},ke=()=>t().then((()=>{const{scrollYLoad:e}=I,{scrollYStore:t}=M,n=O.value,o=q.value;let l,r=0;if(n&&(o.sItem&&(l=n.querySelector(o.sItem)),l||(l=n.children[0])),l&&(r=l.offsetHeight),r=Math.max(20,r),t.rowHeight=r,e){const e=T.value,n=Math.max(8,e?Math.ceil(e.clientHeight/r):0),l=Math.max(0,Math.min(2,rp.toNumber(o.oSize)));t.offsetSize=l,t.visibleSize=n,t.endIndex=Math.max(t.startIndex,n+l,t.endIndex),Oe()}else Te()})),Ie=(e,t)=>{const{scrollYLoad:n}=I,{optFullValMaps:o,scrollYStore:l}=M,r=o[e[j.value]];if(r){const e=r.key,o=r._index;if(o>-1){const r=T.value,a=D.value.querySelector(`[optid='${e}']`);if(r)if(a){const e=r.offsetHeight,n=1;t?a.offsetTop+a.offsetHeight-r.scrollTop>e&&(r.scrollTop=a.offsetTop+a.offsetHeight-e):(a.offsetTop+n<r.scrollTop||a.offsetTop+n>r.scrollTop+r.clientHeight)&&(r.scrollTop=a.offsetTop-n)}else n&&(r.scrollTop=t?o*l.rowHeight-r.clientHeight+l.rowHeight:o*l.rowHeight)}}},Me=()=>{const{lastScrollLeft:e,lastScrollTop:n}=M;return Ae().then((()=>{if(e||n)return M.lastScrollLeft=0,M.lastScrollTop=0,((e,n)=>{const o=T.value;return o&&(rp.isNumber(e)&&(o.scrollLeft=e),rp.isNumber(n)&&(o.scrollTop=n)),I.scrollYLoad?new Promise((e=>{setTimeout((()=>{t((()=>{e()}))}),50)})):t()})(e,n)}))},Pe=()=>{const e=y.value;return e&&e.clientWidth&&e.clientHeight?ke():Promise.resolve()},Re=e=>{const t=e.target,n=t.scrollTop,o=t.scrollLeft,l=o!==M.lastScrollLeft,r=n!==M.lastScrollTop;M.lastScrollTop=n,M.lastScrollLeft=o,I.scrollYLoad&&(e=>{const{scrollYStore:t}=M,{startIndex:n,endIndex:o,visibleSize:l,offsetSize:r,rowHeight:a}=t,i=e.target.scrollTop,s=Math.floor(i/a),c=Math.max(0,s-1-r),u=s+l+r;(s<=n||s>=o-l-1)&&(n===c&&o===u||(t.startIndex=c,t.endIndex=u,Oe()))})(e),M.lastScrollTime=Date.now(),X("scroll",{scrollLeft:o,scrollTop:n,isX:l,isY:r},e)},Ve=n=>{ne(n||[]);const{isLoaded:o,fullData:l,scrollYStore:r}=M,a=N.value,i=q.value,s=j.value;if(Object.assign(r,{startIndex:0,endIndex:1,visibleSize:0}),M.synchData=n||[],I.scrollYLoad=!!i.enabled&&i.gt>-1&&(0===i.gt||i.gt<=l.length),De(),!o){const{selectMode:o}=a;if(n.length>0&&rp.eqNull(e.modelValue)){if("first"===o||"last"===o){const l=rp[o](n);l&&t((()=>{rp.eqNull(e.modelValue)&&Z(l[s])}))}M.isLoaded=!0}}return ke().then((()=>{Me()}))},Ae=()=>{const e=T.value;return e&&(e.scrollTop=0,e.scrollLeft=0),M.lastScrollTop=0,M.lastScrollLeft=0,t()},$e=e=>{const{optGroupKeyMaps:t}=M;return!!t[e]},Fe={dispatchEvent:X,loadData:Ve,reloadData:e=>(M.isLoaded=!1,Ae(),Ve(e)),isPanelVisible:()=>I.visiblePanel,togglePanel:()=>(I.visiblePanel?ie():ae(),t()),hidePanel:()=>(I.visiblePanel&&ie(),t()),showPanel:()=>(I.visiblePanel||ae(),t()),refreshOption:()=>(oe(),Oe(),t()),focus(){const e=C.value;return I.isActivated=!0,e.blur(),t()},blur:()=>(C.value.blur(),I.isActivated=!1,t()),recalculate:Pe,clearScroll:Ae};Object.assign(R,Fe);const Ne=(t,n)=>{const{optionKey:o,modelValue:r}=e,{currentOption:a}=I,i=U.value,s=B.value,c=j.value,u=z.value,{useKey:d}=i,p=l.option;return t.map(((e,t)=>{const{slots:n,className:l}=e,i=J(e),m=e[c],f=$e(i),g=rp.isArray(r)?r.indexOf(m)>-1:r===m,h=!f||dv(e),v=((e,t)=>!!t.disabled||!(!H.value||e))(g,e),b=n?n.default:null,y={option:e,group:null,$select:R};return h?w("div",{key:d||o?i:t,class:["vxe-select-option",l?rp.isFunction(l)?l(y):l:"",{"vxe-select-optgroup":f,"is--disabled":v,"is--selected":g,"is--hover":a&&J(a)===i}],optid:i,onMousedown:e=>{0===e.button&&e.stopPropagation()},onClick:t=>{v||f||de(t,e)},onMouseenter:()=>{v||f||(()=>{const{lastScrollTime:e}=M;return!!(e&&Date.now()<e+250)})()||le(e)}},p?Y(p,y):b?Y(b,y):Vf(e[f?u:s])):x()}))},Le=()=>{const{optList:t,searchLoading:n}=I;return n?[w("div",{class:"vxe-select--search-loading"},[w("i",{class:["vxe-select--search-icon",Fp().SELECT_LOADED]}),w("span",{class:"vxe-select--search-text"},em("vxe.select.loadingText"))])]:t.length?Ne(t):[w("div",{class:"vxe-select--empty-placeholder"},e.emptyText||em("vxe.select.emptyText"))]};return i((()=>I.staticOptions),(e=>{Ve(e)})),i((()=>e.options),(e=>{Ve(e||[])})),i((()=>e.optionGroups),(e=>{Ve(e||[])})),g((()=>{t((()=>{const{options:t,optionGroups:n}=e;n?Ve(n):t&&Ve(t)})),qp.on(R,"mousewheel",pe),qp.on(R,"mousedown",me),qp.on(R,"keydown",ge),qp.on(R,"blur",he)})),h((()=>{qp.off(R,"mousewheel"),qp.off(R,"mousedown"),qp.off(R,"keydown"),qp.off(R,"blur")})),b("$xeSelect",R),R.renderVN=()=>{const{className:t,popupClassName:n,loading:o,filterable:r}=e,{initialized:a,isActivated:i,isAniVisible:s,visiblePanel:c,bodyHeight:u,topSpaceHeight:d}=I,p=k.value,m=A.value,f=G.value,g=$.value,h=V.value,v=F.value,b=l.default,M=l.header,P=l.footer,N=l.prefix;return h?w("div",{ref:y,class:["vxe-select--readonly",t]},[w("div",{class:"vxe-select-slots",ref:"hideOption"},b?b({}):[]),w("span",{class:"vxe-select-label"},f)]):w("div",{ref:y,class:["vxe-select",t?rp.isFunction(t)?t({$select:R}):t:"",{[`size--${p}`]:p,"is--visible":c,"is--disabled":m,"is--filter":r,"is--loading":o,"is--active":i}]},[w("div",{class:"vxe-select-slots",ref:"hideOption"},b?b({}):[]),w(Mg,{ref:C,clearable:e.clearable,placeholder:v,readonly:!0,disabled:m,type:"text",prefixIcon:e.prefixIcon,suffixIcon:o?Fp().SELECT_LOADED:c?Fp().SELECT_OPEN:Fp().SELECT_CLOSE,modelValue:f,onClear:ue,onClick:xe,onFocus:be,onBlur:ye,onSuffixClick:Ee},N?{prefix:()=>N({})}:{}),w(S,{to:"body",disabled:!g||!a},[w("div",{ref:D,class:["vxe-table--ignore-clear vxe-select--panel",n?rp.isFunction(n)?n({$select:R}):n:"",{[`size--${p}`]:p,"is--transfer":g,"ani--leave":!o&&s,"ani--enter":!o&&c}],placement:I.panelPlacement,style:I.panelStyle},a&&(c||s)?[w("div",{class:"vxe-select--panel-wrapper"},[r?w("div",{class:"vxe-select--panel-search"},[w(Mg,{ref:E,class:"vxe-select-search--input",modelValue:I.searchValue,clearable:!0,disabled:!1,readonly:!1,placeholder:em("vxe.select.search"),prefixIcon:Fp().INPUT_SEARCH,"onUpdate:modelValue":we,onFocus:Ce,onChange:Se,onSearch:Se})]):x(),M?w("div",{class:"vxe-select--panel-header"},M({})):x(),w("div",{class:"vxe-select--panel-body"},[w("div",{ref:T,class:"vxe-select-option--wrapper",onScroll:Re},[w("div",{class:"vxe-select--y-space",style:{height:u?`${u}px`:""}}),w("div",{ref:O,class:"vxe-select--body",style:{marginTop:d?`${d}px`:""}},Le())])]),P?w("div",{class:"vxe-select--panel-footer"},P({})):x()])]:[])])])},R},render(){return this.renderVN()}}),mv=()=>[{label:em("vxe.formDesign.styleSetting.fontNormal"),value:!1},{label:em("vxe.formDesign.styleSetting.fontBold"),value:!0}],fv=()=>[{label:em("vxe.formDesign.styleSetting.colonVisible"),value:!0},{label:em("vxe.formDesign.styleSetting.colonHidden"),value:!1}],gv=()=>[{label:em("vxe.formDesign.styleSetting.alignLeft"),value:""},{label:em("vxe.formDesign.styleSetting.alignRight"),value:"right"}],hv=()=>[{label:em("vxe.formDesign.styleSetting.unitPx"),value:""},{label:em("vxe.formDesign.styleSetting.unitPct"),value:"%"}],vv=(e,t,n,o)=>{const l="vertical"===n;return w("div",{class:["vxe-form-design--widget-form-item-option",`is--${n}`,{"is--active":l?e[t]:!e[t]}],onClick(){e[t]=l,o()}},[w("div",{class:"vxe-form-design--widget-form-item-option-row"}),w("div",{class:"vxe-form-design--widget-form-item-option-row"}),w("div",{},em(l?"vxe.formDesign.styleSetting.verticalLayout":"vxe.formDesign.styleSetting.horizontalLayout"))])},bv=p({name:"DefaultPCStyleForm",props:{formData:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormDesign",null),n="pcVertical",l=r(mv()),a=r(fv()),i=r(gv()),s=r(hv()),c=()=>{t&&t.refreshPreviewView()},u=()=>{const{formData:t}=e;t.pcTitleWidth||(t.pcTitleWidth=100),c()};return()=>{const{formData:t}=e;return w(hh,{data:t,span:24,vertical:!0,titleBold:!0},{default:()=>[w(Yh,{title:em("vxe.formDesign.styleSetting.layoutTitle"),field:n},{default:()=>[w("div",{class:"vxe-form-design--widget-form-item-layout"},[vv(t,n,"vertical",u),vv(t,n,"horizontal",u)])]}),w(Yh,{title:em("vxe.formDesign.styleSetting.styleTitle")},{default:()=>[w("div",{class:"vxe-form-design--widget-form-item-prop-list"},[w("span",{},em("vxe.formDesign.styleSetting.boldTitle")),w(uv,{modelValue:t.pcTitleBold,options:l.value,onChange:c,"onUpdate:modelValue"(e){t.pcTitleBold=e}})]),w("div",{class:"vxe-form-design--widget-form-item-prop-list"},[w("span",{},em("vxe.formDesign.styleSetting.colonTitle")),w(uv,{modelValue:t.pcTitleColon,options:a.value,onChange:c,"onUpdate:modelValue"(e){t.pcTitleColon=e}})]),t.pcVertical?x():w("div",{class:"vxe-form-design--widget-form-item-prop-list"},[w("span",{},em("vxe.formDesign.styleSetting.alignTitle")),w(uv,{modelValue:t.pcTitleAlign,options:i.value,onChange:c,"onUpdate:modelValue"(e){t.pcTitleAlign=e}})]),t.pcVertical?x():w("div",{class:"vxe-form-design--widget-form-item-prop-list"},[w("span",{},em("vxe.formDesign.styleSetting.widthTitle")),w(Mg,{class:"vxe-form-design--widget-form-item-prop-width",modelValue:t.pcTitleWidth,type:"integer",onChange:c,"onUpdate:modelValue"(e){t.pcTitleWidth=e}}),w(pv,{class:"vxe-form-design--widget-form-item-prop-unit",modelValue:t.pcTitleWidthUnit,options:s.value,transfer:!0,onChange:c,"onUpdate:modelValue"(e){t.pcTitleWidthUnit=e}})])]})]})}}}),xv=p({name:"DefaultMobileStyleForm",props:{formData:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormDesign",null),n="mobileVertical",l=r(mv()),a=r(fv()),i=r(gv()),s=r(hv()),c=()=>{t&&t.refreshPreviewView()},u=()=>{const{formData:t}=e;t.mobileTitleWidth||(t.mobileTitleWidth=100),c()};return()=>{const{formData:t}=e;return w(hh,{data:t,span:24,vertical:!0,titleBold:!0},{default:()=>[w(Yh,{title:em("vxe.formDesign.styleSetting.layoutTitle"),field:n},{default:()=>[w("div",{class:"vxe-form-design--widget-form-item-layout"},[vv(t,n,"vertical",u),vv(t,n,"horizontal",u)])]}),w(Yh,{title:em("vxe.formDesign.styleSetting.styleTitle")},{default:()=>[w("div",{class:"vxe-form-design--widget-form-item-prop-list"},[w("span",{},em("vxe.formDesign.styleSetting.boldTitle")),w(uv,{modelValue:t.mobileTitleBold,options:l.value,onChange:c,"onUpdate:modelValue"(e){t.mobileTitleBold=e}})]),w("div",{class:"vxe-form-design--widget-form-item-prop-list"},[w("span",{},em("vxe.formDesign.styleSetting.colonTitle")),w(uv,{modelValue:t.mobileTitleColon,options:a.value,onChange:c,"onUpdate:modelValue"(e){t.mobileTitleColon=e}})]),t.mobileVertical?x():w("div",{class:"vxe-form-design--widget-form-item-prop-list"},[w("span",{},em("vxe.formDesign.styleSetting.alignTitle")),w(uv,{modelValue:t.mobileTitleAlign,options:i.value,onChange:c,"onUpdate:modelValue"(e){t.mobileTitleAlign=e}})]),t.mobileVertical?x():w("div",{class:"vxe-form-design--widget-form-item-prop-list"},[w("span",{},em("vxe.formDesign.styleSetting.widthTitle")),w(Mg,{class:"vxe-form-design--widget-form-item-prop-width",modelValue:t.mobileTitleWidth,type:"integer",onChange:c,"onUpdate:modelValue"(e){t.mobileTitleWidth=e}}),w(pv,{class:"vxe-form-design--widget-form-item-prop-unit",modelValue:t.mobileTitleWidthUnit,options:s.value,transfer:!0,onChange:c,"onUpdate:modelValue"(e){t.mobileTitleWidthUnit=e}})])]})]})}}}),yv=p({name:"FormDesignLayoutStyle",props:{},emits:[],setup(){const e=o("$xeFormDesign",null),t=m({activeTab:1}),n={reactData:t,renderVN:()=>[]};if(!e)return n;const{props:l,reactData:a}=e,i=r(!1),s=r(null),c=r({}),u=()=>{s.value=e.getConfig()},d=e=>{const{viewRender:n}=e,{activeTab:o}=t,{name:l}=n||{},r=cm.get(l)||{},a=r.createFormViewFormConfig,i=r.createFormViewMobileFormConfig;return 2===o?i?i(e):(e=>{const{formConfig:t}=e;return{vertical:t.mobileVertical,titleBold:t.mobileTitleBold,titleColon:t.mobileTitleColon,titleAlign:t.mobileTitleAlign,titleWidth:t.mobileTitleWidth}})(e):a?a(e):rv(e)},p={updatePreviewView:u,openStylePreview(){const{showPc:e}=l;u(),t.activeTab=e?1:2,i.value=!0}};Object.assign(n,p);const f=()=>{const{activeTab:e}=t;return w("div",{class:["vxe-form-design--layout-style-preview","is--"+(2===e?"mobile":"pc")]},[w(iv,{modelValue:c.value,config:s.value,createFormConfig:d,"onUpdate:modelValue"(e){c.value=e}})])},g=()=>{const{showPc:n,showMobile:o}=l,{activeTab:r}=t;return w("div",{class:"vxe-form-design--layout-style-setting"},[w(Uh,{modelValue:r,titleWidth:n&&o?"50%":"100%",titleAlign:"center",padding:!0,onChange:u,"onUpdate:modelValue"(e){t.activeTab=e}},{default(){const t=[];return n&&t.push(w(Kh,{title:em("vxe.formDesign.widgetProp.displaySetting.pc"),icon:Fp().FORM_DESIGN_PROPS_PC,k:1,name:1},{default:()=>(()=>{const{formRender:t}=l,{formData:n}=a;if(t){const o=cm.get(t.name),l=o?o.renderFormDesignStyleFormView:null;if(l)return w("div",{class:"vxe-form-design--custom-setting-pc-form-view"},Um(l({},{$formDesign:e,formConfig:n})))}return w(bv,{formData:n})})()})),o&&t.push(w(Kh,{title:em("vxe.formDesign.widgetProp.displaySetting.mobile"),icon:Fp().FORM_DESIGN_PROPS_MOBILE,key:2,name:2},{default:()=>(()=>{const{formRender:t}=l,{formData:n}=a;if(t){const o=cm.get(t.name),l=o?o.renderFormDesignMobileStyleFormView:null;if(l)return w("div",{class:"vxe-form-design--custom-setting-mobile-form-view"},Um(l({},{$formDesign:e,formConfig:n})))}return w(xv,{formData:n})})()})),t}})])};return n.renderVN=()=>{const{showPc:e,showMobile:t}=l;return w(lv,{modelValue:i.value,title:em("vxe.formDesign.styleSetting.title"),height:"90vh",width:"90vw",escClosable:!0,maskClosable:!0,destroyOnClose:!0,showMaximize:!0,transfer:!0,"onUpdate:modelValue"(e){i.value=e}},{default:()=>w("div",{class:"vxe-form-design--layout-style"},[f(),e||t?g():x()])})},b("$xeFormDesignLayoutStyle",n),n},render(){return this.renderVN()}}),wv=p({name:"VxeFormDesign",props:{size:{type:String,default:()=>Rp().formDesign.size||Rp().size},config:Object,height:{type:[String,Number],default:()=>Rp().formDesign.height},widgets:{type:Array,default:()=>rp.clone(Rp().formDesign.widgets)||[]},showHeader:{type:Boolean,default:()=>Rp().formDesign.showHeader},showPc:{type:Boolean,default:()=>Rp().formDesign.showPc},showMobile:{type:Boolean,default:()=>Rp().formDesign.showMobile},formRender:Object},emits:["click-widget","add-widget","copy-widget","remove-widget","drag-widget"],setup(e,n){const{emit:o,slots:l}=n,a=rp.uniqueId(),s=r(),c=r(),{computeSize:u}=Sm(e),d=m({formData:{},widgetConfigs:[],widgetObjList:[],dragWidget:null,sortWidget:null,activeWidget:null}),p=m({}),f={refElem:s},g={computeSize:u},h={xID:a,props:e,context:n,reactData:d,internalData:p,getRefMaps:()=>f,getComputeMaps:()=>g},v=e=>new jh(h,e,d.widgetObjList),y=()=>new jh(h,"",d.widgetObjList),C=e=>{if(e){const{formConfig:t,widgetData:n}=e;t&&E(t),n&&D(n)}const{activeWidget:n,widgetObjList:o}=d;if(n){const e=rp.findTree(o,(e=>e.id===n.id),{children:"children"});d.activeWidget=e?e.item:o[0]||null}else d.activeWidget=o[0]||null;return t()},S=()=>rp.clone(d.formData,!0),E=e=>(d.formData=Object.assign({},V(),e),t()),T=()=>{const e=rp.clone(d.widgetObjList,!0);return rp.eachTree(e,(e=>{e.model.value=null}),{children:"children"}),e},D=e=>(d.widgetObjList=(e||[]).map((e=>zh(e))),t()),O=()=>{const e=c.value;return e&&e.openStylePreview(),t()},k=()=>(d.widgetObjList=[],A(),t()),I={dispatchEvent(e,t,n){o(e,Hp(n,{$xeFormDesign:h},t))},createWidget:v,createEmptyWidget:y,getConfig:()=>({formConfig:S(),widgetData:T()}),clearConfig:k,loadConfig:C,reloadConfig:e=>(k(),C(e)),getFormConfig:S,loadFormConfig:E,getWidgetById:e=>{const{widgetObjList:t}=d;if(e){const n=rp.toNumber(e),o=rp.findTree(t,(e=>e&&e.id===n),{children:"children"});if(o)return o.item}return null},getFormData(){const{widgetObjList:e}=d,t={};return rp.eachTree(e,(e=>{t[e.field]=null}),{children:"children"}),t},getWidgetData:T,loadWidgetData:D,refreshPreviewView(){const e=c.value;return e&&e.updatePreviewView(),t()},openStyleSetting:O},M=()=>{const{widgets:t}=e,n=[],o=[],l=[],r=[],a=[];cm.forEach(((e,t)=>{const{createFormDesignWidgetConfig:n}=e;if(n){const e=v(t),n=Bh(t),i=function(e,t){{const n=Bh(e).customGroup,o={name:e,$formDesign:t};return rp.toValueString(rp.isFunction(n)?n(o):n)}}(t,h);if(i){const t=a.find((e=>e.title===i));t?t.children.push(e):a.push({title:i,children:[e]})}else switch(n.group){case"layout":l.push(e);break;case"advanced":r.push(e);break;default:["title"].includes(e.name)||o.push(e)}}})),o.length&&n.push({group:"base",children:o}),l.length&&n.push({group:"layout",children:l}),r.length&&n.push({group:"advanced",children:r}),a.length&&n.push(...a),t&&t.length?d.widgetConfigs=e.widgets.map((e=>({title:e.customGroup,group:e.group,children:e.children?e.children.map((e=>v(e))):[]}))):d.widgetConfigs=n},P=e=>{const{widgetObjList:t}=d;if(Bh(e).unique){const n=[];rp.eachTree(t,(t=>{t.name===e&&n.push(t)}),{children:"children"});const o=n.length<1;return o||Rm.modal&&Rm.modal.message({content:em("vxe.formDesign.error.wdFormUni"),status:"error",id:"wdFormUni"}),o}return!0},R={validWidgetUnique:P,handleClickWidget(e,t){t&&t.name&&(e.stopPropagation(),d.activeWidget=t,I.dispatchEvent("click-widget",{widget:t},e))},handleCopyWidget(e,t){const{widgetObjList:n}=d,o=rp.findTree(n,(e=>e.id===t.id),{children:"children"});if(o&&(e.stopPropagation(),P(t.name))){const{path:l}=o,r=Number(l[0]),a=v(t.name);a.title&&(a.title=em("vxe.formDesign.widget.copyTitle",[`${t.title}`.replace(em("vxe.formDesign.widget.copyTitle",[""]),"")])),r>=n.length-1?n.push(a):n.splice(r+1,0,a),d.activeWidget=a,d.widgetObjList=[...n],I.dispatchEvent("copy-widget",{widget:t,newWidget:a},e)}},handleRemoveWidget(e,t){const{widgetObjList:n}=d,o=rp.findTree(n,(e=>e.id===t.id),{children:"children"});if(o){const{index:l,parent:r,items:a}=o;e.stopPropagation(),l>=a.length-1?d.activeWidget=a[l-1]:d.activeWidget=a[l+1]||null,r&&"row"===r.name?a[l]=y():a.splice(l,1),d.widgetObjList=[...n],I.dispatchEvent("remove-widget",{widget:t},e)}}},V=()=>{const{formRender:t,showPc:n,showMobile:o}=e;let l={title:"",pcVisible:!(r={pcVisible:n,mobileVisible:o})||!!r.pcVisible,pcVertical:!0,pcTitleBold:!0,pcTitleColon:!1,pcTitleAlign:"",pcTitleWidth:"",pcTitleWidthUnit:"",mobileVisible:!r||!!r.mobileVisible,mobileVertical:!0,mobileTitleBold:!0,mobileTitleColon:!1,mobileTitleAlign:"",mobileTitleWidth:"",mobileTitleWidthUnit:""};var r;if(t){const e=cm.get(t.name),n=e?e.createFormDesignSettingFormConfig:null;l=(n?n({}):{})||{}}return l},A=()=>{d.formData=V()},$=()=>{O()};Object.assign(h,I,R);const F=()=>{const e=l.extra;return w("div",{class:"vxe-form-design--header-wrapper"},[w("div",{class:"vxe-form-design--header-left"}),w("div",{class:"vxe-form-design--header-middle"}),w("div",{class:"vxe-form-design--header-right"},[e?w("div",{class:"vxe-form-design--header-extra"},e({})):Pm(),w("div",{class:"vxe-form-design--header-setting"},[w(Nf,{mode:"text",status:"primary",icon:Fp().FORM_DESIGN_STYLE_SETTING,content:em("vxe.formDesign.styleSetting.btn"),onClick:$})])])])};return h.renderVN=()=>{const{height:t,showHeader:n}=e,o=u.value,r=l.header,a=l.footer;return w("div",{ref:s,class:["vxe-form-design",{[`size--${o}`]:o}],style:t?{height:lf(t)}:null},[n||r?w("div",{class:"vxe-form-design--header"},r?r({}):F()):x(),w("div",{class:"vxe-form-design--body"},[w(Wh),w(qh),w(Qh),w(yv,{ref:c})]),a?w("div",{class:"vxe-form-design--footer"},a?a({}):[]):x()])},i((()=>e.widgets),(()=>{M()})),i((()=>e.widgets),(()=>{M()})),i((()=>e.config),(e=>{C(e||{})})),A(),M(),e.config&&C(e.config),b("$xeFormDesign",h),h},render(){return this.renderVN()}});function Cv(e){return{computeKebabCaseName:f((()=>{const{renderOpts:t}=e;return t?rp.kebabCase(t.name):""}))}}let Sv;const Ev=p({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:{type:Boolean,default:null},editable:{type:Boolean,default:!0},disabled:{type:Boolean,default:null},placeholder:String,maxLength:[String,Number],rows:{type:[String,Number],default:null},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>Rp().textarea.resize},size:{type:String,default:()=>Rp().textarea.size||Rp().size},maxlength:[String,Number]},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur"],setup(e,n){const{emit:l}=n,a=o("$xeForm",null),s=o("xeFormItemInfo",null),c=rp.uniqueId(),{computeSize:u}=Sm(e),d=m({inputValue:e.modelValue}),p=r(),g=r(),h={refElem:p,refTextarea:g},v={xID:c,props:e,context:n,reactData:d,getRefMaps:()=>h};let b={};const x=f((()=>{const{readonly:t}=e;return null===t?!!a&&a.props.readonly:t})),y=f((()=>{const{disabled:t}=e;return null===t?!!a&&a.props.disabled:t})),C=f((()=>{const{editable:t}=e;return x.value||!t})),S=f((()=>{const{placeholder:t}=e;if(t)return Vf(t);const n=Rp().textarea.placeholder;return n?Vf(n):em("vxe.base.pleaseInput")})),E=f((()=>{const{maxLength:t,maxlength:n}=e;return t||n})),T=f((()=>rp.getSize(d.inputValue))),D=f((()=>{const e=T.value,t=E.value;return t&&e>rp.toNumber(t)})),O=f((()=>Object.assign({minRows:1,maxRows:10},Rp().textarea.autosize,e.autosize))),k=()=>{const{size:t,autosize:n}=e,{inputValue:o}=d;if(n){Sv||(Sv=document.createElement("div")),Sv.parentNode||document.body.appendChild(Sv);const e=g.value;if(!e)return;const n=getComputedStyle(e);Sv.className=["vxe-textarea--autosize",t?`size--${t}`:""].join(" "),Sv.style.width=`${e.clientWidth}px`,Sv.style.padding=n.padding,Sv.innerText=(""+(o||"　")).replace(/\n$/,"\n　")}},I=()=>{e.autosize&&t((()=>{const e=O.value,{minRows:t,maxRows:n}=e,o=g.value;if(!o)return;const l=Sv.clientHeight,r=getComputedStyle(o),a=rp.toNumber(r.lineHeight),i=rp.toNumber(r.paddingTop)+rp.toNumber(r.paddingBottom)+rp.toNumber(r.borderTopWidth)+rp.toNumber(r.borderBottomWidth),s=(l-i)/a,c=s&&/[0-9]/.test(""+s)?s:Math.floor(s)+1;let u=c;c<t?u=t:c>n&&(u=n),o.style.height=`${u*a+i}px`}))},M=e=>{const t=d.inputValue;v.dispatchEvent(e.type,{value:t},e)},P=(t,n)=>{d.inputValue=t,l("update:modelValue",t),rp.toValueString(e.modelValue)!==t&&(b.dispatchEvent("change",{value:t},n),a&&s&&a.triggerItemEvent(n,s.itemConfig.field,t))},R=t=>{const{immediate:n}=e,o=t.target.value;d.inputValue=o,n&&P(o,t),v.dispatchEvent("input",{value:o},t),I()},V=t=>{const{immediate:n}=e;n?M(t):P(d.inputValue,t)},A=t=>{const{immediate:n}=e,{inputValue:o}=d;n||P(o,t),v.dispatchEvent("blur",{value:o},t)};b={dispatchEvent(e,t,n){l(e,Hp(n,{$textarea:v},t))},focus:()=>(g.value.focus(),t()),blur:()=>(g.value.blur(),t())},Object.assign(v,b),i((()=>e.modelValue),(e=>{d.inputValue=e,k()})),i(O,(()=>{k(),I()})),t((()=>{const{autosize:t}=e;t&&(k(),I())}));return v.renderVN=()=>{const{className:t,resize:n,autosize:o,showWordCount:l,countMethod:r,rows:a,cols:i}=e,{inputValue:s}=d,c=u.value,m=y.value,f=D.value,h=T.value,v=C.value,b=x.value,O=S.value,k=E.value;return b?w("div",{ref:p,class:["vxe-textarea--readonly",t]},s):w("div",{ref:p,class:["vxe-textarea",t,{[`size--${c}`]:c,"is--autosize":o,"is--count":l,"is--disabled":m,"is--rows":!rp.eqNull(a),"is--cols":!rp.eqNull(i)}],spellcheck:!1},[w("textarea",{ref:g,class:"vxe-textarea--inner",value:s,name:e.name,placeholder:O,maxlength:k,readonly:v,disabled:m,rows:a,cols:i,style:n?{resize:n}:null,onInput:R,onChange:V,onKeydown:M,onKeyup:M,onClick:M,onFocus:M,onBlur:A}),l?w("span",{class:["vxe-textarea--count",{"is--error":f}]},r?`${r({value:s})}`:`${h}${k?`/${k}`:""}`):null])},v},render(){return this.renderVN()}}),Tv=p({name:"VxeTip",props:{title:{type:[String,Number],default:()=>Rp().tip.title},content:[String,Number],status:String,icon:{type:String,default:()=>Rp().tip.icon},permissionCode:[String,Number],size:{type:String,default:()=>Rp().tip.size||Rp().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId(),{computeSize:a}=Sm(e),{computePermissionInfo:i}=Em(e),s=r(),c=m({}),u={refElem:s},d={},p={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},f={dispatchEvent:(e,t,n)=>{o(e,Hp(n,{$tip:p},t))}};Object.assign(p,f,{});return p.renderVN=()=>{const{status:t,content:o,icon:l,title:r}=e,c=n.default,u=n.title,d=n.icon,p=i.value,m=a.value;return p.visible?w("div",{ref:s,class:["vxe-tip",{[`size--${m}`]:m,[`theme--${t}`]:t,"has--title":!(!u&&!r)}]},[d||l?w("div",{class:"vxe-tip--icon"},d?Um(d({})):[w("i",{class:l})]):x(),w("div",{class:"vxe-tip--body"},[u||r?w("div",{class:"vxe-tip--title"},u?Um(u({})):rp.toValueString(r)):x(),w("div",{class:"vxe-tip--content"},c?Um(c({})):rp.toValueString(o))])]):x()},p},render(){return this.renderVN()}});function Dv(e,t){const n=Object.assign({},t).isSubOption,o=r(""),l=r([]),a=()=>{const{renderParams:t}=e,{widget:n}=t,o=n.options.options||[];o.push({value:em("vxe.formDesign.widgetProp.dataSource.defValue",[o.length+1])}),n.options.options=[...o]},s=/^(\s|\t)+/,c=e=>s.test(e),u=()=>{const{renderParams:t}=e,{widget:n}=t,o=n.options.options||[],r=[];o.forEach(((e,t)=>{const{options:n}=e;n&&n.length&&r.push(t)})),l.value=r},d=()=>{const{renderParams:t}=e,{widget:l}=t,r=[],a=o.value.split("\n");let i=null;n?a.forEach(((e,t)=>{const n=a[t+1],o=e.trim();if(!o)return;const l={value:o};if(i){if(c(e))return void i.options.push(l);i=null,r.push(l)}else r.push(l);n&&c(n)&&(i=Object.assign(l,{options:[]}))})):a.forEach((e=>{r.push({value:e.trim()})})),l.options.options=r,u()},p=()=>{var t;const{renderParams:l}=e,{widget:r}=l,a=[];null===(t=r.options.options)||void 0===t||t.forEach((e=>{var t;a.push(e.value),null===(t=e.options)||void 0===t||t.forEach((e=>{a.push(`\t${e.value}`)}))})),o.value=a.join("\n"),Rm.modal.open({title:`${r.title} - ${em("vxe.formDesign.widgetProp.dataSource.batchEditOption")}`,width:500,height:"50vh ",resize:!0,showFooter:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:em("vxe.formDesign.widgetProp.dataSource.buildOption"),onConfirm:d,slots:{default:()=>w("div",{class:"vxe-form-design--widget-form-item-data-source-popup"},[w(Tv,{status:"primary",title:"",content:em("vxe.formDesign.widgetProp.dataSource."+(n?"batchEditSubTip":"batchEditTip"))}),w(Ev,{resize:"none",modelValue:o.value,"onUpdate:modelValue"(e){o.value=e}})])}})},m=(t,n,o,r,a,i,s)=>w("div",{class:["vxe-form-design--widget-form-item-data-source-option",{"is--first":i,"is--last":s}]},[w("div",{class:"vxe-form-design--widget-expand-btn"},!n&&a?[w("i",{class:o?Fp().FORM_DESIGN_WIDGET_OPTION_EXPAND_CLOSE:Fp().FORM_DESIGN_WIDGET_OPTION_EXPAND_OPEN,onClick(){((e,t)=>{l.value.includes(t)?l.value=l.value.filter((e=>e!==t)):l.value.push(t)})(0,r)}})]:[]),w("input",{class:"vxe-default-input",value:t.value,onInput(e){t.value=e.target.value}}),w(Nf,{status:"danger",mode:"text",icon:Fp().FORM_DESIGN_WIDGET_DELETE,onClick(){((t,n)=>{const{renderParams:o}=e,{widget:l}=o,{options:r}=l;n?n.options&&(n.options=n.options.filter((e=>e!==t))):r.options=r.options.filter((e=>e!==t))})(t,n)}})]),f=()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n,r=o.options,a=[];return r&&r.forEach(((e,t)=>{const{options:n}=e,o=l.value.includes(t);n&&n.length?(a.push(m(e,null,o,t,!0,0===t,t===r.length-1)),o&&a.push(w("div",{class:"vxe-form-design--widget-form-item-data-source-sub-option"},n.map((t=>m(t,e,o,0,!1,!1,!1)))))):a.push(m(e,null,o,t,!1,0===t,t===r.length-1))})),a};i((()=>e.renderParams.widget),(()=>{u()})),g((()=>{u()}));const h=()=>[w("div",{},[w(Nf,{status:"primary",mode:"text",content:em("vxe.formDesign.widgetProp.dataSource.addOption"),onClick:a}),w(Nf,{status:"primary",mode:"text",content:em("vxe.formDesign.widgetProp.dataSource.batchEditOption"),onClick:p})]),w("div",{class:"vxe-form-design--widget-form-item-data-source-wrapper"},f())];return{renderDataSourceFormItem:()=>w(Yh,{title:em("vxe.formDesign.widgetProp.dataSource.name"),field:"options"},{default:()=>h()}),renderDataSourceFormItemContent:h}}const Ov=e=>em(`vxe.formDesign.widget.component.${e.name}`),kv=()=>({title:Ov,icon:"vxe-icon-text",group:"layout",options:{color:"",align:"",bold:!1,fontSize:""}}),Iv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Cv(e),n=r([{label:em("vxe.formDesign.widgetProp.textProp.alignLeft"),value:""},{label:em("vxe.formDesign.widgetProp.textProp.alignCenter"),value:"center"},{label:em("vxe.formDesign.widgetProp.textProp.alignRight"),value:"right"}]),o=r([{label:em("vxe.formDesign.widgetProp.textProp.fontNormal"),value:!1},{label:em("vxe.formDesign.widgetProp.textProp.fontBold"),value:!0}]),l=r(rp.range(12,27).map((e=>({label:`${e}px`,value:`${e}px`}))));return()=>{const{renderParams:r}=e,{widget:a}=r,i=t.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${i}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:a.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.textProp.name")},{default:()=>w(Mg,{modelValue:a.title,"onUpdate:modelValue"(e){a.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.textProp.boldTitle"),field:"bold",itemRender:{name:"VxeRadioGroup",options:o.value}}),w(Yh,{title:em("vxe.formDesign.widgetProp.textProp.alignTitle"),field:"align",itemRender:{name:"VxeRadioGroup",options:n.value}}),w(Yh,{title:em("vxe.formDesign.widgetProp.textProp.sizeTitle"),field:"fontSize",itemRender:{name:"VxeSelect",options:l.value}})]})}}}),Mv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Cv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,{options:l}=o,r=t.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${r}`],align:l.align},{default:()=>w("div",{style:{fontSize:l.fontSize,fontWeight:l.bold?"bold":""}},o.title)})}}}),Pv=p({name:"VxeRow",props:{gutter:[Number,String,Array],wrap:{type:Boolean,default:()=>Rp().row.wrap},vertical:Boolean,size:{type:String,default:()=>Rp().row.size||Rp().size}},emits:["click"],setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId();Sm(e);const a=r(),i=m({}),s={refElem:a},c=f((()=>{const{gutter:t,vertical:n}=e,o={};if(t){let[e,l]=rp.isArray(t)?t:[t];if(n&&(l=e,e=""),e){const t=rp.isNumber(e)?lf(-e/2):`calc(${lf(e)} / 2 * -1)`;o.marginLeft=t,o.marginRight=t}if(l){const e=rp.isNumber(l)?lf(-l/2):`calc(${lf(l)} / 2 * -1)`;o.marginTop=e,o.marginBottom=e}}return o})),u={},d={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>u},p=e=>{g("click",{},e)},g=(e,t,n)=>{o(e,Hp(n,{$row:d},t))},h={dispatchEvent:g};Object.assign(d,h,{});return b("$xeRow",d),d.renderVN=()=>{const{vertical:t,wrap:o}=e,l=c.value,r=n.default;return w("div",{ref:a,class:["vxe-row",{"is--vertical":t,"is--wrap":o}],style:l,onClick:p},r?r({}):[])},d},render(){return this.renderVN()}}),Rv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormDesign",null);if(!t)return()=>[];const{computeKebabCaseName:n}=Cv(e),l=r([{label:em("vxe.formDesign.widgetProp.rowProp.col2"),value:2,list:[{value:"12,12",spans:[12,12]},{value:"8,16",spans:[8,16]},{value:"16,8",spans:[16,8]},{value:"6,18",spans:[6,18]},{value:"18,6",spans:[18,6]}]},{label:em("vxe.formDesign.widgetProp.rowProp.col3"),value:3,list:[{value:"8,8,8",spans:[8,8,8]},{value:"6,6,12",spans:[6,6,12]},{value:"12,6,6",spans:[12,6,6]},{value:"6,12,6",spans:[6,12,6]}]},{label:em("vxe.formDesign.widgetProp.rowProp.col4"),value:4,list:[{value:"6,6,6,6",spans:[6,6,6,6]}]},{label:em("vxe.formDesign.widgetProp.rowProp.col6"),value:6,list:[{value:"4,4,4,4,4,4",spans:[4,4,4,4,4,4]}]}]),a={18:"3/4",16:"2/3",12:"1/2",8:"1/3",6:"1/4",4:"1/6"},i=f((()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n;return l.value.find((e=>e.value===o.colSize))}));return()=>{const{renderParams:o}=e,{widget:r}=o,s=n.value;return w(hh,{class:`vxe-form-design--widget-${s}-form`,vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:r.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.rowProp.colSize"),field:"colSize",itemRender:{name:"VxeRadioGroup",options:l.value,props:{type:"button"}}}),w(Yh,{title:em("vxe.formDesign.widgetProp.rowProp.layout")},{default(){const n=i.value;return n?n.list.map(((n,o)=>w(Pv,{key:o,class:[`vxe-form-design--widget-${s}-form-row`,{"is--active":n.value===r.options.colSpan}],onClick(){(n=>{const{renderParams:o}=e,{widget:l}=o,{options:r}=l,{reactData:a}=t,{widgetObjList:i}=a,s=l.children.filter((e=>e.name)),c=s.slice(r.colSize);if(c.length){const e=rp.findTree(i,(e=>e.id===l.id),{children:"children"});if(e){const{items:t,index:n}=e;n>=t.length-1?t.push(...c):t.splice(n+1,0,...c)}}r.colSpan=n.value,l.children=rp.range(0,r.colSize).map(((e,n)=>s[n]||t.createEmptyWidget()))})(n)}},{default:()=>n.spans.map(((e,t)=>w(ug,{key:`${o}${t}`,class:`vxe-form-design--widget-${s}-form-col`,span:e},{default:()=>w("div",{},`${a[e]}`)})))}))):[]}})]})}}}),Vv=p({name:"ViewColItem",props:{parentWidget:{type:Object,default:()=>({})},widget:{type:Object,default:()=>({})},span:Number,colItemIndex:{type:Number,default:0}},emits:[],setup(e){const t=o("$xeFormDesign",null);if(!t)return()=>[];const{reactData:n}=t,l=e=>{e.stopPropagation();const o=e.currentTarget,l=e.dataTransfer,r=o.getAttribute("data-widget-id")||"",a=t.getWidgetById(r);l&&l.setData("text/plain",r),n.sortWidget=a,n.dragWidget=null},r=o=>{const{parentWidget:l,colItemIndex:r}=e,{widgetObjList:a,sortWidget:i}=n,s=l.children[r],c=t.internalData;if(o.stopPropagation(),i&&l&&i.id!==l.id){if(Lh(i))return;if(!Lh(s)){const e=rp.findTree(a,(e=>e&&e.id===i.id),{children:"children"});if(e){const{item:n,index:a,items:i,parent:u}=e;if(l.children.length!==l.options.colSize&&(l.children=rp.range(0,l.options.colSize).map((e=>l.children[e]||t.createEmptyWidget()))),u&&u.id===l.id)l.children[r]=n,l.children[a]=s;else{if(s&&s.name)return;l.children[r]=n,i.splice(a,1)}o.preventDefault(),c.lastDragTime=Date.now(),t.dispatchEvent("drag-widget",{widget:n},o)}}}};return()=>{const{widget:o,span:a}=e,{dragWidget:i,activeWidget:s,sortWidget:c}=n;return w(Yh,{span:a,padding:!1},{default(){const e=o?o.name:"",n=cm.get(e)||{},a=n.renderFormDesignWidgetEdit||n.renderFormDesignWidgetView,u=o||{name:e},d={widget:o,readonly:!1,disabled:!1,isEditMode:!0,isViewMode:!1,$formDesign:t,$formView:null},p=s&&o&&s.id===o.id,m=!a;return w("div",{class:"vxe-form-design--widget-row-view","data-widget-id":o.id,draggable:!m,onDragstart:l,onDragenter:r,onClick(e){o&&t.handleClickWidget(e,o)}},[w("div",{class:["vxe-form-design--widget-row-view-item-inner",{"is--empty":m,"is--active":p,"is--sort":c&&o&&c.id===o.id,"is--drag":i&&o&&i.id===o.id}]},[a?w("div",{class:"vxe-form-design--widget-row-view-item-wrapper"},[w("div",{class:"vxe-form-design--widget-row-view-item-box vxe-form--item-row"},Um(a(u,d))),p?w("div",{class:"vxe-form-design--preview-item-operate"},[w(Nf,{icon:Fp().FORM_DESIGN_WIDGET_COPY,status:"primary",size:"mini",circle:!0,onClick(e){t.handleCopyWidget(e.$event,o)}}),w(Nf,{icon:Fp().FORM_DESIGN_WIDGET_DELETE,status:"danger",size:"mini",circle:!0,onClick(e){t.handleRemoveWidget(e.$event,o)}})]):x()]):w("div",{class:"vxe-form-design--widget-row-view-empty"},"控件位置")])])}})}}}),Av=p({name:"WidgetRowEdit",props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=f((()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n,{colSpan:l}=o;return(l?`${l}`.split(","):[]).map((e=>Number(e)))}));return()=>{const{renderParams:n}=e,{widget:o}=n;return w(av,{field:o.field},{default:()=>t.value.map(((e,t)=>w(Vv,{key:t,parentWidget:o,widget:o.children[t],span:e,colItemIndex:t})))})}}}),$v=p({name:"WidgetRowView",props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormDesign",null),n=o("$xeFormView",null),l=f((()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n,{colSpan:l}=o;return(l?`${l}`.split(","):[]).map((e=>Number(e)))}));return()=>{const{renderParams:o}=e,{widget:r}=o,a=l.value;return w(Pv,{},{default:()=>a.map(((e,o)=>w(ug,{key:o,class:"vxe-form--item-row",span:e},{default(){const e=r.children[o];if(e){const{name:o}=e,l=(cm.get(o)||{}).renderFormDesignWidgetView,r=!!t;if(l)return Um(l(e,{widget:e,readonly:!1,disabled:!1,isEditMode:r,isViewMode:!r,$formDesign:t,$formView:n}))}return x()}})))})}}}),Fv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){if(!o("$xeFormDesign",null))return()=>[];const{computeKebabCaseName:t}=Cv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,{options:l}=o,r=t.value;return w(hh,{class:`vxe-form-design--widget-${r}-form`,vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.subtableProp.showCheckbox"),field:"showCheckbox"},{default:()=>w(Xh,{modelValue:l.showCheckbox,"onUpdate:modelValue"(e){l.showCheckbox=e}})})]})}}}),Nv=p({props:{parentWidget:{type:Object,default:()=>({})},widget:{type:Object,default:()=>({})},childIndex:{type:Number,default:0}},emits:[],setup(e){const t=o("$xeFormDesign",null),n=o("$xeFormView",null);if(!t)return()=>[];const{reactData:l}=t,r=e=>{e.stopPropagation();const n=e.currentTarget,o=e.dataTransfer,r=n.getAttribute("data-widget-id")||"",a=t.getWidgetById(r);o&&o.setData("text/plain",r),l.sortWidget=a,l.dragWidget=null},a=n=>{const{parentWidget:o,childIndex:r}=e,{widgetObjList:a,sortWidget:i}=l,s=o.children[r],c=t.internalData,{lastDragTime:u}=c;if(n.stopPropagation(),u&&u>Date.now()-300)n.preventDefault();else if(i&&s&&o){if(i.id===o.id)return;if(i.id===s.id)return;if(Lh(i))return;if(s&&!Lh(s)){const e=rp.findTree(a,(e=>e.id===i.id),{children:"children"});if(e){const{item:l,index:a,items:i,parent:u}=e;u&&u.id===o.id?(o.children[r]=l,o.children[a]=s):(o.children.splice(r,0,l),i.splice(a,1)),c.lastDragTime=Date.now(),t.dispatchEvent("drag-widget",{widget:l},n)}}}};return()=>{const{widget:o}=e,{dragWidget:i,activeWidget:s,sortWidget:c}=l,u=o?o.name:"",d=cm.get(u)||{},p=d.renderFormDesignWidgetSubtableEditView||d.renderFormDesignWidgetSubtableCellView||d.renderFormDesignWidgetSubtableDefaultView,m=d.renderFormDesignWidgetEdit||d.renderFormDesignWidgetView,f=o||{name:u},g=!!t,h={widget:o,readonly:!1,disabled:!1,isEditMode:g,isViewMode:!g,$formDesign:t,$formView:n},v=s&&o&&s.id===o.id,b={name:u},y={$table:null,$grid:null,seq:"",column:{field:o.field,title:o.title},columnIndex:0,$columnIndex:0,_columnIndex:0,rowid:"",row:{},rowIndex:0,$rowIndex:0,_rowIndex:0,isEdit:!1,isHidden:!1,fixed:null,type:"",level:1,visibleData:[],items:[],data:[],widget:o};return w("div",{class:["vxe-form-design--widget-subtable-view-item",{"is--active":v,"is--sort":c&&o&&c.id===o.id,"is--drag":i&&o&&i.id===o.id}],draggable:!0,"data-widget-id":o.id,onDragstart:r,onDragenter:a,onClick(e){o&&t.handleClickWidget(e,o)}},[w("div",{class:"vxe-form-design--widget-subtable-view-item-wrapper"},[w("div",{class:"vxe-form-design--widget-subtable-view-item-box vxe-form--item-row"},p?w(Yh,{class:["vxe-form-design--widget-render-form-item"],title:o.title,field:o.field,itemRender:{}},{default:()=>Um(p(b,y))}):m?Um(m(f,h)):[]),v?w("div",{class:"vxe-form-design--preview-item-operate"},[w(Nf,{icon:Fp().FORM_DESIGN_WIDGET_COPY,status:"primary",size:"mini",circle:!0,onClick(e){t.handleCopyWidget(e.$event,o)}}),w(Nf,{icon:Fp().FORM_DESIGN_WIDGET_DELETE,status:"danger",size:"mini",circle:!0,onClick(e){t.handleRemoveWidget(e.$event,o)}})]):x()])])}}}),Lv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormDesign",null);if(!t)return()=>[];const{reactData:n}=t,l=t=>{const{sortWidget:o,widgetObjList:l}=n,{renderParams:r}=e,{widget:a}=r;if(t.stopPropagation(),o&&a&&a.id!==o.id)if(Lh(o))Rm.modal&&Rm.modal.message({content:em("vxe.formDesign.widgetProp.subtableProp.errSubDrag"),status:"error",id:"errSubDrag"});else if(a.name&&!a.children.some((e=>e.id===o.id))){const e=rp.findTree(l,(e=>e.id===o.id),{children:"children"});if(e){const{item:t,index:o,items:l}=e;n.sortWidget=null,n.activeWidget=t,a.children.push(t),l.splice(o,1),n.sortWidget=t}}},r=e=>{e.stopPropagation()};return()=>{const{renderParams:t}=e,{widget:n}=t,{title:o,children:a,options:i}=n,{showCheckbox:s}=i;return w(Yh,{title:o,className:"vxe-form-design--widget-subtable-form-item"},{default:()=>w("div",{class:"vxe-form-design--widget-subtable-view",onDragenter:r,onDragover:l},[w("div",{class:"vxe-form-design--widget-subtable-view-left"},[s?w("div",{class:"vxe-form-design--widget-subtable-col"},[w("div",{class:"vxe-form-design--widget-subtable-head"},[w(lg)]),w("div",{class:"vxe-form-design--widget-subtable-body"},[w(lg)])]):x(),w("div",{class:"vxe-form-design--widget-subtable-col"},[w("div",{class:"vxe-form-design--widget-subtable-head"},em("vxe.formDesign.widgetProp.subtableProp.seqTitle")),w("div",{class:"vxe-form-design--widget-subtable-body"},"1")])]),w("div",{class:"vxe-form-design--widget-subtable-view-right"},[w("div",{class:"vxe-form-design--widget-subtable-view-wrapper"},[w(E,{class:"vxe-form-design--widget-subtable-view-list",tag:"div",name:"vxe-form-design--widget-subtable-view-list"},{default:()=>a?a.map(((e,t)=>w(Nv,{key:e.id,parentWidget:n,widget:e,childIndex:t}))):[]}),w("div",{key:"empty",class:"vxe-form-design--widget-subtable-view-empty"},em("vxe.formDesign.widgetProp.subtableProp.colPlace"))])])])})}}}),_v=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const n=Rm.getComponent("VxeGrid"),l=o("$xeFormView",null),{computeKebabCaseName:a}=Cv(e),i=r(),s=r([{}]),c=f((()=>!!l&&l.props.readonly)),u=f((()=>{const{renderParams:t}=e,{widget:n}=t,{children:o,options:r}=n,a=c.value,i=[];return r.showCheckbox&&i.push({type:"checkbox",width:60,fixed:"left"}),i.push({type:"seq",width:60,fixed:"left"}),o&&o.forEach((e=>{const{name:t}=e,n=cm.get(t)||{},o=n.parseFormDesignWidgetSubtableColumn;let r={field:e.field,title:e.title};o?r=Object.assign(r,o({$formView:l,name:e.name,widget:e,readonly:!!a})):a?r.cellRender={name:e.name,props:e.options}:r.editRender={name:e.name,props:e.options};const s=n.renderFormDesignWidgetSubtableDefaultView,c=n.renderFormDesignWidgetSubtableCellView||s,u=n.renderFormDesignWidgetSubtableEditView,d={};(s||c)&&(d.default=t=>{const{isEdit:n,column:o}=t,{editRender:l,cellRender:r}=o,a=Object.assign({widget:e},t);return n&&l&&c?Um(c(l,a)):s?Um(s(r||{},a)):[]}),u&&(d.edit=t=>{const{column:n}=t,{editRender:o}=n,l=Object.assign({widget:e},t);return Um(u(o,l))}),r.slots=d,i.push(r)})),a||i.push({field:"action",title:"操作",fixed:"right",width:80,slots:{default:({row:e})=>w(Nf,{mode:"text",icon:"vxe-icon-delete",status:"error",onClick(){m(e)}})}}),i})),d=f((()=>{const{renderParams:t}=e,{widget:n,isEditMode:o}=t,r=u.value,a=c.value,i={border:!0,showOverflow:!0,height:300,columnConfig:{resizable:!0,minWidth:140},rowConfig:{keyField:"_id"},data:o?s.value:l?l.getItemValue(n):null,columns:r,toolbarConfig:{zoom:!0,custom:!1,slots:{buttons:"toolbarButtons"}}};return a||(i.keepSource=!0,i.editConfig={mode:"row",trigger:"click",showStatus:!0}),i})),p=()=>{const{renderParams:n}=e,{widget:o}=n;if(l){let n=l.getItemValue(o);rp.isArray(n)||(n=[]);const r=(()=>{const{renderParams:t}=e,{widget:n}=t,o={_id:Date.now()};return rp.each(n.children,(e=>{o[e.field]=null})),o})();n.unshift(r),l.setItemValue(o,n.slice(0)).then((()=>t().then((()=>{const e=i.value;e&&e.setEditRow(r)}))))}},m=t=>{const{renderParams:n}=e,{widget:o}=n;if(l){const e=l.getItemValue(o);e&&l.setItemValue(o,e.filter((e=>e._id!==t._id)))}};return()=>{const{renderParams:t}=e,{widget:o}=t,l=a.value,r=d.value,s=c.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${l}`],title:o.title,field:o.field,span:24},{default:()=>n?w(n,Object.assign(Object.assign({},r),{ref:i}),{toolbarButtons:()=>s?[]:[w(Nf,{content:"新增",icon:"vxe-icon-add",status:"primary",onClick:p})]}):x()})}}}),Bv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Cv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),w(Yh,{title:em("vxe.formDesign.widgetProp.required")},{default:()=>w(Xh,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),jv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r}=o,{options:a}=r,i=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],field:r.field,title:r.title,itemRender:{}},{default:()=>w("input",{class:"vxe-default-input",type:"text",placeholder:a.placeholder||em("vxe.base.pleaseInput"),value:t?t.getItemValue(r):null,onChange:l,onInput(e){t&&t.setItemValue(r,e.target.value)}})})}}}),zv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Cv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),w(Yh,{title:em("vxe.formDesign.widgetProp.required")},{default:()=>w(Xh,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),Wv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r}=o,{options:a}=r,i=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>w("textarea",{class:"vxe-default-textarea",placeholder:a.placeholder||em("vxe.base.pleaseInput"),value:t?t.getItemValue(r):null,onChange:l,onInput(e){t&&t.setItemValue(r,e.target.value)}})})}}}),Hv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{renderDataSourceFormItem:t}=Dv(e,{isSubOption:!0}),{computeKebabCaseName:n}=Cv(e);return()=>{const{renderParams:o}=e,{widget:l}=o,r=n.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${r}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.required")},{default:()=>w(Xh,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})}),t()]})}}}),qv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r,isViewMode:a}=o,i=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],field:r.field,title:r.title,itemRender:{}},{default:()=>w("select",{class:"vxe-default-select",value:t?t.getItemValue(r):null,onChange:l},a?(()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n.options;return o?o.map((e=>e.options?w("optgroup",{label:e.value},e.options.map((e=>w("option",{value:e.value},e.value)))):w("option",{},e.value))):[]})():[])})}}}),Uv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Cv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),w(Yh,{title:em("vxe.formDesign.widgetProp.required")},{default:()=>w(Xh,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),Kv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r}=o,{options:a}=r,i=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],field:r.field,title:r.title,itemRender:{}},{default:()=>w(Mg,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Gv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Cv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,data:o.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),w(Yh,{title:em("vxe.formDesign.widgetProp.required")},{default:()=>w(Xh,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),Yv=p({name:"VxeNumberInput",props:{modelValue:[String,Number],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"number"},clearable:{type:Boolean,default:()=>Rp().numberInput.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,maxLength:[String,Number],autoComplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>Rp().numberInput.size||Rp().size},multiple:Boolean,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>Rp().numberInput.exponential},showCurrency:{type:Boolean,default:()=>Rp().numberInput.showCurrency},currencySymbol:{type:String,default:()=>Rp().numberInput.currencySymbol},controls:{type:Boolean,default:()=>Rp().numberInput.controls},digits:{type:[String,Number],default:null},autoFill:{type:Boolean,default:()=>Rp().numberInput.autoFill},prefixIcon:String,suffixIcon:String,maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","prev-number","next-number","prefix-click","suffix-click"],setup(e,n){const{slots:l,emit:a}=n,c=o("$xeForm",null),u=o("xeFormItemInfo",null),d=rp.uniqueId(),{computeSize:p}=Sm(e),h=m({isFocus:!1,isActivated:!1,inputValue:e.modelValue}),v={},b=r(),y=r(),C=r(),S={refElem:b,refInput:y},E={xID:d,props:e,context:n,reactData:h,internalData:v,getRefMaps:()=>S};let T={};const D=f((()=>{const{readonly:t}=e;return null===t?!!c&&c.props.readonly:t})),O=f((()=>{const{disabled:t}=e;return null===t?!!c&&c.props.disabled:t})),k=f((()=>{const{type:t,digits:n}=e;let o=n;return null===o&&(o=Rp().numberInput.digits,null===o&&"amount"===t&&(o=2)),rp.toInteger(o)||1})),I=f((()=>{const{type:t}=e;return"float"===t||"amount"===t})),M=f((()=>{const{type:t}=e,n=k.value,o=I.value,l=e.step;return"integer"===t?rp.toInteger(l)||1:o?rp.toNumber(l)||1/Math.pow(10,n):rp.toNumber(l)||1})),P=f((()=>e.clearable)),R=f((()=>{const{multiple:t}=e;return D.value||t})),V=f((()=>{const{placeholder:t}=e;if(t)return Vf(t);const n=Rp().numberInput.placeholder;return n?Vf(n):em("vxe.base.pleaseInput")})),A=f((()=>{const{maxLength:t,maxlength:n}=e;return rp.toNumber(t||n)||16})),$=f((()=>{const{immediate:t}=e;return t})),F=f((()=>{const{type:t}=e,{inputValue:n}=h;return"integer"===t?rp.toInteger(kg(n)):rp.toNumber(kg(n))})),N=f((()=>{const{type:t,showCurrency:n,currencySymbol:o,autoFill:l}=e,{inputValue:r}=h,a=k.value;if("amount"===t){const e=rp.toNumber(r);let t=rp.commafy(e,{digits:a});if(!l){const[e,n]=t.split(".");if(n){const o=n.replace(/0+$/,"");t=o?[e,".",o].join(""):e}}return n?`${o||em("vxe.numberInput.currencySymbol")||""}${t}`:t}return rp.toString(r)})),L=f((()=>{const{min:t}=e,{inputValue:n}=h,o=F.value;return!(!n&&0!==n||null===t)&&o<=rp.toNumber(t)})),_=f((()=>{const{max:t}=e,{inputValue:n}=h,o=F.value;return!(!n&&0!==n||null===t)&&o>=rp.toNumber(t)})),B=e=>rp.eqNull(e)?"":`${e}`,j=t=>{const{exponential:n,autoFill:o}=e,l=A.value,r=k.value;let a="";return I.value?(a=Ig(t,r),o||(a=B(rp.toNumber(a)))):a=B(t),!n||t!==a&&B(t).toLowerCase()!==rp.toNumber(a).toExponential()?a.slice(0,l):t},z=e=>{const{inputValue:t}=h;T.dispatchEvent(e.type,{value:t},e)},W=(n,o,l)=>{const r=Af(n)?null:Number(n),i=r!==e.modelValue;i&&(v.isUM=!0,a("update:modelValue",r)),h.inputValue!==o&&t((()=>{h.inputValue=o||""})),T.dispatchEvent("input",{value:r},l),i&&(T.dispatchEvent("change",{value:r},l),c&&u&&c.triggerItemEvent(l,u.itemConfig.field,r))},H=(e,t)=>{const n=$.value,o=Af(e)?null:rp.toNumber(e);h.inputValue=e,n?W(o,e,t):T.dispatchEvent("input",{value:o},t)},q=e=>{const t=e.target.value;H(t,e)},U=e=>{$.value||z(e)},K=e=>{const{inputValue:t}=h;h.inputValue=Af(t)?"":`${rp.toNumber(t)}`,h.isFocus=!0,h.isActivated=!0,z(e)},G=e=>{if(!O.value){const{inputValue:t}=h;T.dispatchEvent("prefix-click",{value:t},e)}},Y=(e,t)=>{focus(),W(null,"",e),T.dispatchEvent("clear",{value:t},e)},X=e=>{if(!O.value){const{inputValue:t}=h;T.dispatchEvent("suffix-click",{value:t},e)}},Z=()=>{const{autoFill:t}=e,{inputValue:n}=h,o=k.value;if(I.value&&n){let e="",l=null;n&&(e=Ig(n,o),l=rp.toNumber(e),t||(e=`${l}`)),n!==l?W(l,e,{type:"init"}):h.inputValue=e}},Q=t=>null===e.max||rp.toNumber(t)<=rp.toNumber(e.max),J=t=>null===e.min||rp.toNumber(t)>=rp.toNumber(e.min),ee=()=>{const{type:t,min:n,max:o,exponential:l}=e,{inputValue:r}=h;if(!R.value){if(Af(r)){let e=null,t=r;return(n||0===n)&&(e=rp.toNumber(n),t=`${e}`),void W(e,`${t||""}`,{type:"check"})}if(r||n||o){let e="integer"===t?rp.toInteger(kg(r)):rp.toNumber(kg(r));if(J(e)?Q(e)||(e=o):e=n,l){const t=B(r).toLowerCase();t===rp.toNumber(e).toExponential()&&(e=t)}const a=j(e);W(Af(a)?null:Number(a),a,{type:"check"})}}},te=e=>{const{inputValue:t}=h,n=$.value,o=t?Number(t):null;n||W(o,B(t),e),ee(),h.isFocus=!1,h.isActivated=!1,T.dispatchEvent("blur",{value:o},e),c&&u&&c.triggerItemEvent(e,u.itemConfig.field,o)},ne=(t,n)=>{const{min:o,max:l,type:r}=e,{inputValue:a}=h,i=M.value,s="integer"===r?rp.toInteger(kg(a)):rp.toNumber(kg(a)),c=t?rp.add(s,i):rp.subtract(s,i);let u;u=J(c)?Q(c)?c:l:o,H(j(u),n)},oe=e=>{const t=O.value,n=D.value,o=L.value;se(),t||n||o||ne(!1,e),h.isActivated=!0,T.dispatchEvent("next-number",{value:h.inputValue},e)},le=e=>{v.dnTimeout=window.setTimeout((()=>{oe(e),le(e)}),60)},re=e=>{const t=O.value,n=D.value,o=_.value;se(),t||n||o||ne(!0,e),h.isActivated=!0,T.dispatchEvent("prev-number",{value:h.inputValue},e)},ae=t=>{const{exponential:n,controls:o}=e,l=t.ctrlKey,r=t.shiftKey,a=t.altKey,i=t.keyCode,s=qp.hasKey(t,Np.ESCAPE),c=qp.hasKey(t,Np.ARROW_UP),u=qp.hasKey(t,Np.ARROW_DOWN);l||r||a||!(qp.hasKey(t,Np.SPACEBAR)||(!n||69!==i)&&i>=65&&i<=90||i>=186&&i<=188||i>=191)||t.preventDefault(),s?ee():(c||u)&&o&&(e=>{const t=qp.hasKey(e,Np.ARROW_UP),n=qp.hasKey(e,Np.ARROW_DOWN);(t||n)&&(e.preventDefault(),t?re(e):oe(e))})(t),z(t)},ie=e=>{z(e)},se=()=>{const{dnTimeout:e}=v;e&&(clearTimeout(e),v.dnTimeout=void 0)},ce=e=>{v.dnTimeout=window.setTimeout((()=>{re(e),ce(e)}),60)},ue=e=>{if(se(),0===e.button){const t=nf(e.currentTarget,"is--prev");t?re(e):oe(e),v.dnTimeout=window.setTimeout((()=>{t?ce(e):le(e)}),500)}},de=t=>{if(e.controls&&h.isActivated){t.stopPropagation(),t.preventDefault();const e=t.deltaY;e>0?oe(t):e<0&&re(t)}z(t)},pe=e=>{z(e)},me=e=>{const{isActivated:t}=h,n=b.value,o=C.value,l=O.value,r=$.value;if(!l&&t&&(h.isActivated=af(e,n).flag||af(e,o).flag,!h.isActivated)){if(!r){const{inputValue:t}=h,n=t?Number(t):null;W(n,B(t),e)}ee()}},fe=t=>{const{clearable:n}=e;if(!O.value){const e=qp.hasKey(t,Np.TAB),o=qp.hasKey(t,Np.DELETE);let l=h.isActivated;e&&(l&&ee(),l=!1,h.isActivated=l),o&&n&&l&&Y(t,null)}},ge=()=>{const{isActivated:e}=h;e&&ee()},he=()=>{const{controls:t}=e;return t?(()=>{const e=_.value,t=L.value;return w("div",{class:"vxe-input--control-icon"},[w("div",{class:"vxe-input--number-icon"},[w("div",{class:["vxe-input--number-btn is--prev",{"is--disabled":e}],onMousedown:ue,onMouseup:se,onMouseleave:se},[w("i",{class:Fp().NUMBER_INPUT_PREV_NUM})]),w("div",{class:["vxe-input--number-btn is--next",{"is--disabled":t}],onMousedown:ue,onMouseup:se,onMouseleave:se},[w("i",{class:Fp().NUMBER_INPUT_NEXT_NUM})])])])})():x()};T={dispatchEvent:(e,t,n)=>{a(e,Hp(n,{$numberInput:E},t))},focus(){const e=y.value;return h.isActivated=!0,e.focus(),t()},blur:()=>(y.value.blur(),h.isActivated=!1,t()),select:()=>(y.value.select(),h.isActivated=!1,t())},Object.assign(E,T);return E.renderVN=()=>{const{className:t,controls:n,type:o,align:r,name:a,autocomplete:i,autoComplete:s}=e,{inputValue:c,isFocus:u,isActivated:d}=h,m=p.value,f=O.value,g=D.value,v=N.value;if(g)return w("div",{ref:b,class:["vxe-number-input--readonly",`type--${o}`,t]},v);const C=R.value,S=A.value,E=V.value,T=P.value,k=(()=>{const{prefixIcon:t}=e,n=l.prefix;return n||t?w("div",{class:"vxe-number-input--prefix",onClick:G},[w("div",{class:"vxe-number-input--prefix-icon"},n?Um(n({})):[w("i",{class:t})])]):null})(),I=(()=>{const{suffixIcon:t}=e,{inputValue:n}=h,o=l.suffix,r=O.value,a=P.value;return w("div",{class:["vxe-number-input--suffix",{"is--clear":a&&!r&&!(""===n||rp.eqNull(n))}]},[a?w("div",{class:"vxe-number-input--clear-icon",onClick:Y},[w("i",{class:Fp().INPUT_CLEAR})]):x(),he(),o||t?w("div",{class:"vxe-number-input--suffix-icon",onClick:X},o?Um(o({})):[w("i",{class:t})]):x()])})();return w("div",{ref:b,class:["vxe-number-input",`type--${o}`,t,{[`size--${m}`]:m,[`is--${r}`]:r,"is--controls":n,"is--prefix":!!k,"is--suffix":!!I,"is--disabled":f,"is--active":d,"show--clear":T&&!f&&!(""===c||rp.eqNull(c))}],spellcheck:!1},[k||x(),w("div",{class:"vxe-number-input--wrapper"},[w("input",{ref:y,class:"vxe-number-input--inner",value:u||"amount"!==o?c:v,name:a,type:"text",placeholder:E,maxlength:S,readonly:C,disabled:f,autocomplete:s||i,onKeydown:ae,onKeyup:ie,onWheel:de,onClick:pe,onInput:q,onChange:U,onFocus:K,onBlur:te})]),I||x()])},i((()=>e.modelValue),(t=>{v.isUM||(t=>{const{autoFill:n}=e,{inputValue:o}=h,l=k.value,r=I.value;if(Af(t))h.inputValue="";else{let e=`${t}`;r&&(e=Ig(t,l),n||(e=`${rp.toNumber(e)}`)),e!==o&&(h.inputValue=e)}})(t),v.isUM=!1})),i((()=>e.type),(()=>{Object.assign(h,{inputValue:e.modelValue}),Z()})),g((()=>{qp.on(E,"mousedown",me),qp.on(E,"keydown",fe),qp.on(E,"blur",ge)})),s((()=>{h.isFocus=!1,se(),ee(),qp.off(E,"mousedown"),qp.off(E,"keydown"),qp.off(E,"blur")})),Z(),E},render(){return this.renderVN()}}),Xv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r}=o,{options:a}=r,i=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>w(Yv,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Zv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Cv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,data:o.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),w(Yh,{title:em("vxe.formDesign.widgetProp.required")},{default:()=>w(Xh,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),Qv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r}=o,{options:a}=r,i=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>w(Lg,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Jv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Cv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,data:o.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),w(Yh,{title:em("vxe.formDesign.widgetProp.required")},{default:()=>w(Xh,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),eb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r}=o,{options:a}=r,i=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>w(Ev,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder,resize:"node",onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),tb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Cv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})})]})}}}),nb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r}=o,a=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${a}`],field:r.field,title:r.title,itemRender:{}},{default:()=>w(Xh,{modelValue:t?t.getItemValue(r):null,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),ob=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{renderDataSourceFormItem:t}=Dv(e,{isSubOption:!1}),{computeKebabCaseName:n}=Cv(e);return()=>{const{renderParams:o}=e,{widget:l}=o,r=n.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${r}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),w(Yh,{title:em("vxe.formDesign.widgetProp.multiple"),field:"multiple",itemRender:{name:"VxeSwitch"}}),t(),w(Yh,{title:em("vxe.formDesign.widgetProp.required")},{default:()=>w(Xh,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})})]})}}}),lb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r,isViewMode:a}=o,{options:i}=r,s=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${s}`],title:r.title,field:r.field,itemRender:{}},{default:()=>w(pv,{modelValue:t?t.getItemValue(r):null,placeholder:i.placeholder||em("vxe.base.pleaseSelect"),options:a?i.options:[],optionProps:{label:"value",value:"value"},onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),rb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Cv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),w(Yh,{title:em("vxe.formDesign.widgetProp.multiple"),field:"multiple",itemRender:{name:"VxeSwitch"}}),w(Yh,{title:em("vxe.formDesign.widgetProp.required")},{default:()=>w(Xh,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}});function ab(){return rp.uniqueId("node_")}const ib=p({name:"VxeTree",props:{data:Array,height:[String,Number],minHeight:{type:[String,Number],default:()=>Rp().tree.minHeight},loading:Boolean,loadingConfig:Object,accordion:{type:Boolean,default:()=>Rp().tree.accordion},childrenField:{type:String,default:()=>Rp().tree.childrenField},valueField:{type:String,default:()=>Rp().tree.valueField},keyField:{type:String,default:()=>Rp().tree.keyField},parentField:{type:String,default:()=>Rp().tree.parentField},titleField:{type:String,default:()=>Rp().tree.titleField},hasChildField:{type:String,default:()=>Rp().tree.hasChildField},transform:Boolean,isCurrent:Boolean,isHover:Boolean,showLine:{type:Boolean,default:()=>Rp().tree.showLine},trigger:String,indent:{type:Number,default:()=>Rp().tree.indent},showRadio:{type:Boolean,default:()=>Rp().tree.showRadio},checkNodeKey:{type:[String,Number],default:()=>Rp().tree.checkNodeKey},radioConfig:Object,showCheckbox:{type:Boolean,default:()=>Rp().tree.showCheckbox},checkNodeKeys:{type:Array,default:()=>Rp().tree.checkNodeKeys},checkboxConfig:Object,nodeConfig:Object,lazy:Boolean,toggleMethod:Function,loadMethod:Function,showIcon:{type:Boolean,default:!0},iconOpen:{type:String,default:()=>Rp().tree.iconOpen},iconClose:{type:String,default:()=>Rp().tree.iconClose},iconLoaded:{type:String,default:()=>Rp().tree.iconLoaded},size:{type:String,default:()=>Rp().tree.size||Rp().size}},emits:["update:modelValue","update:checkNodeKey","update:checkNodeKeys","node-click","node-dblclick","current-change","radio-change","checkbox-change","load-success","load-error"],setup(e,n){const{emit:o,slots:l}=n,a=rp.uniqueId(),{computeSize:s}=Sm(e),c=r(),u=m({currentNode:null,nodeMaps:{},selectRadioKey:e.checkNodeKey,treeList:[],treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},indeterminateCheckboxMaps:{}}),d={refElem:c},p=f((()=>e.titleField||"title")),g=f((()=>e.keyField||"id")),v=f((()=>{const t=g.value;return e.valueField||t})),b=f((()=>e.parentField||"parentId")),y=f((()=>e.childrenField||"children")),C=f((()=>e.hasChildField||"hasChild")),S=f((()=>{const t=O.value,{isCurrent:n}=t;return rp.isBoolean(n)?n:e.isCurrent})),E=f((()=>{const t=O.value,{isHover:n}=t;return rp.isBoolean(n)?n:e.isHover})),T=f((()=>Object.assign({showIcon:!0},Rp().tree.radioConfig,e.radioConfig))),D=f((()=>Object.assign({showIcon:!0},Rp().tree.checkboxConfig,e.checkboxConfig))),O=f((()=>Object.assign({},Rp().tree.nodeConfig,e.nodeConfig))),k=f((()=>Object.assign({},Rp().tree.loadingConfig,e.loadingConfig))),I=f((()=>{const{height:t,minHeight:n}=e,o={};return t&&(o.height=lf(t)),n&&(o.minHeight=lf(n)),o})),M={computeRadioOpts:T,computeCheckboxOpts:D,computeNodeOpts:O},P={xID:a,props:e,context:n,internalData:{},reactData:u,getRefMaps:()=>d,getComputeMaps:()=>M},R=e=>{const t=v.value,n=rp.get(e,t);return rp.eqNull(n)?"":encodeURIComponent(n)},V=e=>{const{selectRadioKey:t}=u;return t===e},A=e=>{const{selectCheckboxMaps:t}=u;return!!t[e]},$=e=>{const{indeterminateCheckboxMaps:t}=u;return!!t[e]},F=(e,t)=>{const n=Object.assign({},u.selectCheckboxMaps);e.forEach((e=>{t?n[e]=!0:n[e]&&delete n[e]})),u.selectCheckboxMaps=n},N=e=>{const t={};e&&e.forEach((e=>{t[e]=!0})),u.selectCheckboxMaps=t},L=(e,t,n)=>{t?n[e]||(n[e]=!0):n[e]&&delete n[e]},_=(e,t,n)=>{o(e,Hp(n,{$tree:P},t))},B={dispatchEvent:_,clearCurrentNode:()=>(u.currentNode=null,t()),getCurrentNodeId(){const{currentNode:e}=u;return e?R(e):null},getCurrentNode(){const{currentNode:e,nodeMaps:t}=u;if(e){const n=t[e];if(n)return n.item}return null},setCurrentNodeId(e){const{nodeMaps:n}=u,o=n[e];return u.currentNode=o?o.item:null,t()},setCurrentNode:e=>(u.currentNode=e,t()),clearRadioNode:()=>(u.selectRadioKey=null,t()),getRadioNodeId:()=>u.selectRadioKey||null,getRadioNode(){const{selectRadioKey:e,nodeMaps:t}=u;if(e){const n=t[e];if(n)return n.item}return null},setRadioNodeId:e=>(u.selectRadioKey=e,t()),setRadioNode:e=>(e&&(u.selectRadioKey=R(e)),t()),setCheckboxNode:(e,n)=>(e&&(rp.isArray(e)||(e=[e]),F(e.map((e=>R(e))),n)),t()),setCheckboxByNodeId:(e,n)=>(e&&(rp.isArray(e)||(e=[e]),F(e,n)),t()),getCheckboxNodeIds(){const{selectCheckboxMaps:e}=u;return Object.keys(e)},getCheckboxNodes(){const{nodeMaps:e,selectCheckboxMaps:t}=u,n=[];return rp.each(t,((t,o)=>{const l=e[o];l&&n.push(l.item)})),n},clearCheckboxNode:()=>(u.selectCheckboxMaps={},t()),setAllCheckboxNode(e){const n={},o=y.value;return e&&rp.eachTree(u.treeList,(e=>{const t=R(e);n[t]=!0}),{children:o}),u.selectCheckboxMaps=n,t()},clearExpandNode:()=>B.clearAllExpandNode(),clearAllExpandNode:()=>(rp.each(u.nodeMaps,(e=>{e.treeLoaded=!1})),u.treeExpandedMaps={},t()),setExpandByNodeId(e,n){const o=Object.assign({},u.treeExpandedMaps);return e&&(rp.isArray(e)||(e=[e]),e.forEach((e=>{L(e,n,o)})),u.treeExpandedMaps=o),t()},getExpandNodeIds(){const{treeExpandedMaps:e}=u;return Object.keys(e)},getExpandNodes(){const{nodeMaps:e,treeExpandedMaps:t}=u,n=[];return rp.each(t,((t,o)=>{const l=e[o];l&&n.push(l.item)})),n},setExpandNode(e,n){const o=Object.assign({},u.treeExpandedMaps);return e&&(rp.isArray(e)||(e=[e]),e.forEach((e=>{const t=R(e);L(t,n,o)})),u.treeExpandedMaps=o),t()},toggleExpandByNodeId(e){const n=Object.assign({},u.treeExpandedMaps);return e&&(rp.isArray(e)||(e=[e]),e.forEach((e=>{L(e,!n[e],n)})),u.treeExpandedMaps=n),t()},toggleExpandNode(e){const n=Object.assign({},u.treeExpandedMaps);return e&&(rp.isArray(e)||(e=[e]),e.forEach((e=>{const t=R(e);L(t,!n[t],n)})),u.treeExpandedMaps=n),t()},setAllExpandNode(e){const n={},o=y.value;return e&&rp.eachTree(u.treeList,(e=>{const t=rp.get(e,o);if(t&&t.length){const t=R(e);n[t]=!0}}),{children:o}),u.treeExpandedMaps=n,t()},reloadExpandNode(n){const{lazy:o}=e;return o?(B.clearExpandLoaded(n),H(n)):t()},clearExpandLoaded(n){const{lazy:o}=e,{nodeMaps:l}=u;if(o){const e=l[R(n)];e&&(e.treeLoaded=!1)}return t()},loadChildrenNode(t,n){const{lazy:o,transform:l}=e,{nodeMaps:r}=u;if(!o)return Promise.resolve([]);const a=y.value,i=r[R(t)],s=i?i.level:0,c=i?i.nodes:[];return(e=>{const t=v.value;return Promise.resolve(e.map((e=>{const n=Object.assign({},e);let o=R(n);return o||(o=ab(),rp.set(n,t,o)),n})))})(n).then((e=>(rp.eachTree(e,((e,n,o,l,a,u)=>{const d=R(e);r[d]={item:t,itemIndex:-1,items:o,parent:a||i.item,nodes:c.concat(u),level:s+u.length,lineCount:0,treeLoaded:!1}}),{children:a}),t[a]=e,l&&(t[a]=e),W(t),e)))},isExpandByNode:e=>{const{treeExpandedMaps:t}=u;return!!t[R(e)]},isCheckedByRadioNodeId:V,isCheckedByRadioNode:e=>V(R(e)),isCheckedByCheckboxNodeId:A,isIndeterminateByCheckboxNode:e=>$(R(e)),isCheckedByCheckboxNode:e=>A(R(e))},j=t=>{const{transform:n}=e,o=g.value,l=b.value,r=y.value;u.treeList=n?rp.toArrayTree(t,{key:o,parentKey:l,mapChildren:r}):t?t.slice(0):[],(()=>{const{treeList:e}=u,t=v.value,n=y.value,o={};rp.eachTree(e,((e,n,l,r,a,i)=>{let s=R(e);s||(s=ab(),rp.set(e,t,s)),o[s]={item:e,itemIndex:n,items:l,parent:a,nodes:i,level:i.length,lineCount:0,treeLoaded:!1}}),{children:n}),u.nodeMaps=o})()},z=(e,t,n)=>{const{treeExpandedMaps:o}=u,l=y.value,r=R(e);n.lineCount++,o[r]&&rp.arrayEach(e[l],((e,o,l)=>{(!t||o<l.length-1)&&z(e,!1,n)}))},W=e=>{const{nodeMaps:t}=u;if(e){const n=R(e),o=t[n];o&&rp.lastArrayEach(o.nodes,(e=>{const n=R(e),o=t[n];o&&(o.lineCount=0,z(e,!0,o))}))}},H=n=>{const o=D.value,{loadMethod:l}=e,{checkStrictly:r}=o;return new Promise((e=>{if(l){const e=Object.assign({},u.treeExpandLazyLoadedMaps),{nodeMaps:o}=u,a=R(n),i=o[a];e[a]=!0,u.treeExpandLazyLoadedMaps=e,Promise.resolve(l({$tree:P,node:n})).then((e=>{const{treeExpandLazyLoadedMaps:o}=u;if(i.treeLoaded=!0,o[a]&&(o[a]=!1),rp.isArray(e)||(e=[]),e)return B.loadChildrenNode(n,e).then((o=>{const l=Object.assign({},u.treeExpandedMaps);return o.length&&!l[a]&&(l[a]=!0),u.treeExpandedMaps=l,!r&&B.isCheckedByCheckboxNodeId(a)&&F(o.map((e=>R(e))),!0),W(n),_("load-success",{node:n,data:e},new Event("load-success")),t()}));W(n),_("load-success",{node:n,data:e},new Event("load-success"))})).catch((e=>{const{treeExpandLazyLoadedMaps:t}=u;i.treeLoaded=!1,t[a]&&(t[a]=!1),W(n),_("load-error",{node:n,data:e},new Event("load-error"))})).finally((()=>t()))}else e()}))},q=(t,n)=>{const{lazy:o}=e,{treeExpandedMaps:l,treeExpandLazyLoadedMaps:r}=u,a=R(n),i=!l[a];t.stopPropagation(),o&&r[a]||((t,n)=>{const{lazy:o,accordion:l,toggleMethod:r}=e,{nodeMaps:a,treeExpandLazyLoadedMaps:i}=u,s=Object.assign({},u.treeExpandedMaps),c=y.value,d=C.value,p=[];let m=r?t.filter((e=>r({$tree:P,expanded:n,node:e}))):t;if(l){m=m.length?[m[m.length-1]]:[];const e=R(m[0]),t=a[e];t&&t.items.forEach((e=>{const t=R(e);s[t]&&delete s[t]}))}const f=[];n?m.forEach((e=>{const t=R(e);if(!s[t]){const n=a[t];o&&e[d]&&!n.treeLoaded&&!i[t]?p.push(H(e)):e[c]&&e[c].length&&(s[t]=!0,f.push(e))}})):m.forEach((e=>{const t=R(e);s[t]&&(delete s[t],f.push(e))})),u.treeExpandedMaps=s,f.forEach(W),Promise.all(p)})([n],i)},U=(e,t,n)=>{const o=y.value,l=rp.get(e,o),r=R(e);if(l&&l.length){let e=!1,o=0;l.forEach((l=>{const r=R(l),a=t[r];(a||n[r])&&(a&&o++,e=!0)}));o===l.length?(t[r]||(t[r]=!0),n[r]&&delete n[r]):(t[r]&&delete t[r],n[r]=e)}else n[r]&&delete n[r]},K=(e,t)=>{e.preventDefault(),e.stopPropagation();const n=D.value,{checkStrictly:l,checkMethod:r}=n;let a=!!r;if(r&&(a=!r({node:t})),a)return;const i=Object.assign({},u.selectCheckboxMaps),s=y.value,c=R(t);let d=!1;i[c]?delete i[c]:(d=!0,i[c]=d),l||rp.eachTree(rp.get(t,s),(e=>{const t=R(e);d?i[t]||(i[t]=!0):i[t]&&delete i[t]}),{children:s}),u.selectCheckboxMaps=i,(()=>{const{treeList:e}=u,t=y.value,n=D.value,{checkStrictly:o}=n;if(!o){const n=Object.assign({},u.selectCheckboxMaps),o={};rp.eachTree(e,((e,l,r,a,i,s)=>{const c=rp.get(e,t);if(c&&c.length||U(e,n,o),l===r.length-1)for(let t=s.length-2;t>=0;t--){const e=s[t];U(e,n,o)}})),u.selectCheckboxMaps=n,u.indeterminateCheckboxMaps=o}})();const p=Object.keys(u.selectCheckboxMaps);(e=>{o("update:checkNodeKeys",e)})(p),_("checkbox-change",{node:t,value:p,checked:d},e)},G=(e,t)=>{e.preventDefault();const n=O.value,{currentMethod:o,trigger:l}=n,r=y.value,a=rp.get(t,r),i=a&&a.length;let s=!!o;if("child"===l){if(i)return}else if("parent"===l&&!i)return;if(o&&(s=!o({node:t})),s)return;u.currentNode=t,_("current-change",{node:t,checked:!0},e)},Y=(e,t)=>{e.preventDefault(),e.stopPropagation();const n=T.value,{checkMethod:l}=n;let r=!!l;if(l&&(r=!l({node:t})),r)return;const a=R(t);u.selectRadioKey=a,(e=>{o("update:checkNodeKey",e)})(a),_("radio-change",{node:t,value:a,checked:!0},e)};Object.assign(P,B,{});const X=(t,n,o)=>{const{showRadio:l}=e,r=T.value,{showIcon:a,checkMethod:i,visibleMethod:s}=r,c=!s||s({node:t});let u=!!i;return l&&a&&c?(i&&(u=!i({node:t})),w("div",{class:["vxe-tree--radio-option",{"is--checked":o,"is--disabled":u}],onClick:e=>{u||Y(e,t)}},[w("span",{class:["vxe-radio--icon",o?Fp().RADIO_CHECKED:Fp().RADIO_UNCHECKED]})])):x()},Z=(t,n,o)=>{const{showCheckbox:l}=e,r=D.value,{showIcon:a,checkMethod:i,visibleMethod:s}=r,c=$(n),u=!s||s({node:t});let d=!!i;return l&&a&&u?(i&&(d=!i({node:t})),w("div",{class:["vxe-tree--checkbox-option",{"is--checked":o,"is--indeterminate":c,"is--disabled":d}],onClick:e=>{d||K(e,t)}},[w("span",{class:["vxe-checkbox--icon",c?Fp().CHECKBOX_INDETERMINATE:o?Fp().CHECKBOX_CHECKED:Fp().CHECKBOX_UNCHECKED]})])):x()},Q=t=>{const{lazy:n,showRadio:o,showCheckbox:r,showLine:a,indent:i,iconOpen:s,iconClose:c,iconLoaded:d,showIcon:m}=e,{nodeMaps:f,treeExpandedMaps:g,currentNode:h,selectRadioKey:v,treeExpandLazyLoadedMaps:b}=u,E=y.value,O=p.value,k=C.value,I=rp.get(t,E),M=I&&I.length,P=l.title,V=l.extra,$=R(t),F=g[$],N=f[$],L=rp.get(t,O),B=[];M&&g[$]&&(a&&B.push(w("div",{key:"line",class:"vxe-tree--node-child-line",style:{height:`calc(${N.lineCount} * var(--vxe-ui-tree-node-height) - var(--vxe-ui-tree-node-height) / 2)`,left:(N.level+1)*(i||1)+"px"}})),I.forEach((e=>{B.push(Q(e))})));let j=!1;o&&(j=$==v);let z=!1;r&&(z=A($));let W=!1,H=!1,U=!1;return n&&(H=!!b[$],W=t[k],U=!!N.treeLoaded),w("div",{class:["vxe-tree--node-wrapper",`node--level-${N.level}`],nodeid:$},[w("div",{class:["vxe-tree--node-item",{"is--current":h&&$===R(h),"is-radio--checked":j,"is-checkbox--checked":z}],style:{paddingLeft:(N.level-1)*(i||1)+"px"},onClick(n){((t,n)=>{const{showRadio:o,showCheckbox:l,trigger:r}=e,a=T.value,i=D.value;let s=!1,c=!1,d=!1,p=!1;S.value?(s=!0,G(t,n)):u.currentNode&&(u.currentNode=null),"node"===r&&(p=!0,q(t,n)),o&&"node"===a.trigger&&(c=!0,Y(t,n)),l&&"node"===i.trigger&&(d=!0,K(t,n)),_("node-click",{node:n,triggerCurrent:s,triggerRadio:c,triggerCheckbox:d,triggerExpand:p},t)})(n,t)},onDblclick(e){((e,t)=>{_("node-dblclick",{node:t},e)})(e,t)}},[m||a?w("div",{class:"vxe-tree--node-item-switcher"},m&&(n?U?M:W:M)?[w("div",{class:"vxe-tree--node-item-icon",onClick(e){q(e,t)}},[w("i",{class:H?d||Fp().TREE_NODE_LOADED:F?s||Fp().TREE_NODE_OPEN:c||Fp().TREE_NODE_CLOSE})])]:[]):x(),X(t,0,j),Z(t,$,z),w("div",{class:"vxe-tree--node-item-inner"},[w("div",{class:"vxe-tree--node-item-title"},P?Um(P({node:t})):`${L}`),V?w("div",{class:"vxe-tree--node-item-extra"},Um(V({node:t}))):x()])]),M&&g[$]?w("div",{class:"vxe-tree--node-child-wrapper"},B):x()])},J=()=>{const{treeList:e}=u;return w("div",{class:"vxe-tree--node-list-wrapper"},e.map((e=>Q(e))))},ee=r(0);i((()=>e.data?e.data.length:0),(()=>{ee.value++})),i((()=>e.data),(()=>{ee.value++})),i(ee,(()=>{j(e.data||[])})),i((()=>e.checkNodeKey),(e=>{u.selectRadioKey=e}));const te=r(0);return i((()=>e.checkNodeKeys?e.checkNodeKeys.length:0),(()=>{te.value++})),i((()=>e.checkNodeKeys),(()=>{te.value++})),i(te,(()=>{N(e.checkNodeKeys||[])})),h((()=>{u.treeList=[],u.treeExpandedMaps={},u.nodeMaps={}})),j(e.data||[]),N(e.checkNodeKeys||[]),P.renderVN=()=>{const{loading:t,trigger:n,showLine:o}=e,r=s.value,a=T.value,i=D.value,u=I.value,d=k.value,p=E.value,m=l.loading;return w("div",{ref:c,class:["vxe-tree",{[`size--${r}`]:r,"show--line":o,"checkbox--highlight":i.highlight,"radio--highlight":a.highlight,"node--hover":p,"node--trigger":"node"===n,"is--loading":t}],style:u},[J(),w(Gf,{class:"vxe-tree--loading",modelValue:t,icon:d.icon,text:d.text},m?{default:()=>m({$tree:P})}:{})])},P},render(){return this.renderVN()}});const sb=p({name:"VxeTreeSelect",props:{modelValue:[String,Number,Array],clearable:Boolean,placeholder:{type:String,default:()=>rp.eqNull(Rp().treeSelect.placeholder)?em("vxe.base.pleaseSelect"):Rp().treeSelect.placeholder},readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,className:[String,Function],popupClassName:[String,Function],prefixIcon:String,placement:String,options:Array,optionProps:Object,size:{type:String,default:()=>Rp().select.size||Rp().size},remote:Boolean,remoteMethod:Function,popupConfig:Object,treeConfig:Object,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","blur","focus","click","node-click"],setup(e,n){const{emit:l,slots:a}=n,s=o("$xeModal",null),c=o("$xeDrawer",null),u=o("$xeTable",null),d=o("$xeForm",null),p=o("xeFormItemInfo",null),v=rp.uniqueId(),{computeSize:x}=Sm(e),y=r(),C=r(),E=r(),T=r(),D=m({initialized:!1,fullOptionList:[],fullNodeMaps:{},panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),O={hpTimeout:void 0},k={refElem:y},I=f((()=>{const{readonly:t}=e;return null===t?!!d&&d.props.readonly:t})),M=f((()=>{const{disabled:t}=e;return null===t?!!d&&d.props.disabled:t})),P=f((()=>{const{transfer:t}=e;if(null===t){const e=Rp().select.transfer;if(rp.isBoolean(e))return e;if(u||s||c||d)return!0}return t})),R=f((()=>Object.assign({},Rp().treeSelect.popupConfig,e.popupConfig))),V=f((()=>Object.assign({},Rp().treeSelect.treeConfig,e.treeConfig,{data:void 0}))),A=f((()=>{const e=V.value;return Object.assign({isHover:!0},e.nodeConfig)})),$=f((()=>{const e=V.value;return Object.assign({showIcon:!!e.showCheckbox},e.checkboxConfig,{trigger:"node"})})),F=f((()=>{const e=V.value;return Object.assign({showIcon:!!e.showRadio},e.radioConfig,{trigger:"node"})})),N=f((()=>e.optionProps||{})),L=f((()=>V.value.keyField||"id")),_=f((()=>N.value.label||"label")),B=f((()=>N.value.value||"value")),j=f((()=>N.value.children||"children")),z=f((()=>N.value.parent||"parentField")),W=f((()=>N.value.hasChild||"hasChild")),H=f((()=>{const{modelValue:t}=e,{fullNodeMaps:n}=D,o=_.value;return(rp.isArray(t)?t:[t]).map((e=>{const t=n[e];return t?t.item[o]:e})).join(", ")})),q=f((()=>{const e=R.value,{height:t,width:n}=e,o={};return n&&(o.width=lf(n)),t&&(o.height=lf(t),o.maxHeight=lf(t)),o})),U={},K={xID:v,props:e,context:n,reactData:D,internalData:O,getRefMaps:()=>k,getComputeMaps:()=>U},G=(e,t,n)=>{l(e,Hp(n,{$treeSelect:K},t))},Y={dispatchEvent:G},X=()=>{const{options:t}=e,n=L.value,o=j.value,l=B.value,r={},a={};rp.eachTree(t,((e,t,o,i,s,c)=>{let u=(e=>{const t=e[L.value];return t?encodeURIComponent(t):""})(e);u||(u=rp.uniqueId("node_")),a[u]&&Lm("vxe.error.repeatKey",[n,u]),a[u]=!0;const d=e[l];r[d]&&Lm("vxe.error.repeatKey",[l,d]),r[d]={item:e,index:t,items:o,parent:s,nodes:c}}),{children:o}),D.fullOptionList=t||[],D.fullNodeMaps=r},Z=()=>t().then((()=>{const{placement:n}=e,{panelIndex:o}=D,l=y.value,r=T.value,a=P.value;if(r&&l){const e=l.offsetHeight,i=l.offsetWidth,s=r.offsetHeight,c=r.offsetWidth,u=5,d={zIndex:o},{boundingTop:p,boundingLeft:m,visibleHeight:f,visibleWidth:g}=cf(l);let h="bottom";if(a){let t=m,o=p+e;"top"===n?(h="top",o=p-s):n||(o+s+u>f&&(h="top",o=p-s),o<u&&(h="bottom",o=p+e)),t+c+u>g&&(t-=t+c+u-g),t<u&&(t=u),Object.assign(d,{left:`${t}px`,top:`${o}px`,minWidth:`${i}px`})}else"top"===n?(h="top",d.bottom=`${e}px`):n||p+e+s>f&&p-e-s>u&&(h="top",d.bottom=`${e}px`);return D.panelStyle=d,D.panelPlacement=h,t()}})),Q=()=>{const{loading:t}=e,n=M.value;t||n||(clearTimeout(O.hpTimeout),D.initialized||(D.initialized=!0),D.isActivated=!0,D.isAniVisible=!0,setTimeout((()=>{D.visiblePanel=!0}),10),D.panelIndex<Rf()&&(D.panelIndex=Pf()),Z())},J=()=>{D.visiblePanel=!1,O.hpTimeout=window.setTimeout((()=>{D.isAniVisible=!1}),350)},ee=(t,n)=>{const{fullNodeMaps:o}=D;if(l("update:modelValue",n),n!==e.modelValue){const e=o[n];G("change",{value:n,option:e?e.item:null},t),d&&p&&d.triggerItemEvent(t,p.itemConfig.field,n)}},te=(e,t)=>{((e,t)=>{ee(e,t),G("clear",{value:t},e)})(t,null),J()},ne=e=>{const{visiblePanel:t}=D;if(!M.value&&t){af(e,T.value).flag?Z():J()}},oe=e=>{const{visiblePanel:t}=D;if(!M.value){const n=y.value,o=T.value;D.isActivated=af(e,n).flag||af(e,o).flag,t&&!D.isActivated&&J()}},le=()=>{J()},re=e=>{M.value||D.visiblePanel||(D.triggerFocusPanel=!0,Q(),setTimeout((()=>{D.triggerFocusPanel=!1}),150)),G("focus",{},e)},ae=e=>{se(e),G("click",{},e)},ie=e=>{D.isActivated=!1,G("blur",{},e)},se=e=>{const{$event:t}=e;t.preventDefault(),D.triggerFocusPanel?D.triggerFocusPanel=!1:D.visiblePanel?J():Q()},ce=e=>{const{$event:t}=e;G("node-click",e,t)},ue=e=>{const{value:t,$event:n}=e;ee(n,t),J()},de=e=>{const{value:t,$event:n}=e;ee(n,t)},pe=()=>{X()};Object.assign(K,Y,{});return i((()=>e.options),(()=>{X()})),X(),g((()=>{qp.on(K,"mousewheel",ne),qp.on(K,"mousedown",oe),qp.on(K,"blur",le)})),h((()=>{qp.off(K,"mousewheel"),qp.off(K,"mousedown"),qp.off(K,"blur")})),b("$xeTreeSelect",K),K.renderVN=()=>{const{className:t,modelValue:n,multiple:o,options:l,loading:r}=e,{initialized:i,isActivated:s,isAniVisible:c,visiblePanel:u}=D,d=x.value,p=M.value,m=H.value,f=P.value,g=I.value,h=q.value,v=a.header,b=a.footer,O=a.prefix,k=R.value.className||e.popupClassName,N=V.value,U=A.value,G=$.value,Y=F.value,X=L.value,Z=_.value,Q=B.value,J=j.value,ee=z.value,ne=W.value;return g?w("div",{ref:y,class:["vxe-tree-select--readonly",t]},[w("span",{class:"vxe-tree-select-label"},m)]):w("div",{ref:y,class:["vxe-tree-select",t?rp.isFunction(t)?t({$treeSelect:K}):t:"",{[`size--${d}`]:d,"is--visible":u,"is--disabled":p,"is--loading":r,"is--active":s}]},[w(Mg,{ref:C,clearable:e.clearable,placeholder:r?em("vxe.select.loadingText"):e.placeholder,readonly:!0,disabled:p,type:"text",prefixIcon:e.prefixIcon,suffixIcon:r?Fp().TREE_SELECT_LOADED:u?Fp().TREE_SELECT_OPEN:Fp().TREE_SELECT_CLOSE,modelValue:r?"":m,onClear:te,onClick:ae,onFocus:re,onBlur:ie,onSuffixClick:se},O?{prefix:()=>O({})}:{}),w(S,{to:"body",disabled:!f||!i},[w("div",{ref:T,class:["vxe-table--ignore-clear vxe-tree-select--panel",k?rp.isFunction(k)?k({$treeSelect:K}):k:"",{[`size--${d}`]:d,"is--transfer":f,"ani--leave":!r&&c,"ani--enter":!r&&u}],placement:D.panelPlacement,style:D.panelStyle},i?[w("div",{class:"vxe-tree-select--panel-wrapper"},[v?w("div",{class:"vxe-tree-select--panel-header"},v({})):Pm(),w("div",{class:"vxe-tree-select--panel-body"},[w("div",{ref:E,class:"vxe-tree-select-tree--wrapper",style:h},[w(ib,{class:"vxe-tree-select--tree",data:l,indent:N.indent,showRadio:!o,radioConfig:Y,checkNodeKey:o?null:n,showCheckbox:!!o,checkNodeKeys:o?n:null,checkboxConfig:G,titleField:Z,valueField:Q,keyField:X,childrenField:N.childrenField||J,parentField:N.parentField||ee,hasChildField:N.hasChildField||ne,accordion:N.accordion,nodeConfig:U,lazy:N.lazy,loadMethod:N.loadMethod,toggleMethod:N.toggleMethod,transform:N.transform,trigger:N.trigger,showIcon:N.showIcon,showLine:N.showLine,iconOpen:N.iconOpen,iconLoaded:N.iconLoaded,iconClose:N.iconClose,onNodeClick:ce,onRadioChange:ue,onCheckboxChange:de,onLoadSuccess:pe})])]),b?w("div",{class:"vxe-tree-select--panel-footer"},b({})):Pm()])]:[])])])},K},render(){return this.renderVN()}}),cb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r}=o,{options:a}=r,i=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>w(sb,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder||em("vxe.base.pleaseSelect"),options:a.options,optionProps:{label:"value",value:"value"},onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),ub=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{renderDataSourceFormItem:t}=Dv(e,{isSubOption:!1}),{computeKebabCaseName:n}=Cv(e);return()=>{const{renderParams:o}=e,{widget:l}=o,r=n.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${r}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),w(Yh,{title:em("vxe.formDesign.widgetProp.required")},{default:()=>w(Xh,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})}),t()]})}}}),db=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r}=o,{options:a}=r,i=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>w(uv,{modelValue:t?t.getItemValue(r):null,options:a.options,optionProps:{label:"value",value:"value"},onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),pb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{renderDataSourceFormItem:t}=Dv(e,{isSubOption:!1}),{computeKebabCaseName:n}=Cv(e);return()=>{const{renderParams:o}=e,{widget:l}=o,r=n.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${r}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),w(Yh,{title:em("vxe.formDesign.widgetProp.required")},{default:()=>w(Xh,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})}),t()]})}}}),mb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r}=o,{options:a}=r,i=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>w(ig,{modelValue:t?t.getItemValue(r):null,options:a.options,optionProps:{label:"value",value:"value"},onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}});function fb(){const e=[{label:"无限制",value:""}];return[1,2,5,10,20,50,100,200,500].forEach((t=>{e.push({label:`${t}M`,value:t})})),e}const gb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Cv(e),n=r(fb());return()=>{const{renderParams:o}=e,{widget:l}=o,{options:r}=l,a=t.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${a}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:r},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.uploadProp.multiFile"),field:"multiple",itemRender:{name:"VxeSwitch"}}),r.multiple?w(Yh,{title:em("vxe.formDesign.widgetProp.uploadProp.limitFileCount"),field:"limitCount",itemRender:{name:"VxeInput",props:{type:"integer",min:1,clearable:!0}}}):x(),w(Yh,{title:em("vxe.formDesign.widgetProp.uploadProp.limitFileSize"),field:"limitSize",itemRender:{name:"VxeSelect",options:n.value}}),w(Yh,{title:em("vxe.formDesign.widgetProp.required")},{default:()=>w(Xh,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})})]})}}});let hb=null,vb=null;function bb(e){const t=e.name,n=rp.lastIndexOf(t,"."),o=t.substring(n+1,t.length).toLowerCase();return{filename:t.substring(0,n),type:o}}const xb=e=>{const t=Object.assign({},e);return new Promise(((e,n)=>{vb||(vb=document.createElement("input"),vb.name="file",vb.type="file"),hb||(hb=document.createElement("form"),hb.style.display="none",hb.appendChild(vb),document.body.appendChild(hb));const o=t.types||[],l=!o.length||o.some((e=>"*"===e));vb.multiple=!!t.multiple,vb.accept=l?"":`.${o.join(", .")}`,vb.onchange=r=>{const a=r.target,i=Array.from(a.files||[]),s=i[0];let c="";if(!l)for(let e=0;e<i.length;e++){const{type:t}=bb(i[e]);if(!rp.includes(o,t)){c=t;break}}if(c){!1!==t.message&&Rm.modal&&Rm.modal.message({content:em("vxe.error.notType",[c]),status:"error"});n({status:!1,files:i,file:s})}else e({status:!0,files:i,file:s})},hb.reset(),vb.click()}))};const yb=e=>{const t=Object.assign({type:""},e),{filename:n,type:o,content:l}=t,r=o?`${n}.${o}`:`${n}`;if(window.Blob){const e=l instanceof Blob?l:function(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}(rp.toValueString(l),t),n=window.navigator;if(n.msSaveBlob)n.msSaveBlob(e,r);else{const t=URL.createObjectURL(e),n=document.createElement("a");n.target="_blank",n.download=r,n.href=t,document.body.appendChild(n),n.click(),requestAnimationFrame((()=>{n.parentNode&&n.parentNode.removeChild(n),URL.revokeObjectURL(t)}))}return Promise.resolve()}return Promise.reject(new Error(em("vxe.error.notExp")))},wb=p({name:"VxeUpload",props:{modelValue:[Array,String,Object],showList:{type:Boolean,default:()=>Rp().upload.showList},moreConfig:Object,readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},mode:{type:String,default:()=>Rp().upload.mode},imageTypes:{type:Array,default:()=>rp.clone(Rp().upload.imageTypes,!0)},imageConfig:{type:Object,default:()=>rp.clone(Rp().upload.imageConfig,!0)},imageStyle:{type:Object,default:()=>rp.clone(Rp().upload.imageStyle,!0)},fileTypes:{type:Array,default:()=>rp.clone(Rp().upload.fileTypes,!0)},dragSort:Boolean,dragToUpload:{type:Boolean,default:()=>rp.clone(Rp().upload.dragToUpload,!0)},pasteToUpload:{type:Boolean,default:()=>rp.clone(Rp().upload.pasteToUpload,!0)},keyField:String,singleMode:Boolean,urlMode:Boolean,multiple:Boolean,limitSize:{type:[String,Number],default:()=>Rp().upload.limitSize},limitCount:{type:[String,Number],default:()=>Rp().upload.limitCount},nameField:{type:String,default:()=>Rp().upload.nameField},typeField:{type:String,default:()=>Rp().upload.typeField},urlField:{type:String,default:()=>Rp().upload.urlField},sizeField:{type:String,default:()=>Rp().upload.sizeField},showErrorStatus:{type:Boolean,default:()=>Rp().upload.showErrorStatus},showProgress:{type:Boolean,default:()=>Rp().upload.showProgress},progressText:{type:String,default:()=>Rp().upload.progressText},autoHiddenButton:{type:Boolean,default:()=>Rp().upload.autoHiddenButton},showUploadButton:{type:Boolean,default:()=>Rp().upload.showUploadButton},buttonText:{type:String,default:()=>Rp().upload.buttonText},buttonIcon:{type:String,default:()=>Rp().upload.buttonIcon},showButtonText:{type:Boolean,default:()=>Rp().upload.showButtonText},showButtonIcon:{type:Boolean,default:()=>Rp().upload.showButtonIcon},showRemoveButton:{type:Boolean,default:()=>Rp().upload.showRemoveButton},showDownloadButton:{type:Boolean,default:()=>Rp().upload.showDownloadButton},showPreview:{type:Boolean,default:()=>Rp().upload.showPreview},tipText:String,hintText:String,previewMethod:Function,uploadMethod:Function,beforeRemoveMethod:Function,removeMethod:Function,beforeDownloadMethod:Function,downloadMethod:Function,getUrlMethod:Function,getThumbnailUrlMethod:Function,size:{type:String,default:()=>Rp().upload.size||Rp().size}},emits:["update:modelValue","add","remove","remove-fail","download","download-fail","upload-success","upload-error","sort-dragend"],setup(e,t){const{emit:n,slots:l}=t,a=o("$xeForm",null),s=o("xeFormItemInfo",null),c=o("$xeTable",null),u=rp.uniqueId(),{computeSize:d}=Sm(e),p=r(),v=r(),b=r(),y=r(),C=m({isDragUploadStatus:!1,showMorePopup:!1,isActivated:!1,fileList:[],fileCacheMaps:{},isDragMove:!1,dragIndex:-1,dragTipText:""}),S={imagePreviewTypes:["jpg","jpeg","png","gif"],prevDragIndex:-1},T={refElem:p},D=f((()=>{const{readonly:t}=e;return null===t?!!a&&a.props.readonly:t})),O=f((()=>{const{disabled:t}=e;return null===t?!!a&&a.props.disabled:t})),k=f((()=>e.keyField||"_X_KEY")),I=f((()=>"image"===e.mode)),M=f((()=>e.nameField||"name")),P=f((()=>e.typeField||"type")),R=f((()=>e.urlField||"url")),V=f((()=>e.sizeField||"size")),A=f((()=>1024*rp.toNumber(e.limitSize)*1024)),$=f((()=>e.multiple?rp.toNumber(e.limitCount):1)),F=f((()=>{const{multiple:t}=e,{fileList:n}=C,o=$.value;return t?!o||n.length>=o:n.length>=1})),N=f((()=>{const t=rp.toNumber(e.limitSize);return t?t>1048576?t/1048576+"T":t>1024?t/1024+"G":`${t}M`:""})),L=f((()=>{const{limitSize:t,fileTypes:n,multiple:o,limitCount:l}=e,r=e.tipText||e.hintText,a=I.value,i=N.value;if(rp.isString(r))return r;const s=[];return a?(o&&l&&s.push(em("vxe.upload.imgCountHint",[l])),t&&i&&s.push(em("vxe.upload.imgSizeHint",[i]))):(n&&n.length&&s.push(em("vxe.upload.fileTypeHint",[n.join("/")])),t&&i&&s.push(em("vxe.upload.fileSizeHint",[i])),o&&l&&s.push(em("vxe.upload.fileCountHint",[l]))),s.join(em("vxe.base.comma"))})),_=f((()=>Object.assign({},e.imageConfig||e.imageStyle))),B=f((()=>{const e=_.value,{width:t,height:n}=e,o={};return t&&(o.width=lf(t)),n&&(o.height=lf(n)),o})),j=f((()=>Object.assign({showMoreButton:!0},e.moreConfig))),z={},W={xID:u,props:e,context:t,reactData:C,internalData:S,getRefMaps:()=>T,getComputeMaps:()=>z},H=()=>rp.uniqueId(),q=e=>e[k.value],U=()=>{const{modelValue:t,multiple:n}=e,o=D.value,l=k.value,r=M.value,a=P.value,i=R.value,s=V.value,c=t?(t?rp.isArray(t)?t:[t]:[]).map((e=>{if(!e||rp.isString(e)){const t=`${e||""}`,n=rp.parseUrl(e),o=(n?n.searchQuery[r]:"")||K(t);return{[r]:o,[a]:(n?n.searchQuery[a]:"")||G(o),[i]:t,[s]:rp.toNumber(n?n.searchQuery[s]:0)||0,[l]:H()}}const t=e[r]||"";return e[r]=t,e[a]=e[a]||G(t),e[i]=e[i]||"",e[s]=e[s]||0,e[l]=e[l]||H(),e})):[];C.fileList=o||n?c:c.slice(0,1)},K=e=>decodeURIComponent(`${e||""}`).split("/").pop()||"",G=e=>{const t=e.lastIndexOf(".");return t>0?e.substring(t+1).toLowerCase():""},Y=(e,t,o)=>{n(e,Hp(o,{$upload:W},t))},X=t=>{const{singleMode:o,urlMode:l}=e,r=R.value,a=M.value;let i=t?t.slice(0):[];l&&(i=i.map((e=>{const t=e[r];if(t){if(!rp.parseUrl(t).searchQuery[a])return`${t}${-1===t.indexOf("?")?"?":"&"}${a}=${encodeURIComponent(e[a]||"")}`}return t}))),n("update:modelValue",o?i[0]||null:i)},Z=t=>{const n=e.getThumbnailUrlMethod||Rp().upload.getThumbnailUrlMethod;return n?n({$upload:W,option:t}):Q(t)},Q=t=>{const n=e.getUrlMethod||Rp().upload.getUrlMethod,o=R.value;return n?n({$upload:W,option:t}):t[o]},J=(t,n)=>{const o=e.previewMethod||Rp().upload.previewMethod;e.showPreview&&(o?o({$upload:W,option:n}):(t=>{const{imageTypes:n,showDownloadButton:o}=e,l=P.value,r=e.beforeDownloadMethod||Rp().upload.beforeDownloadMethod,{imagePreviewTypes:a}=S;a.concat(n||[]).some((e=>`${e}`.toLowerCase()===`${t[l]}`.toLowerCase()))&&Rm.previewImage&&Rm.previewImage({urlList:[Q(t)],showDownloadButton:o,beforeDownloadMethod:r?()=>r({$upload:W,option:t}):void 0})})(n))},ee=(t,n)=>{const{showErrorStatus:o}=e,l=q(t),r=e.uploadMethod||Rp().upload.uploadMethod;if(r)return Promise.resolve(r({$upload:W,file:n,option:t,updateProgress(e){const{fileCacheMaps:n}=C,o=n[q(t)];o&&(o.percent=Math.max(0,Math.min(99,rp.toNumber(e))))}})).then((e=>{const{fileCacheMaps:n}=C,o=n[l];o&&(o.percent=100),Object.assign(t,e),Y("upload-success",{option:t,data:e},null)})).catch((e=>{const{fileCacheMaps:n}=C,r=n[l];r&&(r.status="error"),o?Object.assign(t,e):C.fileList=C.fileList.filter((e=>q(e)!==l)),Y("upload-error",{option:t,data:e},null)})).finally((()=>{const{fileCacheMaps:e}=C,t=e[l];t&&(t.loading=!1)}));{const{fileCacheMaps:e}=C,t=e[l];t&&(t.loading=!1)}return Promise.resolve()},te=t=>{const{uploadMethod:n,urlMode:o}=e,{fileCacheMaps:l}=C,r=l[q(t)];if((n||Rp().upload.uploadMethod)&&r){const e=r.file;r.loading=!0,r.status="",r.percent=0,ee(t,e).then((()=>{o&&X(C.fileList)}))}},ne=(t,n)=>{const{multiple:o,urlMode:l}=e,{fileList:r}=C,i=e.uploadMethod||Rp().upload.uploadMethod,c=k.value,u=M.value,d=P.value,p=R.value,f=V.value,g=A.value,h=$.value,v=N.value;let b=t;if(o&&h){if(r.length>=h)return void(Rm.modal&&Rm.modal.notification({title:em("vxe.modal.errTitle"),status:"error",content:em("vxe.upload.overCountErr",[h])}));const e=b.length-(h-r.length);if(e>0){const t=b.slice(h-r.length);Rm.modal&&Rm.modal.notification({title:em("vxe.modal.errTitle"),status:"error",width:null,slots:{default:()=>w("div",{class:"vxe-upload--file-message-over-error"},[w("div",{},em("vxe.upload.overCountExtraErr",[h,e])),w("div",{class:"vxe-upload--file-message-over-extra"},t.map(((e,t)=>w("div",{key:t,class:"vxe-upload--file-message-over-extra-item"},e.name))))])}})}b=b.slice(0,h-r.length)}if(g)for(let e=0;e<t.length;e++){if(t[0].size>g)return void(Rm.modal&&Rm.modal.notification({title:em("vxe.modal.errTitle"),status:"error",content:em("vxe.upload.overSizeErr",[v])}))}const x=Object.assign({},C.fileCacheMaps),y=o?r:[],S=[];b.forEach((e=>{const{name:t}=e,o=H(),l={[u]:t,[d]:G(t),[f]:e.size,[p]:"",[c]:o};i&&(x[o]={file:e,loading:!0,status:"",percent:0});const r=m(l);i&&S.push(ee(r,e)),y.push(r),Y("add",{option:r},n)})),C.fileList=y,C.fileCacheMaps=x,Promise.all(l?S:[]).then((()=>{X(y),a&&s&&a.triggerItemEvent(n,s.itemConfig.field,y)}))},oe=t=>{const{multiple:n,imageTypes:o,fileTypes:l}=e,r=O.value,a=I.value;return r?Promise.resolve({status:!1,files:[],file:null}):xb({multiple:n,types:a?o:l}).then((e=>(ne(e.files,t),e)))},le=e=>{oe(e).catch((()=>{}))},re=(e,t,n)=>{const{fileList:o}=C;o.splice(n,1),X(o),a&&s&&a.triggerItemEvent(e,s.itemConfig.field,o),Y("remove",{option:t},e)},ae=(t,n,o)=>{const l=e.beforeRemoveMethod||Rp().upload.beforeRemoveMethod,r=e.removeMethod||Rp().upload.removeMethod;Promise.resolve(!l||l({$upload:W,option:n})).then((e=>{e?r?Promise.resolve(r({$upload:W,option:n})).then((()=>{re(t,n,o)})).catch((e=>e)):re(t,n,o):Y("remove-fail",{option:n},t)}))},ie=(e,t)=>{Y("download",{option:t},e)},se=e=>{const t=e.currentTarget,{clientX:n,clientY:o}=e;if(t){const{x:e,y:l,height:r,width:a}=t.getBoundingClientRect();(n<e||n>e+a||o<l||o>l+r)&&(C.isDragUploadStatus=!1)}},ce=e=>{const t=e.dataTransfer;if(t){const{items:n}=t;n&&n.length&&(e.preventDefault(),C.isDragUploadStatus=!0)}},ue=(t,n)=>{const{imageTypes:o}=e,{imagePreviewTypes:l}=S;if(I.value){const e=l.concat(o&&o.length?o:[]);n=n.filter((t=>{const n=`${t.type.split("/")[1]||""}`.toLowerCase();return!!e.some((e=>`${e}`.toLowerCase()===n))}))}n.length?ne(n,t):Rm.modal&&Rm.modal.notification({title:em("vxe.modal.errTitle"),status:"error",content:em("vxe.upload.uploadTypeErr")})},de=e=>{const t=e.dataTransfer;if(t){const{items:n}=t;if(n&&n.length){e.preventDefault();const t=pe(n);t.length&&ue(e,t)}}C.isDragUploadStatus=!1},pe=e=>{const t=[];return rp.arrayEach(e,(e=>{const n=e.getAsFile();n&&t.push(n)})),t},me=()=>{const t=D.value,n=I.value;Rm.modal&&Rm.modal.open({title:em(t?"vxe.upload.morePopup.readTitle":"vxe.upload.morePopup."+(n?"imageTitle":"fileTitle")),width:660,height:500,escClosable:!0,showMaximize:!0,resize:!0,maskClosable:!0,slots:{default(){const{showErrorStatus:o,dragToUpload:l,dragSort:r}=e,{isActivated:a,isDragMove:i,isDragUploadStatus:s,dragIndex:c}=C,{fileList:u}=C,d=O.value,p={};return l&&-1===c&&(p.onDragover=ce,p.onDragleave=se,p.onDrop=de),w("div",Object.assign({ref:v,class:["vxe-upload--more-popup",{"is--readonly":t,"is--disabled":d,"is--active":a,"show--error":o,"is--drag":s}]},p),[n?r?w(E,{name:"vxe-upload--drag-list"+(i?"":"-disabled"),tag:"div",class:"vxe-upload--image-more-list"},{default:()=>De(u,!0).concat(Oe(!0))}):w("div",{class:"vxe-upload--image-more-list"},De(u,!0).concat(Oe(!0))):w("div",{class:"vxe-upload--file-more-list"},[Ee(!0),r?w(E,{name:"vxe-upload--drag-list"+(i?"":"-disabled"),tag:"div",class:"vxe-upload--file-list"},{default:()=>Se(u,!1)}):w("div",{class:"vxe-upload--file-list"},Se(u,!0))]),r?w("div",{ref:y,class:"vxe-upload--drag-line"}):Pm(),s?w("div",{class:"vxe-upload--drag-placeholder"},em("vxe.upload.dragPlaceholder")):Pm()])}},onShow(){C.showMorePopup=!0},onHide(){C.showMorePopup=!1}})},fe=(e,t,n)=>{const{showMorePopup:o}=C,l=p.value,r=v.value,a=o?r:l;if(!a)return;const i=a.getBoundingClientRect(),s=b.value,c=y.value,u=o?c:s;if(u){const e=t.getBoundingClientRect();u.style.display="block",u.style.top=`${Math.max(1,e.y-i.y)}px`,u.style.left=`${Math.max(1,e.x-i.x)}px`,u.style.height=`${e.height}px`,u.style.width=e.width-1+"px",u.setAttribute("drag-pos",n)}},ge=e=>{e.stopPropagation(),e.dataTransfer&&e.dataTransfer.setDragImage(Zm||Qm(),0,0);const t=e.currentTarget,n=t.parentElement,o=rp.findIndexOf(Array.from(n.children),(e=>t===e));C.isDragMove=!0,C.dragIndex=o,setTimeout((()=>{C.isDragMove=!1}),500)},he=e=>{e.stopPropagation(),e.preventDefault();const{dragIndex:t}=C;if(-1===t)return;const n=I.value,o=e.currentTarget,l=o.parentElement,r=rp.findIndexOf(Array.from(l.children),(e=>o===e));let a="";if(n){a=e.clientX-o.getBoundingClientRect().x<o.clientWidth/2?"left":"right"}else{a=e.clientY-o.getBoundingClientRect().y<o.clientHeight/2?"top":"bottom"}t!==r?(fe(0,o,a),S.prevDragIndex=r,S.prevDragPos=a):fe(0,o,a)},ve=e=>{const{fileList:t,dragIndex:n}=C,{prevDragIndex:o,prevDragPos:l}=S,r=n,a=o,i="bottom"===l||"right"===l?1:0,s=t[r],c=t[a];if(s&&c){t.splice(r,1);const n=rp.findIndexOf(t,(e=>c===e))+i;t.splice(n,0,s),Y("sort-dragend",{oldItem:s,newItem:c,dragPos:l,offsetIndex:i,_index:{newIndex:n,oldIndex:r}},e)}(()=>{const e=b.value,t=y.value;e&&(e.style.display=""),t&&(t.style.display="")})(),C.dragIndex=-1},be=e=>{c&&e.stopPropagation(),C.isActivated=!0},xe=t=>{const{pasteToUpload:n}=e,{isActivated:o}=C;if(!o||!n)return;const l=t.clipboardData||t.originalEvent.clipboardData;if(!l)return;const{items:r}=l;if(!r)return;const a=pe(r);a.length&&(t.preventDefault(),ue(t,a))},ye=e=>{const t=p.value,n=v.value;let o=af(e,t).flag;if(!o&&n){const t=n.parentElement||n;o=af(e,t?t.parentElement:t).flag}C.isActivated=o},we=()=>{C.isActivated=!1},Ce={dispatchEvent:Y,choose:()=>oe(null)};Object.assign(W,Ce,{});const Se=(t,n)=>{const{showRemoveButton:o,showDownloadButton:r,showProgress:a,progressText:i,showPreview:s,showErrorStatus:c,dragSort:u}=e,{fileCacheMaps:d}=C,p=O.value,m=D.value,f=M.value,g=P.value,h=l.corner,v={};return u&&t.length>1&&(v.onDragstart=ge,v.onDragover=he,v.onDragend=ve),t.map(((t,l)=>{const b=q(t),y=d[b],C=y&&y.loading,S=y&&"error"===y.status;return w("div",Object.assign({key:u?b:l,class:["vxe-upload--file-item",{"is--preview":s,"is--loading":C,"is--error":S}],fileid:b,draggable:!!u||null},v),[w("div",{class:"vxe-upload--file-item-icon"},[w("i",{class:Fp()[`UPLOAD_FILE_TYPE_${`${t[g]}`.toLocaleUpperCase()}`]||Fp().UPLOAD_FILE_TYPE_DEFAULT})]),w("div",{class:"vxe-upload--file-item-name",onClick(e){C||S||J(0,t)}},`${t[f]||""}`),C?w("div",{class:"vxe-upload--file-item-loading-icon"},[w("i",{class:Fp().UPLOAD_LOADING})]):x(),a&&C&&y?w("div",{class:"vxe-upload--file-item-loading-text"},i?rp.toFormatString(i,{percent:y.percent}):em("vxe.upload.uploadProgress",[y.percent])):x(),c&&S?w("div",{class:"vxe-upload--image-item-error"},[w(Nf,{icon:Fp().UPLOAD_IMAGE_RE_UPLOAD,mode:"text",status:"primary",content:em("vxe.upload.reUpload"),onClick(){te(t)}})]):x(),w("div",{class:"vxe-upload--file-item-btn-wrapper"},[h?w("div",{class:"vxe-upload--file-item-corner"},Um(h({option:t,isMoreView:n,readonly:m}))):x(),r&&!C?w("div",{class:"vxe-upload--file-item-download-btn",onClick(n){((t,n)=>{const o=e.beforeDownloadMethod||Rp().upload.beforeDownloadMethod,l=e.downloadMethod||Rp().upload.downloadMethod;Promise.resolve(!o||o({$upload:W,option:n})).then((e=>{e?l?Promise.resolve(l({$upload:W,option:n})).then((()=>{ie(t,n)})).catch((e=>e)):ie(t,n):Y("download-fail",{option:n},t)}))})(n,t)}},[w("i",{class:Fp().UPLOAD_FILE_DOWNLOAD})]):x(),!o||m||p||C?x():w("div",{class:"vxe-upload--file-item-remove-btn",onClick(e){ae(e,t,l)}},[w("i",{class:Fp().UPLOAD_FILE_REMOVE})])])])}))},Ee=t=>{const{showUploadButton:n,buttonText:o,buttonIcon:r,showButtonText:a,showButtonIcon:i,autoHiddenButton:s}=e,c=O.value,u=D.value,d=L.value,p=F.value,m=l.default,f=l.tip||l.hint;return u||!n?x():w("div",{class:"vxe-upload--file-action"},[s&&p?x():w("div",{class:"vxe-upload--file-action-btn",onClick:le},m?Um(m({$upload:W})):[w(Nf,{class:"vxe-upload--file-action-button",content:t||a?o?`${o}`:em("vxe.upload.fileBtnText"):"",icon:i?r||Fp().UPLOAD_FILE_ADD:"",disabled:c})]),t&&(d||f)?w("div",{class:"vxe-upload--file-action-tip"},f?Um(f({$upload:W})):d):x()])},Te=()=>{const{moreConfig:t,dragSort:n}=e,{fileList:o,isDragMove:l}=C,r=j.value,{maxCount:a,showMoreButton:i,layout:s}=r,c="horizontal"===s;let u=o,d=0;return a&&o.length>a&&(d=o.length-a,u=o.slice(0,a)),w("div",{key:"all",class:"vxe-upload--file-wrapper"},[i&&t&&c?x():Ee(!0),u.length||i&&c?w("div",{class:["vxe-upload--file-list-wrapper",{"is--horizontal":c}]},[u.length?n?w(E,{name:"vxe-upload--drag-list"+(l?"":"-disabled"),tag:"div",class:"vxe-upload--file-list"},{default:()=>Se(u,!1)}):w("div",{class:"vxe-upload--file-list"},Se(u,!1)):x(),i&&d?w("div",{class:"vxe-upload--file-over-more"},[w(Nf,{mode:"text",content:em("vxe.upload.moreBtnText",[o.length]),status:"primary",onClick:me})]):x(),i&&t&&c?Ee(!1):x()]):x()])},De=(t,n)=>{const{showRemoveButton:o,showProgress:r,progressText:a,showPreview:i,showErrorStatus:s,dragSort:c}=e,{fileCacheMaps:u}=C,d=O.value,p=D.value,m=_.value,f=B.value,g=l.corner,h={onMousedown:be};return c&&t.length>1&&(h.onDragstart=ge,h.onDragover=he,h.onDragend=ve),t.map(((t,l)=>{const v=q(t),b=u[v],y=b&&b.loading,S=b&&"error"===b.status;return w("div",Object.assign({key:c?v:l,class:["vxe-upload--image-item",{"is--preview":i,"is--circle":m.circle,"is--loading":y,"is--error":S}],fileid:v,draggable:!!c||null},h),[w("div",{class:"vxe-upload--image-item-box",style:n?null:f,title:em("vxe.upload.viewItemTitle"),onClick(t){y||S||((t,n,o)=>{const{showDownloadButton:l}=e,{fileList:r}=C,a=e.beforeDownloadMethod||Rp().upload.beforeDownloadMethod;e.showPreview&&Rm.previewImage&&Rm.previewImage({urlList:r.map((e=>Q(e))),activeIndex:o,showDownloadButton:l,beforeDownloadMethod:a?({index:e})=>a({$upload:W,option:r[e]}):void 0})})(0,0,l)}},[y&&b?w("div",{class:"vxe-upload--image-item-loading"},[w("div",{class:"vxe-upload--image-item-loading-icon"},[w("i",{class:Fp().UPLOAD_LOADING})]),r?w("div",{class:"vxe-upload--image-item-loading-text"},a?rp.toFormatString(a,{percent:b.percent}):em("vxe.upload.uploadProgress",[b.percent])):x()]):x(),y?x():S&&s?w("div",{class:"vxe-upload--image-item-error"},[w(Nf,{icon:Fp().UPLOAD_IMAGE_RE_UPLOAD,mode:"text",status:"primary",content:em("vxe.upload.reUpload"),onClick(){te(t)}})]):w("div",{class:"vxe-upload--image-item-img-wrapper"},[w("img",{class:"vxe-upload--image-item-img",src:Z(t)})]),w("div",{class:"vxe-upload--image-item-btn-wrapper",onClick(e){e.stopPropagation()}},[g?w("div",{class:"vxe-upload--file-item-corner"},Um(g({option:t,isMoreView:n,readonly:p}))):x(),!o||p||d||y?x():w("div",{class:"vxe-upload--image-item-remove-btn",onClick(e){e.stopPropagation(),ae(e,t,l)}},[w("i",{class:Fp().UPLOAD_IMAGE_REMOVE})])])])])}))},Oe=t=>{const{showUploadButton:n,buttonText:o,buttonIcon:r,showButtonText:a,showButtonIcon:i,autoHiddenButton:s}=e,c=D.value,u=L.value,d=F.value,p=B.value,m=l.default,f=l.hint;return c||!n||s&&d?x():w("div",{key:"action",class:"vxe-upload--image-action"},[w("div",{class:"vxe-upload--image-action-btn",onClick:le},m?m({$upload:W}):[w("div",{class:"vxe-upload--image-action-box",style:t?null:p},[i?w("div",{class:"vxe-upload--image-action-icon"},[w("i",{class:r||Fp().UPLOAD_IMAGE_ADD})]):x(),t||a?w("div",{class:"vxe-upload--image-action-content"},o?`${o}`:em("vxe.upload.imgBtnText")):x(),t&&(u||f)?w("div",{class:"vxe-upload--image-action-hint"},f?Um(f({$upload:W})):u):x()])])])},ke=()=>{const{dragSort:t}=e,{fileList:n,isDragMove:o}=C,l=j.value,{maxCount:r,showMoreButton:a}=l;let i=n,s=0;return r&&n.length>r&&(s=n.length-r,i=n.slice(0,r)),w("div",{key:"image",class:"vxe-upload--image-wrapper"},[t?w(E,{name:"vxe-upload--drag-list"+(o?"":"-disabled"),tag:"div",class:"vxe-upload--image-list"},{default:()=>De(i,!1).concat([a&&s?w("div",{key:"om",class:"vxe-upload--image-over-more"},[w(Nf,{mode:"text",content:em("vxe.upload.moreBtnText",[n.length]),status:"primary",onClick:me})]):x(),Oe(!1)])}):w("div",{class:"vxe-upload--image-list"},De(i,!1).concat([a&&s?w("div",{class:"vxe-upload--image-over-more"},[w(Nf,{mode:"text",content:em("vxe.upload.moreBtnText",[n.length]),status:"primary",onClick:me})]):x(),Oe(!1)]))])},Ie=r(0);return i((()=>e.modelValue?e.modelValue.length:0),(()=>{Ie.value++})),i((()=>e.modelValue),(()=>{Ie.value++})),i(Ie,(()=>{U()})),g((()=>{e.dragSort&&Qm(),qp.on(W,"paste",xe),qp.on(W,"mousedown",ye),qp.on(W,"blur",we)})),h((()=>{C.isDragUploadStatus=!1,qp.off(W,"paste"),qp.off(W,"mousedown"),qp.off(W,"blur")})),U(),W.renderVN=()=>{const{showErrorStatus:t,dragToUpload:n,pasteToUpload:o,dragSort:l}=e,{isDragUploadStatus:r,showMorePopup:a,isActivated:i,dragIndex:s}=C,c=d.value,u=O.value,m=D.value,f=I.value,g={onMousedown:be};return n&&-1===s&&(g.onDragover=ce,g.onDragleave=se,g.onDrop=de),w("div",Object.assign({ref:p,class:["vxe-upload",{[`size--${c}`]:c,"is--active":i,"is--readonly":m,"is--disabled":u,"is--paste":o,"show--error":t,"is--drag":r}]},g),[f?ke():Te(),l?w("div",{ref:b,class:"vxe-upload--drag-line"}):Pm(),r&&!a?w("div",{class:"vxe-upload--drag-placeholder"},em("vxe.upload.dragPlaceholder")):Pm()])},W},render(){return this.renderVN()}}),Cb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r}=o,{options:a}=r,i=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>w(wb,{modelValue:t?t.getItemValue(r):null,mode:"all",multiple:a.multiple,limitCount:a.limitCount,limitSize:a.limitSize,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Sb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Cv(e),n=r(fb());return()=>{const{renderParams:o}=e,{widget:l}=o,{options:r}=l,a=t.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${a}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:r},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),w(Yh,{title:em("vxe.formDesign.widgetProp.uploadProp.multiImg"),field:"multiple",itemRender:{name:"VxeSwitch"}}),r.multiple?w(Yh,{title:em("vxe.formDesign.widgetProp.uploadProp.limitImgCount"),field:"limitCount",itemRender:{name:"VxeInput",props:{type:"integer",min:1,clearable:!0}}}):x(),w(Yh,{title:em("vxe.formDesign.widgetProp.uploadProp.limitImgSize"),field:"limitSize",itemRender:{name:"VxeSelect",options:n.value}}),w(Yh,{title:em("vxe.formDesign.widgetProp.required")},{default:()=>w(Xh,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})})]})}}}),Eb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r}=o,{options:a}=r,i=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>w(wb,{modelValue:t?t.getItemValue(r):null,mode:"image",multiple:a.multiple,limitCount:a.limitCount,limitSize:a.limitSize,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Tb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Cv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})})]})}}}),Db=p({name:"VxeRate",props:{modelValue:[Number,String],disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},size:{type:String,default:()=>Rp().rate.size||Rp().size},status:String},emits:["update:modelValue","change"],setup(e,t){const{emit:n}=t,l=o("$xeForm",null),a=o("xeFormItemInfo",null),i=rp.uniqueId(),{computeSize:s}=Sm(e),c=r(),u=m({activeValue:null}),d={refElem:c},p=f((()=>{const{disabled:t}=e;return null===t?!!l&&(l.props.readonly||l.props.disabled):t})),g=f((()=>{const{readonly:t}=e;return null===t?!!l&&(l.props.readonly||l.props.disabled):t})),h=f((()=>{const{modelValue:t}=e,{activeValue:n}=u;return rp.toNumber(null===n?t:n)})),v=f((()=>[1,2,3,4,5].map((e=>({value:e,label:e}))))),b={},x={xID:i,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>b},y=(e,t,o)=>{n(e,Hp(o,{$rate:x},t))},C={dispatchEvent:y},S=()=>{u.activeValue=null},E=(e,t)=>{const o=p.value,r=g.value;if(!o&&!r){const o=t.value;(e=>{n("update:modelValue",e)})(o),y("change",{value:o},e),l&&a&&l.triggerItemEvent(e,a.itemConfig.field,o)}};Object.assign(x,C,{});return x.renderVN=()=>{const{status:t}=e,n=p.value,o=g.value,l=v.value,r=s.value,a=h.value;return w("div",{ref:c,class:["vxe-rate",{[`size--${r}`]:r,[`theme--${t}`]:t,"is--disabled":n,"is--readonly":o}]},l.map((e=>{const t=a>=e.value;return w("div",{class:["vxe-rte--item",{"is--checked":t}],onMouseenter(t){n||o||((e,t)=>{const n=p.value,o=g.value;if(!n&&!o){const e=t.value;u.activeValue=e}})(0,e)},onMouseleave:S,onClick(t){n||o||E(t,e)}},[w("i",{class:t?Fp().RATE_CHECKED:Fp().RATE_UNCHECKED})])})))},x},render(){return this.renderVN()}}),Ob=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r}=o,a=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${a}`],field:r.field,title:r.title,itemRender:{}},{default:()=>w(Db,{modelValue:t?t.getItemValue(r):null,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),kb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Cv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return w(hh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[w(Yh,{title:em("vxe.formDesign.widgetProp.name")},{default:()=>w(Mg,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})})]})}}}),Ib=p({name:"VxeSlider",props:{modelValue:[String,Number,Array],vertical:Boolean,max:{type:[String,Number],default:()=>Rp().slider.max},min:{type:[String,Number],default:()=>Rp().slider.min},step:{type:[String,Number],default:()=>Rp().slider.step},size:{type:String,default:()=>Rp().slider.size||Rp().size},range:{type:Boolean,default:()=>Rp().slider.range},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null}},emits:["update:modelValue","change"],setup(e,t){const{emit:n}=t,l=o("$xeForm",null),a=o("xeFormItemInfo",null),s=rp.uniqueId(),{computeSize:c}=Sm(e),u=r(),d=r(),p=r(),h=r(),v=r(),b=m({startValue:0,endValue:0}),x={refElem:u},y=f((()=>{const{readonly:t}=e;return null===t?!!l&&l.props.readonly:t})),C=f((()=>{const{disabled:t}=e;return null===t?!!l&&l.props.disabled:t})),S=f((()=>rp.toNumber(e.max||0))),E=f((()=>rp.toNumber(e.min||0))),T={},D={xID:s,props:e,context:t,reactData:b,getRefMaps:()=>x,getComputeMaps:()=>T},O=(e,t,o)=>{n(e,Hp(o,{$slider:D},t))},k={dispatchEvent:O},I=t=>{const{range:n}=e,o=S.value,l=E.value;return n?rp.floor((t-l)/rp.toNumber(o-l)*100):0},M=(t,n)=>{const{range:o}=e,l=S.value,r=E.value;return rp.floor((n-(o?t:0)-r)/rp.toNumber(l-r)*100)},P=()=>{const{modelValue:t}=e;if(rp.isArray(t)){const[e,n]=rp.clone(t,!0).sort();b.startValue=rp.floor(rp.toNumber(e||0)),b.endValue=rp.floor(rp.toNumber(n||0))}else b.startValue=0,b.endValue=rp.floor(rp.toNumber(t||0))},R=()=>{const{startValue:e,endValue:t}=b,n=p.value,o=h.value,l=v.value;let r=0,a=0;e>t?(r=I(t),a=M(t,e)):(r=I(e),a=M(e,t)),n&&(n.style.left=`${r}%`,n.style.width=`${a}%`),o&&(o.style.left=`${r}%`),l&&(l.style.left=`${rp.floor(r+a)}%`)},V=t=>{const{range:o}=e,{startValue:r,endValue:i}=b,s=o?[r,i].sort():i;(e=>{n("update:modelValue",e)})(s),O("change",{value:s},t),l&&a&&l.triggerItemEvent(t,a.itemConfig.field,s)},A=(e,t)=>{const n=y.value,o=C.value,l=S.value,r=E.value;n||o||(e.preventDefault(),document.onmousemove=e=>{e.preventDefault();const n=u.value,o=d.value;if(n&&o){const n=o.getBoundingClientRect(),a=(e.clientX-n.left)/n.width;t?b.endValue=rp.floor(Math.max(r,Math.min(l,a*(l-r)+r))):b.startValue=rp.floor(Math.max(r,Math.min(l,a*(l-r))))}R()},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,V(e),R()})},$=e=>{const t=v.value,n=e.currentTarget;A(e,!!t&&t.offsetLeft<n.offsetLeft)},F=e=>{const t=h.value,n=e.currentTarget;A(e,!t||n.offsetLeft>t.offsetLeft)};Object.assign(D,k,{});return i((()=>e.modelValue),(()=>{P()})),g((()=>{R()})),P(),D.renderVN=()=>{const{vertical:t,range:n}=e,o=c.value,l=y.value,r=C.value;return w("div",{ref:u,class:["vxe-slider",{[`size--${o}`]:o,"is--vertical":t,"is--readonly":l,"is--disabled":r}]},[w("div",{class:"vxe-slider--inner"},[w("div",{ref:d,class:"vxe-slider--bar-wrapper"}),w("div",{ref:p,class:"vxe-slider--bar-track"}),l||!n?Pm():w("div",{ref:h,class:"vxe-slider--bar-btn vxe-slider--start-btn",onMousedown:$}),l?Pm():w("div",{ref:v,class:"vxe-slider--bar-btn vxe-slider--end-btn",onMousedown:F})])])},D},render(){return this.renderVN()}}),Mb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=o("$xeFormView",null),{computeKebabCaseName:n}=Cv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:o}=e,{widget:r}=o,a=n.value;return w(Yh,{class:["vxe-form-design--widget-render-form-item",`widget-${a}`],field:r.field,title:r.title,itemRender:{}},{default:()=>w(Ib,{modelValue:t?t.getItemValue(r):null,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}});cm.mixin({text:{createFormDesignWidgetConfig:kv,renderFormDesignWidgetView:(e,t)=>w(Mv,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(Iv,{renderOpts:e,renderParams:t})},title:{createFormDesignWidgetConfig:kv,renderFormDesignWidgetView:(e,t)=>w(Mv,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(Iv,{renderOpts:e,renderParams:t})},row:{createFormDesignWidgetConfig:e=>{const{$formDesign:t}=e;return{title:Ov,group:"layout",icon:"vxe-icon-row-col",options:{colSize:2,colSpan:"12,12"},children:t?rp.range(0,2).map((()=>t.createEmptyWidget())):[]}},renderFormDesignWidgetEdit:(e,t)=>w(Av,{renderOpts:e,renderParams:t}),renderFormDesignWidgetView:(e,t)=>w($v,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(Rv,{renderOpts:e,renderParams:t})},subtable:{createFormDesignWidgetConfig:()=>({title:Ov,group:"layout",icon:"vxe-icon-subtable",options:{showCheckbox:!1}}),renderFormDesignWidgetEdit:(e,t)=>w(Lv,{renderOpts:e,renderParams:t}),renderFormDesignWidgetView:(e,t)=>w(_v,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(Fv,{renderOpts:e,renderParams:t})},input:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-input",query:!0,options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>w(jv,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(Bv,{renderOpts:e,renderParams:t})},textarea:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-textarea",query:!0,options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>w(Wv,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(zv,{renderOpts:e,renderParams:t})},select:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-select",query:!0,options:{options:rp.range(0,3).map(((e,t)=>({value:em("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])})))}}),renderFormDesignWidgetView:(e,t)=>w(qv,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(Hv,{renderOpts:e,renderParams:t})},VxeInput:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-input",query:!0,options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>w(Kv,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(Uv,{renderOpts:e,renderParams:t})},VxeNumberInput:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-number",query:!0,options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>w(Xv,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(Gv,{renderOpts:e,renderParams:t})},VxeDatePicker:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-calendar",options:{placeholder:"",defaultValue:{type:"",value:""}}}),renderFormDesignWidgetView:(e,t)=>w(Qv,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(Zv,{renderOpts:e,renderParams:t})},VxeTextarea:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-textarea",options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>w(eb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(Jv,{renderOpts:e,renderParams:t})},VxeSwitch:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-switch",query:!0,options:{}}),renderFormDesignWidgetView:(e,t)=>w(nb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(tb,{renderOpts:e,renderParams:t})},VxeSelect:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-select",query:!0,options:{placeholder:"",options:rp.range(0,3).map(((e,t)=>({value:em("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])}))),multiple:!1}}),renderFormDesignWidgetView:(e,t)=>w(lb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(ob,{renderOpts:e,renderParams:t})},VxeTreeSelect:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-tree-select",query:!0,options:{placeholder:"",options:rp.range(0,3).map(((e,t)=>({value:em("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])}))),multiple:!1}}),renderFormDesignWidgetView:(e,t)=>w(cb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(rb,{renderOpts:e,renderParams:t})},VxeRadioGroup:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-radio-checked",options:{options:rp.range(0,3).map(((e,t)=>({value:em("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])})))}}),renderFormDesignWidgetView:(e,t)=>w(db,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(ub,{renderOpts:e,renderParams:t})},VxeCheckboxGroup:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-checkbox-checked",options:{options:rp.range(0,3).map(((e,t)=>({value:em("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])})))}}),renderFormDesignWidgetView:(e,t)=>w(mb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(pb,{renderOpts:e,renderParams:t})},VxeUploadFile:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-file",options:{limitCount:"",limitSize:100,multiple:!1}}),renderFormDesignWidgetView:(e,t)=>w(Cb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(gb,{renderOpts:e,renderParams:t})},VxeUploadImage:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-file-image",options:{limitCount:9,limitSize:10,multiple:!1}}),renderFormDesignWidgetView:(e,t)=>w(Eb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(Sb,{renderOpts:e,renderParams:t})},VxeRate:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-star",query:!0,options:{}}),renderFormDesignWidgetView:(e,t)=>w(Ob,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(Tb,{renderOpts:e,renderParams:t})},VxeSlider:{createFormDesignWidgetConfig:()=>({title:Ov,icon:"vxe-icon-slider",query:!0,options:{}}),renderFormDesignWidgetView:(e,t)=>w(Mb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>w(kb,{renderOpts:e,renderParams:t})}});const Pb=Object.assign({},wv,{install(e){e.component(wv.name,wv)}}),Rb={useWidgetName:Cv,useWidgetView:function(e){const t=f((()=>{const{renderParams:t}=e;return t.widget})),n=f((()=>{const{renderParams:t}=e;return t.isEditMode||!1})),o=f((()=>{const{renderParams:t}=e;return t.isViewMode||!1}));return{currWidget:t,widgetOptions:f((()=>{const{renderParams:t}=e,{widget:n}=t;return n?n.options:{}})),widgetModel:f({get(){const{renderParams:t}=e,{$formView:n,widget:o}=t;return n?n.getItemValue(o):null},set(t){const{renderParams:n}=e,{$formView:o,widget:l}=n;o&&o.setItemValue(l,t)}}),isEditMode:n,isViewMode:o}},useSubtableView:function(e){const t=f((()=>{const{renderParams:t}=e;return t.widget}));return{currColumn:f((()=>{const{renderParams:t}=e;return t.column})),currRow:f((()=>{const{renderParams:t}=e;return t.row})),currWidget:t,widgetOptions:f((()=>{const{renderParams:t}=e,{widget:n}=t;return n?n.options:{}})),cellModel:f({get(){const{renderParams:t}=e,{row:n,column:o}=t;return rp.get(n,o.field)},set(t){const{renderParams:n}=e,{row:o,column:l}=n;return rp.set(o,l.field,t)}})}},useWidgetPropDataSource:Dv};$m.use(Pb),Rm.component(wv),Rm.formDesignHandle=Rb,Rm.formDesign=Rb;const Vb=Pb,Ab=Object.assign({},av,{name:"VxeFormGather"}),$b=Object.assign(Ab,{install(e){e.component(Ab.name,Ab)}});$m.use($b),Rm.component(Ab);const Fb=$b,Nb=Object.assign(av,{install(e){e.component(av.name,av)}});$m.use(Nb),Rm.component(av);const Lb=Nb,_b=Object.assign(Yh,{install(e){e.component(Yh.name,Yh)}});$m.use(_b),Rm.component(Yh);const Bb=_b,jb=Object.assign(iv,{install:function(e){e.component(iv.name,iv)}});$m.use(jb),Rm.component(iv);const zb=jb,Wb=Object.assign({},ah,{install(e){e.component(ah.name,ah)}});$m.use(Wb),Rm.component(ah);const Hb=Wb,qb=p({name:"VxeIconPicker",props:{modelValue:String,placeholder:String,clearable:Boolean,size:{type:String,default:()=>Rp().iconPicker.size||Rp().size},className:[String,Function],popupClassName:[String,Function],showIconTitle:{type:Boolean,default:()=>Rp().iconPicker.showIconTitle},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},icons:Array,placement:String,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","click"],setup(e,n){const{emit:l}=n,a=o("$xeModal",null),s=o("$xeDrawer",null),c=o("$xeTable",null),u=o("$xeForm",null),d=o("xeFormItemInfo",null),p=rp.uniqueId(),{computeSize:v}=Sm(e),y=m({initialized:!1,selectIcon:`${e.modelValue||""}`,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),C={},E=r(),T=r(),D=r(),O={refElem:E},k={xID:p,props:e,context:n,reactData:y,getRefMaps:()=>O};let I={};const M=f((()=>{const{readonly:t}=e;return null===t?!!u&&u.props.readonly:t})),P=f((()=>{const{disabled:t}=e;return null===t?!!u&&u.props.disabled:t})),R=f((()=>{const{transfer:t}=e;if(null===t){const e=Rp().iconPicker.transfer;if(rp.isBoolean(e))return e;if(c||a||s||u)return!0}return t})),V=f((()=>{const{placeholder:t}=e;if(t)return Vf(t);const n=Rp().select.placeholder;return n?Vf(n):em("vxe.base.pleaseSelect")})),A=f((()=>{let{icons:t}=e;return t&&t.length||(t=Rp().iconPicker.icons||[]),t.map((e=>({title:e,icon:`vxe-icon-${e}`})))})),$=f((()=>{const e=A.value;return rp.chunk(e,4)})),F=()=>t().then((()=>{const{placement:n}=e,{panelIndex:o}=y,l=E.value,r=D.value,a=R.value;if(r&&l){const e=l.offsetHeight,i=l.offsetWidth,s=r.offsetHeight,c=r.offsetWidth,u=5,d={zIndex:o},{boundingTop:p,boundingLeft:m,visibleHeight:f,visibleWidth:g}=cf(l);let h="bottom";if(a){let t=m,o=p+e;"top"===n?(h="top",o=p-s):n||(o+s+u>f&&(h="top",o=p-s),o<u&&(h="bottom",o=p+e)),t+c+u>g&&(t-=t+c+u-g),t<u&&(t=u),Object.assign(d,{left:`${t}px`,top:`${o}px`,minWidth:`${i}px`})}else"top"===n?(h="top",d.bottom=`${e}px`):n||p+e+s>f&&p-e-s>u&&(h="top",d.bottom=`${e}px`);return y.panelStyle=d,y.panelPlacement=h,t()}})),N=()=>{const{hpTimeout:e}=C;P.value||(e&&(clearTimeout(e),C.hpTimeout=void 0),y.initialized||(y.initialized=!0),y.isActivated=!0,y.isAniVisible=!0,setTimeout((()=>{y.visiblePanel=!0}),10),y.panelIndex<Rf()&&(y.panelIndex=Pf()),F())},L=()=>{y.visiblePanel=!1,C.hpTimeout=window.setTimeout((()=>{y.isAniVisible=!1}),350)},_=(t,n)=>{y.selectIcon=n,n!==e.modelValue&&(l("update:modelValue",n),Y("change",{value:n},t),u&&d&&u.triggerItemEvent(t,d.itemConfig.field,n))},B=()=>{P.value||y.visiblePanel||N()},j=()=>{y.isActivated=!1},z=(e,t)=>{_(e,t),Y("clear",{value:t},e)},W=(e,t)=>{z(t,null),L()},H=e=>{(e=>{e.preventDefault(),y.visiblePanel?L():N()})(e),Y("click",{},e)},q=e=>{const{visiblePanel:t}=y;if(!P.value&&t){af(e,D.value).flag?F():L()}},U=e=>{const{visiblePanel:t}=y;if(!P.value){const n=E.value,o=D.value;y.isActivated=af(e,n).flag||af(e,o).flag,t&&!y.isActivated&&L()}},K=t=>{const{clearable:n}=e,{visiblePanel:o}=y;if(!P.value){const e=qp.hasKey(t,Np.TAB),l=qp.hasKey(t,Np.ENTER),r=qp.hasKey(t,Np.ESCAPE),a=qp.hasKey(t,Np.ARROW_UP),i=qp.hasKey(t,Np.ARROW_DOWN),s=qp.hasKey(t,Np.DELETE),c=qp.hasKey(t,Np.SPACEBAR);e&&(y.isActivated=!1),o?r||e?L():l?(t.preventDefault(),t.stopPropagation()):(a||i||c)&&t.preventDefault():(a||i||l||c)&&y.isActivated&&(t.preventDefault(),N()),y.isActivated&&s&&n&&z(t,null)}},G=()=>{L()},Y=(e,t,n)=>{l(e,Hp(n,{$iconPicker:k},t))};I={dispatchEvent:Y,isPanelVisible:()=>y.visiblePanel,togglePanel:()=>(y.visiblePanel?L():N(),t()),hidePanel:()=>(y.visiblePanel&&L(),t()),showPanel:()=>(y.visiblePanel||N(),t()),focus(){const e=T.value;return y.isActivated=!0,e&&e.blur(),t()},blur(){const e=T.value;return e&&e.blur(),y.isActivated=!1,t()}};Object.assign(k,I);const X=()=>{const{showIconTitle:t}=e,n=$.value,o=P.value;return w("div",{class:"vxe-ico-picker--list-wrapper"},n.map((e=>w("div",{class:"vxe-ico-picker--list"},e.map((e=>w("div",{class:"vxe-ico-picker--item",onClick(t){o||((e,t)=>{const n=t.icon;_(e,n),L()})(t,e)}},[w("div",{class:"vxe-ico-picker--item-icon"},[w("i",{class:e.icon||""})]),t?w("div",{class:"vxe-ico-picker--item-title"},`${e.title||""}`):x()])))))))};return i((()=>e.modelValue),(e=>{y.selectIcon=`${e||""}`})),g((()=>{qp.on(k,"mousewheel",q),qp.on(k,"mousedown",U),qp.on(k,"keydown",K),qp.on(k,"blur",G)})),h((()=>{qp.off(k,"mousewheel"),qp.off(k,"mousedown"),qp.off(k,"keydown"),qp.off(k,"blur")})),b("$xeIconPicker",k),k.renderVN=()=>{const{className:t,popupClassName:n,clearable:o}=e,{initialized:l,isActivated:r,isAniVisible:a,visiblePanel:i,selectIcon:s}=y,c=v.value,u=P.value,d=R.value,p=M.value,m=V.value;return p?w("div",{ref:E,class:["vxe-ico-picker--readonly",t]},[w("i",{class:s})]):w("div",{ref:E,class:["vxe-ico-picker",t?rp.isFunction(t)?t({$iconPicker:k}):t:"",{[`size--${c}`]:c,"show--clear":o&&!u&&!!s,"is--visible":i,"is--disabled":u,"is--active":r}]},[w("div",{class:"vxe-ico-picker--inner",onClick:H},[w("input",{ref:T,class:"vxe-ico-picker--input",onFocus:B,onBlur:j}),s?w("div",{class:"vxe-ico-picker--icon"},[w("i",{class:s})]):w("div",{class:"vxe-ico-picker--placeholder"},m),w("div",{class:"vxe-ico-picker--suffix"},[w("div",{class:"vxe-ico-picker--clear-icon",onClick:W},[w("i",{class:Fp().INPUT_CLEAR})]),w("div",{class:"vxe-ico-picker--suffix-icon"},[w("i",{class:i?Fp().ICON_PICKER_OPEN:Fp().ICON_PICKER_CLOSE})])])]),w(S,{to:"body",disabled:!d||!l},[w("div",{ref:D,class:["vxe-table--ignore-clear vxe-ico-picker--panel",n?rp.isFunction(n)?n({$iconPicker:k}):n:"",{[`size--${c}`]:c,"is--transfer":d,"ani--leave":a,"ani--enter":i}],placement:y.panelPlacement,style:y.panelStyle},[l&&(i||a)?w("div",{class:"vxe-ico-picker--panel-wrapper"},[X()]):x()])])])},k},render(){return this.renderVN()}}),Ub=Object.assign(qb,{install:function(e){e.component(qb.name,qb)}});$m.use(Ub),Rm.component(qb);const Kb=Ub,Gb=p({name:"VxeImagePreview",props:{modelValue:Number,urlList:Array,urlField:{type:String,default:()=>Rp().imagePreview.urlField},maskClosable:{type:Boolean,default:()=>Rp().imagePreview.maskClosable},marginSize:{type:String,default:()=>Rp().imagePreview.marginSize},showPrintButton:{type:Boolean,default:()=>Rp().imagePreview.showPrintButton},showDownloadButton:{type:Boolean,default:()=>Rp().imagePreview.showDownloadButton},beforeDownloadMethod:Function,downloadMethod:Function},emits:["update:modelValue","change","download","download-fail","close"],setup(e,t){const{emit:n}=t,o=rp.uniqueId(),l=r(),a={refElem:l},c=m({activeIndex:e.modelValue||0,offsetPct11:!1,offsetScale:0,offsetRotate:0,offsetLeft:0,offsetTop:0}),u=f((()=>e.urlField||"url")),d=f((()=>rp.toNumber(e.marginSize||0)||16)),p=f((()=>{const{offsetRotate:e}=c;return e?`${e}°`:"0°"})),v=f((()=>{const{offsetScale:e}=c;return e?`${rp.ceil(100*(1+e))}%`:"100%"})),y=f((()=>{const{urlList:t}=e,n=u.value;return t&&t.length?t.map((e=>rp.isString(e)?e:e[n]?e[n]:"")):[]})),C=f((()=>{let{offsetScale:e,offsetRotate:t,offsetLeft:n,offsetTop:o}=c;const l=[];let r=1;if(e&&(r=1+e,l.push(`scale(${r})`)),t&&l.push(`rotate(${t}deg)`),n||o){n/=r,o/=r;let e=n,a=o;if(t)switch(t%360){case 90:case-270:e=o,a=-n;break;case 180:case-180:e=-n,a=-o;break;case 270:case-90:e=-o,a=n}l.push(`translate(${e}px, ${a}px)`)}return l.length?l.join(" "):""})),S={computeImgList:y},E={xID:o,props:e,context:t,reactData:c,getRefMaps:()=>a,getComputeMaps:()=>S},T=(e,t,o)=>{n(e,Hp(o,{$imagePreview:E},t))},D={dispatchEvent:T},O=e=>{T("close",{},e)},k=()=>{of(l.value,"is--move"),Object.assign(c,{offsetPct11:!1,offsetScale:0,offsetRotate:0,offsetLeft:0,offsetTop:0})},I=e=>{const{offsetScale:t}=c,n=(()=>{const{offsetScale:e}=c;let t=.02;return e>=-.6&&(t=.04,e>=-.4&&(t=.07,e>=0&&(t=.1,e>=3&&(t=.25,e>=8&&(t=.4,e>=16&&(t=.6,e>=24&&(t=.9,e>=32&&(t=1.3,e>=39&&(t=1.9,e>=45&&(t=2.5)))))))))),t})();c.offsetScale=Number(e?Math.min(49,t+n).toFixed(2):Math.max(-.9,t-n).toFixed(2))},M=e=>{let t=c.activeIndex||0;const o=y.value;var l;e?t>=o.length-1?t=0:t++:t<=0?t=o.length-1:t--,k(),c.activeIndex=t,l=t,c.activeIndex=l,n("update:modelValue",l)},P=e=>{let t=c.offsetRotate;e?t+=90:t-=90,c.offsetRotate=t},R=()=>{const{activeIndex:e}=c,t=y.value[e||0];Rm.print&&Rm.print({align:"center",pageBreaks:[{bodyHtml:`<img src="${t}" style="max-width:100%;max-height:100%;">`}]})},V=(e,t)=>{T("download",{url:t},e)},A=t=>{const{activeIndex:n}=c,o=y.value[n||0],l=e.beforeDownloadMethod||Rp().imagePreview.beforeDownloadMethod,r=e.downloadMethod||Rp().imagePreview.downloadMethod;Promise.resolve(!l||l({$imagePreview:E,url:o,index:n||0})).then((e=>{e&&(r?Promise.resolve(r({$imagePreview:E,url:o,index:n||0})).then((()=>{V(t,o)})).catch((e=>e)):((e,t)=>{Rm.saveFile&&fetch(t).then((n=>n.blob().then((n=>{Rm.saveFile({filename:t,content:n}),V(e,t)})))).catch((()=>{Rm.modal&&Rm.modal.message({content:em("vxe.error.downErr"),status:"error"})}))})(t,o))}))},$=(e,t)=>{const{activeIndex:n}=c;if(y.value[n||0])switch(t){case"zoomOut":I(!1);break;case"zoomIn":I(!0);break;case"pctFull":k();break;case"pct11":k(),c.offsetPct11=!0;break;case"rotateLeft":P(!1);break;case"rotateRight":P(!0);break;case"print":R();break;case"download":A(e)}},F=e=>{const t=e.deltaY;t>0?I(!1):t<0&&I(!0)},N=e=>{const{offsetTop:t,offsetLeft:n}=c,o=l.value;e.preventDefault();const r=document.onmousemove,a=document.onmouseup,i=e.pageX,s=e.pageY,u=d.value;document.onmousemove=e=>{const{pageX:l,pageY:r}=e,{visibleHeight:a,visibleWidth:d}=rf();e.preventDefault(),function(e,t){e&&!nf(e,t)&&(of(e,t),e.className=`${e.className} ${t}`)}(o,"is--move"),l>u&&r>u&&l<d-u&&r<a-u&&(c.offsetLeft=n+l-i,c.offsetTop=t+r-s)},document.onmouseup=()=>{document.onmousemove=r,document.onmouseup=a,of(o,"is--move")}},L=e=>{const t=e.ctrlKey,n=e.shiftKey,o=qp.hasKey(e,Np.ARROW_UP),l=qp.hasKey(e,Np.ARROW_DOWN),r=qp.hasKey(e,Np.ARROW_LEFT),a=qp.hasKey(e,Np.ARROW_RIGHT),i=qp.hasKey(e,Np.R),s=qp.hasKey(e,Np.P);o?(e.preventDefault(),n?c.offsetTop-=1:I(!0)):l?(e.preventDefault(),n?c.offsetTop+=1:I(!1)):r?(e.preventDefault(),n?c.offsetLeft-=1:M(!1)):a?(e.preventDefault(),n?c.offsetLeft+=1:M(!0)):i&&t?(e.preventDefault(),P(!n)):s&&t&&(e.preventDefault(),R())},_=t=>{e.maskClosable&&t.target===t.currentTarget&&T("close",{},t)};Object.assign(E,D,{});const B=()=>{const{activeIndex:e}=c,t=y.value,n=C.value;return w("div",{class:"vxe-image-preview--img-list",onClick:_},t.map(((t,o)=>{const l=e===o;return w("img",{class:["vxe-image-preview--img-item",{"is--active":l}],src:t,style:l?{transform:n}:null,onMousedown(e){N(e)}})})))},j=(e,t)=>w("div",{class:"vxe-image-preview--operation-btn",title:em(`vxe.imagePreview.operBtn.${e}`),onClick(t){$(t,e)}},[w("i",{class:Fp()[t]})]),z=()=>{const{showPrintButton:t,showDownloadButton:n}=e,{activeIndex:o}=c,l=y.value,r=p.value,a=v.value;return w("div",{class:"vxe-image-preview--btn-wrapper"},[w("div",{class:"vxe-image-preview--close-wrapper"},[w("div",{class:"vxe-image-preview--close-btn",onClick:O},[w("i",{class:Fp().IMAGE_PREVIEW_CLOSE})]),w("div",{class:"vxe-image-preview--close-bg"})]),l.length>1?w("div",{class:"vxe-image-preview--previous-btn",onClick(){M(!1)}},[w("i",{class:Fp().IMAGE_PREVIEW_PREVIOUS})]):x(),l.length>1?w("div",{class:"vxe-image-preview--next-btn",onClick(){M(!0)}},[w("i",{class:Fp().IMAGE_PREVIEW_NEXT})]):x(),w("div",{class:"vxe-image-preview--operation-info"},[w("div",{class:"vxe-image-preview--operation-deg"},r),w("div",{class:"vxe-image-preview--operation-pct"},a)]),w("div",{class:"vxe-image-preview--operation-wrapper"},[w("div",{class:"vxe-image-preview--operation-active-count"},[w("span",{class:"vxe-image-preview--operation-active-current"},`${(o||0)+1}`),w("span",{class:"vxe-image-preview--operation-active-total"},`/${l.length}`)]),j("zoomOut","IMAGE_PREVIEW_ZOOM_OUT"),j("zoomIn","IMAGE_PREVIEW_ZOOM_IN"),j("pctFull","IMAGE_PREVIEW_PCT_FULL"),j("pct11","IMAGE_PREVIEW_PCT_1_1"),j("rotateLeft","IMAGE_PREVIEW_ROTATE_LEFT"),j("rotateRight","IMAGE_PREVIEW_ROTATE_RIGHT"),t?j("print","IMAGE_PREVIEW_PRINT"):x(),n?j("download","IMAGE_PREVIEW_DOWNLOAD"):x()])])},W=()=>{const{offsetPct11:e}=c;return w("div",{ref:l,class:["vxe-image-preview",{"is--pct11":e}],onWheel:F},[B(),z()])};return i((()=>e.modelValue),(e=>{c.activeIndex=e,k()})),g((()=>{qp.on(E,"keydown",L)})),s((()=>{const e=l.value;e&&of(e,"is--move")})),h((()=>{qp.off(E,"keydown")})),b("$xeImagePreview",E),E.renderVN=W,W}}),Yb=e=>{if(Rm.modal){const t=Object.assign({escClosable:!0},e),{urlList:n,activeIndex:o}=t,l=rp.uniqueId("image-preview");Rm.modal.open({id:l,title:"预览",width:"100%",height:"100%",showHeader:!1,showFooter:!1,padding:!1,escClosable:t.escClosable,className:"vxe-image-preview-popup-wrapper",slots:{default:()=>w(Gb,{modelValue:o,urlList:n,urlField:t.urlField,marginSize:t.marginSize,maskClosable:t.maskClosable,showPrintButton:t.showPrintButton,showDownloadButton:t.showDownloadButton,beforeDownloadMethod:t.beforeDownloadMethod,downloadMethod:t.downloadMethod,onClose(){Rm.modal.close(l)}})}})}return Promise.resolve()},Xb=p({name:"VxeImage",props:{src:[String,Array],alt:[String,Number],loading:String,title:[String,Number],width:[String,Number],height:[String,Number],circle:Boolean,maskClosable:{type:Boolean,default:()=>Rp().image.maskClosable},showPreview:{type:Boolean,default:()=>Rp().image.showPreview},showPrintButton:{type:Boolean,default:()=>Rp().image.showPrintButton},showDownloadButton:{type:Boolean,default:()=>Rp().image.showDownloadButton},size:{type:String,default:()=>Rp().image.size||Rp().size}},emits:["click"],setup(e,t){const{emit:n}=t,l=rp.uniqueId(),a=o("$xeImageGroup",null),i=r(),{computeSize:s}=Sm(e),c=m({}),u={refElem:i},d=f((()=>{const{width:t,height:n}=e,o={};return t&&n?(o.maxWidth=lf(t),o.maxHeight=lf(n)):(t&&(o.width=lf(t)),n&&(o.height=lf(n))),o})),p=f((()=>{const{src:t}=e;return t?(rp.isArray(t)?t:[t]).map((e=>rp.isString(e)?{url:e,alt:""}:{url:e.url,alt:e.alt})):[]})),g=f((()=>p.value[0])),h=f((()=>{const e=g.value;return e?`${e.url||""}`:""})),v={computeSize:s},b={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>v},x={dispatchEvent(e,t,o){n(e,Hp(o,{$image:b},t))}},y=t=>{const{showPreview:n,showPrintButton:o,showDownloadButton:l,maskClosable:r}=e,i=p.value,s=h.value;a?a.handleClickImgEvent(t,{url:s}):(n&&s&&Yb({urlList:i,showPrintButton:o,showDownloadButton:l,maskClosable:r}),x.dispatchEvent("click",{url:s},t))};Object.assign(b,x,{});return b.renderVN=()=>{const{alt:t,loading:n,circle:o}=e,l=d.value,r=h.value,a=s.value;return w("img",{ref:i,class:["vxe-image",{[`size--${a}`]:a,"is--circle":o}],src:r,alt:t,loading:n,style:l,onClick:y})},b},render(){return this.renderVN()}}),Zb=Object.assign({},Xb,{install(e){e.component(Xb.name,Xb)}});$m.use(Zb),Rm.component(Xb);const Qb=Zb,Jb=p({name:"VxeImageGroup",props:{urlList:[Array,String],showPreview:{type:Boolean,default:()=>Rp().imageGroup.showPreview},imageStyle:Object,size:{type:String,default:()=>Rp().imageGroup.size||Rp().size},showPrintButton:{type:Boolean,default:()=>Rp().imageGroup.showPrintButton},showDownloadButton:{type:Boolean,default:()=>Rp().imageGroup.showDownloadButton}},emits:["click"],setup(e,t){const{emit:n}=t,o=rp.uniqueId(),{computeSize:l}=Sm(e),r=f((()=>{const{urlList:t}=e;return t?(rp.isArray(t)?t:[t]).map((e=>rp.isString(e)?{url:e,alt:""}:{url:e.url,alt:e.alt})):[]})),a=f((()=>Object.assign({},Rp().imageGroup.imageStyle,e.imageStyle))),i={computeSize:l},s={xID:o,props:e,context:t,getComputeMaps:()=>i},c={dispatchEvent(e,t,o){n(e,Hp(o,{$imageGroup:s},t))}},u={handleClickImgEvent(t,n){const{showPreview:o,showPrintButton:l,showDownloadButton:a}=e,{url:i}=n,s=r.value;o&&i&&Yb({activeIndex:Math.max(0,rp.findIndexOf(s,(e=>e.url===i))),urlList:s,showPrintButton:l,showDownloadButton:a}),c.dispatchEvent("click",{url:i,urlList:s},t)}};Object.assign(s,c,u);return s.renderVN=()=>{const e=r.value,t=l.value,n=a.value;return w("div",{class:["vxe-image-group",{[`size--${t}`]:t}]},e?e.map(((e,t)=>w(Xb,{key:t,src:e.url,alt:e.alt,width:n.width,height:n.height}))):[])},b("$xeImageGroup",s),s},render(){return this.renderVN()}}),ex=Object.assign({},Jb,{install(e){e.component(Jb.name,Jb)}});$m.use(ex),Rm.component(Jb);const tx=ex,nx=Object.assign(Gb,{install(e){e.component(Gb.name,Gb),Rm.previewImage=Yb}});$m.use(nx),Rm.component(Gb);const ox=nx,lx=Object.assign(Mg,{install(e){e.component(Mg.name,Mg)}});$m.use(lx),Rm.component(Mg);const rx=lx,ax=p({name:"VxeLayoutAside",props:{width:[String,Number],collapsed:Boolean,collapseWidth:[String,Number],loading:Boolean,padding:Boolean,size:{type:String,default:()=>Rp().layoutAside.size||Rp().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId(),a=r(),{computeSize:i}=Sm(e),s=m({}),c={refElem:a},u=f((()=>{const{width:t,collapsed:n,collapseWidth:o}=e;if(n){if(o)return lf(o)}else if(t)return lf(t);return""})),d={computeSize:i},p={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>d},g={dispatchEvent:(e,t,n)=>{o(e,Hp(n,{$layoutAside:p},t))}};Object.assign(p,g,{});return b("$xeLayoutAside",p),p.renderVN=()=>{const{width:t,collapsed:o,loading:l,padding:r}=e,s=u.value,c=i.value,d=n.default;return w("aside",{ref:a,class:["vxe-layout-aside",{[`size--${c}`]:c,"is--padding":r,"is--default-width":!t,"is--collapse":o,"is--loading":l}],style:s?{width:s}:null},[w("div",{class:"vxe-layout-aside--inner"},d?d({}):[]),w(Gf,{class:"vxe-list-view--loading",modelValue:l})])},p},render(){return this.renderVN()}}),ix=Object.assign({},ax,{install(e){e.component(ax.name,ax)}});$m.use(ix),Rm.component(ax);const sx=ix,cx=p({name:"VxeLayoutBody",props:{loading:Boolean,padding:Boolean,size:{type:String,default:()=>Rp().layoutBody.size||Rp().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId(),a=r(),{computeSize:i}=Sm(e),s=m({}),c={refElem:a},u={computeSize:i},d={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p={dispatchEvent:(e,t,n)=>{o(e,Hp(n,{$layoutBody:d},t))}};Object.assign(d,p,{});return d.renderVN=()=>{const{loading:t,padding:o}=e,l=i.value,r=n.default;return w("div",{ref:a,class:["vxe-layout-body",{[`size--${l}`]:l,"is--loading":t,"is--padding":o}]},[w("div",{class:"vxe-layout-body--inner"},r?r({}):[]),w(Gf,{class:"vxe-list-view--loading",modelValue:t})])},d},render(){return this.renderVN()}}),ux=Object.assign({},cx,{install(e){e.component(cx.name,cx)}});$m.use(ux),Rm.component(cx);const dx=ux,px=p({name:"VxeLayoutContainer",props:{vertical:Boolean,size:{type:String,default:()=>Rp().layoutContainer.size||Rp().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId(),a=r(),{computeSize:i}=Sm(e),s=m({}),c={refElem:a},u={computeSize:i},d={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p={dispatchEvent:(e,t,n)=>{o(e,Hp(n,{$layoutContainer:d},t))}};Object.assign(d,p,{});return d.renderVN=()=>{const{vertical:t}=e,o=i.value,l=n.default;return w("div",{ref:a,class:["vxe-layout-container",{[`size--${o}`]:o,"is--vertical":t}]},l?l({}):[])},d},render(){return this.renderVN()}}),mx=Object.assign({},px,{install(e){e.component(px.name,px)}});$m.use(mx),Rm.component(px);const fx=mx,gx=p({name:"VxeLayoutFooter",props:{fixed:Boolean,align:String},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent:(e,t,n)=>{o(e,Hp(n,{$layoutFooter:u},t))}};Object.assign(u,d,{});return u.renderVN=()=>{const{fixed:t,align:o}=e,l=n.default;return w("footer",{ref:a,class:["vxe-layout-footer",o?`align--${o}`:"",{"is--fixed":t}]},l?l({}):[])},u},render(){return this.renderVN()}}),hx=Object.assign({},gx,{install(e){e.component(gx.name,gx)}});$m.use(hx),Rm.component(gx);const vx=hx,bx=p({name:"VxeLayoutHeader",props:{fixed:Boolean},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent:(e,t,n)=>{o(e,Hp(n,{$layoutHeader:u},t))}};Object.assign(u,d,{});return u.renderVN=()=>{const{fixed:t}=e,o=n.default;return w("header",{ref:a,class:["vxe-layout-header",{"is--fixed":t}]},o?o({}):[])},u},render(){return this.renderVN()}}),xx=Object.assign({},bx,{install(e){e.component(bx.name,bx)}});$m.use(xx),Rm.component(bx);const yx=xx,wx=p({name:"VxeLink",props:{href:String,target:String,status:String,title:[String,Number],icon:String,routerLink:Object,underline:{type:Boolean,default:()=>Rp().link.underline},permissionCode:[String,Number],content:[String,Number],size:{type:String,default:()=>Rp().link.size||Rp().size}},emits:["click"],setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId(),{computeSize:a}=Sm(e),{computePermissionInfo:i}=Em(e),s=r(),c=m({}),u={refElem:s},d={},p={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},f=(e,t,n)=>{o(e,Hp(n,{$link:p},t))},g={dispatchEvent:f},h=e=>{f("click",{},e)};Object.assign(p,g,{});const v=()=>{const{icon:t,content:o}=e,l=n.default,r=n.icon,a=rp.toValueString(o);return[r||t?w("span",{class:"vxe-link--icon"},r?Um(r({})):[w("i",{class:t})]):x(),l||a?w("span",{class:"vxe-link--content"},l?l({}):a):x()]};return p.renderVN=()=>{const{status:t,target:n,href:o,title:l,underline:r,routerLink:c}=e,u=i.value,d=a.value;return u.visible?c?w(C("router-link"),{class:["vxe-link",{[`size--${d}`]:d,[`theme--${t}`]:t,"is--underline":r}],title:l,target:n,to:c,onClick:h},{default:()=>v()}):w("a",{ref:s,class:["vxe-link",{[`size--${d}`]:d,[`theme--${t}`]:t,"is--underline":r}],href:o,target:n,title:l,onClick:h},v()):x()},p},render(){return this.renderVN()}}),Cx=Object.assign({},wx,{install(e){e.component(wx.name,wx)}});$m.use(Cx),Rm.component(wx);const Sx=Cx,Ex=e=>Object.assign({name:"",icon:"",type:"",classify:"",code:"",status:"",permissionCode:""},e),Tx=p({name:"ListDesignLayoutView",props:{},emits:[],setup(){const e=Rm.getComponent("VxeGrid"),t=o("$xeListDesign",null);if(!t)return()=>[];const{reactData:n}=t,l=r(),a=r([]),s=f((()=>{const{searchFormItems:e}=n;return e.length?e.concat([{field:"active",title:"",folding:!1,collapseNode:e.some((e=>e.folding)),itemRender:{name:"VxeButtonGroup",options:[{content:"查询",icon:"vxe-icon-search",status:"primary",type:"submit"},{content:"重置",icon:"vxe-icon-repeat",type:"reset"}]}}]):e})),c=f((()=>{const{formData:e,listTableColumns:t}=n,{showSeq:o,actionButtonList:l}=e,r=[];return o&&r.push({type:"seq",field:"_seq",width:70}),t.forEach((e=>{r.push({field:e.field,title:e.title,visible:e.visible,width:e.width})})),l&&l.length&&r.push({field:"_active",title:em("vxe.table.actionTitle"),fixed:"right",width:"auto",cellRender:{name:"VxeButtonGroup",options:[]}}),r})),u=({column:e,resizeWidth:t})=>{const{listTableColumns:o}=n,l=rp.findTree(o,(t=>t.field===e.field),{children:"children"});if(l){const{item:e}=l;e.width=t}},d=()=>{const{listTableColumns:e}=n,t=[{},{}];t.forEach((t=>{e.forEach((e=>{t[e.field]="-"}))})),a.value=t},p=r(0);return i((()=>n.listTableColumns?n.listTableColumns.length:-1),(()=>{p.value++})),i((()=>n.listTableColumns),(()=>{p.value++})),i(p,(()=>{d()})),g((()=>{d()})),()=>{const{searchFormData:t,searchFormItems:o}=n,r=s.value,i=c.value;return w("div",{class:"vxe-list-design--preview"},[w("div",{class:"vxe-list-design--preview-wrapper"},[w("div",{class:"vxe-list-design--preview-search"},[w("div",{class:"vxe-list-design--preview-title"},em("vxe.listDesign.searchTitle")),o.length?w(hh,{data:t,items:r}):w("div",{class:"vxe-list-design--field-configs-empty-data"},[w("span",{},em("vxe.listDesign.search.emptyText"))])]),w("div",{class:"vxe-list-design--preview-table"},[w("div",{class:"vxe-list-design--preview-title"},em("vxe.listDesign.listTitle")),e?w(e,{ref:l,columns:i,data:a.value,showOverflow:!0,border:!0,columnConfig:{minWidth:"auto",resizable:!0},rowConfig:{isHover:!0},scrollX:{enabled:!1},scrollY:{enabled:!1},onResizableChange:u}):x()])])])}}}),Dx=r({}),Ox=p({name:"DefaultFieldSettingForm",props:{},emits:[],setup(){const e=o("$xeListDesign",null);if(!e)return()=>[];const{reactData:t}=e,n=r(!1),l=r(!1),a=e=>{e.visible=!e.visible,t.listTableColumns=t.listTableColumns.slice(0)},i=()=>{const{listTableColumns:o,searchFormItems:a}=t,i=Dx.value,s=[];o.forEach((e=>{const{cellRender:t}=e;if(t){const n=a.find((t=>t.field===e.field)),o=t.name||"";let l=i[o];if(!l){const e=cm.get(o);if(e){const t=e.createFormDesignWidgetConfig;if(t){l=t({name:o,$formDesign:null})||{},i[o]=l}}}l.query&&s.push(Object.assign(Object.assign({},e),{checked:!!n,isHalf:!1,folding:!!n&&!!n.folding}))}})),Dx.value=Object.assign({},i);const c=r(s),u=()=>{const e=c.value;n.value=e.every((e=>e.checked)),l.value=!n.value&&e.some((e=>e.checked||e.isHalf))},d=e=>{const t=c.value,n=rp.findTree(t,(t=>t===e));if(n&&n.parent){const{parent:e}=n;e.children&&e.children.length&&(e.checked=e.children.every((e=>e.checked)),e.isHalf=!e.checked&&e.children.some((e=>e.checked||e.isHalf)),d(e))}},p=()=>{const e=c.value,t=!n.value;rp.eachTree(e,(e=>{e.checked=t,e.isHalf=!1})),n.value=t,u()};Rm.modal.open({title:em("vxe.listDesign.search.editPopupTitle"),width:680,height:500,showFooter:!0,escClosable:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:em("vxe.listDesign.searchPopup.saveBtn"),showZoom:!0,resize:!0,onConfirm:()=>{const t=c.value,n=[];t.forEach((e=>{e.checked&&n.push({field:e.field,title:e.title,folding:e.folding,itemRender:Object.assign({},e.cellRender)})})),e.setSearchItems(n)},slots:{default(){const e=n.value,t=l.value,o=c.value;return w("div",{class:"vxe-list-design--field-search-popup"},[w("table",{},[w("colgroup",{},[w("col",{style:{width:"80px"}}),w("col")]),w("thead",{},[w("th",{},[w("div",{class:["vxe-list-design--field-search-checkbox-option",{"is--checked":e,"is--indeterminate":t}],title:em("vxe.table.allTitle"),onClick:p},[w("span",{class:["vxe-checkbox--icon",t?Fp().CHECKBOX_INDETERMINATE:e?Fp().CHECKBOX_CHECKED:Fp().CHECKBOX_UNCHECKED]}),w("span",{class:"vxe-checkbox--label"},em("vxe.toolbar.customAll"))])]),w("th",{},em("vxe.listDesign.searchPopup.colTitle"))]),w("tbody",{},o.map((e=>{const t=e.checked,n=e.isHalf;return w("tr",{},[w("td",{class:"vxe-list-design--field-search-option-item col--visible"},[w("div",{class:["vxe-list-design--field-search-checkbox-option",{"is--checked":t,"is--indeterminate":n}],title:em("vxe.custom.setting.colVisible"),onClick:()=>{(e=>{const t=!e.checked;rp.eachTree([e],(e=>{e.checked=t,e.isHalf=!1})),d(e),u()})(e)}},[w("span",{class:["vxe-checkbox--icon",n?Fp().CHECKBOX_INDETERMINATE:t?Fp().CHECKBOX_CHECKED:Fp().CHECKBOX_UNCHECKED]})])]),w("td",{class:"vxe-list-design--field-search-option-item"},`${e.title||""}`)])})))])])}}})},s=e=>{const{children:t}=e;return t&&t.length?w("div",{class:"vxe-list-design--field-option-inner"},[w("div",{class:"vxe-list-design--field-sub-option",onClick(){a(e)}},t.map((e=>{const{title:t,visible:n}=e;return w("div",{class:["vxe-list-design--field-checkbox-option",{"is--checked":n}],onClick(){a(e)}},[w("span",{class:["vxe-checkbox--icon",n?Fp().CHECKBOX_CHECKED:Fp().CHECKBOX_UNCHECKED]}),w("span",{class:"vxe-checkbox--label"},`${t}`)])})))]):x()};return()=>w(hh,{span:24,vertical:!0,titleBold:!0},{default:()=>[w(Yh,{title:em("vxe.listDesign.searchField")},{extra:()=>w(Nf,{mode:"text",status:"primary",icon:Fp().FORM_DESIGN_PROPS_EDIT,content:em("vxe.listDesign.search.addBtn"),onClick:i}),default(){const{searchFormItems:e}=t;return[e.length?w("div",{class:"vxe-list-design--search-item-wrapper"},[w("div",{class:"vxe-list-design--search-item-list"},e.map((e=>w("div",{key:e.field,class:"vxe-list-design--search-item"},[w("div",{class:"vxe-list-design--search-item-title"},`${e.title||""}`),w("div",{class:"vxe-list-design--search-item-btn"},[w(Nf,{icon:Fp().LIST_DESIGN_LIST_SETTING_SEARCH_DELETE,mode:"text",status:"error",onClick(){(e=>{const{searchFormItems:n}=t;t.searchFormItems=n.filter((t=>t.field!==e.field))})(e)}})])]))))]):w("div",{class:"vxe-list-design--field-configs-empty-data"},[w("span",{},em("vxe.listDesign.search.emptyText"))])]}}),w(Yh,{title:em("vxe.listDesign.listField")},{default:()=>(()=>{const{listTableColumns:e}=t;return e.map((e=>{const{title:t,visible:n}=e;return w("div",{class:"vxe-list-design--field-option"},[w("div",{class:"vxe-list-design--field-option-inner"},[w("div",{class:["vxe-list-design--field-checkbox-option",{"is--checked":n}],onClick(){a(e)}},[w("span",{class:["vxe-checkbox--icon",n?Fp().CHECKBOX_CHECKED:Fp().CHECKBOX_UNCHECKED]}),w("span",{class:"vxe-checkbox--label"},`${t}`)])]),s(e)])}))})()})]})}}),kx=p({name:"DefaultListSettingTabComponent",props:{},emits:[],setup(){const e=o("$xeListDesign",null);if(!e)return()=>[];const{props:t,reactData:n}=e,l=[],a=[];cm.forEach(((e,t)=>{const{createListDesignSettingActionButtonConfig:n}=e;if(n){const e={name:t},o=Object.assign(Ex({code:t}),n(e));"custom"===o.type?a.push(o):l.push(o)}}));const i=r([{label:"列表视图",value:"list",isExpand:!1}]),s=r([{label:"显示",value:!0},{label:"隐藏",value:!1}]),c=r([{label:"默认",value:"auto"},{label:"允许",value:!0},{label:"不允许",value:!1}]),u=f((()=>{const{formData:e}=n;return[e.listView.enabled,e.ganttView.enabled,e.chartView.enabled].filter((e=>e)).length<=1})),d=()=>w(Yh,{title:"功能按钮"},{extra:()=>w(Nf,{mode:"text",status:"primary",icon:Fp().FORM_DESIGN_PROPS_ADD,content:"新增",onClick(){(e=>{const{formData:o}=n,{actionCodes:i}=t;let s=o.actionButtonList;s||(s=[]);const c=m(Ex(e)),u=l.filter((e=>!(i&&i.length&&!i.some((t=>rp.isString(t)?e.code===t:t.code===e.code))||s.some((t=>t.code===e.code))))),d=a.filter((e=>!s.some((t=>t.code===e.code)))),p=[];u.length&&(c.type||(c.type=""),p.push({value:"",label:"系统按钮"})),d.length&&(c.type||(c.type="custom"),p.push({value:"custom",label:"自定义按钮"}));const g=f((()=>u.map((e=>{const t=e.name;return{label:rp.toValueString(rp.isFunction(t)?t({name:e.code||""}):t),value:e.code}})))),h=r(p);Rm.modal.open({title:"添加按钮",width:600,height:400,showFooter:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"保存",onConfirm(){c.type,s.push(c),o.actionButtonList=[...s]},slots:{default:()=>w(hh,{vertical:!0,titleBold:!0},{default:()=>[w(Yh,{title:"按钮类型",span:24},{default:()=>w(pv,{modelValue:c.type,options:h.value,"onUpdate:modelValue"(e){c.type=e}})}),w(Yh,{title:"选择系统按钮",span:24},{default:()=>w(pv,{modelValue:c.code,options:g.value,"onUpdate:modelValue"(e){c.code=e}})})]})}})})()}}),default(){const{formData:e}=n,t=e.actionButtonList;return t&&t.length?w("div",{class:"vxe-list-design--field-configs-wrapper"},t.map((n=>{let o="",r="";if("custom"===n.type)o=n.icon,r=n.name;else{const e=l.find((e=>e.code===n.code));if(e){const t=e.name;o=e.icon||"",r=rp.toValueString(rp.isFunction(t)?t({name:e.code||""}):t)}}return w("div",{class:"vxe-list-design--field-configs-item"},[o?w("div",{class:"vxe-list-design--field-configs-item-icon"},[w("i",{class:o})]):x(),w("div",{class:"vxe-list-design--field-configs-item-title"},`${r||""}`),w("div",{class:"vxe-list-design--field-configs-item-btn"},[w(Nf,{icon:Fp().LIST_DESIGN_LIST_SETTING_ACTIVE_DELETE,mode:"text",status:"error",onClick(){e.actionButtonList=t.filter((e=>e!==n))}})])])}))):w("div",{class:"vxe-list-design--field-configs-empty-data"},[w("span",{},"无操作按钮")])}});return()=>{const{showPc:e,showMobile:o}=t,{formData:r}=n;return w(hh,{span:24,vertical:!0,titleBold:!0},{default:()=>[w(Yh,{title:"视图配置"},{default:()=>w("div",{class:"vxe-form-design--widget-form-item-render-view"},i.value.map((e=>w("div",{key:e.value,class:"vxe-form-design--widget-form-item-render-view-item"},[w(Xh,{modelValue:r.listView.enabled,disabled:u.value,"onUpdate:modelValue"(e){r.listView.enabled=e}}),w(Ag,{content:e.label,icon:"vxe-icon-table"})]))))}),w(Yh,{title:"默认视图"},{default:()=>[w("div",{class:"vxe-form-design--widget-form-item-devices"},[e?w("div",{class:"vxe-form-design--widget-form-item-devices-item"},[w("div",{class:"vxe-form-design--widget-form-item-devices-left"},[w(Ag,{icon:Fp().FORM_DESIGN_PROPS_PC,content:em("vxe.formDesign.widgetProp.displaySetting.pc")})]),w(pv,{modelValue:r.pcDefaultView,className:"vxe-form-design--widget-form-item-devices-select",options:i.value,"onUpdate:modelValue"(e){r.pcDefaultView=e}})]):x(),o?w("div",{class:"vxe-form-design--widget-form-item-devices-item"},[w("div",{class:"vxe-form-design--widget-form-item-devices-left"},[w(Ag,{icon:Fp().FORM_DESIGN_PROPS_MOBILE,content:em("vxe.formDesign.widgetProp.displaySetting.mobile")})]),w(pv,{modelValue:r.mobileDefaultView,className:"vxe-form-design--widget-form-item-devices-select",options:i.value,"onUpdate:modelValue"(e){r.mobileDefaultView=e}})]):x()])]}),w(Yh,{title:"列配置"},{default(){const{formData:e}=n;return[w("div",{class:"vxe-list-design--widget-form-item-prop-list"},[w("span",{},"显示序号"),w(uv,{modelValue:e.showSeq,options:s.value,"onUpdate:modelValue"(t){e.showSeq=t}})]),w("div",{class:"vxe-list-design--widget-form-item-prop-list"},[w("span",{},"表尾统计"),w(uv,{modelValue:e.showStatistics,options:s.value,"onUpdate:modelValue"(t){e.showStatistics=t}})])]}}),w(Yh,{title:"批量操作"},{default(){const{formData:e}=n;return w(uv,{modelValue:e.showCheckbox,options:c.value,"onUpdate:modelValue"(t){e.showCheckbox=t}})}}),l.length||a.length?d():x()]})}}}),Ix=p({name:"ListDesignLayoutSetting",props:{},emits:[],setup(){const e=r(1);return()=>w("div",{class:"vxe-list-design--setting"},[w("div",{class:"vxe-list-design--setting-form"},[w(Uh,{modelValue:e.value,titleWidth:"50%",titleAlign:"center",padding:!0,class:"vxe-list-design--setting-form-tabs","onUpdate:modelValue"(t){e.value=t}},{default:()=>[w(Kh,{title:em("vxe.listDesign.fieldSettingTab"),icon:Fp().LIST_DESIGN_FIELD_SETTING,name:1},{default:()=>w(Ox)}),w(Kh,{title:em("vxe.listDesign.listSettingTab"),icon:Fp().LIST_DESIGN_LIST_SETTING,name:2},{default:()=>w(kx)})]})])])}}),Mx=p({name:"VxeListDesign",props:{size:{type:String,default:()=>Rp().listDesign.size||Rp().size},height:{type:[String,Number],default:()=>Rp().listDesign.height},config:Object,showPc:{type:Boolean,default:()=>Rp().listDesign.showPc},showMobile:{type:Boolean,default:()=>Rp().listDesign.showMobile},actionCodes:Array,formRender:Object},emits:[],setup(e,n){const{emit:o,slots:l}=n,a=rp.uniqueId(),s=r(),{computeSize:c}=Sm(e),u=m({formData:{},searchFormData:{},searchFormItems:[],listTableColumns:[]}),d={refElem:s},p={computeSize:c},f={xID:a,props:e,context:n,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>p},g=[];cm.forEach(((e,t)=>{const{createListDesignSettingActionButtonConfig:n}=e;if(n){const e={name:t},o=Object.assign(Ex({code:t}),n(e));"custom"===o.type||g.push(o)}}));const h=e=>({title:e.title,field:e.field,visible:!e.hidden,width:"",cellRender:{name:e.name,props:e.options}}),v=e=>{const t=[];if(e){const{widgetData:n}=e;n&&n.forEach((e=>{const{name:n}=e;n&&("row"===n?e.children.forEach((e=>{e.name&&t.push(h(e))})):"subtable"===n||t.push(h(e)))}))}return t},x=e=>{const{formConfig:n,searchItems:o,listColumns:l}=e;return n&&C(n),o&&E(o),l&&(u.listTableColumns=y(l)),t()},y=e=>(e=>e?e.map((e=>({field:e.field,title:e.title,visible:!!e.visible,width:e.width,cellRender:rp.clone(e.cellRender)}))):[])(e),C=e=>(u.formData=Object.assign({},D(),e),t()),S=()=>u.searchFormItems,E=e=>{const{data:n,items:o}=(e=>{if(e){const t={};return{items:e.map((e=>(t[e.field]=null,{field:e.field,title:e.title,folding:e.folding,itemRender:e.itemRender}))),data:t}}return{items:[],data:{}}})(e);return u.searchFormData=n,u.searchFormItems=o,t()},T=()=>u.listTableColumns,D=()=>{const{actionCodes:t,formRender:n}=e;let o={listView:{enabled:!0},ganttView:{enabled:!1},chartView:{enabled:!1},autoFoldFilter:!0,showCheckbox:"auto",showSeq:!0,showStatistics:!0,mobileDefaultView:"list",pcDefaultView:"list",actionButtonList:[]};if(t&&t.length&&(!o.actionButtonList||!o.actionButtonList.length)){const e=[];t.forEach((t=>{if(rp.isObject(t)&&t.default){const n=g.find((e=>e.code===t.code));n&&e.push(Ex({type:n.type,code:n.code}))}})),o.actionButtonList=e}if(n&&n.name){const e=cm.get(n.name),t=e?e.createListDesignSettingFormConfig:null,l={name:n.name};o=(t?t(l):{})||{}}return o},O=()=>{u.formData=D()},k=()=>(x({searchItems:[],listColumns:[]}),O(),t()),I={dispatchEvent(e,t,n){o(e,Hp(n,{$listDesign:f},t))},loadFormDesignConfig(e){const{listTableColumns:n}=u,o={};rp.eachTree(n,(e=>{o[e.field]=e}),{children:"children"});const l=v(e);return rp.eachTree(l,(e=>{const t=o[e.field];t&&(t.width&&(e.width=t.width),e.visible=t.visible)}),{children:"children"}),u.listTableColumns=l,t()},reloadFormDesignConfig:e=>(u.listTableColumns=v(e),t()),getSearchItems:S,setSearchItems:E,getListColumns:T,setListColumns:e=>(u.listTableColumns=y(e),t()),getConfig:()=>({formConfig:u.formData,searchItems:S(),listColumns:T()}),loadConfig:x,reloadConfig:e=>(k(),x(e)),clearConfig:k};Object.assign(f,I,{});return b("$xeListDesign",f),i((()=>e.config),(e=>{x(e||{})})),O(),e.config&&x(e.config),f.renderVN=()=>{const{height:t}=e,n=c.value,o=l.header;return w("div",{ref:s,class:["vxe-list-design",{[`size--${n}`]:n}],style:t?{height:lf(t)}:null},[w("div",{class:"vxe-list-design--header"},o?o({}):[]),w("div",{class:"vxe-list-design--body"},[w(Tx),w(Ix)])])},f},render(){return this.renderVN()}});cm.mixin({});const Px=Object.assign({},Mx,{install(e){e.component(Mx.name,Mx)}});$m.use(Px),Rm.component(Mx),Rm.listDesignHandle={};const Rx=Px,Vx=p({name:"VxeListView",props:{size:{type:String,default:()=>Rp().listView.size||Rp().size},config:Object,height:{type:[String,Number],default:()=>Rp().listView.height},loading:Boolean,formData:Object,actionButtons:Array,gridOptions:Object,gridEvents:Object,viewRender:Object},emits:["cell-action","update:formData","update:actionButtons"],setup(e,n){const o=Rm.getComponent("VxeGrid"),{emit:l,slots:a}=n,s=rp.uniqueId(),c=r(),u=r(),{computeSize:d}=Sm(e),p=m({formConfig:{},searchFormData:{},searchFormItems:[],listTableColumns:[],tableColumns:[],footerData:[{}]}),g=f((()=>{const{gridOptions:t}=e,{formConfig:n,tableColumns:o,searchFormData:l,searchFormItems:r,footerData:a}=p,{showStatistics:i}=n,s=t||{},c=Object.assign({minWidth:120},s.columnConfig);let u;return s.proxyConfig&&(u=Object.assign({autoLoad:!1},s.proxyConfig)),Object.assign({},s,{columns:o,columnConfig:c,showFooter:i,footerData:i?a:null,formConfig:{data:l,items:r},proxyConfig:u})})),h=f((()=>{const{gridEvents:t}=e,n={};return rp.each(t,((e,t)=>{n[rp.camelCase(`on-${t}`)]=e})),n})),v={refElem:c,refGrid:u},y={computeSize:d},C={xID:s,props:e,context:n,reactData:p,getRefMaps:()=>v,getComputeMaps:()=>y},S=[];cm.forEach(((e,t)=>{const{createListDesignSettingActionButtonConfig:n}=e;if(n){const e={name:t},o=Object.assign(Ex({code:t}),n(e));"custom"===o.type||S.push(o)}}));const E=e=>{if(e&&e.length){const t={},n=e.map((e=>(t[e.field]=null,{field:e.field,title:e.title,folding:e.folding,itemRender:e.itemRender})));return n.push({field:"active",title:"",folding:!1,collapseNode:e.some((e=>e.folding)),itemRender:{name:"VxeButtonGroup",options:[{content:"查询",icon:"vxe-icon-search",status:"primary",type:"submit"},{content:"重置",icon:"vxe-icon-repeat",type:"reset"}]}}),{items:n,data:t}}return{items:[],data:{}}},T=e=>{if(e){const{formConfig:t,searchItems:n,listColumns:o}=e;p.formConfig=t||{},I(n||[]),k(o||[])}return t()},D=(e,t)=>{const n=Object.assign({},t),{showSeq:o,actionButtonList:l}=n,r=[],i={},s=a.cellAction,c=a.footerCell;if(o&&r.push({type:"seq",field:"_seq",fixed:"left",width:70}),(e=>e?e.map((e=>({field:e.field,title:e.title,visible:!!e.visible,width:e.width,cellRender:rp.clone(e.cellRender)}))):[])(e||[]).forEach((e=>{const t=Object.assign({},e);n.showStatistics&&c&&(t.slots={footer:e=>c(Object.assign({},e))}),t.field&&(i[t.field]=null),r.push(t)})),l&&l.length){const e={field:"_active",title:em("vxe.table.actionTitle"),fixed:"right",width:"auto"},t=[];l.forEach((e=>{if("custom"===e.type)return{content:e.name,name:e.code,icon:e.icon};const n=S.find((t=>t.code===e.code));let o=e.name,l=e.icon,r=e.status,a=e.permissionCode,i=e.classify;if(n){const e=n.name;l=n.icon||"",r=n.status||"",a=n.permissionCode||"",i=n.classify||"",o=rp.toValueString(rp.isFunction(e)?e({name:n.code||""}):e)}i&&"cellButton"!==i||t.push({content:o,name:e.code,icon:l,status:r,permissionCode:a})})),s?e.slots={default:e=>s(Object.assign(Object.assign({},e),{buttons:t}))}:e.cellRender={name:"VxeButtonGroup",props:{mode:"text"},options:t,events:{click(e,t){const{option:n}=t;M("cell-action",Object.assign(Object.assign({},e),{button:n}),t.$event)}}},r.push(e)}return{rowRecord:i,columns:r,actionButtons:l}},O=(e,...t)=>{const n=u.value;return n?n.commitProxy(e,...t):Promise.resolve()},k=e=>{const{formConfig:n}=p,o=e,{columns:r,actionButtons:a}=D(o,n);p.listTableColumns=o,p.tableColumns=r,l("update:actionButtons",a),t((()=>{g.value.proxyConfig&&O("reload")}))},I=e=>{const{data:n,items:o}=E(e);return p.searchFormData=n,p.searchFormItems=o,l("update:formData",n),t()},M=(e,t,n)=>{l(e,Hp(n,{$listView:C},t))},P={dispatchEvent:M,clearConfig:()=>(l("update:formData",{}),Object.assign(p,{formConfig:{},searchFormData:{},searchFormItems:[],listTableColumns:[],tableColumns:[],footerData:[{}]}),t()),loadConfig:T,parseConfig:e=>{const{formConfig:t,searchItems:n,listColumns:o}=e||{},{columns:l,rowRecord:r,actionButtons:a}=D(o||[],t||p.formConfig),{data:i,items:s}=(e=>E(e))(n||[]);return{formData:i,formItems:s,tableColumns:l,tableRecord:r,actionButtons:a}},getTableRecord:e=>{if(rp.isArray(e)){const{rowRecord:t}=D(e,p.formConfig);return t}if(e){const{formConfig:t,listColumns:n}=e,{rowRecord:o}=D(n||[],t||p.formConfig);return o}return{}},getQueryFilter:()=>{const{searchFormData:e,searchFormItems:t}=p,n=[],o={items:n,type:"and"};return u.value?(t.forEach((t=>{const{field:o}=t,l=e[o];if(l){const e=[];e.push({field:o,value:l,match:"exact",type:rp.isArray(l)?"array":""}),n.push({condition:e,type:"and"})}})),o):o},commitProxy:O};Object.assign(C,P,{});return i((()=>e.config),(e=>{T(e||{})})),e.config&&T(e.config),b("$xeListView",C),C.renderVN=()=>{const{height:t,loading:n}=e,l=d.value,r=a.grid,i=g.value,s=h.value;return w("div",{ref:c,class:["vxe-list-view",{[`size--${l}`]:l,"is--loading":n}],style:t?{height:lf(t)}:null},[w("div",{class:"vxe-list-view--body"},[r?w("div",{class:"vxe-list-view--grid-wrapper"},Um(r({$listView:C}))):o?w(o,Object.assign({},i,s,{ref:u}),Object.assign({},a,{default:void 0})):x()]),w(Gf,{class:"vxe-list-view--loading",modelValue:n})])},C},render(){return this.renderVN()}}),Ax=Object.assign(Vx,{install:function(e){e.component(Vx.name,Vx)}});$m.use(Ax),Rm.component(Vx);const $x=Ax,Fx=p({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:()=>Rp().list.size||Rp().size},autoResize:{type:Boolean,default:()=>Rp().list.autoResize},syncResize:[Boolean,String,Number],scrollY:Object},emits:["scroll"],setup(e,n){const{slots:o,emit:l}=n,a=rp.uniqueId(),{computeSize:s}=Sm(e),c=m({scrollYLoad:!1,bodyHeight:0,customHeight:0,customMaxHeight:0,parentHeight:0,topSpaceHeight:0,items:[]}),d={resizeObserver:void 0,fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}},p=r(),v=r(),b=r(),x={refElem:p},y={xID:a,props:e,context:n,reactData:c,internalData:d,getRefMaps:()=>x},C=f((()=>Object.assign({},Rp().list.scrollY,e.scrollY))),S=f((()=>{const{height:t,maxHeight:n}=e,{customHeight:o,customMaxHeight:l}=c,r={};return t?r.height=`${o}px`:n&&(r.height="auto",r.maxHeight=`${l}px`),r})),E=(e,t,n)=>{l(e,Hp(n,{$list:y},t))},T=t=>{const{parentHeight:n}=c,o=e[t];let l=0;return o&&("100%"===o||"auto"===o?l=n:(l=function(e){return e&&/^\d+%$/.test(e)}(o)?Math.floor((rp.toInteger(o)||1)/100*n):rp.toNumber(o),l=Math.max(40,l))),l},D=()=>{const{scrollYLoad:e}=c,{scrollYStore:t,fullData:n}=d;c.bodyHeight=e?n.length*t.rowHeight:0,c.topSpaceHeight=e?Math.max(t.startIndex*t.rowHeight,0):0},O=()=>{const{scrollYLoad:e}=c,{fullData:n,scrollYStore:o}=d;return c.items=e?n.slice(o.startIndex,o.endIndex):n.slice(0),t()},k=()=>{O(),D()},I=()=>t().then((()=>{const{scrollYLoad:e}=c,{scrollYStore:t}=d,n=b.value,o=C.value;let l,r=0;if(n&&(o.sItem&&(l=n.querySelector(o.sItem)),l||(l=n.children[0])),l&&(r=l.offsetHeight),r=Math.max(12,r),t.rowHeight=r,e){const e=v.value,n=Math.max(8,Math.ceil(e.clientHeight/r)),l=o.oSize?rp.toNumber(o.oSize):Xm.edge?10:0;t.offsetSize=l,t.visibleSize=n,t.endIndex=Math.max(t.startIndex+n+l,t.endIndex),k()}else D()})),M=()=>{const e=v.value;return e&&(e.scrollTop=0),t()},P=(e,n)=>{const o=v.value;return rp.isNumber(e)&&(o.scrollLeft=e),rp.isNumber(n)&&(o.scrollTop=n),c.scrollYLoad?new Promise((e=>{setTimeout((()=>{t((()=>{e()}))}),50)})):t()},R=()=>{const{lastScrollLeft:e,lastScrollTop:t}=d;return M().then((()=>{if(e||t)return d.lastScrollLeft=0,d.lastScrollTop=0,P(e,t)}))},V=()=>{const e=p.value;if(e){const t=e.parentElement;if(c.parentHeight=t?t.clientHeight:0,c.customHeight=T("height"),c.customMaxHeight=T("maxHeight"),e.clientWidth&&e.clientHeight)return I()}return t()},A=e=>{const t=e.target,n=t.scrollTop,o=t.scrollLeft,l=o!==d.lastScrollLeft,r=n!==d.lastScrollTop;d.lastScrollTop=n,d.lastScrollLeft=o,c.scrollYLoad&&(e=>{const{scrollYStore:t}=d,{startIndex:n,endIndex:o,visibleSize:l,offsetSize:r,rowHeight:a}=t,i=e.target.scrollTop,s=Math.floor(i/a),c=Math.max(0,s-1-r),u=s+l+r;(s<=n||s>=o-l-1)&&(n===c&&o===u||(t.startIndex=c,t.endIndex=u,k()))})(e),E("scroll",{scrollLeft:o,scrollTop:n,isX:l,isY:r},e)},$=e=>{const{scrollYStore:t}=d,n=C.value,o=e||[];return Object.assign(t,{startIndex:0,endIndex:1,visibleSize:0}),d.fullData=o,c.scrollYLoad=!!n.enabled&&n.gt>-1&&(0===n.gt||n.gt<=o.length),O(),I().then((()=>{R()}))},F={dispatchEvent:E,loadData:$,reloadData:e=>(M(),$(e)),recalculate:V,scrollTo:P,refreshScroll:R,clearScroll:M};Object.assign(y,F);const N=r(0);i((()=>e.data?e.data.length:-1),(()=>{N.value++})),i((()=>e.data),(()=>{N.value++})),i(N,(()=>{$(e.data||[])})),i((()=>e.height),(()=>{V()})),i((()=>e.maxHeight),(()=>{V()})),i((()=>e.syncResize),(e=>{e&&(V(),t((()=>setTimeout((()=>V())))))})),u((()=>{V().then((()=>R()))})),t((()=>{$(e.data||[])})),g((()=>{if(V(),e.autoResize){const e=p.value,t=Zp.create((()=>V()));t.observe(e),e&&t.observe(e.parentElement),d.resizeObserver=t}qp.on(y,"resize",V)})),h((()=>{const{resizeObserver:e}=d;e&&e.disconnect(),qp.off(y,"resize")}));return y.renderVN=()=>{const{className:t,loading:n}=e,{bodyHeight:l,topSpaceHeight:r,items:a}=c,i=o.default,u=s.value,d=S.value;return w("div",{ref:p,class:["vxe-list",t?rp.isFunction(t)?t({$list:y}):t:"",{[`size--${u}`]:u,"is--loading":n}]},[w("div",{ref:v,class:"vxe-list--virtual-wrapper",style:d,onScroll:A},[w("div",{class:"vxe-list--y-space",style:{height:l?`${l}px`:""}}),w("div",{ref:b,class:"vxe-list--body",style:{marginTop:r?`${r}px`:""}},i?i({items:a,$list:y}):[])]),w(Gf,{class:"vxe-list--loading",modelValue:n})])},y},render(){return this.renderVN()}}),Nx=Object.assign(Fx,{install(e){e.component(Fx.name,Fx)}});$m.use(Nx),Rm.component(Fx);const Lx=Nx,_x=p({name:"VxeMenu",props:{modelValue:[String,Number],expandAll:Boolean,collapsed:{type:Boolean,default:null},collapseFixed:Boolean,loading:Boolean,options:{type:Array,default:()=>[]},size:{type:String,default:()=>Rp().image.size||Rp().size}},emits:["update:modelValue","click"],setup(e,n){const{emit:l,slots:a}=n,c=rp.uniqueId(),u=o("$xeLayoutAside",null),d=r(),p=r(),{computeSize:h}=Sm(e),v=m({initialized:!!e.collapsed,isEnterCollapse:!1,collapseStyle:{},collapseZindex:0,activeName:e.modelValue,menuList:[],itemHeight:1}),b={refElem:d},y=f((()=>{const{collapsed:t}=e;return rp.isBoolean(t)?t:!!u&&!!u.props.collapsed})),S=f((()=>{let e="";return u&&(e=u.props.collapseWidth||""),e})),E=f((()=>{let e="";return u&&(e=u.props.width||""),e})),T={computeSize:h},D={xID:c,props:e,context:n,reactData:v,getRefMaps:()=>b,getComputeMaps:()=>T},O=e=>{const{activeName:t}=v;rp.eachTree(v.menuList,((e,n,o,l,r,a)=>{e.itemKey===t?(a.forEach((e=>{e.isActive=!0,e.isExpand=!0})),e.isExactActive=!0):(e.isExactActive=!1,e.isActive=!1)}),{children:"childList"})},k=()=>{const{options:t,expandAll:n}=e;v.menuList=rp.mapTree(t,((e,t,o,l,r)=>Object.assign(Object.assign({},e),{parentKey:r?r.name||l.slice(0,l.length-1).join(","):"",level:l.length,itemKey:e.name||l.join(","),isExactActive:!1,isActive:!1,isExpand:rp.isBoolean(e.expanded)?e.expanded:!!n,hasChild:e.children&&e.children.length>0})),{children:"children",mapChildren:"childList"})},I=()=>{const{collapseFixed:n}=e;n&&t((()=>{const{isEnterCollapse:e}=v,t=y.value,n=E.value,o=S.value,l=d.value;if(l){const r=l.getBoundingClientRect(),a=l.parentNode;v.collapseStyle=t?{top:lf(r.top),left:lf(r.left),height:lf(a.clientHeight),width:e?n?lf(n):"":o?lf(o):"",zIndex:v.collapseZindex}:{}}}))},M=()=>{const{collapseFixed:n}=e;if(n){const{initialized:e}=v;y.value&&(e||(v.initialized=!0,t((()=>{const e=p.value;e&&document.body.appendChild(e)})))),v.isEnterCollapse=!1,v.collapseZindex<Rf()&&(v.collapseZindex=Pf()),I()}},P=(e,t)=>{const{hasChild:n,isExpand:o}=t;n&&(e.stopPropagation(),e.preventDefault(),t.isExpand=!o)},R=e=>{v.activeName=e,l("update:modelValue",e)},V=(e,t)=>{const{itemKey:n,routerLink:o,hasChild:l}=t;o?(R(n),$()):l?P(e,t):(R(n),$()),F("click",{menu:t},e)},A=()=>{const{collapseStyle:e}=v,t=E.value;v.collapseStyle=Object.assign({},e,{width:t?lf(t):""}),v.isEnterCollapse=!0},$=()=>{const{collapseStyle:e}=v,t=d.value;v.collapseStyle=Object.assign({},e,{width:t?lf(t.offsetWidth):""}),v.isEnterCollapse=!1},F=(e,t,n)=>{l(e,Hp(n,{$menu:D},t))},N={dispatchEvent:F};Object.assign(D,N,{});const L=e=>{const{icon:t,isExpand:n,hasChild:o,slots:l}=e,r=l?l.default:a.option,i=(e=>`${e.title||e.name}`)(e),s=y.value;return[w("div",{class:"vxe-menu--item-link-icon"},t?[w("i",{class:t})]:[]),r?w("div",{class:"vxe-menu--item-custom-title"},(c=r,u={option:e,collapsed:s},c&&(rp.isString(c)&&(c=a[c]||null),rp.isFunction(c))?Um(c(u)):[])):w("div",{class:"vxe-menu--item-link-title",title:i},i),o?w("div",{class:"vxe-menu--item-link-collapse",onClick(t){P(t,e)}},[w("i",{class:n?Fp().MENU_ITEM_EXPAND_OPEN:Fp().MENU_ITEM_EXPAND_CLOSE})]):x()];var c,u},_=e=>{const{itemKey:t,level:n,hasChild:o,isActive:l,isExactActive:r,isExpand:a,routerLink:i,childList:s}=e,{isEnterCollapse:c}=v,u=y.value;return e.permissionCode&&!wm.checkVisible(e.permissionCode)?x():w("div",{key:t,class:["vxe-menu--item-wrapper",`vxe-menu--item-level${n}`,{"is--exact-active":r,"is--active":l,"is--expand":(!u||c)&&a}]},[i?w(C("router-link"),{class:"vxe-menu--item-link",to:i,onClick(t){V(t,e)}},{default:()=>L(e)}):w("div",{class:"vxe-menu--item-link",onClick(t){V(t,e)}},L(e)),o?w("div",{class:"vxe-menu--item-group"},s.map((e=>_(e)))):x()])},B=r(0);return i((()=>e.options?e.options.length:-1),(()=>{B.value++})),i((()=>e.options),(()=>{B.value++})),i(B,(()=>{k(),O()})),i((()=>e.modelValue),(e=>{v.activeName=e})),i((()=>v.activeName),(()=>{O()})),i(y,(()=>{M()})),g((()=>{qp.on(D,"resize",I),I()})),s((()=>{qp.off(D,"resize");const e=p.value;if(e){const t=e.parentNode;t&&t.removeChild(e)}})),k(),O(),D.renderVN=()=>{const{loading:t}=e,{initialized:n,menuList:o,collapseStyle:l,isEnterCollapse:r}=v,a=h.value,i=y.value;return w("div",{ref:d,class:["vxe-menu",{[`size--${a}`]:a,"is--collapsed":i,"is--loading":t}]},[w("div",{class:"vxe-menu--item-list"},o.map((e=>i?(e=>{const{itemKey:t,level:n,hasChild:o,isActive:l,isExactActive:r,routerLink:a,childList:i}=e;return e.permissionCode&&!wm.checkVisible(e.permissionCode)?x():w("div",{key:t,class:["vxe-menu--item-wrapper",`vxe-menu--item-level${n}`,{"is--exact-active":r,"is--active":l}]},[a?w(C("router-link"),{class:"vxe-menu--item-link",to:a,onClick(t){V(t,e)}},{default:()=>L(e)}):w("div",{class:"vxe-menu--item-link",onClick(t){V(t,e)}},L(e)),o?w("div",{class:"vxe-menu--item-group"},i.map((e=>_(e)))):x()])})(e):_(e)))),n?w("div",{ref:p,class:["vxe-menu--collapse-wrapper",{[`size--${a}`]:a,"is--collapsed":i,"is--enter":r,"is--loading":t}],style:l,onMouseenter:A,onMouseleave:$},[i?w("div",{class:"vxe-menu--item-list"},o.map((e=>_(e)))):x()]):x(),w(Gf,{class:"vxe-list-view--loading",modelValue:t})])},D},render(){return this.renderVN()}}),Bx=Object.assign({},_x,{install(e){e.component(_x.name,_x)}});$m.use(Bx),Rm.component(_x);const jx=Bx;function zx(e){return rp.find(Jh,(t=>t.props.id===e))}function Wx(e,t,n,o){let l;return l=rp.isObject(t)?t:{content:rp.toValueString(t),title:n},function(e){return Fm(),new Promise((t=>{const n=Object.assign({},e);if(n.id&&Jh.some((e=>e.props.id===n.id)))t("exist");else{const e=n.onHide,o=Object.assign(n,{key:rp.uniqueId(),modelValue:!0,onHide(n){const l=Am.modals;e&&e(n),Am.modals=l.filter((e=>e.key!==o.key)),t(n.type)}});Am.modals.push(o)}}))}(Object.assign(Object.assign(Object.assign({},e),o),l))}const Hx={get:zx,close:function(e){const t=e?[zx(e)]:Jh,n=[];return t.forEach((e=>{e&&n.push(e.close())})),Promise.all(n)},open:function(e){return Wx({type:"modal"},e)},alert:function(e,t,n){return Wx({type:"alert",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,n)},confirm:function(e,t,n){return Wx({type:"confirm",status:"question",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,n)},message:function(e,t){return Wx({type:"message",mask:!1,lockView:!1,lockScroll:!1,showHeader:!1},e,"",t)},notification:function(e,t,n){return Wx({type:"notification",mask:!1,lockView:!1,lockScroll:!1,showHeader:!0,draggable:!1,position:"top-right",width:320},e,t,n)}},qx=Object.assign(lv,{install:function(e){e.component(lv.name,lv)}});Rm.modal=Hx,$m.use(qx),Rm.component(lv);const Ux=qx,Kx=p({name:"VxeNoticeBar",props:{duration:[String,Number],direction:{type:String,default:()=>Rp().noticeBar.direction},speed:{type:String,default:()=>Rp().noticeBar.speed},content:String,vertical:Boolean,loop:{type:Boolean},size:{type:String,default:()=>Rp().noticeBar.size||Rp().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId(),{computeSize:a}=Sm(e),i=r(),c=r(),u=m({animationDuration:0}),d={refElem:i},p=f((()=>{const{content:t}=e;return`${t||""}`})),h={},v={xID:l,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>h},b={dispatchEvent:(e,t,n)=>{o(e,Hp(n,{$noticeBar:v},t))}},x=()=>{const{speed:t}=e,n=c.value;if(n){let e=46;"fast"===t?e=118:"slow"===t&&(e=18),u.animationDuration=Math.ceil(n.scrollWidth/e)}};Object.assign(v,b,{});return v.renderVN=()=>{const{vertical:t,duration:o,direction:l}=e,{animationDuration:r}=u,s=a.value,d=p.value,m=n.default,f=n.prefix,g=n.suffix;return w("div",{ref:i,class:["vxe-notice-bar","is--"+(t?"vertical":"horizontal"),`dir--${l||"left"}`,{[`size--${s}`]:s}]},[f?w("div",{class:"vxe-notice-bar--prefix"},f({})):Pm(),w("div",{class:"vxe-notice-bar--content"},[w("div",{ref:c,class:"vxe-notice-bar--inner"},[w("div",{class:"vxe-notice-bar--wrapper",style:{animationDuration:`${o?lf(o,"s"):r}s`}},m?m({}):d)])]),g?w("div",{class:"vxe-notice-bar--suffix"},g({})):Pm()])},g((()=>{qp.on(v,"resize",x),x()})),s((()=>{qp.off(v,"resize")})),v},render(){return this.renderVN()}}),Gx=Object.assign({},Kx,{install(e){e.component(Kx.name,Kx)}});$m.use(Gx),Rm.component(Kx);const Yx=Gx,Xx=Object.assign({},Yv,{install(e){e.component(Yv.name,Yv)}});$m.use(Xx),Rm.component(Yv);const Zx=Xx;class Qx{constructor(e,t){Object.assign(this,{id:rp.uniqueId("option_"),value:t.value,label:t.label,visible:t.visible,className:t.className,disabled:t.disabled})}update(e,t){this[e]=t}}function Jx(e,t){return t instanceof Qx?t:new Qx(e,t)}function ey(e,t){Object.keys(e).forEach((n=>{i((()=>e[n]),(e=>{t.update(n,e)}))}))}function ty(e,t,n,o){const{reactData:l}=e,{staticOptions:r}=l,a=t.parentNode,i=o?o.optionConfig:null,s=i?i.options:r;a&&s&&(s.splice(rp.arrayIndexOf(a.children,t),0,n),l.staticOptions=r.slice(0))}function ny(e,t){const{reactData:n}=e,{staticOptions:o}=n,l=rp.findTree(o,(e=>e.id===t.id),{children:"options"});l&&l.items.splice(l.index,1),n.staticOptions=o.slice(0)}const oy=p({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},emits:[],setup(e,{slots:t}){const n=r(),l=o("$xeSelect",{}),a=Jx(l,e),i={optionConfig:a};return a.options=[],b("$xeOptgroup",i),ey(e,a),g((()=>{const e=n.value;ty(l,e,a)})),h((()=>{ny(l,a)})),()=>{const e=t.default;return w("div",{ref:n},e?e({}):[])}}}),ly=Object.assign(oy,{install:function(e){e.component(oy.name,oy)}});$m.use(ly),Rm.component(oy);const ry=ly,ay=p({name:"VxeOption",props:{value:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},emits:[],setup(e,{slots:t}){const n=r(),l=o("$xeSelect",{}),a=o("$xeOptgroup",null),i=Jx(l,e);return i.slots=t,ey(e,i),g((()=>{const e=n.value;ty(l,e,i,a)})),h((()=>{ny(l,i)})),()=>w("div",{ref:n})}}),iy=Object.assign(ay,{install:function(e){e.component(ay.name,ay)}});$m.use(iy),Rm.component(ay);const sy=iy,cy=p({name:"VxePager",props:{size:{type:String,default:()=>Rp().pager.size||Rp().size},layouts:{type:Array,default:()=>Rp().pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>Rp().pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>Rp().pager.pagerCount||7},pageSizes:{type:Array,default:()=>Rp().pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>Rp().pager.align},border:{type:Boolean,default:()=>Rp().pager.border},background:{type:Boolean,default:()=>Rp().pager.background},perfect:{type:Boolean,default:()=>Rp().pager.perfect},autoHidden:{type:Boolean,default:()=>Rp().pager.autoHidden},transfer:{type:Boolean,default:()=>Rp().pager.transfer},className:[String,Function],pageSizePlacement:{type:String,default:()=>Rp().pager.pageSizePlacement},iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,n){const{slots:l,emit:a}=n,s=rp.uniqueId(),{computeSize:c}=Sm(e),u=o("$xeGrid",null),d=m({inpCurrPage:e.currentPage}),p=r(),g={refElem:p},h=f((()=>E(e.total,e.pageSize))),v=f((()=>{const{pagerCount:t}=e,n=h.value>t?t-2:t,o=[];for(let e=0;e<n;e++)o.push(e);return o})),b=f((()=>Math.floor((e.pagerCount-2)/2))),x=f((()=>e.pageSizes.map((e=>rp.isNumber(e)?{value:e,label:`${em("vxe.pager.pagesize",[e])}`}:Object.assign({value:"",label:""},e))))),y={xID:s,props:e,context:n,getRefMaps:()=>g};let C={},S={};const E=(e,t)=>Math.max(Math.ceil(e/t),1),T=(t,n)=>{a("update:currentPage",n),t&&n!==e.currentPage&&C.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:n},t)},D=(t,n)=>{a("update:currentPage",t),n&&t!==e.currentPage&&C.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:t},n)},O=e=>{const{$event:t}=e,n=t.target,o=rp.toInteger(n.value),l=h.value,r=o<=0?1:o>=l?l:o,a=rp.toValueString(r);n.value=a,d.inpCurrPage=a,D(r,t)},k=t=>{const{currentPage:n}=e;n>1&&D(1,t)},I=t=>{const{currentPage:n}=e,o=h.value;n<o&&D(o,t)},M=t=>{const{currentPage:n}=e,o=h.value;n>1&&D(Math.min(o,Math.max(n-1,1)),t)},P=t=>{const{currentPage:n}=e,o=h.value;n<o&&D(Math.min(o,n+1),t)},R=t=>{const n=v.value;D(Math.max(e.currentPage-n.length,1),t)},V=t=>{const n=h.value,o=v.value;D(Math.min(e.currentPage+o.length,n),t)},A=t=>{const{value:n}=t,o=rp.toNumber(n),l=E(e.total,o);let r=e.currentPage;r>l&&(r=l,a("update:currentPage",l)),a("update:pageSize",o),C.dispatchEvent("page-change",{type:"size",pageSize:o,currentPage:r},t.$event)},$=e=>{const{$event:t}=e;qp.hasKey(t,Np.ENTER)?O(e):qp.hasKey(t,Np.ARROW_UP)?(t.preventDefault(),P(t)):qp.hasKey(t,Np.ARROW_DOWN)&&(t.preventDefault(),M(t))},F=()=>w("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage<=1}],type:"button",title:em("vxe.pager.homePageTitle"),onClick:k},[w("i",{class:["vxe-pager--btn-icon",e.iconHomePage||Fp().PAGER_HOME]})]),N=()=>w("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage<=1}],type:"button",title:em("vxe.pager.prevPageTitle"),onClick:M},[w("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||Fp().PAGER_PREV_PAGE]})]),L=t=>w(t||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!t,"is--disabled":e.currentPage<=1}],type:"button",title:em("vxe.pager.prevJumpTitle"),onClick:R},[t?w("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||Fp().PAGER_JUMP_MORE]}):null,w("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||Fp().PAGER_JUMP_PREV]})]),_=t=>{const n=h.value;return w(t||"button",{class:["vxe-pager--jump-next",{"is--fixed":!t,"is--disabled":e.currentPage>=n}],type:"button",title:em("vxe.pager.nextJumpTitle"),onClick:V},[t?w("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||Fp().PAGER_JUMP_MORE]}):null,w("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||Fp().PAGER_JUMP_NEXT]})])},B=()=>{const t=h.value;return w("button",{class:["vxe-pager--next-btn",{"is--disabled":e.currentPage>=t}],type:"button",title:em("vxe.pager.nextPageTitle"),onClick:P},[w("i",{class:["vxe-pager--btn-icon",e.iconNextPage||Fp().PAGER_NEXT_PAGE]})])},j=()=>{const t=h.value;return w("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage>=t}],type:"button",title:em("vxe.pager.endPageTitle"),onClick:I},[w("i",{class:["vxe-pager--btn-icon",e.iconEndPage||Fp().PAGER_END]})])},z=t=>{const{currentPage:n,pagerCount:o}=e,l=[],r=h.value,a=v.value,i=b.value,s=r>o,c=s&&n>i+1,u=s&&n<r-i;let d=1;return s&&(d=n>=r-i?Math.max(r-a.length+1,1):Math.max(n-i,1)),t&&c&&l.push(w("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>T(e,1)},"1"),L("span")),a.forEach(((e,t)=>{const o=d+t;o<=r&&l.push(w("button",{key:o,class:["vxe-pager--num-btn",{"is--active":n===o}],type:"button",onClick:e=>T(e,o)},`${o}`))})),t&&u&&l.push(_("button"),w("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>T(e,r)},r)),w("span",{class:"vxe-pager--btn-wrapper"},l)},W=()=>z(!0),H=()=>{const t=x.value;return w(pv,{class:"vxe-pager--sizes",modelValue:e.pageSize,placement:e.pageSizePlacement,transfer:e.transfer,options:t,onChange:A})},q=e=>{const t=h.value;return w("span",{class:"vxe-pager--jump"},[e?w("span",{class:"vxe-pager--goto-text"},em("vxe.pager.goto")):null,w(Mg,{class:"vxe-pager--goto",modelValue:d.inpCurrPage,placeholder:em("vxe.pager.gotoTitle"),align:"center",type:"integer",max:t,min:1,controls:!1,onKeydown:$,onBlur:O,"onUpdate:modelValue"(e){d.inpCurrPage=e}}),e?w("span",{class:"vxe-pager--classifier-text"},em("vxe.pager.pageClassifier")):null])},U=()=>q(!0),K=()=>{const e=h.value;return w("span",{class:"vxe-pager--count"},[w("span",{class:"vxe-pager--separator"}),w("span",e)])},G=()=>w("span",{class:"vxe-pager--total"},em("vxe.pager.total",[e.total]));C={dispatchEvent:(e,t,n)=>{a(e,Hp(n,{$pager:y},t))},homePage:()=>(k(),t()),endPage:()=>(I(),t()),prevPage:()=>(M(),t()),nextPage:()=>(P(),t()),prevJump:()=>(R(),t()),nextJump:()=>(V(),t())},S={handlePrevPage:M,handleNextPage:P,handlePrevJump:R,handleNextJump:V},Object.assign(y,C,S),i((()=>e.currentPage),(e=>{d.inpCurrPage=e}));return y.renderVN=()=>{const{align:t,layouts:n,className:o}=e,r=[],a=c.value,i=h.value;return l.left&&r.push(w("span",{class:"vxe-pager--left-wrapper"},l.left({$grid:u}))),n.forEach((e=>{let t;switch(e){case"Home":t=F;break;case"PrevJump":t=L;break;case"PrevPage":t=N;break;case"Number":t=z;break;case"JumpNumber":t=W;break;case"NextPage":t=B;break;case"NextJump":t=_;break;case"End":t=j;break;case"Sizes":t=H;break;case"FullJump":t=U;break;case"Jump":t=q;break;case"PageCount":t=K;break;case"Total":t=G}t&&r.push(t())})),l.right&&r.push(w("span",{class:"vxe-pager--right-wrapper"},l.right({$grid:u}))),w("div",{ref:p,class:["vxe-pager",o?rp.isFunction(o)?o({$pager:y}):o:"",{[`size--${a}`]:a,[`align--${t}`]:t,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&1===i,"is--loading":e.loading}]},[w("div",{class:"vxe-pager--wrapper"},r)])},y},render(){return this.renderVN()}}),uy=Object.assign(cy,{install:function(e){e.component(cy.name,cy)}});$m.use(uy),Rm.component(cy);const dy=uy,py=p({name:"VxePasswordInput",props:{modelValue:String,immediate:{type:Boolean,default:!0},name:String,clearable:{type:Boolean,default:()=>Rp().passwordInput.clearable},readonly:Boolean,disabled:Boolean,maxLength:[String,Number],placeholder:String,autoComplete:{type:String,default:"off"},className:String,size:{type:String,default:()=>Rp().passwordInput.size||Rp().size},prefixIcon:String,suffixIcon:String,controls:{type:Boolean,default:()=>Rp().passwordInput.controls},autocomplete:String},emits:["update:modelValue","input","change","click","focus","blur","clear","toggle-visible","prefix-click","suffix-click"],setup(e,n){const{emit:l,slots:a}=n,s=o("$xeForm",null),c=o("xeFormItemInfo",null),u=rp.uniqueId(),{computeSize:d}=Sm(e),p=m({showPwd:!1,isActivated:!1,inputValue:e.modelValue}),g=r(),h=r(),v={refElem:g,refInput:h},b={xID:u,props:e,context:n,reactData:p,getRefMaps:()=>v};let y={};const C=f((()=>e.clearable)),S=f((()=>{const{readonly:t}=e;return t})),E=f((()=>{const{placeholder:t}=e;if(t)return Vf(t);const n=Rp().passwordInput.placeholder;return n?Vf(n):em("vxe.base.pleaseInput")})),T=f((()=>{const{showPwd:e}=p;return e?"text":"password"})),D=f((()=>{const{immediate:t}=e;return t})),O=e=>{const{inputValue:t}=p;y.dispatchEvent(e.type,{value:t},e)},k=e=>{((e,t)=>{const n=D.value;p.inputValue=e,n?I(e,t):y.dispatchEvent("input",{value:e},t)})(e.target.value,e)},I=(t,n)=>{p.inputValue=t,l("update:modelValue",t),y.dispatchEvent("input",{value:t},n),rp.toValueString(e.modelValue)!==t&&(y.dispatchEvent("change",{value:t},n),s&&c&&s.triggerItemEvent(n,c.itemConfig.field,t))},M=e=>{O(e);const{inputValue:t}=p;s&&c&&s.triggerItemEvent(e,c.itemConfig.field,t)},P=e=>{p.isActivated=!0,O(e)},R=e=>{const{inputValue:t}=p,n=t;y.dispatchEvent("blur",{value:n},e),s&&c&&s.triggerItemEvent(e,c.itemConfig.field,n)},V=t=>{const{readonly:n,disabled:o}=e,{showPwd:l}=p;o||n||(p.showPwd=!l),y.dispatchEvent("toggle-visible",{visible:p.showPwd},t)},A=e=>{O(e)},$=(e,t)=>{focus(),I("",e),y.dispatchEvent("clear",{value:t},e)},F=t=>{const{disabled:n}=e;if(!n){const{inputValue:e}=p;y.dispatchEvent("suffix-click",{value:e},t)}},N=t=>{const{disabled:n}=e;if(!n){const{inputValue:e}=p;y.dispatchEvent("prefix-click",{value:e},t)}},L=()=>{const{showPwd:e}=p;return w("div",{class:"vxe-password-input--control-icon",onClick:V},[w("i",{class:["vxe-password-input--password-icon",e?Fp().PASSWORD_INPUT_SHOW_PWD:Fp().PASSWORD_INPUT_HIDE_PWD]})])};y={dispatchEvent(e,t,n){l(e,Hp(n,{$passwordInput:b},t))},focus(){const e=h.value;return p.isActivated=!0,e.focus(),t()},blur:()=>(h.value.blur(),p.isActivated=!1,t()),select:()=>(h.value.select(),p.isActivated=!1,t())},Object.assign(b,y),i((()=>e.modelValue),(e=>{p.inputValue=e}));return b.renderVN=()=>{const{className:t,name:n,disabled:o,readonly:l,autocomplete:r,autoComplete:i,maxLength:s}=e,{inputValue:c,isActivated:u}=p,m=d.value,f=S.value,v=T.value,b=E.value,y=C.value,D=(()=>{const{prefixIcon:t}=e,n=a.prefix;return n||t?w("div",{class:"vxe-password-input--prefix",onClick:N},[w("div",{class:"vxe-password-input--prefix-icon"},n?Um(n({})):[w("i",{class:t})])]):null})(),O=(()=>{const{disabled:t,suffixIcon:n,controls:o}=e,{inputValue:l}=p,r=a.suffix,i=C.value;return i||o||r||n?w("div",{class:["vxe-password-input--suffix",{"is--clear":i&&!t&&!(""===l||rp.eqNull(l))}]},[i?w("div",{class:"vxe-password-input--clear-icon",onClick:$},[w("i",{class:Fp().INPUT_CLEAR})]):x(),o?L():x(),r||n?w("div",{class:"vxe-password-input--suffix-icon",onClick:F},r?Um(r({})):[w("i",{class:n})]):x()]):null})();return w("div",{ref:g,class:["vxe-password-input",t,{[`size--${m}`]:m,"is--prefix":!!D,"is--suffix":!!O,"is--readonly":l,"is--disabled":o,"is--active":u,"show--clear":y&&!o&&!(""===c||rp.eqNull(c))}],spellcheck:!1},[D||x(),w("div",{class:"vxe-password-input--wrapper"},[w("input",{ref:h,class:"vxe-password-input--inner",value:c,name:n,type:v,placeholder:b,readonly:f,disabled:o,autocomplete:r||i,maxlength:s,onClick:A,onInput:k,onChange:M,onFocus:P,onBlur:R})]),O||x()])},b},render(){return this.renderVN()}}),my=Object.assign({},py,{install(e){e.component(py.name,py)}});$m.use(my),Rm.component(py);const fy=my;let gy;function hy(){const e=document.createElement("iframe");return e.className="vxe-table--print-frame",e}function vy(){gy.parentNode||document.body.appendChild(gy)}function by(){requestAnimationFrame(xy)}function xy(){if(gy){if(gy.parentNode){try{gy.contentDocument.write("")}catch(e){}gy.parentNode.removeChild(gy)}gy=null}}function yy(e,t=""){const{beforeMethod:n}=e;n&&(t=n({content:t,html:t,options:e})||""),t=function(e,t){const{customStyle:n}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.title}</title>`,e._pageBreaks||e.pageBreaks&&e.pageBreaks.length?'<style media="print">@page {size: auto;margin: 0mm;}</style>':"","<style>.vxe-print-slots{display: none;}.vxe-print-page-break.align--center{text-align:center;}.vxe-print-page-break.align--left{text-align:left;}.vxe-print-page-break.align--right{text-align:right;}.vxe-print-page-break--header-title{font-size:1.8em;text-align:center;line-height:80px;}.vxe-print-page-break{page-break-before:always;display:flex;flex-direction:column;height:100vh;overflow:hidden;}.vxe-print-page-break--body{display:flex;flex-direction:row;flex-grow:1;overflow: hidden;}.vxe-print-page-break--left,.vxe-print-page-break--right{flex-shrink:0;width:80px;height:100%;}.vxe-print-page-break--header,.vxe-print-page-break--footer{flex-shrink:0;height:80px;width:100%;}.vxe-print-page-break--content{flex-grow: 1;overflow: hidden;}.vxe-print-page-break--footer-page-number{line-height:80px;text-align:center;}</style>","<style>.vxe-table{white-space:pre;}</style>",'<style>body{margin:0;padding:0;color:#000000;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}</style>',n?`<style>${n}</style>`:"","</head>","<body>",`${t}`,"</body>","</html>"].join("")}(e,t);const o=new Blob([t],{type:`text/${"html"};charset=utf-8;`});return new Promise((e=>{rp.browse().msie?(xy(),gy=hy(),vy(),gy.contentDocument.write(t),gy.contentDocument.execCommand("print"),setTimeout((()=>{e({status:!0})}),300)):(gy||(gy=hy(),gy.onload=t=>{t.target.src&&(t.target.contentWindow.onafterprint=by,t.target.contentWindow.print()),e({status:!0})},gy.onerror=()=>{e({status:!1})}),vy(),gy.src=URL.createObjectURL(o))}))}const wy=e=>{const t=Object.assign({_pageBreaks:!1,customLayout:!0},e);if(t.sheetName&&(t.title=t.title||t.sheetName),t.style&&(t.customStyle=t.customStyle||t.style),t.beforePrintMethod&&(t.beforeMethod=t.beforeMethod||t.beforePrintMethod),t.pageBreaks&&t.pageBreaks.length)return yy(t,function(e){const{title:t,showPageNumber:n,align:o,headerAlign:l,footerAlign:r,showAllPageTitle:a}=e,i=e.pageBreaks||[],s=i.length;return i.map(((i,c)=>{const u=i.bodyHtml,d=i.headerHtml||e.headerHtml,p=i.footerHtml||e.footerHtml,m=i.leftHtml||e.leftHtml,f=i.rightHtml||e.rightHtml,g=c+1,h={currentPage:g,pageCount:s};return[`<div class="${["vxe-print-page-break",o?`align--${o}`:""].join(" ")}">`,`<div class="${["vxe-print-page-break--header",l?`align--${l}`:""].join(" ")}">`,d?`${rp.isFunction(d)?d(h):d||""}`:!t||!a&&c?"":`<div class="vxe-print-page-break--header-title">${t||""}</div>`,"</div>",'<div class="vxe-print-page-break--body">',`<div class="vxe-print-page-break--left">${rp.isFunction(m)?m(h):m||""}</div>`,`<div class="vxe-print-page-break--content">${rp.isFunction(u)?u(h):u||""}</div>`,`<div class="vxe-print-page-break--right">${rp.isFunction(f)?f(h):f||""}</div>`,"</div>",`<div class="${["vxe-print-page-break--footer",r?`align--${r}`:""].join(" ")}">`,p?`${rp.isFunction(p)?p(h):p||""}`:n?`<div class="vxe-print-page-break--footer-page-number">${g}/${s}</div>`:"","</div>","</div>"].join("")})).join("")}(t));return yy(t,t.html||t.content)};const Cy=p({name:"VxePrintPageBreak",props:{},emits:[],setup(e,t){const{slots:n,emit:l}=t,a=rp.uniqueId(),i=o("$xePrint",null),s=r(),c=m({}),u={refElem:s},d={},p=m({id:a,slots:n}),f={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},v={dispatchEvent:(e,t,n)=>{l(e,Hp(n,{$print:i},t))}};if(Object.assign(f,v,{}),!i)return f.renderVN=()=>x(),f;return g((()=>{const e=s.value;i&&e&&function(e,t,n){const o=e.reactData.staticPageBreaks,l=t.parentNode;l&&o&&(o.splice(rp.arrayIndexOf(l.children,t),0,n),e.reactData.staticPageBreaks=o.slice(0))}(i,e,p)})),h((()=>{i&&function(e,t){e.reactData.staticPageBreaks=e.reactData.staticPageBreaks.filter((e=>e.id!==t.id))}(i,p)})),f.renderVN=()=>w("div",{ref:s}),f},render(){return this.renderVN()}}),Sy=Object.assign({},Cy,{install(e){e.component(Cy.name,Cy)}});$m.use(Sy),Rm.component(Cy);const Ey=Sy,Ty=p({name:"VxePrint",props:{align:{type:String,default:()=>Rp().print.align},title:String,headerAlign:{type:String,default:()=>Rp().print.headerAlign},footerAlign:{type:String,default:()=>Rp().print.footerAlign},showPageNumber:{type:Boolean,default:()=>Rp().print.showPageNumber},customLayout:Boolean,pageBreaks:Array,content:String,html:String,headerHtml:String,footerHtml:String,leftHtml:String,rightHtml:String,showAllPageTitle:{type:Boolean,default:()=>Rp().print.showAllPageTitle},customStyle:{type:String,default:()=>Rp().print.customStyle},beforeMethod:Function},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId(),a=r(),i=m({staticPageBreaks:[]}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent:(e,t,n)=>{o(e,Hp(n,{$print:u},t))},print(){const t=a.value;return wy(Object.assign({},e,{_pageBreaks:!!i.staticPageBreaks.length,html:(t?t.outerHTML:"")||e.html||e.content||""}))}};Object.assign(u,d,{});return u.renderVN=()=>{const{customLayout:t}=e,{staticPageBreaks:o}=i,l=n.default;return w("div",{ref:a,class:["vxe-print"]},t?l?Um(l({})):[]:[w("div",{key:"slot",class:"vxe-print-slots"},l?Um(l({})):[])].concat(o.length?(()=>{const{title:t,showPageNumber:o,showAllPageTitle:l,align:r,headerAlign:a,footerAlign:s}=e,{staticPageBreaks:c}=i,u=c.length;return c.map(((e,i)=>{const c=e.slots||{},d=i+1,p=c.default,m=c.header||n.header,f=c.footer||n.footer,g=c.left||n.left,h=c.right||n.right,v={currentPage:d,pageCount:u};return w("div",{class:["vxe-print-page-break",r?`align--${r}`:""]},[w("div",{class:["vxe-print-page-break--header",a?`align--${a}`:""]},m?Um(m(v)):[!t||!l&&i?x():w("div",{class:"vxe-print-page-break--header-title"},`${t||""}`)]),w("div",{class:"vxe-print-page-break--body"},[w("div",{class:"vxe-print-page-break--left"},g?Um(g(v)):[]),w("div",{class:"vxe-print-page-break--content"},p?Um(p(v)):[]),w("div",{class:"vxe-print-page-break--right"},h?Um(h(v)):[])]),w("div",{class:["vxe-print-page-break--footer",s?`align--${s}`:""]},f?Um(f(v)):[o?w("div",{class:"vxe-print-page-break--footer-page-number"},`${d}/${u}`):x()])])}))})():(()=>{const{title:t,showPageNumber:n,showAllPageTitle:o,align:l,headerAlign:r,footerAlign:a}=e,i=e.pageBreaks||[],s=i.length;return i.map(((i,c)=>{const u=i.bodyHtml,d=i.headerHtml||e.headerHtml,p=i.footerHtml||e.footerHtml,m=i.leftHtml||e.leftHtml,f=i.rightHtml||e.rightHtml,g=c+1,h={currentPage:g,pageCount:s};return w("div",{class:["vxe-print-page-break",l?`align--${l}`:""]},[w("div",{class:["vxe-print-page-break--header",r?`align--${r}`:""]},d?`${rp.isFunction(d)?d(h):d||""}`:[!t||!o&&c?x():w("div",{class:"vxe-print-page-break--header-title"},`${t||""}`)]),w("div",{class:"vxe-print-page-break--body"},[w("div",{class:"vxe-print-page-break--left"},`${rp.isFunction(m)?m(h):m||""}`),w("div",{class:"vxe-print-page-break--content"},`${rp.isFunction(u)?u(h):u||""}`),w("div",{class:"vxe-print-page-break--right"},`${rp.isFunction(f)?f(h):f||""}`)]),w("div",{class:["vxe-print-page-break--footer",a?`align--${a}`:""]},p?`${rp.isFunction(p)?p(h):p||""}`:[n?w("div",{class:"vxe-print-page-break--footer-page-number"},`${g}/${s}`):x()])])}))})()))},b("$xePrint",u),u},render(){return this.renderVN()}}),Dy=Object.assign({},Ty,{install(e){e.component(Ty.name,Ty)}});$m.use(Dy),Rm.component(Ty),Rm.print=wy;const Oy=Dy,ky=p({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,trigger:{type:String,default:Rp().pulldown.trigger},size:{type:String,default:()=>Rp().size},options:Array,className:{type:[String,Function],default:Rp().pulldown.className},popupClassName:[String,Function],showPopupShadow:Boolean,destroyOnClose:{type:Boolean,default:Rp().pulldown.destroyOnClose},transfer:{type:Boolean,default:null}},emits:["update:modelValue","click","option-click","show-panel","hide-panel","visible-change"],setup(e,n){const{slots:l,emit:a}=n,s=o("$xeModal",null),c=o("$xeDrawer",null),u=o("$xeTable",null),d=o("$xeForm",null),p=rp.uniqueId(),{computeSize:g}=Sm(e),v=m({initialized:!1,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),b={hpTimeout:void 0},y=r(),C=r(),E=r(),T=f((()=>{const{transfer:t}=e;if(null===t){const e=Rp().pulldown.transfer;if(rp.isBoolean(e))return e;if(u||s||c||d)return!0}return t})),D={refElem:y},O={xID:p,props:e,context:n,reactData:v,internalData:b,getRefMaps:()=>D};let k={};const I=()=>t().then((()=>{const{placement:n}=e,{panelIndex:o,visiblePanel:l}=v,r=T.value;if(l){const e=C.value,t=E.value;if(t&&e){const l=e.offsetHeight,a=e.offsetWidth,i=t.offsetHeight,s=t.offsetWidth,c=5,u={zIndex:o},{boundingTop:d,boundingLeft:p,visibleHeight:m,visibleWidth:f}=cf(e);let g="bottom";if(r){let e=p,t=d+l;"top"===n?(g="top",t=d-i):n||(t+i+c>m&&(g="top",t=d-i),t<c&&(g="bottom",t=d+l)),e+s+c>f&&(e-=e+s+c-f),e<c&&(e=c),Object.assign(u,{left:`${e}px`,top:`${t}px`,minWidth:`${a}px`})}else"top"===n?(g="top",u.bottom=`${l}px`):n||d+l+i>m&&d-l-i>c&&(g="top",u.bottom=`${l}px`);v.panelStyle=u,v.panelPlacement=g}}return t()})),M=()=>(v.initialized||(v.initialized=!0),new Promise((n=>{e.disabled?t((()=>{n()})):(b.hpTimeout&&clearTimeout(b.hpTimeout),v.isActivated=!0,v.isAniVisible=!0,setTimeout((()=>{v.visiblePanel=!0,a("update:modelValue",!0),I(),setTimeout((()=>{n(I())}),40)}),10),v.panelIndex<Rf()&&(v.panelIndex=Pf()),F("visible-change",{visible:!0},null))}))),P=()=>(v.visiblePanel=!1,F("visible-change",{visible:!1},null),a("update:modelValue",!1),new Promise((e=>{v.isAniVisible?b.hpTimeout=window.setTimeout((()=>{v.isAniVisible=!1,t((()=>{e()}))}),350):t((()=>{e()}))}))),R=t=>{const{trigger:n}=e;"click"===n&&(v.visiblePanel?(P(),F("hide-panel",{},t)):(M(),F("show-panel",{},t))),F("click",{$pulldown:O},t)},V=t=>{const{disabled:n}=e,{visiblePanel:o}=v,l=E.value;n||o&&(af(t,l).flag?I():(P(),F("hide-panel",{},t)))},A=t=>{const{disabled:n}=e,{visiblePanel:o}=v,l=y.value,r=E.value;n||(v.isActivated=af(t,l).flag||af(t,r).flag,o&&!v.isActivated&&(P(),F("hide-panel",{},t)))},$=e=>{v.visiblePanel&&(v.isActivated=!1,P(),F("hide-panel",{},e))},F=(e,t,n)=>{a(e,Hp(n,{$pulldown:O},t))};k={dispatchEvent:F,isPanelVisible:()=>v.visiblePanel,togglePanel:()=>v.visiblePanel?P():M(),showPanel:M,hidePanel:P},Object.assign(O,k),i((()=>e.modelValue),(e=>{v.isActivated=!!e,e?M():P()})),t((()=>{e.modelValue&&M(),qp.on(O,"mousewheel",V),qp.on(O,"mousedown",A),qp.on(O,"blur",$)})),h((()=>{qp.off(O,"mousewheel"),qp.off(O,"mousedown"),qp.off(O,"blur")}));const N=e=>{const t=l.option;return w("div",{class:"vxe-pulldown--panel-list"},e?e.map((e=>w("div",{class:"vxe-pulldown--panel-item",onClick(t){((e,t)=>{t.disabled||(v.visiblePanel&&(P(),F("hide-panel",{},e)),F("option-click",{option:t},e))})(t,e)}},t?t({$pulldown:O,option:e}):`${e.label||""}`))):[])};return O.renderVN=()=>{const{className:t,options:n,popupClassName:o,showPopupShadow:r,destroyOnClose:a,disabled:i}=e,{initialized:s,isActivated:c,isAniVisible:u,visiblePanel:d,panelStyle:p,panelPlacement:m}=v,f=T.value,h=g.value,b=l.default,D=l.header,k=l.footer,I=l.dropdown;return w("div",{ref:y,class:["vxe-pulldown",t?rp.isFunction(t)?t({$pulldown:O}):t:"",{[`size--${h}`]:h,"is--visible":d,"is--disabled":i,"is--active":c}]},[w("div",{ref:C,class:"vxe-pulldown--content",onClick:R},b?b({$pulldown:O}):[]),w(S,{to:"body",disabled:!f||!s},[w("div",{ref:E,class:["vxe-table--ignore-clear vxe-pulldown--panel",o?rp.isFunction(o)?o({$pulldown:O}):o:"",{[`size--${h}`]:h,"is--shadow":r,"is--transfer":f,"ani--leave":u,"ani--enter":d}],placement:m,style:p},[w("div",{class:"vxe-pulldown--panel-wrapper"},s&&(!a||(d||u))?[D?w("div",{class:"vxe-pulldown--panel-header"},D({$pulldown:O})):x(),w("div",{class:"vxe-pulldown--panel-body"},I?I({$pulldown:O}):[N(n)]),k?w("div",{class:"vxe-pulldown--panel-footer"},k({$pulldown:O})):x()]:[])])])])},O},render(){return this.renderVN()}}),Iy=Object.assign(ky,{install:function(e){e.component(ky.name,ky)}});$m.use(Iy),Rm.component(ky);const My=Iy,Py=Object.assign(sv,{install:function(e){e.component(sv.name,sv)}});$m.use(Py),Rm.component(sv);const Ry=Py,Vy=Object.assign(cv,{install:function(e){e.component(cv.name,cv)}});$m.use(Vy),Rm.component(cv);const Ay=Vy,$y=Object.assign(uv,{install:function(e){e.component(uv.name,uv)}});$m.use($y),Rm.component(uv);const Fy=$y,Ny=Object.assign({},Db,{install(e){e.component(Db.name,Db)}});$m.use(Ny),Rm.component(Db);const Ly=Ny,_y=p({name:"VxeResult",props:{imageUrl:String,imageStyle:Object,icon:String,type:[String,Number],status:[String,Number],title:[String,Number],content:[String,Number]},emits:[],setup(e,t){const{emit:n,slots:o}=t,l=rp.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent:(e,t,o)=>{n(e,Hp(o,{$result:u},t))}};Object.assign(u,d,{});return u.renderVN=()=>{const{imageUrl:t,imageStyle:n,icon:l,title:r,type:a,content:i}=e,s=e.status||a,c=o.extra;return w("div",{ref:"refElem",class:["vxe-result",{[`theme--${s}`]:s}]},[w("div",{class:"vxe-result--inner"},[t?w("div",{class:"vxe-result--img-wrapper"},[w("img",{src:t,style:n})]):w("div",{class:"vxe-result--icon-wrapper"},[w("i",{class:[l,a?Fp()[`RESULT_${a}`.toLocaleUpperCase()]:""]})]),w("div",{class:"vxe-result--title-wrapper"},`${r||""}`),w("div",{class:"vxe-result--content-wrapper"},`${i||""}`),c?w("div",{class:"vxe-result--extra-wrapper"},c({})):Pm()])])},u},render(){return this.renderVN()}}),By=Object.assign({},_y,{install(e){e.component(_y.name,_y)}});$m.use(By),Rm.component(_y);const jy=By,zy=Object.assign({},Pv,{install(e){e.component(Pv.name,Pv)}});$m.use(zy),Rm.component(Pv);const Wy=zy,Hy=Object.assign(pv,{install:function(e){e.component(pv.name,pv)}});$m.use(Hy),Rm.component(pv);const qy=Hy,Uy=Object.assign({},Ib,{install(e){e.component(Ib.name,Ib)}});$m.use(Uy),Rm.component(Ib);const Ky=Uy,Gy=p({name:"VxeSteps",props:{},emits:[],setup(e,t){const{emit:n}=t,o=rp.uniqueId(),l=r(),a=m({}),i={refElem:l},s={},c={xID:o,props:e,context:t,reactData:a,getRefMaps:()=>i,getComputeMaps:()=>s},u={dispatchEvent:(e,t,o)=>{n(e,Hp(o,{$steps:c},t))}};Object.assign(c,u,{});return c.renderVN=()=>w("div",{ref:l,class:"vxe-steps"},[]),c},render(){return this.renderVN()}}),Yy=Object.assign({},Gy,{install(e){e.component(Gy.name,Gy)}});$m.use(Yy),Rm.component(Gy);const Xy=Yy,Zy=Object.assign(Xh,{install:function(e){e.component(Xh.name,Xh)}});$m.use(Zy),Rm.component(Xh);const Qy=Zy,Jy=Object.assign({},Kh,{install(e){e.component(Kh.name,Kh)}});$m.use(Jy),Rm.component(Kh);const ew=Jy;const tw=p({name:"VxeTableSelect",props:{modelValue:[String,Number,Array],clearable:Boolean,placeholder:{type:String,default:()=>rp.eqNull(Rp().tableSelect.placeholder)?em("vxe.base.pleaseSelect"):Rp().tableSelect.placeholder},readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,className:[String,Function],prefixIcon:String,placement:String,columns:Array,options:Array,optionProps:Object,size:{type:String,default:()=>Rp().select.size||Rp().size},popupConfig:Object,gridConfig:Object,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","blur","focus","click"],setup(e,n){const{emit:l,slots:a}=n,s=Rm.getComponent("VxeGrid"),c=o("$xeModal",null),u=o("$xeDrawer",null),d=o("$xeTable",null),p=o("$xeForm",null),v=o("xeFormItemInfo",null),x=rp.uniqueId(),{computeSize:y}=Sm(e),C=r(),E=r(),T=r(),D=r(),O=r(),k=m({initialized:!1,tableColumns:[],fullOptionList:[],fullRowMaps:{},panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),I={},M={refElem:C},P=f((()=>{const{readonly:t}=e;return null===t?!!p&&p.props.readonly:t})),R=f((()=>{const{disabled:t}=e;return null===t?!!p&&p.props.disabled:t})),V=f((()=>{const{transfer:t}=e;if(null===t){const e=Rp().select.transfer;if(rp.isBoolean(e))return e;if(d||c||u||p)return!0}return t})),A=f((()=>e.optionProps||{})),$=f((()=>{const e=B.value;return Object.assign({},e.rowConfig,{isCurrent:!0})})),F=f((()=>$.value.keyField||"_X_ROW_KEY")),N=f((()=>A.value.label||"label")),L=f((()=>A.value.value||"value")),_=f((()=>Object.assign({},Rp().tableSelect.popupConfig,e.popupConfig))),B=f((()=>Object.assign({},Rp().tableSelect.gridConfig,e.gridConfig,{data:void 0,columns:void 0}))),j=f((()=>{const{modelValue:t}=e,{fullRowMaps:n}=k,o=N.value;return(rp.isArray(t)?t:[t]).map((e=>{const t=n[e];return t?t.item[o]:e})).join(", ")})),z=f((()=>{const e=_.value,{height:t,width:n}=e,o={};return n&&(o.width=lf(n)),t&&(o.height=lf(t)),o})),W={},H={xID:x,props:e,context:n,reactData:k,getRefMaps:()=>M,getComputeMaps:()=>W},q=(e,t,n)=>{l(e,Hp(n,{$tableSelect:H},t))},U={dispatchEvent:q},K=n=>{const{multiple:o}=e;t((()=>{const e=O.value;if(e){const t=(e=>{const{fullRowMaps:t}=k,n=[];return(rp.eqNull(e)?[]:rp.isArray(e)?e:[e]).forEach((e=>{const o=t[e];o&&n.push(o.item)})),n})(n);t.length&&(o?e.setCheckboxRow(t,!0):e.setRadioRow(t[0]))}}))},G=t=>{const{multiple:n}=e,o=[];n?o.push({type:"checkbox",width:70}):o.push({type:"radio",width:70}),k.tableColumns=o.concat(t||[])},Y=()=>{const{options:t}=e,n=F.value,o=L.value,l=B.value,{treeConfig:r}=l,a={},i={};r||rp.arrayEach(t||[],((e,t,l)=>{let r=(e=>{const t=e[F.value];return t?encodeURIComponent(t):""})(e);r||(r=rp.uniqueId("row_")),i[r]&&Lm("vxe.error.repeatKey",[n,r]),i[r]=!0;const s=e[o];a[s]&&Lm("vxe.error.repeatKey",[o,s]),a[s]={item:e,index:t,items:l,parent:null,nodes:[]}})),k.fullOptionList=t||[],k.fullRowMaps=a,K(e.modelValue)},X=()=>t().then((()=>{const{placement:n}=e,{panelIndex:o}=k,l=C.value,r=D.value,a=V.value;if(r&&l){const e=l.offsetHeight,i=l.offsetWidth,s=r.offsetHeight,c=r.offsetWidth,u=5,d={zIndex:o},{boundingTop:p,boundingLeft:m,visibleHeight:f,visibleWidth:g}=cf(l);let h="bottom";if(a){let t=m,o=p+e;"top"===n?(h="top",o=p-s):n||(o+s+u>f&&(h="top",o=p-s),o<u&&(h="bottom",o=p+e)),t+c+u>g&&(t-=t+c+u-g),t<u&&(t=u),Object.assign(d,{left:`${t}px`,top:`${o}px`,minWidth:`${i}px`})}else"top"===n?(h="top",d.bottom=`${e}px`):n||p+e+s>f&&p-e-s>u&&(h="top",d.bottom=`${e}px`);return k.panelStyle=d,k.panelPlacement=h,t()}})),Z=()=>{const{loading:t}=e,n=R.value;t||n||(I.vpTimeout&&clearTimeout(I.vpTimeout),I.hpTimeout&&clearTimeout(I.hpTimeout),k.initialized||(k.initialized=!0),k.isActivated=!0,k.isAniVisible=!0,I.vpTimeout=setTimeout((()=>{k.visiblePanel=!0,K(e.modelValue),I.vpTimeout=void 0}),10),k.panelIndex<Rf()&&(k.panelIndex=Pf()),X())},Q=()=>{k.visiblePanel=!1,I.vpTimeout&&clearTimeout(I.vpTimeout),I.hpTimeout&&clearTimeout(I.hpTimeout),I.hpTimeout=window.setTimeout((()=>{k.isAniVisible=!1,I.hpTimeout=void 0}),350)},J=(t,n)=>{const{fullRowMaps:o}=k;if(l("update:modelValue",n),n!==e.modelValue){const e=o[n];q("change",{value:n,row:e?e.item:null},t),p&&v&&p.triggerItemEvent(t,v.itemConfig.field,n)}},ee=(e,t)=>{((e,t)=>{J(e,t),q("clear",{value:t},e)})(t,null),Q()},te=e=>{const{visiblePanel:t}=k;if(!R.value&&t){af(e,D.value).flag?X():Q()}},ne=e=>{const{visiblePanel:t}=k;if(!R.value){const n=C.value,o=D.value;k.isActivated=af(e,n).flag||af(e,o).flag,t&&!k.isActivated&&Q()}},oe=()=>{Q()},le=e=>{R.value||k.visiblePanel||(k.triggerFocusPanel=!0,Z(),setTimeout((()=>{k.triggerFocusPanel=!1}),150)),q("focus",{},e)},re=e=>{ie(e),q("click",{},e)},ae=e=>{k.isActivated=!1,q("blur",{},e)},ie=e=>{const{$event:t}=e;t.preventDefault(),k.triggerFocusPanel?k.triggerFocusPanel=!1:k.visiblePanel?Q():Z()},se=e=>{const{$event:t,row:n}=e,o=n[L.value];J(t,o),Q()},ce=e=>{const{$grid:t,$event:n}=e,o=L.value,l=t.getCheckboxRecords().map((e=>e[o]));J(n,l)},ue=e=>{ce(e)};Object.assign(H,U,{});return i((()=>e.options),(()=>{Y()})),i((()=>e.columns),(e=>{G(e||[])})),i((()=>e.modelValue),(e=>{K(e)})),G(e.columns||[]),Y(),g((()=>{qp.on(H,"mousewheel",te),qp.on(H,"mousedown",ne),qp.on(H,"blur",oe)})),h((()=>{qp.off(H,"mousewheel"),qp.off(H,"mousedown"),qp.off(H,"blur")})),b("$xeTableSelect",H),H.renderVN=()=>{const{className:t,options:n,loading:o}=e,{initialized:l,isActivated:r,isAniVisible:i,visiblePanel:c,tableColumns:u}=k,d=y.value,p=R.value,m=j.value,f=V.value,g=P.value,h=_.value,{className:v}=h,b=B.value,x=$.value,I=z.value,M=a.header,A=a.footer,F=a.prefix;return g?w("div",{ref:C,class:["vxe-table-select--readonly",t]},[w("span",{class:"vxe-table-select-label"},m)]):w("div",{ref:C,class:["vxe-table-select",t?rp.isFunction(t)?t({$tableSelect:H}):t:"",{[`size--${d}`]:d,"is--visible":c,"is--disabled":p,"is--loading":o,"is--active":r}]},[w(Mg,{ref:E,clearable:e.clearable,placeholder:o?em("vxe.select.loadingText"):e.placeholder,readonly:!0,disabled:p,type:"text",prefixIcon:e.prefixIcon,suffixIcon:o?Fp().TABLE_SELECT_LOADED:c?Fp().TABLE_SELECT_OPEN:Fp().TABLE_SELECT_CLOSE,modelValue:o?"":m,onClear:ee,onClick:re,onFocus:le,onBlur:ae,onSuffixClick:ie},F?{prefix:()=>F({})}:{}),w(S,{to:"body",disabled:!f||!l},[w("div",{ref:D,class:["vxe-table--ignore-clear vxe-table-select--panel",v?rp.isFunction(v)?v({$tableSelect:H}):v:"",{[`size--${d}`]:d,"is--transfer":f,"ani--leave":!o&&i,"ani--enter":!o&&c}],placement:k.panelPlacement,style:k.panelStyle},l?[w("div",{class:"vxe-table-select--panel-wrapper"},[M?w("div",{class:"vxe-table-select--panel-header"},M({})):Pm(),w("div",{class:"vxe-table-select--panel-body"},[w("div",{ref:T,class:"vxe-table-select-grid--wrapper",style:I},[s?w(s,Object.assign(Object.assign({},b),{class:"vxe-table-select--grid",ref:O,rowConfig:x,data:n,columns:u,height:"100%",autoResize:!0,onRadioChange:se,onCheckboxChange:ce,onCheckboxAll:ue}),Object.assign({},a,{header:void 0,footer:void 0,prefixSlot:void 0})):Pm()])]),A?w("div",{class:"vxe-table-select--panel-footer"},A({})):Pm()])]:[])])])},H},render(){return this.renderVN()}}),nw=Object.assign({},tw,{install(e){e.component(tw.name,tw)}});$m.use(nw),Rm.component(tw);const ow=nw,lw=Object.assign({},Uh,{install(e){e.component(Uh.name,Uh)}});$m.use(lw),Rm.component(Uh);const rw=lw,aw=p({name:"VxeTag",props:{status:String,title:[String,Number],icon:String,content:[String,Number],size:{type:String,default:()=>Rp().tag.size||Rp().size}},emits:["click"],setup(e,t){const{slots:n,emit:o}=t,l=rp.uniqueId(),{computeSize:a}=Sm(e),i=r(),s=m({}),c={refElem:i},u={},d={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p=(e,t,n)=>{o(e,Hp(n,{$tag:d},t))},f={dispatchEvent:p},g=e=>{p("click",{},e)};Object.assign(d,f,{});return d.renderVN=()=>{const{status:t,title:o}=e,l=a.value;return w("span",{ref:i,class:["vxe-tag",{[`size--${l}`]:l,[`theme--${t}`]:t}],title:o,onClick:g},(()=>{const{icon:t,content:o}=e,l=n.default,r=n.icon;return[r||t?w("span",{class:"vxe-tag--icon"},r?Um(r({})):[w("i",{class:t})]):x(),w("span",{class:"vxe-tag--content"},l?l({}):rp.toValueString(o))]})())},d},render(){return this.renderVN()}}),iw=Object.assign({},aw,{install(e){e.component(aw.name,aw)}});$m.use(iw),Rm.component(aw);const sw=iw,cw=p({name:"VxeTextEllipsis",props:{content:[String,Number],lineClamp:[String,Number],status:String,title:[String,Number],loading:Boolean,offsetLength:[String,Number],size:{type:String,default:()=>Rp().textEllipsis.size||Rp().size}},emits:["click"],setup(e,t){const{emit:n}=t,o=rp.uniqueId(),{computeSize:l}=Sm(e),a=r(),c=r(),u=m({resizeObserver:null,visibleLen:0}),d={refElem:a},p=f((()=>rp.toNumber(e.lineClamp))),h=f((()=>rp.toValueString(e.content))),v=f((()=>e.offsetLength?rp.toNumber(e.offsetLength):0)),b=f((()=>{const{visibleLen:e}=u,t=p.value,n=h.value,o=v.value;return t>1&&n.length>e?`${n.slice(0,Math.max(1,e-3+o))}...`:n})),x={},y={xID:o,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>x},C=()=>{const e=a.value,t=c.value,n=h.value,o=p.value;if(e&&t){const l=e.clientWidth;t.style.display="block",t.style.position="absolute",t.style.top="-3000px",t.style.left="-3000px",t.textContent=n;const r=t.offsetWidth,i=Math.floor(l*o);i>r?u.visibleLen=n.length:(e=>{const t=a.value,n=c.value;if(t&&n){let t=12;try{t=Math.max(10,rp.toNumber(getComputedStyle(n).fontSize))}catch(o){}const l=h.value;let r=Math.floor(e/t),a=l.slice(0,r);n.textContent=a,u.visibleLen=a.length;let i=0;for(;e>n.clientWidth&&i<30;){i++;const o=Math.floor((e-n.clientWidth)/t);if(!o)break;r+=o,a=l.slice(0,r),n.textContent=a,u.visibleLen=a.length}n.textContent="",n.style.display="",n.style.position="",n.style.top="",n.style.left=""}})(i)}else u.visibleLen=n.length},S={dispatchEvent:(e,t,o)=>{n(e,Hp(o,{$textEllipsis:y},t))}},E=()=>{n("click",{})},T=()=>{const{resizeObserver:e}=u,t=p.value;if(!e){const e=a.value;if(e&&t>1&&window.ResizeObserver){const t=new window.ResizeObserver(rp.throttle((()=>{C()}),300,{leading:!0,trailing:!0}));t.observe(e),u.resizeObserver=t}}};Object.assign(y,S,{});return i((()=>e.content),(()=>{C()})),i((()=>e.lineClamp),(()=>{T(),C()})),g((()=>{T(),C()})),s((()=>{const{resizeObserver:e}=u,t=a.value,n=c.value;n&&(n.textContent=""),e&&(t&&e.unobserve(t),e.disconnect(),u.resizeObserver=null)})),y.renderVN=()=>{const{loading:t,status:n,title:o}=e,r=l.value,i=b.value,s=p.value;return w("div",{ref:a,class:["vxe-text-ellipsis",s>1?"is--multi":"is--single",{[`size--${r}`]:r,[`theme--${n}`]:n,"is--loading":t}],title:o,onClick:E},[w("span",{ref:c,class:"vxe-text-ellipsis-reality"}),w("span",{class:"vxe-text-ellipsis-content"},i)])},y},render(){return this.renderVN()}}),uw=Object.assign({},cw,{install(e){e.component(cw.name,cw)}});$m.use(uw),Rm.component(cw);const dw=uw,pw=Object.assign({},Ag,{install(e){e.component(Ag.name,Ag)}});$m.use(pw),Rm.component(Ag);const mw=pw,fw=Object.assign(Ev,{install:function(e){e.component(Ev.name,Ev)}});$m.use(fw),Rm.component(Ev);const gw=fw,hw=Object.assign({},Tv,{install(e){e.component(Tv.name,Tv),e.component("VxeTipsComponent",Tv)}});$m.use(hw),Rm.component(Tv);const vw=hw,bw=hw,xw=Object.assign({},Ff,{install(e){e.component(Ff.name,Ff)}});$m.use(xw),Rm.component(Ff);const yw=xw,ww=Object.assign({},ib,{install(e){e.component(ib.name,ib)}});$m.use(ww),Rm.component(ib);const Cw=ww,Sw=Object.assign({},sb,{install(e){e.component(sb.name,sb)}});$m.use(Sw),Rm.component(sb);const Ew=Sw,Tw=Object.assign({},wb,{install(e){e.component(wb.name,wb)}});$m.use(Tw),Rm.component(wb),Rm.saveFile=yb,Rm.readFile=xb;const Dw=Tw;let Ow=null,kw=null;const Iw={};function Mw(e){if(e){const t=e.parentNode;t&&t.removeChild(e)}}function Pw(e,t,n){return(e.font?e.font[t]:"")||(n.font?n.font[t]:"")}function Rw(e,t,n){const{offset:o}=n,l=rp.toValueString(e.textContent),r=rp.toNumber(Pw(e,"fontSize",n)||t)||14,[a=0,i=0]=o?rp.isArray(o)?o:[o,o]:[],{width:s,height:c}=function(e,t){const n=`${t}_${e}`;if(!Iw[n]){kw||(kw=document.createElement("span")),kw.parentNode||document.body.append(kw),kw.textContent=e,kw.style.fontSize=lf(t);const o=kw.offsetWidth,l=kw.offsetHeight;Iw[n]={width:o,height:l}}return Iw[n]}(l,r);return{text:l,fontSize:r,font:e.font,width:s+rp.toNumber(a),height:c+rp.toNumber(i)}}function Vw(e,t,n){const o=Object.assign({},n),{rotate:l}=o,r=rp.toNumber(l),a=(rp.isArray(e)?e:[e]).map((e=>e?e.textContent?Rw(e,t,o):Rw({textContent:`${e}`},t,o):Rw({textContent:""},t,o)));return Mw(kw),new Promise((e=>{const t=(Ow||(Ow=document.createElement("canvas"),Ow.style.position="absolute",Ow.style.top="0",Ow.style.left="0"),Ow);t.parentNode||document.body.append(t);const n=t.getContext("2d");if(n&&a.length){const{contentWidth:l,contentHeight:i}=function(e){let t=0,n=0;return e.forEach((e=>{t=Math.max(e.width,t),n=Math.max(e.height,n)})),{contentWidth:t,contentHeight:n}}(a),{canvasWidth:s,canvasHeight:c}=function(e,t){const{gap:n}=t,[o=0,l=0]=n?rp.isArray(n)?n:[n,n]:[];return{canvasWidth:e+rp.toNumber(o),canvasHeight:e+rp.toNumber(l)}}(l,o);t.width=s,t.height=c;const u=(s-l)/2,d=(c-i)/2,p=u+l/2,m=d+i/2;n.save(),n.translate(p,m),n.rotate(r*Math.PI/180),n.translate(-p,-m);let f=0;a.forEach((e=>{const t=Pw(e,"align",o);!function(e,t,n){const o=Pw(t,"fontWeight",n);e.fillStyle=`${Pw(t,"color",n)||"rgba(0, 0, 0, 0.15)"}`,e.font=[Pw(t,"fontStyle",n)||"normal","bold"===o||"bolder"===o?"bold":"",lf(t.fontSize),Pw(t,"fontFamily",n)||"sans-serif"].join(" ")}(n,e,o),n.fillText(e.text,u+("center"===t?(l-e.width)/2:0),d+(i+i)/2+f,l),f+=e.height})),n.restore(),e(t.toDataURL()),Mw(t)}else e(""),Mw(t)}))}const Aw=p({name:"VxeWatermark",props:{width:String,height:String,imageUrl:String,rotate:{type:[Number,String],default:()=>Rp().watermark.rotate},gap:{type:[Array,Number,String],default:()=>rp.clone(Rp().watermark.gap,!0)},content:[String,Array],font:Object,offset:Object,zIndex:[String,Number]},emits:[],setup(e,t){const{emit:n}=t,o=rp.uniqueId(),l=r(),a=m({markUrl:""}),s={refElem:l},c=f((()=>rp.assign({},rp.clone(Rp().watermark.font,!0),e.font))),u=f((()=>{const{width:t,height:n,zIndex:o}=e,{markUrl:l}=a,r={};return t&&(r.width=lf(t)),n&&(r.height=lf(n)),l&&(r.backgroundImage=`url(${l})`),o&&(r.zIndex=o),r})),d={},p={xID:o,props:e,context:t,reactData:a,getRefMaps:()=>s,getComputeMaps:()=>d},v={dispatchEvent:(e,t,o)=>{n(e,Hp(o,{$watermark:p},t))}},b=()=>{const{content:t,gap:n,rotate:o,offset:r}=e,i=l.value,s=c.value;i&&t&&Vw(t,getComputedStyle(i).fontSize,{font:s,rotate:o,gap:n,offset:r}).then((e=>{a.markUrl=e}))};Object.assign(p,v,{});return i((()=>e.imageUrl),(()=>{b()})),i((()=>e.content),(()=>{b()})),i((()=>e.gap),(()=>{b()})),i((()=>e.rotate),(()=>{b()})),i((()=>e.width),(()=>{b()})),i((()=>e.height),(()=>{b()})),i((()=>e.font),(()=>{b()})),g((()=>{b(),qp.on(p,"resize",rp.throttle((()=>{b()}),300,{trailing:!0,leading:!0}))})),h((()=>{qp.off(p,"resize")})),p.renderVN=()=>{const e=u.value;return w("div",{ref:l,class:"vxe-watermark",style:e})},p},render(){return this.renderVN()}}),$w=Object.assign({},Aw,{install(e){e.component(Aw.name,Aw)}});$m.use($w),Rm.component(Aw);const Fw={load:e=>(Fm(),Am.globalWatermark=Object.assign({},e),Promise.resolve()),clear:()=>(Am.globalWatermark=null,Promise.resolve())};Rm.watermark=Fw;const Nw=$w,Lw=[Gm,ff,hf,xf,Cf,Df,kf,Lf,jf,Uf,Xf,Jf,ng,rg,sg,dg,fg,vg,Rg,Fg,_g,Gg,Zg,$h,Pb,$b,Nb,_b,jb,Wb,Ub,Zb,ex,nx,lx,ix,ux,mx,hx,xx,Cx,Px,Ax,Nx,jg,Bx,qx,Gx,Xx,ly,iy,uy,my,Sy,Dy,Iy,Py,Vy,$y,Ny,By,zy,Hy,Uy,Yy,Zy,Jy,nw,lw,iw,uw,pw,fw,hw,xw,ww,Sw,Tw,$w];const _w="zh-CN";nm(_w,{vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'可选扩展插件 "{1}" https://vxeui.com/other{0}/#/{1}/install'},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开层级",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"￥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}}),tm(_w),Ip("light");const Bw=zg,jw=Hx,zw=Kg,Ww=Fw,Hw=wy,qw=yb,Uw=xb,Kw=Object.freeze(Object.defineProperty({__proto__:null,Alert:Ym,Anchor:gf,AnchorLink:vf,Avatar:yf,Badge:Sf,Breadcrumb:Of,BreadcrumbItem:If,Button:_f,ButtonGroup:zf,Calendar:Kf,Card:Zf,Carousel:eg,CarouselItem:og,Checkbox:ag,CheckboxGroup:cg,Col:pg,Collapse:gg,CollapsePane:bg,ColorPicker:Vg,Countdown:Ng,DatePicker:Bg,Drawer:Yg,DrawerController:Kg,Empty:Qg,Form:Fh,FormDesign:Vb,FormGather:Fb,FormGroup:Lb,FormItem:Bb,FormView:zb,GLOBAL_EVENT_KEYS:Np,Icon:Hb,IconPicker:Kb,Image:Qb,ImageGroup:tx,ImagePreview:ox,Input:rx,LayoutAside:sx,LayoutBody:dx,LayoutContainer:fx,LayoutFooter:vx,LayoutHeader:yx,Link:Sx,List:Lx,ListDesign:Rx,ListView:$x,Loading:Wg,LoadingController:zg,Menu:jx,Modal:Ux,ModalController:Hx,NoticeBar:Yx,NumberInput:Zx,Optgroup:ry,Option:sy,Pager:dy,PasswordInput:fy,Print:Oy,PrintPageBreak:Ey,Pulldown:My,Radio:Ry,RadioButton:Ay,RadioGroup:Fy,Rate:Ly,Result:jy,Row:Wy,Select:qy,Slider:Ky,Steps:Xy,Switch:Qy,TabPane:ew,TableSelect:ow,Tabs:rw,Tag:sw,Text:mw,TextEllipsis:dw,Textarea:gw,Tip:bw,Tips:vw,Tooltip:yw,Tree:Cw,TreeSelect:Ew,Upload:Dw,VxeAlert:Gm,VxeAnchor:ff,VxeAnchorLink:hf,VxeAvatar:xf,VxeBadge:Cf,VxeBreadcrumb:Df,VxeBreadcrumbItem:kf,VxeButton:Lf,VxeButtonGroup:jf,VxeCalendar:Uf,VxeCard:Xf,VxeCarousel:Jf,VxeCarouselItem:ng,VxeCheckbox:rg,VxeCheckboxGroup:sg,VxeCol:dg,VxeCollapse:fg,VxeCollapsePane:vg,VxeColorPicker:Rg,VxeCore:xt,VxeCountdown:Fg,VxeDatePicker:_g,VxeDrawer:Gg,VxeEmpty:Zg,VxeForm:$h,VxeFormDesign:Pb,VxeFormGather:$b,VxeFormGroup:Nb,VxeFormItem:_b,VxeFormView:jb,VxeIcon:Wb,VxeIconPicker:Ub,VxeImage:Zb,VxeImageGroup:ex,VxeImagePreview:nx,VxeInput:lx,VxeLayoutAside:ix,VxeLayoutBody:ux,VxeLayoutContainer:mx,VxeLayoutFooter:hx,VxeLayoutHeader:xx,VxeLink:Cx,VxeList:Nx,VxeListDesign:Px,VxeListView:Ax,VxeLoading:jg,VxeMenu:Bx,VxeModal:qx,VxeNoticeBar:Gx,VxeNumberInput:Xx,VxeOptgroup:ly,VxeOption:iy,VxePager:uy,VxePasswordInput:my,VxePrint:Dy,VxePrintPageBreak:Sy,VxePulldown:Iy,VxeRadio:Py,VxeRadioButton:Vy,VxeRadioGroup:$y,VxeRate:Ny,VxeResult:By,VxeRow:zy,VxeSelect:Hy,VxeSlider:Uy,VxeSteps:Yy,VxeSwitch:Zy,VxeTabPane:Jy,VxeTableSelect:nw,VxeTabs:lw,VxeTag:iw,VxeText:pw,VxeTextEllipsis:uw,VxeTextarea:fw,VxeTip:hw,VxeTooltip:xw,VxeTree:ww,VxeTreeSelect:Sw,VxeUI:Rm,VxeUpload:Tw,VxeWatermark:$w,Watermark:Nw,WatermarkController:Fw,clipboard:xm,commands:fm,component:Mm,config:Bm,coreVersion:bt,createEvent:Hp,drawer:zw,formats:mm,getComponent:Im,getConfig:Rp,getI18n:em,getIcon:Fp,getLanguage:lm,getTheme:Mp,globalEvents:qp,globalResize:Zp,globalStore:Vp,handleCheckInfo:ym,hasLanguage:om,hooks:Cm,install:function(e,t){Pp(t),Lw.forEach((t=>e.use(t)))},interceptor:hm,loading:Bw,log:im,menus:pm,modal:jw,permission:wm,print:Hw,readFile:Uw,renderEmptyElement:Pm,renderer:cm,saveFile:qw,setConfig:Pp,setI18n:nm,setIcon:$p,setLanguage:tm,setTheme:Ip,setup:jm,use:Om,useFns:Tm,usePermission:Em,useSize:Sm,validators:dm,version:_m,watermark:Ww},Symbol.toStringTag,{value:"Module"}));function Gw(e){return e&&!1!==e.enabled}function Yw(e){return null==e||""===e}function Xw(e){const t=e.name,n=rp.lastIndexOf(t,"."),o=t.substring(n+1,t.length).toLowerCase();return{filename:t.substring(0,n),type:o}}function Zw(){return Dp.getNext()}function Qw(){return Dp.getCurrent()}function Jw(e){return e&&e.children&&e.children.length>0}function eC(e,t){if(e){const n=Rm.getConfig().translate;return rp.toValueString(n?n(""+e,t):e)}return""}function tC(e,t){return""+(Yw(e)?t?Rm.getConfig().emptyCell:"":e)}function nC(e){return""===e||rp.eqNull(e)}const oC="4.10.5";Rm.version=oC,Rm.tableVersion=oC,Rm.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,padding:!0,minHeight:144,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{maxFixedSize:4},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},scrollX:{gt:60},scrollY:{gt:100}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showResponseMsg:!0,showActiveMsg:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{}});const lC="vxe-table-icon-";Rm.setIcon({TABLE_SORT_ASC:lC+"caret-up",TABLE_SORT_DESC:lC+"caret-down",TABLE_FILTER_NONE:lC+"funnel",TABLE_FILTER_MATCH:lC+"funnel",TABLE_EDIT:lC+"edit",TABLE_TITLE_PREFIX:lC+"question-circle-fill",TABLE_TITLE_SUFFIX:lC+"question-circle-fill",TABLE_TREE_LOADED:lC+"spinner roll",TABLE_TREE_OPEN:lC+"caret-right rotate90",TABLE_TREE_CLOSE:lC+"caret-right",TABLE_EXPAND_LOADED:lC+"spinner roll",TABLE_EXPAND_OPEN:lC+"arrow-right rotate90",TABLE_EXPAND_CLOSE:lC+"arrow-right",TABLE_CHECKBOX_CHECKED:lC+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:lC+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:lC+"checkbox-indeterminate-fill",TABLE_RADIO_CHECKED:lC+"radio-checked-fill",TABLE_RADIO_UNCHECKED:lC+"radio-unchecked",TABLE_CUSTOM_SORT:lC+"drag-handle",TABLE_MENU_OPTIONS:lC+"arrow-right",TABLE_DRAG_ROW:lC+"drag-handle",TABLE_DRAG_COLUMN:lC+"drag-handle",TABLE_DRAG_STATUS_ROW:lC+"sort",TABLE_DRAG_STATUS_SUB_ROW:lC+"add-sub",TABLE_DRAG_STATUS_COLUMN:lC+"swap",TABLE_DRAG_DISABLED:lC+"no-drop",TOOLBAR_TOOLS_REFRESH:lC+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:lC+"repeat roll",TOOLBAR_TOOLS_IMPORT:lC+"upload",TOOLBAR_TOOLS_EXPORT:lC+"download",TOOLBAR_TOOLS_PRINT:lC+"print",TOOLBAR_TOOLS_FULLSCREEN:lC+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:lC+"minimize",TOOLBAR_TOOLS_CUSTOM:lC+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:lC+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:lC+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:lC+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:lC+"fixed-right-fill"});const rC=Rm.setTheme,aC=Rm.getTheme,iC=Rm.setConfig,sC=Rm.getConfig,cC=Rm.setIcon,uC=Rm.getIcon,dC=Rm.setLanguage,pC=Rm.setI18n,mC=Rm.getI18n,fC=Rm.globalEvents,gC=Rm.globalResize,hC=Rm.renderer,vC=Rm.validators,bC=Rm.menus,xC=Rm.formats,yC=Rm.commands,wC=Rm.interceptor,CC=Rm.clipboard,SC=Rm.log,EC=Rm.hooks,TC=Rm.use,DC=e=>Rm.setConfig(e);Rm.setup=DC;const OC=e=>Rm.setConfig(e);Rm.config=OC;const kC=(e,t)=>Rm.getI18n(e,t);Rm.t=kC;const IC=(e,t)=>eC(e,t);Rm._t=IC;const MC=Rm,PC={get:e=>Rm.modal.get(e),close:e=>Rm.modal.close(e),open:e=>Rm.modal.open(e),alert:(e,t,n)=>Rm.modal.alert(e,t,n),confirm:(e,t,n)=>Rm.modal.confirm(e,t,n),message:(e,t)=>Rm.modal.message(e,t),notification:(e,t,n)=>Rm.modal.notification(e,t,n)},{log:RC}=Rm,VC="table v4.10.5",AC=RC.create("warn",VC),$C=RC.create("error",VC),{getI18n:FC,formats:NC}=Rm;class LC{constructor(e,t,{renderHeader:n,renderCell:o,renderFooter:l,renderData:r}={}){const a=e.xegrid,i=t.formatter,s=!rp.isBoolean(t.visible)||t.visible;if(Object.assign(this,{type:t.type,property:t.field,field:t.field,title:t.title,width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,resizable:t.resizable,fixed:t.fixed,align:t.align,headerAlign:t.headerAlign,footerAlign:t.footerAlign,showOverflow:t.showOverflow,showHeaderOverflow:t.showHeaderOverflow,showFooterOverflow:t.showFooterOverflow,className:t.className,headerClassName:t.headerClassName,footerClassName:t.footerClassName,formatter:i,footerFormatter:t.footerFormatter,sortable:t.sortable,sortBy:t.sortBy,sortType:t.sortType,filters:yS(t.filters),filterMultiple:!rp.isBoolean(t.filterMultiple)||t.filterMultiple,filterMethod:t.filterMethod,filterResetMethod:t.filterResetMethod,filterRecoverMethod:t.filterRecoverMethod,filterRender:t.filterRender,treeNode:t.treeNode,dragSort:t.dragSort,cellType:t.cellType,cellRender:t.cellRender,editRender:t.editRender,contentRender:t.contentRender,headerExportMethod:t.headerExportMethod,exportMethod:t.exportMethod,footerExportMethod:t.footerExportMethod,titleHelp:t.titleHelp,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,params:t.params,id:t.colId||rp.uniqueId("col_"),parentId:null,visible:s,halfVisible:!1,defaultVisible:s,defaultFixed:t.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:n||t.renderHeader,renderCell:o||t.renderCell,renderFooter:l||t.renderFooter,renderData:r,slots:t.slots}),a){const{computeProxyOpts:e}=a.getComputeMaps(),t=e.value;t.beforeColumn&&t.beforeColumn({$grid:a,column:this})}}getTitle(){return eC(this.title||("seq"===this.type?FC("vxe.table.seqTitle"):""))}getKey(){const{type:e}=this;return this.field||(e?`type=${e}`:null)}update(e,t){"filters"!==e&&("field"===e&&(this.property=t),this[e]=t)}}const _C={},BC=rp.browse();let jC;function zC(){return jC||(jC=new Image,jC.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),jC}function WC(){return jC||zC()}function HC(e,t){return e?rp.isFunction(e)?e(t):e:""}function qC(e){return _C[e]||(_C[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),_C[e]}function UC(e,t,n){if(e){const o=e.parentNode;if(n.top+=e.offsetTop,n.left+=e.offsetLeft,o&&o!==document.documentElement&&o!==document.body&&(n.top-=o.scrollTop,n.left-=o.scrollLeft),(!t||e!==t&&e.offsetParent!==t)&&e.offsetParent)return UC(e.offsetParent,t,n)}return n}function KC(e){return e&&/^\d+(px)?$/.test(e)}function GC(e){return e&&/^\d+%$/.test(e)}function YC(e,t){return e&&e.className&&e.className.match&&e.className.match(qC(t))}function XC(e,t){e&&YC(e,t)&&(e.className=e.className.replace(qC(t),""))}function ZC(e,t){e&&!YC(e,t)&&(XC(e,t),e.className=`${e.className} ${t}`)}function QC(e,t="px"){return rp.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function JC(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function eS(e){return e?e.offsetHeight:0}function tS(e){if(e){const t=getComputedStyle(e);return rp.toNumber(t.paddingTop)+rp.toNumber(t.paddingBottom)}return 0}function nS(e,t){e&&(e.scrollTop=t)}function oS(e,t){e&&(e.scrollLeft=t)}function lS(e,t){const n="html"===t.type?e.innerText:e.textContent;e.getAttribute("title")!==n&&e.setAttribute("title",n)}function rS(e,t,n,o){let l,r=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;r&&r.nodeType&&r!==document;){if(n&&YC(r,n)&&(!o||o(r)))l=r;else if(r===t)return{flag:!n||!!l,container:t,targetElem:l};r=r.parentNode}return{flag:!1}}function aS(e,t){return UC(e,t,{left:0,top:0})}function iS(e){const t=e.getBoundingClientRect(),n=t.top,o=t.left,{scrollTop:l,scrollLeft:r,visibleHeight:a,visibleWidth:i}=JC();return{boundingTop:n,top:l+n,boundingLeft:o,left:r+o,visibleHeight:a,visibleWidth:i}}const sS="scrollIntoViewIfNeeded",cS="scrollIntoView";function uS(e){return e&&1===e.nodeType}const dS=(e,t)=>{const n=[];return e.forEach((e=>{e.parentId=t?t.id:null,e.visible&&(e.children&&e.children.length&&e.children.some((e=>e.visible))?(n.push(e),n.push(...dS(e.children,e))):n.push(e))})),n};function pS(e,t,n){const o=e.internalData;return e.clearScroll().then((()=>{if(t||n)return o.lastScrollLeft=0,o.lastScrollTop=0,o.inVirtualScroll=!1,o.inBodyScroll=!1,o.inFooterScroll=!1,o.bodyScrollType="",e.scrollTo(t,n)}))}function mS(){return rp.uniqueId("row_")}function fS(e){const{props:t}=e,{computeRowOpts:n}=e.getComputeMaps(),{rowId:o}=t,l=n.value;return o||l.keyField||"_X_ROW_KEY"}function gS(e,t){const n=rp.get(t,fS(e));return rp.eqNull(n)?"":encodeURIComponent(n)}const hS=(e,t)=>t?rp.isString(t)?e.getColumnByField(t):t:null;function vS(e){if(e){const t=getComputedStyle(e);return rp.toNumber(t.paddingLeft)+rp.toNumber(t.paddingRight)}return 0}function bS(e){if(e){const t=getComputedStyle(e),n=rp.toNumber(t.marginLeft),o=rp.toNumber(t.marginRight);return e.offsetWidth+n+o}return 0}function xS(e,t){return e.querySelector(".vxe-cell"+t)}function yS(e){return e&&rp.isArray(e)?e.map((({label:e,value:t,data:n,resetValue:o,checked:l})=>({label:e,value:t,data:n,resetValue:o,checked:!!l,_checked:!!l}))):e}function wS(e,t){return rp.get(e,t.field)}function CS(e,t,n){return rp.set(e,t.field,n)}function SS(e){if(e){const t=e.value;if(t)return t.$el||t}return null}function ES(e){const{$table:t,column:n,cell:o}=e,{props:l}=t,{computeResizableOpts:r}=t.getComputeMaps(),a=r.value,{minWidth:i}=a;if(i){const t=rp.isFunction(i)?i(e):i;if("auto"!==t)return Math.max(1,rp.toNumber(t))}const{showHeaderOverflow:s}=l,{showHeaderOverflow:c,minWidth:u}=n,d=rp.isUndefined(c)||rp.isNull(c)?s:c,p="title"===d||(!0===d||"tooltip"===d)||"ellipsis"===d;let m=rp.floor(1.6*(rp.toNumber(getComputedStyle(o).fontSize)||14))+(vS(o)+vS(xS(o,"")));if(p){const e=vS(xS(o,">.vxe-cell--drag-handle")),t=vS(xS(o,">.vxe-cell--checkbox")),n=bS(xS(o,">.vxe-cell--required-icon")),l=bS(xS(o,">.vxe-cell--edit-icon")),r=bS(xS(o,">.vxe-cell-title-prefix-icon")),a=bS(xS(o,">.vxe-cell-title-suffix-icon")),i=bS(xS(o,">.vxe-cell--sort"));m+=e+t+n+l+r+a+bS(xS(o,">.vxe-cell--filter"))+i}if(u){const{refTableBody:e}=t.getRefMaps(),n=e.value,o=n?n.$el:null;if(o){if(GC(u)){const e=(o.clientWidth-1)/100;return Math.max(m,Math.floor(rp.toInteger(u)*e))}if(KC(u))return Math.max(m,rp.toInteger(u))}}return m}function TS(e){return e&&(e.constructor===LC||e instanceof LC)}function DS(e,t,n){Object.keys(t).forEach((o=>{i((()=>t[o]),(t=>{n.update(o,t),e&&("filters"===o?(e.setFilter(n,t),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(o)&&e.handleRefreshColumnQueue())}))}))}function OS(e,t,n,o){const{reactData:l}=e,{staticColumns:r}=l,a=t.parentNode,i=o?o.columnConfig:null,s=i?i.children:r;a&&s&&(s.splice(rp.arrayIndexOf(a.children,t),0,n),l.staticColumns=r.slice(0))}function kS(e,t){const{reactData:n}=e,{staticColumns:o}=n,l=rp.findTree(o,(e=>e.id===t.id),{children:"children"});l&&l.items.splice(l.index,1),n.staticColumns=o.slice(0)}function IS(e,t){const{internalData:n}=e,{fullColumnIdData:o}=n;if(!t)return null;let l=t.parentId;for(;o[l];){const e=o[l].column;if(l=e.parentId,!l)return e}return t}const MS={mini:3,small:2,medium:1},PS=(e,t)=>{let n=1;if(!e)return n;const{$table:o}=t,{computeTreeOpts:l}=o.getComputeMaps(),r=l.value,{transform:a,mapChildrenField:i}=r,s=r.children||r.childrenField,c=e[a?i:s];if(c&&o.isTreeExpandByRow(e))for(let u=0;u<c.length;u++)n+=PS(c[u],t);return n},RS=e=>{const{computeSize:t}=e.getComputeMaps(),n=t.value;return n&&MS[n]||0};function VS(e,t){const{$table:n}=e,o=n.reactData;let l=1;return t&&(l=PS(t,e)),o.rowHeight*l-(t?1:12-RS(n))}function AS(e,t,n){for(let o=0;o<e.length;o++){const{row:l,col:r,rowspan:a,colspan:i}=e[o];if(r>-1&&l>-1&&a&&i){if(l===t&&r===n)return{rowspan:a,colspan:i};if(t>=l&&t<l+a&&n>=r&&n<r+i)return{rowspan:0,colspan:0}}}}function $S(e,t){const{reactData:n,internalData:o}=e,l=e.props,{showOverflow:r}=l,{refTableBody:a}=e.getRefMaps(),{columnStore:i,scrollYLoad:s}=n,{afterFullData:c,scrollYStore:u,fullAllDataRowIdData:d}=o,{rowHeight:p}=u,m=a.value,{leftList:f,rightList:g}=i,h=m?m.$el:null,v=gS(e,t);let b=0;f.forEach((e=>{b+=e.renderWidth}));let x=0;if(g.forEach((e=>{x+=e.renderWidth})),h){const n=h.clientHeight,o=h.scrollTop,l=h.querySelector(`[rowid="${v}"]`);if(l){const t=l.offsetParent,r=l.offsetTop+(t?t.offsetTop:0),a=l.clientHeight;if(r<o||r>o+n)return e.scrollTo(null,r);if(r+a>=n+o)return e.scrollTo(null,o+a)}else if(s){if(r)return e.scrollTo(null,(e.findRowIndexOf(c,t)-1)*p);let l=0;const a=d[v],i=a&&a.height||p;for(let n=0;n<c.length;n++){const o=c[n],r=gS(e,o);if(o===t||r===v)break;const a=d[r];l+=a&&a.height||p}return l<o?e.scrollTo(null,l-b-1):e.scrollTo(null,l+i-(n-x-1))}}return Promise.resolve()}function FS(e,t,n){const{reactData:o,internalData:l}=e,{refTableBody:r}=e.getRefMaps(),{columnStore:a,scrollXLoad:i}=o,{visibleColumn:s}=l,{leftList:c,rightList:u}=a,d=r.value,p=d?d.$el:null;if(t.fixed)return Promise.resolve();let m=0;c.forEach((e=>{m+=e.renderWidth}));let f=0;if(u.forEach((e=>{f+=e.renderWidth})),p){const o=p.clientWidth,l=p.scrollLeft;let r=null;if(n){const o=gS(e,n);r=p.querySelector(`[rowid="${o}"] .${t.id}`)}if(r||(r=p.querySelector(`.${t.id}`)),r){const t=r.offsetParent,n=r.offsetLeft+(t?t.offsetLeft:0),a=r.clientWidth;if(n<l+m)return e.scrollTo(n-m-1);if(n+a-l>o-f)return e.scrollTo(n+a-(o-f-1))}else if(i){let n=0;const r=t.renderWidth;for(let e=0;e<s.length;e++){const o=s[e];if(o===t||o.id===t.id)break;n+=o.renderWidth}return n<l?e.scrollTo(n-m-1):e.scrollTo(n+r-(o-f-1))}}return Promise.resolve()}function NS(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function LS(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function _S(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function BS(e){return null==e?[]:rp.isArray(e)?e:[e]}const{getI18n:jS,getIcon:zS,renderer:WS,formats:HS,renderEmptyElement:qS}=Rm;function US(e){const{$table:t,column:n}=e,o=n.titlePrefix||n.titleHelp;return o?w("i",{class:["vxe-cell-title-prefix-icon",o.icon||zS().TABLE_TITLE_PREFIX],onMouseenter(n){t.triggerHeaderTitleEvent(n,o,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}}):qS(t)}function KS(e){const{$table:t,column:n}=e,o=n.titleSuffix;return o?w("i",{class:["vxe-cell-title-suffix-icon",o.icon||zS().TABLE_TITLE_SUFFIX],onMouseenter(n){t.triggerHeaderTitleEvent(n,o,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}}):qS(t)}function GS(e){const{$table:t,column:n}=e,{context:o}=t,l=o.slots,r=t.props,{slots:a}=n,{dragConfig:i}=r,{computeRowDragOpts:s}=t.getComputeMaps(),c=s.value,{icon:u,trigger:d,disabledMethod:p}=c,m=p||(i?i.rowDisabledMethod:null),f=m&&m(e),g=(a?a.rowDragIcon||a["row-drag-icon"]:null)||l.rowDragIcon||l["row-drag-icon"],h={};return"cell"!==d&&(h.onMousedown=n=>{f||t.handleCellDragMousedownEvent(n,e)},h.onMouseup=t.handleCellDragMouseupEvent),w("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":f}]},h),g?t.callSlot(g,e):[w("i",{class:u||(i?i.rowIcon:"")||zS().TABLE_DRAG_ROW})])}function YS(e,t){const{$table:n,column:o,level:l}=e,{dragSort:r}=o,a=n.props,{treeConfig:i,dragConfig:s}=a,{computeRowOpts:c,computeRowDragOpts:u}=n.getComputeMaps(),d=c.value,p=u.value,{showIcon:m,isPeerDrag:f,isCrossDrag:g,visibleMethod:h}=p,v=h||(s?s.rowVisibleMethod:null),b=rp.isArray(t)?t:[t];return r&&d.drag&&(m||s&&s.showRowIcon)&&(!v||v(e))&&(i?(f||g||!l)&&b.unshift(GS(e)):b.unshift(GS(e))),b}function XS(e){const{$table:t,column:n}=e,{context:o}=t,l=o.slots,{slots:r}=n,{computeColumnOpts:a,computeColumnDragOpts:i}=t.getComputeMaps(),s=a.value,c=i.value,{showIcon:u,icon:d,trigger:p,isPeerDrag:m,isCrossDrag:f,visibleMethod:g,disabledMethod:h}=c;if(s.drag&&u&&(!g||g(e))&&!n.fixed&&(m||f||!n.parentId)){const n=h&&h(e),o=(r?r.columnDragIcon||r["column-drag-icon"]:null)||l.columnDragIcon||l["column-drag-icon"],a={};return"cell"!==p&&(a.onMousedown=o=>{n||t.handleHeaderCellDragMousedownEvent(o,e)},a.onMouseup=t.handleHeaderCellDragMouseupEvent),w("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":n}]},a),o?t.callSlot(o,e):[w("i",{class:d||zS().TABLE_DRAG_COLUMN})])}return qS(t)}function ZS(e,t){return[US(e),XS(e),...rp.isArray(t)?t:[t],KS(e)]}function QS(e,t){const{$table:n,column:o}=e,l=n.props,r=n.reactData,{computeTooltipOpts:a}=n.getComputeMaps(),{showHeaderOverflow:i}=l,{type:s,showHeaderOverflow:c}=o,u=a.value.showAll,d=rp.isUndefined(c)||rp.isNull(c)?i:c,p="title"===d,m=!0===d||"tooltip"===d,f={};return(p||m||u)&&(f.onMouseenter=t=>{r._isResize||(p?lS(t.currentTarget,o):(m||u)&&n.triggerHeaderTooltipEvent(t,e))}),(m||u)&&(f.onMouseleave=e=>{r._isResize||(m||u)&&n.handleTargetLeaveEvent(e)}),["html"===s&&rp.isString(t)?w("span",Object.assign({class:"vxe-cell--title",innerHTML:t},f)):w("span",Object.assign({class:"vxe-cell--title"},f),BS(t))]}function JS(e,t){if(rp.isFunction(e))return`${e(t)}`;const n=rp.isArray(e),o=n?HS.get(e[0]):HS.get(e),l=o?o.tableFooterCellFormatMethod:null;return l?`${n?l(t,...e.slice(1)):l(t)}`:""}function eE(e){const{$table:t,column:n,_columnIndex:o,items:l,row:r}=e,{slots:a,editRender:i,cellRender:s,footerFormatter:c}=n,u=i||s,d=a?a.footer:null;if(d)return t.callSlot(d,e);if(u){const t=WS.get(u.name);if(t){const n=t.renderTableFooter||t.renderFooter;if(n)return BS(n(u,e))}}let p="";return rp.isArray(l)?(p=l[o],[c?JS(c,{itemValue:p,column:n,row:r,items:l,_columnIndex:o}):tC(p,1)]):(p=rp.get(r,n.field),[c?JS(c,{itemValue:p,column:n,row:r,items:l,_columnIndex:o}):tC(p,1)])}function tE(e){const{$table:t,row:n,column:o}=e;return tC(t.getCellLabel(n,o),1)}function nE(e){const{column:t,$table:n}=e,o=n.props,{editConfig:l}=o,{type:r,treeNode:a,editRender:i}=t,{computeEditOpts:s,computeCheckboxOpts:c}=n.getComputeMaps(),u=c.value,d=s.value;switch(r){case"seq":return a?rE.renderTreeIndexCell(e):rE.renderSeqCell(e);case"radio":return a?rE.renderTreeRadioCell(e):rE.renderRadioCell(e);case"checkbox":return u.checkField?a?rE.renderTreeSelectionCellByProp(e):rE.renderCheckboxCellByProp(e):a?rE.renderTreeSelectionCell(e):rE.renderCheckboxCell(e);case"expand":return rE.renderExpandCell(e);case"html":return a?rE.renderTreeHTMLCell(e):rE.renderHTMLCell(e)}return l&&i?"cell"===d.mode?a?rE.renderTreeCellEdit(e):rE.renderCellEdit(e):a?rE.renderTreeRowEdit(e):rE.renderRowEdit(e):a?rE.renderTreeCell(e):rE.renderDefaultCell(e)}function oE(e){const{column:t,$table:n}=e,o=n.props,{editConfig:l}=o,{type:r,filters:a,sortable:i,editRender:s}=t;switch(r){case"seq":return rE.renderSeqHeader(e);case"radio":return rE.renderRadioHeader(e);case"checkbox":return rE.renderCheckboxHeader(e);case"html":if(a&&i)return rE.renderSortAndFilterHeader(e);if(i)return rE.renderSortHeader(e);if(a)return rE.renderFilterHeader(e)}return l&&s?rE.renderEditHeader(e):a&&i?rE.renderSortAndFilterHeader(e):i?rE.renderSortHeader(e):a?rE.renderFilterHeader(e):rE.renderDefaultHeader(e)}function lE(e){return rE.renderDefaultFooter(e)}const rE={createColumn(e,t){const{type:n}=t,o={renderHeader:oE,renderCell:nE,renderFooter:lE};return"expand"===n&&(o.renderData=rE.renderExpandData),function(e,t,n){return TS(t)?t:m(new LC(e,t,n))}(e,t,o)},renderHeaderTitle(e){const{$table:t,column:n}=e,{slots:o,editRender:l,cellRender:r}=n,a=l||r,i=o?o.header:null;if(i)return QS(e,t.callSlot(i,e));if(a){const t=WS.get(a.name);if(t){const n=t.renderTableHeader||t.renderHeader;if(n)return QS(e,BS(n(a,e)))}}return QS(e,tC(n.getTitle(),1))},renderDefaultHeader:e=>ZS(e,rE.renderHeaderTitle(e)),renderDefaultCell(e){const{$table:t,row:n,column:o}=e,{slots:l,editRender:r,cellRender:a}=o,i=r||a,s=l?l.default:null;if(s)return YS(e,t.callSlot(s,e));if(i){const t=WS.get(i.name);if(t){const n=t.renderTableCell||t.renderCell,o=t.renderTableDefault||t.renderDefault,l=r?n:o;if(l)return YS(e,BS(l(i,Object.assign({$type:r?"edit":"cell"},e))))}}const c=t.getCellLabel(n,o),u=r?r.placeholder:"";return YS(e,[w("span",{class:"vxe-cell--label"},[r&&nC(c)?w("span",{class:"vxe-cell--placeholder"},tC(eC(u),1)):w("span",tC(c,1))])])},renderTreeCell:e=>rE.renderTreeIcon(e,rE.renderDefaultCell(e)),renderDefaultFooter:e=>[w("span",{class:"vxe-cell--item"},eE(e))],renderTreeIcon(e,t){const{$table:n,isHidden:o}=e,l=n.reactData,r=n.internalData,{computeTreeOpts:a}=n.getComputeMaps(),{treeExpandedMaps:i,treeExpandLazyLoadedMaps:s}=l,{fullAllDataRowIdData:c}=r,u=a.value,{row:d,column:p,level:m}=e,{slots:f}=p,{indent:g,lazy:h,trigger:v,iconLoaded:b,showIcon:x,iconOpen:y,iconClose:C}=u,S=u.children||u.childrenField,E=u.hasChild||u.hasChildField,T=d[S],D=T&&T.length,O=f?f.icon:null;let k=!1,I=!1,M=!1,P=!1;const R={};if(O)return n.callSlot(O,e);if(!o){const e=gS(n,d);if(I=!!i[e],h){const t=c[e];M=!!s[e],k=d[E],P=!!t.treeLoaded}}return v&&"default"!==v||(R.onClick=t=>{n.triggerTreeExpandEvent(t,e)}),[w("div",{class:["vxe-cell--tree-node",{"is--active":I}],style:{paddingLeft:m*g+"px"}},[x&&(h?P?D:D||k:D)?[w("div",Object.assign({class:"vxe-tree--btn-wrapper"},R),[w("i",{class:["vxe-tree--node-btn",M?b||zS().TABLE_TREE_LOADED:I?y||zS().TABLE_TREE_OPEN:C||zS().TABLE_TREE_CLOSE]})])]:null,w("div",{class:"vxe-tree-cell"},t)])]},renderSeqHeader(e){const{$table:t,column:n}=e,{slots:o}=n,l=o?o.header:null;return ZS(e,QS(e,l?t.callSlot(l,e):tC(n.getTitle(),1)))},renderSeqCell(e){const{$table:t,column:n}=e,o=t.props,{treeConfig:l}=o,{computeSeqOpts:r}=t.getComputeMaps(),a=r.value,{slots:i}=n,s=i?i.default:null;if(s)return YS(e,t.callSlot(s,e));const{seq:c}=e,u=a.seqMethod;return YS(e,[w("span",`${tC(u?u(e):l?c:(a.startIndex||0)+c,1)}`)])},renderTreeIndexCell:e=>rE.renderTreeIcon(e,rE.renderSeqCell(e)),renderRadioHeader(e){const{$table:t,column:n}=e,{slots:o}=n,l=o?o.header:null,r=o?o.title:null;return ZS(e,QS(e,l?t.callSlot(l,e):[w("span",{class:"vxe-radio--label"},r?t.callSlot(r,e):tC(n.getTitle(),1))]))},renderRadioCell(e){const{$table:t,column:n,isHidden:o}=e,l=t.reactData,{computeRadioOpts:r}=t.getComputeMaps(),{selectRadioRow:a}=l,i=r.value,{slots:s}=n,{labelField:c,checkMethod:u,visibleMethod:d}=i,{row:p}=e,m=s?s.default:null,f=s?s.radio:null,g=t.eqRow(p,a),h=!d||d({row:p});let v,b=!!u;o||(v={onClick(n){!b&&h&&t.triggerRadioRowEvent(n,e)}},u&&(b=!u({row:p})));const x=Object.assign(Object.assign({},e),{checked:g,disabled:b,visible:h});if(f)return YS(e,t.callSlot(f,x));const y=[];return h&&y.push(w("span",{class:["vxe-radio--icon",g?zS().TABLE_RADIO_CHECKED:zS().TABLE_RADIO_UNCHECKED]})),(m||c)&&y.push(w("span",{class:"vxe-radio--label"},m?t.callSlot(m,x):rp.get(p,c))),YS(e,[w("span",Object.assign({class:["vxe-cell--radio",{"is--checked":g,"is--disabled":b}]},v),y)])},renderTreeRadioCell:e=>rE.renderTreeIcon(e,rE.renderRadioCell(e)),renderCheckboxHeader(e){const{$table:t,column:n,isHidden:o}=e,l=t.reactData,{computeIsAllCheckboxDisabled:r,computeCheckboxOpts:a}=t.getComputeMaps(),{isAllSelected:i,isIndeterminate:s}=l,c=r.value,{slots:u}=n,d=u?u.header:null,p=u?u.title:null,m=a.value,f=n.getTitle(),g={};o||(g.onClick=e=>{c||t.triggerCheckAllEvent(e,!i)});const h=Object.assign(Object.assign({},e),{checked:i,disabled:c,indeterminate:s});return d?ZS(e,QS(h,t.callSlot(d,h))):(m.checkStrictly?m.showHeader:!1!==m.showHeader)?ZS(e,QS(h,[w("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":i,"is--disabled":c,"is--indeterminate":s}],title:jS("vxe.table.allTitle")},g),[w("span",{class:["vxe-checkbox--icon",s?zS().TABLE_CHECKBOX_INDETERMINATE:i?zS().TABLE_CHECKBOX_CHECKED:zS().TABLE_CHECKBOX_UNCHECKED]})].concat(p||f?[w("span",{class:"vxe-checkbox--label"},p?t.callSlot(p,h):f)]:[]))])):ZS(e,QS(h,[w("span",{class:"vxe-checkbox--label"},p?t.callSlot(p,h):f)]))},renderCheckboxCell(e){const{$table:t,row:n,column:o,isHidden:l}=e,r=t.props,a=t.reactData,{treeConfig:i}=r,{selectCheckboxMaps:s,treeIndeterminateMaps:c}=a,{computeCheckboxOpts:u}=t.getComputeMaps(),d=u.value,{labelField:p,checkMethod:m,visibleMethod:f}=d,{slots:g}=o,h=g?g.default:null,v=g?g.checkbox:null;let b=!1,x=!1;const y=!f||f({row:n});let C=!!m;const S={};if(!l){const o=gS(t,n);x=!!s[o],S.onClick=n=>{!C&&y&&t.triggerCheckRowEvent(n,e,!x)},m&&(C=!m({row:n})),i&&(b=!!c[o])}const E=Object.assign(Object.assign({},e),{checked:x,disabled:C,visible:y,indeterminate:b});if(v)return YS(e,t.callSlot(v,E));const T=[];return y&&T.push(w("span",{class:["vxe-checkbox--icon",b?zS().TABLE_CHECKBOX_INDETERMINATE:x?zS().TABLE_CHECKBOX_CHECKED:zS().TABLE_CHECKBOX_UNCHECKED]})),(h||p)&&T.push(w("span",{class:"vxe-checkbox--label"},h?t.callSlot(h,E):rp.get(n,p))),YS(e,[w("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":x,"is--disabled":C,"is--indeterminate":b,"is--hidden":!y}]},S),T)])},renderTreeSelectionCell:e=>rE.renderTreeIcon(e,rE.renderCheckboxCell(e)),renderCheckboxCellByProp(e){const{$table:t,row:n,column:o,isHidden:l}=e,r=t.props,a=t.reactData,{treeConfig:i}=r,{treeIndeterminateMaps:s}=a,{computeCheckboxOpts:c}=t.getComputeMaps(),u=c.value,{labelField:d,checkField:p,checkMethod:m,visibleMethod:f}=u,g=u.indeterminateField||u.halfField,{slots:h}=o,v=h?h.default:null,b=h?h.checkbox:null;let x=!1,y=!1;const C=!f||f({row:n});let S=!!m;const E={};if(!l){const o=gS(t,n);y=rp.get(n,p),E.onClick=n=>{!S&&C&&t.triggerCheckRowEvent(n,e,!y)},m&&(S=!m({row:n})),i&&(x=!!s[o])}const T=Object.assign(Object.assign({},e),{checked:y,disabled:S,visible:C,indeterminate:x});if(b)return YS(e,t.callSlot(b,T));const D=[];return C&&(D.push(w("span",{class:["vxe-checkbox--icon",x?zS().TABLE_CHECKBOX_INDETERMINATE:y?zS().TABLE_CHECKBOX_CHECKED:zS().TABLE_CHECKBOX_UNCHECKED]})),(v||d)&&D.push(w("span",{class:"vxe-checkbox--label"},v?t.callSlot(v,T):rp.get(n,d)))),YS(e,[w("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":y,"is--disabled":S,"is--indeterminate":g&&!y?n[g]:x,"is--hidden":!C}]},E),D)])},renderTreeSelectionCellByProp:e=>rE.renderTreeIcon(e,rE.renderCheckboxCellByProp(e)),renderExpandCell(e){const{$table:t,isHidden:n,row:o,column:l}=e,r=t.reactData,{rowExpandedMaps:a,rowExpandLazyLoadedMaps:i}=r,{computeExpandOpts:s}=t.getComputeMaps(),c=s.value,{lazy:u,labelField:d,iconLoaded:p,showIcon:m,iconOpen:f,iconClose:g,visibleMethod:h}=c,{slots:v}=l,b=v?v.default:null,x=v?v.icon:null;let y=!1,C=!1;if(x)return YS(e,t.callSlot(x,e));if(!n){const e=gS(t,o);y=!!a[e],u&&(C=!!i[e])}return YS(e,[!m||h&&!h(e)?qS(t):w("span",{class:["vxe-table--expanded",{"is--active":y}],onClick(n){t.triggerRowExpandEvent(n,e)}},[w("i",{class:["vxe-table--expand-btn",C?p||zS().TABLE_EXPAND_LOADED:y?f||zS().TABLE_EXPAND_OPEN:g||zS().TABLE_EXPAND_CLOSE]})]),b||d?w("span",{class:"vxe-table--expand-label"},b?t.callSlot(b,e):rp.get(o,d)):qS(t)])},renderExpandData(e){const{$table:t,column:n}=e,{slots:o,contentRender:l}=n,r=o?o.content:null;if(r)return t.callSlot(r,e);if(l){const t=WS.get(l.name);if(t){const n=t.renderTableExpand||t.renderExpand;if(n)return BS(n(l,e))}}return[]},renderHTMLCell(e){const{$table:t,column:n}=e,{slots:o}=n,l=o?o.default:null;return YS(e,l?t.callSlot(l,e):[w("span",{class:"vxe-cell--html",innerHTML:tE(e)})])},renderTreeHTMLCell:e=>rE.renderTreeIcon(e,rE.renderHTMLCell(e)),renderSortAndFilterHeader:e=>ZS(e,rE.renderHeaderTitle(e).concat(rE.renderSortIcon(e).concat(rE.renderFilterIcon(e)))),renderSortHeader:e=>ZS(e,rE.renderHeaderTitle(e).concat(rE.renderSortIcon(e))),renderSortIcon(e){const{$table:t,column:n}=e,{computeSortOpts:o}=t.getComputeMaps(),l=o.value,{showIcon:r,iconLayout:a,iconAsc:i,iconDesc:s,iconVisibleMethod:c}=l,{order:u}=n;return!r||c&&!c(e)?[]:[w("span",{class:["vxe-cell--sort",`vxe-cell--sort-${a}-layout`]},[w("i",{class:["vxe-sort--asc-btn",i||zS().TABLE_SORT_ASC,{"sort--active":"asc"===u}],title:jS("vxe.table.sortAsc"),onClick(e){e.stopPropagation(),t.triggerSortEvent(e,n,"asc")}}),w("i",{class:["vxe-sort--desc-btn",s||zS().TABLE_SORT_DESC,{"sort--active":"desc"===u}],title:jS("vxe.table.sortDesc"),onClick(e){e.stopPropagation(),t.triggerSortEvent(e,n,"desc")}})])]},renderFilterHeader:e=>ZS(e,rE.renderHeaderTitle(e).concat(rE.renderFilterIcon(e))),renderFilterIcon(e){const{$table:t,column:n,hasFilter:o}=e,l=t.reactData,{filterStore:r}=l,{computeFilterOpts:a}=t.getComputeMaps(),i=a.value,{showIcon:s,iconNone:c,iconMatch:u,iconVisibleMethod:d}=i;return!s||d&&!d(e)?[]:[w("span",{class:["vxe-cell--filter",{"is--active":r.visible&&r.column===n}]},[w("i",{class:["vxe-filter--btn",o?u||zS().TABLE_FILTER_MATCH:c||zS().TABLE_FILTER_NONE],title:jS("vxe.table.filter"),onClick(n){t.triggerFilterEvent&&t.triggerFilterEvent(n,e.column,e)}})])]},renderEditHeader(e){const{$table:t,column:n}=e,o=t.props,{computeEditOpts:l}=t.getComputeMaps(),{editConfig:r,editRules:a}=o,i=l.value,{sortable:s,filters:c,editRender:u}=n;let d=!1;if(a){const e=rp.get(a,n.field);e&&(d=e.some((e=>e.required)))}let p=[];return Gw(r)&&(p=[d&&i.showAsterisk?w("i",{class:"vxe-cell--required-icon"}):qS(t),Gw(u)&&i.showIcon?w("i",{class:["vxe-cell--edit-icon",i.icon||zS().TABLE_EDIT]}):qS(t)]),ZS(e,p.concat(rE.renderHeaderTitle(e)).concat(s?rE.renderSortIcon(e):[]).concat(c?rE.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:t,column:n}=e,o=t.reactData,{editStore:l}=o,{actived:r}=l,{editRender:a}=n;return rE.runRenderer(e,Gw(a)&&r&&r.row===e.row)},renderTreeRowEdit:e=>rE.renderTreeIcon(e,rE.renderRowEdit(e)),renderCellEdit(e){const{$table:t,column:n}=e,o=t.reactData,{editStore:l}=o,{actived:r}=l,{editRender:a}=n;return rE.runRenderer(e,Gw(a)&&r&&r.row===e.row&&r.column===e.column)},renderTreeCellEdit:e=>rE.renderTreeIcon(e,rE.renderCellEdit(e)),runRenderer(e,t){const{$table:n,column:o}=e,{slots:l,editRender:r,formatter:a}=o,i=l?l.default:null,s=l?l.edit:null,c=WS.get(r.name),u=c?c.renderTableEdit||c.renderEdit:null,d=Object.assign({$type:"",isEdit:t},e);return t?(d.$type="edit",s?n.callSlot(s,d):u?BS(u(r,d)):[]):i?YS(e,n.callSlot(i,d)):a?YS(e,[w("span",{class:"vxe-cell--label"},tE(d))]):rE.renderDefaultCell(d)}},aE={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],footerFormatter:[Function,Array,String],sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,dragSort:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},iE=p({name:"VxeColumn",props:aE,setup(e,{slots:t}){const n=r(),l=o("$xeTable",null),a=o("$xeColgroup",null);if(!l)return()=>x();const i=rE.createColumn(l,e);i.slots=t;const s=()=>w("div",{ref:n}),c={columnConfig:i,renderVN:s};return DS(l,e,i),g((()=>{const e=n.value;e&&OS(l,e,i,a)})),h((()=>{kS(l,i)})),b("$xeColumn",c),b("$xeGrid",null),s}}),sE=Object.assign({},iE,{install(e){e.component(iE.name,iE),e.component("VxeTableColumn",iE)}});Rm.dynamicApp&&(Rm.dynamicApp.component(iE.name,iE),Rm.dynamicApp.component("VxeTableColumn",iE)),Rm.component(iE);const cE=sE,uE=p({name:"VxeColgroup",props:aE,setup(e,{slots:t}){const n=r(),l=o("$xeTable",null),a=o("$xeColgroup",null);if(!l)return()=>x();const i=rE.createColumn(l,e),s={};t.header&&(s.header=t.header),i.slots=s,i.children=[],DS(l,e,i),g((()=>{const e=n.value;e&&OS(l,e,i,a)})),h((()=>{kS(l,i)}));return b("$xeColgroup",{columnConfig:i}),b("$xeGrid",null),()=>w("div",{ref:n},t.default?t.default():[])}}),dE=Object.assign({},uE,{install(e){e.component(uE.name,uE),e.component("VxeTableColgroup",uE)}});Rm.dynamicApp&&(Rm.dynamicApp.component(uE.name,uE),Rm.dynamicApp.component("VxeTableColgroup",uE)),Rm.component(uE);const pE=dE,{getI18n:mE,renderer:fE,renderEmptyElement:gE}=Rm,hE="body",vE=p({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const n=o("$xeTable",{}),{xID:l,props:a,context:i,reactData:c,internalData:u}=n,{refTableBody:d,refTableHeader:p,refTableFooter:m,refTableLeftBody:f,refTableRightBody:v,refScrollXHandleElem:b,refScrollYHandleElem:x}=n.getRefMaps(),{computeEditOpts:y,computeMouseOpts:C,computeAreaOpts:S,computeSYOpts:T,computeEmptyOpts:D,computeTooltipOpts:O,computeRadioOpts:k,computeExpandOpts:I,computeTreeOpts:M,computeCheckboxOpts:P,computeCellOpts:R,computeValidOpts:V,computeRowOpts:A,computeColumnOpts:$,computeRowDragOpts:F,computeColumnDragOpts:N}=n.getComputeMaps(),L=r(),_=r(),B=r(),j=r(),z=r(),W=r(),H=r(),q=()=>{const{delayHover:e}=a,{lastScrollTime:t,_isResize:n}=c;return!!(n||t&&Date.now()<t+e)},U=(e,t,o,l,r,i,s,d,p,m,f,g)=>{const{fullAllDataRowIdData:h}=u,{columnKey:v,height:b,showOverflow:x,cellClassName:E,cellStyle:D,align:k,spanMethod:I,mouseConfig:N,editConfig:L,editRules:_,tooltipConfig:B}=a,{tableData:j,overflowX:z,currentColumn:W,scrollXLoad:H,scrollYLoad:U,isCalcCellHeight:K,mergeList:G,editStore:Y,isAllOverflow:X,validErrorMaps:Z}=c,{afterFullData:Q}=u,J=R.value,ee=V.value,te=P.value,ne=y.value,oe=O.value,le=A.value,re=F.value,{disabledMethod:ae,isCrossDrag:ie,isPeerDrag:se}=re,ce=T.value,ue=$.value,de=C.value,pe=S.value,{selectCellToRow:me}=pe,{type:fe,cellRender:ge,editRender:he,align:ve,showOverflow:be,className:xe,treeNode:ye,slots:we}=p,{verticalAlign:Ce}=J,{actived:Se}=Y,{rHeight:Ee}=ce,{height:Te}=le,De=p.id,Oe=he||ge,ke=Oe?fE.get(Oe.name):null,Ie=ke?ke.tableCellClassName||ke.cellClassName:null,Me=ke?ke.tableCellStyle||ke.cellStyle:"",Pe=oe.showAll,Re=n.getColumnIndex(p),Ve=n.getVTColumnIndex(p),Ae=Gw(he);let $e=o?p.fixed!==o:p.fixed&&z;const Fe=rp.isUndefined(be)||rp.isNull(be)?x:be,Ne="ellipsis"===Fe,Le="title"===Fe,_e=!0===Fe||"tooltip"===Fe,Be=x||Le||_e||Ne;let je;const ze={},We=h[t],He=ve||(ke?ke.tableCellAlign:"")||k,qe=Z[`${t}:${De}`],Ue=_&&ee.showMessage&&("default"===ee.message?b||j.length>1:"inline"===ee.message),Ke={colid:De},Ge={$table:n,$grid:n.xegrid,isEdit:!1,seq:e,rowid:t,row:r,rowIndex:i,$rowIndex:s,_rowIndex:d,column:p,columnIndex:Re,$columnIndex:m,_columnIndex:Ve,fixed:o,type:hE,isHidden:$e,level:l,visibleData:Q,data:j,items:g};let Ye=!1,Xe=!1;if(le.drag&&(Ye="row"===re.trigger||p.dragSort&&"cell"===re.trigger),Ye&&(Xe=!(!ae||!ae(Ge))),(Le||_e||Pe||B)&&(ze.onMouseenter=e=>{q()||(Le?lS(e.currentTarget,p):(_e||Pe)&&n.triggerBodyTooltipEvent(e,Ge),n.dispatchEvent("cell-mouseenter",Object.assign({cell:e.currentTarget},Ge),e))}),(_e||Pe||B)&&(ze.onMouseleave=e=>{q()||((_e||Pe)&&n.handleTargetLeaveEvent(e),n.dispatchEvent("cell-mouseleave",Object.assign({cell:e.currentTarget},Ge),e))}),(Ye||te.range||N)&&(ze.onMousedown=e=>{n.triggerCellMousedownEvent(e,Ge)}),Ye&&(ze.onMouseup=n.triggerCellMouseupEvent),ze.onClick=e=>{n.triggerCellClickEvent(e,Ge)},ze.onDblclick=e=>{n.triggerCellDblclickEvent(e,Ge)},G.length){const e=AS(G,d,Ve);if(e){const{rowspan:t,colspan:n}=e;if(!t||!n)return null;t>1&&(Ke.rowspan=t),n>1&&(Ke.colspan=n)}}else if(I){const{rowspan:e=1,colspan:t=1}=I(Ge)||{};if(!e||!t)return null;e>1&&(Ke.rowspan=e),t>1&&(Ke.colspan=t)}$e&&G&&(Ke.colspan>1||Ke.rowspan>1)&&($e=!1),!$e&&L&&(he||ge)&&(ne.showStatus||ne.showUpdateStatus)&&(je=n.isUpdateByRow(r,p.field));const Ze=[];if($e&&(x?X:x))Ze.push(w("div",{class:["vxe-cell",{"c--title":Le,"c--tooltip":_e,"c--ellipsis":Ne}],style:{maxHeight:Be&&(Ee||Te)?`${Ee||Te}px`:""}}));else if(Ze.push(...(e=>{const{row:t,column:o}=e,{afterFullData:l}=u,{treeConfig:r}=a,i=M.value,{slots:s,treeNode:c}=o,{fullAllDataRowIdData:d}=u;if(s&&s.line)return n.callSlot(s.line,e);const p=d[gS(n,t)];let m=0,f=null;p&&(m=p.level,f=p.items[p._index-1]);const g=n.eqRow(l[0],t);return r&&c&&(i.showLine||i.line)?[w("div",{class:"vxe-tree--line-wrapper"},[w("div",{class:"vxe-tree--line",style:{height:`${g?1:VS(e,f)}px`,left:m*i.indent+(m?2-RS(n):0)+16+"px"}})])]:[]})(Ge),w("div",{class:["vxe-cell",{"c--title":Le,"c--tooltip":_e,"c--ellipsis":Ne}],style:{maxHeight:Be&&(Ee||Te)?`${Ee||Te}px`:""},title:Le?n.getCellLabel(r,p):null},p.renderCell(Ge))),Ue&&qe){const e=qe.rule,t=we?we.valid:null,o=Object.assign(Object.assign(Object.assign({},Ge),qe),{rule:qe});Ze.push(w("div",{class:["vxe-cell--valid-error-tip",HC(ee.className,o)],style:e&&e.maxWidth?{width:`${e.maxWidth}px`}:null},[w("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${ee.theme||"normal"}`},[t?n.callSlot(t,o):[w("span",{class:"vxe-cell--valid-error-msg"},qe.content)]])]))}let Qe="";const Je=K?We.height:0;Be?Ee||Te?Qe=`${Ee||Te}px`:X||(Qe=`${Je||Te||18}px`):Qe=`${Je||Te||18}px`,N&&de.area&&me&&(!m&&!0===me||me===p.field)&&Ze.push(w("div",{class:"vxe-cell--area-status"}));const et=!p.resizeWidth&&("auto"===p.minWidth||"auto"===p.width);return w("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",De,{[`col--${He}`]:He,[`col--vertical-${Ce}`]:Ce,[`col--${fe}`]:fe,"col--last":m===f.length-1,"col--tree-node":ye,"col--edit":Ae,"col--ellipsis":Be,"fixed--width":!et,"fixed--hidden":$e,"is--drag-cell":Ye&&(ie||se||!l),"is--drag-disabled":Xe,"col--dirty":je,"col--active":L&&Ae&&Se.row===r&&(Se.column===p||"row"===ne.mode),"col--valid-error":!!qe,"col--current":W===p},HC(Ie,Ge),HC(xe,Ge),HC(E,Ge)],key:v||H||U||ue.useKey||le.useKey||ue.drag?De:m},Ke),{style:Object.assign({height:Qe},rp.isFunction(Me)?Me(Ge):Me,rp.isFunction(D)?D(Ge):D)}),ze),Ze)},K=(e,t,o)=>{const{stripe:l,rowKey:r,highlightHoverRow:i,rowClassName:s,rowStyle:d,showOverflow:p,editConfig:m,treeConfig:f}=a,{hasFixedColumn:g,treeExpandedMaps:h,scrollXLoad:v,scrollYLoad:b,rowExpandedMaps:x,expandColumn:C,selectRadioRow:S,pendingRowMaps:T,isDragColMove:D}=c,{fullAllDataRowIdData:O}=u,R=P.value,V=k.value,F=M.value,L=y.value,_=A.value,B=$.value,j=N.value,{transform:z,seqMode:W}=F,H=F.children||F.childrenField,G=[];return t.forEach(((a,c)=>{const u={};let y=c;y=n.getRowIndex(a),(_.isHover||i)&&(u.onMouseenter=e=>{q()||n.triggerHoverEvent(e,{row:a,rowIndex:y})},u.onMouseleave=()=>{q()||n.clearHoverRow()});const k=gS(n,a),M=O[k];let P=0,A=-1,$=0;M&&(P=M.level,A=f&&z&&"increasing"===W?M._index+1:M.seq,$=M._index);const N={$table:n,seq:A,rowid:k,fixed:e,type:hE,level:P,row:a,rowIndex:y,$rowIndex:c,_rowIndex:$},Y=C&&!!x[k];let X=!1,Z=[],Q=!1;m&&(Q=n.isInsertByRow(a)),!f||b||z||(Z=a[H],X=Z&&Z.length>0&&!!h[k]),!_.drag||f&&!z||(u.onDragstart=n.handleRowDragDragstartEvent,u.onDragend=n.handleRowDragDragendEvent,u.onDragover=n.handleRowDragDragoverEvent);const J=["vxe-body--row",f?`row--level-${P}`:"",{"row--stripe":l&&($+1)%2==0,"is--new":Q,"is--expand-row":Y,"is--expand-tree":X,"row--new":Q&&(L.showStatus||L.showInsertStatus),"row--radio":V.highlight&&n.eqRow(S,a),"row--checked":R.highlight&&n.isCheckedByCheckboxRow(a),"row--pending":!!T[k]},HC(s,N)],ee=o.map(((n,l)=>U(A,k,e,P,a,y,c,$,n,l,o,t)));if(G.push(B.drag&&j.animation?w(E,Object.assign({name:"vxe-header--col-list"+(D?"":"-disabled"),tag:"tr",class:J,rowid:k,style:d?rp.isFunction(d)?d(N):d:null,key:r||v||b||_.useKey||_.drag||B.drag||f?k:c},u),{default:()=>ee}):w("tr",Object.assign({class:J,rowid:k,style:d?rp.isFunction(d)?d(N):d:null,key:r||v||b||_.useKey||_.drag||B.drag||f?k:c},u),ee)),Y){const t=I.value,{height:l,padding:r}=t,i={};l&&(i.height=`${l}px`),f&&(i.paddingLeft=P*F.indent+30+"px");const{showOverflow:s}=C,m=rp.isUndefined(s)||rp.isNull(s)?p:s,h={$table:n,seq:A,column:C,fixed:e,type:hE,level:P,row:a,rowIndex:y,$rowIndex:c,_rowIndex:$};G.push(w("tr",Object.assign({class:["vxe-body--expanded-row",{"is--padding":r}],key:`expand_${k}`,style:d?rp.isFunction(d)?d(h):d:null},u),[w("td",{class:{"vxe-body--expanded-column":1,"fixed--hidden":e&&!g,"col--ellipsis":m},colspan:o.length},[w("div",{class:{"vxe-body--expanded-cell":1,"is--ellipsis":l},style:i},[C.renderData(h)])])]))}X&&G.push(...K(e,Z,o))})),G},G=t=>{const{fixedType:o}=e,{lastScrollTop:l,lastScrollLeft:r,inVirtualScroll:a,inBodyScroll:i,bodyScrollType:s,inFooterScroll:c}=u;if(a)return;if(c)return;if(i&&s!==o)return;const g=p.value,h=d.value,y=m.value,w=f.value,C=v.value,S=L.value,E=g?g.$el:null,T=y?y.$el:null,D=h.$el;if(!D)return;const O=w?w.$el:null,k=C?C.$el:null,I=b.value,M=x.value,P=S.scrollTop,R=D.scrollLeft,V=R!==r,A=P!==l;u.inBodyScroll=!0,u.bodyScrollType=o,A&&(O&&"left"===o?(nS(D,P),nS(k,P)):k&&"right"===o?(nS(D,P),nS(O,P)):(nS(O,P),nS(k,P)),nS(M,P),n.triggerScrollYEvent(t)),V&&(oS(I,R),oS(E,R),oS(T,R),n.triggerScrollXEvent(t)),n.handleScrollEvent(t,A,V,P,R,{type:hE,fixed:o})};let Y,X=0,Z=0,Q=0,J=!1;const ee=t=>{const{deltaY:o,deltaX:l}=t,{highlightHoverRow:r}=a,{scrollYLoad:i}=c,{lastScrollTop:s,lastScrollLeft:p}=u,m=A.value,g=d.value,h=L.value,b=g.$el,x=o,y=l,w=x<0;if(w?h.scrollTop<=0:h.scrollTop>=h.scrollHeight-h.clientHeight)return;const C=h.scrollTop+x,S=b.scrollLeft+y,E=S!==p,T=C!==s;T&&(t.preventDefault(),u.lastScrollTop=C,u.lastScrollLeft=S,c.lastScrollTime=Date.now(),(m.isHover||r)&&n.clearHoverRow(),((t,o,l,r,a)=>{const{elemStore:i}=u,{scrollXLoad:s,scrollYLoad:p}=c,m=d.value,g=f.value,h=v.value,b=g?g.$el:null,x=h?h.$el:null,y=m.$el,w=SS(i["main-body-ySpace"]),C=SS(i["main-body-xSpace"]),S=p&&w?w.clientHeight:y.clientHeight,E=s&&C?C.clientWidth:y.clientWidth,T=J===o?Math.max(0,X-Q):0;J=o,X=Math.abs(o?l-T:l+T),Z=0,Q=0,clearTimeout(Y);const D=()=>{if(Q<X){const{fixedType:l}=e;Z=Math.max(5,Math.floor(1.5*Z)),Q+=Z,Q>X&&(Z-=Q-X);const{scrollTop:i,clientHeight:s,scrollHeight:c}=y,u=i+Z*(o?-1:1);y.scrollTop=u,b&&(b.scrollTop=u),x&&(x.scrollTop=u),(o?u<c-s:u>=0)&&(Y=setTimeout(D,10)),n.dispatchEvent("scroll",{type:hE,fixed:l,scrollTop:y.scrollTop,scrollLeft:y.scrollLeft,scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth,bodyHeight:S,bodyWidth:E,isX:r,isY:a},t)}};D()})(t,w,x,E,T),i&&n.triggerScrollYEvent(t))};g((()=>{t((()=>{const{fixedType:t}=e,{elemStore:n}=u,o=`${t||"main"}-body-`;n[`${o}wrapper`]=L,n[`${o}table`]=_,n[`${o}colgroup`]=B,n[`${o}list`]=j,n[`${o}xSpace`]=z,n[`${o}ySpace`]=W,n[`${o}emptyBlock`]=H}))})),s((()=>{clearTimeout(Y)})),h((()=>{const{fixedType:t}=e,{elemStore:n}=u,o=`${t||"main"}-body-`;n[`${o}wrapper`]=null,n[`${o}table`]=null,n[`${o}colgroup`]=null,n[`${o}list`]=null,n[`${o}xSpace`]=null,n[`${o}ySpace`]=null,n[`${o}emptyBlock`]=null}));return()=>{const{slots:t}=i,{fixedColumn:o,fixedType:r,tableColumn:s}=e,{showOverflow:d,spanMethod:p,footerSpanMethod:m,mouseConfig:f}=a,{isGroup:g,tableData:h,scrollXLoad:v,scrollYLoad:b,isAllOverflow:x,isDragRowMove:y,expandColumn:S,dragRow:O,dragCol:k}=c,{visibleColumn:I,fullAllDataRowIdData:M,fullColumnIdData:P}=u,R=A.value,V=T.value,$=D.value,N=C.value,q=F.value;let U,Y=h,X=s;if(r&&(X=I,(v||b||d&&x)&&(X=S||p||m?I:o||[])),b&&O&&Y.length>2){const e=M[gS(n,O)];if(e){const t=e._index,o=Y[0],l=Y[Y.length-1],r=M[gS(n,o)],a=M[gS(n,l)];if(r&&a){const e=r._index,n=a._index;t<e?Y=[O].concat(Y):t>n&&(Y=Y.concat([O]))}}}if(!r&&!g&&v&&k&&X.length>2){const e=P[k.id];if(e){const t=e._index,n=X[0],o=X[X.length-1],l=P[n.id],r=P[o.id];if(l&&r){const e=l._index,n=r._index;t<e?X=[k].concat(X):t>n&&(X=X.concat([k]))}}}const Z=t?t.empty:null;if(Z)U=n.callSlot(Z,{$table:n,$grid:n.xegrid});else{const e=$.name?fE.get($.name):null,t=e?e.renderTableEmpty||e.renderTableEmptyView||e.renderEmpty:null;U=t?BS(t($,{$table:n})):a.emptyText||mE("vxe.table.emptyText")}const Q={onScroll:G};return"wheel"===V.mode&&(Q.onWheel=ee),w("div",Object.assign({ref:L,class:["vxe-table--body-wrapper",r?`fixed-${r}--wrapper`:"body--wrapper"],xid:l},Q),[r?gE(n):w("div",{ref:z,class:"vxe-body--x-space"}),w("div",{ref:W,class:"vxe-body--y-space"}),w("table",{ref:_,class:"vxe-table--body",xid:l,cellspacing:0,cellpadding:0,border:0},[w("colgroup",{ref:B},X.map(((e,t)=>w("col",{name:e.id,key:t})))),R.drag&&q.animation?w(E,{ref:j,name:"vxe-body--row-list"+(y?"":"-disabled"),tag:"tbody"},{default:()=>K(r,Y,X)}):w("tbody",{ref:j},K(r,Y,X))]),w("div",{class:"vxe-table--checkbox-range"}),f&&N.area?w("div",{class:"vxe-table--cell-area"},[w("span",{class:"vxe-table--cell-main-area"},N.extension?[w("span",{class:"vxe-table--cell-main-area-btn",onMousedown(e){n.triggerCellAreaExtendMousedownEvent&&n.triggerCellAreaExtendMousedownEvent(e,{$table:n,fixed:r,type:hE})}})]:[]),w("span",{class:"vxe-table--cell-copy-area"}),w("span",{class:"vxe-table--cell-extend-area"}),w("span",{class:"vxe-table--cell-multi-area"}),w("span",{class:"vxe-table--cell-active-area"})]):gE(n),r?gE(n):w("div",{class:"vxe-table--empty-block",ref:H},[w("div",{class:"vxe-table--empty-content"},U)])])}}}),{getI18n:bE,renderer:xE,renderEmptyElement:yE}=Rm,wE="header",CE=p({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const n=o("$xeTable",{}),{xID:l,props:a,reactData:s,internalData:c}=n,{refElem:u,refTableBody:d,refLeftContainer:p,refRightContainer:m,refCellResizeBar:f,refCellResizeTip:v}=n.getRefMaps(),{computeColumnOpts:b,computeColumnDragOpts:x,computeResizableOpts:y}=n.getComputeMaps(),C=r([]),S=r(),T=r(),D=r(),O=r(),k=r(),I=r(),M=()=>{const{isGroup:t}=s;C.value=t?(e=>{let t=1;const n=(e,o)=>{if(o&&(e.level=o.level+1,t<e.level&&(t=e.level)),e.children&&e.children.length&&e.children.some((e=>e.visible))){let t=0;e.children.forEach((o=>{o.visible&&(n(o,e),t+=o.colSpan)})),e.colSpan=t}else e.colSpan=1};e.forEach((e=>{e.level=1,n(e)}));const o=[];for(let l=0;l<t;l++)o.push([]);return dS(e).forEach((e=>{e.children&&e.children.length&&e.children.some((e=>e.visible))?e.rowSpan=1:e.rowSpan=t-e.level+1,o[e.level-1].push(e)})),o})(e.tableGroupColumn):[]},P=(t,o)=>{const{fixedType:l}=e,{resizable:r,border:i,columnKey:g,headerCellClassName:h,headerCellStyle:C,showHeaderOverflow:E,headerAlign:T,align:D,mouseConfig:O}=a,{currentColumn:k,scrollXLoad:I,scrollYLoad:M,overflowX:P,scrollbarWidth:R}=s,V=b.value,A=x.value,{disabledMethod:$,isCrossDrag:F,isPeerDrag:N}=A;return t.map(((a,b)=>{const{type:x,showHeaderOverflow:R,headerAlign:L,align:_,filters:B,headerClassName:j,editRender:z,cellRender:W}=a,H=a.id,q=z||W,U=q?xE.get(q.name):null,K=a.children&&a.children.length,G=l?a.fixed!==l&&!K:!!a.fixed&&P,Y=rp.eqNull(R)?E:R,X=L||(U?U.tableHeaderCellAlign:"")||T||_||(U?U.tableCellAlign:"")||D;let Z="ellipsis"===Y;const Q="title"===Y,J=!0===Y||"tooltip"===Y;let ee=Q||J||Z,te=!1,ne=null;B&&(ne=B[0],te=B.some((e=>e.checked)));const oe=n.getColumnIndex(a),le=n.getVTColumnIndex(a),re={$table:n,$grid:n.xegrid,$rowIndex:o,column:a,columnIndex:oe,$columnIndex:b,_columnIndex:le,firstFilterOption:ne,fixed:l,type:wE,isHidden:G,hasFilter:te},ae={colid:H,colspan:a.colSpan>1?a.colSpan:null,rowspan:a.rowSpan>1?a.rowSpan:null},ie={onClick:e=>n.triggerHeaderCellClickEvent(e,re),onDblclick:e=>n.triggerHeaderCellDblclickEvent(e,re)};I&&!ee&&(Z=ee=!0);const se=V.drag&&"cell"===A.trigger;let ce=!1;se&&(ce=!(!$||!$(re))),(O||se)&&(ie.onMousedown=e=>n.triggerHeaderCellMousedownEvent(e,re)),V.drag&&(ie.onDragstart=n.handleHeaderCellDragDragstartEvent,ie.onDragend=n.handleHeaderCellDragDragendEvent,ie.onDragover=n.handleHeaderCellDragDragoverEvent,se&&(ie.onMouseup=n.handleHeaderCellDragMouseupEvent));const ue=!a.resizeWidth&&("auto"===a.minWidth||"auto"===a.width);return w("th",Object.assign(Object.assign(Object.assign({class:["vxe-header--column",H,{[`col--${X}`]:X,[`col--${x}`]:x,"col--last":b===t.length-1,"col--fixed":a.fixed,"col--group":K,"col--ellipsis":ee,"fixed--width":!ue,"fixed--hidden":G,"is--sortable":a.sortable,"col--filter":!!B,"is--filter-active":te,"is--drag-active":!a.fixed&&!ce&&(F||N||!a.parentId),"is--drag-disabled":ce,"col--current":k===a},j?rp.isFunction(j)?j(re):j:"",h?rp.isFunction(h)?h(re):h:""],style:C?rp.isFunction(C)?C(re):C:null},ae),ie),{key:g||I||M||V.useKey||V.drag||K?H:b}),[w("div",{class:["vxe-cell",{"c--title":Q,"c--tooltip":J,"c--ellipsis":Z}]},a.renderHeader(re)),G||K||!(rp.isBoolean(a.resizable)?a.resizable:V.resizable||r)?null:w("div",{class:["vxe-resizable",{"is--line":!i||"none"===i}],onMousedown:t=>((t,o)=>{const{column:l}=o,{fixedType:r}=e,{visibleColumn:a}=c,i=y.value,g=d.value,h=u.value,b=p.value,x=m.value,w=f.value,C=v.value,{clientX:E}=t,T=S.value,D=t.target,O=D.parentNode,k=Object.assign(o,{cell:O});let I=0;const M=g.$el,P=aS(D,T),R=D.clientWidth,V=Math.floor(R/2),A=ES(k)-V;let $=P.left-O.clientWidth+R+A,F=P.left+V;const N=document.onmousemove,L=document.onmouseup,_="left"===r,B="right"===r;let j=0;if(_||B){const e=_?"nextElementSibling":"previousElementSibling";let t=O[e];for(;t&&!YC(t,"fixed--hidden");)YC(t,"col--group")||(j+=t.offsetWidth),t=t[e];B&&x&&(F=x.offsetLeft+j)}const z=function(e){e.stopPropagation(),e.preventDefault();const t=e.clientX-E;let n=F+t;const o=r?0:M.scrollLeft;_?n=Math.min(n,(x?x.offsetLeft:M.clientWidth)-j-A):B?($=(b?b.clientWidth:0)+j+A,n=Math.min(n,F+O.clientWidth-A)):$=Math.max(M.scrollLeft,$),I=Math.max(n,$);const a=I-o;if(w.style.left=`${a}px`,i.showDragTip&&C){const t=h.clientWidth,n=T.getBoundingClientRect(),o=w.clientWidth,r=C.clientWidth,i=C.clientHeight;let s=-r;a<r+o?s=r+o-a:a>t&&(s+=t-a),C.style.left=`${s}px`,C.style.top=`${Math.min(h.clientHeight-i,Math.max(0,e.clientY-n.y-i/2))}px`,C.textContent=bE("vxe.table.resizeColTip",[l.renderWidth+(B?F-I:I-F)])}};s._isResize=!0,ZC(h,"drag--resize"),w.style.display="block",document.onmousemove=z,document.onmouseup=function(e){document.onmousemove=N,document.onmouseup=L;const t=l.renderWidth+(B?F-I:I-F);l.resizeWidth=t,"fixed"===i.dragMode&&a.forEach((e=>{e.id!==l.id&&(e.resizeWidth||(e.resizeWidth=e.renderWidth))})),w.style.display="none",s._isResize=!1,c._lastResizeTime=Date.now(),n.analyColumnWidth(),n.recalculate(!0).then((()=>{n.saveCustomStore("update:visible"),n.updateCellAreas(),n.dispatchEvent("resizable-change",Object.assign(Object.assign({},o),{resizeWidth:t}),e),setTimeout((()=>n.recalculate(!0)),300)})),XC(h,"drag--resize")},z(t),n.closeMenu&&n.closeMenu()})(t,re),onDblclick:e=>n.handleResizeDblclickEvent(e,re)})])})).concat(R?[w("th",{key:`gr${o}`,class:"vxe-header--gutter col--gutter"})]:[])},R=t=>{const{fixedType:o}=e,{headerRowClassName:l,headerRowStyle:r}=a,{isDragColMove:i}=s,c=b.value,u=x.value;return t.map(((e,t)=>{const a={$table:n,$rowIndex:t,fixed:o,type:wE};return c.drag&&u.animation?w(E,{key:t,name:"vxe-header--col-list"+(i?"":"-disabled"),tag:"tr",class:["vxe-header--row",l?rp.isFunction(l)?l(a):l:""],style:r?rp.isFunction(r)?r(a):r:null},{default:()=>P(e,t)}):w("tr",{key:t,class:["vxe-header--row",l?rp.isFunction(l)?l(a):l:""],style:r?rp.isFunction(r)?r(a):r:null},P(e,t))}))};return i((()=>e.tableColumn),M),g((()=>{t((()=>{const{fixedType:t}=e,{internalData:o}=n,{elemStore:l}=o,r=`${t||"main"}-header-`;l[`${r}wrapper`]=S,l[`${r}table`]=T,l[`${r}colgroup`]=D,l[`${r}list`]=O,l[`${r}xSpace`]=k,l[`${r}repair`]=I,M()}))})),h((()=>{const{fixedType:t}=e,{internalData:o}=n,{elemStore:l}=o,r=`${t||"main"}-header-`;l[`${r}wrapper`]=null,l[`${r}table`]=null,l[`${r}colgroup`]=null,l[`${r}list`]=null,l[`${r}xSpace`]=null,l[`${r}repair`]=null})),()=>{const{fixedType:t,fixedColumn:o,tableColumn:r}=e,{showHeaderOverflow:i,spanMethod:u,footerSpanMethod:d}=a,{isGroup:p,scrollXLoad:m,scrollYLoad:f,scrollbarWidth:g,dragCol:h}=s,{visibleColumn:v,fullColumnIdData:b}=c;let x=C.value,y=r;if(p?y=v:(t&&(y=v,(m||f||i)&&(y=u||d?v:o||[])),x=[y]),!t&&!p&&m&&h&&y.length>2){const e=b[h.id];if(e){const t=e._index,n=y[0],o=y[y.length-1],l=b[n.id],r=b[o.id];if(l&&r){const e=l._index,n=r._index;t<e?(y=[h].concat(y),x=[[h].concat(x[0])].concat(x.slice(1))):t>n&&(y=y.concat([h]),x=[x[0].concat([h])].concat(x.slice(1)))}}}return w("div",{ref:S,class:["vxe-table--header-wrapper",t?`fixed-${t}--wrapper`:"body--wrapper"],xid:l},[t?yE(n):w("div",{ref:k,class:"vxe-body--x-space"}),w("table",{ref:T,class:"vxe-table--header",xid:l,cellspacing:0,cellpadding:0,border:0},[w("colgroup",{ref:D},y.map(((e,t)=>w("col",{name:e.id,key:t}))).concat(g?[w("col",{name:"col_gutter"})]:[])),w("thead",{ref:O},R(x))]),w("div",{ref:I,class:"vxe-table--header-border-line"})])}}}),{renderer:SE,renderEmptyElement:EE}=Rm,TE="footer";const DE=p({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const n=o("$xeTable",{}),{xID:l,props:a,reactData:i,internalData:s}=n,{refTableHeader:c,refTableBody:u,refScrollXHandleElem:d}=n.getRefMaps(),{computeTooltipOpts:p,computeColumnOpts:m,computeColumnDragOpts:f}=n.getComputeMaps(),v=r(),b=r(),x=r(),y=r(),C=r(),S=t=>{const{inVirtualScroll:o,inBodyScroll:l}=s;if(o)return;if(l)return;const{fixedType:r}=e,a=c.value,i=u.value,p=a?a.$el:null,m=v.value;if(!m)return;const f=i?i.$el:null;if(!f)return;const g=d.value,h=m.scrollLeft,b=f.scrollTop;s.inFooterScroll=!0,oS(g,h),oS(p,h),oS(f,h),n.triggerScrollXEvent(t),n.handleScrollEvent(t,!1,!0,b,h,{type:TE,fixed:r})},T=(t,o,l,r,s)=>{const{fixedType:c}=e,{footerCellClassName:u,footerCellStyle:d,footerAlign:f,footerSpanMethod:g,align:h,columnKey:v,showFooterOverflow:b}=a,{scrollXLoad:x,scrollYLoad:y,overflowX:C,scrollbarWidth:S,currentColumn:E,mergeFooterList:T}=i,D=p.value,O=m.value;return t.map(((e,a)=>{const{type:i,showFooterOverflow:p,footerAlign:m,align:S,footerClassName:k,editRender:I,cellRender:M}=e,P=I||M,R=P?SE.get(P.name):null,V=D.showAll,A=e.children&&e.children.length,$=c?e.fixed!==c&&!A:e.fixed&&C,F=rp.eqNull(p)?b:p,N=m||(R?R.tableFooterCellAlign:"")||f||S||(R?R.tableCellAlign:"")||h;let L="ellipsis"===F;const _="title"===F,B=!0===F||"tooltip"===F;let j=_||B||L;const z={colid:e.id},W={},H=n.getColumnIndex(e),q=n.getVTColumnIndex(e),U=q,K={$table:n,$grid:n.xegrid,row:l,rowIndex:s,_rowIndex:s,$rowIndex:r,column:e,columnIndex:H,$columnIndex:a,_columnIndex:q,itemIndex:U,items:l,fixed:c,type:TE,data:o};if(x&&!j&&(L=j=!0),(_||B||V)&&(W.onMouseenter=t=>{_?lS(t.currentTarget,e):(B||V)&&n.triggerFooterTooltipEvent(t,K)}),(B||V)&&(W.onMouseleave=e=>{(B||V)&&n.handleTargetLeaveEvent(e)}),W.onClick=e=>{n.dispatchEvent("footer-cell-click",Object.assign({cell:e.currentTarget},K),e)},W.onDblclick=e=>{n.dispatchEvent("footer-cell-dblclick",Object.assign({cell:e.currentTarget},K),e)},T.length){const e=function(e,t,n){for(let o=0;o<e.length;o++){const{row:l,col:r,rowspan:a,colspan:i}=e[o];if(r>-1&&l>-1&&a&&i){if(l===t&&r===n)return{rowspan:a,colspan:i};if(t>=l&&t<l+a&&n>=r&&n<r+i)return{rowspan:0,colspan:0}}}}(T,s,q);if(e){const{rowspan:t,colspan:n}=e;if(!t||!n)return null;t>1&&(z.rowspan=t),n>1&&(z.colspan=n)}}else if(g){const{rowspan:e=1,colspan:t=1}=g(K)||{};if(!e||!t)return null;e>1&&(z.rowspan=e),t>1&&(z.colspan=t)}const G=!e.resizeWidth&&("auto"===e.minWidth||"auto"===e.width);return w("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",e.id,{[`col--${N}`]:N,[`col--${i}`]:i,"col--last":a===t.length-1,"fixed--width":!G,"fixed--hidden":$,"col--ellipsis":j,"col--current":E===e},HC(k,K),HC(u,K)]},z),{style:d?rp.isFunction(d)?d(K):d:null}),W),{key:v||x||y||O.useKey||O.drag?e.id:a}),[w("div",{class:["vxe-cell",{"c--title":_,"c--tooltip":B,"c--ellipsis":L}]},e.renderFooter(K))])})).concat(S?[w("td",{key:`gr${r}`,class:"vxe-footer--gutter col--gutter"})]:[])},D=t=>{const{fixedType:o,footerTableData:l}=e,{footerRowClassName:r,footerRowStyle:s}=a,{isDragColMove:c}=i,u=m.value,d=f.value;return l.map(((e,a)=>{const i=a,p={$table:n,row:e,_rowIndex:i,$rowIndex:a,fixed:o,type:TE};return u.drag&&d.animation?w(E,{key:a,name:"vxe-header--col-list"+(c?"":"-disabled"),tag:"tr",class:["vxe-footer--row",r?rp.isFunction(r)?r(p):r:""],style:s?rp.isFunction(s)?s(p):s:null},{default:()=>T(t,l,e,a,i)}):w("tr",{key:a,class:["vxe-footer--row",r?rp.isFunction(r)?r(p):r:""],style:s?rp.isFunction(s)?s(p):s:null},T(t,l,e,a,i))}))};return g((()=>{t((()=>{const{fixedType:t}=e,{elemStore:n}=s,o=`${t||"main"}-footer-`;n[`${o}wrapper`]=v,n[`${o}table`]=b,n[`${o}colgroup`]=x,n[`${o}list`]=y,n[`${o}xSpace`]=C}))})),h((()=>{const{fixedType:t}=e,{elemStore:n}=s,o=`${t||"main"}-footer-`;n[`${o}wrapper`]=null,n[`${o}table`]=null,n[`${o}colgroup`]=null,n[`${o}list`]=null,n[`${o}xSpace`]=null})),()=>{const{fixedType:t,fixedColumn:o,tableColumn:r}=e,{spanMethod:c,footerSpanMethod:u,showFooterOverflow:d}=a,{visibleColumn:p,fullColumnIdData:m}=s,{isGroup:f,scrollXLoad:g,scrollYLoad:h,scrollbarWidth:E,dragCol:T}=i;let O=r;if(t&&(O=p,(g||h||d)&&(O=c||u?p:o||[])),!t&&!f&&g&&T&&O.length>2){const e=m[T.id];if(e){const t=e._index,n=O[0],o=O[O.length-1],l=m[n.id],r=m[o.id];if(l&&r){const e=l._index,n=r._index;t<e?O=[T].concat(O):t>n&&(O=O.concat([T]))}}}const k={};return t||(k.onScroll=S),w("div",Object.assign({ref:v,class:["vxe-table--footer-wrapper",t?`fixed-${t}--wrapper`:"body--wrapper"],xid:l},k),[t?EE(n):w("div",{ref:C,class:"vxe-body--x-space"}),w("table",{ref:b,class:"vxe-table--footer",xid:l,cellspacing:0,cellpadding:0,border:0},[w("colgroup",{ref:x},O.map(((e,t)=>w("col",{name:e.id,key:t}))).concat(E?[w("col",{name:"col_gutter"})]:[])),w("tfoot",{ref:y},D(O))])])}}}),{getConfig:OE}=Rm,kE={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>OE().table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>OE().table.resizable},stripe:{type:Boolean,default:()=>OE().table.stripe},border:{type:[Boolean,String],default:()=>OE().table.border},padding:{type:Boolean,default:()=>OE().table.padding},round:{type:Boolean,default:()=>OE().table.round},size:{type:String,default:()=>OE().table.size||OE().size},fit:{type:Boolean,default:()=>OE().table.fit},loading:Boolean,align:{type:String,default:()=>OE().table.align},headerAlign:{type:String,default:()=>OE().table.headerAlign},footerAlign:{type:String,default:()=>OE().table.footerAlign},showHeader:{type:Boolean,default:()=>OE().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>OE().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>OE().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>OE().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>OE().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>OE().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>OE().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>OE().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>OE().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>OE().table.emptyText},keepSource:{type:Boolean,default:()=>OE().table.keepSource},autoResize:{type:Boolean,default:()=>OE().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,cellConfig:Object,rowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,animat:{type:Boolean,default:()=>OE().table.animat},delayHover:{type:Number,default:()=>OE().table.delayHover},params:Object},IE=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],{getI18n:ME,getIcon:PE,renderEmptyElement:RE}=Rm,VE=p({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e){const t=Rm.getComponent("VxeModal"),n=Rm.getComponent("VxeDrawer"),l=Rm.getComponent("VxeButton"),a=Rm.getComponent("VxeNumberInput"),i=Rm.getComponent("VxeRadioGroup"),s=o("$xeTable",{}),{props:c,reactData:u,internalData:d}=s,{computeCustomOpts:p,computeColumnDragOpts:m,computeColumnOpts:f,computeIsMaxFixedColumn:g,computeResizableOpts:h}=s.getComputeMaps(),v=r(),b=r(),y=r(),C=r(),S=r();let T,D,O=!1;const k=t=>{const{customStore:n}=e;n.activeWrapper=!0,s.customOpenEvent(t)},I=t=>{const{customStore:n}=e;n.activeWrapper=!1,setTimeout((()=>{n.activeBtn||n.activeWrapper||s.customCloseEvent(t)}),300)},M=({$event:e})=>{u.isCustomStatus=!0,s.saveCustom(),s.closeCustom(),s.emitCustomEvent("confirm",e)},P=({$event:e})=>{s.closeCustom(),s.emitCustomEvent("close",e)},R=({$event:e})=>{s.cancelCustom(),s.closeCustom(),s.emitCustomEvent("cancel",e)},V=e=>{s.resetCustom(!0),s.closeCustom(),s.emitCustomEvent("reset",e)},A=({$event:e})=>{Rm.modal?Rm.modal.confirm({content:ME("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then((t=>{"confirm"===t&&V(e)})):V(e)},$=e=>{const{customColumnList:t}=u,n=rp.findTree(t,(t=>t===e));if(n&&n.parent){const{parent:e}=n;e.children&&e.children.length&&(e.renderVisible=e.children.every((e=>e.renderVisible)),e.halfVisible=!e.renderVisible&&e.children.some((e=>e.renderVisible||e.halfVisible)),$(e))}},F=e=>{const t=!e.renderVisible;p.value.immediate?(rp.eachTree([e],(e=>{e.visible=t,e.renderVisible=t,e.halfVisible=!1})),u.isCustomStatus=!0,s.handleCustom(),s.saveCustomStore("update:visible")):rp.eachTree([e],(e=>{e.renderVisible=t,e.halfVisible=!1})),$(e),s.checkCustomStatus()},N=(e,t)=>{const n=g.value;p.value.immediate?(e.renderFixed===t?rp.eachTree([e],(e=>{e.fixed="",e.renderFixed=""})):n&&!e.renderFixed||rp.eachTree([e],(e=>{e.fixed=t,e.renderFixed=t})),u.isCustomStatus=!0,s.handleCustom(),s.saveCustomStore("update:fixed")):e.renderFixed===t?rp.eachTree([e],(e=>{e.renderFixed=""})):n&&!e.renderFixed||rp.eachTree([e],(e=>{e.renderFixed=t}))},L=()=>{s.toggleCustomAllCheckbox()},_=(e,t,n,o)=>{const l=b.value;if(!l)return;const r=l.getBoundingClientRect();if(t){const e=y.value;if(e)if(n){const n=t.getBoundingClientRect();e.style.display="block",e.style.top=`${Math.max(1,n.y+l.scrollTop-r.y)}px`,e.style.height=`${n.height}px`,e.style.width=`${n.width}px`,e.setAttribute("drag-pos",o),e.setAttribute("drag-to-child",O?"y":"n")}else e.style.display=""}const a=C.value;a&&(a.style.display="block",a.style.top=`${Math.min(l.clientHeight+l.scrollTop-a.clientHeight,e.clientY+l.scrollTop-r.y)}px`,a.style.left=`${Math.min(l.clientWidth+l.scrollLeft-a.clientWidth,e.clientX+l.scrollLeft-r.x)}px`,a.setAttribute("drag-status",n?O?"sub":"normal":"disabled"))},B=()=>{const e=C.value,t=y.value;e&&(e.style.display=""),t&&(t.style.display="")},j=e=>{const t=e.currentTarget.parentElement.parentElement.parentElement,n=t.getAttribute("colid"),o=s.getColumnById(n);t.draggable=!0,S.value=o,ZC(t,"active--drag-origin")},z=e=>{const t=e.currentTarget.parentElement.parentElement.parentElement;B(),t.draggable=!1,S.value=null,XC(t,"active--drag-origin")},W=e=>{e.dataTransfer&&e.dataTransfer.setDragImage(WC(),0,0)},H=e=>{const{mouseConfig:t}=c,{customColumnList:n}=u,{collectColumn:o}=d,l=p.value,{immediate:r}=l,a=e.currentTarget,i=S.value,f=m.value,{isCrossDrag:g,isSelfToChildDrag:h,isToChildDrag:v,dragEndMethod:b}=f,x="bottom"===D?1:0;if(T&&i&&T!==i){const l=i,a=T;Promise.resolve(!b||b({oldColumn:l,newColumn:a,dragPos:D,dragToChild:!!O,offsetIndex:x})).then((i=>{if(!i)return;let c=-1,d=-1;const p={};rp.eachTree([l],(e=>{p[e.id]=e}));let m=!1;if(r){if(l.parentId&&a.parentId){if(!g)return;if(p[a.id]&&(m=!0,!g||!h))return void(Rm.modal&&Rm.modal.message({status:"error",content:ME("vxe.error.treeDragChild")}))}else if(l.parentId){if(!g)return}else if(a.parentId){if(!g)return;if(p[a.id]&&(m=!0,!g||!h))return void(Rm.modal&&Rm.modal.message({status:"error",content:ME("vxe.error.treeDragChild")}))}const e=rp.findTree(o,(e=>e.id===l.id));if(m&&g&&h){if(e){const{items:t,index:n}=e,o=l.children||[];o.forEach((e=>{e.parentId=l.parentId})),t.splice(n,1,...o),l.children=[]}}else if(e){const{items:t,index:n,parent:o}=e;t.splice(n,1),o||(c=n)}const t=rp.findTree(o,(e=>e.id===a.id));if(t){const{items:e,index:n,parent:o}=t;g&&v&&O?(l.parentId=a.id,a.children=(a.children||[]).concat([l])):(l.parentId=a.parentId,e.splice(n+x,0,l)),o||(d=n)}rp.eachTree(o,((e,t,n,o,l)=>{if(!l){const n=t+1;e.renderSortNumber=n}}))}else c=rp.findIndexOf(n,(e=>e.id===l.id)),n.splice(c,1),d=rp.findIndexOf(n,(e=>e.id===a.id)),n.splice(d+x,0,l);u.isDragColMove=!0,t&&(s.clearSelected&&s.clearSelected(),s.clearCellAreas&&(s.clearCellAreas(),s.clearCopyCellArea())),s.dispatchEvent("column-dragend",{oldColumn:l,newColumn:a,dragPos:D,offsetIndex:x,_index:{newIndex:d,oldIndex:c}},e),r&&(u.customColumnList=o.slice(0),s.handleColDragSwapColumn())})).catch((()=>{}))}B(),S.value=null,a.draggable=!1,a.removeAttribute("drag-pos"),XC(a,"active--drag-target"),XC(a,"active--drag-origin")},q=e=>{const t=p.value,{immediate:n}=t,o=m.value,{isCrossDrag:l,isToChildDrag:r}=o,a=e.currentTarget,i=e.ctrlKey,c=a.getAttribute("colid"),u=s.getColumnById(c),d=S.value;if(u&&(l||1===u.level)){e.preventDefault();const t=e.clientY-a.getBoundingClientRect().y<a.clientHeight/2?"top":"bottom";if(d&&d.id===u.id||!l&&u.level>1||!n&&u.level>1||u.renderFixed)return void _(e,a,!1,t);O=!!(l&&r&&i&&n),T=u,D=t,_(e,a,!0,t)}},U=()=>{const e=S.value,t=m.value;return w("div",{},[w("div",{ref:y,class:["vxe-table-custom-popup--drag-line",{"is--guides":t.showGuidesStatus}]}),w("div",{ref:C,class:"vxe-table-custom-popup--drag-tip"},[w("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[w("div",{class:"vxe-table-custom-popup--drag-tip-status"},[w("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",PE().TABLE_DRAG_STATUS_ROW]}),w("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",PE().TABLE_DRAG_STATUS_SUB_ROW]}),w("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",PE().TABLE_DRAG_DISABLED]})]),w("div",{class:"vxe-table-custom-popup--drag-tip-content"},ME("vxe.custom.cstmDragTarget",[e&&"html"!==e.type?e.getTitle():""]))])])])},K=()=>{const{customStore:o}=e,{resizable:r}=c,{isCustomStatus:d,customColumnList:v}=u,y=p.value,{immediate:C}=y,S=m.value,{mode:T,modalOptions:D,drawerOptions:O,allowVisible:k,allowSort:I,allowFixed:V,allowResizable:$,checkMethod:_,visibleMethod:B}=y,K=f.value,{maxFixedSize:G}=K,Y=h.value,{minWidth:X,maxWidth:Z}=Y,Q=Object.assign({},D),J=Object.assign({},O),ee=g.value,{isCrossDrag:te}=S,ne=y.slots||{},oe=ne.header,le=ne.top,re=ne.bottom,ae=ne.default,ie=ne.footer,se=[],ce=o.isAll,ue=o.isIndeterminate,de={$table:s,$grid:s.xegrid,columns:v,isAllChecked:ce,isAllIndeterminate:ue,isCustomStatus:d};rp.eachTree(v,((e,t,n,o,l)=>{if(!B||B({column:e})){let n=0,o=0;if($){const l={$table:s,column:e,columnIndex:t,$columnIndex:t,$rowIndex:-1};X&&(n=rp.toNumber(rp.isFunction(X)?X(l):X)),Z&&(o=rp.toNumber(rp.isFunction(Z)?Z(l):Z))}const c=e.renderVisible,d=e.halfVisible,m=tC(e.getTitle(),1),f=e.children&&e.children.length,g=!!_&&!_({column:e}),h=!c;se.push(w("tr",{key:e.id,colid:e.id,class:[`vxe-table-custom-popup--row level--${e.level}`,{"is--group":f}],onDragstart:W,onDragend:H,onDragover:q},[k?w("td",{class:"vxe-table-custom-popup--column-item col--visible"},[w("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":c,"is--indeterminate":d,"is--disabled":g}],title:ME("vxe.custom.setting.colVisible"),onClick:()=>{g||F(e)}},[w("span",{class:["vxe-checkbox--icon",d?PE().TABLE_CHECKBOX_INDETERMINATE:c?PE().TABLE_CHECKBOX_CHECKED:PE().TABLE_CHECKBOX_UNCHECKED]})])]):x(),w("td",{class:"vxe-table-custom-popup--column-item col--name"},[w("div",{class:"vxe-table-custom-popup--name"},[I?te&&C||1===e.level?w("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":g||h||e.renderFixed}],title:ME("vxe.custom.setting.sortHelpTip")},g||h||e.renderFixed?{}:{onMousedown:j,onMouseup:z}),[w("i",{class:PE().TABLE_CUSTOM_SORT})]):w("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):x(),"html"===e.type?w("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:m}):w("div",{key:"0",class:"vxe-table-custom-popup--title",title:m},m)])]),$?w("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[e.children&&e.children.length||!(rp.isBoolean(e.resizable)?e.resizable:K.resizable||r)?w("span","-"):a?w(a,{type:"integer",immediate:!1,disabled:g||h,modelValue:e.renderResizeWidth,min:n||void 0,max:o||void 0,"onUpdate:modelValue"(t){const n=Math.max(0,Number(t));e.renderResizeWidth=n},onChange(){(e=>{p.value.immediate&&e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth,u.isCustomStatus=!0,s.handleCustom(),s.saveCustomStore("update:width"))})(e)}}):x()]):x(),V?w("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[l?w("span","-"):i?w(i,{modelValue:e.renderFixed||"",type:"button",size:"mini",disabled:g||h,options:[{label:ME("vxe.custom.setting.fixedLeft"),value:"left",disabled:g||h||ee},{label:ME("vxe.custom.setting.fixedUnset"),value:"",disabled:g||h},{label:ME("vxe.custom.setting.fixedRight"),value:"right",disabled:g||h||ee}],"onUpdate:modelValue"(t){N(e,t)}}):x()]):x()]))}}));const pe={default:()=>ae?s.callSlot(ae,de):w("div",{ref:b,class:"vxe-table-custom-popup--body"},[le?w("div",{class:"vxe-table-custom-popup--table-top"},s.callSlot(le,de)):RE(s),w("div",{class:"vxe-table-custom-popup--table-wrapper"},[w("table",{},[w("colgroup",{},[k?w("col",{class:"vxe-table-custom-popup--table-col-seq"}):x(),w("col",{class:"vxe-table-custom-popup--table-col-title"}),$?w("col",{class:"vxe-table-custom-popup--table-col-width"}):x(),V?w("col",{class:"vxe-table-custom-popup--table-col-fixed"}):x()]),w("thead",{},[w("tr",{},[k?w("th",{},[w("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":ce,"is--indeterminate":ue}],title:ME("vxe.table.allTitle"),onClick:L},[w("span",{class:["vxe-checkbox--icon",ue?PE().TABLE_CHECKBOX_INDETERMINATE:ce?PE().TABLE_CHECKBOX_CHECKED:PE().TABLE_CHECKBOX_UNCHECKED]}),w("span",{class:"vxe-checkbox--label"},ME("vxe.toolbar.customAll"))])]):x(),w("th",{},ME("vxe.custom.setting.colTitle")),$?w("th",{},ME("vxe.custom.setting.colResizable")):x(),V?w("th",{},ME("vxe.custom.setting."+(G?"colFixedMax":"colFixed"),[G])):x()])]),w(E,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>se})])]),re?w("div",{class:"vxe-table-custom-popup--table-bottom"},s.callSlot(re,de)):RE(s),U()]),footer:()=>ie?s.callSlot(ie,de):w("div",{class:"vxe-table-custom-popup--footer"},[l?w(l,{content:y.resetButtonText||ME("vxe.custom.cstmRestore"),disabled:!d,onClick:A}):x(),C?l?w(l,{content:y.closeButtonText||ME("vxe.table.customClose"),onClick:P}):x():l?w(l,{content:y.cancelButtonText||ME("vxe.table.customCancel"),onClick:R}):x(),C?x():l?w(l,{status:"primary",content:y.confirmButtonText||ME("vxe.custom.cstmConfirm"),onClick:M}):x()])};return oe&&(pe.header=()=>s.callSlot(oe,de)),"drawer"===T?n?w(n,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",J.className||""].join(" "),modelValue:o.visible,title:J.title||ME("vxe.custom.cstmTitle"),width:J.width||Math.min(880,Math.floor(.6*document.documentElement.clientWidth)),position:J.position,resize:!!J.resize,escClosable:!!J.escClosable,maskClosable:!!J.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){o.visible=e}},pe):x():t?w(t,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",Q.className||""].join(" "),modelValue:o.visible,title:Q.title||ME("vxe.custom.cstmTitle"),width:Q.width||Math.min(880,document.documentElement.clientWidth),minWidth:Q.minWidth||700,height:Q.height||Math.min(680,document.documentElement.clientHeight),minHeight:Q.minHeight||400,showZoom:Q.showZoom,showMaximize:Q.showMaximize,showMinimize:Q.showMinimize,mask:Q.mask,lockView:Q.lockView,resize:Q.resize,escClosable:!!Q.escClosable,maskClosable:!!Q.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){o.visible=e}},pe):x()};return()=>{const t=p.value;return["modal","drawer","popup"].includes(`${t.mode}`)?K():(()=>{const{customStore:t}=e,{isCustomStatus:n,customColumnList:o}=u,r=p.value,{immediate:a}=r,i=m.value,{maxHeight:c}=t,{checkMethod:d,visibleMethod:f,allowVisible:h,allowSort:y,allowFixed:C,trigger:S,placement:T}=r,D=g.value,{isCrossDrag:O}=i,V=r.slots||{},$=V.header,_=V.top,B=V.bottom,K=V.default,G=V.footer,Y=[],X={},Z=t.isAll,Q=t.isIndeterminate;"hover"===S&&(X.onMouseenter=k,X.onMouseleave=I);const J={$table:s,$grid:s.xegrid,columns:o,isAllChecked:Z,isAllIndeterminate:Q,isCustomStatus:n};return rp.eachTree(o,((e,t,n,o,r)=>{if(!f||f({column:e})){const t=e.renderVisible,n=e.halfVisible,o=e.children&&e.children.length,i=tC(e.getTitle(),1),s=!!d&&!d({column:e}),c=!t;Y.push(w("li",{key:e.id,colid:e.id,class:["vxe-table-custom--option",`level--${e.level}`,{"is--hidden":s||c,"is--group":o}],onDragstart:W,onDragend:H,onDragover:q},[h?w("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":t,"is--indeterminate":n,"is--disabled":s}],title:ME("vxe.custom.setting.colVisible"),onClick:()=>{s||F(e)}},[w("span",{class:["vxe-checkbox--icon",n?PE().TABLE_CHECKBOX_INDETERMINATE:t?PE().TABLE_CHECKBOX_CHECKED:PE().TABLE_CHECKBOX_UNCHECKED]})]):x(),w("div",{class:"vxe-table-custom--name-option"},[y&&(O&&a||1===e.level)?w("div",{class:"vxe-table-custom--sort-option"},[w("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":s||c||e.renderFixed}],title:ME("vxe.custom.setting.sortHelpTip")},s||c||e.renderFixed?{}:{onMousedown:j,onMouseup:z}),[w("i",{class:PE().TABLE_CUSTOM_SORT})])]):x(),"html"===e.type?w("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:i}):w("div",{key:"0",class:"vxe-table-custom--checkbox-label"},i)]),!r&&C?w("div",{class:"vxe-table-custom--fixed-option"},[l?w(l,{mode:"text",icon:"left"===e.renderFixed?PE().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:PE().TOOLBAR_TOOLS_FIXED_LEFT,status:"left"===e.renderFixed?"primary":"",disabled:s||c||D&&!e.renderFixed,title:ME("left"===e.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{N(e,"left")}}):x(),l?w(l,{mode:"text",icon:"right"===e.renderFixed?PE().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:PE().TOOLBAR_TOOLS_FIXED_RIGHT,status:"right"===e.renderFixed?"primary":"",disabled:s||c||D&&!e.renderFixed,title:ME("right"===e.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{N(e,"right")}}):x()]):x()]))}})),w("div",{ref:v,key:"simple",class:["vxe-table-custom-wrapper",`placement--${T}`,{"is--active":t.visible}],style:c&&!["left","right"].includes(T)?{maxHeight:`${c}px`}:{}},t.visible?[w("div",{class:"vxe-table-custom--header"},$?s.callSlot($,J):[w("ul",{class:"vxe-table-custom--panel-list"},[w("li",{class:"vxe-table-custom--option"},[h?w("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Z,"is--indeterminate":Q}],title:ME("vxe.table.allTitle"),onClick:L},[w("span",{class:["vxe-checkbox--icon",Q?PE().TABLE_CHECKBOX_INDETERMINATE:Z?PE().TABLE_CHECKBOX_CHECKED:PE().TABLE_CHECKBOX_UNCHECKED]}),w("span",{class:"vxe-checkbox--label"},ME("vxe.toolbar.customAll"))]):w("span",{class:"vxe-checkbox--label"},ME("vxe.table.customTitle"))])])]),w("div",{ref:b,class:"vxe-table-custom--body"},[_?w("div",{class:"vxe-table-custom--panel-top"},s.callSlot(_,J)):RE(s),K?w("div",{class:"vxe-table-custom--panel-body"},s.callSlot(K,J)):w(E,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},X),{default:()=>Y}),B?w("div",{class:"vxe-table-custom--panel-bottom"},s.callSlot(B,J)):RE(s),U()]),r.showFooter?w("div",{class:"vxe-table-custom--footer"},G?s.callSlot(G,J):[w("div",{class:"vxe-table-custom--footer-buttons"},[l?w(l,{mode:"text",content:r.resetButtonText||ME("vxe.table.customRestore"),disabled:!n,onClick:A}):x(),a?l?w(l,{mode:"text",content:r.closeButtonText||ME("vxe.table.customClose"),onClick:P}):x():l?w(l,{mode:"text",content:r.cancelButtonText||ME("vxe.table.customCancel"),onClick:R}):x(),a?x():l?w(l,{mode:"text",status:"primary",content:r.confirmButtonText||ME("vxe.table.customConfirm"),onClick:M}):x()])]):null]:[])})()}}}),{getI18n:AE,getIcon:$E,renderer:FE}=Rm,NE=p({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e){const t=o("$xeTable",{}),{reactData:n,internalData:l,getComputeMaps:r}=t,{computeFilterOpts:a}=r(),i=f((()=>{const{filterStore:t}=e;return t&&t.options.some((e=>e.checked))})),s=e=>{t.handleFilterConfirmFilter(e)},c=e=>{t.handleFilterResetFilter(e)},u=(e,n,o)=>{t.handleFilterChangeOption(e,n,o)},d=(t,n)=>{const{filterStore:o}=e;o.multiple?((t,n)=>{const{filterStore:o}=e;o.options.forEach((e=>{e._checked=n,e.checked=n})),o.isAllSelected=n,o.isIndeterminate=!1})(0,n):c(t)},p={changeRadioOption:(e,n,o)=>{t.handleFilterChangeRadioOption(e,n,o)},changeMultipleOption:(e,n,o)=>{t.handleFilterChangeMultipleOption(e,n,o)},changeAllOption:d,changeOption:u,confirmFilter:s,resetFilter:c};return()=>{const{filterStore:o}=e,{initStore:r}=n,{visible:m,multiple:f,column:g}=o,h=g?g.filterRender:null,v=Gw(h)?FE.get(h.name):null,b=v?v.tableFilterClassName||v.filterClassName:"",x=Object.assign({},l._currFilterParams,{$panel:p,$table:t}),y=a.value,{destroyOnClose:C}=y;return w("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",HC(b,x),{"is--animat":t.props.animat,"is--multiple":f,"is--active":m}],style:o.style},r.filter&&(!C||m)&&g?((n,o)=>{const{filterStore:r}=e,{column:a,multiple:i,maxHeight:s}=r,c=a?a.slots:null,m=c?c.filter:null,f=Object.assign({},l._currFilterParams,{$panel:p,$table:t}),g=o?o.renderTableFilter||o.renderFilter:null;if(m)return[w("div",{class:"vxe-table--filter-template"},t.callSlot(m,f))];if(g)return[w("div",{class:"vxe-table--filter-template"},BS(g(n,f)))];const h=i?r.isAllSelected:!r.options.some((e=>e._checked)),v=i&&r.isIndeterminate;return[w("ul",{class:"vxe-table--filter-header"},[w("li",{class:["vxe-table--filter-option",{"is--checked":h,"is--indeterminate":v}],title:AE(i?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:e=>{d(e,!r.isAllSelected)}},(i?[w("span",{class:["vxe-checkbox--icon",v?$E().TABLE_CHECKBOX_INDETERMINATE:h?$E().TABLE_CHECKBOX_CHECKED:$E().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([w("span",{class:"vxe-checkbox--label"},AE("vxe.table.allFilter"))]))]),w("ul",{class:"vxe-table--filter-body",style:s?{maxHeight:`${s}px`}:{}},r.options.map((e=>{const t=e._checked;return w("li",{class:["vxe-table--filter-option",{"is--checked":e._checked}],title:e.label,onClick:t=>{u(t,!e._checked,e)}},(i?[w("span",{class:["vxe-checkbox--icon",t?$E().TABLE_CHECKBOX_CHECKED:$E().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([w("span",{class:"vxe-checkbox--label"},tC(e.label,1))]))})))]})(h,v).concat((()=>{const{filterStore:t}=e,{column:n,multiple:o}=t,l=a.value,r=i.value,{filterRender:u}=n,d=Gw(u)?FE.get(u.name):null,p=!r&&!t.isAllSelected&&!t.isIndeterminate;return o&&(!d||!1!==d.showTableFilterFooter&&!1!==d.showFilterFooter&&!1!==d.isFooter)?[w("div",{class:"vxe-table--filter-footer"},[w("button",{class:{"is--disabled":p},disabled:p,onClick:s},l.confirmButtonText||AE("vxe.table.confirmFilter")),w("button",{onClick:c},l.resetButtonText||AE("vxe.table.resetFilter"))])]:[]})()):[])}}}),{getI18n:LE,getIcon:_E}=Rm,BE=p({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const n=Rm.getComponent("VxeModal"),l=Rm.getComponent("VxeButton"),a=Rm.getComponent("VxeSelect"),i=o("$xeTable",{}),{computeImportOpts:s}=i.getComputeMaps(),c=m({loading:!1}),u=r(),d=f((()=>{const{storeData:t}=e;return`${t.filename}.${t.type}`})),p=f((()=>{const{storeData:t}=e;return t.file&&t.type})),g=f((()=>{const{storeData:t}=e,{type:n,typeList:o}=t;if(n){const e=rp.find(o,(e=>n===e.value));return e?e.label:"*.*"}return`*.${o.map((e=>e.value)).join(", *.")}`})),h=()=>{const{storeData:t}=e;Object.assign(t,{filename:"",sheetName:"",type:""})},v=()=>{const{storeData:t,defaultOptions:n}=e;i.readFile(n).then((e=>{const{file:n}=e;Object.assign(t,Xw(n),{file:n})})).catch((e=>e))},b=()=>{t((()=>{const e=u.value;e&&e.focus()}))},y=()=>{const{storeData:t}=e;t.visible=!1},C=()=>{const{storeData:t,defaultOptions:n}=e,o=s.value;c.loading=!0,i.importByFile(t.file,Object.assign({},o,n)).then((()=>{c.loading=!1,t.visible=!1})).catch((()=>{c.loading=!1}))};return()=>{const{defaultOptions:t,storeData:o}=e,r=d.value,s=p.value,m=g.value,f=t.slots||{},S=f.top,E=f.bottom,T=f.default,D=f.footer;return n?w(n,{id:"VXE_IMPORT_MODAL",modelValue:o.visible,title:LE("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:c.loading,"onUpdate:modelValue"(e){o.visible=e},onShow:b},{default:()=>{const e={$table:i,$grid:i.xegrid,options:t,params:t.params};return w("div",{class:"vxe-table-export--panel"},[S?w("div",{class:"vxe-table-export--panel-top"},i.callSlot(S,e)):x(),w("div",{class:"vxe-table-export--panel-body"},T?i.callSlot(T,e):[w("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[w("tbody",[w("tr",[w("td",LE("vxe.import.impFile")),w("td",[s?w("div",{class:"vxe-table-export--selected--file",title:r},[w("span",r),w("i",{class:_E().INPUT_CLEAR,onClick:h})]):w("button",{ref:u,class:"vxe-table-export--select--file",onClick:v},LE("vxe.import.impSelect"))])]),w("tr",[w("td",LE("vxe.import.impType")),w("td",m)]),w("tr",[w("td",LE("vxe.import.impMode")),w("td",[a?w(a,{modelValue:t.mode,options:o.modeList,"onUpdate:modelValue"(e){t.mode=e}}):x()])])])])]),E?w("div",{class:"vxe-table-export--panel-bottom"},i.callSlot(E,e)):x()])},footer(){const e={$table:i,$grid:i.xegrid,options:t,params:t.params};return w("div",{class:"vxe-table-export--panel-footer"},D?i.callSlot(D,e):[w("div",{class:"vxe-table-export--panel-btns"},[l?w(l,{content:LE("vxe.import.impCancel"),onClick:y}):x(),l?w(l,{status:"primary",disabled:!s||c.loading,content:LE("vxe.import.impConfirm"),onClick:C}):x()])])}}):x()}}}),{getI18n:jE,getIcon:zE}=Rm,WE=p({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const n=Rm.getComponent("VxeModal"),l=Rm.getComponent("VxeButton"),a=Rm.getComponent("VxeSelect"),i=Rm.getComponent("VxeInput"),s=Rm.getComponent("VxeCheckbox"),c=o("$xeTable",{}),{computeExportOpts:u,computePrintOpts:d}=c.getComputeMaps(),p=m({isAll:!1,isIndeterminate:!1,loading:!1}),g=r(),h=r(),v=r(),b=f((()=>{const{storeData:t}=e;return t.columns.every((e=>e.checked))})),y=f((()=>{const{defaultOptions:t}=e;return["html","xml","xlsx","pdf"].indexOf(t.type)>-1})),C=f((()=>{const{storeData:t,defaultOptions:n}=e;return!n.original&&"current"===n.mode&&(t.isPrint||["html","xlsx"].indexOf(n.type)>-1)})),S=f((()=>{const{defaultOptions:t}=e;return!t.original&&["xlsx"].indexOf(t.type)>-1})),E=t=>{const{storeData:n}=e,o=rp.findTree(n.columns,(e=>e===t));if(o&&o.parent){const{parent:e}=o;e.children&&e.children.length&&(e.checked=e.children.every((e=>e.checked)),e.halfChecked=!e.checked&&e.children.some((e=>e.checked||e.halfChecked)),E(e))}},T=()=>{const{storeData:t}=e,n=t.columns;p.isAll=n.every((e=>e.disabled||e.checked)),p.isIndeterminate=!p.isAll&&n.some((e=>!e.disabled&&(e.checked||e.halfChecked)))},D=()=>{const{storeData:t}=e,n=!p.isAll;rp.eachTree(t.columns,(e=>{e.disabled||(e.checked=n,e.halfChecked=!1)})),p.isAll=n,T()},O=()=>{t((()=>{const e=h.value,t=v.value,n=g.value,o=e||t||n;o&&o.focus()})),T()},k=()=>{const{storeData:t,defaultOptions:n}=e,{hasMerge:o,columns:l}=t,r=b.value,a=C.value,i=rp.searchTree(l,(e=>e.checked),{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},n,{columns:i,isMerge:!!(o&&a&&r)&&n.isMerge})},I=()=>{const{storeData:t}=e;t.visible=!1},M=()=>{const{storeData:t}=e;t.isPrint?(()=>{const{storeData:t}=e,n=d.value;t.visible=!1,c.print(Object.assign({},n,k()))})():(()=>{const{storeData:t}=e,n=u.value;p.loading=!0,c.exportData(Object.assign({},n,k())).then((()=>{p.loading=!1,t.visible=!1})).catch((()=>{p.loading=!1}))})()};return()=>{const{defaultOptions:t,storeData:o}=e,{isAll:r,isIndeterminate:u}=p,{hasTree:d,hasMerge:m,isPrint:f,hasColgroup:k,columns:P}=o,{isHeader:R}=t,V=[],A=b.value,$=y.value,F=C.value,N=S.value,L=t.slots||{},_=L.top,B=L.bottom,j=L.default,z=L.footer,W=L.parameter;return rp.eachTree(P,(e=>{const t=tC(e.getTitle(),1),n=e.children&&e.children.length,o=e.checked,l=e.halfChecked,r="html"===e.type;V.push(w("li",{key:e.id,class:["vxe-table-export--panel-column-option",`level--${e.level}`,{"is--group":n,"is--checked":o,"is--indeterminate":l,"is--disabled":e.disabled}],title:r?"":t,onClick:()=>{e.disabled||(e=>{const t=!e.checked;rp.eachTree([e],(e=>{e.checked=t,e.halfChecked=!1})),E(e),T()})(e)}},[w("span",{class:["vxe-checkbox--icon",l?zE().TABLE_CHECKBOX_INDETERMINATE:o?zE().TABLE_CHECKBOX_CHECKED:zE().TABLE_CHECKBOX_UNCHECKED]}),r?w("span",{key:"1",class:"vxe-checkbox--label",innerHTML:t}):w("span",{key:"0",class:"vxe-checkbox--label"},t)]))})),n?w(n,{id:"VXE_EXPORT_MODAL",modelValue:o.visible,title:jE(f?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:p.loading,"onUpdate:modelValue"(e){o.visible=e},onShow:O},{default:()=>{const e={$table:c,$grid:c.xegrid,options:t,columns:P,params:t.params};return w("div",{class:"vxe-table-export--panel"},[_?w("div",{class:"vxe-table-export--panel-top"},c.callSlot(_,e)):x(),w("div",{class:"vxe-table-export--panel-body"},j?c.callSlot(j,e):[w("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[w("tbody",[[f?x():w("tr",[w("td",jE("vxe.export.expName")),w("td",[i?w(i,{ref:h,modelValue:t.filename,type:"text",clearable:!0,placeholder:jE("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(e){t.filename=e}}):x()])]),f?x():w("tr",[w("td",jE("vxe.export.expType")),w("td",[a?w(a,{modelValue:t.type,options:o.typeList,"onUpdate:modelValue"(e){t.type=e}}):x()])]),f||$?w("tr",[w("td",jE("vxe.export.expSheetName")),w("td",[i?w(i,{ref:v,modelValue:t.sheetName,type:"text",clearable:!0,placeholder:jE("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(e){t.sheetName=e}}):x()])]):x(),w("tr",[w("td",jE("vxe.export.expMode")),w("td",[a?w(a,{modelValue:t.mode,options:o.modeList.map((e=>({value:e.value,label:jE(e.label)}))),"onUpdate:modelValue"(e){t.mode=e}}):x()])]),w("tr",[w("td",[jE("vxe.export.expColumn")]),w("td",[w("div",{class:"vxe-table-export--panel-column"},[w("ul",{class:"vxe-table-export--panel-column-header"},[w("li",{class:["vxe-table-export--panel-column-option",{"is--checked":r,"is--indeterminate":u}],title:jE("vxe.table.allTitle"),onClick:D},[w("span",{class:["vxe-checkbox--icon",u?zE().TABLE_CHECKBOX_INDETERMINATE:r?zE().TABLE_CHECKBOX_CHECKED:zE().TABLE_CHECKBOX_UNCHECKED]}),w("span",{class:"vxe-checkbox--label"},jE("vxe.export.expCurrentColumn"))])]),w("ul",{class:"vxe-table-export--panel-column-body"},V)])])]),w("tr",[w("td",jE("vxe.export.expOpts")),w("td",W?[w("div",{class:"vxe-table-export--panel-option-row"},c.callSlot(W,e))]:[w("div",{class:"vxe-table-export--panel-option-row"},[s?w(s,{modelValue:t.isHeader,title:jE("vxe.export.expHeaderTitle"),content:jE("vxe.export.expOptHeader"),"onUpdate:modelValue"(e){t.isHeader=e}}):x(),s?w(s,{modelValue:t.isFooter,disabled:!o.hasFooter,title:jE("vxe.export.expFooterTitle"),content:jE("vxe.export.expOptFooter"),"onUpdate:modelValue"(e){t.isFooter=e}}):x(),s?w(s,{modelValue:t.original,title:jE("vxe.export.expOriginalTitle"),content:jE("vxe.export.expOptOriginal"),"onUpdate:modelValue"(e){t.original=e}}):x()]),w("div",{class:"vxe-table-export--panel-option-row"},[s?w(s,{modelValue:!!(R&&k&&F)&&t.isColgroup,title:jE("vxe.export.expColgroupTitle"),disabled:!R||!k||!F,content:jE("vxe.export.expOptColgroup"),"onUpdate:modelValue"(e){t.isColgroup=e}}):x(),s?w(s,{modelValue:!!(m&&F&&A)&&t.isMerge,title:jE("vxe.export.expMergeTitle"),disabled:!m||!F||!A,content:jE("vxe.export.expOptMerge"),"onUpdate:modelValue"(e){t.isMerge=e}}):x(),f||!s?x():w(s,{modelValue:!!N&&t.useStyle,disabled:!N,title:jE("vxe.export.expUseStyleTitle"),content:jE("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(e){t.useStyle=e}}),s?w(s,{modelValue:!!d&&t.isAllExpand,disabled:!d,title:jE("vxe.export.expAllExpandTitle"),content:jE("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(e){t.isAllExpand=e}}):x()])])])]])])]),B?w("div",{class:"vxe-table-export--panel-bottom"},c.callSlot(B,e)):x()])},footer(){const e={$table:c,$grid:c.xegrid,options:t,columns:P,params:t.params};return w("div",{class:"vxe-table-export--panel-footer"},z?c.callSlot(z,e):[w("div",{class:"vxe-table-export--panel-btns"},[l?w(l,{content:jE("vxe.export.expCancel"),onClick:I}):x(),l?w(l,{ref:g,status:"primary",content:jE(f?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:M}):x()])])}}):x()}}}),{getIcon:HE}=Rm,qE=p({name:"VxeTableMenuPanel",setup(e,t){const n=rp.uniqueId(),l=o("$xeTable",{}),{reactData:a}=l,i=r(),s={refElem:i},c={xID:n,props:e,context:t,getRefMaps:()=>s};return c.renderVN=()=>{const{ctxMenuStore:e}=a,{computeMenuOpts:t}=l.getComputeMaps(),n=t.value;return w(S,{to:"body",disabled:!1},[w("div",{ref:i,class:["vxe-table--context-menu-wrapper",n.className,{"is--visible":e.visible}],style:e.style},e.list.map(((t,n)=>t.every((e=>!1===e.visible))?x():w("ul",{class:"vxe-context-menu--option-wrapper",key:n},t.map(((t,o)=>{const r=t.children&&t.children.some((e=>!1!==e.visible)),a=Object.assign({},t.prefixConfig),i=Object.assign({},t.suffixConfig);return!1===t.visible?null:w("li",{class:[t.className,{"link--disabled":t.disabled,"link--active":t===e.selected}],key:`${n}_${o}`},[w("a",{class:"vxe-context-menu--link",onClick(e){l.ctxMenuLinkEvent(e,t)},onMouseover(e){l.ctxMenuMouseoverEvent(e,t)},onMouseout(e){l.ctxMenuMouseoutEvent(e,t)}},[w("div",{class:["vxe-context-menu--link-prefix",a.className||""]},[w("i",{class:a.icon||t.prefixIcon}),a.content?w("span",{},`${a.content}`):x()]),w("div",{class:"vxe-context-menu--link-content"},eC(t.name)),w("div",{class:["vxe-context-menu--link-suffix",i.className||""]},[w("i",{class:i.icon||t.suffixIcon||(r?HE().TABLE_MENU_OPTIONS:"")}),i.content?w("span",`${i.content}`):x()])]),r?w("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":t===e.selected&&e.showChild}]},t.children.map(((r,a)=>{const i=Object.assign({},r.prefixConfig),s=Object.assign({},r.suffixConfig);return!1===r.visible?null:w("li",{class:[r.className,{"link--disabled":r.disabled,"link--active":r===e.selectChild}],key:`${n}_${o}_${a}`},[w("a",{class:"vxe-context-menu--link",onClick(e){l.ctxMenuLinkEvent(e,r)},onMouseover(e){l.ctxMenuMouseoverEvent(e,t,r)},onMouseout(e){l.ctxMenuMouseoutEvent(e,t)}},[w("div",{class:["vxe-context-menu--link-prefix",i.className||""]},[w("i",{class:i.icon||r.prefixIcon}),i.content?w("span",`${i.content}`):x()]),w("div",{class:"vxe-context-menu--link-content"},eC(r.name)),w("div",{class:["vxe-context-menu--link-suffix",s.className||""]},[w("i",{class:s.icon}),s.content?w("span",`${s.content}`):x()])])])}))):null])}))))))])},c},render(){return this.renderVN()}}),{getConfig:UE,getIcon:KE,getI18n:GE,renderer:YE,formats:XE,createEvent:ZE,globalResize:QE,interceptor:JE,hooks:eT,globalEvents:tT,GLOBAL_EVENT_KEYS:nT,useFns:oT,renderEmptyElement:lT}=Rm,rT="VXE_CUSTOM_STORE",aT=p({name:"VxeTable",props:kE,emits:IE,setup(e,n){const{slots:l,emit:a}=n,d=rp.uniqueId(),p=Rm.getComponent("VxeLoading"),v=Rm.getComponent("VxeTooltip"),x=o("$xeTabs",null),{computeSize:y}=oT.useSize(e),C=m({isCalcColumn:!1,staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,selectCheckboxMaps:{},currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},treeIndeterminateMaps:{},mergeList:[],mergeFooterList:[],upDataFlag:0,reColumnFlag:0,pendingRowMaps:{},initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null},insertMaps:{},removeMaps:{}},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1},scrollVMLoading:!1,isCalcCellHeight:0,isCustomStatus:!1,isDragRowMove:!1,dragRow:null,isDragColMove:!1,dragCol:null,dragTipText:"",_isResize:!1,_isLoading:!1}),S={tZindex:0,elemStore:{},scrollXStore:{offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},scrollYStore:{rowHeight:0,offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},sourceDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},columnStatusMaps:{},rowStatusMaps:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let E={},T={};const D=r(),O=r(),k=r(),I=r(),M=r(),P=r(),R=r(),V=r(),A=r(),$=r(),F=r(),N=r(),L=r(),_=r(),B=r(),j=r(),z=r(),W=r(),H=r(),q=r(),U=r(),K=r(),G=r(),Y=r(),X=r(),Z=r(),Q=r(),J=r(),ee=r(),te=r(),ne=o("$xeGrid",null);let oe;const le=f((()=>{const{id:t}=e;return t?rp.isFunction(t)?`${t({$table:tt,$grid:ne})||""}`:`${t}`:""})),re=f((()=>Object.assign({},UE().table.validConfig,e.validConfig))),ae=f((()=>Object.assign({},UE().table.scrollX,e.scrollX))),ie=f((()=>{const e=ae.value,{threshold:t}=e;return t?rp.toNumber(t):0})),se=f((()=>Object.assign({},UE().table.scrollY,e.scrollY))),ce=f((()=>{const e=se.value,{threshold:t}=e;return t?rp.toNumber(t):0})),ue=f((()=>({default:48,medium:44,small:40,mini:36}))),de=f((()=>Object.assign({},UE().table.columnConfig,e.columnConfig))),pe=f((()=>Object.assign({},UE().table.cellConfig,e.cellConfig))),me=f((()=>Object.assign({},UE().table.rowConfig,e.rowConfig))),fe=f((()=>Object.assign({},UE().table.rowDragConfig,e.rowDragConfig))),ge=f((()=>Object.assign({},UE().table.columnDragConfig,e.columnDragConfig))),he=f((()=>Object.assign({},UE().table.resizeConfig,e.resizeConfig))),ve=f((()=>Object.assign({},UE().table.resizableConfig,e.resizableConfig))),be=f((()=>Object.assign({startIndex:0},UE().table.seqConfig,e.seqConfig))),xe=f((()=>Object.assign({},UE().table.radioConfig,e.radioConfig))),ye=f((()=>Object.assign({},UE().table.checkboxConfig,e.checkboxConfig)));let we=r();we=f((()=>Object.assign({},UE().tooltip,UE().table.tooltipConfig,e.tooltipConfig)));const Ce=f((()=>{const e=we.value;return Object.assign({},e)})),Se=f((()=>{const e=we.value;return Object.assign({isArrow:!1},e)})),Ee=f((()=>Object.assign({},UE().table.editConfig,e.editConfig))),Te=f((()=>Object.assign({orders:["asc","desc",null]},UE().table.sortConfig,e.sortConfig))),De=f((()=>Object.assign({},UE().table.filterConfig,e.filterConfig))),Oe=f((()=>Object.assign({},UE().table.mouseConfig,e.mouseConfig))),ke=f((()=>Object.assign({},UE().table.areaConfig,e.areaConfig))),Ie=f((()=>Object.assign({},UE().table.keyboardConfig,e.keyboardConfig))),Me=f((()=>Object.assign({},UE().table.clipConfig,e.clipConfig))),Pe=f((()=>Object.assign({},UE().table.fnrConfig,e.fnrConfig))),Re=f((()=>Object.assign({},UE().table.menuConfig,e.menuConfig))),Ve=f((()=>{const e=Re.value.header;return e&&e.options?e.options:[]})),Ae=f((()=>{const e=Re.value.body;return e&&e.options?e.options:[]})),$e=f((()=>{const e=Re.value.footer;return e&&e.options?e.options:[]})),Fe=f((()=>{const t=Re.value,n=Ve.value,o=Ae.value,l=$e.value;return!!(e.menuConfig&&Gw(t)&&(n.length||o.length||l.length))})),Ne=f((()=>{const{ctxMenuStore:e}=C,t=[];return e.list.forEach((e=>{e.forEach((e=>{t.push(e)}))})),t})),Le=f((()=>Object.assign({},UE().table.exportConfig,e.exportConfig))),_e=f((()=>Object.assign({},UE().table.importConfig,e.importConfig))),Be=f((()=>Object.assign({},UE().table.printConfig,e.printConfig))),je=f((()=>Object.assign({},UE().table.expandConfig,e.expandConfig))),ze=f((()=>Object.assign({},UE().table.treeConfig,e.treeConfig))),We=f((()=>Object.assign({},UE().table.emptyRender,e.emptyRender))),He=f((()=>Object.assign({},UE().table.loadingConfig,e.loadingConfig))),qe=f((()=>e.border?Math.max(2,Math.ceil(C.scrollbarWidth/C.tableColumn.length)):1)),Ue=f((()=>Object.assign({},UE().table.customConfig,e.customConfig))),Ke=f((()=>{const{visibleColumn:e}=S,{tableColumn:t}=C;return t.length||e.length?e.filter((e=>"auto"===e.width||"auto"===e.minWidth)):[]})),Ge=f((()=>{const{tableColumn:e}=C,{collectColumn:t}=S;let n=0;return e.length&&t.length&&t.forEach((e=>{e.renderFixed&&n++})),n})),Ye=f((()=>{const e=Ge.value,t=de.value,{maxFixedSize:n}=t;return!!n&&e>=n})),Xe=f((()=>{const{border:t}=e;return!0===t?"full":t||"default"})),Ze=f((()=>{const{tableData:e}=C,{tableFullData:t}=S,n=ye.value,{strict:o,checkMethod:l}=n;return!!o&&(!e.length&&!t.length||!!l&&t.every((e=>!l({row:e}))))})),Qe=f((()=>{const{overflowX:e,scrollXLoad:t,overflowY:n,scrollYLoad:o}=C;return{x:e&&t,y:n&&o}})),Je={refElem:D,refTooltip:O,refValidTooltip:I,refTableFilter:P,refTableCustom:R,refTableMenu:M,refTableHeader:V,refTableBody:A,refTableFooter:$,refTableLeftHeader:F,refTableLeftBody:N,refTableLeftFooter:L,refTableRightHeader:_,refTableRightBody:B,refTableRightFooter:j,refLeftContainer:z,refRightContainer:W,refCellResizeBar:H,refCellResizeTip:q,refScrollXVirtualElem:X,refScrollYVirtualElem:Z,refScrollXHandleElem:Q,refScrollYHandleElem:J,refScrollXSpaceElem:ee,refScrollYSpaceElem:te},et={computeSize:y,computeTableId:le,computeValidOpts:re,computeSXOpts:ae,computeSYOpts:se,computeColumnOpts:de,computeCellOpts:pe,computeRowOpts:me,computeRowDragOpts:fe,computeColumnDragOpts:ge,computeResizeOpts:he,computeResizableOpts:ve,computeSeqOpts:be,computeRadioOpts:xe,computeCheckboxOpts:ye,computeTooltipOpts:we,computeEditOpts:Ee,computeSortOpts:Te,computeFilterOpts:De,computeMouseOpts:Oe,computeAreaOpts:ke,computeKeyboardOpts:Ie,computeClipOpts:Me,computeFNROpts:Pe,computeHeaderMenu:Ve,computeBodyMenu:Ae,computeFooterMenu:$e,computeIsMenu:Fe,computeMenuOpts:Re,computeExportOpts:Le,computeImportOpts:_e,computePrintOpts:Be,computeExpandOpts:je,computeTreeOpts:ze,computeEmptyOpts:We,computeLoadingOpts:He,computeCustomOpts:Ue,computeFixedColumnSize:Ge,computeIsMaxFixedColumn:Ye,computeIsAllCheckboxDisabled:Ze,computeVirtualScrollBars:Qe},tt={xID:d,props:e,context:n,reactData:C,internalData:S,getRefMaps:()=>Je,getComputeMaps:()=>et,xegrid:ne},nt=(e,t,n)=>{const o=rp.get(e,n),l=rp.get(t,n);return!(!nC(o)||!nC(l))||(rp.isString(o)||rp.isNumber(o)?""+o==""+l:rp.isEqual(o,l))},ot=e=>{const t=Te.value,{orders:n}=t,o=e.order||null,l=n.indexOf(o)+1;return n[l<n.length?l:0]},lt=e=>{const t=UE().version,n=rp.toStringJSON(localStorage.getItem(rT)||""),o=n&&n._v===t?n:{_v:t};return(e?o[e]:o)||{}},rt=e=>{const{fullAllDataRowIdData:t}=S,n={};return rp.each(e,((e,o)=>{t[o]&&(n[o]=e)})),n},at=e=>{const{fullDataRowIdData:t}=S,n=[];return rp.each(e,((e,o)=>{t[o]&&-1===tt.findRowIndexOf(n,t[o].row)&&n.push(t[o].row)})),n},it=()=>{const{visibleColumn:e}=S,t=A.value,n=t?t.$el:null;if(n){const{scrollLeft:t,clientWidth:o}=n,l=t+o;let r=-1,a=0,i=0;for(let n=0,s=e.length;n<s&&(a+=e[n].renderWidth,-1===r&&t<a&&(r=n),!(r>=0&&(i++,a>l)));n++);return{toVisibleIndex:Math.max(0,r),visibleSize:Math.max(6,i)}}return{toVisibleIndex:0,visibleSize:6}},st=()=>{const{showOverflow:t}=e,{scrollYStore:n,afterFullData:o,fullAllDataRowIdData:l}=S,r=A.value,a=r?r.$el:null,{rowHeight:i}=n;if(a){const{scrollTop:e,clientHeight:n}=a,r=e+n;let s=-1,c=0,u=0;if(t)s=Math.floor(e/i),u=Math.ceil(n/i)+1;else for(let t=0,a=o.length;t<a;t++){const n=o[t],a=l[gS(tt,n)];if(c+=a&&a.height||i,-1===s&&e<c&&(s=t),s>=0&&(u++,c>r))break}return{toVisibleIndex:Math.max(0,s),visibleSize:Math.max(8,u)}}return{toVisibleIndex:0,visibleSize:8}},ct=(e,t,n)=>{for(let o=0,l=e.length;o<l;o++){const l=e[o],{startIndex:r,endIndex:a}=t,i=l[n],s=i+l[n+"span"];i<r&&r<s&&(t.startIndex=i),i<a&&a<s&&(t.endIndex=s),t.startIndex===r&&t.endIndex===a||(o=-1)}},ut=(t,n,o)=>{if(t){const{treeConfig:l}=e,{visibleColumn:r}=S;rp.isArray(t)||(t=[t]),l&&t.length&&$C("vxe.error.noTree",["merge-cells | merge-footer-items"]),t.forEach((e=>{let{row:t,col:l,rowspan:a,colspan:i}=e;if(o&&rp.isNumber(t)&&(t=o[t]),rp.isNumber(l)&&(l=r[l]),(o?t:rp.isNumber(t))&&l&&(a||i)&&(a=rp.toNumber(a)||1,i=rp.toNumber(i)||1,a>1||i>1)){const e=rp.findIndexOf(n,(e=>!(e._row!==t&&gS(tt,e._row)!==gS(tt,t)||e._col.id!==l&&e._col.id!==l.id))),r=n[e];if(r)r.rowspan=a,r.colspan=i,r._rowspan=a,r._colspan=i;else{const e=o?tt.findRowIndexOf(o,t):t,r=E.getVTColumnIndex(l);n.push({row:e,col:r,rowspan:a,colspan:i,_row:t,_col:l,_rowspan:a,_colspan:i})}}}))}},dt=(t,n,o)=>{const l=[];if(t){const{treeConfig:r}=e,{visibleColumn:a}=S;rp.isArray(t)||(t=[t]),r&&t.length&&$C("vxe.error.noTree",["merge-cells | merge-footer-items"]),t.forEach((e=>{let{row:t,col:r}=e;o&&rp.isNumber(t)&&(t=o[t]),rp.isNumber(r)&&(r=a[r]);const i=rp.findIndexOf(n,(e=>!(e._row!==t&&gS(tt,e._row)!==gS(tt,t)||e._col.id!==r&&e._col.id!==r.id)));if(i>-1){const e=n.splice(i,1);l.push(e[0])}}))}return l},pt=()=>{const{tableFullColumn:e}=S;e.forEach((e=>{e.order=null}))},mt=t=>{const{parentHeight:n}=C,o=e[t];let l=0;if(o)if("100%"===o||"auto"===o)l=n;else{const e=tt.getExcludeHeight();l=GC(o)?Math.floor((rp.toInteger(o)||1)/100*n):rp.toNumber(o),l=Math.max(40,l-e)}return l},ft=e=>{let{collectColumn:t}=S;const{resizableData:n,sortData:o,visibleData:l,fixedData:r}=e;let a=!1;n||o||l||r?(rp.eachTree(t,((e,t,i,s,c)=>{const u=e.getKey();c||(r&&void 0!==r[u]&&(e.fixed=r[u]),o&&rp.isNumber(o[u])&&(a=!0,e.renderSortNumber=o[u])),n&&rp.isNumber(n[u])&&(e.resizeWidth=n[u]),l&&rp.isBoolean(l[u])&&(e.visible=l[u])})),a&&(t=rp.orderBy(t,"renderSortNumber"),S.collectColumn=t,S.tableFullColumn=Wt(t)),C.isCustomStatus=!0):C.isCustomStatus=!1},gt=()=>{const{tableFullColumn:t,collectColumn:n}=S,o=S.fullColumnIdData={},l=S.fullColumnFieldData={};Oe.value,de.value;const r=ge.value,{isCrossDrag:a,isSelfToChildDrag:i}=r,s=Ue.value,{storage:c}=s;me.value;const u=n.some(Jw);let d,p,m=!!e.showOverflow;const f=(e,t,n,r,s)=>{const{id:u,field:f,fixed:g,type:h,treeNode:v}=e,b={$index:-1,_index:-1,column:e,colid:u,index:t,items:n,parent:s||null,width:0};f?(l[f]&&$C("vxe.error.colRepet",["field",f]),l[f]=b):(c||a||i)&&$C("vxe.error.reqProp",[`${e.getTitle()||h||""} -> column.field`]),v?p||(p=e):"expand"===h&&(d||(d=e)),m&&!1===e.showOverflow&&(m=!1),o[u]&&$C("vxe.error.colRepet",["colId",u]),o[u]=b};u?rp.eachTree(n,((e,t,n,o,l,r)=>{e.level=r.length,f(e,t,n,0,l)})):t.forEach(f),C.isGroup=u,C.treeNodeColumn=p,C.expandColumn=d,C.isAllOverflow=m},ht=()=>{S.customHeight=mt("height"),S.customMinHeight=mt("minHeight"),S.customMaxHeight=mt("maxHeight")},vt=(e,t)=>{const n=t.querySelectorAll(`.vxe-header--column.${e.id}>.vxe-cell,.vxe-body--column.${e.id}>.vxe-cell,.vxe-footer--column.${e.id}>.vxe-cell`),o=n[0];let l=0;if(o){const e=getComputedStyle(o);l=Math.floor(rp.toNumber(e.paddingLeft)+rp.toNumber(e.paddingRight))+2}let r=e.renderAutoWidth-l;return rp.arrayEach(n,(e=>{const t=e,n=t.parentElement;let o=0;if("th"===`${n.tagName}`.toLowerCase())rp.arrayEach(t.children,(e=>{o+=e.offsetWidth+1}));else{const e=t.firstElementChild;e&&(o=e.offsetWidth)}o&&(r=Math.max(r,Math.ceil(o)+4))})),r+l},bt=()=>{const e=Ke.value;return C.isCalcColumn=!0,t().then((()=>{const{fullColumnIdData:t}=S,n=D.value;n&&(e.forEach((e=>{const o=e.id,l=t[o],r=vt(e,n);l&&(l.width=Math.max(r,l.width)),e.renderAutoWidth=r})),tt.analyColumnWidth()),C.isCalcColumn=!1}))},xt=()=>{const n=V.value,o=A.value,l=$.value,r=o?o.$el:null,a=n?n.$el:null,i=l?l.$el:null;if(!r)return;let s=0;const c=r.clientWidth-1;let u=c,d=u/100;const{fit:p}=e,{columnStore:m}=C,{resizeList:f,pxMinList:g,autoMinList:h,pxList:v,scaleList:b,scaleMinList:x,autoList:y,remainList:w}=m;if(g.forEach((e=>{const t=rp.toInteger(e.minWidth);s+=t,e.renderWidth=t})),h.forEach((e=>{const t=Math.max(60,rp.toInteger(e.renderAutoWidth));s+=t,e.renderWidth=t})),x.forEach((e=>{const t=Math.floor(rp.toInteger(e.minWidth)*d);s+=t,e.renderWidth=t})),b.forEach((e=>{const t=Math.floor(rp.toInteger(e.width)*d);s+=t,e.renderWidth=t})),v.forEach((e=>{const t=rp.toInteger(e.width);s+=t,e.renderWidth=t})),y.forEach((e=>{const t=Math.max(60,rp.toInteger(e.renderAutoWidth));s+=t,e.renderWidth=t})),f.forEach((e=>{const t=rp.toInteger(e.resizeWidth);s+=t,e.renderWidth=t})),u-=s,d=u>0?Math.floor(u/(x.length+g.length+h.length+w.length)):0,p?u>0&&x.concat(g).concat(h).forEach((e=>{s+=d,e.renderWidth+=d})):d=40,w.forEach((e=>{const t=Math.max(d,40);e.renderWidth=t,s+=t})),p){const e=b.concat(x).concat(g).concat(h).concat(w);let t=e.length-1;if(t>0){let n=c-s;if(n>0){for(;n>0&&t>=0;)n--,e[t--].renderWidth++;s=c}}}const E=r.offsetHeight,D=r.scrollHeight>r.clientHeight;let O=0;D&&(O=Math.max(r.offsetWidth-r.clientWidth,0)),C.scrollbarWidth=O,C.overflowY=D,S.tableWidth=s,S.tableHeight=E;let k=0;a&&(k=a.clientHeight,t((()=>{a&&r&&a.scrollLeft!==r.scrollLeft&&(a.scrollLeft=r.scrollLeft)}))),S.headerHeight=k;let I=!1,M=0,P=0;i?(M=i.offsetHeight,I=s>i.clientWidth,P=Math.max(M-i.clientHeight,0)):(I=s>c,P=Math.max(E-r.clientHeight,0)),S.footerHeight=M,C.overflowX=I,C.scrollbarHeight=P,ht(),C.parentHeight=Math.max(S.headerHeight+M+20,T.getParentHeight()),I&&T.checkScrolling()},yt=()=>{const{showOverflow:t}=e,{tableData:n,scrollXLoad:o}=C,{fullAllDataRowIdData:l}=S,r=D.value;if(!t&&r){let e=0,t=0,a=!1;n.forEach((n=>{const i=gS(tt,n),s=l[i],c=r.querySelectorAll(`.vxe-body--row[rowid="${i}"]>.vxe-body--column>.vxe-cell`);if(s&&c.length){let n=0;for(let o=0;o<c.length;o++){const l=c[o],r=l.parentElement;if(!r||!r.clientWidth)break;a||(e=rp.toNumber(getComputedStyle(r).paddingTop),t=rp.toNumber(getComputedStyle(r).paddingBottom),a=!0);let i=e+t;l&&(i+=l.clientHeight),n=Math.max(n,i)}s.height=o?Math.max(s.height,n):n}})),C.isCalcCellHeight++}},wt=e=>{const{sortBy:t,sortType:n}=e;return o=>{let l;return l=t?rp.isFunction(t)?t({row:o,column:e}):rp.get(o,t):E.getCellLabel(o,e),n&&"auto"!==n?"number"===n?rp.toNumber(l):"string"===n?rp.toValueString(l):l:isNaN(l)?l:rp.toNumber(l)}},Ct=()=>{const{treeConfig:t}=e,{afterFullData:n,fullDataRowIdData:o,fullAllDataRowIdData:l,afterTreeFullData:r}=S,a=ze.value,i=a.children||a.childrenField,s={};t?rp.eachTree(r,((e,t,n,r)=>{const a=gS(tt,e),i=l[a],c=r.map(((e,t)=>t%2==0?Number(e)+1:".")).join("");if(i)i.seq=c,i._index=t;else{const t={row:e,rowid:a,seq:c,index:-1,$index:-1,_index:-1,items:[],parent:null,level:0,height:0,oTop:0};l[a]=t,o[a]=t}s[a]=e}),{children:a.transform?a.mapChildrenField:i}):n.forEach(((e,t)=>{const n=gS(tt,e),r=l[n],a=t+1;if(r)r.seq=a,r._index=t;else{const r={row:e,rowid:n,seq:a,index:-1,$index:-1,_index:t,items:[],parent:null,level:0,height:0,oTop:0};l[n]=r,o[n]=r}s[n]=e})),S.afterFullRowMaps=s},St=()=>{const{treeConfig:t}=e,{treeExpandedMaps:n}=C,{fullAllDataRowIdData:o}=S,l=ze.value,r=l.children||l.childrenField;if(t&&l.transform){const e=[],t={};return rp.eachTree(S.afterTreeFullData,((l,r,a,i,s)=>{const c=gS(tt,l),u=gS(tt,s);if(!s||t[u]&&n[u]){const n=o[c];n&&(n._index=e.length),t[c]=1,e.push(l)}}),{children:r}),S.afterFullData=e,Ut(e),e}return S.afterFullData},Et=()=>{const{border:n,showFooter:o,showOverflow:l,showHeaderOverflow:r,showFooterOverflow:a,mouseConfig:i,spanMethod:s,footerSpanMethod:c}=e,{isGroup:u,currentRow:d,tableColumn:p,scrollXLoad:m,scrollYLoad:f,overflowX:g,scrollbarWidth:h,scrollbarHeight:v,columnStore:b,editStore:x,isAllOverflow:y,expandColumn:w}=C;let{visibleColumn:T,fullColumnIdData:D,tableHeight:O,tableWidth:k,headerHeight:I,footerHeight:M,elemStore:P,customHeight:R,customMinHeight:V,customMaxHeight:A}=S;const $=U.value,F=qe.value,N=Oe.value,L=SS(P["main-body-wrapper"]);$&&($.style.top=`${I}px`,$.style.height=L?L.offsetHeight-v+"px":""),R>0&&o&&(R+=v);const _=X.value;_&&(_.style.height=`${v}px`);const B=Z.value;if(B){let e=0,t=0;const n=V-I-M;A&&(t=A-I-M,t=Math.max(n,t)),R&&(e=R-I-M,t&&(e=Math.min(t,e)),e=Math.max(n,e)),B.style.top=`${I}px`,B.style.width=`${h}px`,B.style.height=`${e+(g?-Math.max(1,v):0)}px`}return["main","left","right"].forEach(((e,t)=>{const i=t>0?e:"",d="left"===i;let g,x=[];i&&(x=d?b.leftList:b.rightList,g=d?z.value:W.value),["header","body","footer"].forEach((t=>{const b=SS(P[`${e}-${t}-wrapper`]),C=SS(P[`${e}-${t}-table`]);if("header"===t){let o=k,l=p;u?l=T:i&&(l=T,(m||f||r)&&(l=s||c?T:x||[])),o=l.reduce(((e,t)=>e+t.renderWidth),0),C&&(C.style.width=o?`${o+h}px`:"");const a=SS(P[`${e}-${t}-repair`]);a&&(a.style.width=`${k}px`);const d=SS(P[`${e}-${t}-list`]);u&&d&&rp.arrayEach(d.querySelectorAll(".col--group"),(e=>{const t=E.getColumnNode(e);if(t){const o=t.item,{showHeaderOverflow:l}=o,a=rp.isBoolean(l)?l:r,i="title"===a||(!0===a||"tooltip"===a)||"ellipsis"===a;let s=0,c=0;i&&rp.eachTree(o.children,(e=>{e.children&&o.children.length||c++,s+=e.renderWidth}),{children:"children"}),e.style.width=i?s-c-(n?2:0)+"px":""}}))}else if("body"===t){const n=SS(P[`${e}-${t}-emptyBlock`]);if(uS(b)){let e=0;const t=V-I-M;if(A&&(e=A-I-M,i&&(e-=o?0:v),e=Math.max(t,e),b.style.maxHeight=`${e}px`),R){let n=R-I-M;i&&(n-=o?0:v),e&&(n=Math.min(e,n)),b.style.height=`${Math.max(t,n)}px`}else b.style.height="";b.style.minHeight=`${t}px`}g&&(uS(b)&&(b.style.top=`${I}px`),g.style.height=(R>0?R-I-M:O)+I+M-v*(o?2:1)+"px",g.style.width=`${x.reduce(((e,t)=>e+t.renderWidth),d?0:h)}px`);let r=k,a=p;i&&(a=T,(m||f||l&&y)&&(a=w||s||c?T:x||[])),r=a.reduce(((e,t)=>e+t.renderWidth),0),C&&(C.style.width=r?`${r}px`:"",C.style.paddingRight=h&&i&&(BC["-moz"]||BC.safari)?`${h}px`:""),n&&(n.style.width=r?`${r}px`:"")}else if("footer"===t){let e=k,t=p;i&&(t=T,(m||f||a)&&(t=s||c?T:x||[])),e=t.reduce(((e,t)=>e+t.renderWidth),0),uS(b)&&(g&&(b.style.top=`${R>0?R-M:O+I}px`),b.style.marginTop=-Math.max(1,v)+"px"),C&&(C.style.width=e?`${e+h}px`:"")}const S=SS(P[`${e}-${t}-colgroup`]);S&&rp.arrayEach(S.children,(n=>{const o=n.getAttribute("name");if("col_gutter"===o&&(n.style.width=`${h}px`),D[o]){const i=D[o].column,{showHeaderOverflow:s,showFooterOverflow:c,showOverflow:u}=i;let d;n.style.width=`${i.renderWidth}px`,d="header"===t?rp.isUndefined(s)||rp.isNull(s)?r:s:"footer"===t?rp.isUndefined(c)||rp.isNull(c)?a:c:rp.isUndefined(u)||rp.isNull(u)?l:u;let p="title"===d||(!0===d||"tooltip"===d)||"ellipsis"===d;const m=SS(P[`${e}-${t}-list`]);f&&!p&&(p=!0),m&&rp.arrayEach(m.querySelectorAll(`.${i.id}`),(e=>{const t=parseInt(e.getAttribute("colspan")||1),n=e.querySelector(".vxe-cell");let o=i.renderWidth;if(n){if(t>1){const e=E.getColumnIndex(i);for(let n=1;n<t;n++){const t=E.getColumns(e+n);t&&(o+=t.renderWidth)}}n.style.width=p?o-F*t+"px":""}}))}}))}))})),d&&E.setCurrentRow(d),i&&N.selected&&x.selected.row&&x.selected.column&&tt.addCellSelectedClass(),t()},Tt=e=>tt.triggerValidate?tt.triggerValidate(e):t(),Dt=(e,t)=>{Tt("blur").catch((e=>e)).then((()=>{tt.handleEdit(t,e).then((()=>Tt("change"))).catch((e=>e))}))},Ot=(e,t)=>{const{checkboxReserveRowMap:n}=S;if(ye.value.reserve){const o=gS(tt,e);t?n[o]=e:n[o]&&delete n[o]}},kt=(e,n)=>{const o=xe.value,{checkMethod:l}=o;return e&&(n||!l||l({row:e}))&&(C.selectRadioRow=e,(e=>{xe.value.reserve&&(S.radioReserveRow=e)})(e)),t()},It=(e,n,o)=>(e&&!rp.isArray(e)&&(e=[e]),tt.handleBatchSelectRows(e,!!n,o),tt.checkSelectionStatus(),t()),Mt=(n,o)=>{const{treeConfig:l}=e,{selectCheckboxMaps:r}=C,{afterFullData:a,checkboxReserveRowMap:i}=S,s=ze.value,c=s.children||s.childrenField,u=ye.value,{checkField:d,reserve:p,checkMethod:m}=u,f=u.indeterminateField||u.halfField,g={};if(d){const e=e=>{(o||!m||m({row:e}))&&(n&&(g[gS(tt,e)]=e),rp.set(e,d,n)),l&&f&&rp.set(e,f,!1)};l?rp.eachTree(a,e,{children:c}):a.forEach(e)}else l?n?rp.eachTree(a,(e=>{(o||!m||m({row:e}))&&(g[gS(tt,e)]=e)}),{children:c}):!o&&m&&rp.eachTree(a,(e=>{const t=gS(tt,e);!m({row:e})&&r[t]&&(g[t]=e)}),{children:c}):n?!o&&m?a.forEach((e=>{const t=gS(tt,e);(r[t]||m({row:e}))&&(g[t]=e)})):a.forEach((e=>{g[gS(tt,e)]=e})):!o&&m&&a.forEach((e=>{const t=gS(tt,e);!m({row:e})&&r[t]&&(g[t]=e)}));return p&&(n?rp.each(g,((e,t)=>{i[t]=e})):a.forEach((e=>Ot(e,!1)))),C.selectCheckboxMaps=d?{}:g,C.isAllSelected=n,C.isIndeterminate=!1,C.treeIndeterminateMaps={},S.treeIndeterminateRowMaps={},T.checkSelectionStatus(),t()},Pt=e=>{const n=ze.value,o=ye.value,{transform:l,loadMethod:r}=n,{checkStrictly:a}=o;return new Promise((n=>{if(r){const{treeExpandLazyLoadedMaps:o}=C,{fullAllDataRowIdData:i}=S,s=gS(tt,e),c=i[s];o[s]=e,Promise.resolve(r({$table:tt,row:e})).then((n=>{if(c&&(c.treeLoaded=!0),o[s]&&delete o[s],rp.isArray(n)||(n=[]),n)return E.loadTreeChildren(e,n).then((n=>{const{treeExpandedMaps:o}=C;return n.length&&!o[s]&&(o[s]=e),!a&&E.isCheckedByCheckboxRow(e)&&It(n,!0),t().then((()=>{if(l)return T.handleTableData(),Ct(),t()}))}))})).catch((()=>{const{treeExpandLazyLoadedMaps:e}=C;c&&(c.treeLoaded=!1),e[s]&&delete e[s]})).finally((()=>{t().then((()=>E.recalculate())).then((()=>n()))}))}else n()}))},Rt=(e,t)=>{const{treeExpandedReserveRowMap:n}=S;if(ze.value.reserve){const o=gS(tt,e);t?n[o]=e:n[o]&&delete n[o]}},Vt=e=>new Promise((n=>{const o=je.value,{loadMethod:l}=o;if(l){const{fullAllDataRowIdData:o}=S,r=Object.assign({},C.rowExpandLazyLoadedMaps),a=gS(tt,e),i=o[a];r[a]=e,C.rowExpandLazyLoadedMaps=r,l({$table:tt,row:e,rowIndex:E.getRowIndex(e),$rowIndex:E.getVMRowIndex(e)}).then((()=>{const t=Object.assign({},C.rowExpandedMaps);i&&(i.expandLoaded=!0),t[a]=e,C.rowExpandedMaps=t})).catch((()=>{i&&(i.expandLoaded=!1)})).finally((()=>{const e=Object.assign({},C.rowExpandLazyLoadedMaps);e[a]&&delete e[a],C.rowExpandLazyLoadedMaps=e,t().then((()=>E.recalculate())).then((()=>n()))}))}else n()})),At=(e,t)=>{const{rowExpandedReserveRowMap:n}=S;if(je.value.reserve){const o=gS(tt,e);t?n[o]=e:n[o]&&delete n[o]}},$t=()=>t().then((()=>{const{scrollXLoad:e,scrollYLoad:n}=C,{scrollXStore:o,scrollYStore:l}=S,r=se.value,a=ae.value;if(e){const{visibleSize:e}=it(),t=Math.max(0,a.oSize?rp.toNumber(a.oSize):BC.edge?5:0);o.offsetSize=t,o.visibleSize=e,o.endIndex=Math.max(o.startIndex+o.visibleSize+t,o.endIndex),T.updateScrollXData().then((()=>{zt()}))}else T.updateScrollXSpace();yt();const i=(()=>{const e=V.value,t=A.value,n=t?t.$el:null,o=y.value,l=ue.value;let r=0;if(n){const t=e?e.$el:null;let o;o=n.querySelector("tr"),!o&&t&&(o=t.querySelector("tr")),o&&(r=o.clientHeight)}return r||(r=l[o||"default"]),Math.max(18,r)})();l.rowHeight=i,C.rowHeight=i;const{visibleSize:s}=st();if(n){const e=Math.max(0,r.oSize?rp.toNumber(r.oSize):BC.edge?10:0);l.offsetSize=e,l.visibleSize=s,l.endIndex=Math.max(l.startIndex+s+e,l.endIndex),T.updateScrollYData().then((()=>{Yt()}))}else T.updateScrollYSpace();t(Et)})),Ft=e=>{const n=D.value;return S.rceRunTime=Date.now(),n&&n.clientWidth?(bt(),xt(),$t().then((()=>{if(!0===e)return yt(),bt(),xt(),$t()}))):t()},Nt=n=>{const{keepSource:o,treeConfig:l,showOverflow:r}=e,{editStore:a,scrollYLoad:i}=C,{scrollYStore:s,scrollXStore:c,lastScrollLeft:u,lastScrollTop:d}=S,p=ze.value,f=me.value,{transform:g}=p,h=p.children||p.childrenField;let v=[],b=m(n?n.slice(0):[]);l&&(g?(v=rp.toArrayTree(b,{key:p.rowField,parentKey:p.parentField,children:h,mapChildren:p.mapChildrenField}),b=v.slice(0)):v=b.slice(0)),s.startIndex=0,s.endIndex=1,c.startIndex=0,c.endIndex=1,C.scrollVMLoading=!1,a.insertMaps={},a.removeMaps={};const x=Ut(b);if(C.isDragRowMove=!1,S.tableFullData=b,S.tableFullTreeData=v,T.cacheRowMap(!0),S.tableSynchData=n,o&&T.cacheSourceMap(b),x&&r&&!f.height){const e=S.tableFullColumn.find((e=>!1===e.showOverflow));e&&$C("vxe.error.errProp",[`column[field="${e.field}"].show-overflow=false`,"show-overflow=true"])}return tt.clearCellAreas&&e.mouseConfig&&(tt.clearCellAreas(),tt.clearCopyCellArea()),E.clearMergeCells(),E.clearMergeFooterItems(),T.handleTableData(!0),E.updateFooter(),t().then((()=>{ht(),Et()})).then((()=>{$t()})).then((()=>(x&&(s.endIndex=s.visibleSize),(()=>{const{treeConfig:t}=e,{expandColumn:n,currentRow:o,selectCheckboxMaps:l,selectRadioRow:r,rowExpandedMaps:a,treeExpandedMaps:i}=C,{fullDataRowIdData:s,fullAllDataRowIdData:c,radioReserveRow:u}=S,d=je.value,p=ze.value,m=xe.value,f=ye.value;if(r&&!c[gS(tt,r)]&&(C.selectRadioRow=null),m.reserve&&u){const e=gS(tt,u);s[e]&&kt(s[e].row,!0)}C.selectCheckboxMaps=rt(l),f.reserve&&It(at(S.checkboxReserveRowMap),!0,!0),o&&!c[gS(tt,o)]&&(C.currentRow=null),C.rowExpandedMaps=n?rt(a):{},n&&d.reserve&&E.setRowExpand(at(S.rowExpandedReserveRowMap),!0),C.treeExpandedMaps=t?rt(i):{},t&&p.reserve&&E.setTreeExpand(at(S.treeExpandedReserveRowMap),!0)})(),T.checkSelectionStatus(),new Promise((e=>{t().then((()=>E.recalculate())).then((()=>{let t=u,n=d;const o=ae.value,l=se.value;o.scrollToLeftOnChange&&(t=0),l.scrollToTopOnChange&&(n=0),i===x?pS(tt,t,n).then(e):setTimeout((()=>pS(tt,t,n).then(e)))}))})))))},Lt=()=>{(()=>{const{checkboxConfig:t}=e;if(t){const{fullDataRowIdData:e}=S,t=ye.value,{checkAll:n,checkRowKeys:o}=t;if(n)Mt(!0,!0);else if(o){const t=[];o.forEach((n=>{e[n]&&t.push(e[n].row)})),It(t,!0,!0)}}})(),(()=>{const{radioConfig:t}=e;if(t){const{fullDataRowIdData:e}=S,t=xe.value,{checkRowKey:n,reserve:o}=t;if(n&&(e[n]&&kt(e[n].row,!0),o)){const e=fS(tt);S.radioReserveRow={[e]:n}}}})(),(()=>{const{expandConfig:t}=e;if(t){const{fullDataRowIdData:e}=S,t=je.value,{expandAll:n,expandRowKeys:o}=t;if(n)E.setAllRowExpand(!0);else if(o){const t=[];o.forEach((n=>{e[n]&&t.push(e[n].row)})),E.setRowExpand(t,!0)}}})(),(()=>{const{treeConfig:t}=e;if(t){const{tableFullData:e}=S,t=ze.value,{expandAll:n,expandRowKeys:o}=t,l=t.children||t.childrenField;if(n)E.setAllTreeExpand(!0);else if(o){const t=[],n=fS(tt);o.forEach((o=>{const r=rp.findTree(e,(e=>o===rp.get(e,n)),{children:l});r&&t.push(r.item)})),E.setTreeExpand(t,!0)}}})(),(()=>{const{mergeCells:t}=e;t&&E.setMergeCells(t)})(),(()=>{const{mergeFooterItems:t}=e;t&&E.setMergeFooterItems(t)})(),t((()=>setTimeout((()=>E.recalculate()))))},_t=()=>{(()=>{const{sortConfig:t}=e;if(t){const e=Te.value;let{defaultSort:n}=e;n&&(rp.isArray(n)||(n=[n]),n.length&&((t.multiple?n:n.slice(0,1)).forEach(((e,t)=>{const{field:n,order:o}=e;if(n&&o){const e=E.getColumnByField(n);e&&e.sortable&&(e.order=o,e.sortTime=Date.now()+t)}})),e.remote||T.handleTableData(!0).then(Et)))}})()},Bt=()=>{const{scrollXLoad:e}=C,{visibleColumn:t,scrollXStore:n,fullColumnIdData:o}=S,l=e?t.slice(n.startIndex,n.endIndex):t.slice(0);l.forEach(((e,t)=>{const n=e.id,l=o[n];l&&(l.$index=t)})),C.tableColumn=l},jt=()=>{const e=rp.orderBy(S.collectColumn,"renderSortNumber");S.collectColumn=e;const t=Wt(e);S.tableFullColumn=t,gt()},zt=()=>{const{mergeList:e,mergeFooterList:t}=C,{scrollXStore:n}=S,{startIndex:o,endIndex:l,offsetSize:r}=n,{toVisibleIndex:a,visibleSize:i}=it(),s={startIndex:Math.max(0,a-1-r),endIndex:a+i+r};ct(e.concat(t),s,"col");const{startIndex:c,endIndex:u}=s;(a<=o||a>=l-i-1)&&(o===c&&l===u||(n.startIndex=c,n.endIndex=u,T.updateScrollXData())),E.closeTooltip()},Wt=e=>{const t=[];return e.forEach((e=>{t.push(...e.children&&e.children.length?Wt(e.children):[e])})),t},Ht=t=>{const{showOverflow:n}=e,o=me.value,l=[],r=[],a=[],{isGroup:i,columnStore:s}=C,c=ae.value,{collectColumn:u,tableFullColumn:d,scrollXStore:p,fullColumnIdData:m}=S;if(i){const e=[],t=[],n=[];rp.eachTree(u,((e,t,n,o,i)=>{const s=Jw(e);i&&i.fixed&&(e.fixed=i.fixed),i&&e.fixed!==i.fixed&&$C("vxe.error.groupFixed"),s?e.visible=!!rp.findTree(e.children,(e=>!Jw(e)&&e.visible)):e.visible&&("left"===e.fixed?l.push(e):"right"===e.fixed?a.push(e):r.push(e))})),u.forEach((o=>{o.visible&&("left"===o.fixed?e.push(o):"right"===o.fixed?n.push(o):t.push(o))})),C.tableGroupColumn=e.concat(t).concat(n)}else d.forEach((e=>{e.visible&&("left"===e.fixed?l.push(e):"right"===e.fixed?a.push(e):r.push(e))}));const f=l.concat(r).concat(a),g=!!c.enabled&&c.gt>-1&&(0===c.gt||c.gt<d.length);if(C.hasFixedColumn=l.length>0||a.length>0,Object.assign(s,{leftList:l,centerList:r,rightList:a}),g){if(n&&!o.height){const e=S.tableFullColumn.find((e=>!1===e.showOverflow));e&&$C("vxe.error.errProp",[`column[field="${e.field}"].show-overflow=false`,"show-overflow=true"])}if(t){const{visibleSize:e}=it();p.startIndex=0,p.endIndex=e,p.visibleSize=e}}return f.length===S.visibleColumn.length&&S.visibleColumn.every(((e,t)=>e===f[t]))||(E.clearMergeCells(),E.clearMergeFooterItems()),C.scrollXLoad=g,f.forEach(((e,t)=>{const n=e.id,o=m[n];o&&(o._index=t)})),S.visibleColumn=f,Bt(),t?E.updateFooter().then((()=>E.recalculate())).then((()=>(E.updateCellAreas(),E.recalculate()))):E.updateFooter()},qt=n=>{S.collectColumn=n;const o=Wt(n);return S.tableFullColumn=o,C._isLoading=!0,C.isDragColMove=!1,(()=>{const{collectColumn:e}=S;e.forEach(((e,t)=>{const n=t+1;e.sortNumber=n,e.renderSortNumber=n}))})(),Promise.resolve((()=>{const{customConfig:t}=e,n=le.value,o=Ue.value,{storage:l,restoreStore:r}=o,a=!0===l,i=a?{}:Object.assign({},l||{}),s=a||i.resizable,c=a||i.visible,u=a||i.fixed,d=a||i.sort;if((t?Gw(o):o.enabled)&&(s||c||u||d)){if(!n)return void $C("vxe.error.reqProp",["id"]);const e=lt(n);return r?Promise.resolve(r({id:n,type:"restore",storeData:e})).then((e=>{if(e)return ft(e)})).catch((e=>e)):ft(e)}})()).then((()=>(C._isLoading=!1,gt(),Ht(!0).then((()=>{C.scrollXLoad&&zt()})),E.clearMergeCells(),E.clearMergeFooterItems(),T.handleTableData(!0),t().then((()=>(oe&&oe.syncUpdate({collectColumn:S.collectColumn,$table:tt}),tt.handleUpdateCustomColumn&&tt.handleUpdateCustomColumn(),E.recalculate()))))))},Ut=t=>{const{treeConfig:n}=e,o=se.value,l=ze.value,{transform:r}=l,a=t||S.tableFullData,i=(r||!n)&&!!o.enabled&&o.gt>-1&&(0===o.gt||o.gt<a.length);return C.scrollYLoad=i,i},Kt=(e,t)=>{const{treeExpandedMaps:n,treeExpandLazyLoadedMaps:o,treeNodeColumn:l}=C,r=Object.assign({},n),{fullAllDataRowIdData:a,tableFullData:i}=S,s=ze.value,{reserve:c,lazy:u,accordion:d,toggleMethod:p}=s,m=s.children||s.childrenField,f=s.hasChild||s.hasChildField,g=[],h=E.getColumnIndex(l),v=E.getVMColumnIndex(l);let b=p?e.filter((e=>p({$table:tt,expanded:t,column:l,columnIndex:h,$columnIndex:v,row:e}))):e;if(d){b=b.length?[b[b.length-1]]:[];const e=rp.findTree(i,(e=>e===b[0]),{children:m});e&&e.items.forEach((e=>{const t=gS(tt,e);r[t]&&delete r[t]}))}return t?b.forEach((e=>{const t=gS(tt,e);if(!r[t]){const n=a[t];if(n){u&&e[f]&&!n.treeLoaded&&!o[t]?g.push(Pt(e)):e[m]&&e[m].length&&(r[t]=e)}}})):b.forEach((e=>{const t=gS(tt,e);r[t]&&delete r[t]})),c&&b.forEach((e=>Rt(e,t))),C.treeExpandedMaps=r,Promise.all(g).then((()=>E.recalculate()))},Gt=(e,t)=>{Mt(t),e&&tn("checkbox-all",{records:E.getCheckboxRecords(),reserves:E.getCheckboxReserveRecords(),indeterminates:E.getCheckboxIndeterminateRecords(),checked:t},e)},Yt=()=>{const{showOverflow:t}=e,{mergeList:n}=C,{tableHeight:o,scrollYStore:l}=S,{startIndex:r,endIndex:a,offsetSize:i}=l,s=t?i:i+Math.min(8,Math.ceil(o/200)),{toVisibleIndex:c,visibleSize:u}=st(),d={startIndex:Math.max(0,c-1-i),endIndex:c+u+s};ct(n,d,"row");const{startIndex:p,endIndex:m}=d;(c<=r||c>=a-u-1)&&(r===p&&a===m||(l.startIndex=p,l.endIndex=m,tt.updateScrollYData()))},Xt=e=>function(t){const{fullAllDataRowIdData:n}=S;if(t){const o=n[gS(tt,t)];if(o)return o[e]}return-1},Zt=e=>function(t){const{fullColumnIdData:n}=S;if(t){const o=n[t.id];if(o)return o[e]}return-1},Qt=e=>{const{intoRunScroll:t,inFooterScroll:n,inBodyScroll:o,lastScrollTop:l}=S;if(!t){if(n)return;if(o)return}const r=V.value,a=A.value,i=$.value,s=a.$el,c=r?r.$el:null,u=i?i.$el:null,d=J.value,p=e.currentTarget,{scrollLeft:m}=p,f=d||s;let g=0;f&&(g=f.scrollTop);const h=g!==l;S.inVirtualScroll=!0,oS(s,m),oS(c,m),oS(u,m),tt.triggerScrollXEvent(e),tt.handleScrollEvent(e,h,!0,g,m,{type:"table",fixed:""})},Jt=e=>{const{intoRunScroll:t,inFooterScroll:n,inBodyScroll:o,lastScrollLeft:l}=S;if(!t){if(n)return;if(o)return}const r=A.value,a=N.value,i=B.value,s=r.$el,c=a?a.$el:null,u=i?i.$el:null,d=Q.value,p=e.currentTarget,{scrollTop:m}=p,f=d||s;let g=0;f&&(g=f.scrollLeft);const h=g!==l;S.inVirtualScroll=!0,nS(s,m),nS(c,m),nS(u,m),tt.triggerScrollYEvent(e),tt.handleScrollEvent(e,!0,h,m,g,{type:"table",fixed:""})};let en;const tn=(e,t,n)=>{a(e,ZE(n,{$table:tt,$grid:ne},t))};E={dispatchEvent:tn,clearAll:()=>function(e){return e.clearFilter&&e.clearFilter(),function(e){const{props:t,internalData:n}=e;return n.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}(e)}(tt),syncData:()=>(AC("vxe.error.delFunc",["syncData","getData"]),t().then((()=>(C.tableData=[],a("update:data",S.tableFullData),t())))),updateData(){const{scrollXLoad:e,scrollYLoad:t}=C;return T.handleTableData(!0).then((()=>{if(E.updateFooter(),e||t)return e&&T.updateScrollXSpace(),t&&T.updateScrollYSpace(),E.refreshScroll()})).then((()=>(E.updateCellAreas(),E.recalculate(!0)))).then((()=>{setTimeout((()=>tt.recalculate()),50)}))},loadData(e){const{initStatus:t}=S;return Nt(e).then((()=>(S.inited=!0,S.initStatus=!0,t||Lt(),E.recalculate())))},reloadData:e=>E.clearAll().then((()=>(S.inited=!0,S.initStatus=!0,Nt(e)))).then((()=>(Lt(),E.recalculate()))),setRow(e,n){if(e&&n){let t=e;rp.isArray(e)||(t=[e]);const o=fS(tt);t.forEach((e=>{const t=gS(tt,e),l=rp.clone(Object.assign({},n),!0);rp.set(l,o,t),Object.assign(e,l)}))}return t()},reloadRow(n,o,l){const{keepSource:r}=e,{tableData:a}=C,{tableSourceData:i}=S;if(r){const e=i[E.getRowIndex(n)];if(e&&n)if(l){const t=rp.clone(rp.get(o||n,l),!0);rp.set(n,l,t),rp.set(e,l,t)}else{const t=fS(tt),l=gS(tt,n),r=rp.clone(Object.assign({},o),!0);rp.set(r,t,l),rp.destructuring(e,Object.assign(n,r))}C.tableData=a.slice(0)}return t()},getParams:()=>e.params,loadTreeChildren(t,n){const{keepSource:o}=e,{tableSourceData:l,fullDataRowIdData:r,fullAllDataRowIdData:a,sourceDataRowIdData:i}=S,s=ze.value,{transform:c,mapChildrenField:u}=s,d=s.children||s.childrenField,p=a[gS(tt,t)],m=p?p.level:0;return E.createData(n).then((e=>{if(o){const n=gS(tt,t),o=rp.findTree(l,(e=>n===gS(tt,e)),{children:d});o&&(o.item[d]=rp.clone(e,!0)),e.forEach((e=>{const t=gS(tt,e);i[t]=rp.clone(e,!0)}))}return rp.eachTree(e,((e,t,n,o,l,i)=>{const s=gS(tt,e),c={row:e,rowid:s,seq:-1,index:t,_index:-1,$index:-1,items:n,parent:l||p.row,level:m+i.length,height:0,oTop:0};r[s]=c,a[s]=c}),{children:d}),t[d]=e,c&&(t[u]=rp.clone(e,!1)),Ct(),e}))},loadColumn(e){const t=rp.mapTree(e,(e=>m(rE.createColumn(tt,e))));return qt(t)},reloadColumn:e=>E.clearAll().then((()=>E.loadColumn(e))),getRowNode(e){if(e){const{fullAllDataRowIdData:t}=S,n=e.getAttribute("rowid");if(n){const e=t[n];if(e)return{rowid:e.rowid,item:e.row,index:e.index,items:e.items,parent:e.parent}}}return null},getColumnNode(e){if(e){const{fullColumnIdData:t}=S,n=e.getAttribute("colid");if(n){const e=t[n];if(e)return{colid:e.colid,item:e.column,index:e.index,items:e.items,parent:e.parent}}}return null},getRowSeq:Xt("seq"),getRowIndex:Xt("index"),getVTRowIndex:Xt("_index"),getVMRowIndex:Xt("$index"),getColumnIndex:Zt("index"),getVTColumnIndex:Zt("_index"),getVMColumnIndex:Zt("$index"),createData:e=>t().then((()=>m(T.defineField(e)))),createRow(e){const t=rp.isArray(e);return t||(e=[e||{}]),E.createData(e).then((e=>t?e:e[0]))},revertData(n,o){const{keepSource:l}=e,{tableSourceData:r,sourceDataRowIdData:a}=S;if(!l)return t();let i=n;return n?rp.isArray(n)||(i=[n]):i=rp.toArray(tt.getUpdateRecords()),i.length&&i.forEach((e=>{if(!E.isInsertByRow(e)){const t=gS(tt,e),n=a[t];n&&e&&(o?rp.set(e,o,rp.clone(rp.get(n,o),!0)):rp.destructuring(e,rp.clone(n,!0)))}})),n?t():E.reloadData(r)},clearData(e,n){const{tableFullData:o,visibleColumn:l}=S;return arguments.length?e&&!rp.isArray(e)&&(e=[e]):e=o,n?e.forEach((e=>rp.set(e,n,null))):e.forEach((e=>{l.forEach((t=>{t.field&&CS(e,t,null)}))})),t()},getCellElement(e,t){const n=hS(tt,t);if(!n)return null;const o=gS(tt,e),l=A.value,r=N.value,a=B.value;let i;return n&&(n.fixed&&("left"===n.fixed?r&&(i=r.$el):a&&(i=a.$el)),i||(i=l.$el),i)?i.querySelector(`.vxe-body--row[rowid="${o}"] .${n.id}`):null},getCellLabel(e,t){const n=hS(tt,t);if(!n)return null;const o=n.formatter,l=wS(e,n);let r=l;if(o){let t;const{fullAllDataRowIdData:a}=S,i=gS(tt,e),s=n.id,c=a[i];if(c&&(t=c.formatData,t||(t=a[i].formatData={}),c&&t[s]&&t[s].value===l))return t[s].label;const u={cellValue:l,row:e,rowIndex:E.getRowIndex(e),column:n,columnIndex:E.getColumnIndex(n)};if(rp.isString(o)){const e=XE.get(o),t=e?e.tableCellFormatMethod||e.cellFormatMethod:null;r=t?t(u):""}else if(rp.isArray(o)){const e=XE.get(o[0]),t=e?e.tableCellFormatMethod||e.cellFormatMethod:null;r=t?t(u,...o.slice(1)):""}else r=o(u);t&&(t[s]={value:l,label:r})}return r},isInsertByRow(e){const{editStore:t}=C,n=gS(tt,e);return!!t.insertMaps[n]},removeInsertRow(){const{editStore:e}=C;return e.insertMaps={},tt.remove(tt.getInsertRecords())},isUpdateByRow(t,n){const{keepSource:o}=e,{tableFullColumn:l,fullDataRowIdData:r,sourceDataRowIdData:a}=S;if(o){const e=gS(tt,t);if(!r[e])return!1;const o=a[e];if(o){if(arguments.length>1)return!nt(o,t,n);for(let e=0,n=l.length;e<n;e++){const n=l[e].field;if(n&&!nt(o,t,n))return!0}}}return!1},getColumns(e){const t=S.visibleColumn;return rp.isUndefined(e)?t.slice(0):t[e]},getColid(e){const t=hS(tt,e);return t?t.id:null},getColumnById(e){const t=S.fullColumnIdData;return e&&t[e]?t[e].column:null},getColumnByField(e){const t=S.fullColumnFieldData;return e&&t[e]?t[e].column:null},getParentColumn(e){const t=S.fullColumnIdData,n=hS(tt,e);return n&&n.parentId&&t[n.parentId]?t[n.parentId].column:null},getTableColumn:()=>({collectColumn:S.collectColumn.slice(0),fullColumn:S.tableFullColumn.slice(0),visibleColumn:S.visibleColumn.slice(0),tableColumn:C.tableColumn.slice(0)}),getFullColumns(){const{collectColumn:e}=S;return e.slice(0)},getData(t){const n=e.data||S.tableSynchData;return rp.isUndefined(t)?n.slice(0):n[t]},getCheckboxRecords(t){const{treeConfig:n}=e,{tableFullData:o,afterFullData:l,afterTreeFullData:r,tableFullTreeData:a,fullDataRowIdData:i,afterFullRowMaps:s}=S,c=ze.value,u=ye.value,{transform:d,mapChildrenField:p}=c,{checkField:m}=u,f=c.children||c.childrenField;let g=[];const h=t?d?a:o:d?r:l;if(m)g=n?rp.filterTree(h,(e=>rp.get(e,m)),{children:d?p:f}):h.filter((e=>rp.get(e,m)));else{const{selectCheckboxMaps:e}=C;rp.each(e,((e,n)=>{t?i[n]&&g.push(i[n].row):s[n]&&g.push(s[n])}))}return g},getTreeRowChildren(t){const{treeConfig:n}=e,{fullDataRowIdData:o}=S,l=ze.value,{transform:r,mapChildrenField:a}=l,i=l.children||l.childrenField;if(t&&n){let e;if(e=rp.isString(t)?t:gS(tt,t),e){const t=o[e],n=t?t.row:null;if(n)return n[r?a:i]||[]}}return[]},getTreeParentRow(t){const{treeConfig:n}=e,{fullDataRowIdData:o}=S;if(t&&n){let e;if(e=rp.isString(t)?t:gS(tt,t),e){const t=o[e];return t?t.parent:null}}return null},getParentRow:e=>(AC("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),tt.getTreeParentRow(e)),getRowById(e){const{fullDataRowIdData:t}=S,n=rp.eqNull(e)?"":encodeURIComponent(e||"");return t[n]?t[n].row:null},getRowid:e=>gS(tt,e),getTableData(){const{tableData:t,footerTableData:n}=C,{tableFullData:o,afterFullData:l,tableFullTreeData:r}=S;return{fullData:e.treeConfig?r.slice(0):o.slice(0),visibleData:l.slice(0),tableData:t.slice(0),footerData:n.slice(0)}},getFullData(){const{treeConfig:t}=e,{tableFullData:n,tableFullTreeData:o}=S;if(t){const e=ze.value,{transform:t,mapChildrenField:n}=e,l=e.children||e.childrenField;return t?rp.toArrayTree(rp.toTreeArray(o,{children:n}),{children:l}):o.slice(0)}return n.slice(0)},setColumnFixed(e,n){let o=!1;const l=rp.isArray(e)?e:[e],r=de.value,a=Ye.value;for(let i=0;i<l.length;i++){const e=l[i],s=hS(tt,e),c=IS(tt,s);if(c&&c.fixed!==n){if(!c.fixed&&a)return Rm.modal&&Rm.modal.message({status:"error",content:GE("vxe.table.maxFixedCol",[r.maxFixedSize])}),t();rp.eachTree([c],(e=>{e.fixed=n})),T.saveCustomStore("update:fixed"),o||(o=!0)}}return o?E.refreshColumn():t()},clearColumnFixed(e){let n=!1;return(rp.isArray(e)?e:[e]).forEach((e=>{const t=hS(tt,e),o=IS(tt,t);o&&o.fixed&&(rp.eachTree([o],(e=>{e.fixed=null})),T.saveCustomStore("update:fixed"),n||(n=!0))})),n?E.refreshColumn():t()},hideColumn(e){let n=!1;return(rp.isArray(e)?e:[e]).forEach((e=>{const t=hS(tt,e);t&&t.visible&&(t.visible=!1,n||(n=!0))})),n?T.handleCustom():t()},showColumn(e){let n=!1;return(rp.isArray(e)?e:[e]).forEach((e=>{const t=hS(tt,e);t&&!t.visible&&(t.visible=!0,n||(n=!0))})),n?T.handleCustom():t()},setColumnWidth(e,n){let o=!1;return(rp.isArray(e)?e:[e]).forEach((e=>{const t=hS(tt,e);if(t){const e=rp.toInteger(n);let l=e;if(GC(n)){const t=A.value,n=t?t.$el:null,o=n?n.clientWidth-1:0;l=Math.floor(e*o)}t.resizeWidth=l,o||(o=!0)}})),o?E.refreshColumn():t()},getColumnWidth(e){const t=hS(tt,e);return t?t.renderWidth:0},resetColumn:e=>(AC("vxe.error.delFunc",["resetColumn","resetCustom"]),tt.resetCustom(e)),refreshColumn:e=>(e&&jt(),Ht(!0).then((()=>E.refreshScroll())).then((()=>E.recalculate()))),refreshScroll(){const{lastScrollLeft:e,lastScrollTop:t}=S,n=A.value,o=$.value,l=N.value,r=B.value,a=n?n.$el:null,i=l?l.$el:null,s=r?r.$el:null,c=o?o.$el:null;return new Promise((n=>{if(e||t)return pS(tt,e,t).then().then((()=>{setTimeout(n,30)}));nS(a,t),nS(i,t),nS(s,t),oS(c,e),setTimeout(n,30)}))},recalculate:e=>new Promise((n=>{const{rceTimeout:o,rceRunTime:l}=S,r=he.value.refreshDelay||20,a=D.value;a&&a.clientWidth&&xt(),o?(clearTimeout(o),l&&l+(r-5)<Date.now()?n(Ft(!!e)):t((()=>{n()}))):n(Ft(!!e)),S.rceTimeout=setTimeout((()=>{S.rceTimeout=void 0,Ft(!!e)}),r)})),openTooltip(e,n){const o=k.value;return o&&o.open?o.open(e,n):t()},closeTooltip(){const{tooltipStore:e}=C,n=O.value,o=k.value;return e.visible&&(Object.assign(e,{row:null,column:null,content:null,visible:!1,currOpts:{}}),n&&n.close&&n.close()),o&&o.close&&o.close(),t()},isAllCheckboxChecked:()=>C.isAllSelected,isAllCheckboxIndeterminate:()=>!C.isAllSelected&&C.isIndeterminate,getCheckboxIndeterminateRecords(t){const{treeConfig:n}=e,{fullDataRowIdData:o}=S,{treeIndeterminateMaps:l}=C;if(n){const e=[],n=[];return rp.each(l,((t,l)=>{t&&(e.push(t),o[l]&&n.push(t))})),t?e:n}return[]},setCheckboxRow:(e,t)=>(e&&!rp.isArray(e)&&(e=[e]),It(e,t,!0)),setCheckboxRowKey(e,t){const{fullAllDataRowIdData:n}=S;rp.isArray(e)||(e=[e]);const o=[];return e.forEach((e=>{const t=n[e];t&&o.push(t.row)})),It(o,t,!0)},isCheckedByCheckboxRow(e){const{selectCheckboxMaps:t}=C,n=ye.value,{checkField:o}=n;return o?rp.get(e,o):!!t[gS(tt,e)]},isCheckedByCheckboxRowKey(e){const{selectCheckboxMaps:t}=C,{fullAllDataRowIdData:n}=S,o=ye.value,{checkField:l}=o;if(l){const t=n[e];return!!t&&rp.get(t.row,l)}return!!t[e]},isIndeterminateByCheckboxRow(e){const{treeIndeterminateMaps:t}=C;return!!t[gS(tt,e)]&&!tt.isCheckedByCheckboxRow(e)},isIndeterminateByCheckboxRowKey(e){const{treeIndeterminateMaps:t}=C;return!!t[e]&&!tt.isCheckedByCheckboxRowKey(e)},toggleCheckboxRow(e){const{selectCheckboxMaps:n}=C,o=ye.value,{checkField:l}=o,r=l?!rp.get(e,l):!n[gS(tt,e)];return T.handleBatchSelectRows([e],r,!0),T.checkSelectionStatus(),t()},setAllCheckboxRow:e=>Mt(e,!0),getRadioReserveRecord(t){const{treeConfig:n}=e,{fullDataRowIdData:o,radioReserveRow:l,afterFullData:r}=S,a=xe.value,i=ze.value,s=i.children||i.childrenField;if(a.reserve&&l){const e=gS(tt,l);if(t){if(!o[e])return l}else{const t=fS(tt);if(n){if(rp.findTree(r,(n=>e===rp.get(n,t)),{children:s}))return l}else if(!r.some((n=>e===rp.get(n,t))))return l}}return null},clearRadioReserve:()=>(S.radioReserveRow=null,t()),getCheckboxReserveRecords(t){const{treeConfig:n}=e,{afterFullData:o,fullDataRowIdData:l,checkboxReserveRowMap:r}=S,a=ye.value,i=ze.value,s=i.children||i.childrenField,c=[];if(a.reserve){const e={};n?rp.eachTree(o,(t=>{e[gS(tt,t)]=1}),{children:s}):o.forEach((t=>{e[gS(tt,t)]=1})),rp.each(r,((n,o)=>{n&&(t?l[o]||c.push(n):e[o]||c.push(n))}))}return c},clearCheckboxReserve:()=>(S.checkboxReserveRowMap={},t()),toggleAllCheckboxRow:()=>(Gt(null,!C.isAllSelected),t()),clearCheckboxRow(){const{treeConfig:n}=e,{tableFullData:o}=S,l=ze.value,r=l.children||l.childrenField,a=ye.value,{checkField:i,reserve:s}=a,c=a.indeterminateField||a.halfField;if(i){const e=e=>{n&&c&&rp.set(e,c,!1),rp.set(e,i,!1)};n?rp.eachTree(o,e,{children:r}):o.forEach(e)}return s&&o.forEach((e=>Ot(e,!1))),C.isAllSelected=!1,C.isIndeterminate=!1,C.selectCheckboxMaps={},C.treeIndeterminateMaps={},t()},setCurrentRow(n){const o=me.value,l=D.value;return E.clearCurrentRow(),C.currentRow=n,(o.isCurrent||e.highlightCurrentRow)&&l&&rp.arrayEach(l.querySelectorAll(`[rowid="${gS(tt,n)}"]`),(e=>ZC(e,"row--current"))),t()},isCheckedByRadioRow(e){const{selectRadioRow:t}=C;return!(!e||!t)&&tt.eqRow(t,e)},isCheckedByRadioRowKey(e){const{selectRadioRow:t}=C;return!!t&&e===gS(tt,t)},setRadioRow:e=>kt(e,!0),setRadioRowKey(e){const{fullAllDataRowIdData:n}=S,o=n[e];return o?kt(o.row,!0):t()},clearCurrentRow(){const e=D.value;return C.currentRow=null,S.hoverRow=null,e&&rp.arrayEach(e.querySelectorAll(".row--current"),(e=>XC(e,"row--current"))),t()},clearRadioRow:()=>(C.selectRadioRow=null,t()),getCurrentRecord:()=>me.value.isCurrent||e.highlightCurrentRow?C.currentRow:null,getRadioRecord(e){const{fullDataRowIdData:t,afterFullRowMaps:n}=S,{selectRadioRow:o}=C;if(o){const l=gS(tt,o);if(e){if(t[l])return o}else if(n[l])return o}return null},getCurrentColumn:()=>de.value.isCurrent||e.highlightCurrentColumn?C.currentColumn:null,setCurrentColumn(e){const n=hS(tt,e);return n&&(E.clearCurrentColumn(),C.currentColumn=n),t()},clearCurrentColumn:()=>(C.currentColumn=null,t()),setPendingRow(e,n){const o=Object.assign({},C.pendingRowMaps);return e&&!rp.isArray(e)&&(e=[e]),n?e.forEach((e=>{const t=gS(tt,e);t&&!o[t]&&(o[t]=e)})):e.forEach((e=>{const t=gS(tt,e);t&&o[t]&&delete o[t]})),C.pendingRowMaps=o,t()},togglePendingRow(e){const n=Object.assign({},C.pendingRowMaps);return e&&!rp.isArray(e)&&(e=[e]),e.forEach((e=>{const t=gS(tt,e);t&&(n[t]?delete n[t]:n[t]=e)})),C.pendingRowMaps=n,t()},hasPendingByRow:e=>E.isPendingByRow(e),isPendingByRow(e){const{pendingRowMaps:t}=C;return!!t[gS(tt,e)]},getPendingRecords(){const{pendingRowMaps:e}=C,{fullAllDataRowIdData:t}=S,n=[];return rp.each(e,((e,o)=>{t[o]&&n.push(e)})),n},clearPendingRow:()=>(C.pendingRowMaps={},t()),sort(e,n){const o=Te.value,{multiple:l,remote:r,orders:a}=o;return e&&rp.isString(e)&&(e=[{field:e,order:n}]),rp.isArray(e)||(e=[e]),e.length?(l||pt(),(l?e:[e[0]]).forEach(((e,t)=>{let{field:n,order:o}=e,l=n;rp.isString(n)&&(l=E.getColumnByField(n)),l&&l.sortable&&(-1===a.indexOf(o)&&(o=ot(l)),l.order!==o&&(l.order=o),l.sortTime=Date.now()+t)})),r||T.handleTableData(!0),t().then((()=>(E.updateCellAreas(),Et())))):t()},setSort(e,n){const o=Te.value,{multiple:l,remote:r,orders:a}=o;if(rp.isArray(e)||(e=[e]),e&&e.length){l||(e=[e[0]],pt());let o=null;return e.forEach(((e,t)=>{let{field:n,order:l}=e,r=n;rp.isString(n)&&(r=E.getColumnByField(n)),o||(o=r),r&&r.sortable&&(-1===a.indexOf(l)&&(l=ot(r)),r.order!==l&&(r.order=l),r.sortTime=Date.now()+t)})),n&&(r||T.handleTableData(!0),tt.handleColumnSortEvent(new Event("click"),o)),t().then((()=>(E.updateCellAreas(),Et())))}return t()},clearSort(e){const n=Te.value;if(e){const t=hS(tt,e);t&&(t.order=null)}else pt();return n.remote||T.handleTableData(!0),t().then(Et)},isSort(e){if(e){const t=hS(tt,e);return!!t&&(t.sortable&&!!t.order)}return E.getSortColumns().length>0},getSortColumns(){const e=Te.value,{multiple:t,chronological:n}=e,o=[],{tableFullColumn:l}=S;return l.forEach((e=>{const{field:t,order:n}=e;e.sortable&&n&&o.push({column:e,field:t,property:t,order:n,sortTime:e.sortTime})})),t&&n&&o.length>1?rp.orderBy(o,"sortTime"):o},closeFilter(){const{filterStore:e}=C,{column:n,visible:o}=e;return Object.assign(e,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),o&&tn("filter-visible",{column:n,property:n.field,field:n.field,filterList:tt.getCheckedFilters(),visible:!1},null),t()},isActiveFilterByColumn(e){const t=hS(tt,e);return t?t.filters&&t.filters.some((e=>e.checked)):tt.getCheckedFilters().length>0},isFilter:e=>E.isActiveFilterByColumn(e),isRowExpandLoaded(e){const{fullAllDataRowIdData:t}=S,n=t[gS(tt,e)];return n&&!!n.expandLoaded},clearRowExpandLoaded(e){const n=Object.assign({},C.rowExpandLazyLoadedMaps),{fullAllDataRowIdData:o}=S,l=je.value,{lazy:r}=l,a=gS(tt,e),i=o[a];return r&&i&&(i.expandLoaded=!1,delete n[a]),C.rowExpandLazyLoadedMaps=n,t()},reloadRowExpand(e){const{rowExpandLazyLoadedMaps:n}=C,o=je.value,{lazy:l}=o,r=gS(tt,e);return l&&!n[r]&&E.clearRowExpandLoaded(e).then((()=>Vt(e))),t()},reloadExpandContent:e=>E.reloadRowExpand(e),toggleRowExpand:e=>E.setRowExpand(e,!E.isRowExpandByRow(e)),setAllRowExpand(t){const n=ze.value,{tableFullData:o,tableFullTreeData:l}=S,r=n.children||n.childrenField;let a=[];return e.treeConfig?rp.eachTree(l,(e=>{a.push(e)}),{children:r}):a=o,E.setRowExpand(a,t)},setRowExpand(e,t){const{rowExpandedMaps:n,rowExpandLazyLoadedMaps:o,expandColumn:l}=C,{fullAllDataRowIdData:r}=S;let a=Object.assign({},n);const i=je.value,{reserve:s,lazy:c,accordion:u,toggleMethod:d}=i,p=[],m=E.getColumnIndex(l),f=E.getVMColumnIndex(l);if(e){rp.isArray(e)||(e=[e]),u&&(a={},e=e.slice(e.length-1,e.length));const n=d?e.filter((e=>d({$table:tt,expanded:t,column:l,columnIndex:m,$columnIndex:f,row:e,rowIndex:E.getRowIndex(e),$rowIndex:E.getVMRowIndex(e)}))):e;t?n.forEach((e=>{const t=gS(tt,e);if(!a[t]){const n=r[t];c&&!n.expandLoaded&&!o[t]?p.push(Vt(e)):a[t]=e}})):n.forEach((e=>{const t=gS(tt,e);a[t]&&delete a[t]})),s&&n.forEach((e=>At(e,t)))}return C.rowExpandedMaps=a,Promise.all(p).then((()=>E.recalculate()))},isRowExpandByRow(e){const{rowExpandedMaps:t}=C;return!!t[gS(tt,e)]},isExpandByRow:e=>E.isRowExpandByRow(e),clearRowExpand(){const{tableFullData:e}=S,n=je.value,{reserve:o}=n,l=E.getRowExpandRecords();return C.rowExpandedMaps={},o&&e.forEach((e=>At(e,!1))),t().then((()=>{l.length&&E.recalculate()}))},clearRowExpandReserve:()=>(S.rowExpandedReserveRowMap={},t()),getRowExpandRecords(){const e=[];return rp.each(C.rowExpandedMaps,(t=>{t&&e.push(t)})),e},getTreeExpandRecords(){const e=[];return rp.each(C.treeExpandedMaps,(t=>{t&&e.push(t)})),e},isTreeExpandLoaded(e){const{fullAllDataRowIdData:t}=S,n=t[gS(tt,e)];return n&&!!n.treeLoaded},clearTreeExpandLoaded(e){const n=Object.assign({},C.treeExpandedMaps),{fullAllDataRowIdData:o}=S,l=ze.value,{transform:r}=l;return e&&(rp.isArray(e)||(e=[e]),e.forEach((e=>{const t=gS(tt,e),l=o[t];l&&(l.treeLoaded=!1,n[t]&&delete n[t])}))),C.treeExpandedMaps=n,r?(St(),T.handleTableData()):t()},reloadTreeExpand(e){const{treeExpandLazyLoadedMaps:n}=C,o=ze.value,l=o.hasChild||o.hasChildField,{transform:r,lazy:a}=o,i=gS(tt,e);return a&&e[l]&&!n[i]?E.clearTreeExpandLoaded(e).then((()=>Pt(e))).then((()=>{if(r)return St(),T.handleTableData()})).then((()=>E.recalculate())):t()},reloadTreeChilds:e=>E.reloadTreeExpand(e),toggleTreeExpand:e=>E.setTreeExpand(e,!E.isTreeExpandByRow(e)),setAllTreeExpand(e){const{tableFullData:t}=S,n=ze.value,{transform:o,lazy:l}=n,r=n.children||n.childrenField,a=[];return rp.eachTree(t,(e=>{const t=e[r];(l||t&&t.length)&&a.push(e)}),{children:r}),E.setTreeExpand(a,e).then((()=>{if(o)return St(),E.recalculate()}))},setTreeExpand(e,n){const o=ze.value,{transform:l}=o;return e&&(rp.isArray(e)||(e=[e]),e.length)?l?((e,t)=>Kt(e,t).then((()=>{St(),T.handleTableData(),Ct()})).then((()=>E.recalculate())).then((()=>{setTimeout((()=>{E.updateCellAreas()}),30)})))(e,n):Kt(e,n):t()},isTreeExpandByRow(e){const{treeExpandedMaps:t}=C;return!!t[gS(tt,e)]},clearTreeExpand(){const{tableFullTreeData:e}=S,t=ze.value,n=t.children||t.childrenField,{transform:o,reserve:l}=t,r=E.getTreeExpandRecords();return C.treeExpandedMaps={},l&&rp.eachTree(e,(e=>Rt(e,!1)),{children:n}),T.handleTableData().then((()=>{if(o)return St(),T.handleTableData()})).then((()=>{if(r.length)return E.recalculate()}))},clearTreeExpandReserve:()=>(S.treeExpandedReserveRowMap={},t()),getScroll(){const{scrollXLoad:e,scrollYLoad:t}=C,n=A.value.$el;return{virtualX:e,virtualY:t,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}},scrollTo(e,n){const o=A.value,l=V.value,r=$.value,a=N.value,i=B.value,s=o?o.$el:null,c=a?a.$el:null,u=i?i.$el:null,d=l?l.$el:null,p=r?r.$el:null;if(S.intoRunScroll=!0,rp.isNumber(e)){const t=Q.value;t?oS(t,e):(oS(s,e),oS(d,e),oS(p,e))}if(rp.isNumber(n)){const e=J.value;e?nS(e,n):(nS(s,n),nS(c,n),nS(u,n))}return C.scrollXLoad||C.scrollYLoad?new Promise((e=>{setTimeout((()=>{t((()=>{S.intoRunScroll=!1,e()}))}),30)})):t()},scrollToRow(n,o){const{showOverflow:l}=e,{scrollYLoad:r,scrollXLoad:a}=C,i=[];return n&&(e.treeConfig?i.push(T.scrollToTreeRow(n)):i.push($S(tt,n))),o&&i.push(((e,n)=>{const{fullColumnIdData:o}=S,l=hS(tt,e);return l&&o[l.id]?FS(tt,l,n):t()})(o,n)),Promise.all(i).then((()=>{if(n)return l||!r&&!a||(yt(),bt()),t()}))},scrollToColumn(e){const{fullColumnIdData:n}=S,o=hS(tt,e);return o&&n[o.id]?FS(tt,o):t()},clearScroll(){const{scrollXStore:e,scrollYStore:n}=S,o=A.value,l=V.value,r=$.value,a=N.value,i=B.value,s=a?a.$el:null,c=o?o.$el:null,u=i?i.$el:null,d=l?l.$el:null,p=r?r.$el:null,m=Q.value;m?oS(m,0):(oS(c,0),oS(d,0),oS(p,0));const f=J.value;return f?nS(f,0):(nS(c,0),nS(s,0),nS(u,0)),e.startIndex=0,e.endIndex=e.visibleSize,n.startIndex=0,n.endIndex=n.visibleSize,t().then((()=>{oS(c,0),oS(d,0),oS(p,0),nS(c,0),nS(s,0),nS(u,0)}))},updateFooter(){const{showFooter:n,footerData:o,footerMethod:l}=e,{visibleColumn:r,afterFullData:a}=S;let i=[];return n&&o&&o.length?i=o.slice(0):n&&l&&(i=r.length?l({columns:r,data:a,$table:tt,$grid:ne}):[]),C.footerTableData=i,t()},updateStatus(n,o){const l=!rp.isUndefined(o);return t().then((()=>{const{editRules:t}=e,{validStore:r}=C,a=A.value;if(n&&a&&t){const{row:e,column:t}=n,a="change";if(tt.hasCellRules&&tt.hasCellRules(a,e,t)){const n=E.getCellElement(e,t);if(n)return tt.validCellRules(a,e,t,o).then((()=>{l&&r.visible&&CS(e,t,o),tt.clearValidate(e,t)})).catch((({rule:r})=>{l&&CS(e,t,o),tt.showValidTooltip({rule:r,row:e,column:t,cell:n})}))}}}))},setMergeCells:n=>(e.spanMethod&&$C("vxe.error.errConflicts",["merge-cells","span-method"]),ut(n,C.mergeList,S.afterFullData),t().then((()=>(E.updateCellAreas(),Et())))),removeMergeCells(n){e.spanMethod&&$C("vxe.error.errConflicts",["merge-cells","span-method"]);const o=dt(n,C.mergeList,S.afterFullData);return t().then((()=>(E.updateCellAreas(),Et(),o)))},getMergeCells:()=>C.mergeList.slice(0),clearMergeCells:()=>(C.mergeList=[],t().then((()=>Et()))),setMergeFooterItems:n=>(e.footerSpanMethod&&$C("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),ut(n,C.mergeFooterList),t().then((()=>(E.updateCellAreas(),Et())))),removeMergeFooterItems(n){e.footerSpanMethod&&$C("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const o=dt(n,C.mergeFooterList);return t().then((()=>(E.updateCellAreas(),Et(),o)))},getMergeFooterItems:()=>C.mergeFooterList.slice(0),clearMergeFooterItems:()=>(C.mergeFooterList=[],t().then((()=>Et()))),updateCellAreas(){const{mouseConfig:n}=e,o=Oe.value;return n&&o.area&&tt.handleRecalculateCellAreas?tt.handleRecalculateCellAreas():t()},getCustomStoreData(){const{id:t}=e,n=Ue.value,{collectColumn:o}=S,{checkMethod:l}=n,r={},a={},i={},s={},c={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0};if(!t)return $C("vxe.error.reqProp",["id"]),c;let u=0,d=0,p=0,m=0;return rp.eachTree(o,((e,t,n,c,f)=>{if(!f&&(o.forEach((e=>{const t=e.getKey();t&&(d=1,a[t]=e.renderSortNumber)})),e.fixed!==e.defaultFixed)){const t=e.getKey();t&&(p=1,s[t]=e.fixed)}if(e.resizeWidth){const t=e.getKey();t&&(u=1,r[t]=e.renderWidth)}if(!l||l({column:e}))if(!e.visible&&e.defaultVisible){const t=e.getKey();t&&(m=1,i[t]=!1)}else if(e.visible&&!e.defaultVisible){const t=e.getKey();t&&(m=1,i[t]=!0)}})),u&&(c.resizableData=r),d&&(c.sortData=a),p&&(c.fixedData=s),m&&(c.visibleData=i),c},focus:()=>(S.isActivated=!0,t()),blur:()=>(S.isActivated=!1,t()),connect:e=>(e?(oe=e,oe.syncUpdate({collectColumn:S.collectColumn,$table:tt})):$C("vxe.error.barUnableLink"),t())};const nn=t=>{const{editStore:n,ctxMenuStore:o,filterStore:l,customStore:r}=C,{mouseConfig:a,editRules:i}=e,s=D.value,c=Ee.value,u=re.value,d=ke.value,{actived:p}=n,m=I.value,f=P.value,g=R.value,h=M.value;if(f&&(rS(t,s,"vxe-cell--filter").flag||rS(t,f.$el).flag||rS(t,document.body,"vxe-table--ignore-clear").flag||T.preventEvent(t,"event.clearFilter",l.args,E.closeFilter)),g&&(r.btnEl===t.target||rS(t,document.body,"vxe-toolbar-custom-target").flag||rS(t,g.$el).flag||rS(t,document.body,"vxe-table--ignore-clear").flag||T.preventEvent(t,"event.clearCustom",{},(()=>{tt.closeCustom&&tt.closeCustom()}))),p.row){if(!1!==c.autoClear){const n=p.args.cell;n&&rS(t,n).flag||m&&rS(t,m.$el).flag||(!S._lastCallTime||S._lastCallTime+50<Date.now())&&(rS(t,document.body,"vxe-table--ignore-clear").flag||T.preventEvent(t,"event.clearEdit",p.args,(()=>{let n;if("row"===c.mode){const e=rS(t,s,"vxe-body--row"),o=e.flag?E.getRowNode(e.targetElem):null;n=!!o&&!tt.eqRow(o.item,p.args.row)}else n=!rS(t,s,"col--edit").flag;if(n||(n=rS(t,s,"vxe-header--row").flag),n||(n=rS(t,s,"vxe-footer--row").flag),!n&&e.height&&!C.overflowY){const e=t.target;YC(e,"vxe-table--body-wrapper")&&(n=t.offsetY<e.clientHeight)}!n&&rS(t,s).flag||setTimeout((()=>{tt.handleClearEdit(t).then((()=>{!S.isActivated&&i&&u.autoClear&&(C.validErrorMaps={})}))}))})))}}else if(a&&!(rS(t,s).flag||ne&&rS(t,ne.getRefMaps().refElem.value).flag||h&&rS(t,h.getRefMaps().refElem.value).flag||oe&&rS(t,oe.getRefMaps().refElem.value).flag)&&(tt.clearSelected&&tt.clearSelected(),d.autoClear&&tt.getCellAreas)){const e=tt.getCellAreas();e&&e.length&&!rS(t,document.body,"vxe-table--ignore-areas-clear").flag&&T.preventEvent(t,"event.clearAreas",{},(()=>{tt.clearCellAreas(),tt.clearCopyCellArea(),tn("clear-cell-area-selection",{cellAreas:e},t)}))}tt.closeMenu&&o.visible&&h&&!rS(t,h.getRefMaps().refElem.value).flag&&tt.closeMenu();const v=rS(t,ne?ne.getRefMaps().refElem.value:s).flag;!v&&i&&u.autoClear&&(C.validErrorMaps={}),S.isActivated=v},on=()=>{E.closeFilter(),tt.closeMenu&&tt.closeMenu()},ln=()=>{E.closeTooltip(),tt.closeMenu&&tt.closeMenu()},rn=n=>{const{mouseConfig:o,keyboardConfig:l}=e,{filterStore:r,ctxMenuStore:a,editStore:i}=C,s=Oe.value,c=Ie.value,{actived:u}=i;tT.hasKey(n,nT.ESCAPE)&&T.preventEvent(n,"event.keydown",null,(()=>{if(tn("keydown-start",{},n),l&&o&&s.area&&tt.handleKeyboardCellAreaEvent)tt.handleKeyboardCellAreaEvent(n);else if((u.row||r.visible||a.visible)&&(n.stopPropagation(),tt.closeMenu&&tt.closeMenu(),E.closeFilter(),l&&c.isEsc&&u.row)){const e=u.args;tt.handleClearEdit(n),s.selected&&t((()=>tt.handleSelected(e,n)))}tn("keydown",{},n),tn("keydown-end",{},n)}))},an=n=>{S.isActivated&&T.preventEvent(n,"event.keydown",null,(()=>{const{mouseConfig:o,keyboardConfig:l,treeConfig:r,editConfig:a,highlightCurrentRow:i}=e,{ctxMenuStore:s,editStore:c,currentRow:u}=C,{afterFullData:d}=S,p=Fe.value,m=Ae.value,f=Ie.value,g=Oe.value,h=Ee.value,v=ze.value,b=Ne.value,x=me.value,{selected:y,actived:w}=c,D=v.children||v.childrenField,O=n.keyCode,k=tT.hasKey(n,nT.ESCAPE),I=tT.hasKey(n,nT.BACKSPACE),M=tT.hasKey(n,nT.TAB),P=tT.hasKey(n,nT.ENTER),R=tT.hasKey(n,nT.SPACEBAR),V=tT.hasKey(n,nT.ARROW_LEFT),A=tT.hasKey(n,nT.ARROW_UP),$=tT.hasKey(n,nT.ARROW_RIGHT),F=tT.hasKey(n,nT.ARROW_DOWN),N=tT.hasKey(n,nT.DELETE),L=tT.hasKey(n,nT.F2),_=tT.hasKey(n,nT.CONTEXT_MENU),B=n.metaKey,j=n.ctrlKey,z=n.shiftKey,W=n.altKey,H=V||A||$||F,q=p&&s.visible&&(P||R||H),U=Gw(a)&&w.column&&w.row,K=h.beforeEditMethod||h.activeMethod;if(q)n.preventDefault(),s.showChild&&Jw(s.selected)?tt.moveCtxMenu(n,s,"selectChild",V,!1,s.selected.children):tt.moveCtxMenu(n,s,"selected",$,!0,b);else if(l&&o&&g.area&&tt.handleKeyboardCellAreaEvent)tt.handleKeyboardCellAreaEvent(n);else if(k){if(tt.closeMenu&&tt.closeMenu(),E.closeFilter(),l&&f.isEsc&&w.row){const e=w.args;tt.handleClearEdit(n),g.selected&&t((()=>tt.handleSelected(e,n)))}}else if(R&&l&&f.isChecked&&y.row&&y.column&&("checkbox"===y.column.type||"radio"===y.column.type))n.preventDefault(),"checkbox"===y.column.type?T.handleToggleCheckRowEvent(n,y.args):T.triggerRadioRowEvent(n,y.args);else if(L&&Gw(a))U||y.row&&y.column&&(n.preventDefault(),tt.handleEdit(y.args,n));else if(_)S._keyCtx=y.row&&y.column&&m.length,clearTimeout(en),en=setTimeout((()=>{S._keyCtx=!1}),1e3);else if(P&&!W&&l&&f.isEnter&&(y.row||w.row||r&&(x.isCurrent||i)&&u)){const{isLastEnterAppendRow:e,beforeEnterMethod:o,enterMethod:l}=f;if(j){if(w.row){const e=w.args;tt.handleClearEdit(n),g.selected&&t((()=>{tt.handleSelected(e,n)}))}}else if(y.row||w.row){const t=y.row?y.args:w.args;if(z)f.enterToTab?tt.moveTabSelected(t,z,n):tt.moveSelected(t,V,!0,$,!1,n);else if(f.enterToTab)tt.moveTabSelected(t,z,n);else{const r=y.row||w.row,a=y.column||w.column,i=tt.getVTRowIndex(r),s={row:r,rowIndex:tt.getRowIndex(r),$rowIndex:tt.getVMRowIndex(r),_rowIndex:i,column:a,columnIndex:tt.getColumnIndex(a),$columnIndex:tt.getVMColumnIndex(a),_columnIndex:tt.getVTColumnIndex(a),$table:tt};if(!o||!1!==o(s)){if(e&&i>=d.length-1)return tt.insertAt({},-1).then((({row:e})=>{tt.scrollToRow(e,a),tt.handleSelected(Object.assign(Object.assign({},t),{row:e}),n)})),void tt.dispatchEvent("enter-append-row",s,n);tt.moveSelected(t,V,!1,$,!0,n),l&&l(s)}}}else if(r&&(x.isCurrent||i)&&u){const e=u[D];if(e&&e.length){n.preventDefault();const t=e[0],o={$table:tt,row:t,rowIndex:E.getRowIndex(t),$rowIndex:E.getVMRowIndex(t)};E.setTreeExpand(u,!0).then((()=>E.scrollToRow(t))).then((()=>T.triggerCurrentRowEvent(n,o)))}}}else if(H&&l&&f.isArrow)U||(y.row&&y.column?tt.moveSelected(y.args,V,A,$,F,n):(A||F)&&(x.isCurrent||i)&&tt.moveCurrentRow(A,F,n));else if(M&&l&&f.isTab)y.row||y.column?tt.moveTabSelected(y.args,z,n):(w.row||w.column)&&tt.moveTabSelected(w.args,z,n);else if(l&&f.isDel&&N&&Gw(a)&&(y.row||y.column)){if(!U){const{delMethod:e}=f,t={row:y.row,rowIndex:E.getRowIndex(y.row),column:y.column,columnIndex:E.getColumnIndex(y.column),$table:tt,$grid:ne};K&&!K(t)||(e?e(t):CS(y.row,y.column,null),E.updateFooter(),tn("cell-delete-value",t,n))}}else if(I&&l&&f.isBack&&Gw(a)&&(y.row||y.column)){if(!U){const{backMethod:e}=f;if(f.isDel&&Gw(a)&&(y.row||y.column)){const t={row:y.row,rowIndex:E.getRowIndex(y.row),column:y.column,columnIndex:E.getColumnIndex(y.column),$table:tt,$grid:ne};K&&!K(t)||(e?e(t):(CS(y.row,y.column,null),tt.handleEdit(y.args,n)),tn("cell-backspace-value",t,n))}}}else if(I&&l&&r&&f.isBack&&(x.isCurrent||i)&&u){const{parent:e}=rp.findTree(S.afterTreeFullData,(e=>e===u),{children:D});if(e){n.preventDefault();const t={row:e,rowIndex:E.getRowIndex(e),$rowIndex:E.getVMRowIndex(e),$table:tt,$grid:ne};E.setTreeExpand(e,!1).then((()=>E.scrollToRow(e))).then((()=>T.triggerCurrentRowEvent(n,t)))}}else if(l&&Gw(a)&&f.isEdit&&!j&&!B&&(R||O>=48&&O<=57||O>=65&&O<=90||O>=96&&O<=111||O>=186&&O<=192||O>=219&&O<=222)){const{editMode:e,editMethod:t}=f;if(y.column&&y.row&&Gw(y.column.editRender)){const o=h.beforeEditMethod||h.activeMethod,l={row:y.row,rowIndex:E.getRowIndex(y.row),column:y.column,columnIndex:E.getColumnIndex(y.column),$table:tt,$grid:ne};o&&!o(Object.assign(Object.assign({},y.args),{$table:tt,$grid:ne}))||(t?t(l):("insert"!==e&&CS(y.row,y.column,null),tt.handleEdit(y.args,n)))}}tn("keydown",{},n)}))},sn=t=>{const{keyboardConfig:n,mouseConfig:o}=e,{editStore:l,filterStore:r}=C,{isActivated:a}=S,i=Oe.value,s=Ie.value,{actived:c}=l;a&&!r.visible&&(c.row||c.column||n&&s.isClip&&o&&i.area&&tt.handlePasteCellAreaEvent&&tt.handlePasteCellAreaEvent(t),tn("paste",{},t))},cn=t=>{const{keyboardConfig:n,mouseConfig:o}=e,{editStore:l,filterStore:r}=C,{isActivated:a}=S,i=Oe.value,s=Ie.value,{actived:c}=l;a&&!r.visible&&(c.row||c.column||n&&s.isClip&&o&&i.area&&tt.handleCopyCellAreaEvent&&tt.handleCopyCellAreaEvent(t),tn("copy",{},t))},un=t=>{const{keyboardConfig:n,mouseConfig:o}=e,{editStore:l,filterStore:r}=C,{isActivated:a}=S,i=Oe.value,s=Ie.value,{actived:c}=l;a&&!r.visible&&(c.row||c.column||n&&s.isClip&&o&&i.area&&tt.handleCutCellAreaEvent&&tt.handleCutCellAreaEvent(t),tn("cut",{},t))},dn=()=>{tt.closeMenu&&tt.closeMenu();const e=D.value;if(!e||!e.clientWidth)return t();E.recalculate(!0),E.updateCellAreas()},pn=e=>{const t=O.value;clearTimeout(S.tooltipTimeout),e?E.closeTooltip():t&&t.setActived&&t.setActived(!0)},mn=()=>{const{dragRow:e,dragCol:t}=C;(e||t)&&(gn(),fn(),vn(),C.dragRow=null,C.dragCol=null,C.isDragColMove=!1,C.isDragRowMove=!1)},fn=()=>{const e=D.value;if(e){const t="row--drag-origin";rp.arrayEach(e.querySelectorAll(`.${t}`),(e=>{e.draggable=!1,XC(e,t)}))}},gn=()=>{const e=D.value;if(e){const t="col--drag-origin";rp.arrayEach(e.querySelectorAll(`.${t}`),(e=>{e.draggable=!1,XC(e,t)}))}},hn=(e,t,n,o,l)=>{const r=D.value;if(!r)return;const{scrollbarWidth:a,scrollbarHeight:i}=C,{prevDragToChild:s}=S,c=r.getBoundingClientRect(),u=r.clientWidth,d=r.clientHeight;if(t){const e=G.value;if(e)if(o){const n=t.getBoundingClientRect();let o=t.clientHeight;const r=Math.max(1,n.y-c.y);r+o>d-i&&(o=d-r-i),e.style.display="block",e.style.top=`${r}px`,e.style.height=`${o}px`,e.style.width=u-a+"px",e.setAttribute("drag-pos",l),e.setAttribute("drag-to-child",s?"y":"n")}else e.style.display=""}else if(n){const e=Y.value;if(e)if(o){const t=z.value,o=t?t.clientWidth:0,r=W.value,p=r?r.clientWidth:0,m=n.getBoundingClientRect();let f=n.clientWidth;const g=Math.max(0,m.y-c.y),h=o;let v=m.x-c.x;v<h&&(f-=h-v,v=h);const b=u-p-(p?0:a);v+f>b&&(f=b-v),e.style.display="block",e.style.top=`${g}px`,e.style.left=`${v}px`,e.style.width=`${f}px`,e.style.height=s?`${m.height}px`:d-g-i+"px",e.setAttribute("drag-pos",l),e.setAttribute("drag-to-child",s?"y":"n")}else e.style.display=""}const p=K.value;p&&(p.style.display="block",p.style.top=`${Math.min(r.clientHeight-r.scrollTop-p.clientHeight,e.clientY-c.y)}px`,p.style.left=`${Math.min(r.clientWidth-r.scrollLeft-p.clientWidth-16,e.clientX-c.x)}px`,p.setAttribute("drag-status",o?s?"sub":"normal":"disabled"))},vn=()=>{const e=K.value,t=G.value,n=Y.value;e&&(e.style.display=""),t&&(t.style.display=""),n&&(n.style.display="")},bn=(e,n,o,l,r)=>{r.cell=n;const{tooltipStore:a}=C,i=we.value,{column:s,row:c}=r,{showAll:u,contentMethod:d}=i,p=d?d(r):null,m=d&&!rp.eqNull(p),f=m?p:rp.toString("html"===s.type?o.innerText:o.textContent).trim(),g=o.scrollWidth>o.clientWidth;return f&&(u||m||g)&&(Object.assign(a,{row:c,column:s,visible:!0,currOpts:{}}),t((()=>{const e=O.value;e&&e.open&&e.open(g?o:l||o,tC(f))}))),t()},xn=(e,t)=>{if(e){if(ne)return ne.callSlot(e,t);if(rp.isFunction(e))return BS(e(t))}return[]};T={getSetupOptions:()=>UE(),updateAfterDataIndex:Ct,callSlot:xn,getParentElem(){const e=D.value;if(ne){const e=ne.getRefMaps().refElem.value;return e?e.parentNode:null}return e?e.parentNode:null},getParentHeight(){const{height:t}=e,n=D.value;if(n){const e=n.parentNode,o="100%"===t||"auto"===t?tS(e):0;return Math.floor(ne?ne.getParentHeight():rp.toNumber(getComputedStyle(e).height)-o)}return 0},getExcludeHeight:()=>ne?ne.getExcludeHeight():0,defineField(t){const{treeConfig:n}=e,o=je.value,l=ze.value,r=xe.value,a=ye.value,i=l.children||l.childrenField,s=fS(tt);return rp.isArray(t)||(t=[t]),t.map((e=>{S.tableFullColumn.forEach((t=>{const{field:n,editRender:o}=t;if(n&&!rp.has(e,n)&&!e[n]){let l=null;if(o){const{defaultValue:e}=o;rp.isFunction(e)?l=e({column:t}):rp.isUndefined(e)||(l=e)}rp.set(e,n,l)}}));return[r.labelField,a.checkField,a.labelField,o.labelField].forEach((t=>{t&&nC(rp.get(e,t))&&rp.set(e,t,null)})),n&&l.lazy&&rp.isUndefined(e[i])&&(e[i]=null),nC(rp.get(e,s))&&rp.set(e,s,mS()),e}))},handleTableData(n){const{scrollYLoad:o}=C,{scrollYStore:l,fullDataRowIdData:r}=S;let a=S.afterFullData;n&&((()=>{const{treeConfig:t}=e,{tableFullColumn:n,tableFullData:o,tableFullTreeData:l}=S,r=De.value,a=Te.value,i=ze.value,s=i.children||i.childrenField,{transform:c}=i,{remote:u,filterMethod:d}=r,{remote:p,sortMethod:m,multiple:f,chronological:g}=a;let h=[],v=[];if(u&&p)t&&c?(v=rp.searchTree(l,(()=>!0),{original:!0,isEvery:!0,children:i.mapChildrenField,mapChildren:s}),h=v):(h=t?l.slice(0):o.slice(0),v=h);else{const e=[];let r=[];if(n.forEach((t=>{const{field:n,sortable:o,order:l,filters:a}=t;if(!u&&a&&a.length){const n=[],o=[];a.forEach((e=>{e.checked&&(o.push(e),n.push(e.value))})),o.length&&e.push({column:t,valueList:n,itemList:o})}!p&&o&&l&&r.push({column:t,field:n,property:n,order:l,sortTime:t.sortTime})})),f&&g&&r.length>1&&(r=rp.orderBy(r,"sortTime")),!u&&e.length){const n=t=>e.every((({column:e,valueList:n,itemList:o})=>{const{filterMethod:l,filterRender:r}=e,a=Gw(r)?YE.get(r.name):null,i=a?a.tableFilterMethod||a.filterMethod:null,s=a?a.tableFilterDefaultMethod||a.defaultTableFilterMethod||a.defaultFilterMethod:null,c=wS(t,e);return l?o.some((n=>l({value:n.value,option:n,cellValue:c,row:t,column:e,$table:tt}))):i?o.some((n=>i({value:n.value,option:n,cellValue:c,row:t,column:e,$table:tt}))):d?d({options:o,values:n,cellValue:c,row:t,column:e}):s?o.some((n=>s({value:n.value,option:n,cellValue:c,row:t,column:e,$table:tt}))):n.indexOf(rp.get(t,e.field))>-1}));t&&c?(v=rp.searchTree(l,n,{original:!0,isEvery:!0,children:i.mapChildrenField,mapChildren:s}),h=v):(h=t?l.filter(n):o.filter(n),v=h)}else t&&c?(v=rp.searchTree(l,(()=>!0),{original:!0,isEvery:!0,children:i.mapChildrenField,mapChildren:s}),h=v):(h=t?l.slice(0):o.slice(0),v=h);if(!p&&r.length)if(t&&c){if(m){const e=m({data:v,sortList:r,$table:tt});v=rp.isArray(e)?e:v}else v=rp.orderBy(v,r.map((({column:e,order:t})=>[wt(e),t])));h=v}else{if(m){const e=m({data:h,sortList:r,$table:tt});h=rp.isArray(e)?e:h}else h=rp.orderBy(h,r.map((({column:e,order:t})=>[wt(e),t])));v=h}}S.afterFullData=h,S.afterTreeFullData=v,Ct()})(),a=St());const i=o?a.slice(l.startIndex,l.endIndex):a.slice(0);return i.forEach(((e,t)=>{const n=gS(tt,e),o=r[n];o&&(o.$index=t)})),C.tableData=i,t()},cacheRowMap(t){const{treeConfig:n}=e,o=ze.value,{fullAllDataRowIdData:l,tableFullData:r,tableFullTreeData:a}=S,i=o.children||o.childrenField,s=o.hasChild||o.hasChildField,c=fS(tt),u=n&&o.lazy,d={},p={},m=(e,o,r,a,m,f)=>{let g=gS(tt,e);const h=n&&a?function(e){return e.map(((e,t)=>t%2==0?Number(e)+1:".")).join("")}(a):o+1,v=f?f.length-1:0;nC(g)&&(g=mS(),rp.set(e,c,g)),u&&e[s]&&rp.isUndefined(e[i])&&(e[i]=null);let b=l[g];b||(b={row:e,rowid:g,seq:h,index:-1,_index:-1,$index:-1,items:r,parent:m,level:v,height:0,oTop:0}),b.row=e,b.items=r,b.parent=m,b.level=v,b.index=n&&m?-1:o,t&&(p[g]=b),d[g]=b};t&&(S.fullDataRowIdData=p),S.fullAllDataRowIdData=d,n?rp.eachTree(a,m,{children:i}):r.forEach(m)},cacheSourceMap(t){const{treeConfig:n}=e,o=ze.value;let{sourceDataRowIdData:l}=S;const r=rp.clone(t,!0),a=fS(tt);l=S.sourceDataRowIdData={};const i=e=>{let t=gS(tt,e);nC(t)&&(t=mS(),rp.set(e,a,t)),l[t]=e};if(n){const e=o.children||o.childrenField;rp.eachTree(r,i,{children:o.transform?o.mapChildrenField:e})}else r.forEach(i);S.tableSourceData=r},analyColumnWidth(){const{tableFullColumn:e}=S,t=de.value,{width:n,minWidth:o}=t,l=[],r=[],a=[],i=[],s=[],c=[],u=[],d=[];e.forEach((e=>{n&&!e.width&&(e.width=n),o&&!e.minWidth&&(e.minWidth=o),e.visible&&(e.resizeWidth?l.push(e):"auto"===e.width?u.push(e):KC(e.width)?r.push(e):GC(e.width)?s.push(e):KC(e.minWidth)?a.push(e):"auto"===e.minWidth?i.push(e):GC(e.minWidth)?c.push(e):d.push(e))})),Object.assign(C.columnStore,{resizeList:l,pxList:r,pxMinList:a,autoMinList:i,scaleList:s,scaleMinList:c,autoList:u,remainList:d})},handleResizeDblclickEvent(e,t){const n=ve.value,{isDblclickAutoWidth:o}=n,l=D.value;if(o&&l){const{fullColumnIdData:n}=S,{column:o}=t,r=n[o.id],a=e.target.parentNode,i=ES(Object.assign(t,{cell:a}));let s=vt(o,l);r&&(s=Math.max(s,r.width)),o.resizeWidth=Math.max(i,s),C._isResize=!1,S._lastResizeTime=Date.now(),tt.analyColumnWidth(),tt.recalculate(!0).then((()=>{tt.saveCustomStore("update:visible"),tt.updateCellAreas(),tt.dispatchEvent("resizable-change",Object.assign(Object.assign({},t),{resizeWidth:s}),e),setTimeout((()=>tt.recalculate(!0)),300)}))}},saveCustomStore(n){const{customConfig:o}=e,l=le.value,r=Ue.value,{updateStore:a,storage:i}=r,s=!0===i,c=s?{}:Object.assign({},i||{}),u=s||c.resizable,d=s||c.visible,p=s||c.fixed,m=s||c.sort;if("reset"!==n&&(C.isCustomStatus=!0),(o?Gw(r):r.enabled)&&(u||d||p||m)){if(!l)return $C("vxe.error.reqProp",["id"]),t();const e="reset"===n?{resizableData:{},sortData:{},visibleData:{},fixedData:{}}:E.getCustomStoreData();if(a)return a({id:l,type:n,storeData:e});((e,t)=>{const n=UE().version,o=lt();o[e]=t||void 0,o._v=n,localStorage.setItem(rT,rp.toJSONString(o))})(l,"reset"===n?null:e)}return t()},handleCustom(){const{mouseConfig:t}=e;return t&&(tt.clearSelected&&tt.clearSelected(),tt.clearCellAreas&&(tt.clearCellAreas(),tt.clearCopyCellArea())),T.analyColumnWidth(),E.refreshColumn(!0)},handleUpdateDataQueue(){C.upDataFlag++},handleRefreshColumnQueue(){C.reColumnFlag++},preventEvent(e,t,n,o,l){let r,a=JE.get(t);return a.length||"event.clearEdit"!==t||(a=JE.get("event.clearActived")),a.some((t=>!1===t(Object.assign({$grid:ne,$table:tt,$event:e},n))))||o&&(r=o()),l&&l(),r},updateCheckboxStatus(){const{treeConfig:t}=e,{selectCheckboxMaps:n,treeIndeterminateMaps:o}=C,l=Object.assign({},n),r=Object.assign({},o),a=ze.value,{transform:i,mapChildrenField:s}=a,c=a.children||a.childrenField,u=ye.value,{checkField:d,checkStrictly:p,checkMethod:m}=u,{afterTreeFullData:f}=S;if(!p){if(t){const e={},t=[];rp.eachTree(f,(n=>{const o=gS(tt,n),l=n[i?s:c];l&&l.length&&!e[o]&&(e[o]=1,t.unshift([n,o,l]))}),{children:i?s:c}),t.forEach((e=>{const t=e[0],n=e[1],o=e[2];let a=0,i=0,s=0;o.forEach(m?e=>{const t=gS(tt,e),n=d?rp.get(e,d):l[t];m({row:e})?(n?a++:r[t]&&i++,s++):n?a++:r[t]&&i++}:e=>{const t=gS(tt,e);(d?rp.get(e,d):l[t])?a++:r[t]&&i++,s++});const c=a>=s,u=!c&&(a>=1||i>=1);d&&rp.get(t,d,c),c?(d||(l[n]=t),r[n]&&delete r[n]):(d||l[n]&&delete l[n],u?r[n]=t:r[n]&&delete r[n])}))}C.selectCheckboxMaps=l,C.treeIndeterminateMaps=r}},updateAllCheckboxStatus(){const{treeConfig:t}=e,{selectCheckboxMaps:n,treeIndeterminateMaps:o}=C,l=ye.value,{checkField:r,checkMethod:a}=l,{afterFullData:i,afterTreeFullData:s}=S;let c=0,u=0,d=0;const p=t?s:i;p.forEach(a?e=>{const t=gS(tt,e),l=r?rp.get(e,r):n[t];a({row:e})?(l?c++:o[t]&&u++,d++):l?c++:o[t]&&u++}:e=>{const t=gS(tt,e);(r?rp.get(e,r):n[t])?c++:o[t]&&u++,d++});const m=p.length>0&&c>=d,f=!m&&(c>=1||u>=1);C.isAllSelected=m,C.isIndeterminate=f},checkSelectionStatus(){tt.updateCheckboxStatus(),tt.updateAllCheckboxStatus()},handleBatchSelectRows(t,n,o){const{treeConfig:l}=e,{selectCheckboxMaps:r}=C,a=Object.assign({},r),i=ze.value,{transform:s,mapChildrenField:c}=i,u=i.children||i.childrenField,d=ye.value,{checkField:p,checkStrictly:m,checkMethod:f}=d,g=d.indeterminateField||d.halfField;return p?l&&!m?(rp.eachTree(t,(e=>{(o||!f||f({row:e}))&&(rp.set(e,p,n),g&&rp.set(e,g,!1),Ot(e,n))}),{children:s?c:u}),void(C.selectCheckboxMaps=a)):(t.forEach((e=>{(o||!f||f({row:e}))&&(rp.set(e,p,n),Ot(e,n))})),void(C.selectCheckboxMaps=a)):l&&!m?(rp.eachTree(t,(e=>{const t=gS(tt,e);(o||!f||f({row:e}))&&(n?a[t]=e:a[t]&&delete a[t],Ot(e,n))}),{children:s?c:u}),void(C.selectCheckboxMaps=a)):(t.forEach((e=>{const t=gS(tt,e);(o||!f||f({row:e}))&&(n?a[t]||(a[t]=e):a[t]&&delete a[t],Ot(e,n))})),void(C.selectCheckboxMaps=a))},handleSelectRow({row:e},t,n){tt.handleBatchSelectRows([e],t,n)},triggerHeaderTitleEvent(e,n,o){const l=n.content||n.message;if(l){const{tooltipStore:r}=C,{column:a}=o,i=eC(l);pn(!0),r.row=null,r.column=a,r.visible=!0,r.currOpts=n,t((()=>{const t=O.value;t&&t.open&&t.open(e.currentTarget,i)}))}},triggerHeaderTooltipEvent(e,t){const{tooltipStore:n}=C,{column:o}=t,l=e.currentTarget;pn(!0),n.column===o&&n.visible||bn(0,l,l,null,t)},triggerBodyTooltipEvent(t,n){const{editConfig:o}=e,{editStore:l}=C,{tooltipStore:r}=C,a=Ee.value,{actived:i}=l,{row:s,column:c}=n,u=t.currentTarget;if(pn(r.column!==c||r.row!==s),c.editRender&&Gw(o)){if("row"===a.mode&&i.row===s)return;if(i.row===s&&i.column===c)return}if(r.column!==c||r.row!==s||!r.visible){let e,t;c.treeNode?(e=u.querySelector(".vxe-tree-cell"),"html"===c.type&&(t=u.querySelector(".vxe-cell--html"))):t=u.querySelector("html"===c.type?".vxe-cell--html":".vxe-cell--label"),bn(0,u,e||u.children[0],t,n)}},triggerFooterTooltipEvent(e,t){const{column:n}=t,{tooltipStore:o}=C,l=e.currentTarget;pn(o.column!==n||!!o.row),o.column===n&&o.visible||bn(0,l,l.querySelector(".vxe-cell--item")||l.children[0],null,t)},handleTargetLeaveEvent(){const e=we.value;let t=O.value;t&&t.setActived&&t.setActived(!1),e.enterable?S.tooltipTimeout=setTimeout((()=>{t=O.value,t&&t.isActived&&!t.isActived()&&E.closeTooltip()}),e.leaveDelay):E.closeTooltip()},triggerHeaderCellClickEvent(t,n){const{_lastResizeTime:o}=S,l=Te.value,r=de.value,{column:a}=n,i=t.currentTarget,s=o&&o>Date.now()-300,c=rS(t,i,"vxe-cell--sort").flag,u=rS(t,i,"vxe-cell--filter").flag;"cell"!==l.trigger||s||c||u||T.triggerSortEvent(t,a,ot(a)),tn("header-cell-click",Object.assign({triggerResizable:s,triggerSort:c,triggerFilter:u,cell:i},n),t),(r.isCurrent||e.highlightCurrentColumn)&&T.triggerCurrentColumnEvent(t,n)},triggerHeaderCellDblclickEvent(e,t){tn("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},triggerCellClickEvent(t,n){const{highlightCurrentRow:o,editConfig:l}=e,{editStore:r}=C,a=je.value,i=Ee.value,s=ze.value,c=xe.value,u=ye.value,d=Ie.value,p=me.value,{actived:m,focused:f}=r,{row:g,column:h}=n,{type:v,treeNode:b}=h,x="radio"===v,y="checkbox"===v,w="expand"===v,S=t.currentTarget,E=x&&rS(t,S,"vxe-cell--radio").flag,D=y&&rS(t,S,"vxe-cell--checkbox").flag,O=b&&rS(t,S,"vxe-tree--btn-wrapper").flag,k=w&&rS(t,S,"vxe-table--expanded").flag;n=Object.assign({cell:S,triggerRadio:E,triggerCheckbox:D,triggerTreeNode:O,triggerExpandNode:k},n),D||E||(!k&&("row"===a.trigger||w&&"cell"===a.trigger)&&T.triggerRowExpandEvent(t,n),("row"===s.trigger||b&&"cell"===s.trigger)&&T.triggerTreeExpandEvent(t,n)),O||(k||((p.isCurrent||o)&&(D||E||T.triggerCurrentRowEvent(t,n)),!E&&("row"===c.trigger||x&&"cell"===c.trigger)&&T.triggerRadioRowEvent(t,n),!D&&("row"===u.trigger||y&&"cell"===u.trigger)&&T.handleToggleCheckRowEvent(t,n)),Gw(l)&&(d.arrowCursorLock&&t&&"cell"===i.mode&&t.target&&/^input|textarea$/i.test(t.target.tagName)&&(f.column=h,f.row=g),"manual"===i.trigger?m.args&&m.row===g&&h!==m.column&&Dt(t,n):m.args&&g===m.row&&h===m.column||("click"===i.trigger||"dblclick"===i.trigger&&"row"===i.mode&&m.row===g)&&Dt(t,n))),Gw(l)&&"dblclick"===i.trigger&&m.row&&m.column&&("row"===i.mode?tt.eqRow(m.row,g)||tt.handleClearEdit(t):"cell"===i.mode&&(tt.eqRow(m.row,g)&&m.column.id===h.id||tt.handleClearEdit(t))),tn("cell-click",n,t)},triggerCellDblclickEvent(t,n){const{editConfig:o}=e,{editStore:l}=C,r=Ee.value,{actived:a}=l,i=t.currentTarget;n=Object.assign({cell:i},n),Gw(o)&&"dblclick"===r.trigger&&(a.args&&t.currentTarget===a.args.cell||("row"===r.mode?Tt("blur").catch((e=>e)).then((()=>{tt.handleEdit(n,t).then((()=>Tt("change"))).catch((e=>e))})):"cell"===r.mode&&tt.handleEdit(n,t).then((()=>Tt("change"))).catch((e=>e)))),tn("cell-dblclick",n,t)},handleToggleCheckRowEvent(e,t){const{selectCheckboxMaps:n}=C,o=ye.value,{checkField:l,trigger:r}=o,{row:a}=t;if("manual"===r)return;let i=!1;i=l?!rp.get(a,l):!n[gS(tt,a)],e?T.triggerCheckRowEvent(e,t,i):(T.handleBatchSelectRows([a],i),T.checkSelectionStatus())},triggerCheckRowEvent(t,n,o){const l=ye.value,{row:r}=n,{afterFullData:a}=S,{checkMethod:i,trigger:s}=l;if("manual"!==s){if(t.stopPropagation(),l.isShiftKey&&t.shiftKey&&!e.treeConfig){const e=E.getCheckboxRecords();if(e.length){const o=e[0],l=E.getVTRowIndex(r),i=E.getVTRowIndex(o);if(l!==i){E.setAllCheckboxRow(!1);const e=l<i?a.slice(l,i+1):a.slice(i,l+1);return It(e,!0,!1),void tn("checkbox-range-select",Object.assign({rangeRecords:e},n),t)}}}i&&!i({row:r})||(T.handleBatchSelectRows([r],o),T.checkSelectionStatus(),tn("checkbox-change",Object.assign({records:E.getCheckboxRecords(),reserves:E.getCheckboxReserveRecords(),indeterminates:E.getCheckboxIndeterminateRecords(),checked:o},n),t))}},triggerCheckAllEvent(e,t){const n=ye.value,{trigger:o}=n;"manual"!==o&&(e&&e.stopPropagation(),Gt(e,t))},triggerRadioRowEvent(e,t){const{selectRadioRow:n}=C,{row:o}=t,l=xe.value,{trigger:r}=l;if("manual"===r)return;e.stopPropagation();let a=o,i=n!==a;i?kt(a):l.strict||(i=n===a,i&&(a=null,E.clearRadioRow())),i&&tn("radio-change",Object.assign({oldValue:n,newValue:a},t),e)},triggerCurrentColumnEvent(e,t){const n=de.value,{currentMethod:o}=n,{column:l}=t;o&&!o({column:l})||E.setCurrentColumn(l)},triggerCurrentRowEvent(e,t){const{currentRow:n}=C,o=me.value,{currentMethod:l}=o,{row:r}=t,a=n!==r;l&&!l({row:r})||(E.setCurrentRow(r),a&&tn("current-change",Object.assign({oldValue:n,newValue:r},t),e))},triggerRowExpandEvent(e,t){const{rowExpandLazyLoadedMaps:n,expandColumn:o}=C,l=je.value,{row:r}=t,{lazy:a,trigger:i}=l;if("manual"===i)return;e.stopPropagation();const s=gS(tt,r);if(!a||!n[s]){const t=!E.isRowExpandByRow(r),n=E.getColumnIndex(o),l=E.getVMColumnIndex(o);E.setRowExpand(r,t),tn("toggle-row-expand",{expanded:t,column:o,columnIndex:n,$columnIndex:l,row:r,rowIndex:E.getRowIndex(r),$rowIndex:E.getVMRowIndex(r)},e)}},triggerTreeExpandEvent(e,t){const{treeExpandLazyLoadedMaps:n}=C,o=ze.value,{row:l,column:r}=t,{lazy:a,trigger:i}=o;if("manual"===i)return;e.stopPropagation();const s=gS(tt,l);if(!a||!n[s]){const t=!E.isTreeExpandByRow(l),n=E.getColumnIndex(r),o=E.getVMColumnIndex(r);E.setTreeExpand(l,t),tn("toggle-tree-expand",{expanded:t,column:r,columnIndex:n,$columnIndex:o,row:l},e)}},handleColumnSortEvent(t,n){const{mouseConfig:o}=e,l=Oe.value,{field:r,sortable:a}=n;if(a){const e={$table:tt,$event:t,column:n,field:r,property:r,order:n.order,sortList:E.getSortColumns(),sortTime:n.sortTime};o&&l.area&&tt.handleSortEvent&&tt.handleSortEvent(t,e),tn("sort-change",e,t)}},triggerSortEvent(e,t,n){const o=Te.value,{field:l,sortable:r}=t;r&&(n&&t.order!==n?E.sort({field:l,order:n}):E.clearSort(o.multiple?t:null),tt.handleColumnSortEvent(e,t))},triggerHeaderCellMousedownEvent(t,n){const{mouseConfig:o}=e,l=Oe.value,r=de.value,a=ge.value,{trigger:i,isCrossDrag:s,isPeerDrag:c,disabledMethod:u}=a,d=t.currentTarget,p=d&&d.tagName&&"input"===d.tagName.toLowerCase(),m=rS(t,d,"vxe-cell--checkbox").flag,f=rS(t,d,"vxe-cell--sort").flag,g=rS(t,d,"vxe-cell--filter").flag;let h=!1;const v=r.drag&&"cell"===i;if(!(p||m||f||g)){const{column:e}=n;!v||e.fixed||!s&&!c&&e.parentId||u&&u(n)||(h=!0,tt.handleHeaderCellDragMousedownEvent(t,n))}!h&&o&&l.area&&tt.handleHeaderCellAreaEvent&&tt.handleHeaderCellAreaEvent(t,Object.assign({cell:d,triggerSort:f,triggerFilter:g},n)),tt.focus(),tt.closeMenu&&tt.closeMenu()},triggerCellMousedownEvent(e,t){const{column:n}=t,{type:o,treeNode:l}=n,r="radio"===o,a="checkbox"===o,i="expand"===o,s=me.value,c=fe.value,{trigger:u,isCrossDrag:d,isPeerDrag:p,disabledMethod:m}=c,f=e.currentTarget;t.cell=f;const g=f&&f.tagName&&"input"===f.tagName.toLowerCase(),h=r&&rS(e,f,"vxe-cell--radio").flag,v=a&&rS(e,f,"vxe-cell--checkbox").flag,b=l&&rS(e,f,"vxe-tree--btn-wrapper").flag,x=i&&rS(e,f,"vxe-table--expanded").flag;let y=!1;s.drag&&(y="row"===u||n.dragSort&&"cell"===u);let w=!1;g||h||v||b||x||!y||!d&&!p&&t.level||m&&m(t)||(w=!0,tt.handleCellDragMousedownEvent(e,t)),!w&&tt.handleCellMousedownEvent&&tt.handleCellMousedownEvent(e,t),tt.focus(),tt.closeFilter(),tt.closeMenu&&tt.closeMenu()},triggerCellMouseupEvent(){mn()},handleRowDragDragstartEvent(e){e.dataTransfer&&e.dataTransfer.setDragImage(WC(),0,0)},handleRowDragSwapEvent(n,o,l,r,a,i){const{treeConfig:s,dragConfig:c}=e,u=fe.value,{fullAllDataRowIdData:d}=S,{isPeerDrag:p,isCrossDrag:m,isSelfToChildDrag:f,dragEndMethod:g}=u,h=ze.value,{transform:v,rowField:b,mapChildrenField:x,parentField:y}=h,w=h.children||h.childrenField,{afterFullData:E,tableFullData:T}=S,D=g||(c?c.dragEndMethod:null),O="bottom"===a?1:0;return r&&l&&r!==l?Promise.resolve(!D||D({oldRow:l,newRow:r,dragPos:a,dragToChild:!!i,offsetIndex:O})).then((e=>{if(!e)return;let o=-1,c=-1;if(s){if(v){const e=gS(tt,l),t=d[e],n=gS(tt,r),o=d[n];if(t&&o){const{level:e}=t,{level:a}=o,s={};rp.eachTree([l],(e=>{s[gS(tt,e)]=e}),{children:x});let c=!1;if(e&&a)if(p&&!m){if(t.row[y]!==o.row[y])return}else{if(!m)return;if(s[n]&&(c=!0,!m||!f))return void(Rm.modal&&Rm.modal.message({status:"error",content:GE("vxe.error.treeDragChild")}))}else if(e){if(!m)return}else if(a){if(!m)return;if(s[n]&&(c=!0,!m||!f))return void(Rm.modal&&Rm.modal.message({status:"error",content:GE("vxe.error.treeDragChild")}))}const u=rp.toTreeArray(S.afterTreeFullData,{children:w}),d=tt.findRowIndexOf(u,l);u.splice(d,1);const g=tt.findRowIndexOf(u,r)+O;u.splice(g,0,l),c&&m&&f&&rp.each(l[w],(e=>{e[y]=l[y]})),l[y]=i?r[b]:r[y],S.tableFullTreeData=rp.toArrayTree(u,{key:h.rowField,parentKey:h.parentField,children:w,mapChildren:h.mapChildrenField})}}}else{o=tt.findRowIndexOf(E,l);const e=tt.findRowIndexOf(T,l);E.splice(o,1),T.splice(e,1);const t=tt.findRowIndexOf(E,r),n=tt.findRowIndexOf(T,r);c=t+O;const a=n+O;E.splice(c,0,l),T.splice(a,0,l)}C.isDragRowMove=!0,tt.handleTableData(s&&v),tt.cacheRowMap(),Ut(),s&&v||tt.updateAfterDataIndex(),tt.checkSelectionStatus(),C.scrollYLoad&&tt.updateScrollYSpace(),t().then((()=>{tt.updateCellAreas(),tt.recalculate()})),tn("row-dragend",{oldRow:l,newRow:r,dragPos:a,dragToChild:!!i,offsetIndex:O,_index:{newIndex:c,oldIndex:o}},n)})).catch((()=>{})):Promise.resolve()},handleRowDragDragendEvent(t){const{treeConfig:n}=e,{fullAllDataRowIdData:o,prevDragToChild:l}=S,{dragRow:r}=C,a=ze.value,{lazy:i}=a,s=a.hasChild||a.hasChildField,{prevDragRow:c,prevDragPos:u}=S;if(n&&l){if(i){const e=o[gS(tt,c)];c[s]?e&&e.treeLoaded&&tt.handleRowDragSwapEvent(t,!0,r,c,u,l):tt.handleRowDragSwapEvent(t,!0,r,c,u,l)}}else tt.handleRowDragSwapEvent(t,!0,r,c,u,l);vn(),fn(),S.prevDragToChild=!1,C.dragRow=null,C.dragCol=null,setTimeout((()=>{C.isDragRowMove=!1}),500)},handleRowDragDragoverEvent(t){const{treeConfig:n}=e,{fullAllDataRowIdData:o}=S,{dragRow:l}=C,r=ze.value,{lazy:a,transform:i,parentField:s}=r,c=r.hasChild||r.hasChildField,u=fe.value,{isPeerDrag:d,isCrossDrag:p,isToChildDrag:m}=u;if(!l)return void t.preventDefault();const f=t.ctrlKey,g=t.currentTarget,h=o[g.getAttribute("rowid")||""];if(h){const e=h.row,l=o[gS(tt,e)];t.preventDefault();const{dragRow:r}=C,u=t.clientY-g.getBoundingClientRect().y<g.clientHeight/2?"top":"bottom";if(S.prevDragToChild=!!(n&&i&&p&&m&&f),S.prevDragRow=e,S.prevDragPos=u,tt.eqRow(r,e)||f&&n&&a&&e[c]&&l&&!l.treeLoaded||!p&&n&&i&&(d?r[s]!==e[s]:h.level))return void hn(t,g,null,!1,u);hn(t,g,null,!0,u),tn("row-dragover",{oldRow:r,targetRow:e,dragPos:u},t)}},handleCellDragMousedownEvent(t,n){var o;t.stopPropagation();const{dragConfig:l}=e,r=fe.value,{trigger:a,dragStartMethod:i}=r,{row:s}=n,c=t.currentTarget,u="cell"===a||"row"===a?c:null===(o=c.parentElement)||void 0===o?void 0:o.parentElement,d=u.parentElement,p=i||(l?l.dragStartMethod:null);if(fn(),p&&!p(n))return d.draggable=!1,C.dragRow=null,C.dragCol=null,void vn();C.dragRow=s,C.dragCol=null,d.draggable=!0,(e=>{const t=D.value;if(t){const n="row--drag-origin",o=gS(tt,e);rp.arrayEach(t.querySelectorAll(`[rowid="${o}"]`),(e=>{ZC(e,n)}))}})(s),(t=>{const{dragConfig:n}=e,{dragRow:o}=C,l=fe.value,{tooltipMethod:r}=l,a=r||(n?n.rowTooltipMethod:null);let i="";i=a?`${a({row:o})||""}`:GE("vxe.table.dragTip",[t.textContent||""]),C.dragTipText=i})(u),tn("row-dragstart",n,t)},handleCellDragMouseupEvent(){mn()},handleHeaderCellDragDragstartEvent(e){e.dataTransfer&&e.dataTransfer.setDragImage(WC(),0,0)},handleColDragSwapColumn(){jt(),Ht(!1).then((()=>{tt.updateCellAreas(),tt.saveCustomStore("update:sort")}))},handleColDragSwapEvent(t,n,o,l,r,a){const{mouseConfig:i}=e,s=ge.value,{isPeerDrag:c,isCrossDrag:u,isSelfToChildDrag:d,isToChildDrag:p,dragEndMethod:m}=s,{collectColumn:f}=S,g="right"===r?1:0;if(l&&o&&l!==o){const e=o,s=l;return Promise.resolve(!m||m({oldColumn:e,newColumn:s,dragPos:r,dragToChild:!!a,offsetIndex:g})).then((o=>{if(!o)return;let l=-1,m=-1;const h={};rp.eachTree([e],(e=>{h[e.id]=e}));let v=!1;if(e.parentId&&s.parentId)if(c&&!u){if(e.parentId!==s.parentId)return}else{if(!u)return;if(h[s.id]&&(v=!0,!u||!d))return void(Rm.modal&&Rm.modal.message({status:"error",content:GE("vxe.error.treeDragChild")}))}else if(e.parentId){if(!u)return}else if(s.parentId){if(!u)return;if(h[s.id]&&(v=!0,!u||!d))return void(Rm.modal&&Rm.modal.message({status:"error",content:GE("vxe.error.treeDragChild")}))}const b=rp.findTree(f,(t=>t.id===e.id));if(v&&u&&d){if(b){const{items:t,index:n}=b,o=e.children||[];o.forEach((t=>{t.parentId=e.parentId})),t.splice(n,1,...o),e.children=[]}}else if(b){const{items:e,index:t,parent:n}=b;e.splice(t,1),n||(l=t)}const x=rp.findTree(f,(e=>e.id===s.id));if(x){const{items:t,index:n,parent:o}=x;u&&p&&a?(e.parentId=s.id,s.children=(s.children||[]).concat([e])):(e.parentId=s.parentId,t.splice(n+g,0,e)),o||(m=n)}rp.eachTree(f,((e,t,n,o,l)=>{if(!l){const n=t+1;e.renderSortNumber=n}})),C.isDragColMove=!0,i&&(tt.clearSelected&&tt.clearSelected(),tt.clearCellAreas&&(tt.clearCellAreas(),tt.clearCopyCellArea())),tn("column-dragend",{oldColumn:e,newColumn:s,dragPos:r,dragToChild:!!a,offsetIndex:g,_index:{newIndex:m,oldIndex:l}},t),n&&tt.handleColDragSwapColumn()})).catch((()=>{}))}return Promise.resolve()},handleHeaderCellDragDragendEvent(e){const{dragCol:t}=C,{prevDragCol:n,prevDragPos:o,prevDragToChild:l}=S;tt.handleColDragSwapEvent(e,!0,t,n,o,l),vn(),gn(),S.prevDragToChild=!1,C.dragRow=null,C.dragCol=null,setTimeout((()=>{C.isDragColMove=!1,tt.recalculate().then((()=>{zt()}))}),500)},handleHeaderCellDragDragoverEvent(e){const{dragCol:t}=C,n=ge.value,{isToChildDrag:o,isPeerDrag:l,isCrossDrag:r}=n;if(!t)return void e.preventDefault();const a=e.ctrlKey,i=e.currentTarget,s=i.getAttribute("colid"),c=tt.getColumnById(s);if(c){e.preventDefault();const{clientX:n}=e,s=n-i.getBoundingClientRect().x<i.clientWidth/2?"left":"right";if(S.prevDragToChild=!!(r&&o&&a),S.prevDragCol=c,S.prevDragPos=s,c.fixed||t&&t.id===c.id||!r&&(l?t.parentId!==c.parentId:c.parentId))return void hn(e,null,i,!1,s);hn(e,null,i,!0,s),tn("column-dragover",{oldColumn:t,targetColumn:c,dragPos:s},e);const u=D.value;if(!u)return;const d=Q.value,p=A.value,m=p?p.$el:null,f=d||m;if(f){const e=u.getBoundingClientRect(),t=u.clientWidth,o=z.value,l=o?o.clientWidth:0,r=W.value,a=r?r.clientWidth:0,i=28,s=n-(e.x+l),c=e.x+t-a-n;if(s>0&&s<=i){const e=Math.floor(t/(s>i/2?240:120));f.scrollLeft-=e*(i-s)}else if(c>0&&c<=i){const e=Math.floor(t/(c>i/2?240:120));f.scrollLeft+=e*(i-c)}}}},handleHeaderCellDragMousedownEvent(e,t){var n;e.stopPropagation();const o=ge.value,{trigger:l,dragStartMethod:r}=o,{column:a}=t,i=e.currentTarget,s="cell"===l?i:null===(n=i.parentElement)||void 0===n?void 0:n.parentElement;if(C.isDragColMove=!1,gn(),r&&!r(t))return s.draggable=!1,C.dragRow=null,C.dragCol=null,void vn();C.dragCol=a,C.dragRow=null,s.draggable=!0,(e=>{const t=D.value;if(t){const n=[];rp.eachTree([e],(e=>{n.push(`[colid="${e.id}"]`)}));const o="col--drag-origin";rp.arrayEach(t.querySelectorAll(n.join(",")),(e=>{ZC(e,o)}))}})(a),(e=>{const{dragCol:t}=C,n=ge.value,{tooltipMethod:o}=n;let l="";l=o?`${o({column:t})||""}`:GE("vxe.table.dragTip",[e.textContent||""]),C.dragTipText=l})(s),tn("column-dragstart",t,e)},handleHeaderCellDragMouseupEvent(){gn(),vn(),C.dragRow=null,C.dragCol=null,C.isDragColMove=!1},handleScrollEvent(t,n,o,l,r,a){const{highlightHoverRow:i}=e,{lastScrollLeft:s,lastScrollTop:c}=S,u=A.value,d=u?u.$el:null,p=me.value,m=I.value,f=O.value,g=d?d.clientHeight:0,h=d?d.clientWidth:0,v=d?d.scrollHeight:0,b=d?d.scrollWidth:0;let x=!1,y=!1,w=!1,D=!1,k="",M=!1,P=!1,R=!1,V=!1;if(o){const e=ie.value;w=r<=0,w||(D=r+h>=b),r>s?(k="right",r+h>=b-e&&(V=!0)):(k="left",r<=e&&(R=!0)),T.checkScrolling(),S.lastScrollLeft=r}if(n){const e=ce.value;x=l<=0,x||(y=l+g>=v),l>c?(k="bottom",l+g>=v-e&&(P=!0)):(k="top",l<=e&&(M=!0)),S.lastScrollTop=l}C.isDragColMove=!1,C.isDragRowMove=!1,C.lastScrollTime=Date.now();const $=Object.assign({scrollTop:l,scrollLeft:r,bodyHeight:g,bodyWidth:h,scrollHeight:v,scrollWidth:b,isX:o,isY:n,isTop:x,isBottom:y,isLeft:w,isRight:D,direction:k},a);((e,t)=>{const{scrollXLoad:n,scrollYLoad:o}=C,{lcsTimeout:l}=S;l&&clearTimeout(l),S.lcsTimeout=setTimeout((()=>{S.lcsRunTime=Date.now(),S.lcsTimeout=void 0,S.inVirtualScroll=!1,S.inBodyScroll=!1,S.inFooterScroll=!1,S.bodyScrollType="",e&&n&&T.updateScrollXData().then((()=>{zt()})),t&&o&&T.updateScrollYData().then((()=>{Yt()})),E.updateCellAreas()}),200)})(o,n),(p.isHover||i)&&tt.clearHoverRow(),m&&m.reactData.visible&&m.close(),f&&f.reactData.visible&&f.close(),(P||M||V||R)&&tn("scroll-boundary",$,t),tn("scroll",$,t)},triggerScrollXEvent(){ae.value.immediate?zt():(()=>{const{lxTimeout:e,lxRunTime:t,scrollXStore:n}=S,{visibleSize:o}=n,l=Math.min(80,Math.floor(3*o));e&&clearTimeout(e),(!t||t+l<Date.now())&&(S.lxRunTime=Date.now(),zt()),S.lxTimeout=setTimeout((()=>{S.lxTimeout=void 0,S.lxRunTime=void 0,zt()}),l)})()},triggerScrollYEvent(){se.value.immediate?Yt():(()=>{const{lyTimeout:e,lyRunTime:t,scrollYStore:n}=S,{visibleSize:o}=n,l=Math.min(80,Math.floor(o));e&&clearTimeout(e),(!t||t+l<Date.now())&&(S.lyRunTime=Date.now(),Yt()),S.lyTimeout=setTimeout((()=>{S.lyTimeout=void 0,S.lyRunTime=void 0,Yt()}),l)})()},scrollToTreeRow(t){const{treeConfig:n}=e,{tableFullData:o}=S,l=[];if(n){const e=ze.value,n=e.children||e.childrenField,r=rp.findTree(o,(e=>tt.eqRow(e,t)),{children:n});if(r){const e=r.nodes;e.forEach(((t,n)=>{n<e.length-1&&!E.isTreeExpandByRow(t)&&l.push(E.setTreeExpand(t,!0))}))}}return Promise.all(l).then((()=>$S(tt,t)))},updateScrollYStatus:Ut,updateScrollXSpace(){const{isGroup:e,scrollXLoad:n,scrollbarWidth:o}=C,{visibleColumn:l,scrollXStore:r,elemStore:a,tableWidth:i}=S,s=V.value,c=A.value,u=$.value,d=c?c.$el:null;if(d){const c=s?s.$el:null,p=u?u.$el:null,m=c?c.querySelector(".vxe-table--header"):null,f=d.querySelector(".vxe-table--body"),g=p?p.querySelector(".vxe-table--footer"):null,h=l.slice(0,r.startIndex).reduce(((e,t)=>e+t.renderWidth),0);let v="";n&&(v=`${h}px`),m&&(m.style.marginLeft=e?"":v),f.style.marginLeft=v,g&&(g.style.marginLeft=v);["main"].forEach((e=>{["header","body","footer"].forEach((t=>{const l=SS(a[`${e}-${t}-xSpace`]);l&&(l.style.width=n?`${i+("header"===t?o:0)}px`:"")}))}));const b=ee.value;b&&(b.style.width=`${i+o}px`),t((()=>{Et()}))}},updateScrollYSpace(){const{showOverflow:n}=e,{scrollYLoad:o}=C,{scrollYStore:l,elemStore:r,afterFullData:a,fullAllDataRowIdData:i}=S,{startIndex:s,rowHeight:c}=l;let u=0,d=0;let p="",m="";if(o){if(n)u=a.length*c,d=Math.max(0,s*c);else{for(let e=0;e<a.length;e++){const t=a[e],n=i[gS(tt,t)];n&&(u+=n.height||c)}for(let e=0;e<s;e++){const t=a[e],n=i[gS(tt,t)];n&&(d+=n.height||c)}}p=`${d}px`,m=`${u}px`}["main","left","right"].forEach((e=>{const t=SS(r[`${e}-body-table`]);t&&(t.style.marginTop=p),["header","body","footer"].forEach((t=>{const n=SS(r[`${e}-${t}-ySpace`]);n&&(n.style.height=m)}))}));const f=te.value;f&&(f.style.height=m),t(Et)},updateScrollXData(){const{showOverflow:n}=e;return Bt(),yt(),t().then((()=>{yt(),Bt(),T.updateScrollXSpace(),n||T.updateScrollYSpace()}))},updateScrollYData:()=>(T.handleTableData(),yt(),t().then((()=>{yt(),T.handleTableData(),T.updateScrollYSpace()}))),checkScrolling(){const e=z.value,t=W.value,n=A.value,o=n?n.$el:null,l=Q.value||o;l&&(e&&(l.scrollLeft>0?ZC(e,"scrolling--middle"):XC(e,"scrolling--middle")),t&&(l.clientWidth<l.scrollWidth-Math.ceil(l.scrollLeft)?ZC(t,"scrolling--middle"):XC(t,"scrolling--middle")))},updateZindex(){e.zIndex?S.tZindex=e.zIndex:S.tZindex<Qw()&&(S.tZindex=Zw())},handleCheckedCheckboxRow:It,triggerHoverEvent(e,{row:t}){T.setHoverRow(t)},setHoverRow(e){const t=gS(tt,e),n=D.value;T.clearHoverRow(),n&&rp.arrayEach(n.querySelectorAll(`[rowid="${t}"]`),(e=>ZC(e,"row--hover"))),S.hoverRow=e},clearHoverRow(){const e=D.value;e&&rp.arrayEach(e.querySelectorAll(".vxe-body--row.row--hover"),(e=>XC(e,"row--hover"))),S.hoverRow=null},getCell:(e,t)=>E.getCellElement(e,t),findRowIndexOf:(e,t)=>t?rp.findIndexOf(e,(e=>tt.eqRow(e,t))):-1,eqRow:(e,t)=>!(!e||!t)&&(e===t||gS(tt,e)===gS(tt,t))},Object.assign(tt,E,T);const yn=t=>{const{showHeader:n,showFooter:o}=e,{tableData:l,tableColumn:r,tableGroupColumn:a,columnStore:i,footerTableData:s}=C,c="left"===t,u=c?i.leftList:i.rightList;return w("div",{ref:c?z:W,class:`vxe-table--fixed-${t}-wrapper`},[n?w(CE,{ref:c?F:_,fixedType:t,tableData:l,tableColumn:r,tableGroupColumn:a,fixedColumn:u}):lT(tt),w(vE,{ref:c?N:B,fixedType:t,tableData:l,tableColumn:r,fixedColumn:u}),o?w(DE,{ref:c?L:j,footerTableData:s,tableColumn:r,fixedColumn:u,fixedType:t}):lT(tt)])},wn=()=>{const t=We.value,n={$table:tt};if(l.empty)return l.empty(n);{const e=t.name?YE.get(t.name):null,o=e?e.renderTableEmpty||e.renderTableEmptyView||e.renderEmpty:null;if(o)return BS(o(t,n))}return eC(e.emptyText)||GE("vxe.table.emptyText")},Cn=()=>{const{dragConfig:t}=e,{dragRow:n,dragCol:o,dragTipText:l}=C,r=ge.value,a=(fe.value.slots||{}).tip||(t&&t.slots?t.slots.rowTip:null),i=(r.slots||{}).tip;return n&&a?xn(a,{row:n}):o&&i?xn(i,{column:o}):[w("span",l)]},Sn=()=>{const{dragRow:e}=C,t=me.value,n=de.value,o=fe.value,l=ge.value;return t.drag||n.drag?w("div",{class:"vxe-table--drag-wrapper"},[w("div",{ref:G,class:["vxe-table--drag-row-line",{"is--guides":o.showGuidesStatus}]}),w("div",{ref:Y,class:["vxe-table--drag-col-line",{"is--guides":l.showGuidesStatus}]}),w("div",{ref:K,class:"vxe-table--drag-sort-tip"},[w("div",{class:"vxe-table--drag-sort-tip-wrapper"},[w("div",{class:"vxe-table--drag-sort-tip-status"},[w("span",{class:["vxe-table--drag-sort-tip-normal-status",e?KE().TABLE_DRAG_STATUS_ROW:KE().TABLE_DRAG_STATUS_COLUMN]}),w("span",{class:["vxe-table--drag-sort-tip-sub-status",KE().TABLE_DRAG_STATUS_SUB_ROW]}),w("span",{class:["vxe-table--drag-sort-tip-disabled-status",KE().TABLE_DRAG_DISABLED]})]),w("div",{class:"vxe-table--drag-sort-tip-content"},Cn())])])]):lT(tt)};function En(){const e=D.value;e&&e.clientWidth&&e.clientHeight&&E.recalculate()}const Tn=r(0);i((()=>e.data?e.data.length:-1),(()=>{Tn.value++})),i((()=>e.data),(()=>{Tn.value++})),i(Tn,(()=>{const{initStatus:t}=S,n=e.data||[];n.length>=5e4&&AC("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),Nt(n).then((()=>{const{scrollXLoad:e,scrollYLoad:n,expandColumn:o}=C;S.inited=!0,S.initStatus=!0,t||Lt(),(e||n)&&o&&AC("vxe.error.scrollErrProp",["column.type=expand"]),E.recalculate()}))}));const Dn=r(0);i((()=>C.staticColumns.length),(()=>{Dn.value++})),i((()=>C.staticColumns),(()=>{Dn.value++})),i(Dn,(()=>{qt(rp.clone(C.staticColumns))}));const On=r(0);i((()=>C.tableColumn.length),(()=>{On.value++})),i((()=>C.tableColumn),(()=>{On.value++})),i(On,(()=>{T.analyColumnWidth()})),i((()=>C.upDataFlag),(()=>{t((()=>{E.updateData()}))})),i((()=>C.reColumnFlag),(()=>{t((()=>{E.refreshColumn()}))})),i((()=>e.showHeader),(()=>{t((()=>{E.recalculate(!0).then((()=>E.refreshScroll()))}))})),i((()=>e.showFooter),(()=>{t((()=>{E.recalculate(!0).then((()=>E.refreshScroll()))}))}));const kn=r(0);i((()=>e.footerData?e.footerData.length:-1),(()=>{kn.value++})),i((()=>e.footerData),(()=>{kn.value++})),i(kn,(()=>{E.updateFooter()})),i((()=>e.height),(()=>{t((()=>E.recalculate(!0)))})),i((()=>e.maxHeight),(()=>{t((()=>E.recalculate(!0)))})),i(y,(()=>{t((()=>{E.recalculate(!0).then((()=>E.refreshScroll()))}))})),i((()=>e.syncResize),(e=>{e&&(En(),t((()=>{En(),setTimeout((()=>En()))})))}));const In=r(0);i((()=>e.mergeCells?e.mergeCells.length:-1),(()=>{In.value++})),i((()=>e.mergeCells),(()=>{In.value++})),i(In,(()=>{E.clearMergeCells(),t((()=>{e.mergeCells&&E.setMergeCells(e.mergeCells)}))}));const Mn=r(0);let Pn;return i((()=>e.mergeFooterItems?e.mergeFooterItems.length:-1),(()=>{Mn.value++})),i((()=>e.mergeFooterItems),(()=>{Mn.value++})),i(Mn,(()=>{E.clearMergeFooterItems(),t((()=>{e.mergeFooterItems&&E.setMergeFooterItems(e.mergeFooterItems)}))})),x&&i((()=>x?x.reactData.resizeFlag:null),(()=>{dn()})),eT.forEach((e=>{const{setupTable:t}=e;if(t){const e=t(tt);e&&rp.isObject(e)&&Object.assign(tt,e)}})),T.preventEvent(null,"created",{$table:tt}),u((()=>{E.recalculate().then((()=>E.refreshScroll())),T.preventEvent(null,"activated",{$table:tt})})),c((()=>{S.isActivated=!1,T.preventEvent(null,"deactivated",{$table:tt})})),g((()=>{const n=de.value,o=me.value,l=Ue.value;(n.drag||o.drag||l.allowSort)&&zC(),t((()=>{const{data:t,treeConfig:n,showOverflow:o}=e,{scrollXStore:l,scrollYStore:r}=S,a=se.value;if(Ee.value,ze.value,xe.value,ye.value,je.value,me.value,Object.assign(r,{startIndex:0,endIndex:0,visibleSize:0,adaptive:!1!==a.adaptive}),Object.assign(l,{startIndex:0,endIndex:0,visibleSize:0}),Nt(t||[]).then((()=>{t&&t.length&&(S.inited=!0,S.initStatus=!0,Lt()),_t(),Et()})),e.autoResize){const t=D.value,n=T.getParentElem();Pn=QE.create((()=>{e.autoResize&&E.recalculate(!0)})),t&&Pn.observe(t),n&&Pn.observe(n)}})),tT.on(tt,"paste",sn),tT.on(tt,"copy",cn),tT.on(tt,"cut",un),tT.on(tt,"mousedown",nn),tT.on(tt,"blur",on),tT.on(tt,"mousewheel",ln),tT.on(tt,"keydown",an),tT.on(tt,"resize",dn),tT.on(tt,"contextmenu",tt.handleGlobalContextmenuEvent),T.preventEvent(null,"mounted",{$table:tt})})),s((()=>{Pn&&Pn.disconnect(),E.closeFilter(),tt.closeMenu&&tt.closeMenu(),T.preventEvent(null,"beforeUnmount",{$table:tt})})),h((()=>{tT.off(tt,"paste"),tT.off(tt,"copy"),tT.off(tt,"cut"),tT.off(tt,"mousedown"),tT.off(tt,"blur"),tT.off(tt,"mousewheel"),tT.off(tt,"keydown"),tT.off(tt,"resize"),tT.off(tt,"contextmenu"),T.preventEvent(null,"unmounted",{$table:tt})})),b("$xeColgroup",null),b("$xeTable",tt),tt.renderVN=()=>{const{loading:t,stripe:n,showHeader:o,height:r,treeConfig:a,mouseConfig:i,showFooter:s,highlightCell:c,highlightHoverRow:u,highlightHoverColumn:m,editConfig:f,editRules:g}=e,{isCalcColumn:h,isGroup:b,overflowX:x,overflowY:S,scrollXLoad:E,scrollYLoad:T,scrollbarHeight:F,tableData:N,tableColumn:L,tableGroupColumn:_,footerTableData:B,initStore:j,columnStore:z,filterStore:W,customStore:K,tooltipStore:G}=C,{leftList:Y,rightList:oe}=z,le=l.loading,ae=Ce.value,ie=re.value,se=ye.value,ce=ze.value,ue=me.value,pe=de.value,fe=y.value,he=Xe.value,be=Oe.value,xe=ke.value,we=Se.value,Ee=He.value,Te=Fe.value,De=C._isLoading||t,Ie=Qe.value,Me=ve.value,Pe=i&&be.area,Re=ge.value;return w("div",{ref:D,class:["vxe-table","vxe-table--render-default",`tid_${d}`,`border--${he}`,{[`size--${fe}`]:fe,[`valid-msg--${ie.msgMode}`]:!!g,"vxe-editable":!!f,"old-cell-valid":g&&"obsolete"===UE().cellVaildMode,"cell--highlight":c,"cell--selected":i&&be.selected,"cell--area":Pe,"header-cell--area":Pe&&xe.selectCellByHeader,"body-cell--area":Pe&&xe.selectCellByBody,"row--highlight":ue.isHover||u,"column--highlight":pe.isHover||m,"checkbox--range":se.range,"column--calc":h,"col--drag-cell":pe.drag&&"cell"===Re.trigger,"is--header":o,"is--footer":s,"is--group":b,"is--tree-line":a&&(ce.showLine||ce.line),"is--fixed-left":Y.length,"is--fixed-right":oe.length,"is--animat":!!e.animat,"is--padding":e.padding,"is--round":e.round,"is--stripe":!a&&n,"is--loading":De,"is--empty":!De&&!N.length,"is--scroll-y":S,"is--scroll-x":x,"is--virtual-x":E,"is--virtual-y":T}],spellcheck:!1,onKeydown:rn},[w("div",{class:"vxe-table-slots"},l.default?l.default({}):[]),w("div",{key:"tw",class:"vxe-table--render-wrapper"},[w("div",{class:"vxe-table--main-wrapper"},[o?w(CE,{ref:V,tableData:N,tableColumn:L,tableGroupColumn:_}):lT(tt),w(vE,{ref:A,tableData:N,tableColumn:L}),s?w(DE,{ref:$,footerTableData:B,tableColumn:L}):lT(tt)]),w("div",{class:"vxe-table--fixed-wrapper"},[Y&&Y.length&&x?yn("left"):lT(tt),oe&&oe.length&&x?yn("right"):lT(tt)])]),Ie.x?w("div",{key:"vx",ref:X,class:"vxe-table--scroll-x-virtual"},[w("div",{ref:Q,class:"vxe-table--scroll-x-handle",onScroll:Qt},[w("div",{ref:ee,class:"vxe-table--scroll-x-space"})])]):lT(tt),Ie.y?w("div",{key:"vy",ref:Z,class:"vxe-table--scroll-y-virtual"},[w("div",{ref:J,class:"vxe-table--scroll-y-handle",onScroll:Jt},[w("div",{ref:te,class:"vxe-table--scroll-y-space"})])]):lT(tt),w("div",{key:"tn",ref:U,class:"vxe-table--empty-placeholder"},[w("div",{class:"vxe-table--empty-content"},wn())]),w("div",{key:"tl",class:"vxe-table--border-line"}),w("div",{key:"cl",ref:H,class:"vxe-table--resizable-bar",style:x?{"padding-bottom":`${F}px`}:null},Me.showDragTip?[w("div",{ref:q,class:"vxe-table--resizable-number-tip"},"23432px")]:[]),p?w(p,{key:"lg",class:"vxe-table--loading",modelValue:De,icon:Ee.icon,text:Ee.text},le?{default:()=>xn(le,{$table:tt,$grid:ne,loading:De})}:{}):le?w("div",{class:["vxe-loading--custom-wrapper",{"is--visible":De}]},xn(le,{$table:tt,$grid:ne,loading:De})):lT(tt),j.custom?w(VE,{key:"cs",ref:R,customStore:K}):lT(tt),j.filter?w(NE,{key:"tf",ref:P,filterStore:W}):lT(tt),j.import&&e.importConfig?w(BE,{key:"it",defaultOptions:C.importParams,storeData:C.importStore}):lT(tt),j.export&&(e.exportConfig||e.printConfig)?w(WE,{key:"et",defaultOptions:C.exportParams,storeData:C.exportStore}):lT(tt),Te?w(qE,{key:"tm",ref:M}):lT(tt),Sn(),v?w("div",{},[w(v,{key:"ctp",ref:k,isArrow:!1,enterable:!1}),w(v,Object.assign({key:"btp",ref:O},ae,G.currOpts)),e.editRules&&ie.showMessage&&("default"===ie.message?!r:"tooltip"===ie.message)?w(v,Object.assign({key:"vtp",ref:I,class:[{"old-cell-valid":g&&"obsolete"===UE().cellVaildMode},"vxe-table--valid-error"]},"tooltip"===ie.message||1===N.length?we:{})):lT(tt)]):lT(tt)])},tt},render(){return this.renderVN()}});const{renderer:iT,hooks:sT}=Rm,cT=["openFilter","setFilter","clearFilter","saveFilterPanel","resetFilterPanel","getCheckedFilters","updateFilterOptionStatus"];sT.add("tableFilterModule",{setupTable(e){const{props:n,reactData:o,internalData:l}=e,{refTableHeader:r,refTableBody:a,refTableFilter:i}=e.getRefMaps(),{computeFilterOpts:s,computeMouseOpts:c}=e.getComputeMaps(),u=t=>{const{filterStore:n}=o;n.options.forEach((e=>{e.checked=e._checked})),e.confirmFilterEvent(t)},d=(t,n,l)=>{const{filterStore:r}=o;r.options.forEach((e=>{e._checked=!1})),l._checked=n,e.checkFilterOptions(),u(t)},p=(t,n,o)=>{o._checked=n,e.checkFilterOptions()},m=t=>{const{filterStore:n}=o;e.handleClearFilter(n.column),e.confirmFilterEvent(t)},f={checkFilterOptions(){const{filterStore:e}=o;e.isAllSelected=e.options.every((e=>e._checked)),e.isIndeterminate=!e.isAllSelected&&e.options.some((e=>e._checked))},triggerFilterEvent(n,s,c){const{initStore:u,filterStore:d}=o;if(d.column===s&&d.visible)d.visible=!1;else{const{target:o,pageX:p}=n,{visibleWidth:m}=JC(),{filters:f,filterMultiple:g,filterRender:h}=s,v=Gw(h)?iT.get(h.name):null,b=s.filterRecoverMethod||(v?v.tableFilterRecoverMethod||v.filterRecoverMethod:null);l._currFilterParams=c,Object.assign(d,{multiple:g,options:f,column:s,style:null}),d.options.forEach((t=>{const{_checked:n,checked:o}=t;t._checked=o,o||n===o||b&&b({option:t,column:s,$table:e})})),this.checkFilterOptions(),d.visible=!0,u.filter=!0,t((()=>{const e=r.value,t=a.value,n=e?e.$el:null,l=t.$el;if(!l)return;const c=i.value,u=c?c.$el:null;if(!u)return;const f=u.offsetWidth,g=u.offsetHeight,h=u.querySelector(".vxe-table--filter-header"),v=u.querySelector(".vxe-table--filter-footer"),b=f/2,x=l.clientWidth-f-10;let y,w;const C={top:`${o.offsetTop+o.offsetParent.offsetTop+o.offsetHeight}px`};let S=null;const E=l.clientHeight-(n?n.clientHeight/2:0);if(g>=E&&(S=Math.max(40,E-(v?v.offsetHeight:0)-(h?h.offsetHeight:0))),"left"===s.fixed?y=o.offsetLeft+o.offsetParent.offsetLeft-b:"right"===s.fixed?w=o.offsetParent.offsetWidth-o.offsetLeft+(o.offsetParent.offsetParent.offsetWidth-o.offsetParent.offsetLeft)-s.renderWidth-b:y=o.offsetLeft+o.offsetParent.offsetLeft-b-l.scrollLeft,y){const e=p+f-b+10-m;e>0&&(y-=e),C.left=`${Math.min(x,Math.max(10,y))}px`}else if(w){const e=p+f-b+10-m;e>0&&(w+=e),C.right=`${Math.max(10,w)}px`}d.style=C,d.maxHeight=S}))}e.dispatchEvent("filter-visible",{column:s,field:s.field,property:s.field,filterList:e.getCheckedFilters(),visible:d.visible},n)},handleClearFilter(t){if(t){const{filters:n,filterRender:o}=t;if(n){const l=Gw(o)?iT.get(o.name):null,r=t.filterResetMethod||(l?l.tableFilterResetMethod||l.filterResetMethod:null);n.forEach((e=>{e._checked=!1,e.checked=!1,r||(e.data=rp.clone(e.resetValue,!0))})),r&&r({options:n,column:t,$table:e})}}},handleColumnConfirmFilter(t,l){const{mouseConfig:r}=n,{scrollXLoad:a,scrollYLoad:i}=o,u=s.value,d=c.value,{field:p}=t,m=[],f=[];t.filters.forEach((e=>{e.checked&&(m.push(e.value),f.push(e.data))}));const g=e.getCheckedFilters(),h={$table:e,$event:l,column:t,field:p,property:p,values:m,datas:f,filters:g,filterList:g};return u.remote||(e.handleTableData(!0),e.checkSelectionStatus()),r&&d.area&&e.handleFilterEvent&&e.handleFilterEvent(l,h),l&&e.dispatchEvent("filter-change",h,l),e.closeFilter(),e.updateFooter().then((()=>{const{scrollXLoad:t,scrollYLoad:n}=o;if(a||t||i||n)return(a||t)&&e.updateScrollXSpace(),(i||n)&&e.updateScrollYSpace(),e.refreshScroll()})).then((()=>(e.updateCellAreas(),e.recalculate(!0)))).then((()=>{setTimeout((()=>e.recalculate()),50)}))},confirmFilterEvent(t){const{filterStore:n}=o,{column:l}=n;e.handleColumnConfirmFilter(l,t)},handleFilterChangeRadioOption:d,handleFilterChangeMultipleOption:p,handleFilterChangeOption(e,t,n){const{filterStore:l}=o;l.multiple?p(0,t,n):d(e,t,n)},handleFilterConfirmFilter:u,handleFilterResetFilter:m},g={openFilter(n){const o=hS(e,n);if(o&&o.filters){const{elemStore:t}=l,{fixed:n}=o;return e.scrollToColumn(o).then((()=>{const e=SS(t[`${n||"main"}-header-wrapper`]||t["main-header-wrapper"]);if(e){const t=e.querySelector(`.vxe-header--column.${o.id} .vxe-filter--btn`);r="click",(l=t)&&l.dispatchEvent(new Event(r))}var l,r}))}return t()},setFilter(n,o,l){const r=hS(e,n);return r&&r.filters&&(r.filters=yS(o||[]),l)?e.handleColumnConfirmFilter(r,new Event("click")):t()},clearFilter(n){const{filterStore:r}=o,{tableFullColumn:a}=l,i=s.value;let c;return n?(c=hS(e,n),c&&f.handleClearFilter(c)):a.forEach(f.handleClearFilter),n&&c===r.column||Object.assign(r,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),i.remote?t():e.updateData()},saveFilterPanel:()=>(u(null),t()),resetFilterPanel:()=>(m(null),t()),getCheckedFilters(){const{tableFullColumn:e}=l,t=[];return e.forEach((e=>{const{field:n,filters:o}=e,l=[],r=[];o&&o.length&&(o.forEach((e=>{e.checked&&(l.push(e.value),r.push(e.data))})),l.length&&t.push({column:e,field:n,property:n,values:l,datas:r}))})),t},updateFilterOptionStatus:(e,n)=>(e._checked=n,e.checked=n,t())};return Object.assign(Object.assign({},g),f)},setupGrid:e=>e.extendTableMethods(cT)});const{menus:uT,hooks:dT,globalEvents:pT,GLOBAL_EVENT_KEYS:mT}=Rm,fT=["closeMenu"];dT.add("tableMenuModule",{setupTable(e){const{xID:n,props:o,reactData:l,internalData:r}=e,{refElem:a,refTableFilter:i,refTableMenu:s}=e.getRefMaps(),{computeMouseOpts:c,computeIsMenu:u,computeMenuOpts:d}=e.getComputeMaps();let p={},m={};const f=(n,o,a)=>{const{ctxMenuStore:i}=l,c=u.value,m=d.value,f=m[o],g=m.visibleMethod;if(f){const{options:o,disabled:l}=f;l?n.preventDefault():c&&o&&o.length&&(a.options=o,e.preventEvent(n,"event.showMenu",a,(()=>{if(!g||g(a)){n.preventDefault(),e.updateZindex();const{scrollTop:l,scrollLeft:c,visibleHeight:u,visibleWidth:d}=JC();let p=n.clientY+l,m=n.clientX+c;const f=()=>{r._currMenuParams=a,Object.assign(i,{visible:!0,list:o,selected:null,selectChild:null,showChild:!1,style:{zIndex:r.tZindex,top:`${p}px`,left:`${m}px`}}),t((()=>{const e=s.value.getRefMaps().refElem.value,t=e.clientHeight,n=e.clientWidth,{boundingTop:o,boundingLeft:r}=iS(e),a=r+n-d;o+t-u>-10&&(i.style.top=`${Math.max(l+2,p-t-2)}px`),a>-10&&(i.style.left=`${Math.max(c+2,m-n-2)}px`)}))},{keyboard:g,row:h,column:v}=a;g&&h&&v?e.scrollToRow(h,v).then((()=>{const t=e.getCellElement(h,v);if(t){const{boundingTop:e,boundingLeft:n}=iS(t);p=e+l+Math.floor(t.offsetHeight/2),m=n+c+Math.floor(t.offsetWidth/2)}f()})):f()}else p.closeMenu()})))}e.closeFilter()};return p={closeMenu:()=>(Object.assign(l.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),t())},m={moveCtxMenu(e,t,n,o,l,r){let a;const i=rp.findIndexOf(r,(e=>t[n]===e));if(o)l&&Jw(t.selected)?t.showChild=!0:(t.showChild=!1,t.selectChild=null);else if(pT.hasKey(e,mT.ARROW_UP)){for(let e=i-1;e>=0;e--)if(!1!==r[e].visible){a=r[e];break}t[n]=a||r[r.length-1]}else if(pT.hasKey(e,mT.ARROW_DOWN)){for(let e=i+1;e<r.length;e++)if(!1!==r[e].visible){a=r[e];break}t[n]=a||r[0]}else t[n]&&(pT.hasKey(e,mT.ENTER)||pT.hasKey(e,mT.SPACEBAR))&&m.ctxMenuLinkEvent(e,t[n])},handleOpenMenuEvent:f,handleGlobalContextmenuEvent(t){const{mouseConfig:u,menuConfig:m}=o,{editStore:g,ctxMenuStore:h}=l,{visibleColumn:v}=r,b=i.value,x=s.value,y=c.value,w=d.value,C=a.value,{selected:S}=g,E=["header","body","footer"];if(Gw(m)){if(h.visible&&x&&rS(t,x.getRefMaps().refElem.value).flag)return void t.preventDefault();if(r._keyCtx){const n="body",o={type:n,$table:e,keyboard:!0,columns:v.slice(0),$event:t};if(u&&y.area){const l=e.getActiveCellArea();if(l&&l.row&&l.column)return o.row=l.row,o.column=l.column,void f(t,n,o)}else if(u&&y.selected&&S.row&&S.column)return o.row=S.row,o.column=S.column,void f(t,n,o)}for(let o=0;o<E.length;o++){const l=E[o],r=rS(t,C,`vxe-${l}--column`,(e=>e.parentNode.parentNode.parentNode.getAttribute("xid")===n)),a={type:l,$table:e,columns:v.slice(0),$event:t};if(r.flag){const n=r.targetElem,o=e.getColumnNode(n),i=o?o.item:null;let s=`${l}-`;if(i&&Object.assign(a,{column:i,columnIndex:e.getColumnIndex(i),cell:n}),"body"===l){const t=e.getRowNode(n.parentNode),o=t?t.item:null;s="",o&&(a.row=o,a.rowIndex=e.getRowIndex(o))}const c=`${s}cell-menu`;return f(t,l,a),void e.dispatchEvent(c,a,t)}if(rS(t,C,`vxe-table--${l}-wrapper`,(e=>e.getAttribute("xid")===n)).flag)return void("cell"===w.trigger?t.preventDefault():f(t,l,a))}}b&&!rS(t,b.$el).flag&&e.closeFilter(),p.closeMenu()},ctxMenuMouseoverEvent(e,n,o){const r=e.currentTarget,{ctxMenuStore:a}=l;e.preventDefault(),e.stopPropagation(),a.selected=n,a.selectChild=o,o||(a.showChild=Jw(n),a.showChild&&t((()=>{const e=r.nextElementSibling;if(e){const{boundingTop:t,boundingLeft:n,visibleHeight:o,visibleWidth:l}=iS(r),a=t+r.offsetHeight;let i="",s="";n+r.offsetWidth+e.offsetWidth>l-10&&(i="auto",s=`${r.offsetWidth}px`);let c="",u="";a+e.offsetHeight>o-10&&(c="auto",u="0"),e.style.left=i,e.style.right=s,e.style.top=c,e.style.bottom=u}})))},ctxMenuMouseoutEvent(e,t){const{ctxMenuStore:n}=l;t.children||(n.selected=null),n.selectChild=null},ctxMenuLinkEvent(t,n){if(!n.disabled&&(n.code||!n.children||!n.children.length)){const o=uT.get(n.code),l=Object.assign({},r._currMenuParams,{menu:n,$table:e,$grid:e.xegrid,$event:t}),a=o?o.tableMenuMethod||o.menuMethod:null;a&&a(l,t),e.dispatchEvent("menu-click",l,t),p.closeMenu()}}},Object.assign(Object.assign({},p),m)},setupGrid:e=>e.extendTableMethods(fT)});const{getConfig:gT,renderer:hT,hooks:vT,getI18n:bT}=Rm,xT=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];vT.add("tableEditModule",{setupTable(e){const{props:n,reactData:o,internalData:l}=e,{refElem:r}=e.getRefMaps(),{computeMouseOpts:a,computeEditOpts:i,computeCheckboxOpts:s,computeTreeOpts:c,computeValidOpts:u}=e.getComputeMaps();let d={},p={};const f=(e,t)=>{const{model:n,editRender:o}=t;o&&(n.value=wS(e,t),n.update=!1)},g=(e,t)=>{const{model:n,editRender:o}=t;o&&n.update&&(CS(e,t,n.value),n.update=!1,n.value=null)},h=()=>{const e=r.value;if(e){const t=e.querySelector(".col--selected");t&&XC(t,"col--selected")}};function v(){const{editStore:e,tableColumn:t}=o,n=i.value,{actived:l}=e,{row:r,column:a}=l;(r||a)&&("row"===n.mode?t.forEach((e=>g(r,e))):g(r,a))}function b(t,n){const{tableFullTreeData:o,afterFullData:r,fullDataRowIdData:a,fullAllDataRowIdData:i}=l,s=c.value,{rowField:u,parentField:d,mapChildrenField:p}=s,m=s.children||s.childrenField,f=n?"push":"unshift";t.forEach((t=>{const n=t[d],l=gS(e,t),s=n?rp.findTree(o,(e=>n===e[u]),{children:p}):null;if(s){const{item:n}=s,o=i[gS(e,n)],r=o?o.level:0;let c=n[m],u=n[p];rp.isArray(c)||(c=n[m]=[]),rp.isArray(u)||(u=n[m]=[]),c[f](t),u[f](t);const d={row:t,rowid:l,seq:-1,index:-1,_index:-1,$index:-1,items:c,parent:n,level:r+1,height:0,oTop:0};a[l]=d,i[l]=d}else{r[f](t),o[f](t);const e={row:t,rowid:l,seq:-1,index:-1,_index:-1,$index:-1,items:o,parent:null,level:0,height:0,oTop:0};a[l]=e,i[l]=e}}))}const x=(r,a,i)=>{const{treeConfig:s}=n,{mergeList:u,editStore:d}=o,{tableFullTreeData:p,afterFullData:f,tableFullData:g,fullDataRowIdData:h,fullAllDataRowIdData:v}=l,x=c.value,{transform:y,rowField:w,mapChildrenField:C}=x,S=x.children||x.childrenField;rp.isArray(r)||(r=[r]);const E=m(e.defineField(r.map((e=>Object.assign(s&&y?{[C]:[],[S]:[]}:{},e)))));if(rp.eqNull(a))s&&y?b(E,!1):(E.forEach((t=>{const n=gS(e,t),o={row:t,rowid:n,seq:-1,index:-1,_index:-1,$index:-1,items:f,parent:null,level:0,height:0,oTop:0};h[n]=o,v[n]=o,f.unshift(t),g.unshift(t)})),u.forEach((e=>{const{row:t}=e;t>0&&(e.row=t+E.length)})));else if(-1===a)s&&y?b(E,!0):(E.forEach((t=>{const n=gS(e,t),o={row:t,rowid:n,seq:-1,index:-1,_index:-1,$index:-1,items:f,parent:null,level:0,height:0,oTop:0};h[n]=o,v[n]=o,f.push(t),g.push(t)})),u.forEach((e=>{const{row:t,rowspan:n}=e;t+n>f.length&&(e.rowspan=n+E.length)})));else if(s&&y){const t=rp.findTree(p,(e=>a[w]===e[w]),{children:C});if(t){const{parent:n}=t,o=n?n[C]:p,l=v[gS(e,n)],r=l?l.level:0;if(E.forEach(((l,a)=>{const s=gS(e,l);n&&(l[x.parentField]=n[w]);let c=t.index+a;i&&(c+=1),o.splice(c,0,l);const u={row:l,rowid:s,seq:-1,index:-1,_index:-1,$index:-1,items:o,parent:n,level:r+1,height:0,oTop:0};h[s]=u,v[s]=u})),n){const e=rp.findTree(p,(e=>a[w]===e[w]),{children:S});if(e){const t=e.items;let n=e.index;i&&(n+=1),t.splice(n,0,...E)}}}else b(E,!0)}else{if(s)throw new Error(bT("vxe.error.noTree",["insert"]));let t=-1;if(rp.isNumber(a)?a<f.length&&(t=a):t=e.findRowIndexOf(f,a),i&&(t=Math.min(f.length,t+1)),-1===t)throw new Error(bT("vxe.error.unableInsert"));f.splice(t,0,...E);const n=e.findRowIndexOf(g,a);n>-1?g.splice(n+(i?1:0),0,...E):g.push(...E),u.forEach((e=>{const{row:n,rowspan:o}=e;n>t?e.row=n+E.length:n+o>t&&(e.rowspan=o+E.length)}))}const{insertMaps:T}=d;return E.forEach((t=>{const n=gS(e,t);T[n]=t})),e.cacheRowMap(),e.updateScrollYStatus(),e.handleTableData(s&&y),s&&y||e.updateAfterDataIndex(),e.updateFooter(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),t().then((()=>(e.updateCellAreas(),e.recalculate()))).then((()=>({row:E.length?E[E.length-1]:null,rows:E})))},y=(e,t,o,l)=>{const{treeConfig:r}=n,a=c.value,{transform:i,rowField:s,parentField:u}=a;return r&&i?(rp.isArray(e)||(e=[e]),x(e.map((e=>Object.assign({},e,{[u]:t[s]}))),o,l)):($C("vxe.error.errProp",["tree-config.treeConfig=false","tree-config.treeConfig=true"]),Promise.resolve({row:null,rows:[]}))},w=(l,r)=>{const{mouseConfig:i}=n,{editStore:s}=o,{actived:c,focused:d}=s,{row:p,column:m}=c,f=u.value,g=a.value;if(p||m){if(r&&gS(e,r)!==gS(e,p))return t();v(),c.args=null,c.row=null,c.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:p,rowIndex:e.getRowIndex(p),$rowIndex:e.getVMRowIndex(p),column:m,columnIndex:e.getColumnIndex(m),$columnIndex:e.getVMColumnIndex(m)},l||null)}return t((()=>{if(i&&g.area&&e.handleRecalculateCellAreas)return e.handleRecalculateCellAreas()})),f.autoClear&&("full"!==f.msgMode||"obsolete"===gT().cellVaildMode)&&e.clearValidate?e.clearValidate():(d.row=null,d.column=null,t())};return d={insert:e=>x(e,null),insertAt:(e,t)=>x(e,t),insertNextAt:(e,t)=>x(e,t,!0),insertChild:(e,t)=>y(e,t,null),insertChildAt:(e,t,n)=>y(e,t,n),insertChildNextAt:(e,t,n)=>y(e,t,n,!0),remove(r){const{treeConfig:a}=n,{mergeList:i,editStore:u,selectCheckboxMaps:p}=o,{tableFullTreeData:m,afterFullData:f,tableFullData:g}=l,h=s.value,v=c.value,{transform:b,mapChildrenField:x}=v,y=v.children||v.childrenField,{actived:w,removeMaps:C}=u,S=Object.assign({},u.insertMaps),E=Object.assign({},o.pendingRowMaps),{checkField:T}=h;let D=[];if(r?rp.isArray(r)||(r=[r]):r=g,r.forEach((t=>{if(!e.isInsertByRow(t)){const n=gS(e,t);C[n]=t}})),!T){const t=Object.assign({},p);r.forEach((n=>{const o=gS(e,n);t[o]&&delete t[o]})),o.selectCheckboxMaps=t}return g===r?(r=D=g.slice(0),l.tableFullData=[],l.afterFullData=[],e.clearMergeCells()):a&&b?r.forEach((t=>{const n=gS(e,t),o=rp.findTree(m,(t=>n===gS(e,t)),{children:x});if(o){const e=o.items.splice(o.index,1);D.push(e[0])}const l=rp.findTree(m,(t=>n===gS(e,t)),{children:y});l&&l.items.splice(l.index,1);const r=e.findRowIndexOf(f,t);r>-1&&f.splice(r,1)})):r.forEach((t=>{const n=e.findRowIndexOf(g,t);if(n>-1){const e=g.splice(n,1);D.push(e[0])}const o=e.findRowIndexOf(f,t);o>-1&&(i.forEach((e=>{const{row:t,rowspan:n}=e;t>o?e.row=t-1:t+n>o&&(e.rowspan=n-1)})),f.splice(o,1))})),w.row&&e.findRowIndexOf(r,w.row)>-1&&d.clearEdit(),r.forEach((t=>{const n=gS(e,t);S[n]&&delete S[n],E[n]&&delete E[n]})),u.insertMaps=S,o.pendingRowMaps=E,e.updateFooter(),e.cacheRowMap(),e.handleTableData(a&&b),a&&b||e.updateAfterDataIndex(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),t().then((()=>(e.updateCellAreas(),e.recalculate()))).then((()=>({row:D.length?D[D.length-1]:null,rows:D})))},removeCheckboxRow:()=>d.remove(e.getCheckboxRecords()).then((t=>(e.clearCheckboxRow(),t))),removeRadioRow(){const t=e.getRadioRecord();return d.remove(t||[]).then((t=>(e.clearRadioRow(),t)))},removeCurrentRow(){const t=e.getCurrentRecord();return d.remove(t||[]).then((t=>(e.clearCurrentRow(),t)))},getRecordset(){const t=d.getRemoveRecords(),n=e.getPendingRecords(),o=t.concat(n),l=d.getUpdateRecords().filter((t=>!o.some((n=>e.eqRow(n,t)))));return{insertRecords:d.getInsertRecords(),removeRecords:t,updateRecords:l,pendingRecords:n}},getInsertRecords(){const{editStore:e}=o,{fullAllDataRowIdData:t}=l,{insertMaps:n}=e,r=[];return rp.each(n,((e,n)=>{t[n]&&r.push(e)})),r},getRemoveRecords(){const{editStore:e}=o,{removeMaps:t}=e,n=[];return rp.each(t,(e=>{n.push(e)})),n},getUpdateRecords(){const{keepSource:t,treeConfig:o}=n,{tableFullData:r}=l,a=c.value;return t?(v(),o?rp.filterTree(r,(t=>e.isUpdateByRow(t)),a):r.filter((t=>e.isUpdateByRow(t)))):[]},getActiveRecord(){return this.getEditRecord()},getEditRecord(){const{editStore:t}=o,{afterFullData:n}=l,a=r.value,{args:i,row:s}=t.actived;return i&&e.findRowIndexOf(n,s)>-1&&a.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},i):null},getSelectedCell(){const{editStore:e}=o,{args:t,column:n}=e.selected;return t&&n?Object.assign({},t):null},clearActived(e){return this.clearEdit(e)},clearEdit:e=>w(null,e),clearSelected(){const{editStore:e}=o,{selected:n}=e;return n.row=null,n.column=null,h(),t()},isActiveByRow(e){return this.isEditByRow(e)},isEditByRow(e){const{editStore:t}=o;return t.actived.row===e},setActiveRow:e=>d.setEditRow(e),setEditRow(t,n){const{visibleColumn:o}=l;let r=rp.find(o,(e=>Gw(e.editRender)));return n&&(r=rp.isString(n)?e.getColumnByField(n):n),e.setEditCell(t,r)},setActiveCell:(e,t)=>d.setEditCell(e,t),setEditCell(o,r){const{editConfig:a}=n,i=rp.isString(r)?e.getColumnByField(r):r;return o&&i&&Gw(a)&&Gw(i.editRender)?e.scrollToRow(o,i).then((()=>{const n=e.getCellElement(o,i);return n&&(p.handleEdit({row:o,rowIndex:e.getRowIndex(o),column:i,columnIndex:e.getColumnIndex(i),cell:n,$table:e}),l._lastCallTime=Date.now()),t()})):t()},setSelectCell(n,l){const{tableData:r}=o,a=i.value,s=rp.isString(l)?e.getColumnByField(l):l;if(n&&s&&"manual"!==a.trigger){const t=e.findRowIndexOf(r,n);if(t>-1&&s){const o=e.getCellElement(n,s),l={row:n,rowIndex:t,column:s,columnIndex:e.getColumnIndex(s),cell:o};e.handleSelected(l,{})}}return t()}},p={handleEdit(l,r){const{editConfig:a,mouseConfig:s}=n,{editStore:c,tableColumn:u}=o,m=i.value,{mode:g}=m,{actived:h,focused:v}=c,{row:b,column:x}=l,{editRender:y}=x,C=l.cell||e.getCellElement(b,x),S=m.beforeEditMethod||m.activeMethod;if(l.cell=C,C&&Gw(a)&&Gw(y)&&!e.isPendingByRow(b)){if(h.row!==b||"cell"===g&&h.column!==x){let n="edit-disabled";if(!S||S(Object.assign(Object.assign({},l),{$table:e,$grid:e.xegrid}))){s&&(d.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),h.column&&w(r),n="edit-activated",x.renderHeight=C.offsetHeight,h.args=l,h.row=b,h.column=x,"row"===g?u.forEach((e=>f(b,e))):f(b,x);const o=m.afterEditMethod;t((()=>{p.handleFocus(l,r),o&&o(Object.assign(Object.assign({},l),{$table:e,$grid:e.xegrid}))}))}e.dispatchEvent(n,{row:b,rowIndex:e.getRowIndex(b),$rowIndex:e.getVMRowIndex(b),column:x,columnIndex:e.getColumnIndex(x),$columnIndex:e.getVMColumnIndex(x)},r),"edit-activated"===n&&e.dispatchEvent("edit-actived",{row:b,rowIndex:e.getRowIndex(b),$rowIndex:e.getVMRowIndex(b),column:x,columnIndex:e.getColumnIndex(x),$columnIndex:e.getVMColumnIndex(x)},r)}else{const{column:t}=h;if(s&&(d.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),t!==x){const{model:n}=t;n.update&&CS(b,t,n.value),e.clearValidate&&e.clearValidate(b,x)}x.renderHeight=C.offsetHeight,h.args=l,h.column=x,setTimeout((()=>{p.handleFocus(l,r)}))}v.column=null,v.row=null,e.focus()}return t()},handleActived:(e,t)=>p.handleEdit(e,t),handleClearEdit:w,handleFocus(t){const{row:n,column:o,cell:l}=t,{editRender:r}=o,a=i.value;if(Gw(r)){const i=hT.get(r.name);let s,c=r.autofocus||r.autoFocus,u=r.autoSelect||r.autoselect;if(a.autoFocus&&(!c&&i&&(c=i.tableAutoFocus||i.tableAutofocus||i.autofocus),!u&&i&&(u=i.tableAutoSelect||i.autoselect),rp.isFunction(c)?s=c(t):c&&(s=!0===c?l.querySelector("input,textarea"):l.querySelector(c),s&&s.focus())),s){if(u)s.select();else if(BC.msie){const e=s.createTextRange();e.collapse(!1),e.select()}}else a.autoPos&&(o.fixed||e.scrollToRow(n,o))}},handleSelected(l,r){const{mouseConfig:s}=n,{editStore:c}=o,u=a.value,m=i.value,{actived:f,selected:g}=c,{row:h,column:v}=l,b=s&&u.selected;return!b||g.row===h&&g.column===v||(f.row!==h||"cell"===m.mode&&f.column!==v)&&(w(r),d.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),g.args=l,g.row=h,g.column=v,b&&p.addCellSelectedClass(),e.focus(),r&&e.dispatchEvent("cell-selected",l,r)),t()},addCellSelectedClass(){const{editStore:t}=o,{selected:n}=t,{row:l,column:r}=n;if(h(),l&&r){const t=e.getCellElement(l,r);t&&ZC(t,"col--selected")}}},Object.assign(Object.assign({},d),p)},setupGrid:e=>e.extendTableMethods(xT)});const{getI18n:yT,hooks:wT,renderer:CT}=Rm;let ST;const ET="\r\n";function TT(e){return e.field||["seq","checkbox","radio"].indexOf(e.type)>-1}const DT=e=>{const t=[];return e.forEach((e=>{e.childNodes&&e.childNodes.length?(t.push(e),t.push(...DT(e.childNodes))):t.push(e)})),t};function OT(e){return!0===e?"full":e||"default"}function kT(e){return"TRUE"===e||"true"===e||!0===e}function IT(e,t){const{footerFilterMethod:n}=e;return n?t.filter(((e,t)=>n({items:e,$rowIndex:t}))):t}function MT(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function PT(e,t){return e.getElementsByTagName(t)}function RT(e){return`#${e}@${rp.uniqueId()}`}function VT(e,t){return e.replace(/#\d+@\d+/g,(e=>rp.hasOwnProp(t,e)?t[e]:e))}function AT(e,t){return VT(e,t).replace(/^"+$/g,(e=>'"'.repeat(Math.ceil(e.length/2))))}function $T(e,t,n){const o=t.split(ET),l=[];let r=[];if(o.length){const e={},t=Date.now();o.forEach((o=>{if(o){const a={},i=(o=o.replace(/("")|(\n)/g,((n,o)=>{const l=RT(t);return e[l]=o?'"':"\n",l})).replace(/"(.*?)"/g,((n,o)=>{const l=RT(t);return e[l]=VT(o,e),l}))).split(n);r.length?(i.forEach(((t,n)=>{n<r.length&&(a[r[n]]=AT(t.trim(),e))})),l.push(a)):r=i.map((t=>AT(t.trim(),e)))}}))}return{fields:r,rows:l}}function FT(e){rp.eachTree(e,(e=>{delete e._level,delete e._colSpan,delete e._rowSpan,delete e._children,delete e.childNodes}),{children:"children"})}const NT=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];wT.add("tableExportModule",{setupTable(e){const{props:n,reactData:l,internalData:r}=e,{computeTreeOpts:a,computePrintOpts:i,computeExportOpts:s,computeImportOpts:c,computeCustomOpts:u,computeSeqOpts:d,computeRadioOpts:p,computeCheckboxOpts:m,computeColumnOpts:f}=e.getComputeMaps(),g=o("$xeGrid",null),h=(t,n,o,l,r)=>{const a=d.value.seqMethod||l.seqMethod;return a?a({row:n,rowIndex:e.getRowIndex(n),$rowIndex:o,column:l,columnIndex:e.getColumnIndex(l),$columnIndex:r}):t};function v(t,n){const o=f.value,l=n.headerExportMethod||o.headerExportMethod;return l?l({column:n,options:t,$table:e}):(t.original?n.field:n.getTitle())||""}const b=e=>rp.isBoolean(e)?e?"TRUE":"FALSE":e,x=e=>nC(e)?"":`${e}`,y=(t,o,l)=>{const{isAllExpand:r,mode:i}=t,{treeConfig:s}=n,c=p.value,u=m.value,d=a.value,g=f.value;if(ST||(ST=document.createElement("div")),s){const n=d.children||d.childrenField,s=[],p=new Map;return rp.eachTree(l,((n,l,d,m,f,v)=>{const y=n._row||n,w=f&&f._row?f._row:f;if(r||!w||p.has(w)&&e.isTreeExpandByRow(w)){const n=(e=>{const t=a.value,n=t.children||t.childrenField;return e[n]&&e[n].length})(y),r={_row:y,_level:v.length-1,_hasChild:n,_expand:n&&e.isTreeExpandByRow(y)};o.forEach(((n,o)=>{let a="";const s=n.editRender||n.cellRender;let d=n.exportMethod||g.exportMethod;if(!d&&s&&s.name){const e=CT.get(s.name);e&&(d=e.tableExportMethod||e.exportMethod)}if(d||(d=g.exportMethod),d)a=d({$table:e,row:y,column:n,options:t});else switch(n.type){case"seq":{const e=m.map(((e,t)=>t%2==0?Number(e)+1:".")).join("");a="all"===i?e:h(e,y,l,n,o);break}case"checkbox":a=b(e.isCheckedByCheckboxRow(y)),r._checkboxLabel=u.labelField?rp.get(y,u.labelField):"",r._checkboxDisabled=u.checkMethod&&!u.checkMethod({row:y});break;case"radio":a=b(e.isCheckedByRadioRow(y)),r._radioLabel=c.labelField?rp.get(y,c.labelField):"",r._radioDisabled=c.checkMethod&&!c.checkMethod({row:y});break;default:if(t.original)a=wS(y,n);else if(a=e.getCellLabel(y,n),"html"===n.type)ST.innerHTML=a,a=ST.innerText.trim();else{const t=e.getCellElement(y,n);t&&(a=t.innerText.trim())}}r[n.id]=x(a)})),p.set(y,1),s.push(Object.assign(r,y))}}),{children:n}),s}return l.map(((n,l)=>{const r={_row:n};return o.forEach(((o,a)=>{let s="";const d=o.editRender||o.cellRender;let p=o.exportMethod||g.exportMethod;if(!p&&d&&d.name){const e=CT.get(d.name);e&&(p=e.tableExportMethod||e.exportMethod)}if(p)s=p({$table:e,row:n,column:o,options:t});else switch(o.type){case"seq":{const e=l+1;s="all"===i?e:h(e,n,l,o,a);break}case"checkbox":s=b(e.isCheckedByCheckboxRow(n)),r._checkboxLabel=u.labelField?rp.get(n,u.labelField):"",r._checkboxDisabled=u.checkMethod&&!u.checkMethod({row:n});break;case"radio":s=b(e.isCheckedByRadioRow(n)),r._radioLabel=c.labelField?rp.get(n,c.labelField):"",r._radioDisabled=c.checkMethod&&!c.checkMethod({row:n});break;default:if(t.original)s=wS(n,o);else if(s=e.getCellLabel(n,o),"html"===o.type)ST.innerHTML=s,s=ST.innerText.trim();else{const t=e.getCellElement(n,o);t&&(s=t.innerText.trim())}}r[o.id]=x(s)})),r}))},w=(t,n,o)=>{const l=f.value,r=o.editRender||o.cellRender;let a=o.footerExportMethod;if(!a&&r&&r.name){const e=CT.get(r.name);e&&(a=e.tableFooterExportMethod||e.footerExportMethod)}a||(a=l.footerExportMethod);const i=e.getVTColumnIndex(o);return a?a({$table:e,items:n,itemIndex:i,row:n,_columnIndex:i,column:o,options:t}):rp.isArray(n)?rp.toValueString(n[i]):rp.get(n,o.field)},C=(e,t,n)=>{let o="\ufeff";if(e.isHeader&&(o+=t.map((t=>MT(v(e,t)))).join(",")+ET),n.forEach((e=>{o+=t.map((t=>MT(function(e,t){if(t){if("seq"===e.type)return`\t${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`\t${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`\t${t}`}}return t}(t,e[t.id])))).join(",")+ET})),e.isFooter){const{footerTableData:n}=l;IT(e,n).forEach((n=>{o+=t.map((t=>MT(w(e,n,t)))).join(",")+ET}))}return o},S=(e,t,n)=>{const o=e[t],r=rp.isUndefined(o)||rp.isNull(o)?n:o;let a="title"===r||(!0===r||"tooltip"===r)||"ellipsis"===r;const{scrollXLoad:i,scrollYLoad:s}=l;return!i&&!s||a||(a=!0),a},E=(t,o,r)=>{if(o.length)switch(t.type){case"csv":return C(t,o,r);case"txt":return((e,t,n)=>{let o="";if(e.isHeader&&(o+=t.map((t=>MT(v(e,t)))).join("\t")+ET),n.forEach((e=>{o+=t.map((t=>MT(e[t.id]))).join("\t")+ET})),e.isFooter){const{footerTableData:n}=l;IT(e,n).forEach((n=>{o+=t.map((t=>MT(w(e,n,t)))).join("\t")+ET}))}return o})(t,o,r);case"html":return((t,o,r)=>{const{id:i,border:s,treeConfig:c,headerAlign:u,align:d,footerAlign:p,showOverflow:m,showHeaderOverflow:f}=n,{isAllSelected:g,isIndeterminate:h,mergeList:b}=l,x=a.value,{print:y,isHeader:C,isFooter:E,isColgroup:T,isMerge:D,colgroups:O,original:k}=t,I="check-all",M=[`<table class="${["vxe-table",`border--${OT(s)}`,y?"is--print":"",C?"is--header":""].filter((e=>e)).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${o.map((e=>`<col style="width:${e.renderWidth}px">`)).join("")}</colgroup>`];if(C&&(M.push("<thead>"),T&&!k?O.forEach((e=>{M.push(`<tr>${e.map((e=>{const n=e.headerAlign||e.align||u||d,o=S(e,"showHeaderOverflow",f)?["col--ellipsis"]:[],l=v(t,e);let r=0,a=0;rp.eachTree([e],(t=>{t.childNodes&&e.childNodes.length||a++,r+=t.renderWidth}),{children:"childNodes"});const i=r-a;return n&&o.push(`col--${n}`),"checkbox"===e.type?`<th class="${o.join(" ")}" colspan="${e._colSpan}" rowspan="${e._rowSpan}"><div ${y?"":`style="width: ${i}px"`}><input type="checkbox" class="${I}" ${g?"checked":""}><span>${l}</span></div></th>`:`<th class="${o.join(" ")}" colspan="${e._colSpan}" rowspan="${e._rowSpan}" title="${l}"><div ${y?"":`style="width: ${i}px"`}><span>${tC(l,!0)}</span></div></th>`})).join("")}</tr>`)})):M.push(`<tr>${o.map((e=>{const n=e.headerAlign||e.align||u||d,o=S(e,"showHeaderOverflow",f)?["col--ellipsis"]:[],l=v(t,e);return n&&o.push(`col--${n}`),"checkbox"===e.type?`<th class="${o.join(" ")}"><div ${y?"":`style="width: ${e.renderWidth}px"`}><input type="checkbox" class="${I}" ${g?"checked":""}><span>${l}</span></div></th>`:`<th class="${o.join(" ")}" title="${l}"><div ${y?"":`style="width: ${e.renderWidth}px"`}><span>${tC(l,!0)}</span></div></th>`})).join("")}</tr>`),M.push("</thead>")),r.length&&(M.push("<tbody>"),c?r.forEach((e=>{M.push("<tr>"+o.map((t=>{const n=t.align||d,o=S(t,"showOverflow",m)?["col--ellipsis"]:[],l=e[t.id];if(n&&o.push(`col--${n}`),t.treeNode){let n="";return e._hasChild&&(n=`<i class="${e._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),o.push("vxe-table--tree-node"),"radio"===t.type?`<td class="${o.join(" ")}" title="${l}"><div ${y?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*x.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${i}" ${e._radioDisabled?"disabled ":""}${kT(l)?"checked":""}><span>${e._radioLabel}</span></div></div></div></td>`:"checkbox"===t.type?`<td class="${o.join(" ")}" title="${l}"><div ${y?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*x.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${kT(l)?"checked":""}><span>${e._checkboxLabel}</span></div></div></div></td>`:`<td class="${o.join(" ")}" title="${l}"><div ${y?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*x.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell">${l}</div></div></div></td>`}return"radio"===t.type?`<td class="${o.join(" ")}"><div ${y?"":`style="width: ${t.renderWidth}px"`}><input type="radio" name="radio_${i}" ${e._radioDisabled?"disabled ":""}${kT(l)?"checked":""}><span>${e._radioLabel}</span></div></td>`:"checkbox"===t.type?`<td class="${o.join(" ")}"><div ${y?"":`style="width: ${t.renderWidth}px"`}><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${kT(l)?"checked":""}><span>${e._checkboxLabel}</span></div></td>`:`<td class="${o.join(" ")}" title="${l}"><div ${y?"":`style="width: ${t.renderWidth}px"`}>${tC(l,!0)}</div></td>`})).join("")+"</tr>")})):r.forEach((t=>{M.push("<tr>"+o.map((n=>{const o=n.align||d,l=S(n,"showOverflow",m)?["col--ellipsis"]:[],r=t[n.id];let a=1,s=1;if(D&&b.length){const o=e.getVTRowIndex(t._row),l=e.getVTColumnIndex(n),r=AS(b,o,l);if(r){const{rowspan:e,colspan:t}=r;if(!e||!t)return"";e>1&&(a=e),t>1&&(s=t)}}return o&&l.push(`col--${o}`),"radio"===n.type?`<td class="${l.join(" ")}" rowspan="${a}" colspan="${s}"><div ${y?"":`style="width: ${n.renderWidth}px"`}><input type="radio" name="radio_${i}" ${t._radioDisabled?"disabled ":""}${kT(r)?"checked":""}><span>${t._radioLabel}</span></div></td>`:"checkbox"===n.type?`<td class="${l.join(" ")}" rowspan="${a}" colspan="${s}"><div ${y?"":`style="width: ${n.renderWidth}px"`}><input type="checkbox" ${t._checkboxDisabled?"disabled ":""}${kT(r)?"checked":""}><span>${t._checkboxLabel}</span></div></td>`:`<td class="${l.join(" ")}" rowspan="${a}" colspan="${s}" title="${r}"><div ${y?"":`style="width: ${n.renderWidth}px"`}>${tC(r,!0)}</div></td>`})).join("")+"</tr>")})),M.push("</tbody>")),E){const{footerTableData:e}=l,n=IT(t,e);n.length&&(M.push("<tfoot>"),n.forEach((e=>{M.push(`<tr>${o.map((n=>{const o=n.footerAlign||n.align||p||d,l=S(n,"showOverflow",m)?["col--ellipsis"]:[],r=w(t,e,n);return o&&l.push(`col--${o}`),`<td class="${l.join(" ")}" title="${r}"><div ${y?"":`style="width: ${n.renderWidth}px"`}>${tC(r,!0)}</div></td>`})).join("")}</tr>`)})),M.push("</tfoot>"))}const P=!g&&h?`<script>(function(){var a=document.querySelector(".${I}");if(a){a.indeterminate=true}})()<\/script>`:"";return M.push("</table>",P),y?M.join(""):function(e,t){const{style:n}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>','<style>body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}</style>',n?`<style>${n}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}(t,M.join(""))})(t,o,r);case"xml":return((e,t,n)=>{let o=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${e.sheetName}">`,"<Table>",t.map((e=>`<Column ss:Width="${e.renderWidth}"/>`)).join("")].join("");if(e.isHeader&&(o+=`<Row>${t.map((t=>`<Cell><Data ss:Type="String">${v(e,t)}</Data></Cell>`)).join("")}</Row>`),n.forEach((e=>{o+="<Row>"+t.map((t=>`<Cell><Data ss:Type="String">${e[t.id]}</Data></Cell>`)).join("")+"</Row>"})),e.isFooter){const{footerTableData:n}=l;IT(e,n).forEach((n=>{o+=`<Row>${t.map((t=>`<Cell><Data ss:Type="String">${w(e,n,t)}</Data></Cell>`)).join("")}</Row>`}))}return`${o}</Table></Worksheet></Workbook>`})(t,o,r)}return""},T=(e,t)=>{const{filename:n,type:o,download:l}=e;if(!l){const n=function(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}(t,e);return Promise.resolve({type:o,content:t,blob:n})}Rm.saveFile&&Rm.saveFile({filename:n,type:o,content:t}).then((()=>{!1!==e.message&&Rm.modal&&Rm.modal.message({content:yT("vxe.table.expSuccess"),status:"success"})}))},D=t=>{const{remote:n,columns:o,colgroups:l,exportMethod:r,afterExportMethod:a}=t;return new Promise((a=>{if(n){const n={options:t,$table:e,$grid:g};a(r?r(n):n)}else{const n=(e=>{const{columns:t,dataFilterMethod:n}=e;let o=e.data;return n&&(o=o.filter(((e,t)=>n({row:e,$rowIndex:t})))),y(e,t,o)})(t);a(e.preventEvent(null,"event.export",{options:t,columns:o,colgroups:l,datas:n},(()=>T(t,E(t,o,n)))))}})).then((n=>(FT(o),t.print||a&&a({status:!0,options:t,$table:e,$grid:g}),Object.assign({status:!0},n)))).catch((()=>{FT(o),t.print||a&&a({status:!1,options:t,$table:e,$grid:g});return Promise.reject({status:!1})}))},O=(t,n)=>{const{tableFullColumn:o,_importResolve:l,_importReject:a}=r;let i={fields:[],rows:[]};switch(n.type){case"csv":i=function(e,t){return $T(0,t,",")}(0,t);break;case"txt":i=function(e,t){return $T(0,t,"\t")}(0,t);break;case"html":i=function(e,t){const n=PT((new DOMParser).parseFromString(t,"text/html"),"body"),o=[],l=[];if(n.length){const e=PT(n[0],"table");if(e.length){const t=PT(e[0],"thead");if(t.length){rp.arrayEach(PT(t[0],"tr"),(e=>{rp.arrayEach(PT(e,"th"),(e=>{l.push(e.textContent)}))}));const n=PT(e[0],"tbody");n.length&&rp.arrayEach(PT(n[0],"tr"),(e=>{const t={};rp.arrayEach(PT(e,"td"),((e,n)=>{l[n]&&(t[l[n]]=e.textContent||"")})),o.push(t)}))}}}return{fields:l,rows:o}}(0,t);break;case"xml":i=function(e,t){const n=PT((new DOMParser).parseFromString(t,"application/xml"),"Worksheet"),o=[],l=[];if(n.length){const e=PT(n[0],"Table");if(e.length){const t=PT(e[0],"Row");t.length&&(rp.arrayEach(PT(t[0],"Cell"),(e=>{l.push(e.textContent)})),rp.arrayEach(t,((e,t)=>{if(t){const t={},n=PT(e,"Cell");rp.arrayEach(n,((e,n)=>{l[n]&&(t[l[n]]=e.textContent)})),o.push(t)}})))}}return{fields:l,rows:o}}(0,t)}const{fields:s,rows:c}=i,u=function(e,t){const n=[];return e.forEach((e=>{const t=e.field;t&&n.push(t)})),t.some((e=>n.indexOf(e)>-1))}(o,s);u?e.createData(c).then((t=>{let o;return"insert"!==n.mode&&"insertBottom"!==n.mode||(o=e.insertAt(t,-1)),o="insertTop"===n.mode?e.insert(t):e.reloadData(t),!1!==n.message&&Rm.modal&&Rm.modal.message({content:yT("vxe.table.impSuccess",[c.length]),status:"success"}),o.then((()=>{l&&l({status:!0})}))})):!1!==n.message&&(Rm.modal&&Rm.modal.message({content:yT("vxe.error.impFields"),status:"error"}),a&&a({status:!1}))},k=(t,n)=>{const{importMethod:o,afterImportMethod:l}=n,{type:a,filename:i}=Xw(t),s=c.value;if(!o&&!rp.includes(rp.keys(s._typeMaps),a)){!1!==n.message&&Rm.modal&&Rm.modal.message({content:yT("vxe.error.notType",[a]),status:"error"});const e={status:!1};return Promise.reject(e)}return new Promise(((l,s)=>{const c=e=>{l(e),r._importResolve=null,r._importReject=null},u=e=>{s(e),r._importResolve=null,r._importReject=null};if(r._importResolve=c,r._importReject=u,window.FileReader){const l=Object.assign({mode:"insertTop"},n,{type:a,filename:i});if(l.remote)o?Promise.resolve(o({file:t,options:l,$table:e})).then((()=>{c({status:!0})})).catch((()=>{c({status:!0})})):c({status:!0});else{const{tableFullColumn:n}=r;e.preventEvent(null,"event.import",{file:t,options:l,columns:n},(()=>{const e=new FileReader;e.onerror=()=>{$C("vxe.error.notType",[a]),u({status:!1})},e.onload=e=>{O(e.target.result,l)},e.readAsText(t,l.encoding||"UTF-8")}))}}else c({status:!0})})).then((()=>{l&&l({status:!0,options:n,$table:e})})).catch((t=>(l&&l({status:!1,options:n,$table:e}),Promise.reject(t))))},I=(o,a)=>{const{treeConfig:i,showHeader:c,showFooter:d}=n,{initStore:p,mergeList:m,mergeFooterList:f,isGroup:h,footerTableData:v,exportStore:b,exportParams:x}=l,{collectColumn:y}=r,w=s.value,C=i,S=u.value,E=e.getCheckboxRecords(),T=g?g.getComputeMaps().computeProxyOpts.value:{},D=!!v.length,O=!(!m.length&&!f.length),k=Object.assign({message:!0,isHeader:c,isFooter:d,isColgroup:h,isMerge:O,useStyle:!0,current:"current",modes:["current","selected"].concat(T.ajax&&T.ajax.queryAll?["all"]:[])},o),I=k.types||rp.keys(w._typeMaps),M=k.modes||[],P=S.checkMethod,R=y.slice(0),{columns:V}=k,A=I.map((e=>({value:e,label:yT(`vxe.export.types.${e}`)}))),$=M.map((e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:yT(`vxe.export.modes.${e}`)}));rp.eachTree(R,((e,t,n,o,l)=>{(e.children&&e.children.length||TT(e))&&(e.checked=V?V.some((t=>{if(TS(t))return e.id===t.id;if(rp.isString(t))return e.field===t;{const n=t.id||t.colId,o=t.type,l=t.field;if(n)return e.id===n;if(l&&o)return e.field===l&&e.type===o;if(l)return e.field===l;if(o)return e.type===o}return!1})):e.visible,e.halfChecked=!1,e.disabled=l&&l.disabled||!!P&&!P({column:e}))})),Object.assign(b,{columns:R,typeList:A,modeList:$,hasFooter:D,hasMerge:O,hasTree:C,isPrint:a,hasColgroup:h,visible:!0}),Object.assign(x,{mode:E.length?"selected":"current"},k);const{filename:F,sheetName:N,mode:L,type:_}=x;return F&&(rp.isFunction(F)?x.filename=F({options:k,$table:e,$grid:g}):x.filename=`${F}`),N&&(rp.isFunction(N)?x.sheetName=N({options:k,$table:e,$grid:g}):x.sheetName=`${N}`),$.some((e=>e.value===L))||(x.mode=$[0].value),A.some((e=>e.value===_))||(x.type=A[0].value),p.export=!0,t()},M=()=>Rm.modal?Rm.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),P={exportData(t){const{treeConfig:o}=n,{isGroup:i,tableGroupColumn:c}=l,{tableFullColumn:u,afterFullData:d}=r,p=s.value,m=a.value,f=Object.assign({isHeader:!0,isFooter:!0,isColgroup:!0,download:!0,type:"csv",mode:"current"},p,t),{filename:h,sheetName:v,type:b,mode:x,columns:y,original:w,columnFilterMethod:C,beforeExportMethod:S,includeFields:E,excludeFields:T}=f;let O=[];const k=y&&y.length?y:null,I=Object.assign({},f,{filename:"",sheetName:""});k||C||(I.columnFilterMethod=({column:e})=>(!T||!rp.includes(T,e.field))&&(E?!!rp.includes(E,e.field):w?e.field:TT(e))),k?(I._isCustomColumn=!0,O=rp.searchTree(rp.mapTree(k,(t=>{let n;if(t){if(TS(t))n=t;else if(rp.isString(t))n=e.getColumnByField(t);else{const o=t.id||t.colId,l=t.type,r=t.field;o?n=e.getColumnById(o):r&&l?n=u.find((e=>e.field===r&&e.type===l)):r?n=e.getColumnByField(r):l&&(n=u.find((e=>e.type===l)))}return n||{}}}),{children:"childNodes",mapChildren:"_children"}),((e,t)=>TS(e)&&(!C||C({column:e,$columnIndex:t}))),{children:"_children",mapChildren:"childNodes",original:!0})):O=rp.searchTree(i?c:u,((e,t)=>e.visible&&(!C||C({column:e,$columnIndex:t}))),{children:"children",mapChildren:"childNodes",original:!0});const M=[];if(rp.eachTree(O,(e=>{e.children&&e.children.length||M.push(e)}),{children:"childNodes"}),I.columns=M,I.colgroups=(e=>{let t=1;const n=(e,o)=>{if(o&&(e._level=o._level+1,t<e._level&&(t=e._level)),e.childNodes&&e.childNodes.length){let t=0;e.childNodes.forEach((o=>{n(o,e),t+=o._colSpan})),e._colSpan=t}else e._colSpan=1};e.forEach((e=>{e._level=1,n(e)}));const o=[];for(let l=0;l<t;l++)o.push([]);return DT(e).forEach((e=>{e.childNodes&&e.childNodes.length?e._rowSpan=1:e._rowSpan=t-e._level+1,o[e._level-1].push(e)})),o})(O),h&&(rp.isFunction(h)?I.filename=h({options:f,$table:e,$grid:g}):I.filename=`${h}`),I.filename||(I.filename=yT(I.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[rp.toDateString(Date.now(),"yyyyMMddHHmmss")])),v&&(rp.isFunction(v)?I.sheetName=v({options:f,$table:e,$grid:g}):I.sheetName=`${v}`),I.sheetName||(I.sheetName=document.title||""),!I.exportMethod&&!rp.includes(rp.keys(p._typeMaps),b)){$C("vxe.error.notType",[b]);const e={status:!1};return Promise.reject(e)}if(I.print||S&&S({options:I,$table:e,$grid:g}),!I.data)if(I.data=[],"selected"===x){const t=e.getCheckboxRecords();["html","pdf"].indexOf(b)>-1&&o?f.data=rp.searchTree(e.getTableData().fullData,(n=>e.findRowIndexOf(t,n)>-1),Object.assign({},m,{data:"_row"})):f.data=t}else if("all"===x){if(g&&!I.remote){const t=g.reactData,{computeProxyOpts:n}=g.getComputeMaps(),o=n.value,{sortData:l}=t,{beforeQueryAll:r,afterQueryAll:a,ajax:i={}}=o,s=o.response||o.props||{},c=i.queryAll,u=i.queryAllSuccess,d=i.queryAllError;if(c){const n={$table:e,$grid:g,sort:l.length?l[0]:{},sorts:l,filters:t.filterData,form:t.formData,options:I};return Promise.resolve((r||c)(n)).then((e=>{const t=s.list;return I.data=(t?rp.isFunction(t)?t({data:e,$grid:g}):rp.get(e,t):e)||[],a&&a(n),u&&u(Object.assign(Object.assign({},n),{response:e})),D(I)})).catch((e=>{d&&d(Object.assign(Object.assign({},n),{response:e}))}))}}}else"current"===x&&(I.data=d);return D(I)},importByFile(t,n){const o=Object.assign({},n),{beforeImportMethod:l}=o;return l&&l({options:o,$table:e}),k(t,o)},importData(t){const n=c.value,o=Object.assign({types:rp.keys(n._typeMaps)},n,t),{beforeImportMethod:l,afterImportMethod:r}=o;return l&&l({options:o,$table:e}),Rm.readFile(o).catch((t=>(r&&r({status:!1,options:o,$table:e}),Promise.reject(t)))).then((e=>{const{file:t}=e;return k(t,o)}))},saveFile:e=>Rm.saveFile(e),readFile:e=>Rm.readFile(e),print(t){const n=i.value,o=Object.assign({original:!1},n,t,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:l}=o;let r="";l&&(r=rp.isFunction(l)?l({options:o,$table:e,$grid:g}):`${l}`),r||(r=document.title||"");const a=o.beforePrintMethod,s=o.html||o.content;return new Promise(((t,n)=>{if(Rm.print)t(s?Rm.print({title:r,html:s,customStyle:o.style,beforeMethod:a?({html:t})=>a({html:t,content:t,options:o,$table:e}):void 0}):P.exportData(o).then((({content:t})=>Rm.print({title:r,html:t,customStyle:o.style,beforeMethod:a?({html:t})=>a({html:t,content:t,options:o,$table:e}):void 0}))));else{n({status:!1})}}))},getPrintHtml(t){const n=i.value,o=Object.assign({original:!1},n,t,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(o).then((({content:e})=>({html:e})))},closeImport:()=>Rm.modal?Rm.modal.close("VXE_IMPORT_MODAL"):Promise.resolve(),openImport(e){const{treeConfig:t,importConfig:o}=n,{initStore:r,importStore:a,importParams:i}=l,s=c.value,u=Object.assign({mode:"insertTop",message:!0,types:rp.keys(s._typeMaps),modes:["insertTop","covering"]},s,e),d=u.types||[],p=u.modes||[];if(!!t)return void(u.message&&Rm.modal&&Rm.modal.message({content:yT("vxe.error.treeNotImp"),status:"error"}));o||$C("vxe.error.reqProp",["import-config"]);const m=d.map((e=>({value:e,label:yT(`vxe.export.types.${e}`)}))),f=p.map((e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:yT(`vxe.import.modes.${e}`)}));Object.assign(a,{file:null,type:"",filename:"",modeList:f,typeList:m,visible:!0}),Object.assign(i,u),f.some((e=>e.value===i.mode))||(i.mode=f[0].value),r.import=!0},closeExport:M,openExport(e){const t=s.value,n=Object.assign({message:!0,types:rp.keys(t._typeMaps)},t,e);I(n)},closePrint:M,openPrint(e){const t=i.value,n=Object.assign({message:!0},t,e);I(n,!0)}};return P},setupGrid:e=>e.extendTableMethods(NT)});const{hooks:LT}=Rm;LT.add("tableKeyboardModule",{setupTable(e){const{props:t,reactData:n,internalData:o}=e,{refElem:l}=e.getRefMaps(),{computeEditOpts:r,computeCheckboxOpts:a,computeMouseOpts:i,computeTreeOpts:s}=e.getComputeMaps();const c=(t,r)=>{const{column:a,cell:i}=r;if("checkbox"===a.type){const s=l.value,{elemStore:c}=o,u=t.clientX,d=t.clientY,p=SS(c[`${a.fixed||"main"}-body-wrapper`]||c["main-body-wrapper"]);if(!p)return;const m=p.querySelector(".vxe-table--checkbox-range"),f=document.onmousemove,g=document.onmouseup,h=i.parentElement,v=e.getCheckboxRecords();let b=[];const x=1,y=function(e,t){let n=0,o=0;const l=!BC.firefox&&YC(e,"vxe-checkbox--label");if(l){const t=getComputedStyle(e);n-=rp.toNumber(t.paddingTop),o-=rp.toNumber(t.paddingLeft)}for(;e&&e!==t;)if(n+=e.offsetTop,o+=e.offsetLeft,e=e.offsetParent,l){const t=getComputedStyle(e);n-=rp.toNumber(t.paddingTop),o-=rp.toNumber(t.paddingLeft)}return{offsetTop:n,offsetLeft:o}}(t.target,p),w=y.offsetTop+t.offsetY,C=y.offsetLeft+t.offsetX,S=p.scrollTop,E=h.offsetHeight,T=h.getBoundingClientRect(),D=d-T.y;let O=null,k=!1,I=1;const M=(t,n)=>{e.dispatchEvent(`checkbox-range-${t}`,{records:e.getCheckboxRecords(),reserves:e.getCheckboxReserveRecords()},n)},P=t=>{const{clientX:l,clientY:a}=t,i=l-u,s=a-d+(p.scrollTop-S);let c=Math.abs(s),f=Math.abs(i),g=w,y=C;s<x?(g+=s,g<x&&(g=x,c=w)):c=Math.min(c,p.scrollHeight-w-x),i<x?(y+=i,f>C&&(y=x,f=C)):f=Math.min(f,p.clientWidth-C-x),m.style.height=`${c}px`,m.style.width=`${f}px`,m.style.left=`${y}px`,m.style.top=`${g}px`,m.style.display="block";const E=function(t,l,r,a,i,s){let c=0,u=[],d=0;const p=s>0,{scrollYLoad:m}=n,{afterFullData:f,scrollYStore:g}=o;if(m){d=p?i+s:a.height-i+Math.abs(s);const t=e.getVTRowIndex(l.row);u=p?f.slice(t,t+Math.ceil(d/g.rowHeight)):f.slice(t-Math.floor(d/g.rowHeight),t+1)}else{d=p?t.clientY-a.y:a.y-t.clientY+a.height;const n=p?"next":"previous";for(;r&&c<d;){const t=e.getRowNode(r);t&&(u.push(t.item),c+=r.offsetHeight,r=r[`${n}ElementSibling`])}}return u}(t,r,h,T,D,s<x?-c:c);c>10&&E.length!==b.length&&(b=E,t.ctrlKey?E.forEach((t=>{e.handleBatchSelectRows([t],-1===v.indexOf(t))})):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(E,!0,!1)),M("change",t))},R=()=>{clearTimeout(O),O=null},V=t=>{R(),O=setTimeout((()=>{if(O){const{scrollLeft:n,scrollTop:o,clientHeight:l,scrollHeight:r}=p,a=Math.ceil(50*I/E);k?o+l<r?(e.scrollTo(n,o+a),V(t),P(t)):R():o?(e.scrollTo(n,o-a),V(t),P(t)):R()}}),50)};ZC(s,"drag--range"),document.onmousemove=e=>{e.preventDefault(),e.stopPropagation();const{clientY:t}=e,{boundingTop:n}=iS(p);t<n?(k=!1,I=n-t,O||V(e)):t>n+p.clientHeight?(k=!0,I=t-n-p.clientHeight,O||V(e)):O&&R(),P(e)},document.onmouseup=e=>{R(),XC(s,"drag--range"),m.removeAttribute("style"),document.onmousemove=f,document.onmouseup=g,M("end",e)},M("start",t)}};return{moveTabSelected(n,l,a){const{editConfig:i}=t,{afterFullData:s,visibleColumn:c}=o,u=r.value;let d,p,m;const f=Object.assign({},n),g=e.getVTRowIndex(f.row),h=e.getVTColumnIndex(f.column);a.preventDefault(),l?h<=0?g>0&&(p=g-1,d=s[p],m=c.length-1):m=h-1:h>=c.length-1?g<s.length-1&&(p=g+1,d=s[p],m=0):m=h+1;const v=c[m];v&&(d?(f.rowIndex=p,f.row=d):f.rowIndex=g,f.columnIndex=m,f.column=v,f.cell=e.getCellElement(f.row,f.column),i?"click"!==u.trigger&&"dblclick"!==u.trigger||("row"===u.mode?e.handleEdit(f,a):e.scrollToRow(f.row,f.column).then((()=>e.handleSelected(f,a)))):e.scrollToRow(f.row,f.column).then((()=>e.handleSelected(f,a))))},moveCurrentRow(l,r,a){const{treeConfig:i}=t,{currentRow:c}=n,{afterFullData:u}=o,d=s.value,p=d.children||d.childrenField;let m;if(a.preventDefault(),c)if(i){const{index:e,items:t}=rp.findTree(u,(e=>e===c),{children:p});l&&e>0?m=t[e-1]:r&&e<t.length-1&&(m=t[e+1])}else{const t=e.getVTRowIndex(c);l&&t>0?m=u[t-1]:r&&t<u.length-1&&(m=u[t+1])}else m=u[0];if(m){const t={$table:e,row:m,rowIndex:e.getRowIndex(m),$rowIndex:e.getVMRowIndex(m)};e.scrollToRow(m).then((()=>e.triggerCurrentRowEvent(a,t)))}},moveSelected(t,n,l,r,a,i){const{afterFullData:s,visibleColumn:c}=o,u=Object.assign({},t),d=e.getVTRowIndex(u.row),p=e.getVTColumnIndex(u.column);i.preventDefault(),l&&d>0?(u.rowIndex=d-1,u.row=s[u.rowIndex]):a&&d<s.length-1?(u.rowIndex=d+1,u.row=s[u.rowIndex]):n&&p?(u.columnIndex=p-1,u.column=c[u.columnIndex]):r&&p<c.length-1&&(u.columnIndex=p+1,u.column=c[u.columnIndex]),e.scrollToRow(u.row,u.column).then((()=>{u.cell=e.getCellElement(u.row,u.column),e.handleSelected(u,i)}))},handleCellMousedownEvent:(n,o)=>{const{editConfig:l,checkboxConfig:s,mouseConfig:u}=t,d=a.value,p=i.value,m=r.value;if(u&&p.area&&e.handleMousedownCellAreaEvent)return e.handleMousedownCellAreaEvent(n,o);s&&d.range&&c(n,o),u&&p.selected&&(l&&"cell"!==m.mode||e.handleSelected(o,n))}}}});const{getConfig:_T,validators:BT,hooks:jT}=Rm;class zT{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.max,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return eC(this.$options.content||this.$options.message)}get message(){return this.content}}const WT=["fullValidate","validate","fullValidateField","validateField","clearValidate"];jT.add("tableValidatorModule",{setupTable(e){const{props:n,reactData:o,internalData:l}=e,{refValidTooltip:r}=e.getRefMaps(),{computeValidOpts:a,computeTreeOpts:i,computeEditOpts:s}=e.getComputeMaps();let c,u={},d={};const p=(r,s,p,m)=>{const f={},{editRules:g,treeConfig:h}=n,{afterFullData:v}=l,b=i.value,x=b.children||b.childrenField,y=a.value;let w;!0===r?w=v:r&&(rp.isFunction(r)?p=r:w=rp.isArray(r)?r:[r]),w||(w=e.getInsertRecords?e.getInsertRecords().concat(e.getUpdateRecords()):[]);const C=[];l._lastCallTime=Date.now(),c=!1,u.clearValidate();const S={};if(g){const n=s&&s.length?s:e.getColumns(),l=t=>{if(m||!c){const o=[];n.forEach((n=>{const l=rp.isString(n)?n:n.field;!m&&c||!rp.has(g,l)||o.push(d.validCellRules("all",t,n).catch((({rule:o,rules:r})=>{const a={rule:o,rules:r,rowIndex:e.getRowIndex(t),row:t,columnIndex:e.getColumnIndex(n),column:n,field:l,$table:e};if(f[l]||(f[l]=[]),S[`${gS(e,t)}:${n.id}`]={column:n,row:t,rule:o,content:o.content},f[l].push(a),!m)return c=!0,Promise.reject(a)})))})),C.push(Promise.all(o))}};return h?rp.eachTree(w,l,{children:x}):w.forEach(l),Promise.all(C).then((()=>{const e=Object.keys(f);return o.validErrorMaps=(e=>{if("single"===a.value.msgMode){const t=Object.keys(e),n={};if(t.length){const o=t[0];n[o]=e[o]}return n}return e})(S),t().then((()=>{if(e.length)return Promise.reject(f[e[0]][0]);p&&p()}))})).catch((n=>new Promise(((o,l)=>{const r=()=>{t((()=>{p?(p(f),o()):"obsolete"===_T().validToReject?l(f):o(f)}))},i=()=>{var t,o;n.cell=e.getCellElement(n.row,n.column),(t=n.cell)&&(t[sS]?t[sS]():t[cS]&&t[cS]()),(o=n,new Promise((t=>{!1===a.value.autoPos?(e.dispatchEvent("valid-error",o,null),t()):e.handleEdit(o,{type:"valid-error",trigger:"call"}).then((()=>{t(d.showValidTooltip(o))}))}))).then(r)};if(!1===y.autoPos)r();else{const t=n.row,o=n.column;e.scrollToRow(t,o).then(i)}}))))}return o.validErrorMaps={},t().then((()=>{p&&p()}))};u={fullValidate:(e,t)=>p(e,null,t,!0),validate:(e,t)=>p(e,null,t),fullValidateField(n,o){const l=(rp.isArray(o)?o:o?[o]:[]).map((t=>hS(e,t)));return l.length?p(n,l,null,!0):t()},validateField(n,o){const l=(rp.isArray(o)?o:o?[o]:[]).map((t=>hS(e,t)));return l.length?p(n,l,null):t()},clearValidate(n,l){const{validErrorMaps:i}=o,s=r.value,c=a.value,u=rp.isArray(n)?n:n?[n]:[],d=(rp.isArray(l)?l:l?[l]:[]).map((t=>hS(e,t)));let p={};if(s&&s.reactData.visible&&s.close(),"single"===c.msgMode)return o.validErrorMaps={},t();if(u.length&&d.length)p=Object.assign({},i),u.forEach((t=>{d.forEach((n=>{const o=`${gS(e,t)}:${n.id}`;p[o]&&delete p[o]}))}));else if(u.length){const t=u.map((t=>`${gS(e,t)}`));rp.each(i,((e,n)=>{t.indexOf(n.split(":")[0])>-1&&(p[n]=e)}))}else if(d.length){const e=d.map((e=>`${e.id}`));rp.each(i,((t,n)=>{e.indexOf(n.split(":")[1])>-1&&(p[n]=t)}))}return o.validErrorMaps=p,t()}};const m=(e,t)=>{const{type:n,min:o,max:l,pattern:r}=e,a="number"===n,i=a?rp.toNumber(t):rp.getSize(t);return!(!a||!isNaN(t))||(!rp.eqNull(o)&&i<rp.toNumber(o)||(!rp.eqNull(l)&&i>rp.toNumber(l)||!(!r||(rp.isRegExp(r)?r:new RegExp(r)).test(t))))};return d={validCellRules(t,o,l,r){const{editRules:a}=n,{field:i}=l,s=[],u=[];if(i&&a){const n=rp.get(a,i);if(n){const a=rp.isUndefined(r)?rp.get(o,i):r;n.forEach((r=>{const{type:i,trigger:d,required:p,validator:f}=r;if("all"===t||!d||t===d)if(f){const t={cellValue:a,rule:r,rules:n,row:o,rowIndex:e.getRowIndex(o),column:l,columnIndex:e.getColumnIndex(l),field:l.field,$table:e,$grid:e.xegrid};let i;if(rp.isString(f)){const e=BT.get(f);if(e){const n=e.tableCellValidatorMethod||e.cellValidatorMethod;n&&(i=n(t))}}else i=f(t);i&&(rp.isError(i)?(c=!0,s.push(new zT({type:"custom",trigger:d,content:i.message,rule:new zT(r)}))):i.catch&&u.push(i.catch((e=>{c=!0,s.push(new zT({type:"custom",trigger:d,content:e&&e.message?e.message:r.content||r.message,rule:new zT(r)}))}))))}else{const e="array"===i,t=rp.isArray(a);let n=!0;n=e||t?!t||!a.length:rp.isString(a)?nC(a.trim()):nC(a),(p?n||m(r,a):!n&&m(r,a))&&(c=!0,s.push(new zT(r)))}}))}}return Promise.all(u).then((()=>{if(s.length){const e={rules:s,rule:s[0]};return Promise.reject(e)}}))},hasCellRules(e,t,o){const{editRules:l}=n,{field:r}=o;if(r&&l){const t=rp.get(l,r);return t&&!!rp.find(t,(t=>"all"===e||!t.trigger||e===t.trigger))}return!1},triggerValidate(e){const{editConfig:t,editRules:l}=n,{editStore:r}=o,{actived:i}=r,c=s.value,p=a.value;if(l&&"single"===p.msgMode&&(o.validErrorMaps={}),t&&l&&i.row){const{row:t,column:n,cell:o}=i.args;if(d.hasCellRules(e,t,n))return d.validCellRules(e,t,n).then((()=>{"row"===c.mode&&u.clearValidate(t,n)})).catch((({rule:l})=>{if(!l.trigger||e===l.trigger){const e={rule:l,row:t,column:n,cell:o};return d.showValidTooltip(e),Promise.reject(e)}return Promise.resolve()}))}return Promise.resolve()},showValidTooltip(l){const{height:i}=n,{tableData:s,validStore:c,validErrorMaps:u}=o,{rule:d,row:p,column:m,cell:f}=l,g=a.value,h=r.value,v=d.content;return c.visible=!0,"single"===g.msgMode?o.validErrorMaps={[`${gS(e,p)}:${m.id}`]:{column:m,row:p,rule:d,content:v}}:o.validErrorMaps=Object.assign({},u,{[`${gS(e,p)}:${m.id}`]:{column:m,row:p,rule:d,content:v}}),e.dispatchEvent("valid-error",l,null),h&&h&&("tooltip"===g.message||"default"===g.message&&!i&&s.length<2)?h.open(f,v):t()}},Object.assign(Object.assign({},u),d)},setupGrid:e=>e.extendTableMethods(WT)});const HT=["openCustom","closeCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];Rm.hooks.add("tableCustomModule",{setupTable(e){const{reactData:n,internalData:o}=e,{computeCustomOpts:l}=e.getComputeMaps(),{refElem:r}=e.getRefMaps(),a=e.xegrid,i=()=>{const{customStore:e}=n,t=r.value;let o=0;t&&(o=t.clientHeight-28),e.maxHeight=Math.max(88,o)},s=()=>{const{initStore:e,customStore:o}=n;return o.visible=!0,e.custom=!0,c(),m(),i(),t().then((()=>i()))},c=()=>{const{customStore:e}=n,{collectColumn:t}=o;if(e.visible){const o={},l={},r={};rp.eachTree(t,(e=>{const t=e.getKey();e.renderFixed=e.fixed,e.renderVisible=e.visible,e.renderResizeWidth=e.renderWidth,o[t]=e.renderSortNumber,l[t]=e.fixed,r[t]=e.visible})),e.oldSortMaps=o,e.oldFixedMaps=l,e.oldVisibleMaps=r,n.customColumnList=t.slice(0)}},u=()=>{const{customStore:o}=n,r=l.value;return o.visible&&(o.visible=!1,r.immediate||e.handleCustom()),t()},d=o=>{const{customStore:r}=n,{customColumnList:a}=n,i=l.value,{checkMethod:s,visibleMethod:c}=i,u=!!o;return i.immediate?(rp.eachTree(a,(e=>{c&&!c({column:e})||s&&!s({column:e})||(e.visible=u,e.renderVisible=u,e.halfVisible=!1)})),r.isAll=u,n.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(rp.eachTree(a,(e=>{c&&!c({column:e})||s&&!s({column:e})||(e.renderVisible=u,e.halfVisible=!1)})),r.isAll=u),e.checkCustomStatus(),t()},p={openCustom:s,closeCustom:u,saveCustom:()=>{const{customColumnList:t}=n,o=l.value,{allowVisible:r,allowSort:a,allowFixed:i,allowResizable:s}=o;return rp.eachTree(t,((e,t,n,o,l)=>{if(l)e.fixed=l.fixed;else{if(a){const n=t+1;e.renderSortNumber=n}i&&(e.fixed=e.renderFixed)}s&&(!e.renderVisible||e.children&&!e.children.length||e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth)),r&&(e.visible=e.renderVisible)})),n.isCustomStatus=!0,n.isDragColMove=!0,setTimeout((()=>{n.isDragColMove=!1}),1e3),e.saveCustomStore("confirm")},cancelCustom:()=>{const{customColumnList:e,customStore:o}=n,{oldSortMaps:r,oldFixedMaps:a,oldVisibleMaps:i}=o,s=l.value,{allowVisible:c,allowSort:u,allowFixed:d,allowResizable:p}=s;return rp.eachTree(e,(e=>{const t=e.getKey(),n=!!i[t],o=a[t]||"";c&&(e.renderVisible=n,e.visible=n),d&&(e.renderFixed=o,e.fixed=o),u&&(e.renderSortNumber=r[t]||0),p&&(e.renderResizeWidth=e.renderWidth)}),{children:"children"}),t()},resetCustom(t){const{collectColumn:r}=o,a=l.value,{checkMethod:i}=a,s=Object.assign({visible:!0,resizable:!0===t,fixed:!0===t,sort:!0===t},t);return rp.eachTree(r,(e=>{s.resizable&&(e.resizeWidth=0),s.fixed&&(e.fixed=e.defaultFixed),s.sort&&(e.renderSortNumber=e.sortNumber),i&&!i({column:e})||(e.visible=e.defaultVisible),e.renderResizeWidth=e.renderWidth})),n.isCustomStatus=!1,e.saveCustomStore("reset"),e.handleCustom()},toggleCustomAllCheckbox(){const{customStore:e}=n,t=!e.isAll;return d(t)},setCustomAllCheckbox:d},m=()=>{const{customStore:e}=n,{collectColumn:t}=o,r=l.value,{checkMethod:a}=r;e.isAll=t.every((e=>!!a&&!a({column:e})||e.renderVisible)),e.isIndeterminate=!e.isAll&&t.some((e=>(!a||a({column:e}))&&(e.renderVisible||e.halfVisible)))},f=(t,n)=>{(a||e).dispatchEvent("custom",{type:t},n)},g={checkCustomStatus:m,emitCustomEvent:f,triggerCustomEvent(t){const{customStore:n}=e.reactData;n.visible?(u(),f("close",t)):(n.btnEl=t.target,s(),f("open",t))},customOpenEvent(t){const{customStore:o}=n;o.visible||(o.activeBtn=!0,o.btnEl=t.target,e.openCustom(),e.emitCustomEvent("open",t))},customCloseEvent(t){const{customStore:o}=n;o.visible&&(o.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",t))},handleUpdateCustomColumn:c};return Object.assign(Object.assign({},p),g)},setupGrid:e=>e.extendTableMethods(HT)});const{getConfig:qT,renderer:UT,getI18n:KT}=Rm,GT="modelValue",YT={};function XT(e,t,n){return rp.eqNull(e)?rp.eqNull(t)?n:t:e}function ZT(e,t,n){const{dateConfig:o={}}=t;return rp.toDateString(function(e,t){return e&&t.valueFormat?rp.toStringDate(e,t.valueFormat):e}(e,t),o.labelFormat||n)}function QT(e,t){return ZT(e,t,KT(`vxe.input.date.labelFormat.${t.type||"date"}`))}function JT({name:e}){return C(e)}function eD({name:e}){return C(function(e){return`vxe-${e.replace("$","")}`}(e))}function tD(e,t,n){const{$panel:o}=e;o.changeOption({},t,n)}function nD(e){let{name:t,attrs:n}=e;return"input"===t&&(n=Object.assign({type:"text"},n)),n}function oD(e){const{name:t,immediate:n,props:o}=e;if(!n){if("VxeInput"===t||"$input"===t){const{type:e}=o||{};return!(!e||"text"===e||"number"===e||"integer"===e||"float"===e)}return"input"!==t&&"textarea"!==t&&"$textarea"!==t}return n}function lD(e,t,n,o){return rp.assign({immediate:oD(e)},YT,o,e.props,{[GT]:n})}function rD(e,t,n,o){return rp.assign({},YT,o,e.props,{[GT]:n})}function aD(e,t){return"cell"===t.$type||oD(e)}function iD(e,t,n){const{placeholder:o}=e;return[w("span",{class:"vxe-cell--label"},o&&Yw(n)?[w("span",{class:"vxe-cell--placeholder"},tC(eC(o),1))]:tC(n,1))]}function sD(e,t,n,o){const{events:l}=e,r=LS(e),a=_S(e),i=a===r,s={};return l&&rp.objectEach(l,((e,n)=>{s[NS(n)]=function(...n){e(t,...n)}})),n&&(s[NS(r)]=function(e){n(e),i&&o&&o(e),l&&l[r]&&l[r](t,e)}),!i&&o&&(s[NS(a)]=function(...e){o(...e),l&&l[a]&&l[a](t,...e)}),s}function cD(e,t,n,o){const{events:l}=e,r=LS(e),a=_S(e),i={};return rp.objectEach(l,((e,n)=>{i[NS(n)]=function(...n){e(t,...n)}})),n&&(i[NS(r)]=function(e){n(e),l&&l[r]&&l[r](t,e)}),o&&(i[NS(a)]=function(...e){o(...e),l&&l[a]&&l[a](t,...e)}),i}function uD(e,t){const{$table:n,row:o,column:l}=t,{name:r}=e,{model:a}=l,i=aD(e,t);return cD(e,t,(e=>{a.update=!0,a.value=e,i&&CS(o,l,e)}),(e=>{if(!i&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(r)){const o=e.value;a.update=!0,a.value=o,n.updateStatus(t,o)}else n.updateStatus(t)}))}function dD(e,t,n){return cD(e,t,(e=>{n.data=e}),(()=>{tD(t,!rp.eqNull(n.data),n)}))}function pD(e,t){const{$table:n,row:o,column:l}=t,{model:r}=l;return sD(e,t,(n=>{const a=n.target.value;aD(e,t)?CS(o,l,a):(r.update=!0,r.value=a)}),(e=>{const o=e.target.value;n.updateStatus(t,o)}))}function mD(e,t,n){return sD(e,t,(e=>{n.data=e.target.value}),(()=>{tD(t,!rp.eqNull(n.data),n)}))}function fD(e,t){const{row:n,column:o}=t,{name:l}=e,r=aD(e,t)?wS(n,o):o.model.value;return[w(l,Object.assign(Object.assign(Object.assign({class:`vxe-default-${l}`},nD(e)),{value:r}),pD(e,t)))]}function gD(e,t){const{row:n,column:o}=t,l=wS(n,o);return[w(JT(e),Object.assign(Object.assign({},lD(e,0,l)),uD(e,t)))]}function hD(e,t){const{options:n}=e,{row:o,column:l}=t,r=wS(o,l);return[w(JT(e),Object.assign(Object.assign({options:n},lD(e,0,r)),uD(e,t)))]}function vD(e,t){const{row:n,column:o}=t,l=wS(n,o);return[w(eD(e),Object.assign(Object.assign({},lD(e,0,l)),uD(e,t)))]}function bD(e,t){return[w(C("vxe-button"),Object.assign(Object.assign({},lD(e,0,null)),cD(e,t)))]}function xD(e,t,n){const{optionGroups:o,optionGroupProps:l={}}=e,r=l.options||"options",a=l.label||"label";return o.map(((o,l)=>w("optgroup",{key:l,label:o[a]},n(o[r],e,t))))}function yD(e,t,n){const{optionProps:o={}}=t,{row:l,column:r}=n,a=o.label||"label",i=o.value||"value",s=o.disabled||"disabled",c=aD(t,n)?wS(l,r):r.model.value;return e.map(((e,t)=>w("option",{key:t,value:e[i],disabled:e[s],selected:e[i]==c},e[a])))}function wD(e,t){const{column:n}=t;return n.filters.map(((n,o)=>{const l=n.data;return w(JT(e),Object.assign(Object.assign({key:o},rD(e,0,l)),dD(e,t,n)))}))}function CD({option:e,row:t,column:n}){const{data:o}=e;return rp.get(t,n.field)==o}function SD({option:e,row:t,column:n}){const{data:o}=e,l=rp.get(t,n.field);return rp.toValueString(l).indexOf(o)>-1}function ED(e,t){return[w("select",Object.assign(Object.assign({class:"vxe-default-select"},nD(e)),pD(e,t)),e.optionGroups?xD(e,t,yD):yD(e.options,e,t))]}function TD(e,t){const{row:n,column:o}=t,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i}=e,s=wS(n,o);return[w(JT(e),Object.assign(Object.assign({},lD(e,0,s,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i})),uD(e,t)))]}function DD(e,t){const{row:n,column:o}=t,{options:l,optionProps:r}=e,a=wS(n,o);return[w(JT(e),Object.assign(Object.assign({},lD(e,0,a,{options:l,optionProps:r})),uD(e,t)))]}function OD(e,t){const{row:n,column:o}=t,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i}=e,s=wS(n,o);return[w(eD(e),Object.assign(Object.assign({},lD(e,0,s,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i})),uD(e,t)))]}function kD(e,{row:t,column:n}){const{options:o,optionGroups:l,optionProps:r={},optionGroupProps:a={}}=e,i=rp.get(t,n.field);let s;const c=r.label||"label",u=r.value||"value";return null!=i?rp.map(rp.isArray(i)?i:[i],l?e=>{const t=a.options||"options";for(let n=0;n<l.length&&(s=rp.find(l[n][t],(t=>t[u]==e)),!s);n++);return s?s[c]:e}:e=>(s=rp.find(o,(t=>t[u]==e)),s?s[c]:e)).join(", "):""}function ID(e){const{row:t,column:n,options:o}=e;return o.original?wS(t,n):kD(n.editRender||n.cellRender,e)}function MD(e,{row:t,column:n}){const{options:o,optionProps:l={}}=e,r=rp.get(t,n.field),a=l.label||"label",i=l.value||"value",s=l.children||"children";if(null!=r){const e={};return rp.eachTree(o,(t=>{e[rp.get(t,i)]=t}),{children:s}),rp.map(rp.isArray(r)?r:[r],(t=>{const n=e[t];return n?rp.get(n,a):n})).join(", ")}return""}function PD(e){const{row:t,column:n,options:o}=e;return o.original?wS(t,n):MD(n.editRender||n.cellRender,e)}UT.mixin({input:{tableAutoFocus:"input",renderTableEdit:fD,renderTableDefault:fD,renderTableFilter:function(e,t){const{column:n}=t,{name:o}=e,l=nD(e);return n.filters.map(((n,r)=>w(o,Object.assign(Object.assign(Object.assign({key:r,class:`vxe-default-${o}`},l),{value:n.data}),mD(e,t,n)))))},tableFilterDefaultMethod:SD},textarea:{tableAutoFocus:"textarea",renderTableEdit:fD},select:{renderTableEdit:ED,renderTableDefault:ED,renderTableCell:(e,t)=>iD(e,0,kD(e,t)),renderTableFilter(e,t){const{column:n}=t;return n.filters.map(((n,o)=>w("select",Object.assign(Object.assign({key:o,class:"vxe-default-select"},nD(e)),mD(e,t,n)),e.optionGroups?xD(e,t,yD):yD(e.options,e,t))))},tableFilterDefaultMethod:CD,tableExportMethod:ID},VxeInput:{tableAutoFocus:"input",renderTableEdit:gD,renderTableCell(e,t){const{props:n={}}=e,{row:o,column:l}=t,r=qT().input||{},a=n.digits||r.digits||2;let i=rp.get(o,l.field);if(i)switch(n.type){case"date":case"week":case"month":case"quarter":case"year":i=QT(i,n);break;case"float":i=rp.toFixed(rp.floor(i,a),a)}return iD(e,0,i)},renderTableDefault:gD,renderTableFilter:wD,tableFilterDefaultMethod:SD},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:gD,renderTableCell(e,t){const{props:n={}}=e,{row:o,column:l}=t,{type:r}=n;let a=rp.get(o,l.field);if(a){const e=qT().numberInput||{};if("float"===r){const t=XT(n.autoFill,e.autoFill,!0),o=XT(n.digits,e.digits,1);a=rp.toFixed(rp.floor(a,o),o),t||(a=rp.toNumber(a))}else if("amount"===r){const t=XT(n.autoFill,e.autoFill,!0),o=XT(n.digits,e.digits,2),l=XT(n.showCurrency,e.showCurrency,!1);if(a=rp.commafy(rp.toNumber(a),{digits:o}),!t){const[e,t]=a.split(".");if(t){const n=t.replace(/0+$/,"");a=n?[e,".",n].join(""):e}}l&&(a=`${n.currencySymbol||e.currencySymbol||KT("vxe.numberInput.currencySymbol")||""}${a}`)}}return iD(e,0,a)},renderTableFooter(e,t){const{props:n={}}=e,{row:o,column:l,_columnIndex:r}=t,{type:a}=n,i=rp.isArray(o)?o[r]:rp.get(o,l.field);if(rp.isNumber(i)){const e=qT().numberInput||{};if("float"===a){const t=XT(n.autoFill,e.autoFill,!0),o=XT(n.digits,e.digits,1);let l=rp.toFixed(rp.floor(i,o),o);return t||(l=rp.toNumber(l)),l}if("amount"===a){const t=XT(n.autoFill,e.autoFill,!0),o=XT(n.digits,e.digits,2),l=XT(n.showCurrency,e.showCurrency,!1);let r=rp.commafy(rp.toNumber(i),{digits:o});if(!t){const[e,t]=r.split(".");if(t){const n=t.replace(/0+$/,"");r=n?[e,".",n].join(""):e}}return l&&(r=`${n.currencySymbol||e.currencySymbol||KT("vxe.numberInput.currencySymbol")||""}${r}`),r}}return eC(i,1)},renderTableDefault:gD,renderTableFilter:wD,tableFilterDefaultMethod:SD,tableExportMethod(e){const{row:t,column:n}=e;return rp.get(t,n.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:gD,renderTableCell(e,t){const{props:n={}}=e,{row:o,column:l}=t;let r=rp.get(o,l.field);return r&&"time"!==n.type&&(r=QT(r,n)),iD(e,0,r)},renderTableDefault:gD,renderTableFilter:wD,tableFilterDefaultMethod:CD},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:gD,renderTableCell(e,t){const{row:n,column:o}=t;return iD(e,0,rp.get(n,o.field))}},VxeButton:{renderTableDefault:function(e,t){return[w(JT(e),Object.assign(Object.assign({},lD(e,0,null)),cD(e,t)))]}},VxeButtonGroup:{renderTableDefault(e,t){const{options:n}=e;return[w(JT(e),Object.assign(Object.assign({options:n},lD(e,0,null)),cD(e,t)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:TD,renderTableDefault:TD,renderTableCell:(e,t)=>iD(e,0,kD(e,t)),renderTableFilter(e,t){const{column:n}=t,{options:o,optionProps:l,optionGroups:r,optionGroupProps:a}=e;return n.filters.map(((n,i)=>{const s=n.data;return w(JT(e),Object.assign(Object.assign({key:i},rD(e,0,s,{options:o,optionProps:l,optionGroups:r,optionGroupProps:a})),dD(e,t,n)))}))},tableFilterDefaultMethod:CD,tableExportMethod:ID},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:DD,renderTableCell:(e,t)=>iD(e,0,MD(e,t)),tableExportMethod:PD},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:DD,renderTableCell:(e,t)=>iD(e,0,MD(e,t)),tableExportMethod:PD},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:n,column:o}=t,{options:l}=e,r=wS(n,o);return[w(JT(e),Object.assign(Object.assign({},lD(e,0,r,{colors:l})),uD(e,t)))]},renderTableCell(e,t){const{row:n,column:o}=t,l=rp.get(n,o.field);return w("span",{class:"vxe-color-picker--readonly"},[w("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:l}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:n,column:o}=t,{options:l}=e,r=wS(n,o);return[w(JT(e),Object.assign(Object.assign({},lD(e,0,r,{icons:l})),uD(e,t)))]},renderTableCell(e,t){const{row:n,column:o}=t,l=rp.get(n,o.field);return w("i",{class:l})}},VxeRadioGroup:{renderTableDefault:hD},VxeCheckboxGroup:{renderTableDefault:hD},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:gD,renderTableDefault:gD},VxeUpload:{renderTableEdit:gD,renderTableCell:gD,renderTableDefault:gD},VxeImage:{renderTableDefault(e,t){const{row:n,column:o}=t,{props:l}=e,r=wS(n,o);return[w(JT(e),Object.assign(Object.assign(Object.assign({},l),{src:r}),uD(e,t)))]}},VxeImageGroup:{renderTableDefault(e,t){const{row:n,column:o}=t,{props:l}=e,r=wS(n,o);return[w(JT(e),Object.assign(Object.assign(Object.assign({},l),{urlList:r}),uD(e,t)))]}},VxeTextEllipsis:{renderTableDefault(e,t){const{row:n,column:o}=t,{props:l}=e,r=wS(n,o);return[w(JT(e),Object.assign(Object.assign(Object.assign({},l),{content:r}),uD(e,t)))]}},VxeRate:{renderTableDefault:gD},VxeSlider:{renderTableDefault:gD},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:vD,renderTableCell(e,t){var n;const{props:o={}}=e,{row:l,column:r}=t,a=o.digits||(null===(n=qT().input)||void 0===n?void 0:n.digits)||2;let i=rp.get(l,r.field);if(i)switch(o.type){case"date":case"week":case"month":case"year":i=QT(i,o);break;case"float":i=rp.toFixed(rp.floor(i,a),a)}return iD(e,0,i)},renderTableDefault:vD,renderTableFilter:function(e,t){const{column:n}=t;return n.filters.map(((n,o)=>{const l=n.data;return w(eD(e),Object.assign(Object.assign({key:o},rD(e,0,l)),dD(e,t,n)))}))},tableFilterDefaultMethod:SD},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:bD},$buttons:{renderTableDefault:function(e,t){return e.children.map((e=>bD(e,t)[0]))}},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:OD,renderTableDefault:OD,renderTableCell:(e,t)=>iD(e,0,kD(e,t)),renderTableFilter(e,t){const{column:n}=t,{options:o,optionProps:l,optionGroups:r,optionGroupProps:a}=e;return n.filters.map(((n,i)=>{const s=n.data;return w(eD(e),Object.assign(Object.assign({key:i},rD(e,0,s,{options:o,optionProps:l,optionGroups:r,optionGroupProps:a})),dD(e,t,n)))}))},tableFilterDefaultMethod:CD,tableExportMethod:ID},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:vD,renderTableDefault:vD}});const RD=Object.assign({},aT,{install(e){e.component(aT.name,aT)}}),VD={useCellView:function(e){const t=f((()=>{const{renderParams:t}=e;return t.column})),n=f((()=>{const{renderParams:t}=e;return t.row})),o=f((()=>{const{renderOpts:t}=e;return t.props||{}}));return{currColumn:t,currRow:n,cellModel:f({get(){const{renderParams:t}=e,{row:n,column:o}=t;return rp.get(n,o.field)},set(t){const{renderParams:n}=e,{row:o,column:l}=n;return rp.set(o,l.field,t)}}),cellOptions:o}}};Rm.dynamicApp&&Rm.dynamicApp.component(aT.name,aT),Rm.component(aT),Rm.tableHandle=VD;const AD=RD,{getConfig:$D,getIcon:FD,getI18n:ND,renderer:LD,commands:_D,createEvent:BD,useFns:jD}=Rm,zD=p({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>$D().toolbar.buttons},tools:{type:Array,default:()=>$D().toolbar.tools},perfect:{type:Boolean,default:()=>$D().toolbar.perfect},size:{type:String,default:()=>$D().toolbar.size||$D().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,n){const{slots:l,emit:a}=n,i=rp.uniqueId(),s=Rm.getComponent("VxeButton"),{computeSize:c}=jD.useSize(e),u=m({isRefresh:!1,connectFlag:0,columns:[]}),d={connectTable:null},p=r(),g={refElem:p},h={xID:i,props:e,context:n,reactData:u,internalData:d,getRefMaps:()=>g};let v={};const b=o("$xeGrid",null),y=f((()=>Object.assign({},rp.clone($D().toolbar.refresh,!0),e.refresh))),C=f((()=>Object.assign({},rp.clone($D().toolbar.import,!0),e.import))),S=f((()=>Object.assign({},rp.clone($D().toolbar.export,!0),e.export))),E=f((()=>Object.assign({},rp.clone($D().toolbar.print,!0),e.print))),T=f((()=>Object.assign({},rp.clone($D().toolbar.zoom,!0),e.zoom))),D=f((()=>Object.assign({},rp.clone($D().toolbar.custom,!0),e.custom))),O=f((()=>{const{connectTable:e}=d,t=e;if((u.connectFlag||t)&&t){const{computeCustomOpts:e}=t.getComputeMaps();return e.value}return{trigger:""}})),k=f((()=>O.value.trigger)),I=()=>{const{connectTable:e}=d;if(e)return!0;$C("vxe.error.barUnableLink")},M=({$event:e})=>{const{connectTable:t}=d,n=t;n&&(n.triggerCustomEvent?n.triggerCustomEvent(e):$C("vxe.error.reqModule",["VxeTableCustomModule"]))},P=({$event:e})=>{const{connectTable:t}=d;t?t.customOpenEvent(e):$C("vxe.error.reqModule",["VxeTableCustomModule"])},R=({$event:e})=>{const{connectTable:t}=d,n=t;if(n){const{customStore:t}=n.reactData;t.activeBtn=!1,setTimeout((()=>{t.activeBtn||t.activeWrapper||n.customCloseEvent(e)}),350)}},V=({$event:e})=>{const{isRefresh:t}=u,n=y.value;if(!t){const t=n.queryMethod||n.query;if(t){u.isRefresh=!0;try{Promise.resolve(t({})).catch((e=>e)).then((()=>{u.isRefresh=!1}))}catch(o){u.isRefresh=!1}}else b&&(u.isRefresh=!0,b.triggerToolbarCommitEvent({code:n.code||"reload"},e).catch((e=>e)).then((()=>{u.isRefresh=!1})))}},A=({$event:e})=>{b&&b.triggerZoomEvent(e)},$=(e,t)=>{const{connectTable:n}=d,o=n,{code:l}=t;if(l)if(b)b.triggerToolbarBtnEvent(t,e);else{const n=_D.get(l),r={code:l,button:t,$table:o,$grid:b,$event:e};if(n){const e=n.tableCommandMethod||n.commandMethod;e&&e(r)}h.dispatchEvent("button-click",r,e)}},F=(e,t)=>{const{connectTable:n}=d,o=n,{code:l}=t;if(l)if(b)b.triggerToolbarTolEvent(t,e);else{const n=_D.get(l),r={code:l,tool:t,$table:o,$grid:b,$event:e};if(n){const e=n.tableCommandMethod||n.commandMethod;e&&e(r)}h.dispatchEvent("tool-click",r,e)}},N=()=>{if(I()){const{connectTable:e}=d;e&&e.openImport()}},L=()=>{if(I()){const{connectTable:e}=d;e&&e.openExport()}},_=()=>{if(I()){const{connectTable:e}=d;e&&e.openPrint()}};v={dispatchEvent:(e,t,n)=>{a(e,BD(n,{$toolbar:h},t))},syncUpdate(e){d.connectTable=e.$table,u.columns=e.collectColumn,u.connectFlag++}},Object.assign(h,v);const B=(e,t)=>{const{dropdowns:n}=e;return n?n.map(((e,n)=>!1===e.visible?x():s?w(s,{key:n,disabled:e.disabled,loading:e.loading,type:e.type,mode:e.mode,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,title:e.title,routerLink:e.routerLink,permissionCode:e.permissionCode,prefixTooltip:e.prefixTooltip,suffixTooltip:e.suffixTooltip,onClick:({$event:n})=>t?$(n,e):F(n,e)}):x())):[]},j=()=>{const{buttons:t}=e,{connectTable:n}=d,o=n,r=l.buttonPrefix||l["button-prefix"],a=l.buttonSuffix||l["button-suffix"],i=[];return r&&i.push(...BS(r({buttons:t||[],$grid:b,$table:o}))),t&&t.forEach(((e,t)=>{const{dropdowns:n,buttonRender:l}=e;if(!1!==e.visible){const r=l?LD.get(l.name):null;if(l&&r&&r.renderToolbarButton){const n=r.toolbarButtonClassName,a={$grid:b,$table:o,button:e};i.push(w("span",{key:`br${e.code||t}`,class:["vxe-button--item",n?rp.isFunction(n)?n(a):n:""]},BS(r.renderToolbarButton(l,a))))}else s&&i.push(w(s,{key:`bd${e.code||t}`,disabled:e.disabled,loading:e.loading,type:e.type,mode:e.mode,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,title:e.title,routerLink:e.routerLink,permissionCode:e.permissionCode,prefixTooltip:e.prefixTooltip,suffixTooltip:e.suffixTooltip,destroyOnClose:e.destroyOnClose,placement:e.placement,transfer:e.transfer,onClick:({$event:t})=>$(t,e)},n&&n.length?{dropdowns:()=>B(e,!0)}:{}))}})),a&&i.push(...BS(a({buttons:t||[],$grid:b,$table:o}))),i},z=()=>{const{tools:t}=e,{connectTable:n}=d,o=n,r=l.toolPrefix||l["tool-prefix"],a=l.toolSuffix||l["tool-suffix"],i=[];return r&&i.push(...BS(r({tools:t||[],$grid:b,$table:o}))),t&&t.forEach(((e,t)=>{const{dropdowns:n,toolRender:l}=e;if(!1!==e.visible){const r=l?l.name:null,a=l?LD.get(r):null;if(l&&a&&a.renderToolbarTool){const t=a.toolbarToolClassName,n={$grid:b,$table:o,tool:e};i.push(w("span",{key:r,class:["vxe-tool--item",t?rp.isFunction(t)?t(n):t:""]},BS(a.renderToolbarTool(l,n))))}else s&&i.push(w(s,{key:t,disabled:e.disabled,loading:e.loading,type:e.type,mode:e.mode,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,title:e.title,routerLink:e.routerLink,permissionCode:e.permissionCode,prefixTooltip:e.prefixTooltip,suffixTooltip:e.suffixTooltip,destroyOnClose:e.destroyOnClose,placement:e.placement,transfer:e.transfer,onClick:({$event:t})=>F(t,e)},n&&n.length?{dropdowns:()=>B(e,!1)}:{}))}})),a&&i.push(...BS(a({tools:t||[],$grid:b,$table:o}))),i},W=()=>{const e=C.value;return s?w(s,{key:"import",circle:!0,icon:e.icon||FD().TOOLBAR_TOOLS_IMPORT,title:ND("vxe.toolbar.import"),onClick:N}):x()},H=()=>{const e=S.value;return s?w(s,{key:"export",circle:!0,icon:e.icon||FD().TOOLBAR_TOOLS_EXPORT,title:ND("vxe.toolbar.export"),onClick:L}):x()},q=()=>{const e=E.value;return s?w(s,{key:"print",circle:!0,icon:e.icon||FD().TOOLBAR_TOOLS_PRINT,title:ND("vxe.toolbar.print"),onClick:_}):x()},U=()=>{const e=y.value;return s?w(s,{key:"refresh",circle:!0,icon:u.isRefresh?e.iconLoading||FD().TOOLBAR_TOOLS_REFRESH_LOADING:e.icon||FD().TOOLBAR_TOOLS_REFRESH,title:ND("vxe.toolbar.refresh"),onClick:V}):x()},K=()=>{const e=T.value;return b&&s?w(s,{key:"zoom",circle:!0,icon:b.isMaximized()?e.iconOut||FD().TOOLBAR_TOOLS_MINIMIZE:e.iconIn||FD().TOOLBAR_TOOLS_FULLSCREEN,title:ND("vxe.toolbar.zoom"+(b.isMaximized()?"Out":"In")),onClick:A}):x()},G=()=>{const e=D.value,t=k.value,n={};return"manual"===t||("hover"===t?(n.onMouseenter=P,n.onMouseleave=R):n.onClick=M),s?w(s,Object.assign({key:"custom",circle:!0,icon:e.icon||FD().TOOLBAR_TOOLS_CUSTOM,title:ND("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},n)):x()};return h.renderVN=()=>{const{perfect:t,loading:n,refresh:o,zoom:r,custom:a,className:i}=e,{connectTable:s}=d,u=c.value,m=l.tools,f=l.buttons,g=s;return w("div",{ref:p,class:["vxe-toolbar",i?rp.isFunction(i)?i({$toolbar:h}):i:"",{[`size--${u}`]:u,"is--perfect":t,"is--loading":n}]},[w("div",{class:"vxe-buttons--wrapper"},f?f({$grid:b,$table:g}):j()),w("div",{class:"vxe-tools--wrapper"},m?m({$grid:b,$table:g}):z()),w("div",{class:"vxe-tools--operate"},[e.import?W():x(),e.export?H():x(),e.print?q():x(),o?U():x(),r&&b?K():x(),a?G():x()])])},t((()=>{const{refresh:t}=e,n=y.value,o=n.queryMethod||n.query;!t||b||o||AC("vxe.error.notFunc",["queryMethod"]),D.value})),h},render(){return this.renderVN()}}),WD=Object.assign({},zD,{install(e){e.component(zD.name,zD)}});Rm.dynamicApp&&Rm.dynamicApp.component(zD.name,zD),Rm.component(zD);const HD=WD,{getConfig:qD,getI18n:UD,commands:KD,hooks:GD,useFns:YD,createEvent:XD,globalEvents:ZD,GLOBAL_EVENT_KEYS:QD,renderEmptyElement:JD}=Rm,eO=Object.keys(kE),tO=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","getPendingRecords","clearPendingRow","sort","setSort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","openTooltip","getCellLabel","getCellElement","focus","blur","connect"],nO=[...IE,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],oO=p({name:"VxeGrid",props:Object.assign(Object.assign({},kE),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>qD().grid.size||qD().size}}),emits:nO,setup(e,n){var o;const{slots:l,emit:a}=n,s=rp.uniqueId(),c=Rm.getComponent("VxeForm"),u=Rm.getComponent("VxePager"),d=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:p}=YD.useSize(e),v=m({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:(null===(o=qD().pager)||void 0===o?void 0:o.pageSize)||10,currentPage:1}}),y=r(),C=r(),S=r(),E=r(),T=r(),D=r(),O=r(),k=r(),I=r(),M=r(),P=e=>{const t={};return e.forEach((e=>{t[e]=(...t)=>{const n=C.value;if(n&&n[e])return n[e](...t)}})),t},R=P(tO);tO.forEach((e=>{R[e]=(...t)=>{const n=C.value;if(n&&n[e])return n&&n[e](...t)}}));const V=f((()=>rp.merge({},rp.clone(qD().grid.proxyConfig,!0),e.proxyConfig))),A=f((()=>{const e=V.value;return rp.isBoolean(e.message)?e.message:e.showResponseMsg})),$=f((()=>V.value.showActiveMsg)),F=f((()=>Object.assign({},qD().grid.pagerConfig,e.pagerConfig))),N=f((()=>Object.assign({},qD().grid.formConfig,e.formConfig))),L=f((()=>Object.assign({},qD().grid.toolbarConfig,e.toolbarConfig))),_=f((()=>Object.assign({},qD().grid.zoomConfig,e.zoomConfig))),B=f((()=>{const{height:t,maxHeight:n}=e,{isZMax:o,tZindex:l}=v,r={};return o?r.zIndex=l:(t&&(r.height="auto"===t||"100%"===t?"100%":QC(t)),n&&(r.maxHeight="auto"===n||"100%"===n?"100%":QC(n))),r})),j=f((()=>{const t={},n=e;return eO.forEach((e=>{t[e]=n[e]})),t})),z=f((()=>{const{seqConfig:t,pagerConfig:n,loading:o,editConfig:l,proxyConfig:r}=e,{isZMax:a,tableLoading:i,tablePage:s,tableData:c}=v,u=j.value,d=V.value,p=F.value,m=Object.assign({},u);return a&&(u.maxHeight?m.maxHeight="100%":m.height="100%"),r&&Gw(d)&&(m.loading=o||i,m.data=c,n&&d.seq&&Gw(p)&&(m.seqConfig=Object.assign({},t,{startIndex:(s.currentPage-1)*s.pageSize}))),l&&(m.editConfig=Object.assign({},l)),m})),W=f((()=>{const{layouts:t}=e;let n=[];n=t&&t.length?t:qD().grid.layouts||d;let o=[],l=[],r=[];return n.length&&(rp.isArray(n[0])?(o=n[0],l=n[1]||[],r=n[2]||[]):l=n),{headKeys:o,bodyKeys:l,footKeys:r}})),H=f((()=>{const e=F.value;return`${e.currentPage}${e.pageSize}`})),q={refElem:y,refTable:C,refForm:S,refToolbar:E,refPager:T},U={computeProxyOpts:V,computePagerOpts:F,computeFormOpts:N,computeToolbarOpts:L,computeZoomOpts:_},K={xID:s,props:e,context:n,reactData:v,getRefMaps:()=>q,getComputeMaps:()=>U},G=()=>{const n=L.value;e.toolbarConfig&&Gw(n)&&t((()=>{const e=C.value,t=E.value;e&&t&&e.connect(t)}))},Y=()=>{const{proxyConfig:t}=e,{formData:n}=v,o=V.value,l=N.value;return t&&Gw(o)&&o.form?n:l.data},X=()=>{const{tablePage:t}=v,{pagerConfig:n}=e,o=F.value,{currentPage:l,pageSize:r}=o;n&&Gw(o)&&(l&&(t.currentPage=l),r&&(t.pageSize=r))},Z=(e,t)=>{const n=V.value,o=(n.response||n.props||{}).message;let l;return e&&o&&(l=rp.isFunction(o)?o({data:e,$grid:K}):rp.get(e,o)),l||UD(t)},Q=(e,t,n)=>{const o=$.value,l=R.getCheckboxRecords();if(o)if(l.length){if(Rm.modal)return Rm.modal.confirm({id:`cfm_${e}`,content:UD(t),escClosable:!0}).then((e=>{if("confirm"===e)return n()}))}else Rm.modal&&Rm.modal.message({id:`msg_${e}`,content:UD("vxe.grid.selectOneRecord"),status:"warning"});else l.length&&n();return Promise.resolve()},J=t=>{const{proxyConfig:n}=e,{tablePage:o}=v,{$event:l,currentPage:r,pageSize:a}=t,i=V.value;o.currentPage=r,o.pageSize=a,ge.dispatchEvent("page-change",t,l),n&&Gw(i)&&ge.commitProxy("query").then((e=>{ge.dispatchEvent("proxy-query",e,l)}))},ee=t=>{const n=C.value,{proxyConfig:o}=e,{computeSortOpts:l}=n.getComputeMaps(),r=V.value;l.value.remote&&(v.sortData=t.sortList,o&&Gw(r)&&(v.tablePage.currentPage=1,ge.commitProxy("query").then((e=>{ge.dispatchEvent("proxy-query",e,t.$event)})))),ge.dispatchEvent("sort-change",t,t.$event)},te=t=>{const n=C.value,{proxyConfig:o}=e,{computeFilterOpts:l}=n.getComputeMaps(),r=V.value;l.value.remote&&(v.filterData=t.filterList,o&&Gw(r)&&(v.tablePage.currentPage=1,ge.commitProxy("query").then((e=>{ge.dispatchEvent("proxy-query",e,t.$event)})))),ge.dispatchEvent("filter-change",t,t.$event)},ne=t=>{const{proxyConfig:n}=e,o=V.value;n&&Gw(o)&&ge.commitProxy("reload").then((e=>{ge.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isReload:!0}),t.$event)})),ge.dispatchEvent("form-submit",t,t.$event)},oe=t=>{const{proxyConfig:n}=e,{$event:o}=t,l=V.value,r=C.value;n&&Gw(l)&&(r.clearScroll(),ge.commitProxy("reload").then((e=>{ge.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isReload:!0}),o)}))),ge.dispatchEvent("form-reset",t,o)},le=e=>{ge.dispatchEvent("form-submit-invalid",e,e.$event)},re=e=>{const{$event:n}=e;t((()=>R.recalculate(!0))),ge.dispatchEvent("form-toggle-collapse",e,n),ge.dispatchEvent("form-collapse",e,n)},ae=e=>{const{isZMax:n}=v;return(e?!n:n)&&(v.isZMax=!n,v.tZindex<Qw()&&(v.tZindex=Zw())),t().then((()=>R.recalculate(!0))).then((()=>v.isZMax))},ie=(e,t)=>{const n=e[t];if(n){if(!rp.isString(n))return n;if(l[n])return l[n]}return null},se=()=>{const e=l.left;return e?w("div",{class:"vxe-grid--left-wrapper"},e({$grid:K})):x()},ce=()=>{const e=l.right;return e?w("div",{class:"vxe-grid--right-wrapper"},e({$grid:K})):x()},ue=()=>{const{proxyConfig:t}=e,n=z.value,o=V.value,r=Object.assign({},pe),a=l.empty,i=l.loading,s=l.rowDragIcon||l["row-drag-icon"],c=l.columnDragIcon||l["column-drag-icon"];t&&Gw(o)&&(o.sort&&(r.onSortChange=ee),o.filter&&(r.onFilterChange=te));const u={};return a&&(u.empty=a),i&&(u.loading=i),s&&(u.rowDragIcon=s),c&&(u.columnDragIcon=c),w("div",{class:"vxe-grid--table-wrapper"},[w(RD,Object.assign(Object.assign({ref:C},n),r),u)])},de=t=>{const n=[];return t.forEach((t=>{switch(t){case"Form":n.push((()=>{const{formConfig:t,proxyConfig:n}=e,{formData:o}=v,r=V.value,a=N.value;if(t&&Gw(a)||l.form){let e=[];if(l.form)e=l.form({$grid:K});else if(a.items){const t={};if(!a.inited){a.inited=!0;const e=r.beforeItem;r&&e&&a.items.forEach((t=>{e({$grid:K,item:t})}))}a.items.forEach((e=>{rp.each(e.slots,(e=>{rp.isFunction(e)||l[e]&&(t[e]=l[e])}))})),c&&e.push(w(c,Object.assign(Object.assign({ref:S},Object.assign({},a,{data:n&&Gw(r)&&r.form?o:a.data})),{onSubmit:ne,onReset:oe,onSubmitInvalid:le,onCollapse:re}),t))}return w("div",{ref:D,key:"form",class:"vxe-grid--form-wrapper"},e)}return x()})());break;case"Toolbar":n.push((()=>{const{toolbarConfig:t}=e,n=L.value;if(t&&Gw(n)||l.toolbar){let e=[];if(l.toolbar)e=l.toolbar({$grid:K});else{const t=n.slots;let o,l;const r={};t&&(o=ie(t,"buttons"),l=ie(t,"tools"),o&&(r.buttons=o),l&&(r.tools=l)),e.push(w(WD,Object.assign({ref:E},n),r))}return w("div",{ref:O,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},e)}return x()})());break;case"Top":n.push(l.top?w("div",{ref:k,key:"top",class:"vxe-grid--top-wrapper"},l.top({$grid:K})):x());break;case"Table":n.push(w("div",{key:"table",class:"vxe-grid--table-container"},[se(),ue(),ce()]));break;case"Bottom":n.push(l.bottom?w("div",{ref:I,key:"bottom",class:"vxe-grid--bottom-wrapper"},l.bottom({$grid:K})):x());break;case"Pager":n.push((()=>{const{proxyConfig:t,pagerConfig:n}=e,o=V.value,r=F.value;if(n&&Gw(r)||l.pager){let e=[];if(l.pager)e=l.pager({$grid:K});else{const n=r.slots,l={};let a,i;n&&(a=ie(n,"left"),i=ie(n,"right"),a&&(l.left=a),i&&(l.right=i)),u&&e.push(w(u,Object.assign(Object.assign(Object.assign({ref:T},r),t&&Gw(o)?v.tablePage:{}),{onPageChange:J}),l))}return w("div",{ref:M,key:"pager",class:"vxe-grid--pager-wrapper"},e)}return x()})());break;default:$C("vxe.error.notProp",[`layouts -> ${t}`])}})),n},pe={};IE.forEach((e=>{const t=rp.camelCase(`on-${e}`);pe[t]=(...t)=>a(e,...t)}));const me=()=>{const{proxyConfig:n,formConfig:o}=e,{proxyInited:l}=v,r=V.value,a=N.value;if(n&&Gw(r)){if(o&&Gw(a)&&r.form&&a.items){const e={};a.items.forEach((t=>{const{field:n,itemRender:o}=t;if(n){let l=null;if(o){const{defaultValue:e}=o;rp.isFunction(e)?l=e({item:t}):rp.isUndefined(e)||(l=e)}e[n]=l}})),v.formData=e}l||(v.proxyInited=!0,!1!==r.autoLoad&&t().then((()=>ge.commitProxy("_init"))).then((e=>{ge.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isInited:!0}),new Event("init"))})))}},fe=e=>{const t=_.value;ZD.hasKey(e,QD.ESCAPE)&&v.isZMax&&!1!==t.escRestore&&he.triggerZoomEvent(e)},ge={dispatchEvent:(e,t,n)=>{a(e,XD(n,{$grid:K},t))},commitProxy(n,...o){const{toolbarConfig:l,pagerConfig:r,editRules:a,validConfig:i}=e,{tablePage:s}=v,c=$.value,u=A.value,d=V.value,p=F.value,m=L.value,{beforeQuery:f,afterQuery:g,beforeDelete:h,afterDelete:b,beforeSave:x,afterSave:y,ajax:w={}}=d,S=d.response||d.props||{},E=C.value,T=Y();let D=null,O=null;if(rp.isString(n)){const{buttons:e}=m,t=l&&Gw(m)&&e?rp.findTree(e,(e=>e.code===n),{children:"dropdowns"}):null;D=t?t.item:null,O=n}else D=n,O=D.code;const k=D?D.params:null;switch(O){case"insert":return E.insert({});case"insert_edit":case"insert_actived":return E.insert({}).then((({row:e})=>E.setEditRow(e)));case"mark_cancel":(e=>{const t=$.value,n=C.value,o=n.getCheckboxRecords();o.length?(n.togglePendingRow(o),R.clearCheckboxRow()):t&&Rm.modal&&Rm.modal.message({id:e,content:UD("vxe.grid.selectOneRecord"),status:"warning"})})(O);break;case"remove":return Q(O,"vxe.grid.removeSelectRecord",(()=>E.removeCheckboxRow()));case"import":E.importData(k);break;case"open_import":E.openImport(k);break;case"export":E.exportData(k);break;case"open_export":E.openExport(k);break;case"reset_custom":return E.resetCustom(!0);case"_init":case"reload":case"query":{const e=w.query,t=w.querySuccess,n=w.queryError;if(e){const l="_init"===O,a="reload"===O;let i=[],c=[],u={};if(r&&((l||a)&&(s.currentPage=1),Gw(p)&&(u=Object.assign({},s))),l){let e=null;if(E){const{computeSortOpts:t}=E.getComputeMaps();e=t.value.defaultSort}e&&(rp.isArray(e)||(e=[e]),i=e.map((e=>({field:e.field,property:e.field,order:e.order})))),E&&(c=E.getCheckedFilters())}else E&&(a?E.clearAll():(i=E.getSortColumns(),c=E.getCheckedFilters()));const d={code:O,button:D,isInited:l,isReload:a,$grid:K,page:u,sort:i.length?i[0]:{},sorts:i,filters:c,form:T,options:e};return v.sortData=i,v.filterData=c,v.tableLoading=!0,Promise.resolve((f||e)(d,...o)).then((e=>{if(v.tableLoading=!1,e)if(r&&Gw(p)){const t=S.total,n=(rp.isFunction(t)?t({data:e,$grid:K}):rp.get(e,t||"page.total"))||0;s.total=rp.toNumber(n);const o=S.result;v.tableData=(rp.isFunction(o)?o({data:e,$grid:K}):rp.get(e,o||"result"))||[];const l=Math.max(Math.ceil(n/s.pageSize),1);s.currentPage>l&&(s.currentPage=l)}else{const t=S.list;v.tableData=(t?rp.isFunction(t)?t({data:e,$grid:K}):rp.get(e,t):e)||[]}else v.tableData=[];return g&&g(d,...o),t&&t(Object.assign(Object.assign({},d),{response:e})),{status:!0}})).catch((e=>(v.tableLoading=!1,n&&n(Object.assign(Object.assign({},d),{response:e})),{status:!1})))}break}case"delete":{const e=w.delete,t=w.deleteSuccess,n=w.deleteError;if(e){const l=R.getCheckboxRecords(),r=l.filter((e=>!E.isInsertByRow(e))),a={$grid:K,code:O,button:D,body:{removeRecords:r},form:T,options:e};if(l.length)return Q(O,"vxe.grid.deleteSelectRecord",(()=>r.length?(v.tableLoading=!0,Promise.resolve((h||e)(a,...o)).then((e=>(v.tableLoading=!1,E.setPendingRow(r,!1),u&&Rm.modal&&Rm.modal.message({content:Z(e,"vxe.grid.delSuccess"),status:"success"}),b?b(a,...o):ge.commitProxy("query"),t&&t(Object.assign(Object.assign({},a),{response:e})),{status:!0}))).catch((e=>(v.tableLoading=!1,u&&Rm.modal&&Rm.modal.message({id:O,content:Z(e,"vxe.grid.operError"),status:"error"}),n&&n(Object.assign(Object.assign({},a),{response:e})),{status:!1})))):E.remove(l)));c&&Rm.modal&&Rm.modal.message({id:O,content:UD("vxe.grid.selectOneRecord"),status:"warning"})}break}case"save":{const e=w.save,t=w.saveSuccess,n=w.saveError;if(e){const l=E.getRecordset(),{insertRecords:r,removeRecords:s,updateRecords:d,pendingRecords:p}=l,m={$grid:K,code:O,button:D,body:l,form:T,options:e};r.length&&(l.pendingRecords=p.filter((e=>-1===E.findRowIndexOf(r,e)))),p.length&&(l.insertRecords=r.filter((e=>-1===E.findRowIndexOf(p,e))));let f=Promise.resolve();return a&&(f=E[i&&"full"===i.msgMode?"fullValidate":"validate"](l.insertRecords.concat(d))),f.then((r=>{if(!r)return l.insertRecords.length||s.length||d.length||l.pendingRecords.length?(v.tableLoading=!0,Promise.resolve((x||e)(m,...o)).then((e=>(v.tableLoading=!1,E.clearPendingRow(),u&&Rm.modal&&Rm.modal.message({content:Z(e,"vxe.grid.saveSuccess"),status:"success"}),y?y(m,...o):ge.commitProxy("query"),t&&t(Object.assign(Object.assign({},m),{response:e})),{status:!0}))).catch((e=>(v.tableLoading=!1,u&&Rm.modal&&Rm.modal.message({id:O,content:Z(e,"vxe.grid.operError"),status:"error"}),n&&n(Object.assign(Object.assign({},m),{response:e})),{status:!1})))):void(c&&Rm.modal&&Rm.modal.message({id:O,content:UD("vxe.grid.dataUnchanged"),status:"info"}))}))}break}default:{const e=KD.get(O);if(e){const t=e.tableCommandMethod||e.commandMethod;t&&t({code:O,button:D,$grid:K,$table:E},...o)}}}return t()},zoom:()=>v.isZMax?ge.revert():ge.maximize(),isMaximized:()=>v.isZMax,maximize:()=>ae(!0),revert:()=>ae(),getFormData:Y,getFormItems(t){const n=N.value,{formConfig:o}=e,{items:l}=n,r=[];return rp.eachTree(o&&Gw(n)&&l?l:[],(e=>{r.push(e)}),{children:"children"}),rp.isUndefined(t)?r:r[t]},getProxyInfo(){const t=C.value;if(e.proxyConfig){const{sortData:e}=v;return{data:v.tableData,filter:v.filterData,form:Y(),sort:e.length?e[0]:{},sorts:e,pager:v.tablePage,pendingRecords:t?t.getPendingRecords():[]}}return null}},he={extendTableMethods:P,callSlot:(e,t)=>e&&(rp.isString(e)&&(e=l[e]||null),rp.isFunction(e))?BS(e(t)):[],getExcludeHeight(){const{height:t}=e,{isZMax:n}=v,o=y.value,l=D.value,r=O.value,a=k.value,i=I.value,s=M.value;return(n||"auto"!==t&&"100%"!==t?0:tS(o.parentNode))+tS(o)+eS(l)+eS(r)+eS(a)+eS(i)+eS(s)},getParentHeight(){const e=y.value;return e?(v.isZMax?JC().visibleHeight:rp.toNumber(getComputedStyle(e.parentNode).height))-he.getExcludeHeight():0},triggerToolbarCommitEvent(e,t){const{code:n}=e;return ge.commitProxy(e,t).then((e=>{n&&e&&e.status&&["query","reload","delete","save"].includes(n)&&ge.dispatchEvent("delete"===n||"save"===n?`proxy-${n}`:"proxy-query",Object.assign(Object.assign({},e),{isReload:"reload"===n}),t)}))},triggerToolbarBtnEvent(e,t){he.triggerToolbarCommitEvent(e,t),ge.dispatchEvent("toolbar-button-click",{code:e.code,button:e},t)},triggerToolbarTolEvent(e,t){he.triggerToolbarCommitEvent(e,t),ge.dispatchEvent("toolbar-tool-click",{code:e.code,tool:e},t)},triggerZoomEvent(e){ge.zoom(),ge.dispatchEvent("zoom",{type:v.isZMax?"max":"revert"},e)}};Object.assign(K,R,ge,he);const ve=r(0);i((()=>e.columns?e.columns.length:-1),(()=>{ve.value++})),i((()=>e.columns),(()=>{ve.value++})),i(ve,(()=>{t((()=>K.loadColumn(e.columns||[])))})),i((()=>e.toolbarConfig),(()=>{G()})),i(H,(()=>{X()})),i((()=>e.proxyConfig),(()=>{me()})),GD.forEach((e=>{const{setupGrid:t}=e;if(t){const e=t(K);e&&rp.isObject(e)&&Object.assign(K,e)}})),X(),g((()=>{t((()=>{const{columns:t}=e;t&&t.length&&K.loadColumn(t),G(),me()})),ZD.on(K,"keydown",fe)})),h((()=>{ZD.off(K,"keydown")}));return K.renderVN=()=>{const t=p.value,n=B.value;return w("div",{ref:y,class:["vxe-grid",{[`size--${t}`]:t,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":v.isZMax,"is--loading":e.loading||v.tableLoading}],style:n},(()=>{const e=W.value,{headKeys:t,bodyKeys:n,footKeys:o}=e,r=l.asideLeft||l["aside-left"],a=l.asideRight||l["aside-right"];return[w("div",{class:"vxe-grid--layout-header-wrapper"},de(t)),w("div",{class:"vxe-grid--layout-body-wrapper"},[r?w("div",{class:"vxe-grid--layout-aside-left-wrapper"},r({})):JD(K),w("div",{class:"vxe-grid--layout-body-content-wrapper"},de(n)),a?w("div",{class:"vxe-grid--layout-aside-right-wrapper"},a({})):JD(K)]),w("div",{class:"vxe-grid--layout-footer-wrapper"},de(o))]})())},b("$xeGrid",K),K},render(){return this.renderVN()}}),lO=Object.assign({},oO,{install(e){e.component(oO.name,oO)}});Rm.dynamicApp&&Rm.dynamicApp.component(oO.name,oO),Rm.component(oO);const rO=lO,aO={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'可选扩展插件 "{1}" https://vxeui.com/other{0}/#/{1}/install'},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"{0} 像素"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开层级",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"￥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}},iO=[sE,dE,lO,RD,WD];if(!Rm.hasLanguage("zh-CN")){const e="zh-CN";Rm.setI18n(e,aO),Rm.setLanguage(e)}Rm.setTheme("light");const sO=Object.freeze(Object.defineProperty({__proto__:null,Colgroup:pE,Column:cE,Grid:rO,Table:AD,Toolbar:HD,VXETable:MC,VxeColgroup:dE,VxeColumn:sE,VxeGrid:lO,VxeTable:RD,VxeToolbar:WD,VxeUI:Rm,_t:IC,clipboard:CC,commands:yC,config:OC,formats:xC,getConfig:sC,getI18n:mC,getIcon:uC,getTheme:aC,globalEvents:fC,globalResize:gC,hooks:EC,install:function(e,t){Rm.setConfig(t),iO.forEach((t=>t.install(e)))},interceptor:wC,log:SC,menus:bC,modal:PC,print:e=>Rm.print(e),readFile:e=>Rm.readFile(e),renderer:hC,saveFile:e=>Rm.saveFile(e),setConfig:iC,setI18n:pC,setIcon:cC,setLanguage:dC,setTheme:rC,setup:DC,t:kC,use:TC,validators:vC,version:oC},Symbol.toStringTag,{value:"Module"}));var cO={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};const uO=p({__name:"App",setup:e=>(e,t)=>{const o=C("router-view"),l=A;return D(),T(l,{locale:n(cO)},{default:O((()=>[v(o)])),_:1},8,["locale"])}}),dO={Connecting:"Connecting...",overlayTutorial:"Add this page as a data statistics overlay in ACT.",obsTutorial:"Open OBS → Tools → WebSocket Server Settings → Enable WebSocket Server → Show Connection Info → Obtain Port and Password",inputTutorial:"Can't type? First click on ACT, then click on this floating window to enter normally.",hideTutorial:"After completing all settings, in OverlayPlugin, uncheck [Show Overlay] to hide this page.",CombatStart:"Combat Start",CombatEnd:"Combat End","ACT Not Ready":"ACT Not Ready",Connect:"Connect","Connect to OBS":"Connect to OBS",Connected:"Connected","Connection Status":"Connection Status",CountDown:"CountDown",DeepDungeons:"Deep Dungeons",DisciplesOfTheLand:"Disciples Of The Land",Disconnect:"Disconnect",Dungeons:"Dungeons","End When":"End When","Enter Zone":"Enter Zone",Eureka:"Eureka","Extra Rule":"Extra Rule",GrandCompany:"GrandCompany",Guildhests:"Guildhests",Instructions:"Instructions",No:"No",None:"None","OBS Auto Record V2":"OBS Auto Record V2","OBS Connection":"OBS Connection","OBS Connection Closed":"OBS Connection Closed","OBS Connection Error":"OBS Connection Error","OBS Connection Opened":"OBS Connection Opened","Output Active":"Output Active","Output Path":"Output Path",Password:"Password",Port:"Port",Pvp:"Pvp",QuestBattles:"QuestBattles",Raids:"Raids",Recording:"Recording","Recording Controls":"Recording Controls","Split Record":"Split Record","Start Record":"Start Record","Start When":"Start When","Stop Record":"Stop Record",TreasureHunt:"TreasureHunt",Trials:"Trials",Type:"Type","User Content Settings":"User Content Settings",VCDungeonFinder:"VCD",Wipe:"Wipe",Yes:"Yes",passwordPlaceholder:"WebSocket Server Password",portPlaceholder:"WebSocket Server Port","Leave Zone":"Leave Zone",Savage:"Savage",Extreme:"Extreme",Ultimate:"Ultimate",fileNameExplanation:"%CCYY: Year, %MM: Month, %DD: Day, %hh: Hour, %mm: Minute, %ss: Second","Recording Profile":"Recording Profile","Record Path":"Path","Record File Name":"File Name",recordPathPlaceholder:"Please enter the path to save the recording file",recordFileNamePlaceholder:"Please enter the file name of the recording file",filePathExplanation:"Make sure the path exists",Default:"Default",Chaotic:"Chaotic",firewallTutorial:"If the password is correct, please check if Windows Defender Firewall is blocking the connection"},pO={portPlaceholder:"WebSocketサーバーポート",passwordPlaceholder:"WebSocketサーバーパスワード",Connect:"接続",Raids:"レイド",Dungeons:"ダンジョン",Trials:"討伐・討滅戦",VCDungeonFinder:"変動ダンジョン",DeepDungeons:"ディープダンジョン",Guildhests:"ギルドオーダー",DisciplesOfTheLand:"オーシャンフィッシング/無人島",Eureka:"エウレカ",GrandCompany:"ゴールドソーサー",QuestBattles:"クエストバトル",TreasureHunt:"トレジャーハント",Pvp:"PVP","OBS Connection":"OBS接続","OBS Connection Closed":"OBS接続切断","OBS Connection Error":"OBS接続エラー","OBS Connection Opened":"OBS接続成功","Connection Status":"接続状態",Disconnect:"切断",Connected:"接続済み",Recording:"録画中","Output Active":"出力アクティブ","Output Path":"出力パス","Recording Controls":"コントロールパネル","Start Record":"録画開始","Stop Record":"録画停止","Split Record":"録画分割","User Content Settings":"ルール設定",Type:"インスタンスタイプ","Start When":"録画開始条件","Enter Zone":"エリア入場","End When":"録画終了条件",Wipe:"全滅","OBS Auto Record V2":"OBS 自動録画2",Port:"ポート",Password:"パスワード",None:"なし",hideTutorial:"すべての設定が完了したら、OverlayPluginで「オーバーレイを表示」のチェックを外して、このページを非表示にします。",obsTutorial:"OBSを開く → ツール → WebSocketサーバー設定 → WebSocketサーバーを有効にする → 接続情報を表示 → ポートとパスワードを取得する",Connecting:"接続を試みています...",No:"いいえ",Yes:"はい",Instructions:"使用方法",inputTutorial:"入力できない場合は、まずACTをクリックし、次にこのオーバーレイウィンドウをクリックすると、通常の入力が可能になります","Connect to OBS":"OBSに接続",overlayTutorial:"ACTでこのページをデータ統計用のオーバーレイウィンドウとして追加してください",CombatEnd:"戦闘終了",CountDown:"カウントダウン開始",CombatStart:"戦闘開始","ACT Not Ready":"ACT未接続","Extra Rule":"追加ルール","Leave Zone":"エリア出場",Savage:"零式",Extreme:"極",Ultimate:"絶",fileNameExplanation:"%CCYY: 年、%MM: 月、%DD: 日、%hh: 時、%mm: 分、%ss: 秒","Recording Profile":"録音プロファイル","Record Path":"パス","Record File Name":"ファイル名",recordPathPlaceholder:"録音ファイルを保存するパスを入力してください",recordFileNamePlaceholder:"録音ファイルのファイル名を入力してください",filePathExplanation:"パスが存在することを確認してください",Default:"Default",Chaotic:"滅",firewallTutorial:"パスワードが正しい場合、Windows Defender ファイアウォールが接続をブロックしているかどうかを確認してください"},mO={portPlaceholder:"WebSocket 服务器端口",passwordPlaceholder:"WebSocket 服务器密码",Raids:"大型任务",Dungeons:"迷宫挑战",Trials:"讨伐歼灭战",VCDungeonFinder:"多变迷宫",DeepDungeons:"深层迷宫",Guildhests:"行会令",DisciplesOfTheLand:"海钓 / 云岛",Eureka:"尤雷卡",GrandCompany:"金蝶游乐场",QuestBattles:"任务剧情",TreasureHunt:"挖宝",Pvp:"PVP","OBS Connection":"OBS 连接","OBS Connection Closed":"OBS 连接失败","OBS Connection Error":"OBS 连接错误","OBS Connection Opened":"OBS 连接成功","Connection Status":"连接状态",Disconnect:"断开连接",Connected:"已连接",Recording:"录制中","Output Active":"输出激活","Output Path":"输出路径","Recording Controls":"测试面板","Start Record":"开始录制","Stop Record":"停止录制","Split Record":"分割录制","User Content Settings":"录制规则",Type:"副本类型","Start When":"开始录制条件","Enter Zone":"进入区域","End When":"结束录制条件",Wipe:"团灭","OBS Auto Record V2":"OBS 自动录制 2",inputTutorial:"打不了字？先点击 ACT，再点击本悬浮窗，即可正常输入",Port:"端口",Password:"密码",None:"无",Yes:"是",No:"否",obsTutorial:"打开 OBS → 工具 → WebSocket 服务器设置 → 开启 WebSocket 服务器 → 显示连接信息 → 获得端口与密码",Connecting:"正在尝试连接...",Connect:"连接",Instructions:"使用说明","Connect to OBS":"连接到 OBS",hideTutorial:"一切设置妥当后，在 OverlayPlugin 悬浮窗插件中，取消勾选 [显示悬浮窗] 以隐藏本页面",overlayTutorial:"在 ACT 中添加本页面作为数据统计悬浮窗","ACT Not Ready":"ACT 未连接",CombatEnd:"离开战斗",CountDown:"倒计时开始",CombatStart:"进入战斗","Extra Rule":"额外规则","Leave Zone":"离开区域",Savage:"零式",Extreme:"极神",Ultimate:"绝本",Rules:"使用子文件夹",FoldersByCategory:"按副本类型",FolderByContent:"按副本名称",FileName:"文件名","Record Path":"路径","Record File Name":"文件名",recordPathPlaceholder:"请填写路径",recordFileNamePlaceholder:"请填写文件名",fileNameExplanation:"%CCYY: 年, %MM: 月, %DD: 日, %hh: 时, %mm: 分, %ss: 秒","Recording Profile":"录制资料",filePathExplanation:"须保证目录存在","Set Recording Name":"设置路径",Default:"未归类",Chaotic:"24人灭本",firewallTutorial:"若确定密码正确，却始终连接失败，请检查 Windows Defender 防火墙"},fO={},gO=function(e,t,n){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));o=Promise.allSettled(t.map((e=>{if((e=function(e){return"/ff14-overlay-vue/"+e}(e))in fO)return;fO[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const l=document.createElement("link");return l.rel=t?"stylesheet":"modulepreload",t||(l.as="script"),l.crossOrigin="",l.href=e,n&&l.setAttribute("nonce",n),document.head.appendChild(l),t?new Promise(((t,n)=>{l.addEventListener("load",t),l.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function l(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then((t=>{for(const e of t||[])"rejected"===e.status&&l(e.reason);return e().catch(l)}))},hO=[{name:"special-r4s",path:"/special/r4s",component:()=>gO((()=>import("./r4s-DHEgsiSP.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])),props:!0},{name:"jobs-dnc",path:"/jobs/dnc",component:()=>gO((()=>import("./dnc-D94iC5Ms.js")),__vite__mapDeps([12,1,3,4,5,6,13,14,15,16,17,9,10,11])),props:!0},{name:"zoneMacro",path:"/zonemacro",component:()=>gO((()=>import("./zoneMacro-Wvlk1emp.js")),__vite__mapDeps([18,19,3,20,21,22,5,1,23,24,4,25,26,27,8,28,29,30,31,15,32,10,11,9,17,33])),props:!0},{name:"timelineSettings",path:"/timelinesettings",component:()=>gO((()=>import("./timelineSettings-BXWViyZp.js")),__vite__mapDeps([34,35,1,36,5,37,6,38,39,40,41,42,43,21,22,20,3,23,24,44,27,8,28,30,31,15,32,29,10,11,45,9,17,46,47])),props:!0},{name:"timelineHelp",path:"/timelinehelp",component:()=>gO((()=>import("./timelineHelp-CQHoR-A6.js")),__vite__mapDeps([48,1,33])),props:!0},{name:"timeline",path:"/timeline",component:()=>gO((()=>import("./timeline-CDLZHd6I.js")),__vite__mapDeps([49,35,1,36,5,37,6,38,39,3,4,50])),props:!0},{name:"time",path:"/time",component:()=>gO((()=>import("./time-DspkKi9J.js")),__vite__mapDeps([51,43,3,1,6,52])),props:!0},{name:"statusCompare",path:"/statuscompare",component:()=>gO((()=>import("./statusCompare-C2HfX152.js")),__vite__mapDeps([53,54,4,1,5,6,55,30,31,15,32])),props:!0},{name:"startPages",path:"/startpages",component:()=>gO((()=>import("./startPages-BW7i_Vxn.js")),__vite__mapDeps([56,5,1,6,57,27,8,28,29])),props:!0},{name:"showBarrier",path:"/showbarrier",component:()=>gO((()=>import("./showBarrier-LishL1Uq.js")),__vite__mapDeps([58,59,1,36,4,6,60,2,3,61])),props:!0},{name:"okVpr2",path:"/okvpr2",component:()=>gO((()=>import("./okVpr2-4WPwW2TN.js")),__vite__mapDeps([62,2,3,4,1,5,45,9,15,16,10,32])),props:!0},{name:"okVpr",path:"/okvpr",component:()=>gO((()=>import("./okVpr-DAj_tgFH.js")),__vite__mapDeps([63,2,3,4,1,5,45,15,16,10,32])),props:!0},{name:"okDncDance",path:"/okdncdance",component:()=>gO((()=>import("./okDncDance-BLTmgUy4.js")),__vite__mapDeps([64,19,3,2,4,1,5,45,9,15,16,10,32])),props:!0},{name:"obs2",path:"/obs2",component:()=>gO((()=>import("./obs2-DJwmaiem.js")),__vite__mapDeps([65,1,4,6,5,24,66,25,2,3,67,30,31,15,32,9,46,45,17,10,29])),props:!0},{name:"obs",path:"/obs",component:()=>gO((()=>import("./obs-B7EnaVAQ.js")),__vite__mapDeps([68,1,66,5,25,2,3,69,24,4,70])),props:!0},{name:"keigennRecord2",path:"/keigennrecord2",component:()=>gO((()=>import("./keigennRecord2-C0es6A7o.js")),__vite__mapDeps([71,1,6,54,4,37,36,5,42,72,2,3,73,15,16])),props:!0},{name:"instancedAreaInfo",path:"/instancedareainfo",component:()=>gO((()=>import("./instancedAreaInfo-BzY6SIy5.js")),__vite__mapDeps([74,3,1,6,75])),props:!0},{name:"index",path:"/",component:p({__name:"index",setup:e=>(g((()=>{gO((()=>Promise.resolve().then((()=>xO))),void 0).then((e=>{e.default.push("/startPages")}))})),(e,t)=>(D(),k("div")))}),props:!0},{name:"hunt",path:"/hunt",component:()=>gO((()=>import("./hunt-C_Qy98EQ.js")),__vite__mapDeps([76,40,5,1,41,21,22,24,3,69,4,6,77,31,15,10,11,17,45,32])),props:!0},{name:"hexcode",path:"/hexcode",component:()=>gO((()=>import("./hexcode-BiUYQavD.js")),__vite__mapDeps([78,1,4,6,79])),props:!0},{name:"ffxivAxisWebFont",path:"/ffxivaxiswebfont",component:()=>gO((()=>import("./ffxivAxisWebFont-DnyUSKyY.js")),__vite__mapDeps([80,6,1,81])),props:!0},{name:"fflogsUploaderDownload",path:"/fflogsuploaderdownload",component:()=>gO((()=>import("./fflogsUploaderDownload-BQAgU9ai.js")),__vite__mapDeps([82,1,5,6,83,27,8,28,39])),props:!0},{name:"dsrp6",path:"/dsrp6",component:()=>gO((()=>import("./dsrp6-u2CA3gUV.js")),__vite__mapDeps([84,37,36,3,1,6,85])),props:!0},{name:"castingToChinese",path:"/castingtochinese",component:()=>gO((()=>import("./castingToChinese-WjytQaK1.js")),__vite__mapDeps([86,1,42,3,4,5,6,87,28,8,14,15,16,17,32,10,9,11])),props:!0},{name:"castingMonitor",path:"/castingmonitor",component:()=>gO((()=>import("./castingMonitor-Dl_FrvHa.js")),__vite__mapDeps([88,36,37,1,3,6,5,89,17,27,8,28])),props:!0},{name:"cactbotRuntime",path:"/cactbotruntime",component:()=>gO((()=>import("./cactbotRuntime-Bgs3KVG-.js")),__vite__mapDeps([90,59,1,36,4,6,60,72,3,5,91,47])),props:!0},{name:"blubook",path:"/blubook",component:()=>gO((()=>import("./blubook-Cf8RGPfZ.js")),__vite__mapDeps([92,1,54,4,5,6,93,31,15,17,10])),props:!0},{name:"aether",path:"/aether",component:()=>gO((()=>import("./aether-DkAcxX_B.js")),__vite__mapDeps([94,5,1,6,95,32,15])),props:!0}],vO=I({history:M(),routes:hO}),bO=new Map(Object.entries({aether:"简易风脉地图",blubook:"青魔法书图鉴",cactbotRuntime:"职能分配",castingMonitor:"施法监控",castingToChinese:"读条汉化",dsrp6:"绝龙诗 P6 修血简易记录",fflogsUploaderDownload:"今天 FFLogsUploader 更新了吗？",ffxivAxisWebFont:"FFXIV Axis 字体",hexcode:"hexcode 简易工具",hunt:"有车吗？",instancedAreaInfo:"我 TM 现在在几线？",keigennRecord2:"减伤监控 2",obs:"OBS 自动录制",obs2:"OBS 自动录制 2",showBarrier:"盾值显示",startPages:"主页导航",statusCompare:"版本新增状态一览",time:"显示时间",timeline:"自定义时间轴",timelineHelp:"自定义时间轴帮助",timelineSettings:"自定义时间轴编辑",zoneMacro:"副本宏"}));for(const TO of vO.getRoutes())TO.meta.title=bO.get((null==(e=TO.name)?void 0:e.toString())??"")??TO.name;vO.afterEach(((e,t)=>{var n;document.title=(null==(n=e.meta.title)?void 0:n.toString())??"","startPages"===t.name&&"zoneMacro"===e.name&&window.location.reload(),"startPages"===e.name&&void 0!==t.name&&e.name!==t.name&&window.location.reload()}));const xO=Object.freeze(Object.defineProperty({__proto__:null,default:vO},Symbol.toStringTag,{value:"Module"})),yO=y(uO),wO=function(e){const t=e;return t.headTags=e.resolveTags,t.addEntry=e.push,t.addHeadObjs=e.push,t.addReactiveEntry=(e,t)=>{const n=Be(e,t);return void 0!==n?n.dispose:()=>{}},t.removeHeadObjs=()=>{},t.updateDOM=()=>{e.hooks.callHook("entries:updated",e)},t.unhead=e,t}(Fe({})),CO=P(),SO=R({legacy:!1,locale:"zhCn",fallbackLocale:"en",messages:{en:dO,zhCn:mO,ja:pO}});function EO(e){$.error({dangerouslyUseHTMLString:!0,message:e.toString(),duration:0,showClose:!0})}yO.config.errorHandler=e=>{EO(e instanceof Error?e:new Error(String(e)))},window.addEventListener("unhandledrejection",(e=>{EO(e.reason instanceof Error?e.reason:new Error(String(e.reason)))})),yO.use(vO),yO.use(wO),yO.use(CO),yO.use(Kw),yO.use(sO),yO.use(vt),yO.use(SO),yO.mount("#app");export{MC as V,Rm as a,vO as r};

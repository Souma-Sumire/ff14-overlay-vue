import{t as a,r as e,v as t,x as o,E as i,G as s,u as n,M as l,J as u}from"./vue-vendor-Bz5Jh0Fv.js";import{h as r}from"./utils-DT22tKp4.js";import{a as d}from"./overlay_plugin_api-DU1DlPio.js";import{b as m}from"./index-BQ4hghqY.js";import{_ as v}from"./_plugin-vue_export-helper-BCo6x5W8.js";const p={key:1},c=v(a({__name:"time",setup(a){const v=e(!1),c=e(-1),f=e(""),b=e(""),h=m("hash").mode||"combat";if("combat"===h||"both"===h){d("CombatData",(a=>{"true"===a.isActive&&!1===v.value?c.value=Date.now():"false"===a.isActive&&(c.value=-1,f.value=""),v.value="true"===a.isActive})),requestAnimationFrame((function a(){if(c.value>0){const a=Date.now()-c.value,e=r.duration(a),t=e.minutes(),o=e.seconds(),i=e.milliseconds().toString().padStart(3,"0");f.value=`${t<10?"0":""}${t}:${o<10?"0":""}${o}.${i}`}requestAnimationFrame(a)}))}if("logline"===h||"both"===h){d("LogLine",(a=>{var e,t,o;"00"!==a.line[0]&&(b.value=(null==(o=null==(t=null==(e=null==a?void 0:a.line)?void 0:e[1])?void 0:t.match(new RegExp("(?<=T)\\d\\d:\\d\\d:\\d\\d\\.\\d\\d\\d")))?void 0:o[0])??"")}))}return(a,e)=>(o(),t("div",null,["combat"===n(h)||"both"===n(h)?i((o(),t("span",{key:0},u(n(f)),513)),[[l,n(c)>=0]]):s("",!0),"logline"===n(h)||"both"===n(h)?(o(),t("span",p,u(n(b)),1)):s("",!0)]))}}),[["__scopeId","data-v-04b4fd7b"]]);export{c as default};

import{f as e,n as t,e as n,w as r,b as a,o,O as i,r as s,ax as l,g as u,h as c,s as f,ay as v,c as h,V as d,u as p}from"./vue-vendor-Bz5Jh0Fv.js";const y="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const g=Object.prototype.toString,m=()=>{};const w=e=>e();function S(e=w,t={}){const{initialState:r="active"}=t,a=function(...e){if(1!==e.length)return i(...e);const t=e[0];return"function"==typeof t?n(l((()=>({get:t,set:m})))):s(t)}("active"===r);return{isActive:n(a),pause:function(){a.value=!1},resume:function(){a.value=!0},eventFilter:(...t)=>{a.value&&e(...t)}}}function b(e){return Array.isArray(e)?e:[e]}function A(e,t,n={}){const{eventFilter:a=w,...o}=n;return r(e,(i=a,s=t,function(...e){return new Promise(((t,n)=>{Promise.resolve(i((()=>s.apply(this,e)),{fn:s,thisArg:this,args:e})).then(t).catch(n)}))}),o);var i,s}function O(e,t,n={}){const{eventFilter:r,initialState:a="active",...o}=n,{eventFilter:i,pause:s,resume:l,isActive:u}=S(r,{initialState:a});return{stop:A(e,t,{...o,eventFilter:i}),pause:s,resume:l,isActive:u}}function $(n,r=!0,a){u()?e(n,a):r?n():t(n)}function j(e=!1,t={}){const{truthyValue:n=!0,falsyValue:r=!1}=t,a=c(e),o=f(e);function i(e){if(arguments.length)return o.value=e,o.value;{const e=v(n);return o.value=o.value===e?v(r):e,o.value}}return a?i:[o,i]}const N=y?window:void 0;function E(...e){const t=[],n=()=>{t.forEach((e=>e())),t.length=0},i=h((()=>{const t=b(v(e[0])).filter((e=>null!=e));return t.every((e=>"string"!=typeof e))?t:void 0})),s=(l=([e,r,a,o])=>{if(n(),!(null==e?void 0:e.length)||!(null==r?void 0:r.length)||!(null==a?void 0:a.length))return;const i=(s=o,"[object Object]"===g.call(s)?{...o}:o);var s;t.push(...e.flatMap((e=>r.flatMap((t=>a.map((n=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,t,n,i))))))))},u={flush:"post"},r((()=>{var t,n;return[null!=(n=null==(t=i.value)?void 0:t.map((e=>function(e){var t;const n=v(e);return null!=(t=null==n?void 0:n.$el)?t:n}(e))))?n:[N].filter((e=>null!=e)),b(v(i.value?e[1]:e[0])),b(p(i.value?e[2]:e[1])),v(i.value?e[3]:e[2])]}),l,{...u,immediate:!0}));var l,u;var c;return c=n,a()&&o(c),()=>{s(),n()}}const V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},k="__vueuse_ssr_handlers__",F=I();function I(){return k in V||(V[k]=V[k]||{}),V[k]}const J={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},M="vueuse-storage";function _(e,n,a,o={}){var i;const{flush:l="pre",deep:u=!0,listenToStorageChanges:c=!0,writeDefaults:d=!0,mergeDefaults:p=!1,shallow:y,window:g=N,eventFilter:m,onError:w=e=>{},initOnMounted:S}=o,b=(y?f:s)("function"==typeof n?n():n),A=h((()=>v(e)));if(!a)try{a=function(e,t){return F[e]||t}("getDefaultStorage",(()=>{var e;return null==(e=N)?void 0:e.localStorage}))()}catch(P){w(P)}if(!a)return b;const j=v(n),V=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}(j),k=null!=(i=o.serializer)?i:J[V],{pause:I,resume:_}=O(b,(()=>function(e){try{const t=a.getItem(A.value);if(null==e)x(t,null),a.removeItem(A.value);else{const n=k.write(e);t!==n&&(a.setItem(A.value,n),x(t,n))}}catch(P){w(P)}}(b.value)),{flush:l,deep:u,eventFilter:m});function x(e,t){if(g){const n={key:A.value,oldValue:e,newValue:t,storageArea:a};g.dispatchEvent(a instanceof Storage?new StorageEvent("storage",n):new CustomEvent(M,{detail:n}))}}function D(e){if(!e||e.storageArea===a)if(e&&null==e.key)b.value=j;else if(!e||e.key===A.value){I();try{(null==e?void 0:e.newValue)!==k.write(b.value)&&(b.value=function(e){const t=e?e.newValue:a.getItem(A.value);if(null==t)return d&&null!=j&&a.setItem(A.value,k.write(j)),j;if(!e&&p){const e=k.read(t);return"function"==typeof p?p(e,j):"object"!==V||Array.isArray(e)?e:{...j,...e}}return"string"!=typeof t?t:k.read(t)}(e))}catch(P){w(P)}finally{e?t(_):_()}}}function L(e){D(e.detail)}return r(A,(()=>D()),{flush:l}),g&&c&&$((()=>{a instanceof Storage?E(g,"storage",D,{passive:!0}):E(g,M,L),S&&D()})),S||D(),b}function x(e="history",t={}){const{initialValue:n={},removeNullishValues:r=!0,removeFalsyValues:a=!1,write:o=!0,writeMode:i="replace",window:s=N}=t;if(!s)return d(n);const l=d({});function u(t){const n=t.toString();if("history"===e)return`${n?`?${n}`:""}${s.location.hash||""}`;if("hash-params"===e)return`${s.location.search||""}${n?`#${n}`:""}`;const r=s.location.hash||"#",a=r.indexOf("?");return a>0?`${s.location.search||""}${r.slice(0,a)}${n?`?${n}`:""}`:`${s.location.search||""}${r}${n?`?${n}`:""}`}function c(){return new URLSearchParams(function(){if("history"===e)return s.location.search||"";if("hash"===e){const e=s.location.hash||"",t=e.indexOf("?");return t>0?e.slice(t):""}return(s.location.hash||"").replace(/^#/,"")}())}function f(e){const t=new Set(Object.keys(l));for(const n of e.keys()){const r=e.getAll(n);l[n]=r.length>1?r:e.get(n)||"",t.delete(n)}Array.from(t).forEach((e=>delete l[e]))}const{pause:v,resume:h}=O(l,(()=>{const e=new URLSearchParams("");Object.keys(l).forEach((t=>{const n=l[t];Array.isArray(n)?n.forEach((n=>e.append(t,n))):r&&null==n||a&&!n?e.delete(t):e.set(t,n)})),p(e,!1)}),{deep:!0});function p(e,t){v(),t&&f(e),"replace"===i?s.history.replaceState(s.history.state,s.document.title,s.location.pathname+u(e)):s.history.pushState(s.history.state,s.document.title,s.location.pathname+u(e)),h()}function y(){o&&p(c(),!0)}const g={passive:!0};E(s,"popstate",y,g),"history"!==e&&E(s,"hashchange",y,g);const m=c();return m.keys().next().value?f(m):Object.assign(l,n),l}export{j as a,x as b,_ as u};

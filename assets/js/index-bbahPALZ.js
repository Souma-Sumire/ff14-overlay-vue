import{f as e,n as t,h as n,r,d as a,w as o,ax as s,e as i,o as u,g as l,s as c,c as f,V as h}from"./vue-vendor-Bbuz3Kwb.js";const d="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const p=Object.prototype.toString,v=()=>{};const y=e=>e();function g(e){return Array.isArray(e)?e:[e]}function m(e,t,n={}){const{eventFilter:r=y,...a}=n;return o(e,(s=r,i=t,function(...e){return new Promise(((t,n)=>{Promise.resolve(s((()=>i.apply(this,e)),{fn:i,thisArg:this,args:e})).then(t).catch(n)}))}),a);var s,i}function w(e,t,n={}){const{eventFilter:o,...s}=n,{eventFilter:i,pause:u,resume:l,isActive:c}=function(e=y){const t=r(!0);return{isActive:a(t),pause:function(){t.value=!1},resume:function(){t.value=!0},eventFilter:(...n)=>{t.value&&e(...n)}}}(o);return{stop:m(e,t,{...s,eventFilter:i}),pause:u,resume:l,isActive:c}}function S(n,r=!0,a){l()?e(n,a):r?n():t(n)}function b(e=!1,t={}){const{truthyValue:a=!0,falsyValue:o=!1}=t,i=n(e),u=r(e);function l(e){if(arguments.length)return u.value=e,u.value;{const e=s(a);return u.value=u.value===e?s(o):e,u.value}}return i?l:[u,l]}const A=d?window:void 0;function O(e){var t;const n=s(e);return null!=(t=null==n?void 0:n.$el)?t:n}function $(...e){let t,n,r,a;if("string"==typeof e[0]||Array.isArray(e[0])?([n,r,a]=e,t=A):[t,n,r,a]=e,!t)return v;n=g(n),r=g(r);const l=[],c=()=>{l.forEach((e=>e())),l.length=0},f=o((()=>[O(t),s(a)]),(([e,t])=>{if(c(),!e)return;const a=(o=t,"[object Object]"===p.call(o)?{...t}:t);var o;l.push(...n.flatMap((t=>r.map((n=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,t,n,a))))))}),{immediate:!0,flush:"post"}),h=()=>{f(),c()};var d;return d=h,i()&&u(d),h}const j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},N="__vueuse_ssr_handlers__",E=V();function V(){return N in j||(j[N]=j[N]||{}),j[N]}const k={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},F="vueuse-storage";function I(e,n,a,i={}){var u;const{flush:l="pre",deep:h=!0,listenToStorageChanges:d=!0,writeDefaults:p=!0,mergeDefaults:v=!1,shallow:y,window:g=A,eventFilter:m,onError:b=e=>{},initOnMounted:O}=i,j=(y?c:r)("function"==typeof n?n():n),N=f((()=>s(e)));if(!a)try{a=function(e,t){return E[e]||t}("getDefaultStorage",(()=>{var e;return null==(e=A)?void 0:e.localStorage}))()}catch(P){b(P)}if(!a)return j;const V=s(n),I=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}(V),J=null!=(u=i.serializer)?u:k[I],{pause:_,resume:x}=w(j,(()=>function(e){try{const t=a.getItem(N.value);if(null==e)D(t,null),a.removeItem(N.value);else{const n=J.write(e);t!==n&&(a.setItem(N.value,n),D(t,n))}}catch(P){b(P)}}(j.value)),{flush:l,deep:h,eventFilter:m});function D(e,t){if(g){const n={key:N.value,oldValue:e,newValue:t,storageArea:a};g.dispatchEvent(a instanceof Storage?new StorageEvent("storage",n):new CustomEvent(F,{detail:n}))}}function M(e){if(!e||e.storageArea===a)if(e&&null==e.key)j.value=V;else if(!e||e.key===N.value){_();try{(null==e?void 0:e.newValue)!==J.write(j.value)&&(j.value=function(e){const t=e?e.newValue:a.getItem(N.value);if(null==t)return p&&null!=V&&a.setItem(N.value,J.write(V)),V;if(!e&&v){const e=J.read(t);return"function"==typeof v?v(e,V):"object"!==I||Array.isArray(e)?e:{...V,...e}}return"string"!=typeof t?t:J.read(t)}(e))}catch(P){b(P)}finally{e?t(x):x()}}}function L(e){M(e.detail)}return o(N,(()=>M()),{flush:l}),g&&d&&S((()=>{a instanceof Storage?$(g,"storage",M,{passive:!0}):$(g,F,L),O&&M()})),O||M(),j}function J(e="history",t={}){const{initialValue:n={},removeNullishValues:r=!0,removeFalsyValues:a=!1,write:o=!0,writeMode:s="replace",window:i=A}=t;if(!i)return h(n);const u=h({});function l(t){const n=t.toString();if("history"===e)return`${n?`?${n}`:""}${i.location.hash||""}`;if("hash-params"===e)return`${i.location.search||""}${n?`#${n}`:""}`;const r=i.location.hash||"#",a=r.indexOf("?");return a>0?`${i.location.search||""}${r.slice(0,a)}${n?`?${n}`:""}`:`${i.location.search||""}${r}${n?`?${n}`:""}`}function c(){return new URLSearchParams(function(){if("history"===e)return i.location.search||"";if("hash"===e){const e=i.location.hash||"",t=e.indexOf("?");return t>0?e.slice(t):""}return(i.location.hash||"").replace(/^#/,"")}())}function f(e){const t=new Set(Object.keys(u));for(const n of e.keys()){const r=e.getAll(n);u[n]=r.length>1?r:e.get(n)||"",t.delete(n)}Array.from(t).forEach((e=>delete u[e]))}const{pause:d,resume:p}=w(u,(()=>{const e=new URLSearchParams("");Object.keys(u).forEach((t=>{const n=u[t];Array.isArray(n)?n.forEach((n=>e.append(t,n))):r&&null==n||a&&!n?e.delete(t):e.set(t,n)})),v(e,!1)}),{deep:!0});function v(e,t){d(),t&&f(e),"replace"===s?i.history.replaceState(i.history.state,i.document.title,i.location.pathname+l(e)):i.history.pushState(i.history.state,i.document.title,i.location.pathname+l(e)),p()}function y(){o&&v(c(),!0)}const g={passive:!0};$(i,"popstate",y,g),"history"!==e&&$(i,"hashchange",y,g);const m=c();return m.keys().next().value?f(m):Object.assign(u,n),u}export{b as a,J as b,I as u};

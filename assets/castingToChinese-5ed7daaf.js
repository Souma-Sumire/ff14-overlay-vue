import{_ as e}from"./ActWrapper-3efebdce.js";import"./index-e58fcfa0.js";/* empty css                *//* empty css                    *//* empty css                      *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                 *//* empty css                  *//* empty css                        */import{t as o,V as l,r as t,c as a,D as s,E as n,x as i,A as m,F as r,O as u,u as d,M as f,S as p,K as c,J as h,v as g,aa as V,L as C,az as w}from"./vue-vendor-37eb8ba2.js";import{g as v}from"./actionChinese-e2356100.js";import{a as x}from"./overlay_plugin_api-974cdd44.js";import{u as A}from"./index-78df6055.js";import{a8 as D,s as I,d as z,f as j,e as S,n as b,q as U,h as X,i as Y,l as y}from"./element-plus-3b00acc6.js";import{_ as T}from"./_plugin-vue_export-helper-6a8c15be.js";/* empty css                */import"./useDev-c4e9ec84.js";import"./useDemo-b712055f.js";const _={};const F={style:{width:"10rem"}},P={class:"noCSS"},N={class:"noCSS"},k={class:"container"},$={class:"actionID"},K=T(o({__name:"castingToChinese",setup(o){function T(e){const o=Number.parseInt(e[4],16),l=e[2],t=e[5],a=_[o];if(a)return a;const s=v(o);return s||(l.startsWith("4")&&t.includes("unknown"),t)}w(e=>({"419001ee":d(L),ebf40c46:d(Z),ebf40c44:d(B),"55519e55":d(W),"4bad32a2":d(J),"2f27c012":d(G),"2f27c010":d(Q),"2e45adf9":d(O),"0d0b575e":d(R),"0d0b575c":d(ee),"6c441933":d(H),98272116:d(oe),98272114:d(le)}));class K{name;startTime;castTime;overTime;actionId;constructor(e){this.name=T(e),this.startTime=Date.now(),this.castTime=1e3*Number(e[8]),this.overTime=this.startTime+this.castTime,this.actionId=Number.parseInt(e[4],16)}}const M=l({targetCast:void 0}),q=[{value:"Target",label:"当前目标"},{value:"Focus",label:"焦点目标"}],E=t({width:265,showCountdown:!1,showProgress:!1,showActionChinese:!0,showActionID:!1,offsetProgressX:0,offsetProgressY:-22,offsetCountdownX:240,offsetCountdownY:-5,offsetActionChineseX:275,offsetActionChineseY:-45,offsetActionIDX:10,offsetActionIDY:-5,ping:80,keep:100,fontSizeCountDown:17,fontSizeActionName:20,fontFamily:"SmartisanHei",targetKey:"Target"});A("castingToChineseFix",E,localStorage,{mergeDefaults:!0});const H=a(()=>`${E.value.width}px`),L=a(()=>E.value.showCountdown?1:0),W=a(()=>E.value.showProgress?1:0),J=a(()=>E.value.showActionChinese?1:0),O=a(()=>E.value.showActionID?1:0),Z=a(()=>`${E.value.offsetCountdownX}px`),B=a(()=>-1*E.value.offsetCountdownY+"px"),G=a(()=>`${E.value.offsetActionChineseX}px`),Q=a(()=>-1*E.value.offsetActionChineseY+"px"),R=a(()=>`${E.value.offsetActionIDX}px`),ee=a(()=>-1*E.value.offsetActionIDY+"px"),oe=a(()=>`${E.value.offsetProgressX}px`),le=a(()=>-1*E.value.offsetProgressY+"px"),te=new Map,ae=t(0),se=E.value.ping;function ne(){localStorage.removeItem("castingToChinese"),location.reload()}return x("EnmityTargetData",e=>{M.targetCast=te.get(e[E.value.targetKey]?.ID)}),x("LogLine",e=>{"20"===e.line[0]?te.set(Number.parseInt(e.line[2],16),new K(e.line)):"23"===e.line[0]&&te.delete(Number.parseInt(e.line[2],16))}),x("ChangeZone",()=>te.clear()),requestAnimationFrame(function e(){ae.value=Date.now(),requestAnimationFrame(e)}),(o,l)=>{const t=z,a=j,w=S,v=U,x=b,A=Y,T=X,_=y,K=D,H=I,L=e;return i(),s(L,null,{readme:n(()=>[f(_,{class:"settings"},{default:n(()=>[m("form",null,[l[20]||(l[20]=h(" 宽度: ",-1)),f(t,{modelValue:d(E).width,"onUpdate:modelValue":l[0]||(l[0]=e=>d(E).width=e),min:20,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[21]||(l[21]=h("显示倒计时: ",-1)),f(a,{modelValue:d(E).showCountdown,"onUpdate:modelValue":l[1]||(l[1]=e=>d(E).showCountdown=e)},null,8,["modelValue"])]),m("form",null,[l[22]||(l[22]=h("显示进度条: ",-1)),f(a,{modelValue:d(E).showProgress,"onUpdate:modelValue":l[2]||(l[2]=e=>d(E).showProgress=e)},null,8,["modelValue"])]),m("form",null,[l[23]||(l[23]=h("显示中文: ",-1)),f(a,{modelValue:d(E).showActionChinese,"onUpdate:modelValue":l[3]||(l[3]=e=>d(E).showActionChinese=e)},null,8,["modelValue"])]),m("form",null,[l[24]||(l[24]=h("显示ID: ",-1)),f(a,{modelValue:d(E).showActionID,"onUpdate:modelValue":l[4]||(l[4]=e=>d(E).showActionID=e)},null,8,["modelValue"])]),m("form",null,[l[25]||(l[25]=h(" 延迟(ms): ",-1)),f(t,{modelValue:d(E).ping,"onUpdate:modelValue":l[5]||(l[5]=e=>d(E).ping=e),min:0,max:1e4,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[26]||(l[26]=h(" 保留(ms): ",-1)),f(t,{modelValue:d(E).keep,"onUpdate:modelValue":l[6]||(l[6]=e=>d(E).keep=e),min:0,max:1e5,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[27]||(l[27]=h(" 进度条偏移X: ",-1)),f(t,{modelValue:d(E).offsetProgressX,"onUpdate:modelValue":l[7]||(l[7]=e=>d(E).offsetProgressX=e),min:-1e3,max:1e3,size:"small"},null,8,["modelValue"])]),m("form",null,[l[28]||(l[28]=h(" 进度条偏移Y: ",-1)),f(t,{modelValue:d(E).offsetProgressY,"onUpdate:modelValue":l[8]||(l[8]=e=>d(E).offsetProgressY=e),min:-1e3,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[29]||(l[29]=h(" 倒计时偏移X: ",-1)),f(t,{modelValue:d(E).offsetCountdownX,"onUpdate:modelValue":l[9]||(l[9]=e=>d(E).offsetCountdownX=e),min:-1e3,max:1e3,size:"small"},null,8,["modelValue"])]),m("form",null,[l[30]||(l[30]=h(" 倒计时偏移Y: ",-1)),f(t,{modelValue:d(E).offsetCountdownY,"onUpdate:modelValue":l[10]||(l[10]=e=>d(E).offsetCountdownY=e),min:-1e3,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[31]||(l[31]=h(" 中文偏移X: ",-1)),f(t,{modelValue:d(E).offsetActionChineseX,"onUpdate:modelValue":l[11]||(l[11]=e=>d(E).offsetActionChineseX=e),min:-1e3,max:1e3,size:"small"},null,8,["modelValue"])]),m("form",null,[l[32]||(l[32]=h(" 中文偏移Y: ",-1)),f(t,{modelValue:d(E).offsetActionChineseY,"onUpdate:modelValue":l[12]||(l[12]=e=>d(E).offsetActionChineseY=e),min:-1e3,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[33]||(l[33]=h(" ID偏移X: ",-1)),f(t,{modelValue:d(E).offsetActionIDX,"onUpdate:modelValue":l[13]||(l[13]=e=>d(E).offsetActionIDX=e),min:-1e3,max:1e3,size:"small"},null,8,["modelValue"])]),m("form",null,[l[34]||(l[34]=h(" ID偏移Y: ",-1)),f(t,{modelValue:d(E).offsetActionIDY,"onUpdate:modelValue":l[14]||(l[14]=e=>d(E).offsetActionIDY=e),min:-1e3,max:1e3,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[35]||(l[35]=h(" 倒计时字号(px): ",-1)),f(t,{modelValue:d(E).fontSizeCountDown,"onUpdate:modelValue":l[15]||(l[15]=e=>d(E).fontSizeCountDown=e),min:1,max:100,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",null,[l[36]||(l[36]=h(" 中文字号(px): ",-1)),f(t,{modelValue:d(E).fontSizeActionName,"onUpdate:modelValue":l[16]||(l[16]=e=>d(E).fontSizeActionName=e),min:1,max:100,size:"small","controls-position":"right"},null,8,["modelValue"])]),m("form",F,[l[37]||(l[37]=h(" 字体: ",-1)),f(w,{modelValue:d(E).fontFamily,"onUpdate:modelValue":l[17]||(l[17]=e=>d(E).fontFamily=e),size:"small",clearable:"",onClear:l[18]||(l[18]=e=>d(E).fontFamily="SmartisanHei")},null,8,["modelValue"])]),m("form",P,[f(x,{modelValue:d(E).targetKey,"onUpdate:modelValue":l[19]||(l[19]=e=>d(E).targetKey=e),placeholder:"Select",size:"small",teleported:!1},{default:n(()=>[(i(),g(C,null,V(q,e=>f(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),m("form",N,[f(T,{teleported:!1,title:"确定要重置？",onConfirm:ne},{reference:n(()=>[f(A,null,{default:n(()=>l[38]||(l[38]=[h("重置全部用户设置",-1)])),_:1,__:[38]})]),_:1})])]),_:1})]),default:n(()=>[m("div",k,[r(f(H,{style:p({fontFamily:d(E).fontFamily})},{default:n(()=>[m("div",{style:p({fontSize:`${d(E).fontSizeCountDown}px`}),class:"countdown"},c(Math.max(((d(M).targetCast?.overTime??1)-d(ae)-d(se))/1e3,0).toFixed(2)),5),f(K,{percentage:Math.min((d(ae)-(d(M).targetCast?.startTime??1)+d(se))/(d(M).targetCast?.castTime??1)*100,100),"stroke-width":8,indeterminate:!1,"show-text":!1,color:"#fbfff9",class:"progress"},null,8,["percentage"]),m("div",$,c(d(M).targetCast?.actionId)+"("+c(d(M).targetCast?.actionId.toString(16).toUpperCase())+") ",1),m("div",{style:p({fontSize:`${d(E).fontSizeActionName}px`}),class:"actionChinese"},c(d(M).targetCast?.name),5)]),_:1},8,["style"]),[[u,d(M).targetCast&&d(ae)-d(M).targetCast.overTime+d(se)<d(E).keep]])])]),_:1})}}}),[["__scopeId","data-v-50233e43"]]);export{K as default};

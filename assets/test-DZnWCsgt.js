import{a as t,b as e,_ as n}from"./shared-common-BAWlJkJt.js";import{u as a,h as s}from"./shared-core-WNOcvfDk.js";import{U as i,a as o,c as l,N as c}from"./cactbot-C9BOJncy.js";import{n as r,x as g,V as u,c as f,L as d}from"./vendor-element-plus-vX222rPh.js";import{h as v,x as S,G as m,c as T,f as y,b as x,t as C,y as h,d as p,e as E,a as L,F as b,r as D,z as I,g as P}from"./vendor-vue-i6lpFrx4.js";const w={id:"app"},k={key:0,class:"container"},_={class:"header"},A={style:{color:"#409eff",margin:"0"}},M={style:{"text-align":"right"},flex:"~ gap-2"},Z={class:"section"},U={class:"section-title"},V={class:"info-table"},G={class:"info-key"},N={class:"section"},O={class:"section-title"},j={class:"header-tip"},z={class:"card-title"},B={class:"event-content"},R={class:"section"},F={class:"section-title"},W={class:"header-tip"},q={class:"card-title"},H={class:"event-content"},J={class:"section"},K={class:"section-title"},Q={class:"header-tip"},X={class:"card-title"},Y={class:"event-content"},$={key:1},tt=n(v({__name:"test",setup(n){const{t:v}=a(),{wsConnected:tt}=s({addWsParam:!0,allowClose:!1}),et=i.getDefaultBaseOptions(),nt=S({ParserLanguage:"",ShortLocale:"",DisplayLanguage:"",TextAlertsEnabled:!1,SoundAlertsEnabled:!1,SpokenAlertsEnabled:!1,GroupSpokenAlertsEnabled:!1,SystemInfo:{cactbotVersion:"",overlayPluginVersion:"",ffxivPluginVersion:"",actVersion:"",gameRegion:""},Debug:!1,Language:"",SystemLocale:"",CactbotUserDirectory:"",DefaultAlertOutput:""}),at=S(""),st=()=>at.value=(new Date).toLocaleString();st(),setInterval(st,1e3);const it=m(()=>({ChangePrimaryPlayer:{title:v("actSelfTest.event.ChangePrimaryPlayer.title"),instruction:v("actSelfTest.event.ChangePrimaryPlayer.instruction")},ChangeZone:{title:v("actSelfTest.event.ChangeZone.title"),instruction:v("actSelfTest.event.ChangeZone.instruction")},CombatData:{title:v("actSelfTest.event.CombatData.title"),instruction:v("actSelfTest.event.CombatData.instruction")},EnmityTargetData:{title:v("actSelfTest.event.EnmityTargetData.title"),instruction:v("actSelfTest.event.EnmityTargetData.instruction")},PartyChanged:{title:v("actSelfTest.event.PartyChanged.title"),instruction:v("actSelfTest.event.PartyChanged.instruction")},onGameExistsEvent:{title:v("actSelfTest.event.onGameExistsEvent.title"),instruction:v("actSelfTest.event.onGameExistsEvent.instruction")},onGameActiveChangedEvent:{title:v("actSelfTest.event.onGameActiveChangedEvent.title"),instruction:v("actSelfTest.event.onGameActiveChangedEvent.instruction")},onInCombatChangedEvent:{title:v("actSelfTest.event.onInCombatChangedEvent.title"),instruction:v("actSelfTest.event.onInCombatChangedEvent.instruction")},onZoneChangedEvent:{title:v("actSelfTest.event.onZoneChangedEvent.title"),instruction:v("actSelfTest.event.onZoneChangedEvent.instruction")},onPlayerDied:{title:v("actSelfTest.event.onPlayerDied.title"),instruction:v("actSelfTest.event.onPlayerDied.instruction")},onPlayerChangedEvent:{title:v("actSelfTest.event.onPlayerChangedEvent.title"),instruction:v("actSelfTest.event.onPlayerChangedEvent.instruction")}}));i.getUserConfigLocation("soumatest",et,()=>{nt.value.ParserLanguage=et.ParserLanguage,nt.value.DisplayLanguage=et.DisplayLanguage,nt.value.SystemInfo=et.SystemInfo,nt.value.CactbotUserDirectory=i.savedConfig.general.CactbotUserDirectory,nt.value.DefaultAlertOutput=i.savedConfig.raidboss.DefaultAlertOutput});const ot=S({});function lt(t){if("EnmityTargetData"===t.type&&!t.Target)return;const{type:e,...n}={...t};ot.value[t.type]=n}const ct=m(()=>({changeZone:{title:"Line 01 (0x01): ChangeZone",instruction:v("actSelfTest.logInstruction.changeZone"),regex:c.changeZone()},addedCombatant:{title:"Line 03 (0x03): AddCombatant",instruction:v("actSelfTest.logInstruction.changeZone"),regex:c.addedCombatant()},removingCombatant:{title:"Line 04 (0x04): RemoveCombatant",instruction:v("actSelfTest.logInstruction.changeZone"),regex:c.removingCombatant()},startsUsing:{title:"Line 20 (0x14): NetworkStartsCasting",instruction:v("actSelfTest.logInstruction.startsUsing"),regex:c.startsUsing()},ability:{title:"Line 21 (0x15): NetworkAbility",instruction:v("actSelfTest.logInstruction.ability"),regex:c.ability()},networkDoT:{title:"Line 24 (0x18): NetworkDoT",instruction:v("actSelfTest.logInstruction.networkDoT"),regex:c.networkDoT()},wasDefeated:{title:"Line 25 (0x19): NetworkDeath",instruction:v("actSelfTest.logInstruction.wasDefeated"),regex:c.wasDefeated()},gainsEffect:{title:"Line 26 (0x1A): NetworkBuff",instruction:v("actSelfTest.logInstruction.gainsEffect"),regex:c.gainsEffect()},headMarker:{title:"Line 27 (0x1B): NetworkTargetIcon",instruction:v("actSelfTest.logInstruction.headMarker"),regex:c.headMarker()},losesEffect:{title:"Line 30 (0x1E): NetworkBuffRemove",instruction:v("actSelfTest.logInstruction.losesEffect"),regex:c.losesEffect()},network6d:{title:"Line 33 (0x21): Network6D",instruction:v("actSelfTest.logInstruction.instanceTrigger"),regex:c.network6d()},tether:{title:"Line 35 (0x23): NetworkTether",instruction:v("actSelfTest.logInstruction.tether"),regex:c.tether()},map:{title:"Line 40 (0x28): Map",instruction:v("actSelfTest.logInstruction.changeZone"),regex:c.map()},systemLogMessage:{title:"Line 41 (0x29): SystemLogMessage",instruction:v("actSelfTest.logInstruction.systemLogMessage"),regex:c.systemLogMessage()}})),rt=m(()=>({mapEffect:{title:"Line 257 (0x101): MapEffect",instruction:v("actSelfTest.logInstruction.instanceTrigger"),regex:c.mapEffect()},inCombat:{title:"Line 260 (0x104): InCombat",instruction:v("actSelfTest.logInstruction.inCombat"),regex:c.inCombat()},combatantMemory:{title:"Line 261 (0x105): CombatantMemory",instruction:v("actSelfTest.logInstruction.instanceTrigger"),regex:c.combatantMemory()},startsUsingExtra:{title:"Line 263 (0x107): StartsUsingExtra",instruction:v("actSelfTest.logInstruction.startsUsing"),regex:c.startsUsingExtra()},abilityExtra:{title:"Line 264 (0x108): AbilityExtra",instruction:v("actSelfTest.logInstruction.ability"),regex:c.abilityExtra()},countdown:{title:"Line 268 (0x10C): Countdown",instruction:v("actSelfTest.logInstruction.countdown"),regex:c.countdown()},actorMove:{title:"Line 270 (0x10E): ActorMove",instruction:v("actSelfTest.logInstruction.instanceTrigger"),regex:c.actorMove()},actorSetPos:{title:"Line 271 (0x10F): ActorSetPos",instruction:v("actSelfTest.logInstruction.instanceTrigger"),regex:c.actorSetPos()},actorControlExtra:{title:"Line 273 (0x111): ActorControlExtra",instruction:v("actSelfTest.logInstruction.instanceTrigger"),regex:c.actorControlExtra()}}));return o("ChangePrimaryPlayer",lt),o("ChangeZone",lt),o("CombatData",lt),o("EnmityTargetData",lt),o("PartyChanged",lt),o("onGameExistsEvent",lt),o("onGameActiveChangedEvent",lt),o("onInCombatChangedEvent",lt),o("onZoneChangedEvent",lt),o("onPlayerDied",lt),o("onPlayerChangedEvent",lt),o("LogLine",t=>{for(const e in ct.value){ct.value[e].regex.test(t.rawLine)&&(ot.value[e]=!0)}for(const e in rt.value){rt.value[e].regex.test(t.rawLine)&&(ot.value[e]=!0)}}),(n,a)=>{const s=r,i=t,o=e,c=f,S=u,m=g,et=d;return L(),T("div",w,[y(tt)?(L(),T("div",k,[x("div",_,[x("div",null,[x("h1",A,C(y(v)("actSelfTest.title")),1)]),x("div",M,[a[1]||(a[1]=x("i",{class:"el-icon-time"},null,-1)),h(" "+C(y(v)("actSelfTest.systemTime"))+": "+C(y(at)||y(v)("actSelfTest.noData"))+" ",1),p(s,{type:"primary",size:"small",onClick:a[0]||(a[0]=t=>{return e=y(v)("actSelfTest.ttsText",{time:(new Date).getTime().toString().slice(-4)}),void l({call:"cactbotSay",text:e});var e})},{default:E(()=>[h(C(y(v)("actSelfTest.testTtsBtn")),1)]),_:1}),p(i,{"storage-key":"test-theme"}),p(o)])]),x("div",Z,[x("div",U,[a[2]||(a[2]=x("i",{class:"el-icon-setting"},null,-1)),h(" "+C(y(v)("actSelfTest.configSection.title")),1)]),p(m,{gutter:12},{default:E(()=>[p(S,{span:24},{default:E(()=>[p(c,{shadow:"hover"},{default:E(()=>[x("div",V,[(L(!0),T(b,null,D({[y(v)("actSelfTest.configSection.actVersion")]:y(nt).SystemInfo.actVersion,[y(v)("actSelfTest.configSection.ffxivPluginVersion")]:y(nt).SystemInfo.ffxivPluginVersion,[y(v)("actSelfTest.configSection.overlayPluginVersion")]:y(nt).SystemInfo.overlayPluginVersion,[y(v)("actSelfTest.configSection.cactbotVersion")]:y(nt).SystemInfo.cactbotVersion,[y(v)("actSelfTest.configSection.parserLanguage")]:y(nt).ParserLanguage,[y(v)("actSelfTest.configSection.displayLanguage")]:y(nt).DisplayLanguage,[y(v)("actSelfTest.configSection.gameRegion")]:y(nt).SystemInfo.gameRegion,[y(v)("actSelfTest.configSection.defaultAlertOutput")]:y(nt).DefaultAlertOutput,[y(v)("actSelfTest.configSection.userDirectory")]:y(nt).CactbotUserDirectory},(t,e)=>(L(),T("div",{key:e,class:"info-row"},[x("div",G,C(e),1),x("div",{class:I(["info-val",{"no-data":!t}])},C(t||y(v)("actSelfTest.noData")),3)]))),128))])]),_:1})]),_:1})]),_:1})]),x("div",N,[x("div",O,[a[3]||(a[3]=x("i",{class:"el-icon-document"},null,-1)),h(" "+C(y(v)("actSelfTest.netLogSection.title")),1)]),x("div",j,C(y(v)("actSelfTest.netLogSection.tip")),1),p(m,{gutter:12},{default:E(()=>[(L(!0),T(b,null,D(y(ct),(t,e)=>(L(),P(S,{key:e,xs:24,sm:12,md:8,lg:6},{default:E(()=>[p(c,{class:I(["event-card",y(ot)[e]?"success":"danger"])},{default:E(()=>[x("div",z,[h(C(t.title)+" ",1),p(et,{type:y(ot)[e]?"success":"danger",size:"small"},{default:E(()=>[h(C(y(ot)[e]?y(v)("actSelfTest.success"):y(v)("actSelfTest.untriggered")),1)]),_:2},1032,["type"])]),x("div",B,C(y(ot)[e]?"":y(v)("actSelfTest.try"))+" "+C(t.instruction),1)]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})]),x("div",R,[x("div",F,[a[4]||(a[4]=x("i",{class:"el-icon-s-data"},null,-1)),h(" "+C(y(v)("actSelfTest.opEventSection.title")),1)]),x("div",W,C(y(v)("actSelfTest.opEventSection.tip")),1),p(m,{gutter:12},{default:E(()=>[(L(!0),T(b,null,D(y(it),(t,e)=>(L(),P(S,{key:e,xs:24,sm:12,md:8,lg:6},{default:E(()=>[p(c,{class:I(["event-card",y(ot)[e]?"success":"danger"])},{default:E(()=>[x("div",q,[h(C(t.title)+"（"+C(e)+"） ",1),p(et,{type:y(ot)[e]?"success":"danger",size:"small"},{default:E(()=>[h(C(y(ot)[e]?y(v)("actSelfTest.success"):y(v)("actSelfTest.untriggered")),1)]),_:2},1032,["type"])]),x("div",H,C(y(ot)[e]?"":y(v)("actSelfTest.try"))+" "+C(t.instruction),1)]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})]),x("div",J,[x("div",K,[a[5]||(a[5]=x("i",{class:"el-icon-cpu"},null,-1)),h(" "+C(y(v)("actSelfTest.opLogSection.title")),1)]),x("div",Q,C(y(v)("actSelfTest.opLogSection.tip")),1),p(m,{gutter:12},{default:E(()=>[(L(!0),T(b,null,D(y(rt),(t,e)=>(L(),P(S,{key:e,xs:24,sm:12,md:8,lg:6},{default:E(()=>[p(c,{class:I(["event-card",y(ot)[e]?"success":"danger"])},{default:E(()=>[x("div",X,[h(C(y(rt)[e].title)+" ",1),p(et,{type:y(ot)[e]?"success":"danger",size:"small"},{default:E(()=>[h(C(y(ot)[e]?y(v)("actSelfTest.success"):y(v)("actSelfTest.untriggered")),1)]),_:2},1032,["type"])]),x("div",Y,C(y(ot)[e]?"":y(v)("actSelfTest.try"))+" "+C(t.instruction),1)]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})])])):(L(),T("div",$,[x("p",null,C(y(v)("actSelfTest.wsWaiting")),1)]))])}}}),[["__scopeId","data-v-2e96cad5"]]);export{tt as default};

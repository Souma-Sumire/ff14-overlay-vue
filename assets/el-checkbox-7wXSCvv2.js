import{ay as e,aq as l,a1 as a,a5 as u,x as o,g as t,M as n,J as s,V as i,X as d,r,y as c,N as v,b9 as b,bV as m,O as p,d as h,T as f,s as k,j as x,o as g,w as C,a as L,c as y,z as V,q as B,u as S,k as I,aS as E,aa as F,A as z,cJ as N,I as w,F as O,e as U,t as _,m as j,_ as D,p as G,P as $,Q as A,U as R,bI as q,l as J,a0 as M,as as P}from"./index-BOS_RZqj.js";import{u as Q,U as T,d as K,C as X,p as H}from"./index-DkSPWUzk.js";import{b as W,a as Y,c as Z,d as ee}from"./use-form-common-props-CF-G8Prc.js";import{u as le}from"./index-CZ4MtUz-.js";const ae={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:u,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Q(["ariaControls"])},ue={[T]:u=>e(u)||l(u)||a(u),change:u=>e(u)||l(u)||a(u)},oe=Symbol("checkboxGroupContextKey"),te=(e,{model:l,isLimitExceeded:a,hasOwnLabel:u,isDisabled:n,isLabeledByFormItem:r})=>{const c=o(oe,void 0),{formItem:v}=Y(),{emit:b}=s();function m(l){var a,u,o,t;return[!0,e.trueValue,e.trueLabel].includes(l)?null==(u=null!=(a=e.trueValue)?a:e.trueLabel)||u:null!=(t=null!=(o=e.falseValue)?o:e.falseLabel)&&t}const p=t(()=>(null==c?void 0:c.validateEvent)||e.validateEvent);return i(()=>e.modelValue,()=>{p.value&&(null==v||v.validate("change").catch(e=>K()))}),{handleChange:function(e){if(a.value)return;const l=e.target;b(X,m(l.checked),e)},onClickRoot:async function(o){if(!a.value&&!u.value&&!n.value&&r.value){o.composedPath().some(e=>"LABEL"===e.tagName)||(l.value=m([!1,e.falseValue,e.falseLabel].includes(l.value)),await d(),function(e,l){b(X,m(e),l)}(l.value,o))}}}},ne=(e,l)=>{const{formItem:u}=Y(),{model:i,isGroup:d,isLimitExceeded:h}=(e=>{const l=r(!1),{emit:a}=s(),u=o(oe,void 0),i=t(()=>!1===n(u)),d=r(!1),v=t({get(){var a,o;return i.value?null==(a=null==u?void 0:u.modelValue)?void 0:a.value:null!=(o=e.modelValue)?o:l.value},set(e){var o,t;i.value&&c(e)?(d.value=void 0!==(null==(o=null==u?void 0:u.max)?void 0:o.value)&&e.length>(null==u?void 0:u.max.value)&&e.length>v.value.length,!1===d.value&&(null==(t=null==u?void 0:u.changeEvent)||t.call(u,e))):(a(T,e),l.value=e)}});return{model:v,isGroup:i,isLimitExceeded:d}})(e),{isFocused:f,isChecked:k,checkboxButtonSize:x,checkboxSize:g,hasOwnLabel:C,actualValue:L}=((e,l,{model:u})=>{const n=o(oe,void 0),s=r(!1),i=t(()=>v(e.value)?e.label:e.value),d=t(()=>{const l=u.value;return a(l)?l:c(l)?b(i.value)?l.map(m).some(e=>p(e,i.value)):l.map(m).includes(i.value):null!=l?l===e.trueValue||l===e.trueLabel:!!l});return{checkboxButtonSize:Z(t(()=>{var e;return null==(e=null==n?void 0:n.size)?void 0:e.value}),{prop:!0}),isChecked:d,isFocused:s,checkboxSize:Z(t(()=>{var e;return null==(e=null==n?void 0:n.size)?void 0:e.value})),hasOwnLabel:t(()=>!!l.default||!v(i.value)),actualValue:i}})(e,l,{model:i}),{isDisabled:y}=(({model:e,isChecked:l})=>{const a=o(oe,void 0),u=t(()=>{var u,o;const t=null==(u=null==a?void 0:a.max)?void 0:u.value,s=null==(o=null==a?void 0:a.min)?void 0:o.value;return!n(t)&&e.value.length>=t&&!l.value||!n(s)&&e.value.length<=s&&l.value});return{isDisabled:W(t(()=>(null==a?void 0:a.disabled.value)||u.value)),isLimitDisabled:u}})({model:i,isChecked:k}),{inputId:V,isLabeledByFormItem:B}=ee(e,{formItemContext:u,disableIdGeneration:C,disableIdManagement:d}),{handleChange:S,onClickRoot:I}=te(e,{model:i,isLimitExceeded:h,hasOwnLabel:C,isDisabled:y,isLabeledByFormItem:B});var E,F;return e.checked&&(c(i.value)&&!i.value.includes(L.value)?i.value.push(L.value):i.value=null==(F=null!=(E=e.trueValue)?E:e.trueLabel)||F),le({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},t(()=>d.value&&v(e.value))),le({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},t(()=>!!e.trueLabel)),le({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},t(()=>!!e.falseLabel)),{inputId:V,isLabeledByFormItem:B,isChecked:k,isDisabled:y,isFocused:f,checkboxButtonSize:x,checkboxSize:g,hasOwnLabel:C,model:i,actualValue:L,handleChange:S,onClickRoot:I}},se=h({name:"ElCheckbox"});var ie=D(h({...se,props:ae,emits:ue,setup(e){const l=e,a=f(),{inputId:u,isLabeledByFormItem:o,isChecked:n,isDisabled:s,isFocused:i,checkboxSize:d,hasOwnLabel:r,model:c,actualValue:v,handleChange:b,onClickRoot:m}=ne(l,a),p=t(()=>{var e,a,u,o;return l.trueValue||l.falseValue||l.trueLabel||l.falseLabel?{"true-value":null==(a=null!=(e=l.trueValue)?e:l.trueLabel)||a,"false-value":null!=(o=null!=(u=l.falseValue)?u:l.falseLabel)&&o}:{value:v.value}}),h=k("checkbox"),D=t(()=>[h.b(),h.m(d.value),h.is("disabled",s.value),h.is("bordered",l.border),h.is("checked",n.value)]),G=t(()=>[h.e("input"),h.is("disabled",s.value),h.is("checked",n.value),h.is("indeterminate",l.indeterminate),h.is("focus",i.value)]);return(e,l)=>(g(),x(j(!S(r)&&S(o)?"span":"label"),{class:B(S(D)),"aria-controls":e.indeterminate?e.ariaControls:null,onClick:S(m)},{default:C(()=>[L("span",{class:B(S(G))},[I(L("input",E({id:S(u),"onUpdate:modelValue":e=>F(c)?c.value=e:null,class:S(h).e("original"),type:"checkbox",indeterminate:e.indeterminate,name:e.name,tabindex:e.tabindex,disabled:S(s)},S(p),{onChange:S(b),onFocus:e=>i.value=!0,onBlur:e=>i.value=!1,onClick:z(()=>{},["stop"])}),null,16,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","onChange","onFocus","onBlur","onClick"]),[[N,S(c)]]),L("span",{class:B(S(h).e("inner"))},null,2)],2),S(r)?(g(),y("span",{key:0,class:B(S(h).e("label"))},[w(e.$slots,"default"),e.$slots.default?V("v-if",!0):(g(),y(O,{key:0},[U(_(e.label),1)],64))],2)):V("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}}),[["__file","checkbox.vue"]]);const de=h({name:"ElCheckboxButton"});var re=D(h({...de,props:ae,emits:ue,setup(e){const l=e,a=f(),{isFocused:u,isChecked:n,isDisabled:s,checkboxButtonSize:i,model:d,actualValue:r,handleChange:c}=ne(l,a),v=t(()=>{var e,a,u,o;return l.trueValue||l.falseValue||l.trueLabel||l.falseLabel?{"true-value":null==(a=null!=(e=l.trueValue)?e:l.trueLabel)||a,"false-value":null!=(o=null!=(u=l.falseValue)?u:l.falseLabel)&&o}:{value:r.value}}),b=o(oe,void 0),m=k("checkbox"),p=t(()=>{var e,l,a,u;const o=null!=(l=null==(e=null==b?void 0:b.fill)?void 0:e.value)?l:"";return{backgroundColor:o,borderColor:o,color:null!=(u=null==(a=null==b?void 0:b.textColor)?void 0:a.value)?u:"",boxShadow:o?`-1px 0 0 0 ${o}`:void 0}}),h=t(()=>[m.b("button"),m.bm("button",i.value),m.is("disabled",s.value),m.is("checked",n.value),m.is("focus",u.value)]);return(e,l)=>(g(),y("label",{class:B(S(h))},[I(L("input",E({"onUpdate:modelValue":e=>F(d)?d.value=e:null,class:S(m).be("button","original"),type:"checkbox",name:e.name,tabindex:e.tabindex,disabled:S(s)},S(v),{onChange:S(c),onFocus:e=>u.value=!0,onBlur:e=>u.value=!1,onClick:z(()=>{},["stop"])}),null,16,["onUpdate:modelValue","name","tabindex","disabled","onChange","onFocus","onBlur","onClick"]),[[N,S(d)]]),e.$slots.default||e.label?(g(),y("span",{key:0,class:B(S(m).be("button","inner")),style:G(S(n)?S(p):void 0)},[w(e.$slots,"default",{},()=>[U(_(e.label),1)])],6)):V("v-if",!0)],2))}}),[["__file","checkbox-button.vue"]]);const ce=$({modelValue:{type:A(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:u,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:A(Array)},props:{type:A(Object),default:()=>be},...Q(["ariaLabel"])}),ve={[T]:e=>c(e),change:e=>c(e)},be={label:"label",value:"value",disabled:"disabled"},me=h({name:"ElCheckboxGroup"});var pe=D(h({...me,props:ce,emits:ve,setup(e,{emit:l}){const a=e,u=k("checkbox"),{formItem:o}=Y(),{inputId:n,isLabeledByFormItem:s}=ee(a,{formItemContext:o}),r=async e=>{l(T,e),await d(),l(X,e)},c=t({get:()=>a.modelValue,set(e){r(e)}}),v=t(()=>({...be,...a.props}));return R(oe,{...H(q(a),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:c,changeEvent:r}),i(()=>a.modelValue,(e,l)=>{a.validateEvent&&!p(e,l)&&(null==o||o.validate("change").catch(e=>K()))}),(e,l)=>{var t;return g(),x(j(e.tag),{id:S(n),class:B(S(u).b("group")),role:"group","aria-label":S(s)?void 0:e.ariaLabel||"checkbox-group","aria-labelledby":S(s)?null==(t=S(o))?void 0:t.labelId:void 0},{default:C(()=>[w(e.$slots,"default",{},()=>[(g(!0),y(O,null,J(a.options,(e,l)=>(g(),x(ie,E({key:l},(e=>{const l={label:e[v.value.label],value:e[v.value.value],disabled:e[v.value.disabled]};return{...e,...l}})(e)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}}),[["__file","checkbox-group.vue"]]);const he=M(ie,{CheckboxButton:re,CheckboxGroup:pe});P(re),P(pe);export{he as E};

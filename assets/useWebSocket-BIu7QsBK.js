import{P as e,d as t,s,g as a,j as o,o as l,w as n,I as r,p as i,q as u,u as c,m as d,_ as w,U as g,a0 as f,r as m,h as p,V as y}from"./index-BuTJgLkP.js";import{c as h}from"./overlay_plugin_api-DHbPkDtN.js";import{E as v}from"./index-DBAmnuYR.js";const C=Symbol("rowContextKey"),E=e({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:["start","center","end","space-around","space-between","space-evenly"],default:"start"},align:{type:String,values:["top","middle","bottom"]}}),S=t({name:"ElRow"});const T=f(w(t({...S,props:E,setup(e){const t=e,w=s("row"),f=a(()=>t.gutter);g(C,{gutter:f});const m=a(()=>{const e={};return t.gutter?(e.marginRight=e.marginLeft=`-${t.gutter/2}px`,e):e}),p=a(()=>[w.b(),w.is(`justify-${t.justify}`,"start"!==t.justify),w.is(`align-${t.align}`,!!t.align)]);return(e,t)=>(l(),o(d(e.tag),{class:u(c(p)),style:i(c(m))},{default:n(()=>[r(e.$slots,"default")]),_:3},8,["class","style"]))}}),[["__file","row.vue"]]));function _(e={allowClose:!1,addWsParam:!0}){const t=m(void 0),s=m(!1),a=m("overlay");let o=null;function l(){Promise.race([h({call:"getLanguage"}),new Promise((e,t)=>{setTimeout(()=>{t(new Error("Timeout"))},1e3)})]).then(()=>{o&&clearTimeout(o),window.location.href.includes("OVERLAY_WS")&&(t.value=!0,a.value="websocket")}).catch(()=>{t.value=!1,a.value="overlay"})}return window.location.href.includes("OVERLAY_WS")&&(o=window.setInterval(()=>{l()},3e3)),p(()=>{!function(){const e=window.navigator.userAgent,t=e.includes("MSIE "),s=e.includes("Trident/");return t||s}()?(y(t,t=>{t?v.close():s.value||(v.close(),v.alert("请按照下图设置<img src='/ff14-overlay-vue/assets/actWS-Dxp7wU0T.webp' style='width:100%'><ul><li>若使用呆萌整合 ACT，需要启动过一次 FF14 游戏本体，OverlayPlugin悬浮窗插件才能成功加载（表现为可以正常查看悬浮窗的列表而非显示一片空白仅有下半控制台）。加载完成后可以关闭游戏。（有意见请找呆萌）</li><li>若 10501 端口被占用，可以随便换一个端口再试（需同时修改网页 url 参数与上图中的“端口”设置）。</li><ul>",e.allowClose?"未连接到 ACT":"未连接到 ACT，无法使用",{dangerouslyUseHTMLString:!0,closeOnClickModal:!1,showClose:!1,closeOnPressEscape:!1,closeOnHashChange:!1,showCancelButton:e.allowClose,showConfirmButton:!1,cancelButtonText:"用不了也要看",buttonSize:"small"}).catch(()=>{s.value=!0,o&&clearInterval(o)}))}),!window.location.href.includes("OVERLAY_WS")&&e.addWsParam&&function(){const e=window.location.href,[t,s=""]=e.split("#"),[a,o=""]=s.split("?"),l=new URLSearchParams(o);let n="";l.forEach((e,t)=>{"OVERLAY_WS"!==t&&(n+=`${t}=${encodeURIComponent(e)}&`)}),n+="OVERLAY_WS=ws://127.0.0.1:10501/ws";let r=t;a&&(r+=`#${a}`,n&&(r+=`?${n}`)),window.location.href=r,location.reload()}(),l()):v.alert("不支持 IE 浏览器，请使用 Chrome、Firefox、Edge 等现代浏览器访问。","提示",{type:"error",showConfirmButton:!1,showClose:!1})}),{wsConnected:t,useType:a}}export{T as E,C as r,_ as u};

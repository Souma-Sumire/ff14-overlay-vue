import{P as e,d as t,s,g as a,j as o,o as n,w as l,I as r,p as i,q as u,u as c,m as d,_ as w,U as f,a0 as g,r as m,h as p,V as h}from"./index-CaZYs5IJ.js";import{c as y}from"./overlay_plugin_api-DHbPkDtN.js";import{E as v}from"./index-Bd_gpug8.js";const C=Symbol("rowContextKey"),E=e({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:["start","center","end","space-around","space-between","space-evenly"],default:"start"},align:{type:String,values:["top","middle","bottom"]}}),S=t({name:"ElRow"});const _=g(w(t({...S,props:E,setup(e){const t=e,w=s("row"),g=a(()=>t.gutter);f(C,{gutter:g});const m=a(()=>{const e={};return t.gutter?(e.marginRight=e.marginLeft=`-${t.gutter/2}px`,e):e}),p=a(()=>[w.b(),w.is(`justify-${t.justify}`,"start"!==t.justify),w.is(`align-${t.align}`,!!t.align)]);return(e,t)=>(n(),o(d(e.tag),{class:u(c(p)),style:i(c(m))},{default:l(()=>[r(e.$slots,"default")]),_:3},8,["class","style"]))}}),[["__file","row.vue"]]));function T(e={allowClose:!1,addWsParam:!0}){const t=m(void 0),s=m(!1),a=m("overlay");let o=null;function n(){Promise.race([y({call:"getLanguage"}),new Promise((e,t)=>{setTimeout(()=>{t(new Error("Timeout"))},1e3)})]).then(()=>{o&&clearTimeout(o),window.location.href.includes("OVERLAY_WS")&&(t.value=!0,a.value="websocket")}).catch(()=>{t.value=!1,a.value="overlay"})}return window.location.href.includes("OVERLAY_WS")&&(o=window.setInterval(()=>{n()},3e3)),p(()=>{!function(){const e=window.navigator.userAgent,t=e.includes("MSIE "),s=e.includes("Trident/");return t||s}()?(h(t,t=>{t?v.close():s.value||v.alert("请按照下图设置<img src='/ff14-overlay-vue/assets/actWS-Dxp7wU0T.webp' style='width:100%'>",e.allowClose?"未连接到 ACT":"未连接到 ACT，无法使用",{dangerouslyUseHTMLString:!0,closeOnClickModal:!1,showClose:!1,closeOnPressEscape:!1,closeOnHashChange:!1,showCancelButton:e.allowClose,showConfirmButton:!1,cancelButtonText:"用不了也要看",buttonSize:"small"}).catch(()=>{s.value=!0,o&&clearInterval(o)})}),!window.location.href.includes("OVERLAY_WS")&&e.addWsParam&&function(){const e=window.location.href,[t,s=""]=e.split("#"),[a,o=""]=s.split("?"),n=new URLSearchParams(o);let l="";n.forEach((e,t)=>{"OVERLAY_WS"!==t&&(l+=`${t}=${encodeURIComponent(e)}&`)}),l+="OVERLAY_WS=ws://127.0.0.1:10501/ws";let r=t;a&&(r+=`#${a}`,l&&(r+=`?${l}`)),window.location.href=r,location.reload()}(),n()):v.alert("不支持 IE 浏览器，请使用 Chrome、Firefox、Edge 等现代浏览器访问。","提示",{type:"error",showConfirmButton:!1,showClose:!1})}),{wsConnected:t,useType:a}}export{_ as E,C as r,T as u};

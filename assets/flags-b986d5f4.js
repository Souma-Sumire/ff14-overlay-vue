import{av as L,U,d as F,o as f,b as h,g as t,t as l,I as T,R as k,c as W,w as I,u as d,a as R,az as V,S as B,i as $,A as x,F as M,aw as P,p as z,l as Y}from"./vendor-b254d16d.js";import{s as S,c as K}from"./status-55143b4f.js";import{s as Z,h as N}from"./xivapi-924793fa.js";import{_ as q}from"./index-ae9b1557.js";const C=[{name:"铁壁",description:"减轻所受到的伤害",id:1191,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"盾阵",description:"受到攻击时必定发动格挡",id:1856,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"干预",description:"减轻所受到的伤害",id:1174,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"预警",description:"减轻所受到的伤害",id:74,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"武装",description:"减轻所受到的伤害",id:1176,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"神圣领域",description:"除特定攻击之外其他所有攻击均无效化",id:82,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"圣光幕帘",description:"抵消一定伤害",id:1362,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"圣盾阵",description:"受到攻击时必定发动格挡",id:2674,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"骑士的坚守",description:"减轻所受到的伤害",id:2675,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"壁垒",description:"受到攻击时必定发动格挡",id:77,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"原初的直觉",description:"自身发动战技命中时可以恢复体力，同时减轻所受到的伤害",id:735,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"原初的勇猛",description:"自身发动战技命中时可以恢复体力",id:1857,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"原初的武猛",description:`附加此效果的战士受到原初的勇猛的恢复体力的效果时，会获得相当于其100%的恢复效果
另外受到攻击的伤害减少`,id:1858,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"战栗",description:`体力最大值提高
习得战栗效果提高后追加效果：自身所受的治疗效果提高`,id:87,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"复仇",description:"受到攻击的伤害减少并且受到物理攻击时会发动反击",id:89,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"摆脱",description:"抵消一定伤害",id:1457,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"死斗",description:"除特定攻击之外其他所有对自身发动的攻击均无法令体力减少到1以下",id:409,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"原初的血气",description:"自身发动战技命中时可以恢复体力，同时减轻所受到的伤害",id:2678,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"原初的血潮",description:"减轻所受到的伤害",id:2679,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"原初的血烟",description:"抵消一定伤害",id:2680,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"至黑之夜",description:"抵消一定伤害",id:1178,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"弃明投暗",description:"减轻所受到的魔法伤害",id:746,type:"multiplier",performance:{physics:0,magic:1,darkness:0},isFriendly:!0},{name:"暗影墙",description:"减轻所受到的伤害",id:747,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"暗黑布道",description:"减轻所受到的魔法伤害",id:1894,type:"multiplier",performance:{physics:0,magic:1,darkness:0},isFriendly:!0},{name:"行尸走肉",description:`受到致命伤害时体力减为1，并附加死而不僵状态
但是对部分攻击无效`,id:810,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"死而不僵",description:"除特定攻击之外其他所有对自身发动的攻击均无法令体力减少到1以下",id:811,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"出死入生",description:"除特定攻击之外其他所有对自身发动的攻击均无法令体力减少到1以下",id:3255,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"献奉",description:"减轻所受到的伤害",id:2682,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"石之心",description:"减轻所受到的伤害",id:1840,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"残暴弹",description:"抵消一定伤害",id:1898,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"伪装",description:"招架发动率提高，减轻所受到的伤害",id:1832,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"星云",description:"减轻所受到的伤害",id:1834,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"光之心",description:"减轻所受到的魔法伤害",id:1839,type:"multiplier",performance:{physics:0,magic:1,darkness:0},isFriendly:!0},{name:"超火流星",description:"除特定攻击之外其他所有攻击均无效化",id:1836,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"刚玉之心",description:"减轻所受到的伤害",id:2683,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"刚玉之清",description:"减轻所受到的伤害",id:2684,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"神祝祷",description:"抵消一定伤害",id:1218,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"节制",description:"减轻所受到的伤害",id:1873,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"水流幕",description:"减轻所受到的伤害",id:2708,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"鼓舞",description:"抵消一定伤害",id:297,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"激励",description:"抵消一定伤害",id:1918,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"炽天的幕帘",description:"抵消一定伤害",id:1917,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"野战治疗阵",description:"减轻所受到的伤害",id:299,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"异想的幻光",description:"发动治疗魔法的治疗量提高，且受到魔法攻击的伤害减少",id:317,type:"multiplier",performance:{physics:0,magic:1,darkness:0},isFriendly:!0},{name:"炽天的幻光",description:"发动治疗魔法的治疗量提高，且受到魔法攻击的伤害减少",id:1875,type:"multiplier",performance:{physics:0,magic:1,darkness:0},isFriendly:!0},{name:"生命回生法",description:"体力最大值提高，同时自身所受体力恢复效果提高",id:2710,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"怒涛之计",description:"减轻所受到的伤害",id:2711,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"命运之轮",description:"减轻所受到的伤害",id:849,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"天星交错",description:"抵消一定伤害",id:1889,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"擢升",description:"减轻所受到的伤害",id:2717,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"中间学派",description:"抵消一定伤害",id:1921,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"均衡诊断",description:"抵消一定伤害",id:2607,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"齐衡诊断",description:"抵消一定伤害",id:2608,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"均衡预后",description:"抵消一定伤害",id:2609,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"坚角清汁",description:"减轻所受到的伤害",id:2618,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"白牛清汁",description:"减轻所受到的伤害",id:2619,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"整体论",description:"减轻所受到的伤害",id:3003,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"整体盾",description:"抵消一定伤害",id:3365,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"输血",description:"抵消一定伤害",id:2612,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"泛输血",description:"抵消一定伤害",id:2613,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"心眼",description:"下次受到攻击时所受到的伤害减轻",id:1232,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"金刚极意",description:"减轻所受到的一部分伤害",id:1179,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"行吟",description:"减轻所受到的伤害",id:1934,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"策动",description:"减轻所受到的伤害",id:1951,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"防守之桑巴",description:"减轻所受到的伤害",id:1826,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"即兴表演结束",description:"抵消一定伤害",id:2697,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"残影",description:"抵消一定伤害",id:488,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"魔罩",description:"抵消一定伤害",id:168,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"守护之光",description:"抵消一定伤害",id:2702,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"守护纹",description:"抵消一定伤害",id:2597,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"抗死",description:"减轻所受到的魔法伤害，同时自身所受体力恢复效果提高",id:2707,type:"multiplier",performance:{physics:0,magic:1,darkness:0},isFriendly:!0},{name:"雪仇",description:"攻击所造成的伤害降低",id:1193,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!1},{name:"牵制",description:"物理攻击和魔法攻击所造成的伤害降低",id:1195,type:"multiplier",performance:{physics:1,magic:.5,darkness:0},isFriendly:!1},{name:"昏乱",description:"物理攻击和魔法攻击所造成的伤害降低",id:1203,type:"multiplier",performance:{physics:.5,magic:1,darkness:0},isFriendly:!1},{name:"武装解除",description:"攻击所造成的伤害降低",id:860,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!1},{name:"减速",description:"战技与魔法的咏唱及复唱时间延长",id:9,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!1},{name:"体力增加",description:"体力最大值提高",id:2120,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"腐臭",description:"造成的伤害降低",id:1715,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!1},{name:"智力精神降低",description:"智力与精神有所降低",id:2115,type:"multiplier",performance:{physics:0,magic:1,darkness:0},isFriendly:!1},{name:"龙之力",description:"受到的伤害降低",id:2500,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"超硬化",description:"无法自由活动，但受到攻击的伤害减少",id:1722,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"玄结界",description:"减轻所受到的伤害，受到一定伤害后将附加玄天武水壁状态",id:2496,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"仙人盾",description:"受到的伤害降低",id:2119,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"强力守护",description:"令自身所受到的伤害减少，同时会以攻击力降低为代价提高自身仇恨",id:1719,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"哥布防御",description:"抵消一定伤害",id:2114,type:"absorbed",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"铜墙铁盾",description:"减轻所受到的伤害",id:194,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"坚守要塞",description:"减轻所受到的伤害",id:195,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"终极堡垒",description:"减轻所受到的伤害",id:196,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"原初大地",description:"减轻所受到的伤害",id:863,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"暗黑之力",description:"减轻所受到的伤害",id:864,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0},{name:"灵魂之青",description:"减轻所受到的伤害",id:1931,type:"multiplier",performance:{physics:1,magic:1,darkness:1},isFriendly:!0}],j=[...C],g=new Map;let E="Chinese";function w(e){if(E!==e||g.size===0){g.clear();for(const r of e==="Chinese"?C:j){const i=S[r.id][1];r.fullIcon=K(i),g.set(r.id.toString(16).toUpperCase().padStart(2,"0"),r)}E=e}}w("Chinese");function Ee(e){return g.get(e)}function Oe(e){return e===1?"useful":e===0?"unuseful":"half-useful"}const G=/(?:耐性|防御力)(?:大幅)?(?:降低|提升|低下|下降)|受伤(?:加重|减轻)|体力(?:增加|衰减|减少)|伤害屏障/,J=/(?:精神|力量|灵巧|智力){1,2}(?:大幅)?降低/;function A(e,r){return Object.entries(S).reduce((i,[n,[s,m]])=>(e.test(s)&&i.set(n,{name:s,icon:m,isFriendly:r}),i),new Map)}const Se=A(G,!0),Ce=A(J,!1),c=L("hash"),Q=U("keigennRecord2",{state:()=>({userOptions:{scale:o(c.scale,1),showHeader:o(c.showHeader,!0),showIcon:o(c.showIcon,!0),showName:o(c.showName,!1),abbrId:o(c.abbrId,!0),anonymous:o(c.anonymous,!0),replaceWithYou:o(c.replaceWithYou,!1),parseAA:o(c.parseAA,!0),parseDoT:o(c.parseDoT,!1),minimize:o(c.minimize,!1),actionCN:o(c.actionCN,!0),statusCN:o(c.statusCN,!0)},isBrowser:!1,isLocalhost:!1}),getters:{icon4k(e){return e.userOptions.scale>=2||window.devicePixelRatio>=2?"_hr1":""}},actions:{recheckIsDev(){this.isBrowser=!window.OverlayPluginApi&&!c.OVERLAY_WS&&!c.HOST_PORT,this.isLocalhost=location.hostname==="localhost",this.isBrowser&&setTimeout(()=>this.recheckIsDev(),1e3)},formatterName(e){return e},initEnvironment(e){/^[A-Z]\S+ [A-Z]\S+$/.test(e)?(this.userOptions.abbrId&&(this.formatterName=r=>r.replace(/^([A-Z])\S+ ([A-Z])\S+$/,"$1.$2.")),w("Global")):(this.userOptions.abbrId&&(this.formatterName=r=>r.substring(0,2)),w("Chinese"))}}});function o(e,r){return typeof r=="boolean"?e==="0"?!1:e==="1"?!0:r:typeof r=="number"?Number.isNaN(+e)?r:+e:r}const X=t("br",null,null,-1),ee=t("br",null,null,-1),re=t("br",null,null,-1),ie=t("br",null,null,-1),se=t("br",null,null,-1),ne=F({__name:"AmountDetails",props:{row:{type:Object,required:!0}},setup(e){const r=e;return(i,n)=>(f(),h("div",null,[t("span",null,"来源:"+l(r.row.source),1),X,t("span",null,"目标:"+l(r.row.target),1),ee,t("span",null," 护盾:"+l(Math.round(r.row.maxHp*+r.row.shield/100))+" ("+l(r.row.shield)+"%) ",1),re,t("span",null," 血量:"+l(r.row.currentHp)+"/"+l(r.row.maxHp)+" ("+l(Math.round(r.row.currentHp/r.row.maxHp*100))+"%) ",1),ie,t("span",null,[T("伤害:"),t("span",{class:k(r.row.type)},l(r.row.amount),3)]),se,t("span",null," 剩余:"+l(r.row.currentHp-r.row.amount)+" ("+l(Math.round((r.row.currentHp-r.row.amount)/r.row.maxHp*100))+"%) ",1)]))}}),te=[409 .toString(16).toUpperCase(),810 .toString(16).toUpperCase(),811 .toString(16).toUpperCase(),1836 .toString(16).toUpperCase()];function ae(e){return e.currentHp-e.amount<0&&!e.keigenns.find(r=>te.includes(r.effectId))}const ce={class:"amount"},Ae=F({__name:"Amount",props:{row:{type:Object,required:!0}},setup(e){const r=e;return(i,n)=>{const s=ne,m=V;return f(),W(m,{"append-to":".wrapper",effect:"dark",placement:"right-start",title:"",trigger:"hover",enterable:!1,"hide-after":0,"popper-class":"my-el-popover"},{reference:I(()=>[t("span",ce,[t("span",{class:k(r.row.type)},[t("span",{class:k(`${d(ae)(e.row)?"lethal":""}`)},l(e.row.amount.toLocaleString().padStart(3,"　")),3)],2)])]),default:I(()=>[R(s,{row:e.row},null,8,["row"])]),_:1})}}}),pe={key:0,class:"target"},oe=["src","data-job"],De=F({__name:"Target",props:{row:{type:Object,required:!0}},setup(e){const r=e,i=Q();return(n,s)=>(f(),h("div",null,[d(i).userOptions.showIcon?(f(),h("span",pe,[t("img",{class:"jobIcon",src:`${d(Z).first}/cj/companion/${r.row.jobIcon}.png`,alt:"","data-job":d(i).userOptions.showName?"":r.row.job,loading:"lazy",onError:s[0]||(s[0]=(...m)=>d(N)&&d(N)(...m))},null,40,oe),d(i).userOptions.showName?(f(),h("span",{key:0,class:k(`job ${r.row.jobIcon} ${r.row.targetId===r.row.povId?"YOU":""}`),style:B(!d(i).userOptions.abbrId&&d(i).userOptions.showName?{overflow:"hidden",textOverflow:"ellipsis"}:{})},l(r.row.targetId===r.row.povId&&d(i).userOptions.replaceWithYou?"YOU":d(i).userOptions.anonymous?r.row.job:d(i).formatterName(r.row.target)),7)):$("",!0)])):$("",!0)]))}}),de=e=>(z("data-v-325f4b0b"),e=e(),Y(),e),le={class:"upload select"},me=de(()=>t("div",{class:"upload text"},[t("span",null,"+"),t("p",null,"上传或拖入ACT日志")],-1)),ue=F({__name:"testLog",emits:["handleLine","beforeHandle","afterHandle"],setup(e,{emit:r}){const i=r,n=x(null),s=x(null);async function m(p){var u,v;(u=s.value)==null||u.classList.remove("drag");const a=p.target.files;if(!(!a||a.length===0)){i("beforeHandle");for(let b=0;b<a.length;b++){const D=await a[b].text();for(const H of D.split(`
`))i("handleLine",H)}i("afterHandle"),(v=s.value)==null||v.classList.remove("drag")}}function y(p){var a;p.preventDefault(),(a=s.value)==null||a.classList.add("drag")}function _(p){var a;p.preventDefault(),(a=s.value)==null||a.classList.remove("drag")}return M(()=>{var p,a,u;(p=n.value)==null||p.addEventListener("change",m),(a=s.value)==null||a.addEventListener("dragover",y),(u=s.value)==null||u.addEventListener("dragleave",_)}),P(()=>{var p,a,u;(p=n.value)==null||p.removeEventListener("change",m),(a=s.value)==null||a.removeEventListener("dragover",y),(u=s.value)==null||u.removeEventListener("dragleave",_)}),(p,a)=>(f(),h("div",le,[t("div",{ref_key:"select",ref:s,class:"upload-select"},[me,t("input",{ref_key:"input",ref:n,type:"file"},null,512)],512)]))}});const He=q(ue,[["__scopeId","data-v-325f4b0b"]]),O=(()=>typeof structuredClone=="function"?structuredClone:e=>{if(e===null||typeof e!="object")return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e.source,e.flags);if(Array.isArray(e))return e.map(i=>O(i));const r=new e.constructor;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=O(e[i]));return r})();function Le(e){switch(e){case"dodge":return"闪避";case"damage done":return"击中";case"blocked damage":return"格挡";case"parried damage":return"招架";case"instant death":return"即死";case"heal":return"治疗";case"crit heal":return"暴击治疗";case"damage":return"普通";case"crit damage":return"暴击";case"direct hit damage":return"直击";case"crit direct hit damage":return"直暴";case"physics":return"物理";case"magic":return"魔法";case"darkness":return"暗黑";default:throw new Error("Unknown type")}}function Ue(e){const r=ye(e),i=fe(e),n=he(e);return{effect:r,properties:i,type:n}}function ye(e){switch(!0){case e.endsWith("1"):return"dodge";case e.endsWith("3"):return"damage done";case e.endsWith("5"):return"blocked damage";case e.endsWith("6"):return"parried damage";case e.endsWith("33"):return"instant death";case e.endsWith("4"):return"heal";case/2\w{4}4$/.test(e):return"crit heal";default:throw new Error(`Unknown effect flag ${e}`)}}function fe(e){switch(!0){case/2\w{3}$/.test(e):return"crit damage";case/4\w{3}$/.test(e):return"direct hit damage";case/6\w{3}$/.test(e):return"crit direct hit damage";default:return"damage"}}function he(e){switch(!0){case/7?[1-4]\w{3}[35]$|[16]$/.test(e):return"physics";case/^E$/.test(e):case/5\w{4}$/.test(e):return"magic";case/^(?:\d0)?3$/.test(e):case/6\w{4}$/.test(e):return"darkness";default:return console.error(`Unknown type flag ${e}`),"physics"}}const ge=["3E","113","213","313"],ke=["A10","E"],Fe=["04"],be="36",we=["01","03","05","06",be];function Te(e){let i=0,n=e[8]??"",s=e[8+1]??"";ge.includes(n)&&(i+=2,n=e[8+i]??n,s=e[8+i+1]??s),ke.includes(n)&&(i+=2,n=e[8+i]??n,s=e[8+i+1]??s);const m=_e(s),y=`00${n}`.slice(-2);return{amount:m,lowByte:y,flags:n,isHeal:Fe.includes(y),isAttack:we.includes(y)}}function _e(e){if(e===void 0)return 0;const r=e.length;if(r<=4)return 0;let i=Number.parseInt(e.slice(0,r-4),16);if(e[r-4]==="4"){const n=Number.parseInt(e.slice(r-2,r),16);i=i-n+(n<<16)}return i}export{De as _,He as a,Ue as b,Ae as c,O as d,Se as e,Ce as f,Ee as g,Oe as m,Te as p,Le as t,Q as u};

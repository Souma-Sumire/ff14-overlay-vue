import{a9 as e,aJ as t,X as n,cd as o,cb as a,V as r,ak as i,r as s,ce as l,J as u,cf as c,cg as d,x as f,h as v,ch as h,g as m,f as p,u as g,aw as y}from"./index-ByR8zXSG.js";const w=new WeakMap,b=(...e)=>{var t;const n=e[0],o=null===(t=u())||void 0===t?void 0:t.proxy,a=null!=o?o:d();if(null==a&&!c())throw new Error("injectLocal must be called in setup");return a&&w.has(a)&&n in w.get(a)?w.get(a)[n]:f(...e)},S="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const k=Object.prototype.toString,A=()=>{};function E(...e){if(1!==e.length)return i(...e);const t=e[0];return"function"==typeof t?a(l(()=>({get:t,set:A}))):s(t)}function O(e,t){return function(...n){return new Promise((o,a)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(o).catch(a)})}}const $=e=>e();function T(e){return e.endsWith("rem")?16*Number.parseFloat(e):Number.parseFloat(e)}function j(e){return Array.isArray(e)?e:[e]}function N(e,t=200,n={}){return O(function(e,t={}){let n,a,r=A;const i=e=>{clearTimeout(e),r(),r=A};let s;return l=>{const u=o(e),c=o(t.maxWait);return n&&i(n),u<=0||void 0!==c&&c<=0?(a&&(i(a),a=void 0),Promise.resolve(l())):new Promise((e,o)=>{r=t.rejectOnCancel?o:e,s=l,c&&!a&&(a=setTimeout(()=>{n&&i(n),a=void 0,e(s())},c)),n=setTimeout(()=>{a&&i(a),a=void 0,e(l())},u)})}}(t,n),e)}function C(e,t,n={}){const{eventFilter:o=$,...a}=n;return r(e,O(o,t),a)}const F=function(e,t,n={}){const{eventFilter:o,initialState:r="active",...i}=n,{eventFilter:s,pause:l,resume:u,isActive:c}=function(e=$,t={}){const{initialState:n="active"}=t,o=E("active"===n);return{isActive:a(o),pause:function(){o.value=!1},resume:function(){o.value=!0},eventFilter:(...t)=>{o.value&&e(...t)}}}(o,{initialState:r});return{stop:C(e,t,{...i,eventFilter:s}),pause:l,resume:u,isActive:c}};function M(e,t=!0,o){u()?v(e,o):t?e():n(e)}function P(n=!1,a={}){const{truthyValue:r=!0,falsyValue:i=!1}=a,s=e(n),l=t(n);function u(e){if(arguments.length)return l.value=e,l.value;{const e=o(r);return l.value=l.value===e?o(i):e,l.value}}return s?u:[l,u]}const V=S?window:void 0;function x(e){var t;const n=o(e);return null!==(t=null==n?void 0:n.$el)&&void 0!==t?t:n}function L(...e){const t=[],n=()=>{t.forEach(e=>e()),t.length=0},a=m(()=>{const t=j(o(e[0])).filter(e=>null!=e);return t.every(e=>"string"!=typeof e)?t:void 0}),i=(s=([e,o,a,r])=>{if(n(),!(null==e?void 0:e.length)||!(null==o?void 0:o.length)||!(null==a?void 0:a.length))return;const i=(s=r,"[object Object]"===k.call(s)?{...r}:r);var s;t.push(...e.flatMap(e=>o.flatMap(t=>a.map(n=>((e,t,n,o)=>(e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)))(e,t,n,i)))))},l={flush:"post"},r(()=>{var t,n;return[null!==(t=null===(n=a.value)||void 0===n?void 0:n.map(e=>x(e)))&&void 0!==t?t:[V].filter(e=>null!=e),j(o(a.value?e[1]:e[0])),j(g(a.value?e[2]:e[1])),o(a.value?e[3]:e[2])]},s,{...l,immediate:!0}));var s,l;var u,c;return u=n,d()&&h(u,c),()=>{i(),n()}}function I(e,t,n={}){const{window:a=V,ignore:r=[],capture:i=!0,detectIframe:s=!1,controls:l=!1}=n;if(!a)return l?{stop:A,cancel:A,trigger:A}:A;let u=!0;const c=e=>o(r).some(t=>{if("string"==typeof t)return Array.from(a.document.querySelectorAll(t)).some(t=>t===e.target||e.composedPath().includes(t));{const n=x(t);return n&&(e.target===n||e.composedPath().includes(n))}});const d=n=>{const a=x(e);null!=n.target&&(a instanceof Element||!function(e){const t=o(e);return t&&16===t.$.subTree.shapeFlag}(e)||!function(e,t){const n=o(e),a=n.$.subTree&&n.$.subTree.children;return!(null==a||!Array.isArray(a))&&a.some(e=>e.el===t.target||t.composedPath().includes(e.el))}(e,n))&&a&&a!==n.target&&!n.composedPath().includes(a)&&("detail"in n&&0===n.detail&&(u=!c(n)),u?t(n):u=!0)};let f=!1;const v=[L(a,"click",e=>{f||(f=!0,setTimeout(()=>{f=!1},0),d(e))},{passive:!0,capture:i}),L(a,"pointerdown",t=>{const n=x(e);u=!c(t)&&!(!n||t.composedPath().includes(n))},{passive:!0}),s&&L(a,"blur",n=>{setTimeout(()=>{var o;const r=x(e);"IFRAME"!==(null===(o=a.document.activeElement)||void 0===o?void 0:o.tagName)||(null==r?void 0:r.contains(a.document.activeElement))||t(n)},0)},{passive:!0})].filter(Boolean),h=()=>v.forEach(e=>e());return l?{stop:h,cancel:()=>{u=!1},trigger:e=>{u=!0,d(e),u=!1}}:h}function J(){const e=t(!1),n=u();return n&&v(()=>{e.value=!0},n),e}function z(e){const t=J();return m(()=>(t.value,Boolean(e())))}const D=Symbol("vueuse-ssr-width");function W(){const e=c()?b(D,null):null;return"number"==typeof e?e:void 0}const _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},B="__vueuse_ssr_handlers__",R=q();function q(){return B in _||(_[B]=_[B]||{}),_[B]}function G(e,t){return R[e]||t}function U(e){return function(e,n={}){const{window:a=V,ssrWidth:r=W()}=n,i=z(()=>a&&"matchMedia"in a&&"function"==typeof a.matchMedia),s=t("number"==typeof r),l=t(),u=t(!1);return y(()=>{if(s.value)return s.value=!i.value,void(u.value=o(e).split(",").some(e=>{const t=e.includes("not all"),n=e.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),o=e.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let a=Boolean(n||o);return n&&a&&(a=r>=T(n[1])),o&&a&&(a=r<=T(o[1])),t?!a:a}));i.value&&(l.value=a.matchMedia(o(e)),u.value=l.value.matches)}),L(l,"change",e=>{u.value=e.matches},{passive:!0}),m(()=>u.value)}("(prefers-color-scheme: dark)",e)}const H={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},K="vueuse-storage";function X(e,a,i,l={}){var u;const{flush:c="pre",deep:d=!0,listenToStorageChanges:f=!0,writeDefaults:v=!0,mergeDefaults:h=!1,shallow:p,window:g=V,eventFilter:y,onError:w=e=>{},initOnMounted:b}=l,S=(p?t:s)("function"==typeof a?a():a),k=m(()=>o(e));if(!i)try{i=G("getDefaultStorage",()=>null==V?void 0:V.localStorage)()}catch(P){w(P)}if(!i)return S;const A=o(a),E=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}(A),O=null!==(u=l.serializer)&&void 0!==u?u:H[E],{pause:$,resume:T}=F(S,e=>function(e){try{const t=i.getItem(k.value);if(null==e)N(t,null),i.removeItem(k.value);else{const n=O.write(e);t!==n&&(i.setItem(k.value,n),N(t,n))}}catch(P){w(P)}}(e),{flush:c,deep:d,eventFilter:y});r(k,()=>C(),{flush:c});let j=!1;function N(e,t){if(g){const n={key:k.value,oldValue:e,newValue:t,storageArea:i};g.dispatchEvent(i instanceof Storage?new StorageEvent("storage",n):new CustomEvent(K,{detail:n}))}}function C(e){if(!e||e.storageArea===i)if(e&&null==e.key)S.value=A;else if(!e||e.key===k.value){$();try{const t=O.write(S.value);void 0!==e&&(null==e?void 0:e.newValue)===t||(S.value=function(e){const t=e?e.newValue:i.getItem(k.value);if(null==t)return v&&null!=A&&i.setItem(k.value,O.write(A)),A;if(!e&&h){const e=O.read(t);return"function"==typeof h?h(e,A):"object"!==E||Array.isArray(e)?e:{...A,...e}}return"string"!=typeof t?t:O.read(t)}(e))}catch(P){w(P)}finally{e?n(T):T()}}}return g&&f&&(i instanceof Storage?L(g,"storage",e=>{b&&!j||C(e)},{passive:!0}):L(g,K,e=>{b&&!j||C(e.detail)})),b?M(()=>{j=!0,C()}):C(),S}function Q(e={}){const{valueDark:t="dark",valueLight:n=""}=e,o=function(e={}){const{selector:t="html",attribute:n="class",initialValue:o="auto",window:a=V,storage:i,storageKey:s="vueuse-color-scheme",listenToStorageChanges:l=!0,storageRef:u,emitAuto:c,disableTransition:d=!0}=e,f={auto:"",light:"light",dark:"dark",...e.modes||{}},v=U({window:a}),h=m(()=>v.value?"dark":"light"),p=u||(null==s?E(o):X(s,o,i,{window:a,listenToStorageChanges:l})),g=m(()=>"auto"===p.value?h.value:p.value),y=G("updateHTMLAttrs",(e,t,n)=>{const o="string"==typeof e?null==a?void 0:a.document.querySelector(e):x(e);if(!o)return;const r=new Set,i=new Set;let s,l=null;if("class"===t){const e=n.split(/\s/g);Object.values(f).flatMap(e=>(e||"").split(/\s/g)).filter(Boolean).forEach(t=>{e.includes(t)?r.add(t):i.add(t)})}else l={key:t,value:n};if(0!==r.size||0!==i.size||null!==l){d&&(s=a.document.createElement("style"),s.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),a.document.head.appendChild(s));for(const e of r)o.classList.add(e);for(const e of i)o.classList.remove(e);l&&o.setAttribute(l.key,l.value),d&&(a.getComputedStyle(s).opacity,document.head.removeChild(s))}});function w(e){var o;y(t,n,null!==(o=f[e])&&void 0!==o?o:e)}function b(t){e.onChanged?e.onChanged(t,w):w(t)}r(g,b,{flush:"post",immediate:!0}),M(()=>b(g.value));const S=m({get:()=>c?p.value:g.value,set(e){p.value=e}});return Object.assign(S,{store:p,system:h,state:g})}({...e,onChanged:(t,n)=>{var o;e.onChanged?null===(o=e.onChanged)||void 0===o||o.call(e,"dark"===t,n,t):n(t)},modes:{dark:t,light:n}}),a=m(()=>o.system.value);return m({get:()=>"dark"===o.value,set(e){const t=e?"dark":"light";a.value===t?o.value="auto":o.value=t}})}function Y(e,t,n={}){const{window:o=V}=n;return X(e,t,null==o?void 0:o.localStorage,n)}function Z(e="history",t={}){const{initialValue:o={},removeNullishValues:a=!0,removeFalsyValues:r=!1,write:i=!0,writeMode:s="replace",window:l=V,stringify:u=e=>e.toString()}=t;if(!l)return p(o);const c=p({});function d(t){const n=u(t);if("history"===e)return`${n?`?${n}`:""}${l.location.hash||""}`;if("hash-params"===e)return`${l.location.search||""}${n?`#${n}`:""}`;const o=l.location.hash||"#",a=o.indexOf("?");return a>0?`${l.location.search||""}${o.slice(0,a)}${n?`?${n}`:""}`:`${l.location.search||""}${o}${n?`?${n}`:""}`}function f(){return new URLSearchParams(function(){if("history"===e)return l.location.search||"";if("hash"===e){const e=l.location.hash||"",t=e.indexOf("?");return t>0?e.slice(t):""}return(l.location.hash||"").replace(/^#/,"")}())}function v(e){const t=new Set(Object.keys(c));for(const n of e.keys()){const o=e.getAll(n);c[n]=o.length>1?o:e.get(n)||"",t.delete(n)}Array.from(t).forEach(e=>delete c[e])}const{pause:h,resume:m}=F(c,()=>{const e=new URLSearchParams("");Object.keys(c).forEach(t=>{const n=c[t];Array.isArray(n)?n.forEach(n=>e.append(t,n)):a&&null==n||r&&!n?e.delete(t):e.set(t,n)}),g(e,!1)},{deep:!0});function g(e,t,o=!0){h(),t&&v(e),"replace"===s?l.history.replaceState(l.history.state,l.document.title,l.location.pathname+d(e)):o&&l.history.pushState(l.history.state,l.document.title,l.location.pathname+d(e)),n(()=>m())}function y(){i&&g(f(),!0,!1)}const w={passive:!0};L(l,"popstate",y,w),"history"!==e&&L(l,"hashchange",y,w);const b=f();return b.keys().next().value?v(b):Object.assign(c,o),c}export{P as a,Y as b,N as c,Z as d,Q as e,I as o,X as u};

import{ae as e,as as o,a4 as l,d as a,a6 as s,a1 as t,h as n,c as r,o as i,a as d,G as u,a7 as c,s as f,u as p,t as v,b as y,w as g,k as b,n as m,c5 as C,Q as h,q as k,ap as w,af as x,a8 as A,b9 as B,r as S,br as F,c6 as I,bp as R,b3 as _,a2 as $,aa as D,B as E,ak as P,i as L,c7 as M,al as T,ah as j,a0 as z,bg as O,aU as q,l as N,ax as V,v as U,ai as G,ao as K}from"./index-BbxLgENd.js";import{u as Q,a as Z,E as H,b as J}from"./index-yJbKNz5T.js";import{F as W,E as X}from"./focus-trap-DBuCqDDh.js";import{t as Y,e as ee}from"./el-popper-j3St_hm6.js";import{U as oe}from"./index-CnHgy-C_.js";import{u as le}from"./use-form-common-props-CetOw3Mu.js";import{u as ae}from"./index-Cm81kAuR.js";const se=Symbol("dialogInjectionKey"),te="dialog-fade",ne=e({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:o},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),re=a({name:"ElDialogContent"});var ie=l(a({...re,props:ne,emits:{close:()=>!0},setup(e,{expose:o}){const l=e,{t:a}=s(),{Close:w}=C,{dialogRef:x,headerRef:A,bodyId:B,ns:S,style:F}=t(se),{focusTrapRef:I}=t(W),R=((...e)=>o=>{e.forEach(e=>{e.value=o})})(I,x),_=n(()=>!!l.draggable),$=n(()=>!!l.overflow),{resetPosition:D,updatePosition:E,isDragging:P}=Q(x,A,_,$),L=n(()=>[S.b(),S.is("fullscreen",l.fullscreen),S.is("draggable",_.value),S.is("dragging",P.value),S.is("align-center",!!l.alignCenter),{[S.m("center")]:l.center}]);return o({resetPosition:D,updatePosition:E}),(e,o)=>(i(),r("div",{ref:p(R),class:f(p(L)),style:k(p(F)),tabindex:"-1"},[d("header",{ref_key:"headerRef",ref:A,class:f([p(S).e("header"),e.headerClass,{"show-close":e.showClose}])},[c(e.$slots,"header",{},()=>[d("span",{role:"heading","aria-level":e.ariaLevel,class:f(p(S).e("title"))},v(e.title),11,["aria-level"])]),e.showClose?(i(),r("button",{key:0,"aria-label":p(a)("el.dialog.close"),class:f(p(S).e("headerbtn")),type:"button",onClick:o=>e.$emit("close")},[y(p(h),{class:f(p(S).e("close"))},{default:g(()=>[(i(),b(m(e.closeIcon||p(w))))]),_:1},8,["class"])],10,["aria-label","onClick"])):u("v-if",!0)],2),d("div",{id:p(B),class:f([p(S).e("body"),e.bodyClass])},[c(e.$slots,"default")],10,["id"]),e.$slots.footer?(i(),r("footer",{key:0,class:f([p(S).e("footer"),e.footerClass])},[c(e.$slots,"footer")],2)):u("v-if",!0)],6))}}),[["__file","dialog-content.vue"]]);const de=e({...ne,appendToBody:Boolean,appendTo:{type:Y.to.type,default:"body"},beforeClose:{type:x(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:x([String,Object]),default:void 0}}),ue={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[oe]:e=>w(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ce=(e,o)=>{var l;const a=A().emit,{nextZIndex:s}=B();let t="";const r=le(),i=le(),d=S(!1),u=S(!1),c=S(!1),f=S(null!=(l=e.zIndex)?l:s());let p,v;const y=F(),g=n(()=>{var e,o;return null!=(o=null==(e=y.value)?void 0:e.namespace)?o:I}),b=n(()=>{var e;return null==(e=y.value)?void 0:e.dialog}),m=n(()=>{const o={},l=`--${g.value}-dialog`;return e.fullscreen||(e.top&&(o[`${l}-margin-top`]=e.top),e.width&&(o[`${l}-width`]=R(e.width))),o}),C=n(()=>{var o,l,a;return null!=(a=null!=(l=e.draggable)?l:null==(o=b.value)?void 0:o.draggable)&&a&&!e.fullscreen}),h=n(()=>{var o,l,a;return null!=(a=null!=(l=e.alignCenter)?l:null==(o=b.value)?void 0:o.alignCenter)&&a}),k=n(()=>{var o,l,a;return null!=(a=null!=(l=e.overflow)?l:null==(o=b.value)?void 0:o.overflow)&&a}),w=n(()=>h.value?{display:"flex"}:{}),x=n(()=>{var o,l,a;const s=null!=(a=null!=(l=e.transition)?l:null==(o=b.value)?void 0:o.transition)?a:te,t={name:s,onAfterEnter:j,onBeforeLeave:O,onAfterLeave:z};if(_(s)){const e={...s},o=(e,o)=>l=>{$(e)?e.forEach(e=>{D(e)&&e(l)}):D(e)&&e(l),o()};return e.onAfterEnter=o(e.onAfterEnter,j),e.onBeforeLeave=o(e.onBeforeLeave,O),e.onAfterLeave=o(e.onAfterLeave,z),e.name||(e.name=te),e}return t});function j(){a("opened")}function z(){a("closed"),a(oe,!1),e.destroyOnClose&&(c.value=!1)}function O(){a("close")}function q(){null==v||v(),null==p||p(),e.openDelay&&e.openDelay>0?({stop:p}=M(()=>U(),e.openDelay)):U()}function N(){null==p||p(),null==v||v(),e.closeDelay&&e.closeDelay>0?({stop:v}=M(()=>G(),e.closeDelay)):G()}function V(){e.beforeClose?e.beforeClose(function(e){e||(u.value=!0,d.value=!1)}):N()}function U(){T&&(d.value=!0)}function G(){d.value=!1}return e.lockScroll&&Z(d),E(()=>e.zIndex,()=>{var o;f.value=null!=(o=e.zIndex)?o:s()}),E(()=>e.modelValue,l=>{var t;l?(u.value=!1,q(),c.value=!0,f.value=null!=(t=e.zIndex)?t:s(),P(()=>{a("open"),o.value&&(o.value.parentElement.scrollTop=0,o.value.parentElement.scrollLeft=0,o.value.scrollTop=0)})):d.value&&N()}),E(()=>e.fullscreen,e=>{o.value&&(e?(t=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=t)}),L(()=>{e.modelValue&&(d.value=!0,c.value=!0,q())}),{afterEnter:j,afterLeave:z,beforeLeave:O,handleClose:V,onModalClick:function(){e.closeOnClickModal&&V()},close:N,doClose:G,onOpenAutoFocus:function(){a("openAutoFocus")},onCloseAutoFocus:function(){a("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&V()},onFocusoutPrevented:function(e){var o;"pointer"===(null==(o=e.detail)?void 0:o.focusReason)&&e.preventDefault()},titleId:r,bodyId:i,closed:u,style:m,overlayDialogStyle:w,rendered:c,visible:d,zIndex:f,transitionConfig:x,_draggable:C,_alignCenter:h,_overflow:k}},fe=a({name:"ElDialog",inheritAttrs:!1});const pe=K(l(a({...fe,props:de,emits:ue,setup(e,{expose:o}){const l=e,a=j();ae({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},n(()=>!!a.title));const s=z("dialog"),t=S(),r=S(),v=S(),{visible:m,titleId:C,bodyId:h,style:w,overlayDialogStyle:x,rendered:A,transitionConfig:B,zIndex:F,_draggable:I,_alignCenter:R,_overflow:_,handleClose:$,onModalClick:D,onOpenAutoFocus:E,onCloseAutoFocus:P,onCloseRequested:L,onFocusoutPrevented:M}=ce(l,t);G(se,{dialogRef:t,headerRef:r,bodyId:h,ns:s,rendered:A,style:w});const T=J(D),K=n(()=>l.modalPenetrable&&!l.modal&&!l.fullscreen);return o({visible:m,dialogContentRef:v,resetPosition:()=>{var e;null==(e=v.value)||e.resetPosition()},handleClose:$}),(e,o)=>(i(),b(p(ee),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:g(()=>[y(O,q(p(B),{persisted:""}),{default:g(()=>{var o;return[N(y(p(H),{"custom-mask-event":"",mask:e.modal,"overlay-class":[null!=(o=e.modalClass)?o:"",`${p(s).namespace.value}-modal-dialog`,p(s).is("penetrable",p(K))],"z-index":p(F)},{default:g(()=>[d("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:p(C),"aria-describedby":p(h),class:f(`${p(s).namespace.value}-overlay-dialog`),style:k(p(x)),onClick:p(T).onClick,onMousedown:p(T).onMousedown,onMouseup:p(T).onMouseup},[y(p(X),{loop:"",trapped:p(m),"focus-start-el":"container",onFocusAfterTrapped:p(E),onFocusAfterReleased:p(P),onFocusoutPrevented:p(M),onReleaseRequested:p(L)},{default:g(()=>[p(A)?(i(),b(ie,q({key:0,ref_key:"dialogContentRef",ref:v},e.$attrs,{center:e.center,"align-center":p(R),"close-icon":e.closeIcon,draggable:p(I),overflow:p(_),fullscreen:e.fullscreen,"header-class":e.headerClass,"body-class":e.bodyClass,"footer-class":e.footerClass,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:p($)}),V({header:g(()=>[e.$slots.title?c(e.$slots,"title",{key:1}):c(e.$slots,"header",{key:0,close:p($),titleId:p(C),titleClass:p(s).e("title")})]),default:g(()=>[c(e.$slots,"default")]),_:2},[e.$slots.footer?{name:"footer",fn:g(()=>[c(e.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):u("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[U,p(m)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}}),[["__file","dialog.vue"]]));export{te as D,pe as E,de as a,se as b,ue as d,ce as u};

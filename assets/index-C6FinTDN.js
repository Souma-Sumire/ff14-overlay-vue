const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dnc-DAwFNmyJ.js","assets/vue-vendor-wZ_5aAzA.js","assets/overlay_plugin_api-DU1DlPio.js","assets/index-CKUOrbjt.js","assets/element-plus-8--zztY3.js","assets/_plugin-vue_export-helper-BCo6x5W8.js","assets/dnc-BLKbhtK-.css","assets/el-popconfirm-Du63PGr7.css","assets/el-popper-DG5wR-qi.css","assets/el-popover-Cktl5fHm.css","assets/el-button-DhOMi8yW.css","assets/el-switch-B5lTGWdM.css","assets/el-input-Cz--kClu.css","assets/el-input-number-DUUPPWGj.css","assets/zoneMacro-DQgLxwKW.js","assets/el-space-C7xgnEhq.js","assets/el-space-VqxEEvUF.css","assets/postNamazu-BfC2Emje.js","assets/zoneInfo-VeakL-Q8.js","assets/useWebSocket-Bk25feTi.js","assets/useWebSocket-C6BJsxyy.css","assets/content_type-lMHx3DqW.js","assets/zoneMacro-D8V5UIoD.css","assets/el-footer-BiwNrDRX.css","assets/el-main-Cr0zlEjE.css","assets/el-card-fwQOLwdi.css","assets/el-table-column-CKoPG0Y8.css","assets/el-tooltip-DIPHKmvR.css","assets/el-select-BC4h7BEE.css","assets/github-markdown-light-C-vOJggO.css","assets/timelineSettings-BUQK3SwV.js","assets/TimelineShow-DaMmGQ4W.js","assets/util-DL4pAhxD.js","assets/xivapi-Ec95Svg1.js","assets/TimelineShow-DUuLevS4.css","assets/bootstrap-4-CQ9s5hZ0.css","assets/lz-string-CjtYhBLA.js","assets/lz-string-DtEr4Wq3.css","assets/actionChinese-BSDFMVcH.js","assets/utils-f4tm6vQK.js","assets/timelineSettings-DhkYt1gq.css","assets/el-form-item-BqrJjMte.css","assets/animate-BaVkx4tQ.css","assets/timelineHelp-DK8esmS3.js","assets/timeline-h46gTHw7.js","assets/timeline-oz5XTza4.css","assets/time-B_GOhAZO.js","assets/time-BxjgksA4.css","assets/statusCompare-BIrF-hFR.js","assets/status-_H3qHe59.js","assets/statusCompare-CYROroEG.css","assets/startPages-DlEVXL8v.js","assets/startPages-BF6CHzJu.css","assets/showBarrier-KlDsrjqP.js","assets/DragJob-DKNjtTFe.js","assets/DragJob-GlEX3zt_.css","assets/netregexes-r2K2MLa5.js","assets/showBarrier-BREKYBk8.css","assets/okVpr2-Qd-RnHlH.js","assets/okVpr-CE5SCSKD.js","assets/okDncDance-DUXJXuEp.js","assets/obs2-B44C8oSf.js","assets/obs-CtYjjizy.js","assets/obs2-_4gSPEUP.css","assets/obs-CQI05yn-.js","assets/style-l0sNRNKZ.js","assets/zone_id-CumO8ZQS.js","assets/obs-DRM1U9vP.css","assets/keigennRecord2-D8-Nme_8.js","assets/keigennRecord2-DW7ELHIh.css","assets/instancedAreaInfo-BP7EVFx4.js","assets/instancedAreaInfo-DAlaVJ3B.css","assets/hunt-CZbJwTrj.js","assets/hunt-2KhXctSN.css","assets/hexcode-BzP8Diiq.js","assets/hexcode-aKsaOfd6.css","assets/ffxivAxisWebFont-Dha9iTRS.js","assets/ffxivAxisWebFont-D_UwMe1A.css","assets/fflogsUploaderDownload-BRlZuPan.js","assets/fflogsUploaderDownload-CDufZFpN.css","assets/dsrp6-CjBqcfa9.js","assets/dsrp6-Cd6JPb6w.css","assets/castingToChinese-C91sodTd.js","assets/castingToChinese-rfp1awyD.css","assets/castingMonitor-BAX8V1N3.js","assets/castingMonitor-NMuSdmTQ.css","assets/cactbotRuntime-B3JIRnAd.js","assets/cactbotRuntime-COx3e8ZN.css","assets/blubook-B7v07wzH.js","assets/blubook-B_vqWVe5.css","assets/aether-CtrSS4bY.js","assets/aether-U2zQvVYU.css"])))=>i.map(i=>d[i]);
var e;import{n as t,i as n,ao as o,u as l,r,d as a,w as i,U as s,a2 as c,W as u,g as d,t as p,V as m,c as g,f,P as h,M as v,p as b,H as x,ak as w,a8 as y,ae as C,a0 as S,ab as E,D,x as T,E as O,v as k,ap as R,aq as I,ar as M,as as P}from"./vue-vendor-wZ_5aAzA.js";import{g as F,E as V,b as A}from"./element-plus-8--zztY3.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const $=new Set(["title","titleTemplate","script","style","noscript"]),N=new Set(["base","meta","link","style","script","noscript"]),L=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),_=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),B=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),z="undefined"!=typeof window;function j(e){let t=9;for(let n=0;n<e.length;)t=Math.imul(t^e.charCodeAt(n++),9**9);return(65536+(t^t>>>9)).toString(16).substring(1,8).toLowerCase()}function H(e){if(e._h)return e._h;if(e._d)return j(e._d);let t=`${e.tag}:${e.textContent||e.innerHTML||""}:`;for(const n in e.props)t+=`${n}:${String(e.props[n])},`;return j(t)}function W(e,t,n,o){const l=o||G("object"!=typeof t||"function"==typeof t||t instanceof Promise?{["script"===e||"noscript"===e||"style"===e?"innerHTML":"textContent"]:t}:{...t},"templateParams"===e||"titleTemplate"===e);if(l instanceof Promise)return l.then((o=>W(e,t,n,o)));const r={tag:e,props:l};for(const a of B){const e=void 0!==r.props[a]?r.props[a]:n[a];void 0!==e&&(("innerHTML"!==a&&"textContent"!==a&&"children"!==a||$.has(r.tag))&&(r["children"===a?"innerHTML":a]=e),delete r.props[a])}return r.props.body&&(r.tagPosition="bodyClose",delete r.props.body),"script"===r.tag&&"object"==typeof r.innerHTML&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map((e=>({...r,props:{...r.props,content:e}}))):r}function q(e,t){var n;const o="class"===e?" ":";";return t&&"object"==typeof t&&!Array.isArray(t)&&(t=Object.entries(t).filter((([,e])=>e)).map((([t,n])=>"style"===e?`${t}:${n}`:t))),null==(n=String(Array.isArray(t)?t.join(o):t))?void 0:n.split(o).filter((e=>Boolean(e.trim()))).join(o)}function U(e,t,n,o){for(let l=o;l<n.length;l+=1){const o=n[l];if("class"!==o&&"style"!==o){if(e[o]instanceof Promise)return e[o].then((r=>(e[o]=r,U(e,t,n,l))));if(!t&&!B.has(o)){const t=String(e[o]),n=o.startsWith("data-");"true"===t||""===t?e[o]=!n||"true":e[o]||(n&&"false"===t?e[o]="false":delete e[o])}}else e[o]=q(o,e[o])}}function G(e,t=!1){const n=U(e,t,Object.keys(e),0);return n instanceof Promise?n.then((()=>e)):e}function K(e,t,n){for(let o=n;o<t.length;o+=1){const n=t[o];if(n instanceof Promise)return n.then((n=>(t[o]=n,K(e,t,o))));Array.isArray(n)?e.push(...n):e.push(n)}}function Y(e){const t=[],n=e.resolvedInput;for(const a in n){if(!Object.prototype.hasOwnProperty.call(n,a))continue;const o=n[a];if(void 0!==o&&L.has(a))if(Array.isArray(o))for(const n of o)t.push(W(a,n,e));else t.push(W(a,o,e))}if(0===t.length)return[];const o=[];return l=K(o,t,0),r=()=>o.map(((t,n)=>(t._e=e._i,e.mode&&(t._m=e.mode),t._p=(e._i<<10)+n,t))),l instanceof Promise?l.then(r):r(l);var l,r}const X=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),Z={base:-10,title:10},Q={critical:-80,high:-10,low:20};function J(e){const t=e.tagPriority;if("number"==typeof t)return t;let n=100;return"meta"===e.tag?"content-security-policy"===e.props["http-equiv"]?n=-30:e.props.charset?n=-20:"viewport"===e.props.name&&(n=-15):"link"===e.tag&&"preconnect"===e.props.rel?n=20:e.tag in Z&&(n=Z[e.tag]),t&&t in Q?n+Q[t]:n}const ee=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],te=["name","property","http-equiv"];function ne(e){const{props:t,tag:n}=e;if(_.has(n))return n;if("link"===n&&"canonical"===t.rel)return"canonical";if(t.charset)return"charset";if(t.id)return`${n}:id:${t.id}`;for(const o of te)if(void 0!==t[o])return`${n}:${o}:${t[o]}`;return!1}const oe="%separator";const le=new RegExp(`${oe}(?:\\s*${oe})*`,"g");function re(e,t,n,o=!1){if("string"!=typeof e||!e.includes("%"))return e;let l=e;try{l=decodeURI(e)}catch{}const r=l.match(/%\w+(?:\.\w+)?/g);if(!r)return e;const a=e.includes(oe);return e=e.replace(/%\w+(?:\.\w+)?/g,(e=>{if(e===oe||!r.includes(e))return e;const n=function(e,t,n=!1){var o;let l;if("s"===t||"pageTitle"===t)l=e.pageTitle;else if(t.includes(".")){const n=t.indexOf(".");l=null==(o=e[t.substring(0,n)])?void 0:o[t.substring(n+1)]}else l=e[t];if(void 0!==l)return n?(l||"").replace(/"/g,'\\"'):l||""}(t,e.slice(1),o);return void 0!==n?n:e})).trim(),a&&(e.endsWith(oe)&&(e=e.slice(0,-10)),e.startsWith(oe)&&(e=e.slice(10)),e=e.replace(le,n).trim()),e}function ae(e,t){return null==e?t||null:"function"==typeof e?e(t):e}function ie(e,t={}){const n=t.delayFn||(e=>setTimeout(e,10));return e._domDebouncedUpdatePromise=e._domDebouncedUpdatePromise||new Promise((o=>n((()=>async function(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const o={shouldRender:!0,tags:[]};return await e.hooks.callHook("dom:beforeRender",o),o.shouldRender?(e._domUpdatePromise||(e._domUpdatePromise=new Promise((async t=>{var o;const l=(await e.resolveTags()).map((e=>({tag:e,id:N.has(e.tag)?H(e):e.tag,shouldRender:!0})));let r=e._dom;if(!r){r={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};const e=new Set;for(const t of["body","head"]){const l=null==(o=n[t])?void 0:o.children;for(const t of l){const n=t.tagName.toLowerCase();if(!N.has(n))continue;const o={tag:n,props:await G(t.getAttributeNames().reduce(((e,n)=>({...e,[n]:t.getAttribute(n)})),{})),innerHTML:t.innerHTML},l=ne(o);let a=l,i=1;for(;a&&e.has(a);)a=`${l}:${i++}`;a&&(o._d=a,e.add(a)),r.elMap[t.getAttribute("data-hid")||H(o)]=t}}}function a(e,t,n){const o=`${e}:${t}`;r.sideEffects[o]=n,delete r.pendingSideEffects[o]}function i({id:e,$el:t,tag:o}){const l=o.tag.endsWith("Attrs");if(r.elMap[e]=t,l||(o.textContent&&o.textContent!==t.textContent&&(t.textContent=o.textContent),o.innerHTML&&o.innerHTML!==t.innerHTML&&(t.innerHTML=o.innerHTML),a(e,"el",(()=>{var t;null==(t=r.elMap[e])||t.remove(),delete r.elMap[e]}))),o._eventHandlers)for(const r in o._eventHandlers)Object.prototype.hasOwnProperty.call(o._eventHandlers,r)&&""!==t.getAttribute(`data-${r}`)&&(("bodyAttrs"===o.tag?n.defaultView:t).addEventListener(r.substring(2),o._eventHandlers[r].bind(t)),t.setAttribute(`data-${r}`,""));for(const n in o.props){if(!Object.prototype.hasOwnProperty.call(o.props,n))continue;const r=o.props[n],i=`attr:${n}`;if("class"===n){if(!r)continue;for(const n of r.split(" "))l&&a(e,`${i}:${n}`,(()=>t.classList.remove(n))),!t.classList.contains(n)&&t.classList.add(n)}else if("style"===n){if(!r)continue;for(const n of r.split(";")){const o=n.indexOf(":"),l=n.substring(0,o).trim(),r=n.substring(o+1).trim();a(e,`${i}:${l}`,(()=>{t.style.removeProperty(l)})),t.style.setProperty(l,r)}}else t.getAttribute(n)!==r&&t.setAttribute(n,!0===r?"":String(r)),l&&a(e,i,(()=>t.removeAttribute(n)))}}r.pendingSideEffects={...r.sideEffects},r.sideEffects={};const s=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const e of l){const{tag:t,shouldRender:o,id:l}=e;o&&("title"!==t.tag?(e.$el=e.$el||r.elMap[l],e.$el?i(e):N.has(t.tag)&&s.push(e)):n.title=t.textContent)}for(const e of s){const t=e.tag.tagPosition||"head";e.$el=n.createElement(e.tag.tag),i(e),c[t]=c[t]||n.createDocumentFragment(),c[t].appendChild(e.$el)}for(const u of l)await e.hooks.callHook("dom:renderTag",u,n,a);c.head&&n.head.appendChild(c.head),c.bodyOpen&&n.body.insertBefore(c.bodyOpen,n.body.firstChild),c.bodyClose&&n.body.appendChild(c.bodyClose);for(const e in r.pendingSideEffects)r.pendingSideEffects[e]();e._dom=r,await e.hooks.callHook("dom:rendered",{renders:l}),t()})).finally((()=>{e._domUpdatePromise=void 0,e.dirty=!1}))),e._domUpdatePromise):void 0}(e,t).then((()=>{delete e._domDebouncedUpdatePromise,o()}))))))}function se(e){return t=>{var n,o;const l=(null==(o=null==(n=t.resolvedOptions.document)?void 0:n.head.querySelector('script[id="unhead:payload"]'))?void 0:o.innerHTML)||!1;return l&&t.push(JSON.parse(l)),{mode:"client",hooks:{"entries:updated":t=>{ie(t,e)}}}}}function ce(e,t={},n){for(const o in e){const l=e[o],r=n?`${n}:${o}`:o;"object"==typeof l&&null!==l?ce(l,t,r):"function"==typeof l&&(t[r]=l)}return t}const ue={run:e=>e()},de=void 0!==console.createTask?console.createTask:()=>ue;function pe(e,t){const n=t.shift(),o=de(n);return e.reduce(((e,n)=>e.then((()=>o.run((()=>n(...t)))))),Promise.resolve())}function me(e,t){const n=t.shift(),o=de(n);return Promise.all(e.map((e=>o.run((()=>e(...t))))))}function ge(e,t){for(const n of[...e])n(t)}class fe{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,n={}){if(!e||"function"!=typeof t)return()=>{};const o=e;let l;for(;this._deprecatedHooks[e];)l=this._deprecatedHooks[e],e=l.to;if(l&&!n.allowDeprecated){let e=l.message;e||(e=`${o} hook has been deprecated`+(l.to?`, please use ${l.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(e)||this._deprecatedMessages.add(e)}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let n,o=(...e)=>("function"==typeof n&&n(),n=void 0,o=void 0,t(...e));return n=this.hook(e,o),n}removeHook(e,t){if(this._hooks[e]){const n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1),0===this._hooks[e].length&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]="string"==typeof t?{to:t}:t;const n=this._hooks[e]||[];delete this._hooks[e];for(const o of n)this.hook(e,o)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=ce(e),n=Object.keys(t).map((e=>this.hook(e,t[e])));return()=>{for(const e of n.splice(0,n.length))e()}}removeHooks(e){const t=ce(e);for(const n in t)this.removeHook(n,t[n])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(pe,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(me,e,...t)}callHookWith(e,t,...n){const o=this._before||this._after?{name:t,args:n,context:{}}:void 0;this._before&&ge(this._before,o);const l=e(t in this._hooks?[...this._hooks[t]]:[],n);return l instanceof Promise?l.finally((()=>{this._after&&o&&ge(this._after,o)})):(this._after&&o&&ge(this._after,o),l)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(void 0!==this._before){const t=this._before.indexOf(e);-1!==t&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(void 0!==this._after){const t=this._after.indexOf(e);-1!==t&&this._after.splice(t,1)}}}}const he=new Set(["templateParams","htmlAttrs","bodyAttrs"]),ve={hooks:{"tag:normalise":({tag:e})=>{e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.key&&(e.key=e.props.key,delete e.props.key);const t=ne(e);!t||t.startsWith("meta:og:")||t.startsWith("meta:twitter:")||delete e.key;const n=t||!!e.key&&`${e.tag}:${e.key}`;n&&(e._d=n)},"tags:resolve":e=>{const t=Object.create(null);for(const o of e.tags){const e=(o.key?`${o.tag}:${o.key}`:o._d)||H(o),n=t[e];if(n){let l=null==o?void 0:o.tagDuplicateStrategy;if(!l&&he.has(o.tag)&&(l="merge"),"merge"===l){const l=n.props;l.style&&o.props.style&&(";"!==l.style[l.style.length-1]&&(l.style+=";"),o.props.style=`${l.style} ${o.props.style}`),l.class&&o.props.class?o.props.class=`${l.class} ${o.props.class}`:l.class&&(o.props.class=l.class),t[e].props={...l,...o.props};continue}if(o._e===n._e){n._duped=n._duped||[],o._d=`${n._d}:${n._duped.length+1}`,n._duped.push(o);continue}if(J(o)>J(n))continue}o.innerHTML||o.textContent||0!==Object.keys(o.props).length||!N.has(o.tag)?t[e]=o:delete t[e]}const n=[];for(const o in t){const e=t[o],l=e._duped;n.push(e),l&&(delete e._duped,n.push(...l))}e.tags=n,e.tags=e.tags.filter((e=>!("meta"===e.tag&&(e.props.name||e.props.property)&&!e.props.content)))}}},be=new Set(["script","link","bodyAttrs"]),xe=e=>({hooks:{"tags:resolve":t=>{for(const n of t.tags){if(!be.has(n.tag))continue;const t=n.props;for(const o in t){if("o"!==o[0]||"n"!==o[1])continue;if(!Object.prototype.hasOwnProperty.call(t,o))continue;const l=t[o];"function"==typeof l&&(e.ssr&&X.has(o)?t[o]=`this.dataset.${o}fired = true`:delete t[o],n._eventHandlers=n._eventHandlers||{},n._eventHandlers[o]=l)}e.ssr&&n._eventHandlers&&(n.props.src||n.props.href)&&(n.key=n.key||j(n.props.src||n.props.href))}},"dom:renderTag":({$el:e,tag:t})=>{var n,o;const l=null==e?void 0:e.dataset;if(l)for(const r in l){if(!r.endsWith("fired"))continue;const l=r.slice(0,-5);X.has(l)&&(null==(o=null==(n=t._eventHandlers)?void 0:n[l])||o.call(e,new Event(l.substring(2))))}}}}),we=new Set(["link","style","script","noscript"]),ye={hooks:{"tag:normalise":({tag:e})=>{e.key&&we.has(e.tag)&&(e.props["data-hid"]=e._h=j(e.key))}}},Ce={mode:"server",hooks:{"tags:beforeResolve":e=>{const t={};let n=!1;for(const o of e.tags)"server"!==o._m||"titleTemplate"!==o.tag&&"templateParams"!==o.tag&&"title"!==o.tag||(t[o.tag]="title"===o.tag||"titleTemplate"===o.tag?o.textContent:o.props,n=!0);n&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},Se={hooks:{"tags:resolve":e=>{var t;for(const n of e.tags)if("string"==typeof n.tagPriority)for(const{prefix:o,offset:l}of ee){if(!n.tagPriority.startsWith(o))continue;const r=n.tagPriority.substring(o.length),a=null==(t=e.tags.find((e=>e._d===r)))?void 0:t._p;if(void 0!==a){n._p=a+l;break}}e.tags.sort(((e,t)=>{const n=J(e),o=J(t);return n<o?-1:n>o?1:e._p-t._p}))}}},Ee={meta:"content",link:"href",htmlAttrs:"lang"},De=["innerHTML","textContent"],Te=e=>({hooks:{"tags:resolve":t=>{var n;const{tags:o}=t;let l;for(let e=0;e<o.length;e+=1){"templateParams"===o[e].tag&&(l=t.tags.splice(e,1)[0].props,e-=1)}const r=l||{},a=r.separator||"|";delete r.separator,r.pageTitle=re(r.pageTitle||(null==(n=o.find((e=>"title"===e.tag)))?void 0:n.textContent)||"",r,a);for(const e of o){if(!1===e.processTemplateParams)continue;const t=Ee[e.tag];if(t&&"string"==typeof e.props[t])e.props[t]=re(e.props[t],r,a);else if(e.processTemplateParams||"titleTemplate"===e.tag||"title"===e.tag)for(const n of De)"string"==typeof e[n]&&(e[n]=re(e[n],r,a,"script"===e.tag&&e.props.type.endsWith("json")))}e._templateParams=r,e._separator=a},"tags:afterResolve":({tags:t})=>{let n;for(let e=0;e<t.length;e+=1){const o=t[e];"title"===o.tag&&!1!==o.processTemplateParams&&(n=o)}(null==n?void 0:n.textContent)&&(n.textContent=re(n.textContent,e._templateParams,e._separator))}}}),Oe={hooks:{"tags:resolve":e=>{const{tags:t}=e;let n,o;for(let l=0;l<t.length;l+=1){const e=t[l];"title"===e.tag?n=e:"titleTemplate"===e.tag&&(o=e)}if(o&&n){const t=ae(o.textContent,n.textContent);null!==t?n.textContent=t||n.textContent:e.tags.splice(e.tags.indexOf(n),1)}else if(o){const e=ae(o.textContent);null!==e&&(o.textContent=e,o.tag="title",o=void 0)}o&&e.tags.splice(e.tags.indexOf(o),1)}}},ke={hooks:{"tags:afterResolve":e=>{for(const t of e.tags)"string"==typeof t.innerHTML&&(!t.innerHTML||"application/ld+json"!==t.props.type&&"application/json"!==t.props.type?t.innerHTML=t.innerHTML.replace(new RegExp(`</${t.tag}`,"g"),`<\\/${t.tag}`):t.innerHTML=t.innerHTML.replace(/</g,"\\u003C"))}}};let Re;function Ie(e={}){const t=function(e={}){const t=new fe;t.addHooks(e.hooks||{}),e.document=e.document||(z?document:void 0);const n=!e.document,o=()=>{i.dirty=!0,t.callHook("entries:updated",i)};let l=0,r=[];const a=[],i={plugins:a,dirty:!1,resolvedOptions:e,hooks:t,headEntries:()=>r,use(e){const o="function"==typeof e?e(i):e;o.key&&a.some((e=>e.key===o.key))||(a.push(o),Me(o.mode,n)&&t.addHooks(o.hooks||{}))},push(e,t){null==t||delete t.head;const a={_i:l++,input:e,...t};return Me(a.mode,n)&&(r.push(a),o()),{dispose(){r=r.filter((e=>e._i!==a._i)),o()},patch(e){for(const t of r)t._i===a._i&&(t.input=a.input=e);o()}}},async resolveTags(){const e={tags:[],entries:[...r]};await t.callHook("entries:resolve",e);for(const n of e.entries){const o=n.resolvedInput||n.input;if(n.resolvedInput=await(n.transform?n.transform(o):o),n.resolvedInput)for(const l of await Y(n)){const o={tag:l,entry:n,resolvedOptions:i.resolvedOptions};await t.callHook("tag:normalise",o),e.tags.push(o.tag)}}return await t.callHook("tags:beforeResolve",e),await t.callHook("tags:resolve",e),await t.callHook("tags:afterResolve",e),e.tags},ssr:n};return[ve,Ce,xe,ye,Se,Te,Oe,ke,...(null==e?void 0:e.plugins)||[]].forEach((e=>i.use(e))),i.hooks.callHook("init",i),i}(e);return t.use(se()),Re=t}function Me(e,t){return!e||"server"===e&&t||"client"===e&&!t}const Pe="3"===o[0];function Fe(e){if(e instanceof Promise||e instanceof Date||e instanceof RegExp)return e;const t="function"==typeof(n=e)?n():l(n);var n;if(!e||!t)return t;if(Array.isArray(t))return t.map((e=>Fe(e)));if("object"==typeof t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&("titleTemplate"===n||"o"===n[0]&&"n"===n[1]?e[n]=l(t[n]):e[n]=Fe(t[n]));return e}return t}const Ve={hooks:{"entries:resolve":e=>{for(const t of e.entries)t.resolvedInput=Fe(t.input)}}},Ae="usehead";function $e(e={}){e.domDelayFn=e.domDelayFn||(e=>t((()=>setTimeout((()=>e()),0))));const n=Ie(e);return n.use(Ve),n.install=function(e){return{install(t){Pe&&(t.config.globalProperties.$unhead=e,t.config.globalProperties.$head=e,t.provide(Ae,e))}}.install}(n),n}const Ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Le="__unhead_injection_handler__";function _e(){if(Le in Ne)return Ne[Le]();return n(Ae)||Re}function Be(e,t={}){const n=t.head||_e();if(n)return n.ssr?n.push(e,t):function(e,t,n={}){const o=r(!1),l=r({});a((()=>{l.value=o.value?{}:Fe(t)}));const p=e.push(l.value,n);i(l,(e=>{p.patch(e)}));d()&&(s((()=>{p.dispose()})),c((()=>{o.value=!0})),u((()=>{o.value=!1})));return p}(n,e,t)}
/*!
 * Vue-Lazyload.js v3.0.0
 * (c) 2023 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */
function ze(e,t){return e(t={exports:{}},t.exports),t.exports}var je=ze((function(e){const t=Object.prototype.toString,n=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;e.exports=(e,...l)=>{if("function"!=typeof(r=e)&&"[object Object]"!==t.call(r)&&!Array.isArray(r))throw new TypeError("expected the first argument to be an object");var r;if(0===l.length||"function"!=typeof Symbol||"function"!=typeof o)return e;for(let t of l){let l=o(t);for(let o of l)n.call(t,o)&&(e[o]=t[o])}return e}})),He=Object.freeze({__proto__:null,default:je,__moduleExports:je}),We=He&&je||He,qe=ze((function(e){const t=Object.prototype.toString,n=e=>"__proto__"!==e&&"constructor"!==e&&"prototype"!==e,o=e.exports=(e,...t)=>{let r=0;var a;for(("object"==typeof(a=e)?null===a:"function"!=typeof a)&&(e=t[r++]),e||(e={});r<t.length;r++)if(l(t[r])){for(const a of Object.keys(t[r]))n(a)&&(l(e[a])&&l(t[r][a])?o(e[a],t[r][a]):e[a]=t[r][a]);We(e,t[r])}return e};function l(e){return"function"==typeof e||"[object Object]"===t.call(e)}}));const Ue="undefined"!=typeof window&&null!==window,Ge=function(){if(Ue&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0;return!1}();const Ke="event",Ye="observer";function Xe(e,t){if(!e.length)return;const n=e.indexOf(t);return n>-1?e.splice(n,1):void 0}function Ze(e,t){if("IMG"!==e.tagName||!e.getAttribute("data-srcset"))return"";let n=e.getAttribute("data-srcset").trim().split(",");const o=[],l=e.parentNode.offsetWidth*t;let r,a,i;n.forEach((e=>{e=e.trim(),r=e.lastIndexOf(" "),-1===r?(a=e,i=99999):(a=e.substr(0,r),i=parseInt(e.substr(r+1,e.length-r-2),10)),o.push([i,a])})),o.sort(((e,t)=>{if(e[0]<t[0])return 1;if(e[0]>t[0])return-1;if(e[0]===t[0]){if(-1!==t[1].indexOf(".webp",t[1].length-5))return 1;if(-1!==e[1].indexOf(".webp",e[1].length-5))return-1}return 0}));let s,c="";for(let u=0;u<o.length;u++){s=o[u],c=s[1];const e=o[u+1];if(e&&e[0]<l){c=s[1];break}if(!e){c=s[1];break}}return c}const Qe=(e=1)=>Ue&&window.devicePixelRatio||e;function Je(){if(!Ue)return!1;let e=!0;function t(e,t){const n=new Image;n.onload=function(){const e=n.width>0&&n.height>0;t(e)},n.onerror=function(){t(!1)},n.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[e]}return t("lossy",(t=>{e=t})),t("lossless",(t=>{e=t})),t("alpha",(t=>{e=t})),t("animation",(t=>{e=t})),e}const et=function(){if(!Ue)return!1;let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",rt,t)}catch(t){}return e}(),tt={on(e,t,n,o=!1){et?e.addEventListener(t,n,{capture:o,passive:!0}):e.addEventListener(t,n,o)},off(e,t,n,o=!1){e.removeEventListener(t,n,o)}},nt=(e,t,n)=>{let o=new Image;if(!e||!e.src){const e=new Error("image src is required");return n(e)}e.cors&&(o.crossOrigin=e.cors),o.src=e.src,o.onload=function(){t({naturalHeight:o.naturalHeight,naturalWidth:o.naturalWidth,src:o.src}),o=null},o.onerror=function(e){n(e)}},ot=(e,t)=>"undefined"!=typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.style[t],lt=e=>ot(e,"overflow")+ot(e,"overflowY")+ot(e,"overflowX");function rt(){}class at{constructor(e){this.max=e||100,this._caches=[]}has(e){return this._caches.indexOf(e)>-1}add(e){this.has(e)||(this._caches.push(e),this._caches.length>this.max&&this.free())}free(){this._caches.shift()}}class it{constructor(e,t,n,o,l,r,a,i,s,c){this.el=e,this.src=t,this.error=n,this.loading=o,this.bindType=l,this.attempt=0,this.cors=i,this.naturalHeight=0,this.naturalWidth=0,this.options=a,this.rect={},this.$parent=r,this.elRenderer=s,this._imageCache=c,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(e){this.performanceData[e]=Date.now()}update(e){const t=this.src;this.src=e.src,this.loading=e.loading,this.error=e.error,this.filter(),t!==this.src&&(this.attempt=0,this.initState())}getRect(){this.rect=this.el.getBoundingClientRect()}checkInView(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}filter(){for(const e in this.options.filter)this.options.filter[e](this,this.options)}renderLoading(e){this.state.loading=!0,nt({src:this.loading,cors:this.cors},(()=>{this.render("loading",!1),this.state.loading=!1,e()}),(()=>{e(),this.state.loading=!1,this.options.silent}))}load(e=rt){return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent,void e()):this.state.rendered&&this.state.loaded?void 0:this._imageCache.has(this.src)?(this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,e()):void this.renderLoading((()=>{this.attempt++,this.options.adapter.beforeLoad&&this.options.adapter.beforeLoad(this,this.options),this.record("loadStart"),nt({src:this.src,cors:this.cors},(t=>{this.naturalHeight=t.naturalHeight,this.naturalWidth=t.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this._imageCache.add(this.src),e()}),(e=>{this.options.silent,this.state.error=!0,this.state.loaded=!1,this.render("error",!1)}))}))}render(e,t){this.elRenderer(this,e,t)}performance(){let e="loading",t=0;return this.state.loaded&&(e="loaded",t=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e="error"),{src:this.src,state:e,time:t}}$destroy(){this.el=null,this.src="",this.error=null,this.loading="",this.bindType=null,this.attempt=0}}const st="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ct=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],ut={rootMargin:"0px",threshold:0};class dt{constructor({preLoad:e,error:t,throttleWait:n,preLoadTop:o,dispatchEvent:l,loading:r,attempt:a,silent:i=!0,scale:s,listenEvents:c,filter:u,adapter:d,observer:p,observerOptions:m}){this.version='"3.0.0"',this.lazyContainerMananger=null,this.mode=Ke,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:i,dispatchEvent:!!l,throttleWait:n||200,preLoad:e||1.3,preLoadTop:o||0,error:t||st,loading:r||st,attempt:a||3,scale:s||Qe(s),listenEvents:c||ct,supportWebp:Je(),filter:u||{},adapter:d||{},observer:!!p,observerOptions:m||ut},this._initEvent(),this._imageCache=new at(200),this.lazyLoadHandler=function(e,t){let n=null,o=0;return function(){if(n)return;const l=Date.now()-o,r=this,a=arguments,i=function(){o=Date.now(),n=!1,e.apply(r,a)};l>=t?i():n=setTimeout(i,t)}}(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?Ye:Ke)}performance(){const e=[];return this.ListenerQueue.map((t=>e.push(t.performance()))),e}addLazyBox(e){this.ListenerQueue.push(e),Ue&&(this._addListenerTarget(window),this._observer&&this._observer.observe(e.el),e.$el&&e.$el.parentNode&&this._addListenerTarget(e.$el.parentNode))}add(e,n,o){if(this.ListenerQueue.some((t=>t.el===e)))return this.update(e,n),t(this.lazyLoadHandler);let{src:l,loading:r,error:a,cors:i}=this._valueFormatter(n.value);t((()=>{l=Ze(e,this.options.scale)||l,this._observer&&this._observer.observe(e);const o=Object.keys(n.modifiers)[0];let s;o&&(s=n.instance.$refs[o],s=s?s.el||s:document.getElementById(o)),s||(s=(e=>{if(!Ue)return;if(!(e instanceof Element))return window;let t=e;for(;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(lt(t)))return t;t=t.parentNode}return window})(e));const c=new it(e,l,a,r,n.arg,s,this.options,i,this._elRenderer.bind(this),this._imageCache);this.ListenerQueue.push(c),Ue&&(this._addListenerTarget(window),this._addListenerTarget(s)),t(this.lazyLoadHandler)}))}update(e,n,o){let{src:l,loading:r,error:a}=this._valueFormatter(n.value);l=Ze(e,this.options.scale)||l;const i=this.ListenerQueue.find((t=>t.el===e));i?i.update({src:l,loading:r,error:a}):"loaded"===e.getAttribute("lazy")&&e.dataset.src===l||this.add(e,n,o),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),t(this.lazyLoadHandler)}remove(e){if(!e)return;this._observer&&this._observer.unobserve(e);const t=this.ListenerQueue.find((t=>t.el===e));t&&(this._removeListenerTarget(t.$parent),this._removeListenerTarget(window),Xe(this.ListenerQueue,t),t.$destroy&&t.$destroy())}removeComponent(e){e&&(Xe(this.ListenerQueue,e),this._observer&&this._observer.unobserve(e.el),e.$parent&&e.$el.parentNode&&this._removeListenerTarget(e.$el.parentNode),this._removeListenerTarget(window))}setMode(e){Ge||e!==Ye||(e=Ke),this.mode=e,e===Ke?(this._observer&&(this.ListenerQueue.forEach((e=>{this._observer.unobserve(e.el)})),this._observer=null),this.TargetQueue.forEach((e=>{this._initListen(e.el,!0)}))):(this.TargetQueue.forEach((e=>{this._initListen(e.el,!1)})),this._initIntersectionObserver())}_addListenerTarget(e){if(!e)return;let t=this.TargetQueue.find((t=>t.el===e));return t?t.childrenCount++:(t={el:e,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===Ke&&this._initListen(t.el,!0),this.TargetQueue.push(t)),this.TargetIndex}_removeListenerTarget(e){this.TargetQueue.forEach(((t,n)=>{t.el===e&&(t.childrenCount--,t.childrenCount||(this._initListen(t.el,!1),this.TargetQueue.splice(n,1),t=null))}))}_initListen(e,t){this.options.listenEvents.forEach((n=>tt[t?"on":"off"](e,n,this.lazyLoadHandler)))}_initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(e,t)=>{this.Event.listeners[e]||(this.Event.listeners[e]=[]),this.Event.listeners[e].push(t)},this.$once=(e,t)=>{const n=this;this.$on(e,(function o(){n.$off(e,o),t.apply(n,arguments)}))},this.$off=(e,t)=>{if(t)Xe(this.Event.listeners[e],t);else{if(!this.Event.listeners[e])return;this.Event.listeners[e].length=0}},this.$emit=(e,t,n)=>{this.Event.listeners[e]&&this.Event.listeners[e].forEach((e=>e(t,n)))}}_lazyLoadHandler(){const e=[];this.ListenerQueue.forEach(((t,n)=>{t.el&&t.el.parentNode&&!t.state.loaded||e.push(t);t.checkInView()&&(t.state.loaded||t.load())})),e.forEach((e=>{Xe(this.ListenerQueue,e),e.$destroy&&e.$destroy()}))}_initIntersectionObserver(){Ge&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach((e=>{this._observer.observe(e.el)})))}_observerHandler(e){e.forEach((e=>{e.isIntersecting&&this.ListenerQueue.forEach((t=>{if(t.el===e.target){if(t.state.loaded)return this._observer.unobserve(t.el);t.load()}}))}))}_elRenderer(e,t,n){if(!e.el)return;const{el:o,bindType:l}=e;let r;switch(t){case"loading":r=e.loading;break;case"error":r=e.error;break;default:r=e.src}if(l?o.style[l]='url("'+r+'")':o.getAttribute("src")!==r&&o.setAttribute("src",r),o.setAttribute("lazy",t),this.$emit(t,e,n),this.options.adapter[t]&&this.options.adapter[t](e,this.options),this.options.dispatchEvent){const n=new CustomEvent(t,{detail:e});o.dispatchEvent(n)}}_valueFormatter(e){return null!==(t=e)&&"object"==typeof t?(!e.src&&this.options.silent,{src:e.src,loading:e.loading||this.options.loading,error:e.error||this.options.error,cors:this.options.cors}):{src:e,loading:this.options.loading,error:this.options.error,cors:this.options.cors};var t}}const pt=(e,t)=>{let n=m({});return{rect:n,checkInView:()=>(n=e.value.getBoundingClientRect(),Ue&&n.top<window.innerHeight*t&&n.bottom>0&&n.left<window.innerWidth*t&&n.right>0)}};class mt{constructor(e){this.lazy=e,e.lazyContainerMananger=this,this._queue=[]}bind(e,t,n){const o=new ft(e,t,n,this.lazy);this._queue.push(o)}update(e,t,n){const o=this._queue.find((t=>t.el===e));o&&o.update(e,t)}unbind(e,t,n){const o=this._queue.find((t=>t.el===e));o&&(o.clear(),Xe(this._queue,o))}}const gt={selector:"img",error:"",loading:""};class ft{constructor(e,t,n,o){this.el=e,this.vnode=n,this.binding=t,this.options={},this.lazy=o,this._queue=[],this.update(e,t)}update(e,t){this.el=e,this.options=qe({},gt,t.value);this.getImgs().forEach((e=>{this.lazy.add(e,qe({},this.binding,{value:{src:e.getAttribute("data-src")||e.dataset.src,error:e.getAttribute("data-error")||e.dataset.error||this.options.error,loading:e.getAttribute("data-loading")||e.dataset.loading||this.options.loading}}),this.vnode)}))}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach((e=>this.lazy.remove(e))),this.vnode=null,this.binding=null,this.lazy=null}}var ht=e=>p({setup(t,{slots:n}){const o=r(),l=m({src:"",error:"",loading:"",attempt:e.options.attempt}),a=m({loaded:!1,error:!1,attempt:0}),{rect:s,checkInView:c}=pt(o,e.options.preLoad),u=r(""),d=(t=rt)=>{if(a.attempt>l.attempt-1&&a.error)return e.options.silent,t();const n=l.src;nt({src:n},(({src:e})=>{u.value=e,a.loaded=!0}),(()=>{a.attempt++,u.value=l.error,a.error=!0}))},p=g((()=>({el:o.value,rect:s,checkInView:c,load:d,state:a})));f((()=>{e.addLazyBox(p.value),e.lazyLoadHandler()})),h((()=>{e.removeComponent(p.value)}));return i((()=>t.src),(()=>{(()=>{const{src:n,loading:o,error:r}=e._valueFormatter(t.src);a.loaded=!1,l.src=n,l.error=r,l.loading=o,u.value=l.loading})(),e.addLazyBox(p.value),e.lazyLoadHandler()}),{immediate:!0}),()=>{var e;return v(t.tag||"img",{src:u.value,ref:o},[null===(e=n.default)||void 0===e?void 0:e.call(n)])}}}),vt={install(e,t={}){const n=new dt(t),o=new mt(n);if(Number(e.version.split(".")[0])<3)return new Error("Vue version at least 3.0");e.config.globalProperties.$Lazyload=n,e.provide("Lazyload",n),t.lazyComponent&&e.component("lazy-component",(e=>p({props:{tag:{type:String,default:"div"}},emits:["show"],setup(t,{emit:n,slots:o}){const l=r(),a=m({loaded:!1,error:!1,attempt:0}),i=r(!1),{rect:s,checkInView:c}=pt(l,e.options.preLoad),u=()=>{i.value=!0,a.loaded=!0,n("show",i.value)},d=g((()=>({el:l.value,rect:s,checkInView:c,load:u,state:a})));return f((()=>{e.addLazyBox(d.value),e.lazyLoadHandler()})),h((()=>{e.removeComponent(d.value)})),()=>{var e;return v(t.tag,{ref:l},[i.value&&(null===(e=o.default)||void 0===e?void 0:e.call(o))])}}}))(n)),t.lazyImage&&e.component("lazy-image",ht(n)),e.directive("lazy",{beforeMount:n.add.bind(n),beforeUpdate:n.update.bind(n),updated:n.lazyLoadHandler.bind(n),unmounted:n.remove.bind(n)}),e.directive("lazy-container",{beforeMount:o.bind.bind(o),updated:o.update.bind(o),unmounted:o.unbind.bind(o)})}};const bt="4.1.5",xt={coreVersion:bt,uiVersion:"",tableVersion:""};var wt,yt,Ct,St,Et,Dt,Tt,Ot,kt,Rt,It,Mt,Pt,Ft,Vt,At,$t,Nt,Lt,_t,Bt,zt,jt,Ht,Wt,qt,Ut,Gt,Kt,Yt,Xt,Zt,Qt,Jt,en,tn,nn,on,ln,rn,an,sn,cn,un,dn,pn,mn,gn,fn,hn,vn,bn,xn,wn,yn,Cn,Sn,En,Dn,Tn,On,kn,Rn,In,Mn,Pn,Fn,Vn,An,$n,Nn,Ln,_n,Bn,zn,jn,Hn,Wn,qn,Un,Gn,Kn,Yn,Xn,Zn,Qn,Jn,eo,to,no,oo,lo,ro,ao,io,so,co,uo,po,mo,go,fo,ho,vo,bo,xo,wo,yo,Co,So,Eo,Do,To,Oo,ko,Ro,Io,Mo,Po,Fo,Vo,Ao,$o,No,Lo,_o,Bo,zo,jo,Ho,Wo,qo,Uo,Go,Ko,Yo,Xo,Zo,Qo,Jo,el,tl,nl,ol,ll,rl,al,il,sl,cl,ul,dl,pl,ml,gl,fl,hl,vl,bl,xl,wl,yl,Cl,Sl,El,Dl,Tl,Ol,kl,Rl,Il,Ml,Pl,Fl,Vl,Al,$l,Nl,Ll,_l,Bl,zl,jl,Hl,Wl,ql,Ul,Gl,Kl,Yl,Xl,Zl,Ql,Jl,er,tr,nr,or,lr,rr,ar,ir,sr,cr,ur,dr,pr,mr,gr,fr,hr,vr,br,xr,wr,yr,Cr,Sr,Er,Dr,Tr,Or,kr,Rr,Ir,Mr,Pr,Fr,Vr,Ar,$r,Nr,Lr,_r,Br,zr,jr,Hr,Wr,qr,Ur,Gr,Kr,Yr,Xr,Zr,Qr,Jr,ea,ta,na,oa,la,ra,aa,ia,sa,ca,ua,da,pa,ma,ga,fa,ha,va,ba,xa,wa,ya,Ca,Sa,Ea,Da,Ta,Oa,ka,Ra,Ia,Ma,Pa,Fa,Va,Aa,$a,Na,La,_a,Ba,za,ja,Ha,Wa,qa,Ua,Ga,Ka,Ya,Xa,Za,Qa,Ja,ei,ti,ni,oi,li,ri,ai,ii,si,ci,ui,di,pi,mi,gi,fi,hi,vi,bi,xi,wi,yi,Ci,Si,Ei,Di,Ti,Oi,ki,Ri,Ii,Mi,Pi,Fi,Vi,Ai,$i,Ni,Li,_i,Bi,zi,ji,Hi,Wi,qi,Ui,Gi,Ki,Yi,Xi,Zi,Qi,Ji,es,ts,ns,os,ls,rs,as,is,ss,cs,us,ds,ps,ms,gs,fs,hs,vs,bs,xs,ws,ys,Cs,Ss,Es,Ds,Ts,Os,ks,Rs,Is,Ms,Ps,Fs,Vs,As,$s,Ns,Ls,_s,Bs,zs,js,Hs,Ws,qs,Us,Gs,Ks,Ys,Xs,Zs,Qs,Js,ec,tc,nc,oc,lc,rc,ac,ic,sc,cc,uc,dc,pc,mc,gc,fc,hc,vc,bc,xc,wc,yc,Cc,Sc,Ec,Dc,Tc,Oc,kc,Rc,Ic,Mc,Pc,Fc,Vc,Ac;function $c(){if(yt)return wt;yt=1;return wt={keyId:1,cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1}}function Nc(){if(St)return Ct;return St=1,Ct=function(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else for(var o=0,l=e.length;o<l;o++)t.call(n,e[o],o,e)}}function Lc(){if(Dt)return Et;Dt=1;var e=Object.prototype.toString;return Et=e}function _c(){if(Ot)return Tt;Ot=1;var e=Lc();return Tt=function(t){return function(n){return"[object "+t+"]"===e.call(n)}}}function Bc(){if(Rt)return kt;Rt=1;var e=_c(),t=Array.isArray||e("Array");return kt=t}function zc(){if(Mt)return It;return Mt=1,It=function(e,t){return!(!e||!e.hasOwnProperty)&&e.hasOwnProperty(t)}}function jc(){if(Ft)return Pt;Ft=1;var e=zc();return Pt=function(t,n,o){if(t)for(var l in t)e(t,l)&&n.call(o,t[l],l,t)}}function Hc(){if(At)return Vt;At=1;var e=Bc(),t=Nc(),n=jc();return Vt=function(o,l,r){return o?(e(o)?t:n)(o,l,r):o}}function Wc(){if(Nt)return $t;return Nt=1,$t=function(e){return function(t){return typeof t===e}}}function qc(){if(_t)return Lt;_t=1;var e=Wc()("function");return Lt=e}function Uc(){if(zt)return Bt;zt=1;var e=Hc();return Bt=function(t,n){var o=Object[t];return function(t){var l=[];if(t){if(o)return o(t);e(t,n>1?function(e){l.push([""+e,t[e]])}:function(){l.push(arguments[n])})}return l}},Bt}function Gc(){if(Ht)return jt;Ht=1;var e=Uc()("keys",1);return jt=e}function Kc(){if(qt)return Wt;qt=1;var e=Lc(),t=jc(),n=Nc();function o(e,t){var n=e.__proto__.constructor;return t?new n(t):new n}function l(e,t){return t?r(e,t):e}function r(r,a){if(r)switch(e.call(r)){case"[object Object]":var i=Object.create(Object.getPrototypeOf(r));return t(r,(function(e,t){i[t]=l(e,a)})),i;case"[object Date]":case"[object RegExp]":return o(r,r.valueOf());case"[object Array]":case"[object Arguments]":var s=[];return n(r,(function(e){s.push(l(e,a))})),s;case"[object Set]":var c=o(r);return c.forEach((function(e){c.add(l(e,a))})),c;case"[object Map]":var u=o(r);return u.forEach((function(e,t){u.set(t,l(e,a))})),u}return r}return Wt=function(e,t){return e?r(e,t):e}}function Yc(){if(Gt)return Ut;Gt=1;var e=Nc(),t=Gc(),n=Bc(),o=Kc(),l=Object.assign;function r(n,l,r){for(var a,i=l.length,s=1;s<i;s++)a=l[s],e(t(l[s]),r?function(e){n[e]=o(a[e],r)}:function(e){n[e]=a[e]});return n}return Ut=function(e){if(e){var t=arguments;if(!0!==e)return l?l.apply(Object,t):r(e,t);if(t.length>1)return r(e=n(e[1])?[]:{},t,!0)}return e},Ut}function Xc(){if(Zt)return Xt;return Zt=1,Xt=function(e,t,n){for(var o=e.length-1;o>=0;o--)t.call(n,e[o],o,e)}}function Zc(){if(Jt)return Qt;Jt=1;var e=Xc(),t=Gc();return Qt=function(n,o,l){e(t(n),(function(e){o.call(l,n[e],e,n)}))}}function Qc(){if(tn)return en;return tn=1,en=function(e){return null===e}}function Jc(){if(on)return nn;on=1;var e=Qc();return nn=function(t,n){return function(o){return e(o)?n:o[t]}}}function eu(){if(sn)return an;return sn=1,an=function(e){return!!e&&e.constructor===Object}}function tu(){if(un)return cn;return un=1,cn=function(e){return"__proto__"!==e&&"constructor"!==e}}function nu(){if(gn)return mn;gn=1;var e=Hc();return mn=function(t,n,o){var l=[];if(t&&arguments.length>1){if(t.map)return t.map(n,o);e(t,(function(){l.push(n.apply(o,arguments))}))}return l},mn}function ou(){if(hn)return fn;hn=1;var e=zc(),t=Bc();return fn=function(n,o,l,r,a){return function(i,s,c){if(i&&s){if(n&&i[n])return i[n](s,c);if(o&&t(i)){for(var u=0,d=i.length;u<d;u++)if(!!s.call(c,i[u],u,i)===r)return[!0,!1,u,i[u]][l]}else for(var p in i)if(e(i,p)&&!!s.call(c,i[p],p,i)===r)return[!0,!1,p,i[p]][l]}return a}}}function lu(){if(bn)return vn;bn=1;var e=ou()("some",1,0,!0,!1);return vn=e}function ru(){if(wn)return xn;wn=1;var e=ou()("every",1,1,!1,!0);return xn=e}function au(){if(Cn)return yn;Cn=1;var e=zc();return yn=function(t,n){if(t){if(t.includes)return t.includes(n);for(var o in t)if(e(t,o)&&n===t[o])return!0}return!1}}function iu(){if(En)return Sn;En=1;var e=Bc(),t=au();return Sn=function(n,o){var l,r=0;if(e(n)&&e(o)){for(l=o.length;r<l;r++)if(!t(n,o[r]))return!1;return!0}return t(n,o)}}function su(){if(Tn)return Dn;Tn=1;var e=Hc(),t=au(),n=qc(),o=Jc();return Dn=function(l,r,a){var i=[];if(r){n(r)||(r=o(r));var s,c={};e(l,(function(e,t){s=r.call(a,e,t,l),c[s]||(c[s]=1,i.push(e))}))}else e(l,(function(e){t(i,e)||i.push(e)}));return i}}function cu(){if(kn)return On;kn=1;var e=nu();return On=function(t){return e(t,(function(e){return e}))}}function uu(){if(Pn)return Mn;Pn=1;return Mn="undefined"}function du(){if(Vn)return Fn;Vn=1;var e=uu(),t=Wc()(e);return Fn=t}function pu(){if($n)return An;$n=1;var e=Qc(),t=du();return An=function(n){return e(n)||t(n)}}function mu(){if(Ln)return Nn;Ln=1;return Nn=/(.+)?\[(\d+)\]$/}function gu(){if(Bn)return _n;return Bn=1,_n=function(e){return e?e.splice&&e.join?e:(""+e).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}}function fu(){if(jn)return zn;jn=1;var e=mu(),t=gu(),n=zc(),o=du(),l=pu();function r(t,n){var o=n?n.match(e):"";return o?o[1]?t[o[1]]?t[o[1]][o[2]]:void 0:t[o[2]]:t[n]}return zn=function(e,a,i){if(l(e))return i;var s=function(e,o){if(e){var a,i,s,c=0;if(e[o]||n(e,o))return e[o];if(s=(i=t(o)).length)for(a=e;c<s;c++)if(a=r(a,i[c]),l(a))return c===s-1?a:void 0;return a}}(e,a);return o(s)?i:s}}function hu(){if(Wn)return Hn;Wn=1;var e=Nc(),t=cu(),n=nu(),o=Bc(),l=qc(),r=eu(),a=du(),i=Qc(),s=pu(),c=fu(),u=Jc();function d(e,t){return a(e)?1:i(e)?a(t)?-1:1:e&&e.localeCompare?e.localeCompare(t):e>t?1:-1}function p(e,t,n){return function(o,l){var r=o[e],a=l[e];return r===a?n?n(o,l):0:"desc"===t.order?d(a,r):d(r,a)}}return Hn=function(a,i,m){if(a){if(s(i))return t(a).sort(d);for(var g,f=n(a,(function(e){return{data:e}})),h=function(t,n,a,i){var s=[];return a=o(a)?a:[a],e(a,(function(a,u){if(a){var d,p=a;o(a)?(p=a[0],d=a[1]):r(a)&&(p=a.field,d=a.order),s.push({field:p,order:d||"asc"}),e(n,l(p)?function(e,n){e[u]=p.call(i,e.data,n,t)}:function(e){e[u]=p?c(e.data,p):e.data})}})),s}(a,f,i,m),v=h.length-1;v>=0;)g=p(v,h[v],g),v--;return g&&(f=f.sort(g)),n(f,u("data"))}return[]}}function vu(){if(Kn)return Gn;return Kn=1,Gn=function(e,t){return e>=t?e:(e|=0)+Math.round(Math.random()*((t||9)-e))}}function bu(){if(Xn)return Yn;Xn=1;var e=Uc()("values",0);return Yn=e}function xu(){if(Qn)return Zn;Qn=1;var e=vu(),t=bu();return Zn=function(n){for(var o,l=[],r=t(n),a=r.length-1;a>=0;a--)o=a>0?e(0,a):0,l.push(r[o]),r.splice(o,1);return l}}function wu(){if(no)return to;return no=1,to=function(e){return function(t){if(t){var n=e(t&&t.replace?t.replace(/,/g,""):t);if(!isNaN(n))return n}return 0}}}function yu(){if(lo)return oo;lo=1;var e=wu()(parseFloat);return oo=e}function Cu(){if(ao)return ro;ao=1;var e=yu();return ro=function(t,n,o){var l=[],r=arguments.length;if(t){if(n=r>=2?e(n):0,o=r>=3?e(o):t.length,t.slice)return t.slice(n,o);for(;n<o;n++)l.push(t[n])}return l},ro}function Su(){if(So)return Co;So=1;var e=nu(),t=Jc();return Co=function(n,o){return e(n,t(o))}}function Eu(){if(Do)return Eo;Do=1;var e=qc(),t=pu(),n=fu(),o=Nc();return Eo=function(l){return function(r,a){var i,s;return r&&r.length?(o(r,(function(o,c){a&&(o=e(a)?a(o,c,r):n(o,a)),t(o)||!t(i)&&!l(i,o)||(s=c,i=o)})),r[s]):i}}}function Du(){if(Oo)return To;Oo=1;var e=Eu()((function(e,t){return e<t}));return To=e}function Tu(){if(Ro)return ko;Ro=1;var e=Su(),t=Du();return ko=function(n){var o,l,r,a=[];if(n&&n.length)for(o=0,r=(l=t(n,(function(e){return e?e.length:0})))?l.length:0;o<r;o++)a.push(e(n,o));return a}}function Ou(){if(Ao)return Vo;Ao=1;var e=Bc(),t=Nc();function n(o,l){var r=[];return t(o,(function(t){r=r.concat(e(t)?l?n(t,l):t:[t])})),r}return Vo=function(t,o){return e(t)?n(t,o):[]}}function ku(){if(_o)return Lo;return _o=1,Lo=function(e,t){try{delete e[t]}catch(n){e[t]=void 0}}}function Ru(){if(zo)return Bo;zo=1;var e=Bc(),t=Xc(),n=Zc();return Bo=function(o,l,r){return o?(e(o)?t:n)(o,l,r):o}}function Iu(){if(Ho)return jo;Ho=1;var e=Wc()("object");return jo=e}function Mu(){if(qo)return Wo;qo=1;var e=ku(),t=eu(),n=Iu(),o=Bc(),l=Qc(),r=Yc(),a=jc();return Wo=function(i,s,c){if(i){var u,d=arguments.length>1&&(l(s)||!n(s)),p=d?c:s;if(t(i))a(i,d?function(e,t){i[t]=s}:function(t,n){e(i,n)}),p&&r(i,p);else if(o(i)){if(d)for(u=i.length;u>0;)u--,i[u]=s;else i.length=0;p&&i.push.apply(i,p)}}return i},Wo}function Pu(){if(Go)return Uo;Go=1;var e=ku(),t=qc(),n=Bc(),o=Hc(),l=Nc(),r=Ru(),a=Mu(),i=pu();return Uo=function(s,c,u){if(s){if(!i(c)){var d=[],p=[];return t(c)||(m=c,c=function(e,t){return t===m}),o(s,(function(e,t,n){c.call(u,e,t,n)&&d.push(t)})),n(s)?r(d,(function(e,t){p.push(s[e]),s.splice(e,1)})):(p={},l(d,(function(t){p[t]=s[t],e(s,t)}))),p}return a(s)}var m;return s}}function Fu(){if(Yo)return Ko;Yo=1;var e=$c();nu();var t=hu(),n=Kc(),o=pu(),l=Hc(),r=Pu(),a=Yc();return Ko=function(i,s){var c,u,d,p=a({},e.treeOptions,s),m=p.strict,g=p.key,f=p.parentKey,h=p.children,v=p.mapChildren,b=p.sortKey,x=p.reverse,w=p.data,y=[],C={},S={};return b&&(i=t(n(i),b),x&&(i=i.reverse())),l(i,(function(e){c=e[g],S[c]=!0})),l(i,(function(e){c=e[g],w?(u={})[w]=e:u=e,d=e[f],C[c]=C[c]||[],u[g]=c,u[f]=d,c===d&&(d=null),C[d]=C[d]||[],C[d].push(u),u[h]=C[c],v&&(u[v]=C[c]),(!m||m&&o(d))&&(S[d]||y.push(u))})),m&&function(e,t){l(e,(function(e){e[t]&&!e[t].length&&r(e,t)}))}(i,h),y}}function Vu(){if(Zo)return Xo;Zo=1;var e=$c(),t=Nc(),n=Yc();function o(e,n,l,r){var a=r.key,i=r.parentKey,s=r.children,c=r.data,u=r.updated,d=r.clear;return t(l,(function(t){var l=t[s];c&&(t=t[c]),!1!==u&&(t[i]=n?n[a]:null),e.push(t),l&&l.length&&o(e,t,l,r),d&&delete t[s]})),e}return Xo=function(t,l){return o([],null,t,n({},e.treeOptions,l))}}function Au(){if(Jo)return Qo;return Jo=1,Qo=function(e){return function(t,n,o,l){var r=o||{},a=r.children||"children";return e(null,t,n,l,[],[],a,r)}}}function $u(){if(ol)return nl;ol=1;var e=Au(),t=Hc();var n=e((function e(n,o,l,r,a,i,s,c){var u,d;t(o,(function(t,c){u=a.concat([""+c]),d=i.concat([t]),l.call(r,t,c,o,u,n,d),t&&s&&(u.push(s),e(t,t[s],l,r,u,d,s))}))}));return nl=n}function Nu(){if(cl)return sl;cl=1;var e=Au(),t=Nc(),n=Yc();function o(e,l,r,a,i,s,c,u,d){var p,m,g,f,h,v=[],b=d.original,x=d.data,w=d.mapChildren||u,y=d.isEvery;return t(r,(function(t,C){p=s.concat([""+C]),m=c.concat([t]),f=e&&!y||a.call(i,t,C,r,p,l,m),h=u&&t[u],f||h?(b?g=t:(g=n({},t),x&&(g[x]=t)),g[w]=o(f,t,t[u],a,i,p,m,u,d),(f||g[w].length)&&v.push(g)):f&&v.push(g)})),v}var l=e((function(e,t,n,l,r,a,i,s){return o(0,e,t,n,l,r,a,i,s)}));return sl=l}function Lu(){if(dl)return ul;return dl=1,ul=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,o=e.length;n<o;n++)if(t===e[n])return n}}function _u(){if(ml)return pl;return ml=1,pl=function(e,t){if(e.lastIndexOf)return e.lastIndexOf(t);for(var n=e.length-1;n>=0;n--)if(t===e[n])return n;return-1}}function Bu(){if(fl)return gl;fl=1;var e=Wc()("number");return gl=e}function zu(){if(xl)return bl;xl=1;var e=Wc()("string");return bl=e}function ju(){if(yl)return wl;yl=1;var e=_c()("Date");return wl=e}function Hu(){if(Sl)return Cl;Sl=1;var e=parseInt;return Cl=e}function Wu(){if(Ol)return Tl;return Ol=1,Tl=function(e){return e.getTime()}}function qu(){if(Rl)return kl;Rl=1;var e=Hu(),t=Dl?El:(Dl=1,El=function(e){return Date.UTC(e.y,e.M||0,e.d||1,e.H||0,e.m||0,e.s||0,e.S||0)}),n=Wu(),o=zu(),l=ju();function r(e){return"(\\d{"+e+"})"}function a(t){return isNaN(t)?t:e(t)}for(var i=r(2),s=r("1,2"),c=r("1,7"),u=r("3,4"),d=".{1}",p=d+s,m="(([zZ])|([-+]\\d{2}:?\\d{2}))",g=[u,p,p,p,p,p,d+c,m],f=[],h=g.length-1;h>=0;h--){for(var v="",b=0;b<h+1;b++)v+=g[b];f.push(new RegExp("^"+v+"$"))}var x=[["yyyy",u],["yy",i],["MM",i],["M",s],["dd",i],["d",s],["HH",i],["H",s],["mm",i],["m",s],["ss",i],["s",s],["SSS",r(3)],["S",c],["Z",m]],w={},y=["\\[([^\\]]+)\\]"];for(b=0;b<x.length;b++){var C=x[b];w[C[0]]=C[1]+"?",y.push(C[0])}var S=new RegExp(y.join("|"),"g"),E={};return kl=function(r,i){if(r){var s=l(r);if(s||!i&&/^[0-9]{11,15}$/.test(r))return new Date(s?n(r):e(r));if(o(r)){var c=i?function(e,t){var n=E[t];if(!n){var o=[],l=t.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(S,(function(e,t){var n=e.charAt(0);return"["===n?t:(o.push(n),w[e])}));n=E[t]={_i:o,_r:new RegExp(l)}}var r={},a=e.match(n._r);if(a){for(var i=n._i,s=1,c=a.length;s<c;s++)r[i[s-1]]=a[s];return r}return r}(r,i):function(e){for(var t,n={},o=0,l=f.length;o<l;o++)if(t=e.match(f[o])){n.y=t[1],n.M=t[2],n.d=t[3],n.H=t[4],n.m=t[5],n.s=t[6],n.S=t[7],n.Z=t[8];break}return n}(r);if(c.y)return c.M&&(c.M=a(c.M)-1),c.S&&(c.S=(u=a(c.S.substring(0,3)))<10?100*u:u<100?10*u:u),c.Z?function(n){if(/^[zZ]/.test(n.Z))return new Date(t(n));var o=n.Z.match(/([-+])(\d{2}):?(\d{2})/);return o?new Date(t(n)-("-"===o[1]?-1:1)*e(o[2])*36e5+6e4*e(o[3])):new Date("")}(c):new Date(c.y,c.M||0,c.d||1,c.H||0,c.m||0,c.s||0,c.S||0)}}var u;return new Date("")}}function Uu(){if(Ml)return Il;return Ml=1,Il=function(){return new Date}}function Gu(){if(Fl)return Pl;Fl=1;var e=ju(),t=qu(),n=Uu();return Pl=function(o){var l,r=o?t(o):n();return!!e(r)&&((l=r.getFullYear())%4==0&&(l%100!=0||l%400==0))}}function Ku(){if(_l)return Ll;_l=1;var e=Bc(),t=zu(),n=zc();return Ll=function(o,l){return function(r,a){if(r){if(r[o])return r[o](a);if(t(r)||e(r))return l(r,a);for(var i in r)if(n(r,i)&&a===r[i])return i}return-1}}}function Yu(){if(Hl)return jl;Hl=1;var e=Ku()("lastIndexOf",_u());return jl=e}function Xu(){if(ql)return Wl;ql=1;var e=Bc(),t=zu(),n=Hc();return Wl=function(o){var l=0;return t(o)||e(o)?o.length:(n(o,(function(){l++})),l)}}function Zu(){if(Yl)return Kl;Yl=1;var e=Bc(),t=Qc();return Kl=function(n){return!t(n)&&!isNaN(n)&&!e(n)&&n%1==0}}function Qu(){if(Jl)return Ql;Jl=1;var e=Wc()("boolean");return Ql=e}function Ju(){if(tr)return er;tr=1;var e=_c()("RegExp");return er=e}function ed(){if(or)return nr;or=1;var e=_c()("Error");return nr=e}function td(){if(ir)return ar;return ir=1,ar=function(e){for(var t in e)return!1;return!0}}function nd(){if(cr)return sr;cr=1;var e=uu(),t=typeof Symbol!==e;return sr=function(e){return t&&Symbol.isSymbol?Symbol.isSymbol(e):"symbol"==typeof e}}function od(){if(fr)return gr;fr=1;var e=uu(),t=typeof document===e?0:document;return gr=t}function ld(){if(xr)return br;xr=1;var e=uu(),t=typeof window===e?0:window;return br=t}function rd(){if(Fr)return Pr;Fr=1;var e=qc(),t=zu(),n=Bc(),o=zc();return Pr=function(l){return function(r,a,i){if(r&&e(a)){if(n(r)||t(r))return l(r,a,i);for(var s in r)if(o(r,s)&&a.call(i,r[s],s,r))return s}return-1}}}function ad(){if(Ar)return Vr;Ar=1;var e=rd()((function(e,t,n){for(var o=0,l=e.length;o<l;o++)if(t.call(n,e[o],o,e))return o;return-1}));return Vr=e}function id(){if(Nr)return $r;Nr=1;var e=Bu(),t=Bc(),n=zu(),o=Ju(),l=ju(),r=Qu(),a=du(),i=Gc(),s=ru();return $r=function c(u,d,p,m,g,f,h){if(u===d)return!0;if(u&&d&&!e(u)&&!e(d)&&!n(u)&&!n(d)){if(o(u))return p(""+u,""+d,g,f,h);if(l(u)||r(u))return p(+u,+d,g,f,h);var v,b,x,w=t(u),y=t(d);if(w||y?w&&y:u.constructor===d.constructor)return b=i(u),x=i(d),m&&(v=m(u,d,g)),b.length===x.length&&(a(v)?s(b,(function(e,t){return e===x[t]&&c(u[e],d[x[t]],p,m,w||y?t:e,u,d)})):!!v)}return p(u,d,g,f,h)},$r}function sd(){if(_r)return Lr;return _r=1,Lr=function(e,t){return e===t}}function cd(){if(zr)return Br;zr=1;var e=id(),t=sd();return Br=function(n,o){return e(n,o,t)}}function ud(){if(ra)return la;ra=1;var e=qc(),t=Bc(),n=Hc(),o=ad();return la=function(l,r){return function(a,i){var s,c,u={},d=[],p=this,m=arguments,g=m.length;if(!e(i)){for(c=1;c<g;c++)s=m[c],d.push.apply(d,t(s)?s:[s]);i=0}return n(a,(function(e,t){((i?i.call(p,e,t,a):o(d,(function(e){return e===t}))>-1)?l:r)&&(u[t]=e)})),u}},la}function dd(){if(xa)return ba;xa=1;var e=td(),t=Iu(),n=qc(),o=Jc(),l=Hc();return ba=function(r,a,i){var s,c={};return r&&(a&&t(a)?a=function(t){return function(){return e(t)}}(a):n(a)||(a=o(a)),l(r,(function(e,t){s=a?a.call(i,e,t,r):e,c[s]?c[s].push(e):c[s]=[e]}))),c}}function pd(){if(Sa)return Ca;return Sa=1,Ca=function(e,t,n){var o,l,r=[],a=arguments;if(a.length<2&&(t=a[0],e=0),l=t|0,(o=e|0)<t)for(n=n|0||1;o<l;o+=n)r.push(o);return r},Ca}function md(){if(Ra)return ka;return Ra=1,ka=function(e){return(e.split(".")[1]||"").length}}function gd(){if(Ma)return Ia;Ma=1;var e=Hu();return Ia=function(t,n){if(t.repeat)return t.repeat(n);var o=isNaN(n)?[]:new Array(e(n));return o.join(t)+(o.length>0?t:"")}}function fd(){if(Fa)return Pa;return Fa=1,Pa=function(e,t){return e.substring(0,t)+"."+e.substring(t,e.length)}}function hd(){if(Aa)return Va;Aa=1;var e=gd(),t=fd();return Va=function(n){var o=""+n,l=o.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(l){var r=n<0?"-":"",a=l[3]||"",i=l[5]||"",s=l[6]||"",c=l[7],u=l[8],d=u-s.length,p=u-a.length,m=u-i.length;return"+"===c?a?r+a+e("0",u):d>0?r+i+s+e("0",d):r+i+t(s,u):a?p>0?r+"0."+e("0",Math.abs(p))+a:r+t(a,p):m>0?r+"0."+e("0",Math.abs(m))+i+s:r+t(i,m)+s}return o}}function vd(){if(Na)return $a;Na=1;var e=md(),t=hd();return $a=function(n,o){var l=t(n),r=t(o);return parseInt(l.replace(".",""))*parseInt(r.replace(".",""))/Math.pow(10,e(l)+e(r))}}function bd(){if(_a)return La;_a=1;var e=vd(),t=yu(),n=hd();return La=function(o){return function(l,r){var a=t(l),i=a;if(a){r|=0;var s=n(a).split("."),c=s[0],u=s[1]||"",d=u.substring(0,r+1),p=c+(d?"."+d:"");if(r>=u.length)return t(p);if(p=a,r>0){var m=Math.pow(10,r);i=Math[o](e(p,m))/m}else i=Math[o](p)}return i}}}function xd(){if(za)return Ba;za=1;var e=bd()("round");return Ba=e}function wd(){if(Ha)return ja;Ha=1;var e=bd()("ceil");return ja=e}function yd(){if(qa)return Wa;qa=1;var e=bd()("floor");return Wa=e}function Cd(){if(Ga)return Ua;Ga=1;var e=pu(),t=Bu(),n=hd();return Ua=function(o){return t(o)?n(o):""+(e(o)?"":o)}}function Sd(){if(Ya)return Ka;Ya=1;var e=xd(),t=Cd(),n=gd(),o=fd();return Ka=function(l,r){var a=t(e(l,r|=0)).split("."),i=a[0],s=a[1]||"",c=r-s.length;return r?c>0?i+"."+s+n("0",c):i+o(s,Math.abs(c)):i}}function Ed(){if(ti)return ei;ti=1;var e=vd(),t=yu();return ei=function(n,o){var l=t(n),r=t(o);return e(l,r)}}function Dd(){if(oi)return ni;oi=1;var e=md(),t=hd(),n=Ed();return ni=function(o,l){var r=t(o),a=t(l),i=Math.pow(10,Math.max(e(r),e(a)));return(n(o,i)+n(l,i))/i}}function Td(){if(ci)return si;ci=1;var e=md(),t=hd(),n=Ed();return si=function(o,l){var r=t(o),a=t(l),i=e(r),s=e(a)-i,c=s<0,u=Math.pow(10,c?Math.abs(s):s);return n(r.replace(".","")/a.replace(".",""),c?1/u:u)}}function Od(){if(mi)return pi;mi=1;var e=Dd(),t=qc(),n=Bc(),o=Hc(),l=fu();return pi=function(r,a,i){var s=0;return o(r&&r.length>2&&n(r)?r.sort():r,a?t(a)?function(){s=e(s,a.apply(i,arguments))}:function(t){s=e(s,l(t,a))}:function(t){s=e(s,t)}),s},pi}function kd(){if(vi)return hi;vi=1;return hi="first"}function Rd(){if(xi)return bi;xi=1;return bi="last"}function Id(){if(yi)return wi;return yi=1,wi=function(e){return e.getFullYear()}}function Md(){if(Si)return Ci;Si=1;return Ci=864e5}function Pd(){if(Di)return Ei;return Di=1,Ei=function(e){return e.getMonth()}}function Fd(){if(Oi)return Ti;Oi=1;var e=ju(),t=Wu();return Ti=function(n){return e(n)&&!isNaN(t(n))}}function Vd(){if(Ri)return ki;Ri=1;var e=kd(),t=Rd(),n=Md(),o=Id(),l=Wu(),r=Pd(),a=qu(),i=Fd(),s=Bu();return ki=function c(u,d,p){var m=d&&!isNaN(d)?d:0;if(u=a(u),i(u)){if(p===e)return new Date(o(u),r(u)+m,1);if(p===t)return new Date(l(c(u,m+1,e))-1);if(s(p)&&u.setDate(p),m){var g=u.getDate();if(u.setMonth(r(u)+m),g!==u.getDate())return u.setDate(1),new Date(l(u)-n)}}return u},ki}function Ad(){if(Mi)return Ii;Mi=1;var e=kd(),t=Rd(),n=Id(),o=Vd(),l=qu(),r=Fd();return Ii=function(a,i,s){var c;if(a=l(a),r(a)&&(i&&(c=i&&!isNaN(i)?i:0,a.setFullYear(n(a)+c)),s||!isNaN(s))){if(s===e)return new Date(n(a),0,1);if(s===t)return a.setMonth(11),o(a,0,t);a.setMonth(s)}return a}}function $d(){if(Ai)return Vi;Ai=1;var e=kd(),t=Rd(),n=Hu(),o=Id(),l=Pd(),r=Wu(),a=qu(),i=Fd();return Vi=function s(c,u,d){if(c=a(c),i(c)&&!isNaN(u)){if(c.setDate(c.getDate()+n(u)),d===e)return new Date(o(c),l(c),c.getDate());if(d===t)return new Date(r(s(c,1,e))-1)}return c},Vi}function Nd(){if(Ni)return $i;return Ni=1,$i=function(e){return e.toUpperCase()}}function Ld(){if(_i)return Li;_i=1;var e=Md();return Li=7*e}function _d(){if(zi)return Bi;zi=1;var e=$c(),t=Md(),n=Ld(),o=Wu(),l=qu(),r=Fd(),a=Bu();return Bi=function(i,s,c,u){if(i=l(i),r(i)){var d=a(c),p=a(u),m=o(i);if(d||p){var g=p?u:e.firstDayOfWeek,f=i.getDay(),h=d?c:f;if(f!==h){var v=0;g>f?v=-(7-g+f):g<f&&(v=g-f),m+=h>g?((0===h?7:h)-g+v)*t:h<g?(7-g+h+v)*t:v*t}}return s&&!isNaN(s)&&(m+=s*n),new Date(m)}return i}}function Bd(){if(Hi)return ji;Hi=1;var e=$c(),t=Md(),n=Ld(),o=Bu(),l=au(),r=qu(),a=Fd(),i=_d(),s=pd(),c=nu(),u=Wu(),d=c(s(0,7),(function(e){return[(e+1)%7,(e+2)%7,(e+3)%7]}));function p(e,t){var n=new Date(e).getDay();return l(d[t],n)}return ji=function(l,s){return function(c,d){var m=o(d)?d:e.firstDayOfWeek,g=r(c);if(a(g)){var f,h=i(g,0,m,m),v=l(h),b=u(v),x=u(h),w=x+6*t,y=new Date(w),C=i(v,0,m,m),S=u(C);if(x===S)return 1;if(s(h,y))for(f=u(l(y));f<w;f+=t)if(p(f,m))return 1;var E=S+6*t,D=new Date(w),T=1;if(s(C,D))for(T=0,f=b;f<E;f+=t)if(p(f,m)){T++;break}return Math.floor((x-S)/n)+T}return NaN}}}function zd(){if(qi)return Wi;qi=1;var e=Bd()((function(e){return new Date(e.getFullYear(),0,1)}),(function(e,t){return e.getFullYear()!==t.getFullYear()}));return Wi=e}function jd(){if(Yi)return Ki;Yi=1;var e=Wu(),t=function(){if(Gi)return Ui;Gi=1;var e=Id(),t=Pd();return Ui=function(n){return new Date(e(n),t(n),n.getDate())}}();return Ki=function(n){return e(t(n))}}function Hd(){if(Zi)return Xi;Zi=1;var e=Md(),t=kd(),n=jd(),o=Ad(),l=qu(),r=Fd();return Xi=function(a){return a=l(a),r(a)?Math.floor((n(a)-n(o(a,0,t)))/e)+1:NaN}}function Wd(){if(Ji)return Qi;Ji=1;var e=Cd(),t=du(),n=gd();return Qi=function(o,l,r){var a=e(o);return l|=0,r=t(r)?" ":""+r,a.padStart?a.padStart(l,r):l>a.length?((l-=a.length)>r.length&&(r+=n(r,l/r.length)),r.slice(0,l)+a):a}}function qd(){if(ts)return es;ts=1;var e=$c(),t=Nd(),n=Id(),o=Pd(),l=qu(),r=zd(),a=Hd(),i=Yc(),s=Fd(),c=qc(),u=Wd();function d(e,t,n,o){var l=t[n];return l?c(l)?l(o,n,e):l[o]:o}var p=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;return es=function(c,m,g){if(c){if(c=l(c),s(c)){var f=m||e.parseDateFormat||e.formatString,h=c.getHours(),v=h<12?"am":"pm",b=i({},e.parseDateRules||e.formatStringMatchs,g?g.formats:null),x=function(e,t){return(""+n(c)).substr(4-t)},w=function(e,t){return u(o(c)+1,t,"0")},y=function(e,t){return u(c.getDate(),t,"0")},C=function(e,t){return u(h,t,"0")},S=function(e,t){return u(h<=12?h:h-12,t,"0")},E=function(e,t){return u(c.getMinutes(),t,"0")},D=function(e,t){return u(c.getSeconds(),t,"0")},T=function(e,t){return u(c.getMilliseconds(),t,"0")},O=function(e,t){var n=c.getTimezoneOffset()/60*-1;return d(c,b,e,(n>=0?"+":"-")+u(n,2,"0")+(1===t?":":"")+"00")},k=function(t,n){return u(d(c,b,t,r(c,(g?g.firstDay:null)||e.firstDayOfWeek)),n,"0")},R=function(e,t){return u(d(c,b,e,a(c)),t,"0")},I={yyyy:x,yy:x,MM:w,M:w,dd:y,d:y,HH:C,H:C,hh:S,h:S,mm:E,m:E,ss:D,s:D,SSS:T,S:T,ZZ:O,Z:O,WW:k,W:k,DDD:R,D:R,a:function(e){return d(c,b,e,v)},A:function(e){return d(c,b,e,t(v))},e:function(e){return d(c,b,e,c.getDay())},E:function(e){return d(c,b,e,c.getDay())},q:function(e){return d(c,b,e,Math.floor((o(c)+3)/3))}};return f.replace(p,(function(e,t){return t||(I[e]?I[e](e,e.length):e)}))}return"Invalid Date"}return""}}function Ud(){if(os)return ns;os=1;var e=Wu(),t=Uu(),n=Date.now||function(){return e(t())};return ns=n}function Gd(){if(ys)return ws;ys=1;var e=Cd();return ws=function(t){return t&&t.trimRight?t.trimRight():e(t).replace(/[\s\uFEFF\xA0]+$/g,"")}}function Kd(){if(Ss)return Cs;Ss=1;var e=Cd();return Cs=function(t){return t&&t.trimLeft?t.trimLeft():e(t).replace(/^[\s\uFEFF\xA0]+/g,"")}}function Yd(){if(Ds)return Es;Ds=1;var e=Gd(),t=Kd();return Es=function(n){return n&&n.trim?n.trim():e(t(n))}}function Xd(){if(Os)return Ts;Os=1;return Ts={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}}function Zd(){if(Rs)return ks;Rs=1;var e=Cd(),t=Gc();return ks=function(n){var o=new RegExp("(?:"+t(n).join("|")+")","g");return function(t){return e(t).replace(o,(function(e){return n[e]}))}}}function Qd(){if(As)return Vs;return As=1,Vs=function(e,t,n){return e.substring(t,n)}}function Jd(){if(Ns)return $s;return Ns=1,$s=function(e){return e.toLowerCase()}}function ep(){if(Gs)return Us;Gs=1;var e=$c(),t=Cd(),n=Yd(),o=fu();return Us=function(l,r,a){return t(l).replace((a||e).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,(function(e,t){return o(r,n(t))}))}}function tp(){if(mc)return pc;mc=1;var e=decodeURIComponent;return pc=e}function np(){if(fc)return gc;fc=1;var e=tp(),t=Nc(),n=zu();return gc=function(o){var l,r={};return o&&n(o)&&t(o.split("&"),(function(t){l=t.split("="),r[e(l[0])]=e(l[1]||"")})),r}}function op(){if(vc)return hc;vc=1;var e=encodeURIComponent;return hc=e}function lp(){if(xc)return bc;xc=1;var e=op(),t=Hc(),n=Bc(),o=Qc(),l=du(),r=eu();function a(l,i,s){var c,u=[];return t(l,(function(t,l){c=n(t),r(t)||c?u=u.concat(a(t,i+"["+l+"]",c)):u.push(e(i+"["+(s?"":l)+"]")+"="+e(o(t)?"":t))})),u}return bc=function(i){var s,c=[];return t(i,(function(t,i){l(t)||(s=n(t),r(t)||s?c=c.concat(a(t,i,s)):c.push(e(i)+"="+e(o(t)?"":t)))})),c.join("&").replace(/%20/g,"+")}}function rp(){if(yc)return wc;yc=1;var e=uu(),t=typeof location===e?0:location;return wc=t}function ap(){if(Sc)return Cc;Sc=1;var e=rp();return Cc=function(){return e?e.origin||e.protocol+"//"+e.host:""}}function ip(){if(Dc)return Ec;Dc=1;var e=rp(),t=np(),n=ap();function o(e){return t(e.split("?")[1]||"")}return Ec=function(t){var l,r,a,i,s=""+t;return 0===s.indexOf("//")?s=(e?e.protocol:"")+s:0===s.indexOf("/")&&(s=n()+s),a=s.replace(/#.*/,"").match(/(\?.*)/),(i={href:s,hash:"",host:"",hostname:"",protocol:"",port:"",search:a&&a[1]&&a[1].length>1?a[1]:""}).path=s.replace(/^([a-z0-9.+-]*:)\/\//,(function(e,t){return i.protocol=t,""})).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,(function(e,t,n){return r=n||"",i.port=r.replace(":",""),i.hostname=t,i.host=t+r,"/"})).replace(/(#.*)/,(function(e,t){return i.hash=t.length>1?t:"",""})),l=i.hash.match(/#((.*)\?|(.*))/),i.pathname=i.path.replace(/(\?|#.*).*/,""),i.origin=i.protocol+"//"+i.host,i.hashKey=l&&(l[2]||l[1])||"",i.hashQuery=o(i.hash),i.searchQuery=o(i.search),i}}const sp=F(function(){if(Ac)return Vc;Ac=1;var e=function(){if(Yt)return Kt;Yt=1;var e=$c(),t=Nc(),n=Hc(),o=qc(),l=Yc(),r=function(){};function a(t){return l(e,t)}var i="3.7.4";return r.VERSION=i,r.version=i,r.mixin=function(){t(arguments,(function(e){n(e,(function(e,t){r[t]=o(e)?function(){var t=e.apply(r.$context,arguments);return r.$context=null,t}:e}))}))},r.setup=a,r.setConfig=a,r.getConfig=function(){return e},Kt=r}(),t=Yc(),n=jc(),o=Zc(),l=function(){if(rn)return ln;rn=1;var e=Hc(),t=qc(),n=Jc();return ln=function(o,l,r){var a={};if(o){if(!l)return o;t(l)||(l=n(l)),e(o,(function(e,t){a[t]=l.call(r,e,t,o)}))}return a}}(),r=function(){if(pn)return dn;pn=1;var e=Bc(),t=eu(),n=qc(),o=Hc(),l=tu();function r(a,i){return t(a)&&t(i)||e(a)&&e(i)?(o(i,(function(e,t){l(t)&&(a[t]=n(i)?e:r(a[t],e))})),a):i}return dn=function(e){e||(e={});for(var t,n=arguments,o=n.length,l=1;l<o;l++)(t=n[l])&&r(e,t);return e},dn}(),a=nu(),i=lu(),s=ru(),c=iu(),u=Nc(),d=Xc(),p=su(),m=function(){if(In)return Rn;In=1;var e=su(),t=cu();return Rn=function(){for(var n=arguments,o=[],l=0,r=n.length;l<r;l++)o=o.concat(t(n[l]));return e(o)},Rn}(),g=cu(),f=function(){if(Un)return qn;Un=1;var e=hu();return qn=e}(),h=hu(),v=xu(),b=function(){if(eo)return Jn;eo=1;var e=xu();return Jn=function(t,n){var o=e(t);return arguments.length<=1?o[0]:(n<o.length&&(o.length=n||0),o)},Jn}(),x=Cu(),w=function(){if(so)return io;so=1;var e=Hc();return io=function(t,n,o){var l=[];if(t&&n){if(t.filter)return t.filter(n,o);e(t,(function(e,r){n.call(o,e,r,t)&&l.push(e)}))}return l}}(),y=function(){if(uo)return co;uo=1;var e=ou()("",0,2,!0);return co=e}(),C=au(),S=function(){if(mo)return po;mo=1;var e=ou()("find",1,3,!0);return po=e}(),E=function(){if(fo)return go;fo=1;var e=Bc(),t=bu();return go=function(n,o,l){if(n){e(n)||(n=t(n));for(var r=n.length-1;r>=0;r--)if(o.call(l,n[r],r,n))return n[r]}}}(),D=function(){if(vo)return ho;vo=1;var e=Gc();return ho=function(t,n,o){if(t){var l,r,a=0,i=o,s=arguments.length>2,c=e(t);if(t.length&&t.reduce)return r=function(){return n.apply(null,arguments)},s?t.reduce(r,i):t.reduce(r);for(s&&(a=1,i=t[c[0]]),l=c.length;a<l;a++)i=n.call(null,i,t[c[a]],a,t);return i}},ho}(),T=function(){if(xo)return bo;xo=1;var e=Bc();return bo=function(t,n,o,l){if(e(t)&&t.copyWithin)return t.copyWithin(n,o,l);var r,a,i=0|n,s=0|o,c=t.length,u=arguments.length>3?0|l:c;if(i<c&&(i=i>=0?i:c+i)>=0&&(s=s>=0?s:c+s)<(u=u>=0?u:c+u))for(r=0,a=t.slice(s,u);i<c&&!(a.length<=r);i++)t[i]=a[r++];return t},bo}(),O=function(){if(yo)return wo;yo=1;var e=Bc();return wo=function(t,n){var o,l=[],r=0|n||1;if(e(t))if(r>=0&&t.length>r)for(o=0;o<t.length;)l.push(t.slice(o,o+r)),o+=r;else l=t.length?[t]:t;return l}}(),k=function(){if(Mo)return Io;Mo=1;var e=Tu();return Io=function(){return e(arguments)},Io}(),R=Tu(),I=function(){if(Fo)return Po;Fo=1;var e=bu(),t=Hc();return Po=function(n,o){var l={};return o=o||[],t(e(n),(function(e,t){l[e]=o[t]})),l}}(),M=Ou(),P=Su(),F=function(){if(No)return $o;No=1;var e=nu(),t=Bc();return $o=function(n,o){for(var l,r=arguments,a=[],i=[],s=2,c=r.length;s<c;s++)a.push(r[s]);if(t(o)){for(c=o.length-1,s=0;s<c;s++)i.push(o[s]);o=o[c]}return e(n,(function(e){if(i.length&&(e=function(e,t){for(var n=0,o=t.length;e&&n<o;)e=e[t[n++]];return o&&e?e:0}(e,i)),(l=e[o]||o)&&l.apply)return l.apply(e,a)}))},$o}(),V=Fu(),A=Vu(),$=function(){if(tl)return el;tl=1;var e=Au()((function e(t,n,o,l,r,a,i,s){var c,u,d,p,m,g;if(n)for(u=0,d=n.length;u<d;u++){if(c=n[u],p=r.concat([""+u]),m=a.concat([c]),o.call(l,c,u,n,p,t,m))return{index:u,item:c,path:p,items:n,parent:t,nodes:m};if(i&&c&&(g=e(c,c[i],o,l,p.concat([i]),m,i)))return g}}));return el=e}(),N=$u(),L=function(){if(rl)return ll;rl=1;var e=Au(),t=nu(),n=e((function e(n,o,l,r,a,i,s,c){var u,d,p,m=c.mapChildren||s;return t(o,(function(t,g){return u=a.concat([""+g]),d=i.concat([t]),(p=l.call(r,t,g,o,u,n,d))&&t&&s&&t[s]&&(p[m]=e(t,t[s],l,r,u,d,s,c)),p}))}));return ll=n}(),_=function(){if(il)return al;il=1;var e=$u();return al=function(t,n,o,l){var r=[];return t&&n&&e(t,(function(e,t,o,a,i,s){n.call(l,e,t,o,a,i,s)&&r.push(e)}),o),r}}(),B=Nu(),z=Lu(),j=_u(),H=zc(),W=Bc(),q=Qc(),U=function(){if(vl)return hl;vl=1;var e=Bu();return hl=function(t){return e(t)&&isNaN(t)}}(),G=du(),K=qc(),Y=Iu(),X=zu(),Z=eu(),Q=Gu(),J=ju(),ee=pu(),te=Hc(),ne=function(){if(Al)return Vl;Al=1;var e=Bc(),t=zc();return Vl=function(n,o,l){if(n)if(e(n))for(var r=0,a=n.length;r<a&&!1!==o.call(l,n[r],r,n);r++);else for(var i in n)if(t(n,i)&&!1===o.call(l,n[i],i,n))break}}(),oe=function(){if(Nl)return $l;Nl=1;var e=Bc(),t=zc();return $l=function(n,o,l){var r,a;if(n)if(e(n))for(r=n.length-1;r>=0&&!1!==o.call(l,n[r],r,n);r--);else for(r=(a=t(n)).length-1;r>=0&&!1!==o.call(l,n[a[r]],a[r],n);r--);}}(),le=function(){if(zl)return Bl;zl=1;var e=Ku()("indexOf",Lu());return Bl=e}(),re=Yu(),ae=Gc(),ie=bu(),se=Kc(),ce=Xu(),ue=Ru(),de=Pu(),pe=Mu(),me=function(){if(Gl)return Ul;Gl=1;var e=Bu();return Ul=function(t){return e(t)&&isFinite(t)}}(),ge=function(){if(Zl)return Xl;Zl=1;var e=Bc(),t=Zu(),n=Qc();return Xl=function(o){return!(n(o)||isNaN(o)||e(o)||t(o))}}(),fe=Zu(),he=Qu(),ve=Bu(),be=Ju(),xe=ed(),we=rr?lr:(rr=1,lr=function(e){return!!e&&e.constructor===TypeError}),ye=td(),Ce=nd(),Se=function(){if(dr)return ur;dr=1;var e=_c()("Arguments");return ur=e}(),Ee=function(){if(mr)return pr;mr=1;var e=zu(),t=Bu();return pr=function(n){return!!(n&&e(n.nodeName)&&t(n.nodeType))}}(),De=function(){if(vr)return hr;vr=1;var e=od();return hr=function(t){return!(!t||!e||9!==t.nodeType)}}(),Te=function(){if(yr)return wr;yr=1;var e=ld();return wr=function(t){return!(!e||!t||t!==t.window)}}(),Oe=function(){if(Sr)return Cr;Sr=1;var e=uu(),t=typeof FormData!==e;return Cr=function(e){return t&&e instanceof FormData}}(),ke=function(){if(Dr)return Er;Dr=1;var e=uu(),t=typeof Map!==e;return Er=function(e){return t&&e instanceof Map}}(),Re=function(){if(Or)return Tr;Or=1;var e=uu(),t=typeof WeakMap!==e;return Tr=function(e){return t&&e instanceof WeakMap}}(),Ie=function(){if(Rr)return kr;Rr=1;var e=uu(),t=typeof Set!==e;return kr=function(e){return t&&e instanceof Set}}(),Me=function(){if(Mr)return Ir;Mr=1;var e=uu(),t=typeof WeakSet!==e;return Ir=function(e){return t&&e instanceof WeakSet}}(),Pe=function(){if(Hr)return jr;Hr=1;var e=Gc(),t=ad(),n=cd(),o=lu(),l=iu();return jr=function(r,a){var i=e(r),s=e(a);return!s.length||(l(i,s)?o(s,(function(e){return t(i,(function(t){return t===e&&n(r[t],a[e])}))>-1})):n(r,a))}}(),Fe=cd(),Ve=function(){if(qr)return Wr;qr=1;var e=id(),t=sd(),n=qc(),o=du();return Wr=function(l,r,a){return n(a)?e(l,r,(function(e,n,l,r,i){var s=a(e,n,l,r,i);return o(s)?t(e,n):!!s}),a):e(l,r,t)}}(),Ae=function(){if(Gr)return Ur;Gr=1;var e=nd(),t=ju(),n=Bc(),o=Ju(),l=ed(),r=Qc();return Ur=function(a){return r(a)?"null":e(a)?"symbol":t(a)?"date":n(a)?"array":o(a)?"regexp":l(a)?"error":typeof a}}(),$e=function(){if(Yr)return Kr;Yr=1;var e=$c(),t=pu();return Kr=function(n){return""+(t(n)?"":n)+e.keyId++}}(),Ne=ad(),Le=function(){if(Zr)return Xr;Zr=1;var e=rd()((function(e,t,n){for(var o=e.length-1;o>=0;o--)if(t.call(n,e[o],o,e))return o;return-1}));return Xr=e}(),_e=function(){if(Jr)return Qr;Jr=1;var e=eu(),t=zu();return Qr=function(n){if(e(n))return n;if(t(n))try{return JSON.parse(n)}catch(o){}return{}}}(),Be=function(){if(ta)return ea;ta=1;var e=pu();return ea=function(t){return e(t)?"":JSON.stringify(t)}}(),ze=function(){if(oa)return na;oa=1;var e=Uc()("entries",2);return na=e}(),je=function(){if(ia)return aa;ia=1;var e=ud()(1,0);return aa=e}(),He=function(){if(ca)return sa;ca=1;var e=ud()(0,1);return sa=e}(),We=function(){if(da)return ua;da=1;var e=bu();return ua=function(t){return e(t)[0]}}(),qe=function(){if(ma)return pa;ma=1;var e=bu();return pa=function(t){var n=e(t);return n[n.length-1]}}(),Ue=function(){if(fa)return ga;fa=1;var e=mu(),t=gu(),n=zc();return ga=function(o,l){if(o){if(n(o,l))return!0;var r,a,i,s,c,u,d=t(l),p=0,m=d.length;for(c=o;p<m&&(u=!1,(s=(r=d[p])?r.match(e):"")?(a=s[1],i=s[2],a?c[a]&&n(c[a],i)&&(u=!0,c=c[a][i]):n(c,i)&&(u=!0,c=c[i])):n(c,r)&&(u=!0,c=c[r]),u);p++)if(p===m-1)return!0}return!1}}(),Ge=fu(),Ke=function(){if(va)return ha;va=1;var e=Hu(),t=gu(),n=tu(),o=zc(),l=/(.+)?\[(\d+)\]$/;function r(t,n,o,r,a){if(!t[n]){var i,s,c=n?n.match(l):null;if(o)s=a;else{var u=r?r.match(l):null;s=u&&!u[1]?new Array(e(u[2])+1):{}}return c?c[1]?(i=e(c[2]),t[c[1]]?o?t[c[1]][i]=s:t[c[1]][i]?s=t[c[1]][i]:t[c[1]][i]=s:(t[c[1]]=new Array(i+1),t[c[1]][i]=s)):t[c[2]]=s:t[n]=s,s}return o&&(t[n]=a),t[n]}function a(e){return"__proto__"===e||"constructor"===e||"prototype"===e}return ha=function(e,l,i){if(e&&n(l))if(!e[l]&&!o(e,l)||a(l)){for(var s=e,c=t(l),u=c.length,d=0;d<u;d++)if(!a(c[d])){var p=d===u-1;s=r(s,c[d],p,p?null:c[d+1],i)}}else e[l]=i;return e}}(),Ye=dd(),Xe=function(){if(ya)return wa;ya=1;var e=dd(),t=jc();return wa=function(n,o,l){var r=e(n,o,l||this);return t(r,(function(e,t){r[t]=e.length})),r}}(),Ze=pd(),Qe=function(){if(Da)return Ea;Da=1;var e=Gc(),t=Cu(),n=au(),o=Nc(),l=Yc();return Ea=function(r,a){if(r&&a){var i=l.apply(this,[{}].concat(t(arguments,1))),s=e(i);o(e(r),(function(e){n(s,e)&&(r[e]=i[e])}))}return r},Ea}(),Je=vu(),et=Du(),tt=function(){if(Oa)return Ta;Oa=1;var e=Eu()((function(e,t){return e>t}));return Ta=e}(),nt=function(){if(Za)return Xa;Za=1;var e=$c(),t=xd(),n=wd(),o=yd(),l=Bu(),r=Cd(),a=Sd(),i=hd(),s=Yc();return Xa=function(c,u){var d,p,m,g,f,h=s({},e.commafyOptions,u),v=h.digits;return l(c)?(d=(h.ceil?n:h.floor?o:t)(c,v),g=(p=i(v?a(d,v):d).split("."))[0],f=p[1],(m=g&&d<0)&&(g=g.substring(1,g.length))):g=(p=(d=r(c).replace(/,/g,""))?[d]:[])[0],p.length?(m?"-":"")+g.replace(new RegExp("(?=(?!(\\b))(.{"+(h.spaceNumber||3)+"})+$)","g"),h.separator||",")+(f?"."+f:""):d}}(),ot=xd(),lt=wd(),rt=yd(),at=Sd(),it=function(){if(Ja)return Qa;Ja=1;var e=Hu(),t=wu()(e);return Qa=t}(),st=yu(),ct=hd(),ut=function(){if(ri)return li;ri=1;var e=Dd(),t=yu();return li=function(n,o){return e(t(n),t(o))}}(),dt=function(){if(ii)return ai;ii=1;var e=md(),t=hd(),n=yu(),o=Sd();return ai=function(l,r){var a=n(l),i=n(r),s=t(a),c=t(i),u=e(s),d=e(c),p=Math.pow(10,Math.max(u,d));return parseFloat(o((a*p-i*p)/p,u>=d?u:d))}}(),pt=Ed(),mt=function(){if(di)return ui;di=1;var e=Td(),t=yu();return ui=function(n,o){return e(t(n),t(o))}}(),gt=Od(),ft=function(){if(fi)return gi;fi=1;var e=Td(),t=Xu(),n=Od();return gi=function(o,l,r){return e(n(o,l,r),t(o))}}(),ht=Ad(),vt=function(){if(Fi)return Pi;Fi=1;var e=Vd(),t=qu(),n=Fd();return Pi=function(o,l,r){var a,i=l&&!isNaN(l)?3*l:0;return o=t(o),n(o)?(a=3*(function(e){var t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}(o)-1),o.setMonth(a),e(o,i,r)):o}}(),bt=Vd(),xt=$d(),wt=qu(),yt=qd(),Ct=Ud(),St=function(){if(rs)return ls;rs=1;var e=Wu(),t=Ud(),n=qu(),o=ju();return ls=function(l,r){if(l){var a=n(l,r);return o(a)?e(a):a}return t()}}(),Et=Fd(),Dt=function(){if(is)return as;is=1;var e=qd();return as=function(t,n,o){return!(!t||!n)&&"Invalid Date"!==(t=e(t,o))&&t===e(n,o)}}(),Tt=_d(),Ot=Hd(),kt=zd(),Rt=function(){if(cs)return ss;cs=1;var e=Bd()((function(e){return new Date(e.getFullYear(),e.getMonth(),1)}),(function(e,t){return e.getMonth()!==t.getMonth()}));return ss=e}(),It=function(){if(ds)return us;ds=1;var e=Ad(),t=qu(),n=Fd(),o=Gu();return us=function(l,r){return l=t(l),n(l)?o(e(l,r))?366:365:NaN}}(),Mt=function(){if(ms)return ps;ms=1;var e=Md(),t=kd(),n=Rd(),o=Wu(),l=Vd(),r=qu(),a=Fd();return ps=function(i,s){return i=r(i),a(i)?Math.floor((o(l(i,s,n))-o(l(i,s,t)))/e)+1:NaN}}(),Pt=function(){if(fs)return gs;fs=1;var e=Wu(),t=Uu(),n=qu(),o=Fd(),l=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]];return gs=function(r,a){var i,s,c,u,d,p,m={done:!1,time:0};if(r=n(r),a=a?n(a):t(),o(r)&&o(a)&&(i=e(r))<(s=e(a)))for(u=m.time=s-i,m.done=!0,p=0,d=l.length;p<d;p++)u>=(c=l[p])[1]?p===d-1?m[c[0]]=u||0:(m[c[0]]=Math.floor(u/c[1]),u-=m[c[0]]*c[1]):m[c[0]]=0;return m}}(),Ft=function(){if(vs)return hs;vs=1;var e=Cd(),t=du(),n=gd();return hs=function(o,l,r){var a=e(o);return l|=0,r=t(r)?" ":""+r,a.padEnd?a.padEnd(l,r):l>a.length?((l-=a.length)>r.length&&(r+=n(r,l/r.length)),a+r.slice(0,l)):a}}(),Vt=Wd(),At=function(){if(xs)return bs;xs=1;var e=Cd(),t=gd();return bs=function(n,o){return t(e(n),o)}}(),$t=Yd(),Nt=Gd(),Lt=Kd(),_t=function(){if(Ms)return Is;Ms=1;var e=Xd(),t=Zd()(e);return Is=t}(),Bt=function(){if(Fs)return Ps;Fs=1;var e=Xd(),t=Zd(),n=Hc(),o={};n(e,(function(t,n){o[e[n]]=n}));var l=t(o);return Ps=l}(),zt=function(){if(_s)return Ls;_s=1;var e=Cd(),t=Qd(),n=Nd(),o=Jd(),l={};return Ls=function(r){if(r=e(r),l[r])return l[r];var a=r.length,i=r.replace(/([-]+)/g,(function(e,t,n){return n&&n+t.length<a?"-":""}));return a=i.length,i=i.replace(/([A-Z]+)/g,(function(e,l,r){var i=l.length;return l=o(l),r?i>2&&r+i<a?n(t(l,0,1))+t(l,1,i-1)+n(t(l,i-1,i)):n(t(l,0,1))+t(l,1,i):i>1&&r+i<a?t(l,0,i-1)+n(t(l,i-1,i)):l})).replace(/(-[a-zA-Z])/g,(function(e,o){return n(t(o,1,o.length))})),l[r]=i,i}}(),jt=function(){if(zs)return Bs;zs=1;var e=Cd(),t=Qd(),n=Jd(),o={};return Bs=function(l){if(l=e(l),o[l])return o[l];if(/^[A-Z]+$/.test(l))return n(l);var r=l.replace(/^([a-z])([A-Z]+)([a-z]+)$/,(function(e,o,l,r){var a=l.length;return a>1?o+"-"+n(t(l,0,a-1))+"-"+n(t(l,a-1,a))+r:n(o+"-"+l+r)})).replace(/^([A-Z]+)([a-z]+)?$/,(function(e,o,l){var r=o.length;return n(t(o,0,r-1)+"-"+t(o,r-1,r)+(l||""))})).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,(function(e,o,l,r,a){var i=l.length;return i>1&&(o&&(o+="-"),r)?(o||"")+n(t(l,0,i-1))+"-"+n(t(l,i-1,i))+r:(o||"")+(a?"-":"")+n(l)+(r||"")}));return r=r.replace(/([-]+)/g,(function(e,t,n){return n&&n+t.length<r.length?"-":""})),o[l]=r,r}}(),Ht=function(){if(Hs)return js;Hs=1;var e=Cd();return js=function(t,n,o){var l=e(t);return 0===(1===arguments.length?l:l.substring(o)).indexOf(n)},js}(),Wt=function(){if(qs)return Ws;qs=1;var e=Cd();return Ws=function(t,n,o){var l=e(t),r=arguments.length;return r>1&&(r>2?l.substring(0,o).indexOf(n)===o-1:l.indexOf(n)===l.length-1)},Ws}(),qt=ep(),Ut=function(){if(Ys)return Ks;Ys=1;var e=ep();return Ks=function(t,n){return e(t,n,{tmplRE:/\{([.\w[\]\s]+)\}/g})}}(),Gt=Cd(),Xt=Zs?Xs:(Zs=1,Xs=function(){}),Zt=Jc(),Qt=function(){if(Js)return Qs;Js=1;var e=Cu();return Qs=function(t,n){var o=e(arguments,2);return function(){return t.apply(n,e(arguments).concat(o))}},Qs}(),Jt=function(){if(tc)return ec;tc=1;var e=Cu();return ec=function(t,n){var o=!1,l=null,r=e(arguments,2);return function(){return o||(l=t.apply(n,e(arguments).concat(r)),o=!0),l}},ec}(),en=function(){if(oc)return nc;oc=1;var e=Cu();return nc=function(t,n,o){var l=0,r=[];return function(){var a=arguments;++l<=t&&r.push(a[0]),l>=t&&n.apply(o,[r].concat(e(a)))}},nc}(),tn=function(){if(rc)return lc;rc=1;var e=Cu();return lc=function(t,n,o){var l=0,r=[];return o=o||this,function(){var a=arguments;++l<t&&(r.push(a[0]),n.apply(o,[r].concat(e(a))))}},lc}(),nn=(ic||(ic=1,ac=function(e,t,n){var o=null,l=null,r=n||{},a=!1,i=null,s=!("leading"in r)||r.leading,c="trailing"in r&&r.trailing,u=function(){o=null,l=null},d=function(){a=!0,e.apply(l,o),i=setTimeout(p,t),u()},p=function(){i=null,a||!0!==c||d()},m=function(){o=arguments,l=this,a=!1,null===i&&(!0===s?d():!0===c&&(i=setTimeout(p,t)))};return m.cancel=function(){var e=null!==i;return e&&clearTimeout(i),u(),i=null,a=!1,e},m}),ac),on=(cc||(cc=1,sc=function(e,t,n){var o=null,l=null,r=n||{},a=!1,i=null,s="boolean"==typeof n,c="leading"in r?r.leading:s,u="trailing"in r?r.trailing:!s,d=function(){o=null,l=null},p=function(){a=!0,e.apply(l,o),d()},m=function(){!0===c&&(i=null),a||!0!==u||p()},g=function(){a=!1,o=arguments,l=this,null===i?!0===c&&p():clearTimeout(i),i=setTimeout(m,t)};return g.cancel=function(){var e=null!==i;return e&&clearTimeout(i),d(),i=null,a=!1,e},g}),sc),an=function(){if(dc)return uc;dc=1;var e=Cu();return uc=function(t,n){var o=e(arguments,2),l=this;return setTimeout((function(){t.apply(l,o)}),n)},uc}(),sn=np(),cn=lp(),un=ip(),mn=function(){if(Oc)return Tc;Oc=1;var e=rp(),t=ap(),n=Yu();return Tc=function(){if(e){var o=e.pathname,l=n(o,"/")+1;return t()+(l===o.length?o:o.substring(0,l))}return""}}(),gn=function(){if(Rc)return kc;Rc=1;var e=rp(),t=ip();return kc=function(){return e?t(e.href):{}}}(),fn=function(){if(Mc)return Ic;Mc=1;var e=$c(),t=od(),n=tp(),o=op(),l=Bc(),r=Iu(),a=ju(),i=du(),s=au(),c=Gc(),u=Yc(),d=Nc(),p=Uu(),m=Wu(),g=Ad(),f=Vd(),h=$d();function v(e,t){var n=parseFloat(t),o=p(),l=m(o);switch(e){case"y":return m(g(o,n));case"M":return m(f(o,n));case"d":return m(h(o,n));case"h":case"H":return l+60*n*60*1e3;case"m":return l+60*n*1e3;case"s":return l+1e3*n}return l}function b(e){return(a(e)?e:new Date(e)).toUTCString()}function x(s,c,p){if(t){var m,g,f,h,x,w,y=[],C=arguments;return l(s)?y=s:C.length>1?y=[u({name:s,value:c},p)]:r(s)&&(y=[s]),y.length>0?(d(y,(function(n){m=u({},e.cookies,n),f=[],m.name&&(g=m.expires,f.push(o(m.name)+"="+o(r(m.value)?JSON.stringify(m.value):m.value)),g&&(g=isNaN(g)?g.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,(function(e,t,n){return b(v(n,t))})):/^[0-9]{11,13}$/.test(g)||a(g)?b(g):b(v("d",g)),m.expires=g),d(["expires","path","domain","secure"],(function(e){i(m[e])||f.push(m[e]&&"secure"===e?e:e+"="+m[e])}))),t.cookie=f.join("; ")})),!0):(h={},(x=t.cookie)&&d(x.split("; "),(function(e){w=e.indexOf("="),h[n(e.substring(0,w))]=n(e.substring(w+1)||"")})),1===C.length?h[s]:h)}return!1}function w(e){return x(e)}function y(e,t,n){return x(e,t,n),x}function C(t,n){x(t,"",u({expires:-1},e.cookies,n))}function S(){return c(x())}return u(x,{has:function(e){return s(S(),e)},set:y,setItem:y,get:w,getItem:w,remove:C,removeItem:C,keys:S,getJSON:function(){return x()}}),Ic=x}(),hn=function(){if(Fc)return Pc;Fc=1;var e=uu(),t=od(),n=ld(),o=Yc(),l=Nc();function r(e){try{var t="__xe_t";return e.setItem(t,1),e.removeItem(t),!0}catch(n){return!1}}function a(e){return navigator.userAgent.indexOf(e)>-1}return Pc=function(){var i,s,c,u=!1,d=!1,p=!1,m={isNode:!1,isMobile:u,isPC:!1,isDoc:!!t};if(n||typeof process===e){c=a("Edge"),s=a("Chrome"),u=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),m.isDoc&&(i=t.body||t.documentElement,l(["webkit","khtml","moz","ms","o"],(function(e){m["-"+e]=!!i[e+"MatchesSelector"]})));try{d=r(n.localStorage)}catch(g){}try{p=r(n.sessionStorage)}catch(g){}o(m,{edge:c,firefox:a("Firefox"),msie:!c&&m["-ms"],safari:!s&&!c&&a("Safari"),isMobile:u,isPC:!u,isLocalStorage:d,isSessionStorage:p})}else m.isNode=!0;return m}}();return t(e,{assign:t,objectEach:n,lastObjectEach:o,objectMap:l,merge:r,uniq:p,union:m,sortBy:f,orderBy:h,shuffle:v,sample:b,some:i,every:s,slice:x,filter:w,find:S,findLast:E,findKey:y,includes:C,arrayIndexOf:z,arrayLastIndexOf:j,map:a,reduce:D,copyWithin:T,chunk:O,zip:k,unzip:R,zipObject:I,flatten:M,toArray:g,includeArrays:c,pluck:P,invoke:F,arrayEach:u,lastArrayEach:d,toArrayTree:V,toTreeArray:A,findTree:$,eachTree:N,mapTree:L,filterTree:_,searchTree:B,hasOwnProp:H,eqNull:ee,isNaN:U,isFinite:me,isUndefined:G,isArray:W,isFloat:ge,isInteger:fe,isFunction:K,isBoolean:he,isString:X,isNumber:ve,isRegExp:be,isObject:Y,isPlainObject:Z,isDate:J,isError:xe,isTypeError:we,isEmpty:ye,isNull:q,isSymbol:Ce,isArguments:Se,isElement:Ee,isDocument:De,isWindow:Te,isFormData:Oe,isMap:ke,isWeakMap:Re,isSet:Ie,isWeakSet:Me,isLeapYear:Q,isMatch:Pe,isEqual:Fe,isEqualWith:Ve,getType:Ae,uniqueId:$e,getSize:ce,indexOf:le,lastIndexOf:re,findIndexOf:Ne,findLastIndexOf:Le,toStringJSON:_e,toJSONString:Be,keys:ae,values:ie,entries:ze,pick:je,omit:He,first:We,last:qe,each:te,forOf:ne,lastForOf:oe,lastEach:ue,has:Ue,get:Ge,set:Ke,groupBy:Ye,countBy:Xe,clone:se,clear:pe,remove:de,range:Ze,destructuring:Qe,random:Je,min:tt,max:et,commafy:nt,round:ot,ceil:lt,floor:rt,toFixed:at,toNumber:st,toNumberString:ct,toInteger:it,add:ut,subtract:dt,multiply:pt,divide:mt,sum:gt,mean:ft,now:Ct,timestamp:St,isValidDate:Et,isDateSame:Dt,toStringDate:wt,toDateString:yt,getWhatYear:ht,getWhatQuarter:vt,getWhatMonth:bt,getWhatWeek:Tt,getWhatDay:xt,getYearDay:Ot,getYearWeek:kt,getMonthWeek:Rt,getDayOfYear:It,getDayOfMonth:Mt,getDateDiff:Pt,trim:$t,trimLeft:Lt,trimRight:Nt,escape:_t,unescape:Bt,camelCase:zt,kebabCase:jt,repeat:At,padStart:Vt,padEnd:Ft,startsWith:Ht,endsWith:Wt,template:qt,toFormatString:Ut,toString:Gt,toValueString:Gt,noop:Xt,property:Zt,bind:Qt,once:Jt,after:en,before:tn,throttle:nn,debounce:on,delay:an,unserialize:sn,serialize:cn,parseUrl:un,getBaseURL:mn,locat:gn,browse:hn,cookie:fn}),Vc=e}());var cp=null,up=null,dp=null,pp="z-index-manage",mp=null,gp="z-index-style",fp={m:1e3,s:1e3};function hp(){return cp||"undefined"!=typeof document&&(cp=document),cp}function vp(){return cp&&!up&&(up=cp.body||cp.getElementsByTagName("body")[0]),up}function bp(){var e=function(){if(!mp){var e=hp();e&&((mp=e.getElementById(gp))||((mp=e.createElement("style")).id=gp,e.getElementsByTagName("head")[0].appendChild(mp)))}return mp}();if(e){var t="--dom-",n="-z-index";e.innerHTML=":root{"+t+"main"+n+":"+Sp()+";"+t+"sub"+n+":"+Op()+"}"}}function xp(){if(!dp){var e=hp();if(e&&!(dp=e.getElementById(pp))){var t=vp();t&&((dp=e.createElement("div")).id=pp,dp.style.display="none",t.appendChild(dp),yp(fp.m),Dp(fp.s))}}return dp}function wp(e){return function(t){if(t){t=Number(t),fp[e]=t;var n=xp();n&&(n.dataset?n.dataset[e]=t+"":n.setAttribute("data-"+e,t+""))}return bp(),fp[e]}}var yp=wp("m");function Cp(e,t){return function(n){var o,l=xp();if(l){var r=l.dataset?l.dataset[e]:l.getAttribute("data-"+e);r&&(o=Number(r))}return o||(o=fp[e]),n?Number(n)<o?t():n:o}}var Sp=Cp("m",Ep);function Ep(){return yp(Sp()+1)}var Dp=wp("s"),Tp=Cp("s",kp);function Op(){return Sp()+Tp()}function kp(){return Dp(Tp()+1),Op()}var Rp={setCurrent:yp,getCurrent:Sp,getNext:Ep,setSubCurrent:Dp,getSubCurrent:Op,getSubNext:kp,getMax:function(){var e=0;if(hp()){var t=vp();if(t)for(var n=t.getElementsByTagName("*"),o=0;o<n.length;o++){var l=n[o];if(l&&l.style&&1===l.nodeType){var r=l.style.zIndex;r&&/^\d+$/.test(r)&&(e=Math.max(e,Number(r)))}}}return e}};bp();const Ip={size:"",version:1,zIndex:999,resizeInterval:500},Mp={theme:""};function Pp(e){const t=e&&"default"!==e?e:"light";if(Mp.theme=t,"undefined"!=typeof document){const e=document.documentElement;e&&e.setAttribute("data-vxe-ui-theme",t)}return xt}function Fp(){return Mp.theme}function Vp(e){return e&&(e.zIndex&&Rp.setCurrent(e.zIndex),e.theme&&Pp(e.theme),sp.merge(Ip,e)),xt}function Ap(e,t){return arguments.length?sp.get(Ip,e,t):Ip}const $p={},Np={};function Lp(e){return e&&Object.assign(Np,e),xt}function _p(e){return arguments.length?sp.get(Np,e):Np}const Bp={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",Control:"Control",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},zp=sp.browse(),jp={" ":"Spacebar",Apps:Bp.CONTEXT_MENU,Del:Bp.DELETE,Up:Bp.ARROW_UP,Down:Bp.ARROW_DOWN,Left:Bp.ARROW_LEFT,Right:Bp.ARROW_RIGHT},Hp=zp.firefox?"DOMMouseScroll":"mousewheel",Wp=[];function qp(e){const t=e.type===Hp;Wp.forEach((({type:n,cb:o})=>{e.cancelBubble||(n===e.type||t&&"mousewheel"===n)&&o(e)}))}class Up{constructor(e,t,n){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=e,e&&(e.type&&(this.type=e.type),e.key&&(this.key=e.key),e.code&&(this.code=e.code)),Object.assign(this,t),sp.objectEach(n,((e,t)=>{if(sp.isFunction(e)){let n=null,o=!1;Object.defineProperty(this,t,{get:()=>(o||(o=!0,n=e()),n)})}else this[t]=e}))}stopPropagation(){const e=this.$event;e&&e.stopPropagation()}preventDefault(){const e=this.$event;e&&e.preventDefault()}}const Gp=(e,t,n)=>new Up(e,t,n),Kp={on(e,t,n){Wp.push({comp:e,type:t,cb:n})},off(e,t){sp.remove(Wp,(n=>n.comp===e&&n.type===t))},hasKey(e,t){const{key:n}=e;return t=t.toLowerCase(),!!n&&(t===n.toLowerCase()||!(!jp[n]||jp[n].toLowerCase()!==t))}};let Yp;zp.isDoc&&(zp.msie||(window.addEventListener("copy",qp,!1),window.addEventListener("cut",qp,!1),window.addEventListener("paste",qp,!1)),document.addEventListener("keydown",qp,!1),document.addEventListener("contextmenu",qp,!1),window.addEventListener("mousedown",qp,!1),window.addEventListener("blur",qp,!1),window.addEventListener("resize",qp,!1),window.addEventListener(Hp,sp.throttle(qp,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));const Xp=[];function Zp(){Xp.length&&(Xp.forEach((e=>{e.tarList.forEach((t=>{const{target:n,width:o,heighe:l}=t,r=n.clientWidth,a=n.clientHeight;(r&&o!==r||a&&l!==a)&&(t.width=r,t.heighe=a,setTimeout(e.callback))}))})),Qp())}function Qp(){clearTimeout(Yp),Yp=setTimeout(Zp,Ip.resizeInterval||500)}class Jp{constructor(e){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=e}observe(e){if(e){const{tarList:t}=this;t.some((t=>t.target===e))||t.push({target:e,width:e.clientWidth,heighe:e.clientHeight}),Xp.length||Qp(),Xp.some((e=>e===this))||Xp.push(this)}}unobserve(e){sp.remove(Xp,(t=>t.tarList.some((t=>t.target===e))))}disconnect(){sp.remove(Xp,(e=>e===this))}}const em={create:e=>window.ResizeObserver?new window.ResizeObserver(e):new Jp(e)},tm=m({language:"",langMaps:{}});let nm=!1,om={};function lm(e,t){const{langMaps:n,language:o}=tm,{i18n:l}=Ip;if(l)return`${l(e,t)||""}`;if(nm||(n[o],nm=!0),!t&&om[e])return om[e];const r=sp.toFormatString(sp.get(n[o],e,e),t);return t||(om[e]=r),r}function rm(e){const{language:t}=tm,n=e||"zh-CN";return t!==n&&(tm.language=n,om={}),xt}function am(e,t){return tm.langMaps[e]=Object.assign({},t),xt}function im(e){const{langMaps:t}=tm;return!!t[e]}function sm(){const{language:e}=tm;return e}function cm(e,t){return function(e,n){return`[vxe ${t||""}] ${lm(e,n)}`}}const um="4.1.5",dm={create:cm,warn:cm(0,`v${um}`),err:cm(0,`v${um}`)},pm={},mm={mixin:e=>(sp.each(e,((e,t)=>mm.add(t,e))),mm),get:e=>pm[e]||null,add(e,t){if(e&&t){const n=pm[e];n?(sp.each(t,((t,o)=>{sp.eqNull(n[o])||n[o]===t||dm.warn("vxe.error.coverProp",[`Renderer.${e}`,o])})),Object.assign(n,t)):pm[e]=t}return mm},forEach:e=>(sp.objectEach(pm,e),mm),delete:e=>(delete pm[e],mm)};class gm{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return sp.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e],o=sp.keys(n);return sp.each(t,((t,n)=>{o.includes(n)&&dm.warn("vxe.error.coverProp",[e,n])})),this.store[e]=n?sp.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){sp.objectEach(this.store,e)}}const fm=new gm;Object.assign(fm,{_name:"Validators"});const hm=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return sp.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];sp.isFunction(t)&&(dm.warn("vxe.error.delProp",["menus -> callback","menuMethod"]),t={menuMethod:t});const o=sp.keys(n);return sp.each(t,((t,n)=>{o.includes(n)&&dm.warn("vxe.error.coverProp",[e,n])})),this.store[e]=n?sp.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){sp.objectEach(this.store,e)}};Object.assign(hm,{_name:"Menus"});const vm=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return sp.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];sp.isFunction(t)&&(dm.warn("vxe.error.delProp",["formats -> callback","cellFormatMethod"]),t={cellFormatMethod:t});const o=sp.keys(n);return sp.each(t,((t,n)=>{o.includes(n)&&dm.warn("vxe.error.coverProp",[e,n])})),this.store[e]=n?sp.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){sp.objectEach(this.store,e)}};Object.assign(vm,{_name:"Formats"});const bm=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return sp.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const n=this.store[e];sp.isFunction(t)&&(dm.warn("vxe.error.delProp",["commands -> callback","commandMethod"]),t={commandMethod:t});const o=sp.keys(n);return sp.each(t,((t,n)=>{o.includes(n)&&dm.warn("vxe.error.coverProp",[e,n])})),this.store[e]=n?sp.merge(n,t):t,this}delete(e){delete this.store[e]}forEach(e){sp.objectEach(this.store,e)}};Object.assign(bm,{_name:"Commands"});const xm={},wm={mixin:e=>(sp.each(e,((e,t)=>{wm.add(t,e)})),wm),get:e=>xm[e]||[],add(e,t){sp.isFunction(t)&&(t={tableInterceptorMethod:t});const n=t.tableInterceptorMethod;if(n){let t=xm[e];t||(t=xm[e]=[]),t.indexOf(n)>-1&&dm.warn("vxe.error.coverProp",["Interceptor",e]),t.push(n)}return wm},delete(e,t){const n=xm[e];if(n){sp.isFunction(t)&&(t={tableInterceptorMethod:t});const o=t?t.tableInterceptorMethod:null;o?sp.remove(n,(e=>e===o)):delete xm[e]}}};let ym;const Cm={text:"",html:""};const Sm={getStore:()=>Cm,setStore(e){Object.assign(Cm,e||{})},copy(e){let t=!1;try{const n=sp.toValueString(e);!function(e){if(!ym){ym=document.createElement("textarea"),ym.id="$VxeCopy";const e=ym.style;e.width="48px",e.height="24px",e.position="fixed",e.zIndex="0",e.left="-500px",e.top="-500px",document.body.appendChild(ym)}ym.value=e}(n),ym.select(),ym.setSelectionRange(0,ym.value.length),t=document.execCommand("copy"),ym.blur(),Cm.text=n,Cm.html=""}catch(n){}return t},getText:()=>Cm.text||""};function Em(e,t){let n=!0,o=!1;const l=t||Ip.permissionMethod;if(e&&l){n=!1,o=!0;let t=!1,r=!1;const a=String(e).split("|");for(let e=0;e<a.length;e++){let i=!0,s=!1;const c=l({code:a[e]});if(sp.isBoolean(c)?i=c:c&&(i=!!c.visible,s=!!c.disabled),s||r||(r=!0,o=s),i&&!t&&(t=!0,n=i),t&&r)break}}return{code:e,visible:n,disabled:o}}const Dm={getCheckInfo:e=>Em(e),checkVisible:e=>Em(e).visible,checkDisable:e=>Em(e).disabled},Tm=new gm;function Om(e){const t=n("xeSizeInfo",null),o=g((()=>e.size||(t?t.value:null)));return b("xeSizeInfo",o),{computeSize:o}}function km(e){return{computePermissionInfo:g((()=>Em(e.permissionCode,e.permissionMethod)))}}const Rm={useSize:Om,usePermission:km},Im=[];function Mm(e,t){return e&&e.install&&-1===Im.indexOf(e)&&(e.install($m,t),Im.push(e)),$m}const Pm={};function Fm(e){return Pm[e]||null}function Vm(e){e&&e.name&&(Pm[e.name]=e,Pm[sp.kebabCase(e.name)]=e)}function Am(){return x()}const $m=Object.assign(xt,{renderEmptyElement:Am,setTheme:Pp,getTheme:Fp,setConfig:Vp,getConfig:Ap,setIcon:Lp,getIcon:_p,setLanguage:rm,hasLanguage:im,getLanguage:sm,setI18n:am,getI18n:lm,globalEvents:Kp,GLOBAL_EVENT_KEYS:Bp,createEvent:Gp,globalResize:em,renderer:mm,validators:fm,menus:hm,formats:vm,commands:bm,interceptor:wm,clipboard:Sm,log:dm,permission:Dm,globalStore:$p,hooks:Tm,component:Vm,getComponent:Fm,useFns:Rm,use:Mm});Pp();let Nm;const Lm=m({modals:[],drawers:[],globalLoading:null,globalWatermark:null}),_m=w(p({setup(){const e=$m.getComponent("VxeModal"),t=$m.getComponent("VxeDrawer"),n=$m.getComponent("VxeLoading"),o=$m.getComponent("VxeWatermark");return()=>{const{modals:l,drawers:r,globalWatermark:a,globalLoading:i}=Lm;return[l.length?y("div",{key:1,class:"vxe-dynamics--modal"},l.map((t=>y(e,t)))):x(),r.length?y("div",{key:2,class:"vxe-dynamics--drawer"},r.map((e=>y(t,e)))):x(),a?y(o,a):x(),i?y(n,i):x()]}}}));function Bm(){Nm||(Nm=document.createElement("div"),Nm.className="vxe-dynamics",document.body.appendChild(Nm),_m.mount(Nm))}const zm="ui v4.6.21",jm=dm.create("warn",zm),Hm=dm.create("error",zm),Wm="4.6.21";function qm(e){return jm("vxe.error.delFunc",["config","setConfig"]),Vp(e)}function Um(e){return jm("vxe.error.delFunc",["setup","setConfig"]),Vp(e)}$m.uiVersion=Wm,$m.dynamicApp=_m,$m.config=qm,$m.setup=Um,Vp({alert:{},anchor:{},anchorLink:{},avatar:{},badge:{},breadcrumb:{separator:"/"},breadcrumbItem:{},button:{trigger:"hover",prefixTooltip:{enterable:!0},suffixTooltip:{enterable:!0}},buttonGroup:{},calendar:{minDate:new Date(1900,0,1),maxDate:new Date(2100,0,1),startDay:1,selectDay:1},card:{border:!0,padding:!0},carousel:{height:200,loop:!0,interval:5e3},carouselItem:{},checkbox:{},checkboxGroup:{},col:{},collapse:{padding:!0,expandConfig:{showIcon:!0}},collapsePane:{},countdown:{},colorPicker:{type:"hex",clearable:!0,showAlpha:!0,clickToCopy:!0,showColorExtractor:!0,showQuick:!0},datePanel:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1},datePicker:{shortcutConfig:{align:"left",mode:"text",autoClose:!0},startDay:1,selectDay:1,autoClose:!0,showClearButton:null,showConfirmButton:null},dateRangePicker:{shortcutConfig:{align:"left",mode:"text",autoClose:!0},startDay:1,selectDay:1,separator:" ~ ",autoClose:!0,showClearButton:null,showConfirmButton:null},drawer:{position:"right",showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0,padding:!0,cancelClosable:!0,confirmClosable:!0},empty:{},form:{validConfig:{showMessage:!0,autoPos:!0,theme:"beautify"},tooltipConfig:{enterable:!0},titleAsterisk:!0,titleOverflow:!1,padding:!0},formDesign:{height:400,showHeader:!0,showPc:!0},formGather:{},formGroup:{},formItem:{},formView:{},icon:{},iconPicker:{icons:["home","company","comment","setting","send","envelope","envelope-open","bell","search","print","pc","goods","chart-line","edit","delete","save","folder","microphone","flag","link","location","sunny","rmb","usd","user","add-user","add-users","star","unlock","time","text","feedback","calendar","association-form","cloud-download","cloud-upload","file","subtable","chart-bar-x","chart-bar-y","chart-line","chart-pie","chart-radar"]},image:{showPreview:!0,showPrintButton:!0,maskClosable:!0},imageGroup:{showPreview:!0,showPrintButton:!0},imagePreview:{showPrintButton:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},layoutAside:{},layoutBody:{},layoutContainer:{},layoutFooter:{},layoutHeader:{},link:{underline:!0},listDesign:{height:400,showPc:!0},listView:{},list:{virtualYConfig:{enabled:!0,gt:100}},loading:{showIcon:!0,showText:!0},modal:{top:16,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,padding:!0,draggable:!0,showConfirmButton:null,cancelClosable:!0,confirmClosable:!0,zoomConfig:{minimizeMaxSize:10,minimizeVerticalOffset:{top:-24,left:0},minimizeHorizontalOffset:{top:0,left:32}},storageKey:"VXE_MODAL_POSITION"},noticeBar:{},numberInput:{digits:2,autoFill:!0,controlConfig:{enabled:!0,layout:"right",showButton:!0,isWheel:!0}},optgroup:{},option:{},pager:{pageSizePlacement:"top"},print:{pageStyle:{}},passwordInput:{controls:!0},printPageBreak:{},pulldown:{destroyOnClose:!0},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},rate:{},result:{},row:{},select:{multiCharOverflow:8,remoteConfig:{enabled:!0,autoLoad:!0},virtualYConfig:{enabled:!0,gt:100,oSize:2}},split:{resize:!0,itemConfig:{minWidth:40,minHeight:40}},splitPane:{},slider:{max:100,min:0},steps:{},switch:{},tabPane:{},tableSelect:{gridConfig:{showOverflow:!0,showHeaderOverflow:!0,showFooterOverflow:!0,rowConfig:{isHover:!0},virtualXConfig:{enabled:!0,gt:0},virtualYConfig:{enabled:!0,gt:0}}},tabs:{},tag:{},textEllipsis:{underline:!0},text:{},textarea:{resize:"none"},tip:{},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300,isArrow:!0},tree:{indent:20,minHeight:60,radioConfig:{strict:!0}},treeSelect:{treeConfig:{radioConfig:{},checkboxConfig:{}}},upload:{mode:"all",imageTypes:["jpg","jpeg","png","gif"],showList:!0,showUploadButton:!0,showButtonText:!0,showRemoveButton:!0,showButtonIcon:!0,showPreview:!0,dragToUpload:!0,showLimitSize:!0,showLimitCount:!0},watermark:{rotate:-30,gap:[100,100]},table:{},colgroup:{},column:{},toolbar:{},grid:{}});const Gm="vxe-icon-";function Km(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function Ym(e){switch(e){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function Xm(e){switch(e){case"input":case"textarea":case"VxeInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function Zm(e){return sp.isArray(e)?e:e?[e]:[]}Lp({LOADING:Gm+"spinner roll vxe-loading--default-icon",BUTTON_DROPDOWN:Gm+"arrow-down",BUTTON_LOADING:Gm+"spinner roll",BUTTON_TOOLTIP_ICON:Gm+"question-circle-fill",MENU_ITEM_EXPAND_OPEN:Gm+"arrow-down rotate180",MENU_ITEM_EXPAND_CLOSE:Gm+"arrow-down",SELECT_LOADED:Gm+"spinner roll",SELECT_OPEN:Gm+"caret-down rotate180",SELECT_CLOSE:Gm+"caret-down",ADD_OPTION:Gm+"add",ICON_PICKER_OPEN:Gm+"caret-down rotate180",ICON_PICKER_CLOSE:Gm+"caret-down",PAGER_HOME:Gm+"home-page",PAGER_END:Gm+"end-page",PAGER_JUMP_PREV:Gm+"arrow-double-left",PAGER_JUMP_NEXT:Gm+"arrow-double-right",PAGER_PREV_PAGE:Gm+"arrow-left",PAGER_NEXT_PAGE:Gm+"arrow-right",PAGER_JUMP_MORE:Gm+"ellipsis-h",RADIO_CHECKED:Gm+"radio-checked-fill",RADIO_UNCHECKED:Gm+"radio-unchecked",CHECKBOX_INDETERMINATE:Gm+"checkbox-indeterminate-fill",CHECKBOX_CHECKED:Gm+"checkbox-checked-fill",CHECKBOX_UNCHECKED:Gm+"checkbox-unchecked",INPUT_CLEAR:Gm+"error-circle-fill",INPUT_SEARCH:Gm+"search",INPUT_PLUS_NUM:Gm+"caret-up",INPUT_MINUS_NUM:Gm+"caret-down",NUMBER_INPUT_MINUS_NUM:Gm+"minus",NUMBER_INPUT_PLUS_NUM:Gm+"add",DATE_PICKER_DATE:Gm+"calendar",PASSWORD_INPUT_SHOW_PWD:Gm+"eye-fill-close",PASSWORD_INPUT_HIDE_PWD:Gm+"eye-fill",MODAL_ZOOM_MIN:Gm+"minus",MODAL_ZOOM_REVERT:Gm+"recover",MODAL_ZOOM_IN:Gm+"square",MODAL_ZOOM_OUT:Gm+"maximize",MODAL_CLOSE:Gm+"close",MODAL_INFO:Gm+"info-circle-fill",MODAL_SUCCESS:Gm+"success-circle-fill",MODAL_WARNING:Gm+"warning-circle-fill",MODAL_ERROR:Gm+"error-circle-fill",MODAL_QUESTION:Gm+"question-circle-fill",MODAL_LOADING:Gm+"spinner roll",DRAWER_CLOSE:Gm+"close",FORM_PREFIX:Gm+"question-circle-fill",FORM_SUFFIX:Gm+"question-circle-fill",FORM_FOLDING:Gm+"arrow-up rotate180",FORM_UNFOLDING:Gm+"arrow-up",FORM_DESIGN_STYLE_SETTING:Gm+"layout",FORM_DESIGN_PROPS_PC:Gm+"pc",FORM_DESIGN_PROPS_MOBILE:Gm+"mobile",FORM_DESIGN_PROPS_ADD:Gm+"add",FORM_DESIGN_PROPS_EDIT:Gm+"edit",FORM_DESIGN_WIDGET_ADD:Gm+"square-plus-fill",FORM_DESIGN_WIDGET_COPY:Gm+"copy",FORM_DESIGN_WIDGET_DELETE:Gm+"delete",FORM_DESIGN_WIDGET_SWAP_LR:Gm+"swap",FORM_DESIGN_WIDGET_OPTION_DELETE:Gm+"delete",FORM_DESIGN_WIDGET_OPTION_EXPAND_OPEN:Gm+"square-plus",FORM_DESIGN_WIDGET_OPTION_EXPAND_CLOSE:Gm+"square-minus",LIST_DESIGN_FIELD_SETTING:Gm+"custom-column",LIST_DESIGN_LIST_SETTING:Gm+"menu",LIST_DESIGN_LIST_SETTING_SEARCH_DELETE:Gm+"delete",LIST_DESIGN_LIST_SETTING_ACTIVE_DELETE:Gm+"delete",UPLOAD_FILE_ERROR:Gm+"warning-circle-fill",UPLOAD_FILE_ADD:Gm+"upload",UPLOAD_FILE_REMOVE:Gm+"delete",UPLOAD_FILE_DOWNLOAD:Gm+"download",UPLOAD_IMAGE_RE_UPLOAD:Gm+"repeat",UPLOAD_IMAGE_ADD:Gm+"add",UPLOAD_IMAGE_REMOVE:Gm+"close",UPLOAD_LOADING:Gm+"spinner roll vxe-loading--default-icon",UPLOAD_FILE_TYPE_DEFAULT:Gm+"file",UPLOAD_FILE_TYPE_XLSX:Gm+"file-excel",UPLOAD_FILE_TYPE_XLS:Gm+"file-excel",UPLOAD_FILE_TYPE_PDF:Gm+"file-pdf",UPLOAD_FILE_TYPE_PNG:Gm+"file-image",UPLOAD_FILE_TYPE_GIF:Gm+"file-image",UPLOAD_FILE_TYPE_JPG:Gm+"file-image",UPLOAD_FILE_TYPE_JPEG:Gm+"file-image",UPLOAD_FILE_TYPE_MD:Gm+"file-markdown",UPLOAD_FILE_TYPE_PPD:Gm+"file-ppt",UPLOAD_FILE_TYPE_DOCX:Gm+"file-word",UPLOAD_FILE_TYPE_DOC:Gm+"file-word",UPLOAD_FILE_TYPE_ZIP:Gm+"file-zip",UPLOAD_FILE_TYPE_TXT:Gm+"file-txt",IMAGE_PREVIEW_CLOSE:Gm+"close",IMAGE_PREVIEW_PREVIOUS:Gm+"arrow-left",IMAGE_PREVIEW_NEXT:Gm+"arrow-right",IMAGE_PREVIEW_PCT_FULL:Gm+"pct-full",IMAGE_PREVIEW_PCT_1_1:Gm+"pct-1-1",IMAGE_PREVIEW_ZOOM_OUT:Gm+"search-zoom-out",IMAGE_PREVIEW_ZOOM_IN:Gm+"search-zoom-in",IMAGE_PREVIEW_ROTATE_LEFT:Gm+"rotate-left",IMAGE_PREVIEW_ROTATE_RIGHT:Gm+"rotate-right",IMAGE_PREVIEW_PRINT:Gm+"print",IMAGE_PREVIEW_DOWNLOAD:Gm+"download",ALERT_CLOSE:Gm+"close",ALERT_INFO:Gm+"info-circle-fill",ALERT_SUCCESS:Gm+"success-circle-fill",ALERT_WARNING:Gm+"warning-circle-fill",ALERT_ERROR:Gm+"error-circle-fill",TREE_NODE_OPEN:Gm+"caret-right rotate90",TREE_NODE_CLOSE:Gm+"caret-right",TREE_NODE_LOADED:Gm+"spinner roll",TREE_SELECT_LOADED:Gm+"spinner roll",TREE_SELECT_OPEN:Gm+"caret-down rotate180",TREE_SELECT_CLOSE:Gm+"caret-down",TABLE_SELECT_LOADED:Gm+"spinner roll",TABLE_SELECT_OPEN:Gm+"caret-down rotate180",TABLE_SELECT_CLOSE:Gm+"caret-down",TABS_TAB_BUTTON_LEFT:Gm+"arrow-left",TABS_TAB_BUTTON_RIGHT:Gm+"arrow-right",TABS_TAB_CLOSE:Gm+"close",TABS_TAB_REFRESH:Gm+"refresh",TABS_TAB_REFRESH_LOADING:Gm+"refresh roll",TEXT_COPY:Gm+"copy",TEXT_LOADING:Gm+"spinner roll",CAROUSEL_HORIZONTAL_PREVIOUS:Gm+"arrow-left",CAROUSEL_HORIZONTAL_NEXT:Gm+"arrow-right",CAROUSEL_VERTICAL_PREVIOUS:Gm+"arrow-up",CAROUSEL_VERTICAL_NEXT:Gm+"arrow-down",COLLAPSE_OPEN:Gm+"arrow-right rotate90",COLLAPSE_CLOSE:Gm+"arrow-right",EMPTY_DEFAULT:Gm+"empty",RESULT_INFO:Gm+"info-circle-fill",RESULT_SUCCESS:Gm+"success-circle-fill",RESULT_WARNING:Gm+"warning-circle-fill",RESULT_ERROR:Gm+"error-circle-fill",RESULT_QUESTION:Gm+"question-circle-fill",RESULT_LOADING:Gm+"spinner roll",RATE_CHECKED:Gm+"star-fill",RATE_UNCHECKED:Gm+"star",COLOR_COPY:Gm+"copy",EYE_DROPPER:Gm+"dropper",SPLIT_TOP_ACTION:Gm+"arrow-up",SPLIT_BOTTOM_ACTION:Gm+"arrow-down",SPLIT_LEFT_ACTION:Gm+"arrow-left",SPLIT_RIGHT_ACTION:Gm+"arrow-right"});const Qm=p({name:"VxeAlert",props:{title:{type:[String,Number],default:()=>Ap().alert.title},content:[String,Number],status:String,showIcon:Boolean,showClose:Boolean,icon:{type:String,default:()=>Ap().alert.icon}},emits:["close"],setup(e,t){const{emit:n,slots:o}=t,l=sp.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent(e,t,o){n(e,Gp(o,{$alert:u},t))}},p=e=>{d.dispatchEvent("close",{},e)};Object.assign(u,d,{});return u.renderVN=()=>{const{status:t,content:n,icon:l,title:r,showIcon:i,showClose:s}=e,c=o.default,u=o.title,d=o.icon;return y("div",{ref:a,class:["vxe-alert",{[`theme--${t}`]:t}]},[d||i&&t||l?y("div",{class:"vxe-alert--icon"},d?Zm(d({})):[y("i",{class:l||_p()[`ALERT_${null==t?void 0:t.toUpperCase()}`]})]):Am(),y("div",{class:"vxe-alert--body"},[u||r?y("div",{class:"vxe-alert--title"},u?Zm(u({})):sp.toValueString(r)):Am(),y("div",{class:"vxe-alert--content"},c?Zm(c({})):sp.toValueString(n))]),s?y("div",{class:"vxe-alert--close-btn",onClick:p},[y("i",{class:_p().ALERT_CLOSE})]):Am()])},u},render(){return this.renderVN()}}),Jm=Object.assign({},Qm,{install(e){e.component(Qm.name,Qm)}});_m.use(Jm),$m.component(Qm);const eg=Jm;let tg;function ng(){return tg||(tg=new Image,tg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),tg}const og={};function lg(e){return og[e]||(og[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),og[e]}function rg(e,t,n){if(e){const o=e.parentNode;if(n.top+=e.offsetTop,n.left+=e.offsetLeft,o&&o!==document.documentElement&&o!==document.body&&(n.top-=o.scrollTop,n.left-=o.scrollLeft),(!t||e!==t&&e.offsetParent!==t)&&e.offsetParent)return rg(e.offsetParent,t,n)}return n}function ag(e){return e&&/^\d+%$/.test(e)}function ig(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(lg(t)))}function sg(e,t){e&&ig(e,t)&&(e.className=e.className.replace(lg(t),""))}function cg(e,t){e&&!ig(e,t)&&(sg(e,t),e.className=`${e.className} ${t}`)}function ug(e){return e.ctrlKey||e.metaKey}function dg(e,t="px"){return sp.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function pg(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function mg(e,t,n,o){let l,r=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;r&&r.nodeType&&r!==document;){if(n&&ig(r,n))l=r;else if(r===t)return{flag:!n||!!l,container:t,targetElem:l};r=r.parentNode}return{flag:!1}}function gg(e,t){return rg(e,t,{left:0,top:0})}function fg(e){const t=e.getBoundingClientRect(),n=t.top,o=t.left,{scrollTop:l,scrollLeft:r,visibleHeight:a,visibleWidth:i}=pg();return{boundingTop:n,top:l+n,boundingLeft:o,left:r+o,visibleHeight:a,visibleWidth:i}}const hg="scrollIntoViewIfNeeded",vg="scrollIntoView";function bg(e,t,n){const{placement:o,teleportTo:l,marginSize:r}=Object.assign({teleportTo:!1,marginSize:5},n);let a="bottom",i="",s="",c="";let u="";const d={};if(t&&e){const n=document.documentElement,p=document.body,m=e.offsetHeight,g=t.offsetHeight,f=t.offsetWidth,h=e.getBoundingClientRect(),v=h.top,b=h.left,x=n.clientHeight||p.clientHeight,w=n.clientWidth||p.clientWidth;u=e.offsetWidth,l?(c=b,i=v+m,"top"===o?(a="top",i=v-g):o||(i+g+r>x&&(a="top",i=v-g),i<r&&(a="bottom",i=v+m)),c+f+r>w&&(c-=c+f+r-w),c<r&&(c=r)):"top"===o?(a="top",s=m):o||(i=m,v+m+g>x&&v-m-g>r&&(a="top",i="",s=m)),sp.isNumber(i)&&(d.top=dg(i)),sp.isNumber(s)&&(d.bottom=dg(s)),sp.isNumber(c)&&(d.left=dg(c)),sp.isNumber("")&&(d.right=dg("")),sp.isNumber(u)&&(d.minWidth=dg(u))}return{top:i||0,bottom:s||0,left:c||0,right:0,style:d,placement:a}}const xg=p({name:"VxeAnchorLink",props:{content:[String,Number],title:[String,Number],href:String},emits:[],setup(e,t){const{slots:o}=t,l=n("$xeAnchor",null),a=n("$xeAnchorLink",null),s=sp.uniqueId(),c=r(),u=m({}),d=m({id:s,href:e.href,children:[]}),p={refElem:c},v=g((()=>{const{href:t}=e;return l?l.reactData.activeHref===t:null})),x={},w={xID:s,props:e,context:t,reactData:u,linkConfig:d,getRefMaps:()=>p,getComputeMaps:()=>x},C=t=>{const{href:n}=e;l&&l.handleClickLink(t,n)};i((()=>e.href),(e=>{d.href=e})),f((()=>{const e=c.value;l&&e&&function(e,t,n,o){const l=e.reactData.staticLinks,r=t.parentNode,a=o?o.linkConfig:null,i=a?a.children:l;r&&i&&(i.splice(sp.arrayIndexOf(r.children,t),0,n),e.reactData.staticLinks=l.slice(0))}(l,e,d,a)})),h((()=>{l&&function(e,t){const n=e.reactData.staticLinks,o=sp.findTree(n,(e=>e.id===t.id),{children:"children"});o&&o.items.splice(o.index,1),e.reactData.staticLinks=n.slice(0)}(l,d)}));return b("$xeAnchorLink",w),w.renderVN=()=>{const{href:t,content:n,title:l}=e,r=o.default,a=o.sub,i=v.value;return y("div",{ref:c,class:["vxe-anchor-link",{"is--active":i}]},[y("a",{class:"vxe-anchor-link--item",href:t,title:l,onClick:C},r?r({}):sp.toValueString(n)),a?y("div",{class:"vxe-anchor-link--sub-items"},a({})):Am()])},w},render(){return this.renderVN()}}),wg=p({name:"VxeAnchor",props:{modelValue:String,options:Array,container:[String,Object,Function],showMarker:{type:Boolean,default:!0}},emits:["update:modelValue","change","click"],setup(e,n){const{slots:o,emit:l}=n,a=sp.uniqueId(),c=r(),u=r(),d=m({activeHref:null,staticLinks:[],containerElem:null}),p={refElem:c},h=g((()=>{const e=[];return sp.eachTree(d.staticLinks,(t=>{e.push(t.href||"")}),{children:"children"}),e})),v={},x={xID:a,props:e,context:n,reactData:d,getRefMaps:()=>p,getComputeMaps:()=>v},w={dispatchEvent(e,t,n){l(e,Gp(n,{$anchor:x},t))}},C=()=>{const e=h.value,{containerElem:t}=d;if(t){const n=t.querySelectorAll(e.map((e=>`${e}`)).join(","));for(let e=0;e<n.length;e++){const t=n[e];if(t.getBoundingClientRect().top>0){const e=t.id;d.activeHref=`#${e}`;break}}}},S=()=>{const{containerElem:e}=d;e&&e.removeEventListener("scroll",C)},E=()=>{const t=(()=>{const{container:t}=e;if(t){if(sp.isElement(t))return t;if(sp.isString(t))return document.querySelector(t);if(sp.isFunction(t))return t({$anchor:x})}return null})();d.containerElem=t,t&&t.addEventListener("scroll",C,{passive:!1})},D={handleClickLink(e,t){e.preventDefault();const n=document.getElementById(`${t}`.replace("#",""));var o;n&&n.scrollIntoView({behavior:"smooth"}),o=t,d.activeHref=o,l("update:modelValue",o),w.dispatchEvent("click",{href:t},e)}};Object.assign(x,w,D);const T=e=>{const t=[];return e&&e.forEach((e=>{const n=e.children;n&&n.length?t.push(y(xg,{content:e.content,title:e.title,href:e.href},{sub:()=>T(n)})):t.push(y(xg,{content:e.content,title:e.title,href:e.href}))})),t};return i((()=>e.modelValue),(e=>{d.activeHref=e})),i((()=>d.activeHref),(()=>{t((()=>{const{activeHref:e}=d,t=c.value,n=u.value;if(t&&n&&e){const o=t.querySelector(`[href="${e}"]`);if(o){const{top:e}=gg(o,t);n.style.top=`${e}px`}}}))})),i((()=>e.container),(()=>{S(),E()})),f((()=>{t((()=>{E()}))})),s((()=>{S()})),b("$xeAnchor",x),x.renderVN=()=>{const{options:t,showMarker:n}=e,l=o.default;return y("div",{ref:c,class:["vxe-anchor",{"is--marker":n}]},[y("div",{class:"vxe-anchor--list"},l?l({}):T(t)),n?y("div",{ref:u,class:"vxe-anchor--marker"}):Am()])},x},render(){return this.renderVN()}}),yg=Object.assign({},wg,{install(e){e.component(wg.name,wg)}});_m.use(yg),$m.component(wg);const Cg=yg,Sg=Object.assign({},xg,{install(e){e.component(xg.name,xg)}});_m.use(Sg),$m.component(xg);const Eg=Sg,Dg=p({name:"VxeAvatar",props:{count:[String,Number],dot:Boolean,content:[String,Number],icon:String,src:String,width:[String,Number],height:[String,Number],circle:{type:Boolean,default:()=>Ap().avatar.circle},status:{type:String,default:()=>Ap().avatar.status},size:{type:String,default:()=>Ap().avatar.size||Ap().size}},emits:[],setup(e,t){const{emit:n}=t,o=sp.uniqueId(),{computeSize:l}=Om(e),a=r(),i=m({}),s={refElem:a},c=g((()=>{const{width:t,height:n}=e,o={};return t&&(o.width=dg(t)),n&&(o.height=dg(n)),o})),u=g((()=>{const{count:t}=e;return t?sp.toNumber(t):0})),d={},p={xID:o,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>d},f={dispatchEvent:(e,t,o)=>{n(e,Gp(o,{$avatar:p},t))}};Object.assign(p,f,{});const h=()=>{const{icon:t,content:n,src:o}=e;return t?y("span",{class:"vxe-avatar--icon"},[y("i",{class:t})]):n?y("span",{class:"vxe-avatar--content"},`${n}`):o?y("img",{class:"vxe-avatar--img",src:o}):Am()};return p.renderVN=()=>{const{circle:t,dot:n,status:o}=e,r=l.value,i=u.value,s=c.value;return y("div",{ref:a,class:["vxe-avatar",{[`size--${r}`]:r,[`theme--${o}`]:o,"is--circle":t,"is--dot":n}],style:s},[h(),i?y("span",{class:"vxe-avatar--count"},i>99?"99+":`${i}`):Am()])},p},render(){return this.renderVN()}}),Tg=Object.assign({},Dg,{install(e){e.component(Dg.name,Dg)}});_m.use(Tg),$m.component(Dg);const Og=Tg,kg=p({name:"VxeBadge",props:{count:[String,Number],dot:Boolean,content:[String,Number],size:{type:String,default:()=>Ap().badge.size||Ap().size}},emits:[],setup(e,t){const{emit:n,slots:o}=t,l=sp.uniqueId(),a=r(),{computeSize:i}=Om(e),s=m({}),c={refElem:a},u=g((()=>{const{count:t}=e;return t?sp.toNumber(t):0})),d={},p={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>d},f={dispatchEvent:(e,t,o)=>{n(e,Gp(o,{$badge:p},t))}};Object.assign(p,f,{});return p.renderVN=()=>{const{dot:t,content:n}=e,l=i.value,r=u.value,s=o.default;return y("div",{ref:a,class:["vxe-badge",{[`size--${l}`]:l,"is--dot":t}]},[s||n?y("div",{class:"vxe-badge--content"},s?s({}):`${n||""}`):[],r?y("span",{class:"vxe-badge--count"},r>99?"99+":`${r}`):Am()])},p},render(){return this.renderVN()}}),Rg=Object.assign({},kg,{install(e){e.component(kg.name,kg)}});_m.use(Rg),$m.component(kg);const Ig=Rg,Mg=p({name:"VxeBreadcrumbItem",props:{title:String,routerLink:Object},emits:[],setup(e,t){const{slots:o}=t,l=sp.uniqueId(),a=r(),i=n("$xeBreadcrumb",null),s=m({}),c={refElem:a},u=g((()=>i?i.props.separator:"")),d=t=>{if(i){const n={title:e.title,routerLink:e.routerLink};i.handleClickLink(t,n)}},p={},f={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>p};return f.renderVN=()=>{const{title:t,routerLink:n}=e,l=u.value,r=o.default;return y("span",{ref:a,class:"vxe-breadcrumb-item",onClick:d},[y("span",{class:"vxe-breadcrumb-item--content"},[n?y(C("router-link"),{class:"vxe-breadcrumb-item--content-link",title:t,to:n},{default:()=>y("span",{class:"vxe-breadcrumb-item--content-text"},r?r({}):`${t||""}`)}):y("span",{class:"vxe-breadcrumb-item--content-text"},r?r({}):`${t||""}`)]),l?y("span",{class:"vxe-breadcrumb-item--separator"},`${l}`):Am()])},f},render(){return this.renderVN()}}),Pg=p({name:"VxeBreadcrumb",props:{separator:{type:String,default:()=>Ap().breadcrumb.separator},options:Array},emits:["click"],setup(e,t){const{emit:n,slots:o}=t,l=sp.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent(e,t,o){n(e,Gp(o,{$breadcrumb:u},t))}},p={handleClickLink(e,t){d.dispatchEvent("click",{option:t},e)}};Object.assign(u,d,p);return b("$xeBreadcrumb",u),u.renderVN=()=>{const t=o.default;return y("div",{ref:a,class:"vxe-breadcrumb"},t?t({}):(()=>{const{options:t}=e;return t&&t.length?t.map((e=>y(Mg,{title:e.title,routerLink:e.routerLink}))):[]})())},u},render(){return this.renderVN()}}),Fg=Object.assign({},Pg,{install(e){e.component(Pg.name,Pg)}});_m.use(Fg),$m.component(Pg);const Vg=Fg,Ag=Object.assign({},Mg,{install(e){e.component(Mg.name,Mg)}});_m.use(Ag),$m.component(Mg);const $g=Ag;function Ng(e){return e&&!1!==e.enabled}function Lg(){return Rp.getNext()}function _g(){return Rp.getCurrent()}function Bg(e,t){return sp.eqNull(e)?t:e}function zg(e,t){if(e){const n=Ap().translate;return sp.toValueString(n?n(""+e,t):e)}return""}function jg(e){return null==e||""===e}function Hg(e){return sp.isBoolean(e)?e:null}const Wg=p({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>Ap().tooltip.size||Ap().size},selector:String,trigger:{type:String,default:()=>Ap().tooltip.trigger||"hover"},theme:{type:String,default:()=>Ap().tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],isArrow:{type:Boolean,default:()=>Ap().tooltip.isArrow},enterable:{type:Boolean,default:()=>Ap().tooltip.enterable},enterDelay:{type:Number,default:()=>Ap().tooltip.enterDelay},leaveDelay:{type:Number,default:()=>Ap().tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,n){const{slots:o,emit:l}=n,a=sp.uniqueId(),{computeSize:c}=Om(e),u=m({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),d={},p=r(),g={refElem:p},h={xID:a,props:e,context:n,reactData:u,internalData:d,getRefMaps:()=>g};let v={};const b=()=>{const{tipTarget:e,tipStore:t}=u;if(e){const{scrollTop:n,scrollLeft:o,visibleWidth:l}=pg(),{top:r,left:a}=fg(e),i=p.value,s=6,c=i.offsetHeight,u=i.offsetWidth;let d=a,m=r-c-s;d=Math.max(s,a+Math.floor((e.offsetWidth-u)/2)),d+u+s>o+l&&(d=o+l-u-s),r-c<n+s&&(t.placement="bottom",m=r+e.offsetHeight+s),t.style.top=`${m}px`,t.style.left=`${d}px`,t.arrowStyle.left=a-d+e.offsetWidth/2+"px"}},x=e=>{e!==u.visible&&(u.visible=e,u.isUpdate=!0,l("update:modelValue",e))},w=()=>{u.visible?v.close():k(u.target||R(),e.content)},C=()=>{k(u.target||R(),e.content)},S=()=>{const{trigger:t,enterable:n,leaveDelay:o}=e;u.tipActive=!1,n&&"hover"===t?setTimeout((()=>{u.tipActive||v.close()}),o):v.close()},E=()=>{u.tipActive=!0},D=()=>{const{trigger:t,enterable:n,leaveDelay:o}=e;u.tipActive=!1,n&&"hover"===t&&setTimeout((()=>{u.tipActive||v.close()}),o)},T=()=>{const{tipStore:t}=u,n=p.value;if(n){n.parentNode||document.body.appendChild(n)}return x(!0),u.tipZindex<_g()&&(u.tipZindex=Lg()),t.placement="top",t.style={width:"auto",left:0,top:0,zIndex:e.zIndex||u.tipZindex},t.arrowStyle={left:"50%"},v.updatePlacement()},O=()=>{d.showDelayTip=sp.debounce((()=>{u.tipActive&&T()}),e.enterDelay,{leading:!1,trailing:!0})},k=(n,l)=>{if(!o.content&&(""===l||sp.eqNull(l)))return t();if(n){const{showDelayTip:t}=d,{trigger:o,enterDelay:r}=e;if(u.tipActive=!0,u.tipTarget=n,u.tipContent=l,!r||"hover"!==o)return T();t&&t()}return t()},R=()=>{const{selector:t}=e;if(t){if(sp.isElement(t))return t;if(sp.isString(t))return document.querySelector(t)}return null};v={dispatchEvent(e,t,n){l(e,Gp(n,{$tooltip:h},t))},open:(e,t)=>k(e||u.target||R(),t),close:()=>(u.tipTarget=null,u.tipActive=!1,Object.assign(u.tipStore,{style:{},placement:"",arrowStyle:null}),x(!1),t()),toVisible:(e,t)=>k(e,t),updatePlacement:()=>t().then((()=>{const{tipTarget:e}=u,n=p.value;if(e&&n)return b(),t().then((()=>{b()}))})),isActived:()=>u.tipActive,setActived(e){u.tipActive=!!e}},Object.assign(h,v);const I=()=>{const{useHTML:t}=e,{tipContent:n}=u,l=o.content;return l?y("div",{key:1,class:"vxe-tooltip--content"},Zm(l({}))):t?y("div",{key:2,class:"vxe-tooltip--content",innerHTML:n}):y("div",{key:3,class:"vxe-tooltip--content"},`${n}`)};return i((()=>e.enterDelay),(()=>{O()})),i((()=>e.content),(e=>{u.tipContent=e})),i((()=>e.modelValue),(t=>{u.isUpdate||(t?k(u.target||R(),e.content):v.close()),u.isUpdate=!1})),f((()=>{t((()=>{const{trigger:t,content:n}=e,o=p.value;if(o){const l=o.parentNode;if(l){u.tipContent=n,u.tipZindex=Lg(),sp.arrayEach(o.children,((e,t)=>{t>1&&(l.insertBefore(e,o),u.target||(u.target=e))})),l.removeChild(o);const{target:r}=u;r&&("hover"===t?(r.onmouseenter=C,r.onmouseleave=S):"click"===t&&(r.onclick=w)),e.modelValue&&k(r||R(),n)}}}))})),s((()=>{const{target:e}=u,t=p.value;if(e&&(e.onmouseenter=null,e.onmouseleave=null,e.onclick=null),t){const e=t.parentNode;e&&e.removeChild(t)}})),O(),h.renderVN=()=>{const{popupClassName:t,theme:n,isArrow:l,enterable:r}=e,{tipActive:a,visible:i,tipStore:s}=u,d=o.default,m=c.value;let g;return r&&(g={onMouseenter:E,onMouseleave:D}),y("div",Object.assign({ref:p,class:["vxe-tooltip--wrapper",`theme--${n}`,t?sp.isFunction(t)?t({$tooltip:h}):t:"",{[`size--${m}`]:m,[`placement--${s.placement}`]:s.placement,"is--enterable":r,"is--visible":i,"is--arrow":l,"is--active":a}],style:s.style},g),[I(),y("div",{class:"vxe-tooltip--arrow",style:s.arrowStyle}),...d?Zm(d({})):[]])},h},render(){return this.renderVN()}}),qg=p({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>Ap().button.size||Ap().size},name:[String,Number],routerLink:Object,permissionCode:[String,Number],content:String,placement:String,status:String,title:String,icon:String,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,trigger:{type:String,default:()=>Ap().button.trigger},align:String,prefixTooltip:Object,suffixTooltip:Object,options:Array,destroyOnClose:{type:Boolean,default:()=>Ap().button.destroyOnClose},transfer:{type:Boolean,default:null}},emits:["click","mouseenter","mouseleave","dropdown-click","dropdownClick"],setup(e,o){const{slots:l,emit:a}=o,i=n("$xeModal",null),s=n("$xeDrawer",null),c=n("$xeTable",null),u=n("$xeForm",null),d=n("$xeButtonGroup",null),p=sp.uniqueId(),{computeSize:v}=Om(e),{computePermissionInfo:b}=km(e),x=m({initialized:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),w={showTime:void 0,tooltipTimeout:void 0},E=r(),D=r(),T=r(),O={refElem:E},k={xID:p,props:e,context:o,reactData:x,internalData:w,getRefMaps:()=>O};let R={};const I=g((()=>{const{transfer:t}=e;if(null===t){const e=Ap().button.transfer;if(sp.isBoolean(e))return e;if(c||i||s||u)return!0}return t})),M=g((()=>{const{disabled:t}=e,n=b.value;return t||n.disabled})),P=g((()=>{const{type:t}=e;return!!t&&["submit","reset","button"].indexOf(t)>-1})),F=g((()=>{const{type:t,mode:n}=e;return"text"===n||"text"===t||d&&"text"===d.props.mode?"text":"button"})),V=g((()=>{const{status:t}=e;return t||(d?d.props.status:"")})),A=g((()=>{const{align:t}=e;return t||!!d&&d.props.align})),$=g((()=>{const{round:t}=e;return t||!!d&&d.props.round})),N=g((()=>{const{circle:t}=e;return t||!!d&&d.props.circle})),L=g((()=>{const{options:t}=e;return t?t.filter((e=>{const{permissionCode:t}=e;return!t||Dm.checkVisible(t)})):[]})),_=g((()=>Object.assign({},e.prefixTooltip))),B=g((()=>Object.assign({},e.suffixTooltip))),z=()=>{const{placement:n}=e,{panelIndex:o}=x,l=D.value,r=T.value,a=I.value,i=()=>{const e=bg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});x.panelStyle=t,x.panelPlacement=e.placement};return i(),t().then(i)},j=t=>{d&&d.handleClick({name:e.name},t),ne("click",{$event:t},t)},H=e=>{0===e.button&&e.stopPropagation()},W=e=>{const t=e.currentTarget,n=T.value,{flag:o,targetElem:l}=mg(e,t,"vxe-button");o&&(n&&(n.dataset.active="N"),x.visiblePanel=!1,setTimeout((()=>{n&&"Y"===n.dataset.active||(x.isAniVisible=!1)}),350),ne("dropdown-click",{name:l.getAttribute("name"),option:null},e))},q=()=>{const e=T.value;e&&(e.dataset.active="Y",x.isAniVisible=!0,setTimeout((()=>{"Y"===e.dataset.active&&(x.visiblePanel=!0,x.panelIndex<_g()&&(x.panelIndex=Lg()),z(),setTimeout((()=>{x.visiblePanel&&z()}),50))}),20))},U=t=>{const{loading:n}=e;M.value||n||(Z(),K(t))},G=e=>{Q(),Y(e)},K=e=>{ne("mouseenter",{},e)},Y=e=>{ne("mouseleave",{},e)},X=t=>{const{loading:n,trigger:o}=e;M.value||n||("click"===o&&(x.visiblePanel?Q():Z()),j(t))},Z=()=>{const{trigger:n}=e,o=T.value;return o&&(o.dataset.active="Y",x.initialized||(x.initialized=!0),w.showTime=setTimeout((()=>{"Y"===o.dataset.active?q():x.isAniVisible=!1}),"click"===n?50:250)),t()},Q=()=>{const e=T.value;return clearTimeout(w.showTime),e?(e.dataset.active="N",setTimeout((()=>{"Y"!==e.dataset.active&&(x.visiblePanel=!1,setTimeout((()=>{"Y"!==e.dataset.active&&(x.isAniVisible=!1)}),350))}),100)):(x.isAniVisible=!1,x.visiblePanel=!1),t()},J=()=>{Q()},ee=(e,t)=>y(Wg,{useHTML:e.useHTML,content:e.content,enterable:e.enterable,theme:e.theme},{default:()=>y("i",{class:[`vxe-button--tooltip-${t}-icon`,e.icon||_p().BUTTON_TOOLTIP_ICON]})}),te=()=>{const{content:t,icon:n,loading:o,prefixTooltip:r,suffixTooltip:a}=e,i=_.value,s=B.value,c=l.icon,u=l.default,d=[];return r&&d.push(ee(i,"prefix")),o?d.push(y("i",{class:["vxe-button--loading-icon",_p().BUTTON_LOADING]})):c?d.push(y("span",{class:"vxe-button--custom-icon"},c({}))):n&&d.push(y("i",{class:["vxe-button--icon",n]})),u?d.push(y("span",{class:"vxe-button--content"},u({}))):t&&d.push(y("span",{class:"vxe-button--content"},zg(t))),a&&d.push(ee(s,"suffix")),d},ne=(e,t,n)=>{a(e,Gp(n,{$button:k},t))};R={dispatchEvent:ne,openPanel:Z,closePanel:Q,focus(){const e=D.value;return e&&e.focus(),t()},blur(){const e=D.value;return e&&e.blur(),t()}};const oe=e=>{const t=T.value;x.visiblePanel&&!mg(e,t).flag&&Q()},le=e=>{const t=M.value,{visiblePanel:n}=x;if(!t){const t=E.value,o=T.value;x.isActivated=mg(e,t).flag||mg(e,o).flag,n&&!x.isActivated&&Q()}};Object.assign(k,R);return k.renderVN=()=>{const{className:t,popupClassName:n,trigger:o,title:r,routerLink:a,type:i,destroyOnClose:s,name:c,loading:u}=e,{initialized:d,isAniVisible:p,visiblePanel:m}=x,g=P.value,f=F.value,h=V.value,w=$.value,O=A.value,R=N.value,_=I.value,B=M.value,z=b.value,Z=L.value,ee=v.value,oe=l.dropdowns;if(!z.visible)return Am();if(oe||Z.length){const e={},l={};return"hover"===o&&(e.onMouseenter=U,e.onMouseleave=G,l.onMouseenter=q,l.onMouseleave=J),y("div",{ref:E,class:["vxe-button--dropdown",t?sp.isFunction(t)?t({$button:k}):t:"",{[`size--${ee}`]:ee,"is--active":m}]},[a?y(C("router-link"),Object.assign({ref:D,class:["vxe-button","vxe-button--link",`type--${f}`,O?`align--${O}`:"",t?sp.isFunction(t)?t({$button:k}):t:"",{[`size--${ee}`]:ee,[`theme--${h}`]:h,"is--round":w,"is--circle":R,"is--disabled":B||u,"is--loading":u}],title:r,name:c,type:g?i:"button",disabled:B||u,to:a,onClick:X},e),{default:()=>te().concat([y("i",{class:`vxe-button--dropdown-arrow ${_p().BUTTON_DROPDOWN}`})])}):y("button",Object.assign({ref:D,class:["vxe-button",`type--${f}`,O?`align--${O}`:"",t?sp.isFunction(t)?t({$button:k}):t:"",{[`size--${ee}`]:ee,[`theme--${h}`]:h,"is--round":w,"is--circle":R,"is--disabled":B||u,"is--loading":u}],title:r,name:c,type:g?i:"button",disabled:B||u,onClick:X},e),te().concat([y("i",{class:`vxe-button--dropdown-arrow ${_p().BUTTON_DROPDOWN}`})])),y(S,{to:"body",disabled:!_||!d},[y("div",Object.assign({ref:T,class:["vxe-button--dropdown-panel",n?sp.isFunction(n)?n({$button:k}):n:"",{[`size--${ee}`]:ee,"is--transfer":_,"ani--leave":p,"ani--enter":m}],placement:x.panelPlacement,style:x.panelStyle},l),d&&(m||p)?[oe?y("div",{class:"vxe-button--dropdown-wrapper",onMousedown:H,onClick:W},d&&(!s||(m||p))?oe({}):[]):y("div",{class:"vxe-button--dropdown-wrapper"},d&&(!s||(m||p))?Z.map(((e,t)=>y(qg,{key:t,type:e.type,mode:e.mode||f,className:e.className,name:e.name,routerLink:e.routerLink,permissionCode:e.permissionCode,title:e.title,content:e.content,status:e.status,icon:e.icon,round:sp.isBoolean(e.round)?e.round:"text"!==f&&w,circle:sp.isBoolean(e.circle)?e.circle:"text"!==f&&R,disabled:e.disabled,loading:e.loading,align:e.align,onClick(t){((e,t)=>{const{$event:n}=e;Q(),ne("dropdown-click",{name:t.name,option:t},n)})(t,e)}}))):[])]:[])])])}return a?y(C("router-link"),{ref:D,class:["vxe-button","vxe-button--link",`type--${f}`,O?`align--${O}`:"",t?sp.isFunction(t)?t({$button:k}):t:"",{[`size--${ee}`]:ee,[`theme--${h}`]:h,"is--round":w,"is--circle":R,"is--disabled":B||u,"is--loading":u}],title:r,name:c,type:g?i:"button",disabled:B||u,to:a,onClick:j,onMouseenter:K,onMouseleave:Y},{default:()=>te()}):y("button",{ref:D,class:["vxe-button",`type--${f}`,O?`align--${O}`:"",t?sp.isFunction(t)?t({$button:k}):t:"",{[`size--${ee}`]:ee,[`theme--${h}`]:h,"is--round":w,"is--circle":R,"is--disabled":B||u,"is--loading":u}],title:r,name:c,type:g?i:"button",disabled:B||u,onClick:j,onMouseenter:K,onMouseleave:Y},te())},f((()=>{"text"===e.type&&jm("vxe.error.delProp",["type=text","mode=text"]),Kp.on(k,"mousewheel",oe),Kp.on(k,"mousedown",le)})),h((()=>{Kp.off(k,"mousewheel"),Kp.off(k,"mousedown")})),k},render(){return this.renderVN()}}),Ug=Object.assign({},qg,{install(e){e.component(qg.name,qg)}});_m.use(Ug),$m.component(qg);const Gg=Ug,Kg=p({name:"VxeButtonGroup",props:{options:Array,mode:String,status:String,round:Boolean,vertical:Boolean,circle:Boolean,align:String,className:[String,Function],disabled:Boolean,permissionCode:[String,Number],size:{type:String,default:()=>Ap().buttonGroup.size||Ap().size}},emits:["click"],setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId(),r=m({}),a={},i={xID:l,props:e,context:t,reactData:r,getComputeMaps:()=>a};Om(e);const{computePermissionInfo:s}=km(e),c={dispatchEvent(e,t,n){o(e,Gp(n,{$buttonGroup:i},t))}},u={handleClick(t,n){const{options:o}=e,{name:l}=t,r=o?o.find((e=>e.name===l)):null;c.dispatchEvent("click",Object.assign(Object.assign({},t),{option:r}),n)}};Object.assign(i,c,u);return i.renderVN=()=>{const{className:t,options:o,vertical:l}=e,r=s.value,a=n.default;return r.visible?y("div",{class:["vxe-button-group",t?sp.isFunction(t)?t({$buttonGroup:i}):t:"",{"is--vertical":l}]},a?a({}):o?o.map(((e,t)=>y(qg,Object.assign({key:t},e)))):[]):Am()},b("$xeButtonGroup",i),i},render(){return this.renderVN()}}),Yg=Object.assign({},Kg,{install(e){e.component(Kg.name,Kg)}});_m.use(Yg),$m.component(Kg);const Xg=Yg;function Zg(e){if(e){const t=new Date;let n=0,o=0,l=0;if(sp.isDate(e))n=e.getHours(),o=e.getMinutes(),l=e.getSeconds();else{const t=(e=sp.toValueString(e)).match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);t&&(n=sp.toNumber(t[1]),o=sp.toNumber(t[3]),l=sp.toNumber(t[5]))}return t.setHours(n),t.setMinutes(o),t.setSeconds(l),t}return new Date("")}function Qg(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}const Jg=(e,t,n)=>{const{valueFormat:o}=n;return e?"time"===t?Zg(e):sp.isNumber(e)||/^[0-9]{11,15}$/.test(`${e}`)?new Date(Number(e)):sp.isString(e)?sp.toStringDate(sp.last(e.split(",")),o):sp.toStringDate(e,o):null},ef=(e,t,n)=>{const o=Jg(e,t,n);return o?sp.toDateString(o,n.valueFormat):""};function tf(e,t,n){const{labelFormat:o,firstDay:l}=n;let r=null,a="";if(e&&(r=Jg(e,t,n)),sp.isValidDate(r)){if(a=sp.toDateString(r,o,{firstDay:l}),o&&"week"===t){const e=sp.getYearWeek(r,l),t=sp.getWhatWeek(r,0,1===e?(6+l)%7:l,l).getFullYear();if(t!==r.getFullYear()){const e=o.indexOf("yyyy");if(e>-1){const n=Number(a.substring(e,e+4));n&&!isNaN(n)&&(a=a.replace(`${n}`,`${t}`))}}}}else r=null;return{label:a,value:r}}const nf={last180:-180,last90:-90,last60:-60,last30:-30,last7:-7,last3:-3,last1:-1};function of(e,t,n,o){const{valueFormat:l,firstDay:r}=o;sp.isArray(t)&&(t=t.join(""));const a=(t?Jg(t,n,o):null)||new Date;let i=null;const s=a;switch(e){case"last1":case"last3":case"last7":case"last30":case"last60":case"last90":case"last180":{const t=function(e){return nf[e]||0}(e);switch(n){case"date":case"datetime":i=sp.getWhatDay(a,t);break;case"week":i=sp.getWhatWeek(a,t,r,r);break;case"month":i=sp.getWhatMonth(a,t);break;case"quarter":i=sp.getWhatQuarter(a,t);break;case"year":i=sp.getWhatYear(a,t)}break}default:i=new Date}return{startValue:i?sp.toDateString(i,l):"",endValue:s?sp.toDateString(s,l):""}}const lf=p({name:"VxeCalendar",props:{modelValue:[String,Number,Date],type:{type:String,default:"date"},className:String,size:{type:String,default:()=>Ap().calendar.size||Ap().size},multiple:Boolean,width:[String,Number],height:[String,Number],minDate:{type:[String,Number,Date],default:()=>Ap().calendar.minDate},maxDate:{type:[String,Number,Date],default:()=>Ap().calendar.maxDate},startDay:{type:[String,Number],default:()=>Ap().calendar.startDay},labelFormat:String,valueFormat:String,festivalMethod:{type:Function,default:()=>Ap().calendar.festivalMethod},disabledMethod:{type:Function,default:()=>Ap().calendar.disabledMethod},selectDay:{type:[String,Number],default:()=>Ap().calendar.selectDay}},emits:["update:modelValue","change","click","date-prev","date-today","date-next","view-change"],setup(e,t){const{emit:n}=t,o=sp.uniqueId(),{computeSize:l}=Om(e),a=m({selectValue:e.modelValue,inputValue:e.modelValue,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),s={yearSize:12,monthSize:20,quarterSize:8},c=r(),u={refElem:c},d={xID:o,props:e,context:t,reactData:a,internalData:s,getRefMaps:()=>u},p=g((()=>{const{height:t,width:n}=e,o={};return n&&(o.width=dg(n)),t&&(o.height=dg(t)),o})),h=g((()=>!1)),v=g((()=>["date","week","month","quarter","year"].indexOf(e.type)>-1)),b=g((()=>e.minDate?sp.toStringDate(e.minDate):null)),x=g((()=>e.maxDate?sp.toStringDate(e.maxDate):null)),w=g((()=>["date","week","month","quarter","year"].indexOf(e.type)>-1)),C=g((()=>{const{multiple:t}=e,{selectValue:n}=a,o=v.value,l=D.value;return t&&n&&o?sp.toValueString(n).split(",").map((e=>{const t=q(e,l);return sp.isValidDate(t)?t:null})):[]})),S=g((()=>{const e=C.value,t=D.value;return e.map((e=>sp.toDateString(e,t)))})),E=g((()=>{const e=C.value,t=I.value;return e.map((e=>sp.toDateString(e,t))).join(", ")})),D=g((()=>{const{valueFormat:t}=e;return t||"yyyy-MM-dd"})),T=g((()=>{const{selectValue:e}=a,t=v.value,n=D.value;let o=null;if(e&&t){const t=q(e,n);sp.isValidDate(t)&&(o=t)}return o})),O=g((()=>{const e=b.value,{selectMonth:t}=a;return!(!t||!e)&&t<=e})),k=g((()=>{const e=x.value,{selectMonth:t}=a;return!(!t||!e)&&t>=e})),R=g((()=>{const e=T.value;return e?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0})),I=g((()=>{const{labelFormat:t}=e,n=v.value,o=D.value;return n?t||o||lm(`vxe.input.date.labelFormat.${e.type}`):null})),M=g((()=>{const{selectMonth:e,currentDate:t}=a,{yearSize:n}=s,o=[];if(e&&t){const l=t.getFullYear(),r=e.getFullYear(),a=new Date(r-r%n,0,1);for(let e=-4;e<n+4;e++){const t=sp.getWhatYear(a,e,"first"),r=t.getFullYear();o.push({date:t,isCurrent:!0,isPrev:e<0,isNow:l===r,isNext:e>=n,year:r})}}return o})),P=g((()=>{let e="",t="";if(v.value){const{datePanelType:n,selectMonth:o}=a,l=M.value;let r,i="";o&&(i=o.getFullYear(),r=o.getMonth()+1),"quarter"===n||"month"===n?e=`${i}`:"year"===n?e=l.length?`${l[0].year} - ${l[l.length-1].year}`:"":(e=`${i}`,t=r?lm(`vxe.input.date.m${r}`):"-")}return{y:e,m:t}})),F=g((()=>{const{startDay:t}=e;return sp.toNumber(t)})),V=g((()=>{const e=[];if(v.value){let t=F.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e})),A=g((()=>{if(v.value){return V.value.map((e=>({value:e,label:lm(`vxe.input.date.weeks.w${e}`)})))}return[]})),$=g((()=>{if(v.value){const e=A.value;return[{label:lm("vxe.input.date.weeks.w")}].concat(e)}return[]})),N=g((()=>{const e=M.value;return sp.chunk(e,4)})),L=g((()=>{const{selectMonth:e,currentDate:t}=a,{quarterSize:n}=s,o=[];if(e&&t){const l=t.getFullYear(),r=Qg(t),a=sp.getWhatYear(e,0,"first"),i=a.getFullYear();for(let e=-2;e<n-2;e++){const t=sp.getWhatQuarter(a,e),n=t.getFullYear(),s=Qg(t),c=n<i;o.push({date:t,isPrev:c,isCurrent:n===i,isNow:n===l&&s===r,isNext:!c&&n>i,quarter:s})}}return o})),_=g((()=>{const e=L.value;return sp.chunk(e,2)})),B=g((()=>{const{selectMonth:e,currentDate:t}=a,{monthSize:n}=s,o=[];if(e&&t){const l=t.getFullYear(),r=t.getMonth(),a=sp.getWhatYear(e,0,"first").getFullYear();for(let t=-4;t<n-4;t++){const n=sp.getWhatYear(e,0,t),i=n.getFullYear(),s=n.getMonth(),c=i<a;o.push({date:n,isPrev:c,isCurrent:i===a,isNow:i===l&&s===r,isNext:!c&&i>a,month:s})}}return o})),z=g((()=>{const e=B.value;return sp.chunk(e,4)})),j=g((()=>{const{selectMonth:e,currentDate:t}=a,n=[];if(e&&t){const o=R.value,l=V.value,r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-l.indexOf(u),p=new Date(sp.getWhatDay(e,d).getTime()+o);for(let t=0;t<42;t++){const o=sp.getWhatDay(p,t),l=o.getFullYear(),u=o.getMonth(),d=o.getDate(),m=o<e;n.push({date:o,isPrev:m,isCurrent:l===s&&u===c,isNow:l===r&&u===a&&d===i,isNext:!m&&c!==u,label:d})}}return n})),H=g((()=>{const e=j.value;return sp.chunk(e,7)})),W=g((()=>{const e=H.value,t=F.value;return e.map((e=>{const n=e[0];return[{date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:sp.getYearWeek(n.date,t)}].concat(e)}))})),q=(e,t)=>sp.toStringDate(e,t),U=(t,o)=>{a.inputValue=t,n("update:modelValue",t),sp.toValueString(e.modelValue)!==t&&ge("change",{value:t},o)},G=t=>{const{type:n}=e,o=I.value,l=D.value,r=F.value;let i=null,s="";if(t&&(i=q(t,l)),sp.isValidDate(i)){if(s=sp.toDateString(i,o,{firstDay:r}),o&&"week"===n){if(sp.getWhatWeek(i,0,r,r).getFullYear()<i.getFullYear()){const e=o.indexOf("yyyy");if(e>-1){const t=Number(s.substring(e,e+4));t&&!isNaN(t)&&(s=s.replace(`${t}`,""+(t-1)))}}}}else i=null;a.datePanelValue=i,a.datePanelLabel=s},K=()=>{const t=v.value,{inputValue:n}=a;t&&(G(n),a.inputValue=e.multiple?E.value:a.datePanelLabel)},Y=()=>{v.value&&K()},X=e=>{const t=sp.getWhatMonth(e,0,"first");sp.isEqual(t,a.selectMonth)||(a.selectMonth=t)},Z=t=>{const{modelValue:n,multiple:o}=e,l=D.value,r=F.value;if("week"===e.type){const n=sp.toNumber(e.selectDay);t=sp.getWhatWeek(t,0,n,r)}const i=sp.toDateString(t,l,{firstDay:r});if(X(t),a.selectValue=t,o){const e=S.value;e.some((e=>sp.isEqual(e,i)))?U(e.filter((e=>!sp.isEqual(e,i))).join(","),{type:"update"}):U(e.concat([i]).join(","),{type:"update"})}else sp.isEqual(n,i)||U(i,{type:"update"})},Q=(e,t)=>{a.selectMonth=sp.getWhatMonth(e,t,"first")},J=()=>{const e=sp.getWhatDay(Date.now(),0,"first");a.currentDate=e,Q(e,0)},ee=()=>{a.datePanelType="year"},te=e=>{let{datePanelType:t}=a;t="month"===t||"quarter"===t?"year":"month",a.datePanelType=t,ae(e)},ne=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l}=a,{yearSize:r}=s;O.value||(a.selectMonth="year"===n?sp.getWhatYear(l,-r,"first"):"month"===n||"quarter"===n?"year"===o?sp.getWhatYear(l,-r,"first"):sp.getWhatYear(l,-1,"first"):"year"===o?sp.getWhatYear(l,-r,"first"):"month"===o?sp.getWhatYear(l,-1,"first"):sp.getWhatMonth(l,-1,"first"),ge("date-prev",{type:n},t),ae(t))},oe=t=>{J(),e.multiple||Z(a.currentDate),ge("date-today",{type:e.type},t),ae(t)},le=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l}=a,{yearSize:r}=s;k.value||(a.selectMonth="year"===n?sp.getWhatYear(l,r,"first"):"month"===n||"quarter"===n?"year"===o?sp.getWhatYear(l,r,"first"):sp.getWhatYear(l,1,"first"):"year"===o?sp.getWhatYear(l,r,"first"):"month"===o?sp.getWhatYear(l,1,"first"):sp.getWhatMonth(l,1,"first"),ge("date-next",{type:n},t),ae(t))},re=t=>{const{disabledMethod:n}=e,{datePanelType:o}=a;return n&&n({type:o,viewType:o,date:t.date,$calendar:d})},ae=e=>{const{datePanelType:t}=a,n=N.value,o=_.value,l=z.value,r=W.value,i=H.value,s=[];let c=[];switch(t){case"year":c=n;break;case"quarter":c=o;break;case"month":c=l;break;case"week":c=r;break;case"day":c=i}c.forEach((e=>{e.forEach((e=>{s.push(e.date)}))})),ge("view-change",{viewType:t,viewDates:s},e)},ie=t=>{re(t)||(t=>{const{type:n}=e,{datePanelType:o}=a;"month"===n?"year"===o?(a.datePanelType="month",X(t),ae(null)):Z(t):"year"===n?Z(t):"quarter"===n?"year"===o?(a.datePanelType="quarter",X(t),ae(null)):Z(t):"month"===o?(a.datePanelType="week"===n?n:"day",X(t),ae(null)):"year"===o?(a.datePanelType="month",X(t),ae(null)):Z(t)})(t.date)},se=e=>{if(!re(e)){const{datePanelType:r}=a;"month"===r?(l=e.date,re({date:l})||(B.value.some((e=>sp.isDateSame(e.date,l,"yyyyMM")))||X(l),G(l))):"quarter"===r?(o=e.date,re({date:o})||(L.value.some((e=>sp.isDateSame(e.date,o,"yyyyq")))||X(o),G(o))):"year"===r?(n=e.date,re({date:n})||(M.value.some((e=>sp.isDateSame(e.date,n,"yyyy")))||X(n),G(n))):(t=e.date,re({date:t})||(j.value.some((e=>sp.isDateSame(e.date,t,"yyyyMMdd")))||X(t),G(t)))}var t,n,o,l},ce=()=>{},ue=()=>{const{type:t}=e,n=T.value;["year","quarter","month","week"].indexOf(t)>-1?a.datePanelType=t:a.datePanelType="day",a.currentDate=sp.getWhatDay(Date.now(),0,"first"),n?(Q(n,0),G(n)):J()},de=(t,n)=>{const{festivalMethod:o}=e;if(o){const{datePanelType:e}=a,l=o({type:e,viewType:e,date:t.date,$calendar:d}),r=l?sp.isString(l)?{label:l}:l:{},i=r.extra?sp.isString(r.extra)?{label:r.extra}:r.extra:null,s=[y("span",{class:["vxe-calendar--date-label",{"is-notice":r.notice}]},i&&i.label?[y("span",`${n||""}`),y("span",{class:["vxe-calendar--date-label--extra",i.important?"is-important":"",i.className],style:i.style},sp.toValueString(i.label))]:[`${n||""}`])],c=r.label;if(c){const e=sp.toValueString(c).split(",");s.push(y("span",{class:["vxe-calendar--date-festival",r.important?"is-important":"",r.className],style:r.style},[e.length>1?y("span",{class:["vxe-calendar--date-festival--overlap",`overlap--${e.length}`]},e.map((e=>y("span",e.substring(0,3))))):y("span",{class:"vxe-calendar--date-festival--label"},e[0].substring(0,3))]))}return s}return`${n||""}`},pe=()=>{const{datePanelType:t}=a;switch(t){case"week":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=T.value,r=$.value,i=W.value,s=C.value,c="yyyyMMdd";return[y("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tr",r.map((e=>y("td",{class:"vxe-calendar--view-th"},e.label)))),...i.map((e=>{const n=t?e.some((e=>s.some((t=>sp.isDateSame(t,e.date,c))))):e.some((e=>sp.isDateSame(l,e.date,c))),r=e.some((e=>sp.isDateSame(o,e.date,c)));return y("tr",e.map((e=>y("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":n,"is--hover":r}],onClick:()=>ie(e),onMouseenter:()=>se(e)},de(e,e.label)))))}))])]})();case"month":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=T.value,r=z.value,i=C.value,s="yyyyMM";return[y("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tbody",r.map((e=>y("tr",e.map((e=>y("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":t?i.some((t=>sp.isDateSame(t,e.date,s))):sp.isDateSame(l,e.date,s),"is--hover":sp.isDateSame(o,e.date,s)}],onClick:()=>ie(e),onMouseenter:()=>se(e)},de(e,lm(`vxe.input.date.months.m${e.month}`)))))))))])]})();case"quarter":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=T.value,r=_.value,i=C.value,s="yyyyq";return[y("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tbody",r.map((e=>y("tr",e.map((e=>y("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":t?i.some((t=>sp.isDateSame(t,e.date,s))):sp.isDateSame(l,e.date,s),"is--hover":sp.isDateSame(o,e.date,s)}],onClick:()=>ie(e),onMouseenter:()=>se(e)},de(e,lm(`vxe.input.date.quarters.q${e.quarter}`)))))))))])]})();case"year":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=T.value,r=N.value,i=C.value,s="yyyy";return[y("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tbody",r.map((e=>y("tr",e.map((e=>y("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":t?i.some((t=>sp.isDateSame(t,e.date,s))):sp.isDateSame(l,e.date,s),"is--hover":sp.isDateSame(o,e.date,s)}],onClick:()=>ie(e),onMouseenter:()=>se(e)},de(e,e.year))))))))])]})()}return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=a,l=T.value,r=A.value,i=H.value,s=C.value,c="yyyyMMdd";return[y("table",{class:`vxe-calendar--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tr",r.map((e=>y("th",{class:"vxe-calendar--view-th"},e.label)))),...i.map((e=>y("tr",e.map((e=>y("td",{class:["vxe-calendar--view-td",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":re(e),"is--selected":t?s.some((t=>sp.isDateSame(t,e.date,c))):sp.isDateSame(l,e.date,c),"is--hover":sp.isDateSame(o,e.date,c)}],onClick:()=>ie(e),onMouseenter:()=>se(e)},de(e,e.label)))))))])]})()},me=()=>{const{multiple:t}=e,{datePanelType:n}=a,o=O.value,l=k.value,r=P.value;return[y("div",{class:"vxe-calendar--header"},[y("div",{class:"vxe-calendar--type-wrapper"},["year"===n?y(qg,{class:"vxe-calendar--date-picker-label",disabled:"year"===n,content:r.y}):y("span",{class:"vxe-calendar--date-picker-btns"},[y(qg,{class:"vxe-calendar--date-picker-btn",content:r.y,onClick:ee}),r.m?y(qg,{class:"vxe-calendar--date-picker-btn",content:r.m,onClick:te}):Am()])]),y("div",{class:"vxe-calendar--btn-wrapper"},[y(qg,{disabled:o,icon:"vxe-icon-caret-left",onClick:ne}),y(qg,{icon:"vxe-icon-dot",onClick:oe}),y(qg,{disabled:l,icon:"vxe-icon-caret-right",onClick:le}),t&&w.value?y("span",{class:"vxe-calendar--btn vxe-calendar--confirm-btn"},[y("button",{class:"vxe-calendar--confirm",type:"button",onClick:ce},lm("vxe.button.confirm"))]):null])]),y("div",{class:"vxe-calendar--body"},pe())]},ge=(e,t,o)=>{n(e,Gp(o,{$input:d},t))},fe={dispatchEvent:ge};Object.assign(d,fe);return d.renderVN=()=>{const{className:t,type:n}=e,o=l.value,r=h.value,a=p.value;return y("div",{ref:c,class:["vxe-calendar",`type--${n}`,t,{[`size--${o}`]:o,"is--disabled":r}],style:a},[me()])},i((()=>e.modelValue),(e=>{a.inputValue=e,K()})),i((()=>e.type),(()=>{Object.assign(a,{selectValue:null,inputValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),Y(),ue()})),i(I,(()=>{v.value&&(G(a.datePanelValue),a.inputValue=e.multiple?E.value:a.datePanelLabel)})),f((()=>{ue()})),Y(),d},render(){return this.renderVN()}}),rf=Object.assign({},lf,{install(e){e.component(lf.name,lf)}});_m.use(rf),$m.component(lf);const af=rf,sf=p({name:"VxeLoading",props:{modelValue:Boolean,icon:{type:String,default:()=>Ap().loading.icon},showIcon:{type:Boolean,default:()=>Ap().loading.showIcon},text:{type:String,default:()=>Ap().loading.text},showText:{type:Boolean,default:()=>Ap().loading.showText},status:String,size:{type:String,default:()=>Ap().loading.size||Ap().size}},setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId(),{computeSize:r}=Om(e),a=m({initialized:!1}),s={computeSize:r},c={xID:l,props:e,context:t,reactData:a,getComputeMaps:()=>s},u=g((()=>e.icon||_p().LOADING)),d=g((()=>{const{text:t}=e;return sp.isString(t)?t:lm("vxe.loading.text")})),p=()=>{a.initialized||(a.initialized=!!a.initialized)},f={dispatchEvent:(e,t,n)=>{o(e,Gp(n,{$loading:c},t))}};Object.assign(c,f,{});return i((()=>e.modelValue),(()=>{p()})),p(),c.renderVN=()=>{const{modelValue:t,showIcon:o,status:l}=e,{initialized:i}=a,s=r.value,c=n.default,p=n.text,m=n.icon,g=u.value,f=d.value;return i||t?y("div",{class:["vxe-loading",{[`size--${s}`]:s,[`theme--${l}`]:l,"is--visible":t}]},c?[y("div",{class:"vxe-loading--wrapper"},Zm(c({})))]:[y("div",{class:"vxe-loading--chunk"},[o&&(m||g)?y("div",{class:"vxe-loading--icon"},m?Zm(m({})):[y("i",{class:g})]):y("div",{class:"vxe-loading--spinner"}),p||f?y("div",{class:"vxe-loading--text"},p?Zm(p({})):`${f}`):null])]):Am()},c},render(){return this.renderVN()}}),cf=p({name:"VxeCard",props:{title:String,showTitleOverflow:{type:Boolean,default:()=>Ap().card.showTitleOverflow},width:[String,Number],height:[String,Number],border:{type:Boolean,default:()=>Ap().card.border},loading:Boolean,shadow:{type:Boolean,default:()=>Ap().card.shadow},padding:{type:Boolean,default:()=>Ap().card.padding}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId(),a=r(),i=m({}),s={refElem:a},c=g((()=>{const{height:t,width:n}=e,o={};return n&&(o.width=dg(n)),t&&(o.height=dg(t)),o})),u={},d={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>u},p={dispatchEvent:(e,t,n)=>{o(e,Gp(n,{$card:d},t))}};Object.assign(d,p,{});return d.renderVN=()=>{const{title:t,border:o,shadow:l,padding:r,loading:i,showTitleOverflow:s}=e,u=n.default,d=n.header,p=n.title,m=n.extra,g=n.footer,f=n.left,h=n.right,v=c.value;return y("div",{ref:a,class:["vxe-card",{"is--border":o,"is--shadow":l,"is--padding":r}],style:v},[t||p||d?y("div",{class:"vxe-card--header"},d?Zm(d({})):[y("div",{class:["vxe-card--header-title",{"is--ellipsis":s}]},p?Zm(p({})):`${t||""}`),m?y("div",{class:"vxe-card--header-extra"},Zm(m({}))):Am()]):Am(),y("div",{class:"vxe-card--body"},[f?y("div",{class:"vxe-card--body-left"},Zm(f({}))):Am(),y("div",{class:"vxe-card--body-content"},u?Zm(u({})):[]),h?y("div",{class:"vxe-card--body-right"},Zm(h({}))):Am()]),g?y("div",{class:"vxe-card--footer"},Zm(g({}))):Am(),y(sf,{class:"vxe-card--loading",modelValue:i})])},d},render(){return this.renderVN()}}),uf=Object.assign({},cf,{install(e){e.component(cf.name,cf)}});_m.use(uf),$m.component(cf);const df=uf,pf=p({name:"VxeCarousel",props:{modelValue:[String,Number],options:Array,loading:Boolean,height:{type:[Number,String],default:()=>Ap().carousel.height},width:{type:[Number,String],default:()=>Ap().carousel.width},autoPlay:{type:Boolean,default:()=>Ap().carousel.autoPlay},interval:{type:[Number,String],default:()=>Ap().carousel.interval},loop:{type:Boolean,default:()=>Ap().carousel.loop},vertical:{type:Boolean,default:()=>Ap().carousel.vertical},showIndicators:{type:Boolean,default:()=>Ap().carousel.showIndicators}},emits:["update:modelValue","change"],setup(e,n){const{emit:o,slots:l}=n,a=sp.uniqueId(),s=r(),c=r(),u=m({activeName:"",staticItems:[],itemWidth:0,itemHeight:0}),d={apTimeout:void 0,stopFlag:!1},p={refElem:s},v=g((()=>{const{vertical:t,options:n}=e,{activeName:o,itemWidth:l,itemHeight:r,staticItems:a}=u,i=(a&&a.length?a:n)||[],s=Math.max(0,sp.findIndexOf(i,(e=>e.name===o))),c={};return t?c.transform=`translateY(-${s*r}px)`:(c.width=l*i.length+"px",c.transform=`translateX(-${s*l}px)`),c})),x={},w={xID:a,props:e,context:n,reactData:u,internalData:d,getRefMaps:()=>p,getComputeMaps:()=>x},C=()=>{t((()=>{const e=c.value;e&&(u.itemWidth=e.clientWidth,u.itemHeight=e.clientHeight)}))},S=t=>{let n=null;if(t&&t.length){let l=!1;n=e.modelValue,t.forEach((e=>{n===e.name&&(l=!0)})),l||(n=t[0].name,o("update:modelValue",n))}u.activeName=n},E=t=>{const{options:n,loop:l}=e,{activeName:r,staticItems:a}=u,i=(a&&a.length?a:n)||[],s=Math.max(0,sp.findIndexOf(i,(e=>e.name===r)));if(s>-1){let e=null;if(t?s<i.length-1?e=i[s+1]:l&&(e=i[0]):s>0?e=i[s-1]:l&&(e=i[i.length-1]),e){const t=e.name,n=t;return u.activeName=t,o("update:modelValue",n),!0}}return!1},D={dispatchEvent:(e,t,n)=>{o(e,Gp(n,{$carousel:w},t))},prev:()=>(E(!1)&&R(),t()),next:()=>(E(!0)&&R(),t())},T=e=>{if(E(!1)){const t=u.activeName;o("change",{value:t},e)}},O=e=>{if(E(!0)){const t=u.activeName;o("change",{value:t},e)}},k=()=>{const{apTimeout:e}=d;d.stopFlag=!0,e&&(clearTimeout(e),d.apTimeout=void 0)},R=()=>{const{autoPlay:t,interval:n}=e,{stopFlag:o}=d;k(),t&&(d.stopFlag=!1,d.apTimeout=setTimeout((()=>{o||E(!0)}),sp.toNumber(n)||300))},I=()=>{k()},M=()=>{R()};Object.assign(w,D,{});const P=t=>{const{height:n}=e,{activeName:o}=u,r=v.value;return y("div",{class:"vxe-carousel--list",style:r},t.map((e=>{const{name:t,url:r,slots:a}=e,i=a?a.default:null;return y("div",{key:`${t}`,class:["vxe-carousel--item-inner",{"is--active":o===t}],style:n?{height:dg(n)}:null},i?(c={},(s=i)&&(sp.isString(s)&&(s=l[s]||null),sp.isFunction(s))?Zm(s(c)):[]):[y("img",{class:"vxe-carousel--item-img",src:r})]);var s,c})))},F=e=>{const{activeName:t}=u;return y("div",{class:"vxe-carousel--indicators"},e.map((e=>{const{name:n}=e;return y("div",{key:`${n}`,class:["vxe-carousel--indicators-item",{"is--active":t===n}],onClick(t){((e,t)=>{const n=t.name;u.activeName=t.name,o("update:modelValue",n),o("change",{value:n},e),C()})(t,e)}})})))},V=r(0);i((()=>e.options?e.options.length:-1),(()=>{V.value++})),i((()=>e.options),(()=>{V.value++})),i(V,(()=>{S(e.options)}));const A=r(0);return i((()=>u.staticItems?u.staticItems.length:-1),(()=>{A.value++})),i((()=>u.staticItems),(()=>{A.value++})),i(A,(()=>{S(u.staticItems)})),i((()=>e.autoPlay),(()=>{R()})),S(u.staticItems.length?u.staticItems:e.options),f((()=>{R(),C()})),h((()=>{k()})),b("$xeCarousel",w),w.renderVN=()=>{const{loading:t,height:n,width:o,showIndicators:r,vertical:a,options:i}=e,{staticItems:d}=u,p=l.default,m=(d&&d.length?d:i)||[];return y("div",{ref:s,class:["vxe-carousel","is--"+(a?"vertical":"horizontal")],style:o?{width:dg(o)}:null,onMouseenter:I,onMouseleave:M},[y("div",{class:"vxe-carousel--slots"},p?p({}):[]),y("div",{ref:c,class:"vxe-carousel--item-wrapper",style:n?{height:dg(n)}:null},[P(m)]),r?F(m):Am(),y("div",{class:"vxe-carousel--btn-wrapper"},[y("div",{class:"vxe-carousel--previous-btn",onClick:T},[y("i",{class:a?_p().CAROUSEL_VERTICAL_PREVIOUS:_p().CAROUSEL_HORIZONTAL_PREVIOUS})]),y("div",{class:"vxe-carousel--next-btn",onClick:O},[y("i",{class:a?_p().CAROUSEL_VERTICAL_NEXT:_p().CAROUSEL_HORIZONTAL_NEXT})])]),y(sf,{class:"vxe-carousel--loading",modelValue:t})])},w},render(){return this.renderVN()}}),mf=Object.assign({},pf,{install(e){e.component(pf.name,pf)}});_m.use(mf),$m.component(pf);const gf=mf;const ff=p({name:"VxeCarouselItem",props:{name:[String,Number],className:String,url:String},emits:[],setup(e,t){const{slots:o,emit:l}=t,a=n("$xeCarousel",null),s=sp.uniqueId(),c=r(),u=m({}),d=m({id:s,name:e.name,url:e.url,className:e.className,slots:o}),p={refElem:c},g={},v={xID:s,props:e,context:t,reactData:u,getRefMaps:()=>p,getComputeMaps:()=>g},b={dispatchEvent:(e,t,n)=>{l(e,Gp(n,{$carouselItem:v},t))}};Object.assign(v,b,{});return i((()=>e.name),(e=>{d.name=e})),i((()=>e.url),(e=>{d.url=e})),f((()=>{const e=c.value;a&&e&&function(e,t,n){const o=e.reactData.staticItems,l=t.parentNode;l&&o.splice(sp.arrayIndexOf(l.children,t),0,n),e.reactData.staticItems=o.slice(0)}(a,e,d)})),h((()=>{a&&function(e,t){const n=e.reactData.staticItems,o=sp.findIndexOf(n,(e=>e.id===t.id));o>-1&&n.splice(o,1),e.reactData.staticItems=n.slice(0)}(a,d)})),v.renderVN=()=>y("div",{ref:c}),v},render(){return this.renderVN()}}),hf=Object.assign({},ff,{install(e){e.component(ff.name,ff)}});_m.use(hf),$m.component(ff);const vf=hf,bf=p({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:{type:Boolean,default:null},size:{type:String,default:()=>Ap().checkbox.size||Ap().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:l}=t,r=n("$xeForm",null),a=n("xeFormItemInfo",null),i=n("$xeCheckboxGroup",null),s=sp.uniqueId(),c=m({}),u={xID:s,props:e,context:t,reactData:c};let d={};const{computeSize:p}=Om(e),f=g((()=>i?sp.includes(i.props.modelValue,e.label):e.modelValue===e.checkedValue)),h=g((()=>{const{disabled:t}=e,n=f.value;if(null===t&&i){const{computeIsDisabled:e,computeIsMaximize:t}=i.getComputeMaps(),o=e.value,l=t.value;return o||l&&!n}return t})),v=t=>{const{checkedValue:n,uncheckedValue:o}=e;if(!h.value){const s=t.target.checked,c=s?n:o,u={checked:s,value:c,label:e.label};i?i.handleChecked(u,t):(l("update:modelValue",c),d.dispatchEvent("change",u,t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,c))}};d={dispatchEvent:(e,t,n)=>{l(e,Gp(n,{$checkbox:u},t))}},Object.assign(u,d);return u.renderVN=()=>{const{label:t}=e,n=p.value,l=h.value,r=f.value,a=!r&&e.indeterminate;return y("label",{key:t,class:["vxe-checkbox",{[`size--${n}`]:n,"is--indeterminate":a,"is--disabled":l,"is--checked":r}],title:e.title},[y("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:l,checked:r,onChange:v}),y("span",{class:["vxe-checkbox--icon",a?_p().CHECKBOX_INDETERMINATE:r?_p().CHECKBOX_CHECKED:_p().CHECKBOX_UNCHECKED]}),y("span",{class:"vxe-checkbox--label"},o.default?o.default({}):zg(e.content))])},u},render(){return this.renderVN()}}),xf=Object.assign(bf,{install(e){e.component(bf.name,bf)}});_m.use(xf),$m.component(bf);const wf=xf,yf=p({name:"VxeCheckboxGroup",props:{modelValue:Array,options:Array,optionProps:Object,disabled:{type:Boolean,default:null},max:{type:[String,Number],default:null},size:{type:String,default:()=>Ap().checkboxGroup.size||Ap().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:l}=t,r=n("$xeForm",null),a=n("xeFormItemInfo",null),i=sp.uniqueId(),s=m({}),c=g((()=>{const{disabled:t}=e;return null===t?!!r&&(r.props.readonly||r.props.disabled):t})),u=g((()=>{const{modelValue:t,max:n}=e;return!!n&&(t?t.length:0)>=sp.toNumber(n)})),d=g((()=>Object.assign({},e.optionProps))),p=g((()=>d.value.label||"label")),f=g((()=>d.value.value||"value")),h=g((()=>d.value.disabled||"disabled")),v={computeIsMaximize:u,computeIsDisabled:c},x={xID:i,props:e,context:t,reactData:s,getComputeMaps:()=>v};Om(e);const w={dispatchEvent:(e,t,n)=>{l(e,Gp(n,{$checkboxGroup:x},t))}},C={handleChecked(t,n){const{checked:o,label:i}=t,s=e.modelValue||[],c=s.indexOf(i);o?-1===c&&s.push(i):s.splice(c,1),l("update:modelValue",s),x.dispatchEvent("change",Object.assign({checklist:s},t),n),r&&a&&r.triggerItemEvent(n,a.itemConfig.field,s)}};Object.assign(x,w,C);const S=()=>{const{options:t}=e,n=o.default,l=f.value,r=p.value,a=h.value;return y("div",{class:"vxe-checkbox-group"},n?n({}):t?t.map((e=>y(bf,{key:e[l],label:e[l],content:e[r],disabled:e[a]}))):[])};return b("$xeCheckboxGroup",x),x.renderVN=S,S}}),Cf=Object.assign(yf,{install(e){e.component(yf.name,yf)}});_m.use(Cf),$m.component(yf);const Sf=Cf,Ef=p({name:"VxeCol",props:{span:[Number,String],align:String,width:[Number,String],fill:Boolean,ellipsis:Boolean,size:{type:String,default:()=>Ap().col.size||Ap().size}},emits:[],setup(e,t){const{slots:o,emit:l}=t,a=sp.uniqueId();Om(e);const i=r(),s=m({}),c={refElem:i},u=n("$xeRow",null),d=g((()=>u?u.props.gutter:null)),p=g((()=>u?u.props.vertical:null)),f=g((()=>{const{width:t}=e,n=d.value,o=p.value,l={};if(n){let[e,t]=sp.isArray(n)?n:[n];if(o&&(t=e,e=""),e){const t=sp.isNumber(e)?dg(e/2):`calc(${dg(e)} / 2)`;l.paddingLeft=t,l.paddingRight=t}if(t){const e=sp.isNumber(t)?dg(t/2):`calc(${dg(t)} / 2)`;l.paddingTop=e,l.paddingBottom=e}}return t&&(l.width=dg(t)),l})),h={},v={xID:a,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>h},b={dispatchEvent:(e,t,n)=>{l(e,Gp(n,{$col:v},t))}};Object.assign(v,b,{});return v.renderVN=()=>{const{span:t,fill:n,align:l,width:r,ellipsis:a}=e,s=f.value,c=o.default;return y("div",{ref:i,class:["vxe-col",t?`span${t}`:"",l?`align--${l}`:"",{"is--span":!!t,"is--width":!!r,"is--fill":n,"is--ellipsis":a}],style:s},[y("div",{class:"vxe-col--inner"},c?c({}):[])])},v},render(){return this.renderVN()}}),Df=Object.assign({},Ef,{install(e){e.component(Ef.name,Ef)}});_m.use(Df),$m.component(Ef);const Tf=Df,Of=p({name:"VxeCollapse",props:{modelValue:Array,options:Array,padding:{type:Boolean,default:()=>Ap().collapse.padding},expandConfig:Object,size:{type:String,default:()=>Ap().collapse.size||Ap().size}},emits:["update:modelValue","load","change","toggle-expand"],setup(e,t){const{emit:n,slots:o}=t,l=sp.uniqueId(),{computeSize:a}=Om(e),s=r(),c=m({staticPanes:[],activeNames:[],initNames:[],cachePaneMaps:{}}),u={refElem:s},d=g((()=>{const{options:t}=e;return(t||[]).filter((e=>x(e)))})),p=g((()=>{const{staticPanes:e}=c;return e.filter((e=>x(e)))})),f=g((()=>Object.assign({},Ap().collapse.expandConfig,e.expandConfig))),h={},v={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>h},x=e=>{const{permissionCode:t}=e;return!(t&&!Dm.checkVisible(t))},w=e=>{const{initNames:t}=c;return!(!e||t.includes(e))&&(t.push(e),S("load",{name:e},null),!0)},C=e=>{const{activeNames:t}=c,n={};e&&e.length&&e.forEach((e=>{const{name:o,preload:l}=e||{};if(o){const e=t.includes(o);n[`${o}`]={loading:!1},e&&w(o),l&&(e||t.push(o))}})),c.activeNames=t?t.slice(0):[],c.cachePaneMaps=n},S=(e,t,o)=>{n(e,Gp(o,{$collapse:v},t))},E={dispatchEvent:S},D=(e,t)=>e&&(sp.isString(e)&&(e=o[e]||null),sp.isFunction(e))?Zm(e(t)):[];Object.assign(v,E,{});const T=e=>{const{activeNames:t,initNames:n}=c,o=f.value;return e.map((e=>{const{icon:l,name:r,title:a,slots:i}=e,s=i?i.title:null,u=i?i.default:null,d=r&&t.includes(r);return y("div",{class:"vxe-collapse-item"},[y("div",{class:"vxe-collapse--item-header",onClick(t){((e,t)=>{const{activeNames:n}=c,{name:o}=t;if(o){const t=n.indexOf(o);let l=!1;-1===t?(l=!0,n.push(o)):n.splice(t,1),w(o),S("change",{value:n,name:o},e),S("toggle-expand",{value:n,name:o,expanded:l},e)}})(t,e)}},[o.showIcon?y("span",{class:"vxe-collapse--item-switch"},[y("i",{class:d?_p().COLLAPSE_OPEN:_p().COLLAPSE_CLOSE})]):Am(),l?y("span",{class:"vxe-collapse--item-icon"},[y("i",{class:l})]):Am(),y("span",{class:"vxe-collapse--item-name"},s?D(s,{name:r,title:a}):`${a}`)]),y("div",{class:["vxe-collapse--item-content",{"is--visible":d}]},[r&&n.includes(r)?y("div",{class:"vxe-collapse--item-inner"},[u?D(u,{name:r,title:a}):""]):Am()])])}))};i((()=>e.modelValue),(e=>{c.activeNames=e||[]}));const O=r(0);i((()=>e.options?e.options.length:-1),(()=>{O.value++})),i((()=>e.options),(()=>{O.value++})),i(O,(()=>{C(e.options)}));const k=r(0);return i((()=>c.staticPanes?c.staticPanes.length:-1),(()=>{k.value++})),i((()=>c.staticPanes),(()=>{k.value++})),i(k,(()=>{C(c.staticPanes)})),c.activeNames=e.modelValue||[],C(c.staticPanes.length?c.staticPanes:e.options),b("$xeCollapse",v),v.renderVN=()=>{const{padding:t}=e,n=a.value,l=d.value,r=p.value,i=o.default,c=i?r:l;return y("div",{ref:s,class:["vxe-collapse",{[`size--${n}`]:n,"is--padding":t}]},[y("div",{class:"vxe-collapse-slots"},i?i({}):[]),T(c)])},v},render(){return this.renderVN()}}),kf=Object.assign({},Of,{install(e){e.component(Of.name,Of)}});_m.use(kf),$m.component(Of);const Rf=kf;const If=p({name:"VxeCollapsePane",props:{title:[String,Number],name:[String,Number],icon:String,preload:Boolean,permissionCode:[String,Number]},emits:[],setup(e,t){const{emit:o,slots:l}=t,a=sp.uniqueId(),s=n("$xeCollapse",null),c=r(),u=m({}),d=m({id:a,title:e.title,name:e.name,icon:e.icon,preload:e.preload,permissionCode:e.permissionCode,slots:l}),p={refElem:c},g={},v={xID:a,props:e,context:t,reactData:u,getRefMaps:()=>p,getComputeMaps:()=>g},b={dispatchEvent:(e,t,n)=>{o(e,Gp(n,{$collapsePane:v},t))}};Object.assign(v,b,{});return i((()=>e.title),(e=>{d.title=e})),i((()=>e.name),(e=>{d.name=e})),i((()=>e.icon),(e=>{d.icon=e})),i((()=>e.permissionCode),(e=>{d.permissionCode=e})),f((()=>{const e=c.value;s&&e&&function(e,t,n){const o=e.reactData.staticPanes,l=t.parentNode;l&&(o.splice(sp.arrayIndexOf(l.children,t),0,n),e.reactData.staticPanes=o.slice(0))}(s,e,d)})),h((()=>{s&&function(e,t){const n=e.reactData.staticPanes,o=sp.findTree(n,(e=>e.id===t.id),{children:"children"});o&&o.items.splice(o.index,1),e.reactData.staticPanes=n.slice(0)}(s,d)})),v.renderVN=()=>y("div",{ref:c},[]),v},render(){return this.renderVN()}}),Mf=Object.assign({},If,{install(e){e.component(If.name,If)}});_m.use(Mf),$m.component(If);const Pf=Mf,Ff={},Vf={};"FF,FC,FA,F7,F5,F2,F0,ED,EB,E8,E6,E3,E0,DE,DB,D9,D6,D4,D1,CF,CC,C9,C7,C4,C2,BF,BD,BA,B8,B5,B3,B0,AD,AB,A8,A6,A3,A1,9E,9C,99,96,94,91,8F,8C,8A,87,85,82,80,7D,7A,78,75,73,70,6E,6B,69,66,63,61,5E,5C,59,57,54,52,4F,4D,4A,47,45,42,40,3D,3B,38,36,33,30,2E,2B,29,26,24,21,1F,1C,1A,17,14,12,0F,0D,0A,08,05,03,00".split(",").forEach(((e,t)=>{const n=(100-t)/100;Ff[e]=n,Vf[n]=e}));const Af=/^rgb(a?)\((\d{1,3})[,\s]+(\d{1,3})[,\s]+(\d{1,3})([,//\s]+([0-9.]{1,4})(%?))?\)$/,$f=/^(#?)([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;function Nf(e){const t={value:"",type:"",hex:"",hexV:"",hexA:"",r:0,g:0,b:0,a:1};if(e){const n=e.match($f);n&&(t.value=e,t.type="hex",t.hex=e,t.hexV=n[2],t.hexA=n[3]||"",t.a=(n[3]?Ff[n[3].toUpperCase()]:1)||1);const o=e.match(Af);o&&(t.value=e,t.type=o[6]?"rgba":"rgb",t.r=parseInt(o[2]),t.g=parseInt(o[3]),t.b=parseInt(o[4]),t.a=o[7]?parseInt(o[6])/100:o[6]?parseFloat(o[6]):1)}return t}function Lf(e,t,n,o){return sp.eqNull(o)?`rgb(${e},${t},${n})`:`rgba(${e},${t},${n},${o})`}function _f(e){if(!e)return null;const{r:t,g:n,b:o}=e,l=t/255,r=n/255,a=o/255;let i=0,s=0;const c=Math.max(l,r,a),u=c-Math.min(l,r,a),d=e=>(c-e)/6/u+.5;if(0===u)i=s=0;else{s=u/c;const e=d(l),t=d(r),n=d(a);l===c?i=n-t:r===c?i=1/3+e-n:a===c&&(i=2/3+t-e),i<0?i+=1:i>1&&(i-=1)}return{h:Math.round(360*i),s:sp.round(s,2),v:sp.round(c,2)}}function Bf(e){const t=zf(e);return t?_f(t):null}function zf(e){if(e){const t=e.match(/^(#?)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})?$/);if(t)return{r:parseInt(t[2],16),g:parseInt(t[3],16),b:parseInt(t[4],16),a:(t[5]?Ff[t[5].toUpperCase()]:1)||1}}return null}function jf(e){return sp.isString(e)?e.replace(/[^0-9e.-]/g,""):e}function Hf(e,t){return/^-/.test(""+e)?sp.toFixed(sp.ceil(e,t),t):sp.toFixed(sp.floor(e,t),t)}const Wf=p({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>Ap().input.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:{type:String,default:null},maxLength:{type:[String,Number],default:()=>Ap().input.maxLength},autoComplete:{type:String,default:"off"},autoFocus:{type:Boolean,default:null},align:String,form:String,className:String,size:{type:String,default:()=>Ap().input.size||Ap().size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],trim:{type:Boolean,default:()=>Ap().input.trim},exponential:{type:Boolean,default:()=>Ap().input.exponential},controls:{type:Boolean,default:()=>Ap().input.controls},digits:{type:[String,Number],default:()=>Ap().input.digits},startDate:{type:[String,Number,Date],default:()=>Ap().input.startDate},endDate:{type:[String,Number,Date],default:()=>Ap().input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>Ap().input.startDay},labelFormat:String,valueFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>Ap().input.festivalMethod},disabledMethod:{type:Function,default:()=>Ap().input.disabledMethod},selectDay:{type:[String,Number],default:()=>Ap().input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,o){const{slots:l,emit:a}=o,c=n("$xeSelect",null),u=n("$xeTreeSelect",null),d=n("$xeModal",null),p=n("$xeDrawer",null),h=n("$xeTable",null),v=n("$xeForm",null),b=n("xeFormItemInfo",null),w=sp.uniqueId(),{computeSize:C}=Om(e),E=m({initialized:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),D={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0,dnTimeout:void 0},T=r(),O=r(),k=r(),R=r(),I=r(),M={refElem:T,refInput:O},P={xID:w,props:e,context:o,reactData:E,internalData:D,getRefMaps:()=>M};let F={};const V=(t,n)=>{const{type:o}=e;return"time"===o?Zg(t):sp.toStringDate(t,n)},A=g((()=>{const{transfer:t}=e;if(null===t){const e=Ap().input.transfer;if(sp.isBoolean(e))return e;if(h||d||p||v)return!0}return t})),$=g((()=>!!v&&v.props.readonly)),N=g((()=>{const{readonly:t}=e;return t})),L=g((()=>{const{disabled:t}=e;return null===t?!!v&&v.props.disabled:t})),_=g((()=>{const{maxLength:t,maxlength:n}=e,o=t||n;return z.value&&!sp.toNumber(o)?16:o})),B=g((()=>{const{type:t}=e;return"time"===t||"datetime"===t})),z=g((()=>["number","integer","float"].indexOf(e.type)>-1)),j=g((()=>sp.getSize(E.inputValue))),H=g((()=>{const e=j.value,t=_.value;return t&&e>sp.toNumber(t)})),W=g((()=>B.value||["date","week","month","quarter","year"].indexOf(e.type)>-1)),q=g((()=>"password"===e.type)),U=g((()=>"search"===e.type)),G=g((()=>sp.toInteger(e.digits)||1)),K=g((()=>{const{type:t}=e,n=G.value,o=e.step;return"integer"===t?sp.toInteger(o)||1:"float"===t?sp.toNumber(o)||1/Math.pow(10,n):sp.toNumber(o)||1})),Y=g((()=>{const{type:t}=e,n=z.value,o=W.value,l=q.value;return e.clearable&&(l||n||o||"text"===t||"search"===t)})),X=g((()=>e.startDate?sp.toStringDate(e.startDate):null)),Z=g((()=>e.endDate?sp.toStringDate(e.endDate):null)),Q=g((()=>["date","week","month","quarter","year"].indexOf(e.type)>-1)),J=g((()=>{const{modelValue:t,multiple:n}=e,o=W.value,l=ne.value;return n&&t&&o?sp.toValueString(t).split(",").map((e=>{const t=V(e,l);return sp.isValidDate(t)?t:null})):[]})),ee=g((()=>{const e=J.value,t=ne.value;return e.map((e=>sp.toDateString(e,t)))})),te=g((()=>{const e=J.value,t=se.value;return e.map((e=>sp.toDateString(e,t))).join(", ")})),ne=g((()=>{const{type:t,valueFormat:n}=e;return n||("time"===t?"HH:mm:ss":"datetime"===t?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")})),oe=g((()=>{const{modelValue:t}=e,n=W.value,o=ne.value;let l=null;if(t&&n){const e=V(t,o);sp.isValidDate(e)&&(l=e)}return l})),le=g((()=>{const e=X.value,{selectMonth:t}=E;return!(!t||!e)&&t<=e})),re=g((()=>{const e=Z.value,{selectMonth:t}=E;return!(!t||!e)&&t>=e})),ae=g((()=>{const{datetimePanelValue:e}=E,t=Te.value;return e?sp.toDateString(e,t?"HH:mm:ss":"HH:mm"):""})),ie=g((()=>{const e=oe.value,t=B.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0})),se=g((()=>{const{labelFormat:t}=e;return W.value?t||lm(`vxe.input.date.labelFormat.${e.type}`):""})),ce=g((()=>{const{selectMonth:e,currentDate:t}=E,{yearSize:n}=D,o=[];if(e&&t){const l=t.getFullYear(),r=e.getFullYear(),a=new Date(r-r%n,0,1);for(let e=-4;e<n+4;e++){const t=sp.getWhatYear(a,e,"first"),r=t.getFullYear();o.push({date:t,isCurrent:!0,isPrev:e<0,isNow:l===r,isNext:e>=n,year:r})}}return o})),ue=g((()=>{let e="",t="";if(W.value){const{datePanelType:n,selectMonth:o}=E,l=ce.value;let r,a="";o&&(a=o.getFullYear(),r=o.getMonth()+1),"quarter"===n||"month"===n?e=lm("vxe.datePicker.yearTitle",[a]):"year"===n?e=l.length?`${l[0].year} - ${l[l.length-1].year}`:"":(e=lm("vxe.datePicker.yearTitle",[a]),t=r?lm(`vxe.input.date.m${r}`):"-")}return{y:e,m:t}})),de=g((()=>{const{startDay:t,startWeek:n}=e;return sp.toNumber(sp.isNumber(t)||sp.isString(t)?t:n)})),pe=g((()=>{const e=[];if(W.value){let t=de.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e})),me=g((()=>{if(W.value){return pe.value.map((e=>({value:e,label:lm(`vxe.input.date.weeks.w${e}`)})))}return[]})),ge=g((()=>{if(W.value){const e=me.value;return[{label:lm("vxe.input.date.weeks.w")}].concat(e)}return[]})),fe=g((()=>{const e=ce.value;return sp.chunk(e,4)})),he=g((()=>{const{selectMonth:e,currentDate:t}=E,{quarterSize:n}=D,o=[];if(e&&t){const l=t.getFullYear(),r=Qg(t),a=sp.getWhatYear(e,0,"first"),i=a.getFullYear();for(let e=-2;e<n-2;e++){const t=sp.getWhatQuarter(a,e),n=t.getFullYear(),s=Qg(t),c=n<i;o.push({date:t,isPrev:c,isCurrent:n===i,isNow:n===l&&s===r,isNext:!c&&n>i,quarter:s})}}return o})),ve=g((()=>{const e=he.value;return sp.chunk(e,2)})),be=g((()=>{const{selectMonth:e,currentDate:t}=E,{monthSize:n}=D,o=[];if(e&&t){const l=t.getFullYear(),r=t.getMonth(),a=sp.getWhatYear(e,0,"first").getFullYear();for(let t=-4;t<n-4;t++){const n=sp.getWhatYear(e,0,t),i=n.getFullYear(),s=n.getMonth(),c=i<a;o.push({date:n,isPrev:c,isCurrent:i===a,isNow:i===l&&s===r,isNext:!c&&i>a,month:s})}}return o})),xe=g((()=>{const e=be.value;return sp.chunk(e,4)})),we=g((()=>{const{selectMonth:e,currentDate:t}=E,n=[];if(e&&t){const o=ie.value,l=pe.value,r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-l.indexOf(u),p=new Date(sp.getWhatDay(e,d).getTime()+o);for(let t=0;t<42;t++){const o=sp.getWhatDay(p,t),l=o.getFullYear(),u=o.getMonth(),d=o.getDate(),m=o<e;n.push({date:o,isPrev:m,isCurrent:l===s&&u===c,isNow:l===r&&u===a&&d===i,isNext:!m&&c!==u,label:d})}}return n})),ye=g((()=>{const e=we.value;return sp.chunk(e,7)})),Ce=g((()=>{const e=ye.value,t=de.value;return e.map((e=>{const n=e[0];return[{date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:sp.getYearWeek(n.date,t)}].concat(e)}))})),Se=g((()=>{const e=[];if(B.value)for(let t=0;t<24;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),Ee=g((()=>{const e=[];if(B.value)for(let t=0;t<60;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),De=g((()=>{const e=ne.value;return!/HH/.test(e)||/mm/.test(e)})),Te=g((()=>{const e=ne.value;return!/HH/.test(e)||/ss/.test(e)})),Oe=g((()=>Ee.value)),ke=g((()=>{const{type:t,editable:n,multiple:o}=e;return N.value||o||!n||"week"===t||"quarter"===t})),Re=g((()=>{const{type:t}=e,{showPwd:n}=E,o=z.value,l=W.value,r=q.value;return l||o||r&&n||"number"===t?"text":t})),Ie=g((()=>{const{placeholder:t}=e;if(t)return zg(t);if(sp.eqNull(t)){const e=Ap().input.placeholder;return e?zg(e):lm("vxe.base.pleaseInput")}return t})),Me=g((()=>{const{type:t,immediate:n}=e;return n||!("text"===t||"number"===t||"integer"===t||"float"===t)})),Pe=g((()=>{const{type:t}=e,{inputValue:n}=E;return z.value?"integer"===t?sp.toInteger(jf(n)):sp.toNumber(jf(n)):0})),Fe=g((()=>{const{min:t}=e,{inputValue:n}=E,o=z.value,l=Pe.value;return!(!n&&0!==n||!o||null===t)&&l<=sp.toNumber(t)})),Ve=g((()=>{const{max:t}=e,{inputValue:n}=E,o=z.value,l=Pe.value;return!(!n&&0!==n||!o||null===t)&&l>=sp.toNumber(t)})),Ae=t=>{const{type:n,exponential:o}=e,l=_.value,r=G.value,a="float"===n?Hf(t,r):sp.toValueString(t);return!o||t!==a&&sp.toValueString(t).toLowerCase()!==sp.toNumber(a).toExponential()?a.slice(0,l):t},$e=e=>{const{inputValue:t}=E;F.dispatchEvent(e.type,{value:t},e)},Ne=(t,n)=>{e.trim&&(t=`${t||""}`.trim()),E.inputValue=t,(e=>{a("update:modelValue",e)})(t),F.dispatchEvent("input",{value:t},n),sp.toValueString(e.modelValue)!==t&&(F.dispatchEvent("change",{value:t},n),c||u||v&&b&&v.triggerItemEvent(n,b.itemConfig.field,t))},Le=(e,t)=>{const n=W.value,o=Me.value;E.inputValue=e,n||(o?Ne(e,t):F.dispatchEvent("input",{value:e},t))},_e=e=>{const t=e.target.value;Le(t,e)},Be=e=>{Me.value||$e(e)},ze=e=>{const{inputValue:t}=E,n=t;Me.value||Ne(n,e),et(),E.visiblePanel||(E.isActivated=!1),F.dispatchEvent("blur",{value:n},e),c||u||v&&b&&v.triggerItemEvent(e,b.itemConfig.field,n)},je=e=>{const{inputValue:t}=E,n=z.value,o=W.value;E.isActivated=!0,n?E.inputValue=jg(t)?"":`${sp.toNumber(t)}`:o&&Ft(e),$e(e)},He=e=>{if(!L.value){const{inputValue:t}=E;F.dispatchEvent("prefix-click",{value:t},e)}},We=()=>new Promise((e=>{E.visiblePanel=!1,D.hpTimeout=setTimeout((()=>{E.isAniVisible=!1,e()}),350)})),qe=(t,n)=>{const{type:o,autoFocus:l}=e,r=z.value;W.value&&We(),(l||null===l)&&(r||["text","search","password"].indexOf(o)>-1)&&focus(),Ne("",t),F.dispatchEvent("clear",{value:n},t)},Ue=e=>{if(!L.value){const{inputValue:t}=E;F.dispatchEvent("suffix-click",{value:t},e)}},Ge=t=>{const{type:n}=e,o=se.value,l=ne.value,r=de.value;let a=null,i="";if(t&&(a=V(t,l)),sp.isValidDate(a)){if(i=sp.toDateString(a,o,{firstDay:r}),o&&"week"===n){const e=sp.getYearWeek(a,r),t=sp.getWhatWeek(a,0,1===e?(6+r)%7:r,r).getFullYear();if(t!==a.getFullYear()){const e=o.indexOf("yyyy");if(e>-1){const n=Number(i.substring(e,e+4));n&&!isNaN(n)&&(i=i.replace(`${n}`,`${t}`))}}}}else a=null;E.datePanelValue=a,E.datePanelLabel=i},Ke=()=>{const t=W.value,{inputValue:n}=E;t&&(Ge(n),E.inputValue=e.multiple?te.value:E.datePanelLabel)},Ye=()=>{const{type:t}=e,{inputValue:n}=E,o=W.value,l=G.value;if(o)Ke();else if("float"===t&&n){const e=Hf(n,l);n!==e&&Ne(e,{type:"init"})}},Xe=t=>null===e.max||sp.toNumber(t)<=sp.toNumber(e.max),Ze=t=>null===e.min||sp.toNumber(t)>=sp.toNumber(e.min),Qe=e=>{const t=de.value,n=sp.getYearWeek(e,t),o=sp.getWhatWeek(e,0,t,t),l=sp.getWhatMonth(1===n?sp.getWhatDay(o,6):e,0,"first");sp.isEqual(l,E.selectMonth)||(E.selectMonth=l)},Je=t=>{const{modelValue:n,multiple:o}=e,{datetimePanelValue:l}=E,r=B.value,a=ne.value,i=de.value;if("week"===e.type){const n=sp.toNumber(e.selectDay);t=sp.getWhatWeek(t,0,n,i)}else r&&(t.setHours(l.getHours()),t.setMinutes(l.getMinutes()),t.setSeconds(l.getSeconds()));const s=sp.toDateString(t,a,{firstDay:i});if(Qe(t),o){const e=ee.value;if(r){const e=[...J.value],n=[],o=sp.findIndexOf(e,(e=>sp.isDateSame(t,e,"yyyyMMdd")));-1===o?e.push(t):e.splice(o,1),e.forEach((e=>{e&&(e.setHours(l.getHours()),e.setMinutes(l.getMinutes()),e.setSeconds(l.getSeconds()),n.push(e))})),Ne(n.map((e=>sp.toDateString(e,a))).join(","),{type:"update"})}else e.some((e=>sp.isEqual(e,s)))?Ne(e.filter((e=>!sp.isEqual(e,s))).join(","),{type:"update"}):Ne(e.concat([s]).join(","),{type:"update"})}else sp.isEqual(n,s)||Ne(s,{type:"update"})},et=()=>{const{type:t,min:n,max:o,exponential:l}=e,{inputValue:r,datetimePanelValue:a}=E,i=z.value,s=W.value,c=se.value;if(!ke.value)if(i){if(r){const e=`${jf(r)}`;if(e){let a="integer"===t?sp.toInteger(e):sp.toNumber(e);if(Ze(a)?Xe(a)||(a=o):a=n,l){const e=sp.toValueString(r).toLowerCase();e===sp.toNumber(a).toExponential()&&(a=e)}Ne(Ae(a),{type:"check"})}else{let e="";(n||0===n)&&(e=`${n}`),Ne(e,{type:"check"})}}}else if(s)if(r){let n=V(r,c);if(sp.isValidDate(n))if("time"===t)n=sp.toDateString(n,c),r!==n&&Ne(n,{type:"check"}),E.inputValue=n;else{let e=!1;const o=de.value;if("datetime"===t){const t=oe.value;r===sp.toDateString(t,c)&&r===sp.toDateString(n,c)||(e=!0,a.setHours(n.getHours()),a.setMinutes(n.getMinutes()),a.setSeconds(n.getSeconds()))}else e=!0;E.inputValue=sp.toDateString(n,c,{firstDay:o}),e&&Je(n)}else E.inputValue=e.multiple?te.value:E.datePanelLabel}else Ne("",{type:"check"})},tt=e=>{const{showPwd:t}=E,n=L.value,o=N.value;n||o||(E.showPwd=!t),F.dispatchEvent("toggle-visible",{visible:E.showPwd},e)},nt=e=>{F.dispatchEvent("search-click",{},e)},ot=(t,n)=>{const{min:o,max:l,type:r}=e,{inputValue:a}=E,i=K.value,s="integer"===r?sp.toInteger(jf(a)):sp.toNumber(jf(a)),c=t?sp.add(s,i):sp.subtract(s,i);let u;u=Ze(c)?Xe(c)?c:l:o,Le(Ae(u),n)},lt=e=>{const t=L.value,n=N.value,o=Fe.value;ct(),t||n||o||ot(!1,e),F.dispatchEvent("next-number",{value:E.inputValue},e)},rt=e=>{D.dnTimeout=setTimeout((()=>{lt(e),rt(e)}),60)},at=e=>{const t=L.value,n=N.value,o=Ve.value;ct(),t||n||o||ot(!0,e),F.dispatchEvent("prev-number",{value:E.inputValue},e)},it=t=>{const{type:n,exponential:o,controls:l}=e;if(z.value){const e=ug(t),r=t.shiftKey,a=t.altKey,i=t.keyCode,s=Kp.hasKey(t,Bp.ESCAPE),c=Kp.hasKey(t,Bp.ARROW_UP),u=Kp.hasKey(t,Bp.ARROW_DOWN);e||r||a||(Kp.hasKey(t,Bp.SPACEBAR)||"integer"===n&&110===i||(!o||69!==i)&&i>=65&&i<=90||i>=186&&i<=188||i>=191)&&t.preventDefault(),s?et():(c||u)&&l&&(e=>{const t=Kp.hasKey(e,Bp.ARROW_UP),n=Kp.hasKey(e,Bp.ARROW_DOWN);(t||n)&&(e.preventDefault(),t?at(e):lt(e))})(t)}$e(t)},st=e=>{$e(e)},ct=()=>{const{dnTimeout:e}=D;e&&(clearTimeout(e),D.dnTimeout=void 0)},ut=e=>{D.dnTimeout=setTimeout((()=>{at(e),ut(e)}),60)},dt=e=>{if(ct(),0===e.button){const t=ig(e.currentTarget,"is--prev");t?at(e):lt(e),D.dnTimeout=setTimeout((()=>{t?ut(e):rt(e)}),500)}},pt=t=>{if(z.value&&e.controls&&E.isActivated){const e=t.deltaY;e>0?lt(t):e<0&&at(t),t.preventDefault()}$e(t)},mt=(e,t)=>{const n=de.value,o=sp.getYearWeek(e,n),l=sp.getWhatWeek(e,0,n,n),r=sp.getWhatMonth(1===o?sp.getWhatDay(l,6):e,t,"first");E.selectMonth=r},gt=()=>{const e=sp.getWhatDay(Date.now(),0,"first");E.currentDate=e,mt(e,0)},ft=()=>{E.datePanelType="year"},ht=()=>{let{datePanelType:e}=E;e="month"===e||"quarter"===e?"year":"month",E.datePanelType=e},vt=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l,inputValue:r}=E,{yearSize:a}=D,i=r;if(!le.value){let e;e="year"===n?sp.getWhatYear(l,-a,"first"):"month"===n||"quarter"===n?"year"===o?sp.getWhatYear(l,-a,"first"):sp.getWhatYear(l,-1,"first"):"year"===o?sp.getWhatYear(l,-a,"first"):"month"===o?sp.getWhatYear(l,-1,"first"):sp.getWhatMonth(l,-1,"first"),E.selectMonth=e,F.dispatchEvent("date-prev",{viewType:o,viewDate:e,value:i,type:n},t)}},bt=t=>{gt(),e.multiple||(Je(E.currentDate),We()),F.dispatchEvent("date-today",{type:e.type},t)},xt=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l,inputValue:r}=E,{yearSize:a}=D,i=r;if(!re.value){let e;e="year"===n?sp.getWhatYear(l,a,"first"):"month"===n||"quarter"===n?"year"===o?sp.getWhatYear(l,a,"first"):sp.getWhatYear(l,1,"first"):"year"===o?sp.getWhatYear(l,a,"first"):"month"===o?sp.getWhatYear(l,1,"first"):sp.getWhatMonth(l,1,"first"),E.selectMonth=e,F.dispatchEvent("date-next",{viewType:o,viewDate:e,value:i,type:n},t)}},wt=t=>{const{disabledMethod:n}=e,{datePanelType:o}=E,l=X.value,r=Z.value,{date:a}=t;return!!(l&&l.getTime()>a.getTime())||(!!(r&&r.getTime()<a.getTime())||!!n&&n({type:o,viewType:o,date:a,$input:P}))},yt=t=>{const{type:n,multiple:o}=e,{datePanelType:l}=E;"month"===n?"year"===l?(E.datePanelType="month",Qe(t)):(Je(t),o||We()):"year"===n?(Je(t),o||We()):"quarter"===n?"year"===l?(E.datePanelType="quarter",Qe(t)):(Je(t),o||We()):"month"===l?(E.datePanelType="week"===n?n:"day",Qe(t)):"year"===l?(E.datePanelType="month",Qe(t)):(Je(t),"datetime"===n||o||We())},Ct=e=>{wt(e)||yt(e.date)},St=e=>{if(!wt({date:e})){we.value.some((t=>sp.isDateSame(t.date,e,"yyyyMMdd")))||Qe(e),Ge(e)}},Et=e=>{if(!wt({date:e})){ce.value.some((t=>sp.isDateSame(t.date,e,"yyyy")))||Qe(e),Ge(e)}},Dt=e=>{if(!wt({date:e})){he.value.some((t=>sp.isDateSame(t.date,e,"yyyyq")))||Qe(e),Ge(e)}},Tt=e=>{if(!wt({date:e})){be.value.some((t=>sp.isDateSame(t.date,e,"yyyyMM")))||Qe(e),Ge(e)}},Ot=e=>{if(!wt(e)){const{datePanelType:t}=E;"month"===t?Tt(e.date):"quarter"===t?Dt(e.date):"year"===t?Et(e.date):St(e.date)}},kt=e=>{if(e){const t=e.offsetHeight;e.parentNode.scrollTop=e.offsetTop-4*t}},Rt=e=>{E.datetimePanelValue=new Date(E.datetimePanelValue.getTime()),kt(e.currentTarget)},It=()=>{const{multiple:t}=e,{datetimePanelValue:n}=E,o=oe.value,l=B.value;if(l){const e=ne.value;if(t){const t=ee.value;if(l){const t=[...J.value],o=[];t.forEach((e=>{e&&(e.setHours(n.getHours()),e.setMinutes(n.getMinutes()),e.setSeconds(n.getSeconds()),o.push(e))})),Ne(o.map((t=>sp.toDateString(t,e))).join(","),{type:"update"})}else Ne(t.join(","),{type:"update"})}else Je(o||E.currentDate)}We()},Mt=()=>t().then((()=>{const{placement:n}=e,{panelIndex:o}=E,l=O.value,r=k.value,a=A.value;if(l&&r){const e=l.offsetHeight,i=l.offsetWidth,s=r.offsetHeight,c=r.offsetWidth,u=5,d={zIndex:o},{boundingTop:p,boundingLeft:m,visibleHeight:g,visibleWidth:f}=fg(l);let h="bottom";if(a){let t=m,o=p+e;"top"===n?(h="top",o=p-s):n||(o+s+u>g&&(h="top",o=p-s),o<u&&(h="bottom",o=p+e)),t+c+u>f&&(t-=t+c+u-f),t<u&&(t=u),Object.assign(d,{left:`${t}px`,top:`${o}px`,minWidth:`${i}px`})}else"top"===n?(h="top",d.bottom=`${e}px`):n||(d.top=`${e}px`,p+e+s>g&&p-e-s>u&&(h="top",d.top="",d.bottom=`${e}px`));return E.panelStyle=d,E.panelPlacement=h,t()}})),Pt=()=>{const{visiblePanel:n}=E,{hpTimeout:o}=D,l=L.value,r=W.value;return l||n?t():(E.initialized||(E.initialized=!0),o&&(clearTimeout(o),D.hpTimeout=void 0),E.isActivated=!0,E.isAniVisible=!0,r&&(()=>{const{type:n}=e,o=B.value,l=oe.value;["year","quarter","month","week"].indexOf(n)>-1?E.datePanelType=n:E.datePanelType="day",E.currentDate=sp.getWhatDay(Date.now(),0,"first"),l?(mt(l,0),Ge(l)):gt(),o&&(E.datetimePanelValue=E.datePanelValue||sp.getWhatDay(Date.now(),0,"first"),t((()=>{const e=I.value;sp.arrayEach(e.querySelectorAll("li.is--selected"),(e=>{kt(e)}))})))})(),setTimeout((()=>{E.visiblePanel=!0}),10),E.panelIndex<_g()&&(E.panelIndex=Lg()),Mt())},Ft=e=>{N.value||(e.preventDefault(),Pt())},Vt=e=>{$e(e)},At=e=>{const{visiblePanel:t,isActivated:n}=E,o=W.value,l=T.value,r=R.value;!L.value&&n&&(E.isActivated=mg(e,l).flag||mg(e,r).flag,E.isActivated||(o?t&&(We(),et()):et()))},$t=t=>{const{clearable:n}=e,{visiblePanel:o}=E,l=L.value,r=W.value;if(!l){const e=Kp.hasKey(t,Bp.TAB),l=Kp.hasKey(t,Bp.DELETE),a=Kp.hasKey(t,Bp.ESCAPE),i=Kp.hasKey(t,Bp.ENTER),s=Kp.hasKey(t,Bp.ARROW_LEFT),c=Kp.hasKey(t,Bp.ARROW_UP),u=Kp.hasKey(t,Bp.ARROW_RIGHT),d=Kp.hasKey(t,Bp.ARROW_DOWN),p=Kp.hasKey(t,Bp.PAGE_UP),m=Kp.hasKey(t,Bp.PAGE_DOWN),g=s||c||u||d;let f=E.isActivated;e?(f&&et(),f=!1,E.isActivated=f):g?r&&f&&(o?(e=>{const{isActivated:t,datePanelValue:n,datePanelType:o}=E;if(t){e.preventDefault();const t=Kp.hasKey(e,Bp.ARROW_LEFT),l=Kp.hasKey(e,Bp.ARROW_UP),r=Kp.hasKey(e,Bp.ARROW_RIGHT),a=Kp.hasKey(e,Bp.ARROW_DOWN);if("year"===o){let e=sp.getWhatYear(n||Date.now(),0,"first");t?e=sp.getWhatYear(e,-1):l?e=sp.getWhatYear(e,-4):r?e=sp.getWhatYear(e,1):a&&(e=sp.getWhatYear(e,4)),Et(e)}else if("quarter"===o){let e=sp.getWhatQuarter(n||Date.now(),0,"first");t?e=sp.getWhatQuarter(e,-1):l?e=sp.getWhatQuarter(e,-2):r?e=sp.getWhatQuarter(e,1):a&&(e=sp.getWhatQuarter(e,2)),Dt(e)}else if("month"===o){let e=sp.getWhatMonth(n||Date.now(),0,"first");t?e=sp.getWhatMonth(e,-1):l?e=sp.getWhatMonth(e,-4):r?e=sp.getWhatMonth(e,1):a&&(e=sp.getWhatMonth(e,4)),Tt(e)}else{let e=n||sp.getWhatDay(Date.now(),0,"first");const o=de.value;t?e=sp.getWhatDay(e,-1):l?e=sp.getWhatWeek(e,-1,o):r?e=sp.getWhatDay(e,1):a&&(e=sp.getWhatWeek(e,1,o)),St(e)}}})(t):(c||d)&&Ft(t)):i?r&&(o?E.datePanelValue?yt(E.datePanelValue):We():f&&Ft(t)):(p||m)&&r&&f&&(e=>{const{isActivated:t}=E;if(t){const t=Kp.hasKey(e,Bp.PAGE_UP);e.preventDefault(),t?vt(e):xt(e)}})(t),e||a?o&&We():l&&n&&f&&qe(t,null)}},Nt=e=>{const{visiblePanel:t}=E;if(!L.value&&t){mg(e,R.value).flag?Mt():(We(),et())}},Lt=()=>{const{isActivated:e,visiblePanel:t}=E;t?(We(),et()):e&&et()},_t=(t,n)=>{const{festivalMethod:o}=e;if(o){const{datePanelType:e}=E,l=o({type:e,viewType:e,date:t.date,$input:P}),r=l?sp.isString(l)?{label:l}:l:{},a=r.extra?sp.isString(r.extra)?{label:r.extra}:r.extra:null,i=[y("span",{class:["vxe-input--date-label",{"is-notice":r.notice}]},a&&a.label?[y("span",`${n||""}`),y("span",{class:["vxe-input--date-label--extra",a.important?"is-important":"",a.className],style:a.style},sp.toValueString(a.label))]:[`${n||""}`])],s=r.label;if(s){const e=sp.toValueString(s).split(",");i.push(y("span",{class:["vxe-input--date-festival",r.important?"is-important":"",r.className],style:r.style},[e.length>1?y("span",{class:["vxe-input--date-festival--overlap",`overlap--${e.length}`]},e.map((e=>y("span",e.substring(0,3))))):y("span",{class:"vxe-input--date-festival--label"},e[0].substring(0,3))]))}return i}return[`${n||""}`]},Bt=()=>{const{datePanelType:t}=E;switch(t){case"week":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=ge.value,a=Ce.value,i=J.value,s="yyyyMMdd";return[y("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("thead",[y("tr",r.map((e=>y("th",e.label))))]),y("tbody",a.map((e=>{const n=t?e.some((e=>i.some((t=>sp.isDateSame(t,e.date,s))))):e.some((e=>sp.isDateSame(l,e.date,s))),r=e.some((e=>sp.isDateSame(o,e.date,s)));return y("tr",e.map((e=>y("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":wt(e),"is--selected":n,"is--hover":r},onClick:()=>Ct(e),onMouseenter:()=>Ot(e)},_t(e,e.label)))))})))])]})();case"month":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=xe.value,a=J.value,i="yyyyMM";return[y("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tbody",r.map((e=>y("tr",e.map((e=>y("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":wt(e),"is--selected":t?a.some((t=>sp.isDateSame(t,e.date,i))):sp.isDateSame(l,e.date,i),"is--hover":sp.isDateSame(o,e.date,i)},onClick:()=>Ct(e),onMouseenter:()=>Ot(e)},_t(e,lm(`vxe.input.date.months.m${e.month}`)))))))))])]})();case"quarter":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=ve.value,a=J.value,i="yyyyq";return[y("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tbody",r.map((e=>y("tr",e.map((e=>y("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":wt(e),"is--selected":t?a.some((t=>sp.isDateSame(t,e.date,i))):sp.isDateSame(l,e.date,i),"is--hover":sp.isDateSame(o,e.date,i)},onClick:()=>Ct(e),onMouseenter:()=>Ot(e)},_t(e,lm(`vxe.input.date.quarters.q${e.quarter}`)))))))))])]})();case"year":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=fe.value,a=J.value,i="yyyy";return[y("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("tbody",r.map((e=>y("tr",e.map((e=>y("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":wt(e),"is--selected":t?a.some((t=>sp.isDateSame(t,e.date,i))):sp.isDateSame(l,e.date,i),"is--hover":sp.isDateSame(o,e.date,i)},onClick:()=>Ct(e),onMouseenter:()=>Ot(e)},_t(e,e.year))))))))])]})()}return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=E,l=oe.value,r=me.value,a=ye.value,i=J.value,s="yyyyMMdd";return[y("table",{class:`vxe-input--date-${n}-view`,cellspacing:0,cellpadding:0,border:0},[y("thead",[y("tr",r.map((e=>y("th",e.label))))]),y("tbody",a.map((e=>y("tr",e.map((e=>y("td",{class:{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":e.isNow,"is--next":e.isNext,"is--disabled":wt(e),"is--selected":t?i.some((t=>sp.isDateSame(t,e.date,s))):sp.isDateSame(l,e.date,s),"is--hover":sp.isDateSame(o,e.date,s)},onClick:()=>Ct(e),onMouseenter:()=>Ot(e)},_t(e,e.label))))))))])]})()},zt=()=>{const{multiple:t}=e,{datePanelType:n}=E,o=le.value,l=re.value,r=ue.value;return[y("div",{class:"vxe-input--date-picker-header"},[y("div",{class:"vxe-input--date-picker-type-wrapper"},["year"===n?y("span",{class:"vxe-input--date-picker-label"},r.y):y("span",{class:"vxe-input--date-picker-btns"},[y("span",{class:"vxe-input--date-picker-btn",onClick:ft},r.y),r.m?y("span",{class:"vxe-input--date-picker-btn",onClick:ht},r.m):Am()])]),y("div",{class:"vxe-input--date-picker-btn-wrapper"},[y("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":o}],onClick:vt},[y("i",{class:"vxe-icon-caret-left"})]),y("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:bt},[y("i",{class:"vxe-icon-dot"})]),y("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":l}],onClick:xt},[y("i",{class:"vxe-icon-caret-right"})]),t&&Q.value?y("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[y("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:It},lm("vxe.button.confirm"))]):null])]),y("div",{class:"vxe-input--date-picker-body"},Bt())]},jt=()=>{const{datetimePanelValue:e}=E,t=ae.value,n=Se.value,o=De.value,l=Ee.value,r=Te.value,a=Oe.value;return[y("div",{class:"vxe-input--time-picker-header"},[o?y("span",{class:"vxe-input--time-picker-title"},t):x(),y("div",{class:"vxe-input--time-picker-btn"},[y("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:It},lm("vxe.button.confirm"))])]),y("div",{ref:I,class:"vxe-input--time-picker-body"},[y("ul",{class:"vxe-input--time-picker-hour-list"},n.map(((t,n)=>y("li",{key:n,class:{"is--selected":e&&e.getHours()===t.value},onClick:e=>((e,t)=>{E.datetimePanelValue.setHours(t.value),Rt(e)})(e,t)},t.label)))),o?y("ul",{class:"vxe-input--time-picker-minute-list"},l.map(((t,n)=>y("li",{key:n,class:{"is--selected":e&&e.getMinutes()===t.value},onClick:e=>((e,t)=>{E.datetimePanelValue.setMinutes(t.value),Rt(e)})(e,t)},t.label)))):x(),o&&r?y("ul",{class:"vxe-input--time-picker-second-list"},a.map(((t,n)=>y("li",{key:n,class:{"is--selected":e&&e.getSeconds()===t.value},onClick:e=>((e,t)=>{E.datetimePanelValue.setSeconds(t.value),Rt(e)})(e,t)},t.label)))):x()])]},Ht=()=>{const{type:t}=e,{initialized:n,isAniVisible:o,visiblePanel:l,panelPlacement:r,panelStyle:a}=E,i=C.value,s=A.value,c=[];return W.value?("datetime"===t?c.push(y("div",{key:t,ref:R,class:"vxe-input--panel-layout-wrapper"},[y("div",{class:"vxe-input--panel-left-wrapper"},zt()),y("div",{class:"vxe-input--panel-right-wrapper"},jt())])):"time"===t?c.push(y("div",{key:t,ref:R,class:"vxe-input--panel-wrapper"},jt())):c.push(y("div",{key:t||"default",ref:R,class:"vxe-input--panel-wrapper"},zt())),y(S,{to:"body",disabled:!s||!n},[y("div",{ref:k,class:["vxe-table--ignore-clear vxe-input--panel",`type--${t}`,{[`size--${i}`]:i,"is--transfer":s,"ani--leave":o,"ani--enter":l}],placement:r,style:a},l||o?c:[])])):x()},Wt=()=>{const{controls:t}=e,n=z.value,o=W.value,l=q.value,r=U.value;return l?(()=>{const{showPwd:e}=E;return y("div",{class:"vxe-input--control-icon",onClick:tt},[y("i",{class:["vxe-input--password-icon",e?_p().PASSWORD_INPUT_SHOW_PWD:_p().PASSWORD_INPUT_HIDE_PWD]})])})():n&&t?(()=>{const e=Ve.value,t=Fe.value;return y("div",{class:"vxe-input--control-icon"},[y("div",{class:"vxe-input--number-icon"},[y("div",{class:["vxe-input--number-btn is--prev",{"is--disabled":e}],onMousedown:dt,onMouseup:ct,onMouseleave:ct},[y("i",{class:_p().INPUT_PLUS_NUM})]),y("div",{class:["vxe-input--number-btn is--next",{"is--disabled":t}],onMousedown:dt,onMouseup:ct,onMouseleave:ct},[y("i",{class:_p().INPUT_MINUS_NUM})])])])})():o?y("div",{class:"vxe-input--control-icon",onClick:Ft},[y("i",{class:["vxe-input--date-picker-icon",_p().DATE_PICKER_DATE]})]):r?y("div",{class:"vxe-input--control-icon",onClick:nt},[y("i",{class:["vxe-input--search-icon",_p().INPUT_SEARCH]})]):x()};F={dispatchEvent:(e,t,n)=>{a(e,Gp(n,{$input:P},t))},focus(){const e=O.value;return E.isActivated=!0,e.focus(),t()},blur:()=>(O.value.blur(),E.isActivated=!1,t()),select:()=>(O.value.select(),E.isActivated=!1,t()),showPanel:Pt,hidePanel:We,updatePlacement:Mt},Object.assign(P,F);return i((()=>e.modelValue),(e=>{E.inputValue=e,Ke()})),i((()=>e.type),(()=>{Object.assign(E,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),Ye()})),i(se,(()=>{W.value&&(Ge(E.datePanelValue),E.inputValue=e.multiple?te.value:E.datePanelLabel)})),f((()=>{Kp.on(P,"mousewheel",Nt),Kp.on(P,"mousedown",At),Kp.on(P,"keydown",$t),Kp.on(P,"blur",Lt)})),s((()=>{ct(),et(),Kp.off(P,"mousewheel"),Kp.off(P,"mousedown"),Kp.off(P,"keydown"),Kp.off(P,"blur")})),Ye(),P.renderVN=()=>{const{className:t,controls:n,type:o,align:r,showWordCount:a,countMethod:i,name:s,autoComplete:c,autocomplete:u}=e,{inputValue:d,visiblePanel:p,isActivated:m}=E,g=C.value,f=L.value;if($.value)return y("div",{ref:T,class:["vxe-input--readonly",`type--${o}`,t]},d);const h=H.value,v=j.value,b=ke.value,w=_.value,S=Re.value,D=Ie.value,k=Y.value,R=a&&["text","search"].includes(o),I=(()=>{const{prefixIcon:t}=e,n=l.prefix;return n||t?y("div",{class:"vxe-input--prefix",onClick:He},[y("div",{class:"vxe-input--prefix-icon"},n?Zm(n({})):[y("i",{class:t})])]):null})(),M=(()=>{const{suffixIcon:t}=e,{inputValue:n}=E,o=l.suffix,r=L.value,a=z.value,i=W.value,s=q.value,c=U.value,u=Y.value,d=s||a||i||c;return u||o||t||d?y("div",{class:["vxe-input--suffix",{"is--clear":u&&!r&&!(""===n||sp.eqNull(n))}]},[u?y("div",{class:"vxe-input--clear-icon",onClick:qe},[y("i",{class:_p().INPUT_CLEAR})]):x(),d?Wt():x(),o||t?y("div",{class:"vxe-input--suffix-icon",onClick:Ue},o?Zm(o({})):[y("i",{class:t})]):x()]):null})();return y("div",{ref:T,class:["vxe-input",`type--${o}`,t,{[`size--${g}`]:g,[`is--${r}`]:r,"is--controls":n,"is--prefix":!!I,"is--suffix":!!M,"is--visible":p,"is--count":R,"is--disabled":f,"is--active":m,"show--clear":k&&!f&&!(""===d||sp.eqNull(d))}],spellcheck:!1},[I||x(),y("div",{class:"vxe-input--wrapper"},[y("input",{ref:O,class:"vxe-input--inner",value:d,name:s,type:S,placeholder:D,maxlength:w,readonly:b,disabled:f,autocomplete:c||u,onKeydown:it,onKeyup:st,onWheel:pt,onClick:Vt,onInput:_e,onChange:Be,onFocus:je,onBlur:ze})]),M||x(),Ht(),R?y("span",{class:["vxe-input--count",{"is--error":h}]},i?`${i({value:d})}`:`${v}${w?`/${w}`:""}`):x()])},P},render(){return this.renderVN()}}),qf=p({name:"VxeColorPicker",props:{modelValue:String,placeholder:String,clearable:{type:Boolean,default:()=>Ap().colorPicker.clearable},type:{type:String,default:()=>Ap().colorPicker.type},size:{type:String,default:()=>Ap().colorPicker.size||Ap().size},className:[String,Function],popupClassName:[String,Function],colors:{type:Array,default:()=>sp.clone(Ap().colorPicker.colors,!0)||[]},showAlpha:{type:Boolean,default:()=>Ap().colorPicker.showAlpha},showEyeDropper:{type:Boolean,default:()=>Ap().colorPicker.showEyeDropper},showColorExtractor:{type:Boolean,default:()=>Ap().colorPicker.showColorExtractor},showQuick:{type:Boolean,default:()=>Ap().colorPicker.showQuick},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},clickToCopy:{type:Boolean,default:()=>Ap().colorPicker.clickToCopy},placement:String,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","click"],setup(e,o){const{emit:l}=o,a=n("$xeModal",null),s=n("$xeDrawer",null),c=n("$xeTable",null),u=n("$xeForm",null),d=n("xeFormItemInfo",null),p="undefined"!=typeof window?window.EyeDropper:null,v=sp.uniqueId(),{computeSize:x}=Om(e),w=r(),C=r(),E=r(),D=r(),T=r(),O=r(),k=r(),R=r(),I=r(),M=m({initialized:!1,selectColor:`${e.modelValue||""}`,panelColor:"",hexValue:"",rValue:0,gValue:0,bValue:0,aValue:0,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),P={},F=g((()=>{const{readonly:t}=e;return null===t?!!u&&u.props.readonly:t})),V=g((()=>{const{disabled:t}=e;return null===t?!!u&&u.props.disabled:t})),A=g((()=>{const{transfer:t}=e;if(null===t){const e=Ap().colorPicker.transfer;if(sp.isBoolean(e))return e;if(c||a||s||u)return!0}return t})),$=g((()=>{const{colors:t}=e;return t?t.map((e=>sp.isString(e)?{label:e,value:e}:{label:sp.eqNull(e.label)?e.value:e.label,value:e.value})):[]})),N=g((()=>{const{type:t}=e;return"rgb"===t||"rgba"===t?"rgb":"hex"})),L=g((()=>"rgb"===N.value)),_={refElem:w},B={},z={xID:v,props:e,context:o,reactData:M,getRefMaps:()=>_,getComputeMaps:()=>B},j=()=>{const{modelValue:t}=e;M.selectColor=sp.toValueString(t),H()},H=()=>{const{selectColor:e,isAniVisible:t}=M,n=L.value,o=D.value,l=O.value,r=Nf(e);if(M.hexValue=r.hex,M.rValue=r.r,M.gValue=r.g,M.bValue=r.b,M.aValue=r.a,r.value)if(n){if("hex"===r.type){const e=zf(r.hex);e&&(M.rValue=e.r,M.gValue=e.g,M.bValue=e.b,M.aValue=e.a)}}else"hex"!==r.type&&(M.hexValue=function(e){if(!e)return"";const{r:t,g:n,b:o,a:l=1}=e;return`#${t.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}${1===l?"":Vf[l]||""}`.toUpperCase()}(r));if(t){const e="hex"===r.type?Bf(r.hex):_f(r),t=R.value;if(e){if(t){const n=t.clientHeight*(1-e.v),o=t.clientWidth*e.s;ie(o,n)}o&&J(sp.ceil((1-e.h/360)*o.clientWidth))}l&&ne(l.clientWidth*r.a)}},W=()=>{const{placement:n}=e,{panelIndex:o}=M,l=w.value,r=E.value,a=A.value,i=()=>{const e=bg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});M.panelStyle=t,M.panelPlacement=e.placement};return i(),t().then(i)},q=()=>{const{hpTimeout:e}=P;V.value||(e&&(clearTimeout(e),P.hpTimeout=void 0),M.initialized||(M.initialized=!0),M.isActivated=!0,M.isAniVisible=!0,setTimeout((()=>{H(),M.visiblePanel=!0}),10),M.panelIndex<_g()&&(M.panelIndex=Lg()),W())},U=()=>{M.visiblePanel=!1,P.hpTimeout=setTimeout((()=>{M.isAniVisible=!1}),350)},G=(t,n)=>{M.selectColor=n,n!==e.modelValue&&((e=>{l("update:modelValue",e)})(n),ge("change",{value:n},t),u&&d&&u.triggerItemEvent(t,d.itemConfig.field,n))},K=()=>{V.value||M.visiblePanel||q()},Y=()=>{M.isActivated=!1},X=e=>{((e,t)=>{G(e,t),ge("clear",{value:t},e)})(e,null),U()},Z=e=>{const{selectColor:t}=M;G(e,t),U()},Q=e=>{(e=>{e.preventDefault(),M.visiblePanel?U():q()})(e),ge("click",{},e)},J=e=>{const t=D.value,n=T.value;if(t&&n){e<0&&(e=0);const o=sp.toInteger(t.clientWidth),l=255,r=6*l,a=sp.ceil(r/o*e),i=a%l;let s=0,c=0,u=0;switch(Math.ceil(a/l)){case 1:s=l,u=i;break;case 2:s=l-i,u=l;break;case 3:c=i,u=l;break;case 4:c=l,u=l-i;break;case 5:s=i,c=l;break;case 6:s=l,c=l-i}M.panelColor=Lf(s,c,u),n.style.left=dg(e)}},ee=e=>{const t=D.value,n=T.value;if(t&&n){const n=t.getBoundingClientRect(),o=sp.toInteger(t.clientWidth),l=sp.ceil(Math.min(o-1,Math.max(1,e.clientX-n.x)));J(l)}},te=e=>{e.preventDefault(),document.onmousemove=e=>{e.preventDefault(),ee(e)},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,ee(e)}},ne=e=>{const{selectColor:t}=M,n=O.value,o=k.value;if(n&&o){const l=n.getBoundingClientRect().width;e<0&&(e=0),e>l&&(e=l);const r=sp.ceil(100/l*e/100,2);M.aValue=r,o.style.left=dg(e),M.selectColor=function(e,t=1){const n=Nf(e),{type:o,hexV:l,r:r,g:a,b:i}=n;return"rgb"===o||"rgba"===o?Lf(r,a,i,t):"hex"===o?`#${l}${1===t?"":Vf[t]||""}`:""}(t,r)}},oe=e=>{const t=O.value,n=k.value;if(t&&n){const n=t.getBoundingClientRect(),o=n.width,l=Math.min(o,Math.max(0,e.clientX-n.x));ne(l),H()}},le=e=>{e.preventDefault(),document.onmousemove=e=>{e.preventDefault(),oe(e)},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,oe(e)}},re=()=>{const{rValue:e,gValue:t,bValue:n,aValue:o}=M;M.selectColor=Lf(e,t,n,o),H()},ae=()=>{const{aValue:e}=M,t=O.value,n=k.value;if(t&&n){const n=t.getBoundingClientRect().width;ne(n*e)}},ie=(e,t)=>{const n=I.value;n&&(n.style.top=dg(t),n.style.left=dg(e))},se=()=>{if(p)try{(new p).open().then((e=>{e&&e.sRGBHex&&(M.selectColor=e.sRGBHex,H())})).catch((()=>{}))}catch(e){}},ce=t=>{const{showAlpha:n}=e,{panelColor:o,aValue:l}=M,r=R.value,a=I.value;if(r&&a){const e=r.getBoundingClientRect(),a=t.clientY-e.y,i=t.clientX-e.x,s=Nf(o);if(s){const e="hex"===s.type?Bf(s.hex):_f(s);if(e){const t=function(e,t,n){let o=0,l=0,r=0;const a=Math.floor(e/60),i=e/60-a,s=n*(1-t),c=n*(1-i*t),u=n*(1-(1-i)*t);switch(a){case 0:o=n,l=u,r=s;break;case 1:o=c,l=n,r=s;break;case 2:o=s,l=n,r=u;break;case 3:o=s,l=c,r=n;break;case 4:o=u,l=s,r=n;break;case 5:o=n,l=s,r=c}return{r:Math.round(255*o),g:Math.round(255*l),b:Math.round(255*r)}}(e.h,i/r.clientWidth,1-a/r.clientHeight);M.selectColor=Lf(t.r,t.g,t.b,n?l:null),ie(i,a),H()}}}},ue=()=>{const{selectColor:e}=M;e&&$m.clipboard.copy(e)&&$m.modal&&$m.modal.message({content:lm("vxe.colorPicker.copySuccess",[e]),status:"success"})},de=e=>{const{visiblePanel:t}=M;if(!V.value&&t){mg(e,E.value).flag?W():U()}},pe=e=>{const{visiblePanel:t}=M;if(!V.value){const n=w.value,o=E.value;M.isActivated=mg(e,n).flag||mg(e,o).flag,t&&!M.isActivated&&U()}},me=()=>{U()},ge=(e,t,n)=>{l(e,Gp(n,{$colorPicker:z},t))},fe={dispatchEvent:ge};Object.assign(z,fe,{});const he=()=>{const{showColorExtractor:t}=e,{panelColor:n}=M;return t?y("div",{ref:R,class:"vxe-color-picker--color-wrapper",onMousedown:ce},[y("div",{class:"vxe-color-picker--color-bg",style:{backgroundColor:n}}),y("div",{class:"vxe-color-picker--white-bg"}),y("div",{class:"vxe-color-picker--black-bg"}),y("div",{ref:I,class:"vxe-color-picker--color-active"})]):Am()},ve=()=>{const{showAlpha:t,clickToCopy:n,showEyeDropper:o}=e,{hexValue:l,rValue:r,gValue:a,bValue:i,aValue:s,selectColor:c,panelColor:u}=M,d=N.value,m=L.value;return y("div",{class:"vxe-color-picker--bar-wrapper"},[y("div",{class:"vxe-color-picker--slider-wrapper"},[o&&p?y("div",{class:"vxe-color-picker--color-dropper"},[y("span",{class:"vxe-color-picker--color-dropper-btn",onClick:se},[y("i",{class:_p().EYE_DROPPER})])]):Am(),y("div",{class:"vxe-color-picker--slider-preview"},[y("div",{class:"vxe-color-picker--preview-btn"},[y("div",{class:"vxe-color-picker--preview-color",style:{backgroundColor:c}},n?[y("span",{class:"vxe-color-picker--preview-copy-btn",onClick:ue},[y("i",{class:_p().COLOR_COPY})])]:[])])]),y("div",{class:"vxe-color-picker--slider-handle"},[y("div",{ref:D,class:"vxe-color-picker--bar-hue-slider",onClick:ee},[y("div",{ref:T,class:"vxe-color-picker--bar-hue-btn",onMousedown:te})]),t?y("div",{ref:O,class:"vxe-color-picker--bar-alpha-slider",onClick:oe},[y("div",{class:"vxe-color-picker--bar-alpha-bg",style:{background:`linear-gradient(to right, rgba(0, 0, 0, 0), ${u})`}}),y("div",{ref:k,class:"vxe-color-picker--bar-alpha-btn",onMousedown:le})]):Am()])]),y("div",{class:`vxe-color-picker--${d}-wrapper`},m?[y("div",{class:"vxe-color-picker--input-wrapper"},[y(Wf,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:r,"onUpdate:modelValue"(e){M.rValue=e},onChange:re}),y(Wf,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:a,"onUpdate:modelValue"(e){M.gValue=e},onChange:re}),y(Wf,{type:"integer",size:"mini",align:"center",min:0,max:255,maxLength:3,placeholder:"",modelValue:i,"onUpdate:modelValue"(e){M.bValue=e},onChange:re}),y(Wf,{type:"number",size:"mini",align:"center",min:0,max:1,step:.01,maxLength:4,placeholder:"",modelValue:s,"onUpdate:modelValue"(e){M.aValue=e},onChange:ae})]),y("div",{class:"vxe-color-picker--input-title"},[y("span","R"),y("span","G"),y("span","B"),y("span","A")])]:[y("div",{class:"vxe-color-picker--input-title"},"HEX"),y("div",{class:"vxe-color-picker--input-wrapper"},[y(Wf,{type:"text",size:"mini",align:"center",maxLength:9,placeholder:"",modelValue:l,"onUpdate:modelValue"(e){M.hexValue=e},onChange(){const e=Nf(M.hexValue);e&&e.value&&(M.selectColor=e.value,H())}})])])])},be=()=>{const{showQuick:t}=e,n=$.value;return t&&n.length?y("div",{class:"vxe-color-picker--quick-wrapper"},n.map(((e,t)=>y("div",{key:t,class:"vxe-color-picker--quick-item",title:e.label||"",style:{backgroundColor:e.value},onClick(t){((e,t)=>{const n=t.value;M.selectColor=n,H()})(0,e)}})))):Am()};return i((()=>e.modelValue),(()=>{j()})),f((()=>{Kp.on(z,"mousewheel",de),Kp.on(z,"mousedown",pe),Kp.on(z,"blur",me)})),h((()=>{Kp.off(z,"mousewheel"),Kp.off(z,"mousedown"),Kp.off(z,"blur")})),j(),b("$xeColorPicker",z),z.renderVN=()=>{const{className:t,popupClassName:n,clearable:o,modelValue:l}=e,{initialized:r,isActivated:a,isAniVisible:i,visiblePanel:s}=M,c=x.value,u=V.value,d=A.value;return F.value?y("div",{ref:w,class:["vxe-color-picker--readonly",t]},[y("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:l}})]):y("div",{ref:w,class:["vxe-color-picker",t?sp.isFunction(t)?t({$colorPicker:z}):t:"",{[`size--${c}`]:c,"is--selected":!!l,"is--visible":s,"is--disabled":u,"is--active":a}]},[y("input",{ref:C,class:"vxe-color-picker--input",onFocus:K,onBlur:Y}),y("div",{class:"vxe-color-picker--inner",onClick:Q},[y("div",{class:"vxe-color-picker--inner-color",style:{backgroundColor:l}})]),y(S,{to:"body",disabled:!d||!r},[y("div",{ref:E,class:["vxe-table--ignore-clear vxe-color-picker--panel",n?sp.isFunction(n)?n({$colorPicker:z}):n:"",{[`size--${c}`]:c,"is--transfer":d,"ani--leave":i,"ani--enter":s}],placement:M.panelPlacement,style:M.panelStyle},[r&&(s||i)?y("div",{class:"vxe-color-picker--panel-wrapper"},[he(),ve(),be(),y("div",{class:"vxe-color-picker--footer-wrapper"},[o?y(qg,{content:lm("vxe.colorPicker.clear"),size:"mini",onClick:X}):Am(),y(qg,{content:lm("vxe.colorPicker.confirm"),size:"mini",status:"primary",onClick:Z})])]):Am()])])])},z},render(){return this.renderVN()}}),Uf=Object.assign({},qf,{install(e){e.component(qf.name,qf)}});_m.use(Uf),$m.component(qf);const Gf=Uf,Kf=p({name:"VxeText",props:{status:String,title:[String,Number],icon:String,loading:Boolean,content:[String,Number],clickToCopy:Boolean,size:{type:String,default:()=>Ap().text.size||Ap().size}},emits:["click"],setup(e,t){const{emit:n,slots:o}=t,l=sp.uniqueId(),{computeSize:a}=Om(e),i=r(),s=r(),c=m({}),u={refElem:i},d={},p=()=>{const{content:t,clickToCopy:n}=e;if(n){const e=s.value,n=(e?e.textContent:"")||t;n&&($m.clipboard.copy(n)?$m.modal&&$m.modal.message({content:lm("vxe.text.copySuccess"),status:"success"}):$m.modal&&$m.modal.message({content:lm("vxe.text.copyError"),status:"error"}))}},g={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},f=(e,t,o)=>{n(e,Gp(o,{$text:g},t))},h={dispatchEvent:f},v=t=>{const{loading:n}=e;n||f("click",{},t)};Object.assign(g,h,{});return g.renderVN=()=>{const{loading:t,status:n,title:l,clickToCopy:r}=e,c=a.value;return y("span",{ref:i,title:l,class:["vxe-text",{[`size--${c}`]:c,[`theme--${n}`]:n,"is--copy":r,"is--loading":t}],onClick:v},(()=>{const{loading:t,icon:n,content:l,clickToCopy:r}=e,a=o.default,i=o.icon;return[t?y("span",{class:"vxe-text--loading"},[y("i",{class:_p().TEXT_LOADING})]):i||n||r?y("span",{class:"vxe-text--icon",onClick:p},i?Zm(i({})):[y("i",{class:n||_p().TEXT_COPY})]):x(),y("span",{ref:s,class:"vxe-text--content"},a?a({}):sp.toValueString(l))]})())},g},render(){return this.renderVN()}}),Yf=p({name:"VxeCountdown",props:{modelValue:[Number,String],format:String,prefixConfig:Object,suffixConfig:Object,size:{type:String,default:()=>Ap().countdown.size||Ap().size}},emits:["update:modelValue","start","end"],setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId(),a=r(),{computeSize:s}=Om(e),c=m({currNum:0,secondNum:0}),u={dnTimeout:void 0},d={refElem:a},p=g((()=>{const{secondNum:e}=c;return e>=316224e5?["yyyy","MM","dd","HH","mm","ss"]:e>=26784e5?["MM","dd","HH","mm","ss"]:e>=864e5?["dd","HH","mm","ss"]:e>=36e5?["HH","mm","ss"]:e>=6e4?["mm","ss"]:["ss"]})),v=g((()=>{const{currNum:e}=c;return sp.getDateDiff(Date.now(),Date.now()+e)})),b=g((()=>{const{format:t}=e,n=v.value;let o="";return t?(o=`${t}`,sp.each(n,((e,t)=>{o=o.replace(new RegExp(t,"g"),sp.padStart(e,t.length,"0"))})),o):o})),x=g((()=>Object.assign({},e.prefixConfig,Ap().countdown.prefixConfig))),w=g((()=>Object.assign({},e.suffixConfig,Ap().countdown.suffixConfig))),C={computeSize:s},S={xID:l,props:e,context:t,reactData:c,internalData:u,getRefMaps:()=>d,getComputeMaps:()=>C},E=(e,t,n)=>{o(e,Gp(n,{$carousel:S},t))},D=()=>{const t=sp.toNumber(e.modelValue||0);c.secondNum=t,c.currNum=t},T=()=>{const{currNum:e}=c;e>1e3?(c.currNum-=1e3,u.dnTimeout=setTimeout((()=>{T()}),1e3)):(c.currNum=0,R())},O={dispatchEvent:E},k=()=>{E("start",{},null),T()},R=()=>{const{dnTimeout:e}=u;e&&(clearTimeout(e),u.dnTimeout=void 0,E("end",{},null))};Object.assign(S,O,{});const I=()=>{const{format:t}=e,n=p.value,o=v.value,l=b.value;return t?[y("div",{key:"format",class:"vxe-countdown--content-format"},l)]:n.map(((e,t)=>y("div",{key:t,class:"vxe-countdown--content-item"},[y("div",{class:"vxe-countdown--content-num"},`${o[e]||0}`),y("div",{class:"vxe-countdown--content-unit"},lm(`vxe.countdown.formats.${e}`))])))};return i((()=>e.modelValue),(()=>{D(),R(),k()})),h((()=>{R()})),f((()=>{k()})),D(),S.renderVN=()=>{const{prefixConfig:t,suffixConfig:o}=e,{currNum:l}=c,r=s.value,i=v.value,u=x.value,d=w.value,p=n.prefix,m=n.suffix,g=n.default;return y("div",{ref:a,class:["vxe-countdown",i.done?"is--progress":"is-end",{[`size--${r}`]:r}]},[p||t?y("div",{class:"vxe-countdown--prefix"},p?Zm(p({currentValue:l,diffConf:i})):[y(Kf,{content:u.content,icon:u.icon,status:u.status})]):Am(),y("div",{class:"vxe-countdown--content"},g?Zm(g({currentValue:l,diffConf:i})):I()),m||o?y("div",{class:"vxe-countdown--suffix"},m?Zm(m({currentValue:l,diffConf:i})):[y(Kf,{content:d.content,icon:d.icon,status:d.status})]):Am()])},S},render(){return this.renderVN()}}),Xf=Object.assign({},Yf,{install(e){e.component(Yf.name,Yf)}});_m.use(Xf),$m.component(Yf);const Zf=Xf,Qf=p({name:"VxeDatePanel",props:{modelValue:[String,Number,Date],type:{type:String,default:"date"},className:String,size:{type:String,default:()=>Ap().datePanel.size||Ap().size},multiple:Boolean,limitCount:{type:[String,Number],default:()=>Ap().datePanel.limitCount},startDate:{type:[String,Number,Date],default:()=>Ap().datePanel.startDate},endDate:{type:[String,Number,Date],default:()=>Ap().datePanel.endDate},defaultDate:[String,Number,Date],minDate:[String,Number,Date],maxDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>Ap().datePanel.startDay},labelFormat:String,valueFormat:String,festivalMethod:{type:Function,default:()=>Ap().datePanel.festivalMethod},disabledMethod:{type:Function,default:()=>Ap().datePanel.disabledMethod},selectDay:{type:[String,Number],default:()=>Ap().datePanel.selectDay}},emits:["update:modelValue","change","click","clear","date-prev","date-today","date-next","confirm"],setup(e,n){const{emit:o}=n,l=sp.uniqueId(),{computeSize:a}=Om(e),s=m({visiblePanel:!1,isAniVisible:!1,isActivated:!1,inputValue:"",datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),c={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0},u=r(),d=r(),p=r(),f={refElem:u},h={xID:l,props:e,context:n,reactData:s,internalData:c,getRefMaps:()=>f},v=g((()=>{const{type:t}=e;return"time"===t||"datetime"===t})),b=g((()=>v.value||["date","week","month","quarter","year"].indexOf(e.type)>-1)),x=g((()=>e.startDate?sp.toStringDate(e.startDate):null)),w=g((()=>e.endDate?sp.toStringDate(e.endDate):null)),C=g((()=>{const{modelValue:t,multiple:n}=e,o=b.value,l=O.value;return n&&t&&o?sp.toValueString(t).split(",").map((e=>{const t=ee(e,l);return sp.isValidDate(t),t})):[]})),S=g((()=>{const e=C.value,t=O.value;return e.map((e=>sp.toDateString(e,t)))})),E=g((()=>{const e=C.value,t=F.value;return e.map((e=>sp.toDateString(e,t))).join(", ")})),D=g((()=>e.multiple?sp.toNumber(e.limitCount):0)),T=g((()=>{const{multiple:t}=e,n=D.value,o=S.value;return!(!t||!n)&&o.length>=n})),O=g((()=>{const{type:t,valueFormat:n}=e;return n||("time"===t?"HH:mm:ss":"datetime"===t?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")})),k=g((()=>{const{modelValue:t}=e,n=b.value,o=O.value;let l=null;if(t&&n){const e=ee(t,o);sp.isValidDate(e)&&(l=e)}return l})),R=g((()=>{const e=x.value,{selectMonth:t}=s;return!(!t||!e)&&t<=e})),I=g((()=>{const e=w.value,{selectMonth:t}=s;return!(!t||!e)&&sp.getWhatMonth(t,0,"last")>=e})),M=g((()=>{const{datetimePanelValue:e}=s,t=Z.value,n=X.value;return e?sp.toDateString(e,n&&t?"HH:mm:ss":n?"HH:mm":"HH"):""})),P=g((()=>{const e=k.value,t=v.value;return e&&t?1e3*(3600*e.getHours()+60*e.getMinutes()+e.getSeconds()):0})),F=g((()=>{const{labelFormat:t}=e;return b.value?t||lm(`vxe.input.date.labelFormat.${e.type}`):""})),V=g((()=>{const{yearSize:e}=c,{selectMonth:t,currentDate:n}=s,o=[];if(t&&n){const l=n.getFullYear(),r=t.getFullYear(),a=new Date(r-r%e,0,1);for(let t=-4;t<e+4;t++){const n=sp.getWhatYear(a,t,"first"),r=n.getFullYear();o.push({date:n,isCurrent:!0,isPrev:t<0,isNow:l===r,isNext:t>=e,year:r})}}return o})),A=g((()=>{let e="",t="";if(b.value){const{datePanelType:n,selectMonth:o}=s,l=V.value;let r,a="";o&&(a=o.getFullYear(),r=o.getMonth()+1),"quarter"===n||"month"===n?e=lm("vxe.datePicker.yearTitle",[a]):"year"===n?e=l.length?`${l[0].year} - ${l[l.length-1].year}`:"":(e=lm("vxe.datePicker.yearTitle",[a]),t=r?lm(`vxe.input.date.m${r}`):"-")}return{y:e,m:t}})),$=g((()=>{const{startDay:t}=e;return sp.toNumber(t)})),N=g((()=>{const e=[];if(b.value){let t=$.value;e.push(t);for(let n=0;n<6;n++)t>=6?t=0:t++,e.push(t)}return e})),L=g((()=>{if(b.value){return N.value.map((e=>({value:e,label:lm(`vxe.input.date.weeks.w${e}`)})))}return[]})),_=g((()=>{if(b.value){const e=L.value;return[{label:lm("vxe.input.date.weeks.w")}].concat(e)}return[]})),B=g((()=>{const e=V.value;return sp.chunk(e,4)})),z=g((()=>{const{quarterSize:e}=c,{selectMonth:t,currentDate:n}=s,o=[];if(t&&n){const l=n.getFullYear(),r=Qg(n),a=sp.getWhatYear(t,0,"first"),i=a.getFullYear();for(let t=-2;t<e-2;t++){const e=sp.getWhatQuarter(a,t),n=e.getFullYear(),s=Qg(e),c=n<i;o.push({date:e,isPrev:c,isCurrent:n===i,isNow:n===l&&s===r,isNext:!c&&n>i,quarter:s})}}return o})),j=g((()=>{const e=z.value;return sp.chunk(e,2)})),H=g((()=>{const{monthSize:e}=c,{selectMonth:t,currentDate:n}=s,o=[];if(t&&n){const l=n.getFullYear(),r=n.getMonth(),a=sp.getWhatYear(t,0,"first").getFullYear();for(let n=-4;n<e-4;n++){const e=sp.getWhatYear(t,0,n),i=e.getFullYear(),s=e.getMonth(),c=i<a;o.push({date:e,isPrev:c,isCurrent:i===a,isNow:i===l&&s===r,isNext:!c&&i>a,month:s})}}return o})),W=g((()=>{const e=H.value;return sp.chunk(e,4)})),q=g((()=>{const{selectMonth:e,currentDate:t}=s,n=[];if(e&&t){const o=P.value,l=N.value,r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),s=e.getFullYear(),c=e.getMonth(),u=e.getDay(),d=-l.indexOf(u),p=new Date(sp.getWhatDay(e,d).getTime()+o);for(let t=0;t<42;t++){const o=sp.getWhatDay(p,t),l=o.getFullYear(),u=o.getMonth(),d=o.getDate(),m=o<e;n.push({date:o,isPrev:m,isCurrent:l===s&&u===c,isNow:l===r&&u===a&&d===i,isNext:!m&&c!==u,label:d})}}return n})),U=g((()=>{const e=q.value;return sp.chunk(e,7)})),G=g((()=>{const e=U.value,t=$.value;return e.map((e=>{const n=e[0];return[{date:n.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:sp.getYearWeek(n.date,t)}].concat(e)}))})),K=g((()=>{const e=[];if(v.value)for(let t=0;t<24;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),Y=g((()=>{const e=[];if(v.value)for(let t=0;t<60;t++)e.push({value:t,label:(""+t).padStart(2,"0")});return e})),X=g((()=>{const e=O.value;return!/HH/.test(e)||/mm/.test(e)})),Z=g((()=>{const e=O.value;return!/HH/.test(e)||/ss/.test(e)})),Q=g((()=>Y.value)),J=t=>{const{type:n}=e,o=O.value;s.inputValue=Jg(t,n,{valueFormat:o}),Ce()},ee=(t,n)=>{const{type:o,multiple:l}=e;return"time"===o?Zg(t):sp.isArray(t)?sp.toStringDate(t[0],n):sp.isString(t)?sp.toStringDate(l?sp.last(t.split(",")):t,n):sp.toStringDate(t,n)},te=t=>{const{type:n}=e,{inputValue:o,datetimePanelValue:l}=s,r=F.value;if(t){let a=ee(t,r);if(sp.isValidDate(a))if("time"===n)a=sp.toDateString(a,r),o!==a&&ne(a,{type:"check"}),s.inputValue=a;else{let e=!1;const o=$.value;if("datetime"===n){const n=k.value;t===sp.toDateString(n,r)&&t===sp.toDateString(a,r)||(e=!0,l&&(l.setHours(a.getHours()),l.setMinutes(a.getMinutes()),l.setSeconds(a.getSeconds())))}else e=!0;s.inputValue=sp.toDateString(a,r,{firstDay:o}),e&&se(a)}else s.inputValue=e.multiple?E.value:s.datePanelLabel}else ne("",{type:"check"})},ne=(t,n)=>{const{modelValue:l}=e;s.inputValue=t,o("update:modelValue",t),sp.toValueString(l)!==t&&Se("change",{value:t},n)},oe=()=>new Promise((e=>{s.visiblePanel=!1,c.hpTimeout=setTimeout((()=>{s.isAniVisible=!1,e()}),350)})),le=t=>{const{type:n}=e,o=F.value,l=tf(t,n,{valueFormat:O.value,labelFormat:o,firstDay:$.value});s.datePanelValue=l.value,s.datePanelLabel=l.label},re=()=>{const t=b.value,{inputValue:n}=s;t&&(le(n),s.inputValue=e.multiple?E.value:s.datePanelLabel)},ae=()=>{const{modelValue:t}=e,n=b.value;J(t),n&&re()},ie=e=>{const t=$.value,n=sp.getYearWeek(e,t),o=sp.getWhatWeek(e,0,t,t),l=sp.getWhatMonth(1===n?sp.getWhatDay(o,6):e,0,"first");sp.isEqual(l,s.selectMonth)||(s.selectMonth=l)},se=(t,n)=>{const{modelValue:o,multiple:l}=e,{datetimePanelValue:r}=s,a=v.value,i=O.value,c=$.value;if("week"===e.type){const n=sp.toNumber(e.selectDay);t=sp.getWhatWeek(t,0,n,c)}else a&&r&&(t.setHours(r.getHours()),t.setMinutes(r.getMinutes()),t.setSeconds(r.getSeconds()));const u=sp.toDateString(t,i,{firstDay:c});if(ie(t),l){const e=T.value;if(a){const o=n?[]:[...C.value],l=[],a=sp.findIndexOf(o,(e=>sp.isDateSame(t,e,"yyyyMMdd")));if(-1===a){if(e)return;o.push(t)}else o.splice(a,1);o.forEach((e=>{e&&(r&&(e.setHours(r.getHours()),e.setMinutes(r.getMinutes()),e.setSeconds(r.getSeconds())),l.push(e))})),ne(l.map((e=>sp.toDateString(e,i))).join(","),{type:"update"})}else{const t=n?[]:S.value;if(t.some((e=>sp.isEqual(e,u))))ne(t.filter((e=>!sp.isEqual(e,u))).join(","),{type:"update"});else{if(e)return;ne(t.concat([u]).join(","),{type:"update"})}}}else sp.isEqual(o,u)||ne(u,{type:"update"})},ce=(e,t)=>{const n=$.value,o=sp.getYearWeek(e,n),l=sp.getWhatWeek(e,0,n,n),r=sp.getWhatMonth(1===o?sp.getWhatDay(l,6):e,t,"first");s.selectMonth=r},ue=()=>{const{type:t}=e,n=$.value;let o=new Date;switch(t){case"week":o=sp.getWhatWeek(o,0,n);break;case"datetime":o=new Date,s.datetimePanelValue=new Date;break;default:o=sp.getWhatDay(Date.now(),0,"first")}s.currentDate=o,ce(o,0)},de=()=>{s.datePanelType="year"},pe=()=>{let{datePanelType:e}=s;e="month"===e||"quarter"===e?"year":"month",s.datePanelType=e},me=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l,inputValue:r}=s,{yearSize:a}=c,i=r;if(!R.value){let e;e="year"===n?sp.getWhatYear(l,-a,"first"):"month"===n||"quarter"===n?"year"===o?sp.getWhatYear(l,-a,"first"):sp.getWhatYear(l,-1,"first"):"year"===o?sp.getWhatYear(l,-a,"first"):"month"===o?sp.getWhatYear(l,-1,"first"):sp.getWhatMonth(l,-1,"first"),s.selectMonth=e,Se("date-prev",{viewType:o,viewDate:e,value:i,type:n},t)}},ge=t=>{ue(),se(s.currentDate,!0),e.multiple||oe(),Se("date-today",{type:e.type},t)},fe=t=>{const{type:n}=e,{datePanelType:o,selectMonth:l,inputValue:r}=s,{yearSize:a}=c,i=r;if(!I.value){let e;e="year"===n?sp.getWhatYear(l,a,"first"):"month"===n||"quarter"===n?"year"===o?sp.getWhatYear(l,a,"first"):sp.getWhatYear(l,1,"first"):"year"===o?sp.getWhatYear(l,a,"first"):"month"===o?sp.getWhatYear(l,1,"first"):sp.getWhatMonth(l,1,"first"),s.selectMonth=e,Se("date-next",{viewType:o,value:i,type:n},t)}},he=t=>{const{disabledMethod:n}=e,{datePanelType:o}=s,l=x.value,r=w.value,{date:a}=t;return!!(l&&l.getTime()>a.getTime())||(!!(r&&r.getTime()<a.getTime())||!!n&&n({type:o,viewType:o,date:a,$datePanel:h}))},ve=t=>{he(t)||(t=>{const{type:n,multiple:o}=e,{datePanelType:l}=s;"month"===n?"year"===l?(s.datePanelType="month",ie(t)):(se(t),o||oe()):"year"===n?(se(t),o||oe()):"quarter"===n?"year"===l?(s.datePanelType="quarter",ie(t)):(se(t),o||oe()):"month"===l?(s.datePanelType="week"===n?n:"day",ie(t)):"year"===l?(s.datePanelType="month",ie(t)):(se(t),"datetime"===n||o||oe())})(t.date)},be=e=>{if(!he(e)){const{datePanelType:r}=s;"month"===r?(l=e.date,he({date:l})||(H.value.some((e=>sp.isDateSame(e.date,l,"yyyyMM")))||ie(l),le(l))):"quarter"===r?(o=e.date,he({date:o})||(z.value.some((e=>sp.isDateSame(e.date,o,"yyyyq")))||ie(o),le(o))):"year"===r?(n=e.date,he({date:n})||(V.value.some((e=>sp.isDateSame(e.date,n,"yyyy")))||ie(n),le(n))):(t=e.date,he({date:t})||(q.value.some((e=>sp.isDateSame(e.date,t,"yyyyMMdd")))||ie(t),le(t)))}var t,n,o,l},xe=()=>{s.datePanelValue=null},we=e=>{if(e){const t=e.offsetHeight;e.parentNode.scrollTop=e.offsetTop-4*t}},ye=e=>{const{datetimePanelValue:t}=s;s.datetimePanelValue=t?new Date(t.getTime()):new Date,we(e.currentTarget)},Ce=()=>{const{type:n,defaultDate:o}=e,l=v.value,r=O.value,a=k.value;if(["year","quarter","month","week"].indexOf(n)>-1?s.datePanelType=n:s.datePanelType="day",s.currentDate=sp.getWhatDay(Date.now(),0,"first"),a)ce(a,0),le(a);else if(o){const e=ee(o,r);sp.isValidDate(e)?ce(e,0):ue()}else ue();l&&(s.datetimePanelValue=s.datePanelValue||sp.getWhatDay(Date.now(),0,"first"),t((()=>{const e=p.value;sp.arrayEach(e.querySelectorAll("li.is--selected"),(e=>{we(e)}))})))},Se=(e,t,n)=>{o(e,Gp(n,{$datePanel:h},t))},Ee={dispatchEvent:Se,getModelValue:()=>s.inputValue,setPanelDate(e){e&&ie(e)},getPanelDate:()=>s.selectMonth,checkValue(e){te(e)},confirmByEvent(t){(t=>{const{multiple:n}=e,{datetimePanelValue:o}=s,l=k.value,r=v.value;if(r){const e=O.value;if(n){const t=S.value;if(r){const t=[...C.value],n=[];t.forEach((e=>{e&&(o&&(e.setHours(o.getHours()),e.setMinutes(o.getMinutes()),e.setSeconds(o.getSeconds())),n.push(e))})),ne(n.map((t=>sp.toDateString(t,e))).join(","),{type:"update"})}else ne(t.join(","),{type:"update"})}else se(l||s.currentDate)}oe(),Se("confirm",{},t)})(t)}};Object.assign(h,Ee);const De=(t,n)=>{const{festivalMethod:o}=e,l=[];if(o){const{datePanelType:e}=s,r=o({type:e,viewType:e,date:t.date,$datePanel:h}),a=r?sp.isString(r)?{label:r}:r:{},i=a.extra?sp.isString(a.extra)?{label:a.extra}:a.extra:null;l.push(y("div",{class:["vxe-date-panel--label",{"is-notice":a.notice}]},i&&i.label?[y("div",`${n}`),y("div",{class:["vxe-date-panel--label--extra",i.important?"is-important":"",i.className],style:i.style},sp.toValueString(i.label))]:`${n}`));const c=a.label;if(c){const e=sp.toValueString(c).split(",");l.push(y("div",{class:["vxe-date-panel--festival",a.important?"is-important":"",a.className],style:a.style},[e.length>1?y("div",{class:["vxe-date-panel--festival--overlap",`overlap--${e.length}`]},e.map((e=>y("div",e.substring(0,3))))):y("div",{class:"vxe-date-panel--festival--label"},e[0].substring(0,3))]))}}return l},Te=()=>{const{datePanelType:t}=s;switch(t){case"week":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=s,l=k.value,r=_.value,a=G.value,i=C.value,c=T.value,u="yyyyMMdd";return[y("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[y("div",{class:"vxe-date-panel--view-header"},[y("div",{class:"vxe-date-panel--view-row"},r.map(((e,t)=>y("div",{class:"vxe-date-panel--view-item",style:{width:(t?13:9)+"%"}},[y("div",{class:"vxe-date-panel--view-item-inner"},[y("div",{class:"vxe-date-panel--view-item-label"},e.label)])]))))]),y("div",{class:"vxe-date-panel--view-body"},a.map((e=>{const n=t?e.some((e=>i.some((t=>sp.isDateSame(t,e.date,u))))):e.some((e=>sp.isDateSame(l,e.date,u))),r=e.some((e=>sp.isDateSame(o,e.date,u))),s=e.some((e=>e.isNow));return y("div",{class:"vxe-date-panel--view-row",style:{height:100/a.length+"%"}},e.map(((e,t)=>y("div",{class:["vxe-date-panel--view-item",{"is--prev":e.isPrev,"is--current":e.isCurrent,"is--now":t?e.isNow:s,"is--next":e.isNext,"is--disabled":he(e),"is--selected":n,"is--over":c&&!n,"is--hover":!c&&r}],style:{width:(t?13:9)+"%"},onClick:()=>ve(e),onMouseenter:()=>be(e),onMouseleave:xe},[y("div",{class:"vxe-date-panel--view-item-inner"},De(e,e.label))]))))})))])]})();case"month":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=s,l=k.value,r=W.value,a=C.value,i=T.value,c="yyyyMM";return[y("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[y("div",{class:"vxe-date-panel--view-body"},r.map((e=>y("div",{class:"vxe-date-panel--view-row",style:{height:100/r.length+"%"}},e.map((n=>{const r=t?a.some((e=>sp.isDateSame(e,n.date,c))):sp.isDateSame(l,n.date,c);return y("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--disabled":he(n),"is--selected":r,"is--over":i&&!r,"is--hover":!i&&sp.isDateSame(o,n.date,c)}],style:{width:100/e.length+"%"},onClick:()=>ve(n),onMouseenter:()=>be(n),onMouseleave:xe},[y("div",{class:"vxe-date-panel--view-item-inner"},De(n,lm(`vxe.input.date.months.m${n.month}`)))])}))))))])]})();case"quarter":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=s,l=k.value,r=j.value,a=C.value,i=T.value,c="yyyyq";return[y("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[y("div",{class:"vxe-date-panel--view-body"},r.map((e=>y("div",{class:"vxe-date-panel--view-row",style:{height:100/r.length+"%"}},e.map((n=>{const r=t?a.some((e=>sp.isDateSame(e,n.date,c))):sp.isDateSame(l,n.date,c);return y("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--disabled":he(n),"is--selected":r,"is--over":i&&!r,"is--hover":!i&&sp.isDateSame(o,n.date,c)}],style:{width:100/e.length+"%"},onClick:()=>ve(n),onMouseenter:()=>be(n),onMouseleave:xe},[y("div",{class:"vxe-date-panel--view-item-inner"},De(n,lm(`vxe.input.date.quarters.q${n.quarter}`)))])}))))))])]})();case"year":return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=s,l=k.value,r=B.value,a=C.value,i=T.value,c="yyyy";return[y("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[y("div",{class:"vxe-date-panel--view-body"},r.map((e=>y("div",{class:"vxe-date-panel--view-row",style:{height:100/r.length+"%"}},e.map((n=>{const r=t?a.some((e=>sp.isDateSame(e,n.date,c))):sp.isDateSame(l,n.date,c);return y("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--disabled":he(n),"is--selected":r,"is--over":i&&!r,"is--hover":!i&&sp.isDateSame(o,n.date,c)}],style:{width:100/e.length+"%"},onClick:()=>ve(n),onMouseenter:()=>be(n),onMouseleave:xe},[y("div",{class:"vxe-date-panel--view-item-inner"},De(n,n.year))])}))))))])]})()}return(()=>{const{multiple:t}=e,{datePanelType:n,datePanelValue:o}=s,l=k.value,r=L.value,a=U.value,i=C.value,c=T.value,u="yyyyMMdd";return[y("div",{class:["vxe-date-panel--view-wrapper",`type--${n}`]},[y("div",{class:"vxe-date-panel--view-header"},[y("div",{class:"vxe-date-panel--view-row"},r.map((e=>y("div",{class:"vxe-date-panel--view-item",style:{width:100/r.length+"%"}},[y("div",{class:"vxe-date-panel--view-item-inner"},[y("div",{class:"vxe-date-panel--view-item-label"},e.label)])]))))]),y("div",{class:"vxe-date-panel--view-body"},a.map((e=>y("div",{class:"vxe-date-panel--view-row",style:{height:100/a.length+"%"}},e.map((n=>{const r=t?i.some((e=>sp.isDateSame(e,n.date,u))):sp.isDateSame(l,n.date,u);return y("div",{class:["vxe-date-panel--view-item",{"is--prev":n.isPrev,"is--current":n.isCurrent,"is--now":n.isNow,"is--next":n.isNext,"is--disabled":he(n),"is--selected":r,"is--over":c&&!r,"is--hover":!c&&sp.isDateSame(o,n.date,u)}],style:{width:100/e.length+"%"},onClick:()=>ve(n),onMouseenter:()=>be(n),onMouseleave:xe},[y("div",{class:"vxe-date-panel--view-item-inner"},De(n,n.label))])}))))))])]})()},Oe=()=>{const{datePanelType:e}=s,t=R.value,n=I.value,o=A.value;return[y("div",{class:"vxe-date-panel--picker-header"},[y("div",{class:"vxe-date-panel--picker-type-wrapper"},["year"===e?y("span",{class:"vxe-date-panel--picker-label"},o.y):y("span",{class:"vxe-date-panel--picker-btns"},[y("span",{class:"vxe-date-panel--picker-btn",onClick:de},o.y),o.m?y("span",{class:"vxe-date-panel--picker-btn",onClick:pe},o.m):Am()])]),y("div",{class:"vxe-date-panel--picker-btn-wrapper"},[y("span",{class:["vxe-date-panel--picker-btn vxe-date-panel--picker-prev-btn",{"is--disabled":t}],onClick:me},[y("i",{class:"vxe-icon-caret-left"})]),y("span",{class:"vxe-date-panel--picker-btn vxe-date-panel--picker-current-btn",onClick:ge},[y("i",{class:"vxe-icon-dot"})]),y("span",{class:["vxe-date-panel--picker-btn vxe-date-panel--picker-next-btn",{"is--disabled":n}],onClick:fe},[y("i",{class:"vxe-icon-caret-right"})])])]),y("div",{class:"vxe-date-panel--picker-body"},Te())]},ke=()=>{const{type:t}=e,{datetimePanelValue:n}=s,o=M.value,l=K.value,r=X.value,a=Y.value,i=Z.value,c=Q.value;return["time"===t?Am():y("div",{class:"vxe-date-panel--time-header"},[y("div",{class:"vxe-date-panel--time-title"},o)]),y("div",{ref:p,class:"vxe-date-panel--time-body"},[y("ul",{class:"vxe-date-panel--time-hour-list"},l.map(((e,t)=>y("li",{key:t,class:{"is--selected":n&&n.getHours()===e.value},onClick:t=>((e,t)=>{const{datetimePanelValue:n}=s;n&&n.setHours(t.value),ye(e)})(t,e)},e.label)))),r?y("ul",{class:"vxe-date-panel--time-minute-list"},a.map(((e,t)=>y("li",{key:t,class:{"is--selected":n&&n.getMinutes()===e.value},onClick:t=>((e,t)=>{const{datetimePanelValue:n}=s;n&&n.setMinutes(t.value),ye(e)})(t,e)},e.label)))):Am(),r&&i?y("ul",{class:"vxe-date-panel--time-second-list"},c.map(((e,t)=>y("li",{key:t,class:{"is--selected":n&&n.getSeconds()===e.value},onClick:t=>((e,t)=>{const{datetimePanelValue:n}=s;n&&n.setSeconds(t.value),ye(e)})(t,e)},e.label)))):Am()])]},Re=()=>{const{type:t}=e;return"datetime"===t?y("div",{key:t,ref:d,class:"vxe-date-panel--time-layout-wrapper"},[y("div",{class:"vxe-date-panel--time-left-wrapper"},Oe()),y("div",{class:"vxe-date-panel--time-right-wrapper"},ke())]):"time"===t?y("div",{key:t,ref:d,class:"vxe-date-panel--wrapper"},ke()):y("div",{key:t||"default",ref:d,class:"vxe-date-panel--wrapper"},Oe())};return i((()=>e.modelValue),(e=>{J(e),re()})),i((()=>e.type),(()=>{Object.assign(s,{inputValue:"",datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),ae()})),i(F,(()=>{b.value&&(le(s.datePanelValue),s.inputValue=e.multiple?E.value:s.datePanelLabel)})),ae(),Ce(),h.renderVN=()=>{const{type:t}=e,n=a.value;return y("div",{class:["vxe-date-panel",`type--${t}`,{[`size--${n}`]:n}]},[Re()])},h},render(){return this.renderVN()}}),Jf=Object.assign({},Qf,{install(e){e.component(Qf.name,Qf)}});_m.use(Jf),$m.component(Qf);const eh=Jf,th=p({name:"VxeDatePicker",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"date"},clearable:{type:Boolean,default:()=>Ap().datePicker.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,autoComplete:{type:String,default:"off"},form:String,className:String,size:{type:String,default:()=>Ap().datePicker.size||Ap().size},multiple:Boolean,limitCount:{type:[String,Number],default:()=>Ap().upload.limitCount},startDate:{type:[String,Number,Date],default:()=>Ap().datePicker.startDate},endDate:{type:[String,Number,Date],default:()=>Ap().datePicker.endDate},defaultDate:[String,Number,Date],minDate:[String,Number,Date],maxDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>Ap().datePicker.startDay},labelFormat:String,valueFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>Ap().datePicker.festivalMethod},disabledMethod:{type:Function,default:()=>Ap().datePicker.disabledMethod},selectDay:{type:[String,Number],default:()=>Ap().datePicker.selectDay},showClearButton:{type:Boolean,default:()=>Ap().datePicker.showClearButton},showConfirmButton:{type:Boolean,default:()=>Ap().datePicker.showConfirmButton},autoClose:{type:Boolean,default:()=>Ap().datePicker.autoClose},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},shortcutConfig:Object,startWeek:Number},emits:["update:modelValue","input","change","keydown","keyup","click","focus","blur","clear","prefix-click","suffix-click","date-prev","date-today","date-next","shortcut-click"],setup(e,o){const{slots:l,emit:a}=o,s=n("$xeModal",null),c=n("$xeDrawer",null),u=n("$xeTable",null),d=n("$xeForm",null),p=n("xeFormItemInfo",null),f=sp.uniqueId(),{computeSize:v}=Om(e),x=m({initialized:!1,panelIndex:0,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:"",inputLabel:""}),w={hpTimeout:void 0},C=r(),E=r(),D=r(),T=r(),O=r(),k={refElem:C,refInput:E},R={xID:f,props:e,context:o,reactData:x,internalData:w,getRefMaps:()=>k},I=g((()=>{const{transfer:t}=e;if(null===t){const e=Ap().datePicker.transfer;if(sp.isBoolean(e))return e;if(u||s||c||d)return!0}return t})),M=g((()=>{const{readonly:t}=e;return null===t?!!d&&d.props.readonly:t})),P=g((()=>{const{disabled:t}=e;return null===t?!!d&&d.props.disabled:t})),F=g((()=>{const{type:t}=e;return"time"===t||"datetime"===t})),V=g((()=>F.value||["date","week","month","quarter","year"].indexOf(e.type)>-1)),A=g((()=>e.clearable)),$=g((()=>{const{type:t,editable:n,multiple:o}=e;return M.value||o||!n||"week"===t||"quarter"===t})),N=g((()=>{const{placeholder:t}=e;if(t)return zg(t);const n=Ap().datePicker.placeholder;return n?zg(n):lm("vxe.base.pleaseSelect")})),L=g((()=>{const{immediate:t}=e;return t})),_=g((()=>Object.assign({},Ap().datePicker.shortcutConfig,e.shortcutConfig))),B=g((()=>{const e=_.value,{options:t}=e;return t?t.map(((e,t)=>Object.assign({name:`${e.name||e.code||t}`},e))):[]})),z=g((()=>{const{labelFormat:t}=e;return t||lm(`vxe.input.date.labelFormat.${e.type}`)})),j=g((()=>{const{type:t,valueFormat:n}=e;return n||("time"===t?"HH:mm:ss":"datetime"===t?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")})),H=g((()=>{const{startDay:t}=e;return sp.toNumber(t)})),W=g((()=>{const{type:t,multiple:n}=e,{inputValue:o}=x,l=z.value,r=j.value,a=H.value;return(o?n?o.split(","):[o]:[]).map((e=>tf(e,t,{valueFormat:r,labelFormat:l,firstDay:a}).label)).join(", ")})),q=()=>{const{modelValue:t}=e;let n="";t&&(n=sp.isNumber(t)&&/^[0-9]{11,15}$/.test(`${t}`)?new Date(t):t),x.inputValue=n},U=e=>{const{inputValue:t}=x;ge(e.type,{value:t},e)},G=(t,n)=>{const{modelValue:o}=e;x.inputValue=t,a("update:modelValue",t),sp.toValueString(o)!==t&&(ge("change",{value:t},n),d&&p&&d.triggerItemEvent(n,p.itemConfig.field,t))},K=e=>{const t=e.target.value;x.inputLabel=t,ge("input",{value:t},e)},Y=e=>{L.value||U(e)},X=e=>{x.isActivated=!0;V.value&&de(e),U(e)},Z=e=>{if(!P.value){const{inputValue:t}=x;ge("prefix-click",{value:t},e)}},Q=()=>new Promise((e=>{x.visiblePanel=!1,w.hpTimeout=setTimeout((()=>{x.isAniVisible=!1,e()}),350)})),J=(e,t)=>{V.value&&Q(),G("",e),ge("clear",{value:t},e)},ee=e=>{if(!P.value){const{inputValue:t}=x;ge("suffix-click",{value:t},e)}},te=e=>{const t=O.value,{inputValue:n}=x,o=n;L.value||G(o,e),x.visiblePanel||(x.isActivated=!1),t&&t.checkValue(x.inputLabel),ge("blur",{value:o},e),d&&p&&d.triggerItemEvent(e,p.itemConfig.field,o)},ne=e=>{U(e)},oe=e=>{U(e)},le=e=>{const t=O.value;t&&t.confirmByEvent(e),Q()},re=t=>{const{multiple:n,autoClose:o}=e,{value:l,$event:r}=t,a=F.value;G(l,r),n||a||o&&Q()},ae=e=>{const t=O.value,{visiblePanel:n,isActivated:o}=x,l=C.value,r=T.value;!P.value&&o&&(x.isActivated=mg(e,l).flag||mg(e,r).flag,x.isActivated||n&&(Q(),t&&t.checkValue(x.inputLabel)))},ie=e=>{const{visiblePanel:t}=x;if(!P.value&&t){mg(e,T.value).flag?ce():Q()}},se=()=>{const e=O.value,{isActivated:t,visiblePanel:n}=x;n?(Q(),e&&e.checkValue(x.inputLabel)):t&&e&&e.checkValue(x.inputLabel)},ce=()=>{const{placement:n}=e,{panelIndex:o}=x,l=E.value,r=D.value,a=I.value,i=()=>{const e=bg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});x.panelStyle=t,x.panelPlacement=e.placement};return i(),t().then(i)},ue=()=>{const{visiblePanel:e}=x;return P.value||e?t():(x.initialized||(x.initialized=!0),w.hpTimeout&&(clearTimeout(w.hpTimeout),w.hpTimeout=void 0),x.isActivated=!0,x.isAniVisible=!0,setTimeout((()=>{x.visiblePanel=!0}),10),x.panelIndex<_g()&&(x.panelIndex=Lg()),ce())},de=e=>{M.value||(e.preventDefault(),ue())},pe=e=>{U(e)},me=({option:t,$event:n})=>{const{type:o}=e,{inputValue:l}=x,r=_.value,{autoClose:a}=r,{code:i,clickMethod:s}=t;let c=l;const u={$datePicker:R,option:t,value:c,code:i};if(!s&&i){const e=bm.get(i),t=e?e.datePickerCommandMethod:null;if(t)t(u);else{const e=j.value,t=H.value;switch(i){case"now":case"prev":case"next":case"minus":case"plus":{const l=function(e,t,n,o){const{valueFormat:l,firstDay:r}=o;let a=null;const i=("prev"===e||"next"===e?new Date:t?Jg(t,n,o):null)||new Date;switch(e){case"prev":case"next":case"minus":case"plus":{const t="plus"===e||"next"===e?1:-1;switch(n){case"date":case"datetime":a=sp.getWhatDay(i,t);break;case"week":a=sp.getWhatWeek(i,t,r,r);break;case"month":a=sp.getWhatMonth(i,t);break;case"quarter":a=sp.getWhatQuarter(i,t);break;case"year":a=sp.getWhatYear(i,t)}break}default:a=new Date}return{value:a?sp.toDateString(a,l):""}}(i,c,o,{valueFormat:e,firstDay:t});c=l.value,u.value=c,G(c,n);break}default:Hm("vxe.error.notCommands",[i])}}}else{const e=s||r.clickMethod;e&&e(u)}a&&Q(),ge("shortcut-click",u,n)},ge=(e,t,n)=>{a(e,Gp(n,{$datePicker:R},t))},fe={dispatchEvent:ge,setModelValue(e){x.inputValue=e,a("update:modelValue",e)},setModelValueByEvent(e,t){G(t||"",e)},focus(){const e=E.value;return x.isActivated=!0,e.focus(),t()},blur:()=>(E.value.blur(),x.isActivated=!1,t()),select:()=>(E.value.select(),x.isActivated=!1,t()),showPanel:ue,hidePanel:Q,updatePlacement:ce};Object.assign(R,fe);const he=(e,t)=>{const n=_.value,{position:o,align:l,mode:r}=n,a=B.value;return Ng(n)&&a.length&&(o||"left")===e?y("div",{class:`vxe-date-picker--layout-${e}-wrapper`},[y(Kg,{options:a,mode:r,align:l,vertical:t,onClick:me})]):Am()},ve=()=>{const{type:t,multiple:n,showClearButton:o,showConfirmButton:r}=e,{initialized:a,isAniVisible:i,visiblePanel:s,panelPlacement:c,panelStyle:u,inputValue:d}=x,p=v.value,m=I.value,g=_.value,f=A.value,h=F.value,b=B.value,{position:w}=g,C=l.header,E=l.footer,k=l.top,R=l.bottom,M=l.left,P=l.right,V=b.length>0,$=null===r?h||n:r,N=null===o?f&&$&&"time"!==t:o;return y(S,{to:"body",disabled:!m||!a},[y("div",{ref:D,class:["vxe-table--ignore-clear vxe-date-picker--panel",`type--${t}`,{[`size--${p}`]:p,"is--transfer":m,"ani--leave":i,"ani--enter":s,"show--top":!!(k||C||V&&("top"===w||"header"===w)),"show--bottom":!!(R||E||V&&("bottom"===w||"footer"===w)),"show--left":!!(M||V&&"left"===w),"show--right":!!(P||V&&"right"===w)}],placement:c,style:u},a&&(s||i)?[y("div",{ref:T,class:["vxe-date-picker--layout-all-wrapper",`type--${t}`,{[`size--${p}`]:p}]},[k?y("div",{class:"vxe-date-picker--layout-top-wrapper"},k({})):he("top"),y("div",{class:"vxe-date-picker--layout-body-layout-wrapper"},[M?y("div",{class:"vxe-date-picker--layout-left-wrapper"},M({})):he("left",!0),y("div",{class:"vxe-date-picker--layout-body-content-wrapper"},[C?y("div",{class:"vxe-date-picker--layout-header-wrapper"},C({})):he("header"),y("div",{class:"vxe-date-picker--layout-body-wrapper"},[y(Qf,{ref:O,modelValue:x.inputValue,type:e.type,className:e.className,multiple:e.multiple,limitCount:e.limitCount,startDate:e.startDate,endDate:e.endDate,minDate:e.minDate,defaultDate:e.defaultDate,maxDate:e.maxDate,startDay:e.startDay,labelFormat:e.labelFormat,valueFormat:e.valueFormat,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:re})]),y("div",{class:"vxe-date-picker--layout-footer-wrapper"},[y("div",{class:"vxe-date-picker--layout-footer-custom"},E?E({}):[he("footer")]),N||$?y("div",{class:"vxe-date-picker--layout-footer-btns"},[N?y(qg,{size:"mini",disabled:""===d||sp.eqNull(d),content:lm("vxe.button.clear"),onClick:J}):Am(),$?y(qg,{size:"mini",status:"primary",content:lm("vxe.button.confirm"),onClick:le}):Am()]):Am()])]),P?y("div",{class:"vxe-date-picker--layout-right-wrapper"},P({})):he("right",!0)]),R?y("div",{class:"vxe-date-picker--layout-bottom-wrapper"},R({})):he("bottom")])]:[])])},be=()=>y("div",{class:"vxe-date-picker--control-icon",onClick:de},[y("i",{class:["vxe-date-picker--date-picker-icon",_p().DATE_PICKER_DATE]})]);return i(W,(e=>{x.inputLabel=e})),i((()=>e.modelValue),(()=>{q()})),t((()=>{Kp.on(R,"mousewheel",ie),Kp.on(R,"mousedown",ae),Kp.on(R,"blur",se)})),h((()=>{Kp.off(R,"mousewheel"),Kp.off(R,"mousedown"),Kp.off(R,"blur")})),q(),b("$xeDatePicker",R),R.renderVN=()=>{const{className:t,type:n,name:o,autoComplete:r}=e,{inputValue:a,inputLabel:i,visiblePanel:s,isActivated:c}=x,u=v.value,d=P.value,p=M.value,m=W.value;if(p)return y("div",{ref:C,class:["vxe-date-picker--readonly",`type--${n}`,t]},m);const g=$.value,f=N.value,h=A.value,b=(()=>{const{prefixIcon:t}=e,n=l.prefix;return n||t?y("div",{class:"vxe-date-picker--prefix",onClick:Z},[y("div",{class:"vxe-date-picker--prefix-icon"},n?Zm(n({})):[y("i",{class:t})])]):null})(),w=(()=>{const{suffixIcon:t}=e,{inputValue:n}=x,o=l.suffix,r=P.value,a=A.value;return y("div",{class:["vxe-date-picker--suffix",{"is--clear":a&&!r&&!(""===n||sp.eqNull(n))}]},[a?y("div",{class:"vxe-date-picker--clear-icon",onClick:J},[y("i",{class:_p().INPUT_CLEAR})]):Am(),be(),o||t?y("div",{class:"vxe-date-picker--suffix-icon",onClick:ee},o?Zm(o({})):[y("i",{class:t})]):Am()])})();return y("div",{ref:C,class:["vxe-date-picker",`type--${n}`,t,{[`size--${u}`]:u,"is--prefix":!!b,"is--suffix":!!w,"is--visible":s,"is--disabled":d,"is--active":c,"show--clear":h&&!d&&!(""===a||sp.eqNull(a))}],spellcheck:!1},[b||Am(),y("div",{class:"vxe-date-picker--wrapper"},[y("input",{ref:E,class:"vxe-date-picker--inner",value:i,name:o,type:"text",placeholder:f,readonly:g,disabled:d,autocomplete:r,onKeydown:ne,onKeyup:oe,onClick:pe,onInput:K,onChange:Y,onFocus:X,onBlur:te})]),w||Am(),ve()])},R},render(){return this.renderVN()}}),nh=Object.assign({},th,{install(e){e.component(th.name,th)}});_m.use(nh),$m.component(th);const oh=nh,lh=p({name:"VxeDateRangePicker",props:{modelValue:[String,Number,Date,Array],startValue:[String,Number,Date],endValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"date"},clearable:{type:Boolean,default:()=>Ap().dateRangePicker.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,autoComplete:{type:String,default:"off"},form:String,className:String,size:{type:String,default:()=>Ap().dateRangePicker.size||Ap().size},minDate:[String,Number,Date],maxDate:[String,Number,Date],defaultDate:[String,Number,Date],startDay:{type:[String,Number],default:()=>Ap().dateRangePicker.startDay},labelFormat:String,valueFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>Ap().dateRangePicker.festivalMethod},disabledMethod:{type:Function,default:()=>Ap().dateRangePicker.disabledMethod},separator:{type:[String,Number],default:()=>Ap().dateRangePicker.separator},selectDay:{type:[String,Number],default:()=>Ap().dateRangePicker.selectDay},showClearButton:{type:Boolean,default:()=>Ap().dateRangePicker.showClearButton},showConfirmButton:{type:Boolean,default:()=>Ap().dateRangePicker.showConfirmButton},autoClose:{type:Boolean,default:()=>Ap().dateRangePicker.autoClose},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},shortcutConfig:Object},emits:["update:modelValue","update:startValue","update:endValue","input","change","keydown","keyup","click","focus","blur","clear","prefix-click","suffix-click","date-prev","date-today","date-next","shortcut-click"],setup(e,o){const{slots:l,emit:a}=o,u=n("$xeModal",null),d=n("$xeDrawer",null),p=n("$xeTable",null),f=n("$xeForm",null),v=n("xeFormItemInfo",null),x=sp.uniqueId(),{computeSize:w}=Om(e),C=m({initialized:!1,panelIndex:0,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,startValue:"",endValue:""}),E={},D=r(),T=r(),O=r(),k=r(),R=r(),I=r(),M={refElem:D,refInput:T},P={xID:x,props:e,context:o,reactData:C,internalData:E,getRefMaps:()=>M};let F={};const V=g((()=>{const{transfer:t}=e;if(null===t){const e=Ap().dateRangePicker.transfer;if(sp.isBoolean(e))return e;if(p||u||d||f)return!0}return t})),A=g((()=>{const{readonly:t}=e;return null===t?!!f&&f.props.readonly:t})),$=g((()=>{const{disabled:t}=e;return null===t?!!f&&f.props.disabled:t})),N=g((()=>{const{startValue:t,endValue:n}=e;return`${t||""}${n||""}`})),L=g((()=>{const{type:t}=e;return"time"===t||"datetime"===t})),_=g((()=>["date","week","month","quarter","year"].indexOf(e.type)>-1)),B=g((()=>e.clearable)),z=g((()=>{const{placeholder:t}=e;if(t)return zg(t);const n=Ap().dateRangePicker.placeholder;return n?zg(n):lm("vxe.dateRangePicker.pleaseRange")})),j=g((()=>{const{immediate:t}=e;return t})),H=g((()=>Object.assign({},Ap().dateRangePicker.shortcutConfig,e.shortcutConfig))),W=g((()=>{const e=H.value,{options:t}=e;return t?t.map(((e,t)=>Object.assign({name:`${e.name||e.code||t}`},e))):[]})),q=g((()=>{const{labelFormat:t}=e;return t||lm(`vxe.input.date.labelFormat.${e.type}`)})),U=g((()=>{const{type:t,valueFormat:n}=e;return n||("time"===t?"HH:mm:ss":"datetime"===t?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")})),G=g((()=>{const{startDay:t}=e;return sp.toNumber(t)})),K=g((()=>{const{startValue:e,endValue:t}=C;return X(e||t?[e||"",t||""]:[])})),Y=g((()=>K.value.label)),X=t=>{const{type:n,separator:o}=e,l=q.value,r=U.value,a=G.value,i=t[0]?tf(t[0],n,{valueFormat:r,labelFormat:l,firstDay:a}):null,s=t[1]?tf(t[1],n,{valueFormat:r,labelFormat:l,firstDay:a}):null,c=i?i.label:"",u=s?s.label:"";return{label:(c||u?[c,u]:[]).join(`${o||" ~ "}`),startLabel:c,endLabel:u}},Z=(t,n)=>{const{modelValue:o}=e,l=sp.isArray(o);if(t||n){const e=[t||"",n||""];return l?e:e.join(",")}return l?[]:""},Q=()=>{const{type:t,modelValue:n}=e,o=U.value;let l="",r="";if(sp.isArray(n)){const e=ef(n[0],t,{valueFormat:o}),a=ef(n[1],t,{valueFormat:o});(e||a)&&(l=e||"",r=a||"")}else if(sp.isString(n)){const e=n.split(",");(e[0]||e[1])&&(l=e[0]||"",r=e[1]||"")}return{sValue:l,eValue:r}},J=()=>{const{type:t,startValue:n,endValue:o}=e,l=U.value;let r="",a="";return r=ef(n,t,{valueFormat:l}),a=ef(o,t,{valueFormat:l}),{sValue:r,eValue:a}},ee=t=>{const{modelValue:n,startValue:o,endValue:l}=e;let r={sValue:"",eValue:""};r=t?n?Q():J():o||l?J():Q(),C.startValue=r.sValue,C.endValue=r.eValue},te=e=>{const{startValue:t,endValue:n}=C,o=Z(t,n);De(e.type,{value:o,startValue:t,endValue:n},e)},ne=(t,n,o)=>{const{modelValue:l}=e;C.startValue=t,C.endValue=n;const r=Z(t,n);a("update:modelValue",r),a("update:startValue",t||""),a("update:endValue",n||""),sp.toValueString(l)!==r&&(De("change",{value:r},o),f&&v&&f.triggerItemEvent(o,v.itemConfig.field,r))},oe=e=>{j.value||te(e)},le=e=>{C.isActivated=!0,Ce(e),te(e)},re=e=>{if(!$.value){const{startValue:t,endValue:n}=C,o=Z(t,n);De("prefix-click",{value:o,startValue:t,endValue:n},e)}},ae=()=>new Promise((e=>{C.visiblePanel=!1,E.hpTimeout=setTimeout((()=>{C.isAniVisible=!1,e()}),350)})),ie=(e,t)=>{_.value&&ae(),ne("","",e),De("clear",{value:t},e)},se=()=>{const e=R.value,t=I.value;if(e&&t){const n=e.getModelValue(),o=t.getModelValue();n&&o||ne("","",{type:"check"})}},ce=()=>{const{autoClose:t}=e,{startValue:n,endValue:o}=C,{selectStatus:l}=E,r=_.value;t?l&&r&&n&&o&&ae():n&&o&&(E.selectStatus=!1)},ue=e=>{if(!$.value){const{startValue:t,endValue:n}=C,o=Z(t,n);De("suffix-click",{value:o,startValue:t,endValue:n},e)}},de=e=>{const{startValue:t,endValue:n}=C;j.value||ne(t,n,e),C.visiblePanel||(C.isActivated=!1),De("blur",{value:"",startValue:t,endValue:n},e),f&&v&&f.triggerItemEvent(e,v.itemConfig.field,"")},pe=e=>{te(e)},me=e=>{te(e)},ge=e=>{const t=R.value,n=I.value;if(t&&n){const o=t.getModelValue(),l=n.getModelValue();o&&!l||!o&&l?ne("","",e):(t.confirmByEvent(e),n.confirmByEvent(e))}ae()},fe=e=>{const{selectStatus:n}=E,{value:o,$event:l}=e,r=n?C.endValue:"";ne(o,r,l),ce(),n||(E.selectStatus=!0),t((()=>{const e=R.value,t=I.value;if(e&&t){const n=e.getModelValue();!r&&n&&t.setPanelDate(sp.toStringDate(n))}}))},he=e=>{const{selectStatus:n}=E,{value:o,$event:l}=e,r=n?C.startValue:"";ne(r,o,l),ce(),n||(E.selectStatus=!0),t((()=>{const e=R.value,t=I.value;if(e&&t){const n=t.getModelValue();!r&&n&&e.setPanelDate(sp.toStringDate(n))}}))},ve=e=>{const{visiblePanel:t,isActivated:n}=C,o=D.value,l=k.value;!$.value&&n&&(C.isActivated=mg(e,o).flag||mg(e,l).flag,C.isActivated||t&&(se(),ae()))},be=e=>{const{visiblePanel:t}=C;if(!$.value&&t){mg(e,k.value).flag?we():ae()}},xe=()=>{const{visiblePanel:e}=C;e&&ae()},we=()=>{const{placement:n}=e,{panelIndex:o}=C,l=T.value,r=O.value,a=V.value,i=()=>{const e=bg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});C.panelStyle=t,C.panelPlacement=e.placement};return i(),t().then(i)},ye=()=>{const{visiblePanel:e}=C;return $.value||e?t():(C.initialized||(C.initialized=!0),E.hpTimeout&&(clearTimeout(E.hpTimeout),E.hpTimeout=void 0),E.selectStatus=!1,C.isActivated=!0,C.isAniVisible=!0,setTimeout((()=>{C.visiblePanel=!0}),10),C.panelIndex<_g()&&(C.panelIndex=Lg()),we())},Ce=e=>{A.value||(e.preventDefault(),ye())},Se=e=>{te(e)},Ee=({option:t,$event:n})=>{const{type:o}=e,l=H.value,{autoClose:r}=l,{code:a,clickMethod:i}=t;let s=C.startValue,c=C.endValue,u=Z(s,c);const d={$dateRangePicker:P,option:t,value:u,startValue:s,endValue:c,code:a};if(!i&&a){const e=bm.get(a),t=e?e.dateRangePickerCommandMethod:null;if(t)t(d);else{const e=U.value,t=G.value;switch(a){case"last1":case"last3":case"last7":case"last30":case"last60":case"last90":case"last180":{const l=of(a,u,o,{valueFormat:e,firstDay:t});s=l.startValue,c=l.endValue,u=Z(s,c),d.value=u,d.startValue=s,d.endValue=c,ne(s,c,n);break}default:Hm("vxe.error.notCommands",[a])}}}else{const e=i||l.clickMethod;e&&e(d)}r&&ae(),De("shortcut-click",d,n)},De=(e,t,n)=>{a(e,Gp(n,{$dateRangePicker:P},t))};F={dispatchEvent:De,setModelValue(e,t){C.startValue=e||"",C.endValue=t||"";const n=Z(e,t);a("update:modelValue",n)},setModelValueByEvent(e,t,n){ne(t||"",n||"",e)},focus(){const e=T.value;return C.isActivated=!0,e.focus(),t()},blur:()=>(T.value.blur(),C.isActivated=!1,t()),select:()=>(T.value.select(),C.isActivated=!1,t()),showPanel:ye,hidePanel:ae,updatePlacement:we},Object.assign(P,F);const Te=(e,t)=>{const n=H.value,{position:o,align:l,mode:r}=n,a=W.value;return Ng(n)&&a.length&&(o||"left")===e?y("div",{class:`vxe-date-range-picker--layout-${e}-wrapper`},[y(Kg,{options:a,mode:r,align:l,vertical:t,onClick:Ee})]):Am()},Oe=()=>{const{type:t,separator:n,autoClose:o,showConfirmButton:r,showClearButton:a}=e,{initialized:i,isAniVisible:s,visiblePanel:c,panelPlacement:u,panelStyle:d,startValue:p,endValue:m}=C,g=w.value,f=V.value,h=H.value,v=B.value,b=K.value,x=W.value,E=L.value,{startLabel:D,endLabel:T}=b,{position:M}=h,P=l.header,F=l.footer,A=l.top,$=l.bottom,N=l.left,_=l.right,z=x.length>0,j=null===r?E||!o:r,q=null===a?v:a;return y(S,{to:"body",disabled:!f||!i},[y("div",{ref:O,class:["vxe-table--ignore-clear vxe-date-range-picker--panel",`type--${t}`,{[`size--${g}`]:g,"is--transfer":f,"ani--leave":s,"ani--enter":c,"show--top":!!(A||P||z&&("top"===M||"header"===M)),"show--bottom":!!($||F||z&&("bottom"===M||"footer"===M)),"show--left":!!(N||z&&"left"===M),"show--right":!!(_||z&&"right"===M)}],placement:u,style:d},i&&(c||s)?[y("div",{ref:k,class:["vxe-date-range-picker--layout-all-wrapper",`type--${t}`,{[`size--${g}`]:g}]},[A?y("div",{class:"vxe-date-range-picker--layout-top-wrapper"},A({})):Te("top"),y("div",{class:"vxe-date-range-picker--layout-body-layout-wrapper"},[N?y("div",{class:"vxe-date-range-picker--layout-left-wrapper"},N({})):Te("left",!0),y("div",{class:"vxe-date-range-picker--layout-body-content-wrapper"},[P?y("div",{class:"vxe-date-range-picker--layout-header-wrapper"},P({})):Te("header"),y("div",{class:"vxe-date-range-picker--layout-body-wrapper"},[y(Qf,{ref:R,modelValue:p,type:e.type,className:e.className,minDate:e.minDate,maxDate:e.maxDate,startDay:e.startDay,endDate:m,labelFormat:e.labelFormat,valueFormat:e.valueFormat,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:fe}),y(Qf,{ref:I,modelValue:m,type:e.type,className:e.className,minDate:e.minDate,maxDate:e.maxDate,startDay:e.startDay,startDate:p,labelFormat:e.labelFormat,valueFormat:e.valueFormat,festivalMethod:e.festivalMethod,disabledMethod:e.disabledMethod,selectDay:e.selectDay,onChange:he})]),y("div",{class:"vxe-date-range-picker--layout-footer-wrapper"},[y("div",{class:"vxe-date-range-picker--layout-footer-label"},D||T?[y("span",D),y("span",`${n||""}`),y("span",T)]:[]),y("div",{class:"vxe-date-range-picker--layout-footer-custom"},F?F({}):[Te("footer")]),y("div",{class:"vxe-date-range-picker--layout-footer-btns"},[q?y(qg,{size:"mini",disabled:!(p||m),content:lm("vxe.button.clear"),onClick:ie}):Am(),j?y(qg,{size:"mini",status:"primary",content:lm("vxe.button.confirm"),onClick:ge}):Am()])])]),_?y("div",{class:"vxe-date-range-picker--layout-right-wrapper"},_({})):Te("right",!0)]),$?y("div",{class:"vxe-date-range-picker--layout-bottom-wrapper"},$({})):Te("bottom")])]:[])])},ke=()=>y("div",{class:"vxe-date-range-picker--control-icon",onClick:Ce},[y("i",{class:["vxe-date-range-picker--date-picker-icon",_p().DATE_PICKER_DATE]})]);return i((()=>e.modelValue),(()=>{ee(!0)})),i(N,(()=>{ee(!1)})),ee(!0),t((()=>{Kp.on(P,"mousewheel",be),Kp.on(P,"mousedown",ve),Kp.on(P,"blur",xe)})),c((()=>{se()})),h((()=>{Kp.off(P,"mousewheel"),Kp.off(P,"mousedown"),Kp.off(P,"blur")})),s((()=>{se()})),b("$xeDateRangePicker",P),P.renderVN=()=>{const{className:t,type:n,name:o,autoComplete:r}=e,{startValue:a,endValue:i,visiblePanel:s,isActivated:c}=C,u=w.value,d=$.value,p=A.value,m=Y.value;if(p)return y("div",{ref:D,class:["vxe-date-range-picker--readonly",`type--${n}`,t]},m);const g=z.value,f=B.value,h=(()=>{const{prefixIcon:t}=e,n=l.prefix;return n||t?y("div",{class:"vxe-date-range-picker--prefix",onClick:re},[y("div",{class:"vxe-date-range-picker--prefix-icon"},n?Zm(n({})):[y("i",{class:t})])]):null})(),v=(()=>{const{suffixIcon:t}=e,{startValue:n,endValue:o}=C,r=l.suffix,a=$.value,i=B.value;return y("div",{class:["vxe-date-range-picker--suffix",{"is--clear":i&&!a&&(n||o)}]},[i?y("div",{class:"vxe-date-range-picker--clear-icon",onClick:ie},[y("i",{class:_p().INPUT_CLEAR})]):Am(),ke(),r||t?y("div",{class:"vxe-date-range-picker--suffix-icon",onClick:ue},r?Zm(r({})):[y("i",{class:t})]):Am()])})();return y("div",{ref:D,class:["vxe-date-range-picker",`type--${n}`,t,{[`size--${u}`]:u,"is--prefix":!!h,"is--suffix":!!v,"is--visible":s,"is--disabled":d,"is--active":c,"show--clear":f&&!d&&(a||i)}],spellcheck:!1},[h||Am(),y("div",{class:"vxe-date-range-picker--wrapper"},[y("input",{ref:T,class:"vxe-date-range-picker--inner",value:m,name:o,type:"text",placeholder:g,readonly:!0,disabled:d,autocomplete:r,onKeydown:pe,onKeyup:me,onClick:Se,onChange:oe,onFocus:le,onBlur:de})]),v||Am(),Oe()])},P},render(){return this.renderVN()}}),rh=Object.assign({},lh,{install(e){e.component(lh.name,lh)}});_m.use(rh),$m.component(lh);const ah=rh,ih=Object.assign({},sf,{install(e){e.component(sf.name,sf)}}),sh={open(e){const t=Object.assign({},e);Lm.globalLoading={modelValue:!0,text:t.text,icon:t.icon},Bm()},close(){Lm.globalLoading=null}};_m.use(ih),$m.component(sf),$m.loading=sh;const ch=ih,uh=[],dh=p({name:"VxeDrawer",props:{modelValue:Boolean,id:String,title:String,loading:{type:Boolean,default:null},className:String,position:{type:[String,Object],default:()=>Ap().drawer.position},lockView:{type:Boolean,default:()=>Ap().drawer.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>Ap().drawer.mask},maskClosable:{type:Boolean,default:()=>Ap().drawer.maskClosable},escClosable:{type:Boolean,default:()=>Ap().drawer.escClosable},cancelClosable:{type:Boolean,default:()=>Ap().drawer.cancelClosable},confirmClosable:{type:Boolean,default:()=>Ap().drawer.confirmClosable},showHeader:{type:Boolean,default:()=>Ap().drawer.showHeader},showFooter:{type:Boolean,default:()=>Ap().drawer.showFooter},showClose:{type:Boolean,default:()=>Ap().drawer.showClose},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>Ap().drawer.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>Ap().drawer.showConfirmButton},confirmButtonText:{type:String,default:()=>Ap().drawer.confirmButtonText},destroyOnClose:{type:Boolean,default:()=>Ap().drawer.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>Ap().drawer.showTitleOverflow},width:[Number,String],height:[Number,String],resize:{type:Boolean,default:()=>Ap().drawer.resize},zIndex:Number,transfer:{type:Boolean,default:()=>Ap().drawer.transfer},padding:{type:Boolean,default:()=>Ap().drawer.padding},size:{type:String,default:()=>Ap().drawer.size||Ap().size},beforeHideMethod:{type:Function,default:()=>Ap().drawer.beforeHideMethod},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","resize"],setup(e,o){const{slots:l,emit:a}=o,s=sp.uniqueId(),c=n("$xeModal",null),u=n("$xeDrawer",null),d=n("$xeTable",null),p=n("$xeForm",null),{computeSize:v}=Om(e),x=r(),w=r(),C=r(),E=r(),D=m({initialized:!1,visible:!1,contentVisible:!1,drawerZIndex:0,resizeFlag:1}),T={refElem:x},O=g((()=>{const{transfer:t}=e;if(null===t){const e=Ap().modal.transfer;if(sp.isBoolean(e))return e;if(d||c||u||p)return!0}return t})),k=g((()=>{switch(e.position){case"top":return"sb";case"bottom":return"st";case"left":return"wr"}return"wl"})),R={},I={xID:s,props:e,context:o,reactData:D,getRefMaps:()=>T,getComputeMaps:()=>R},M=()=>w.value,P=()=>{const{width:n,height:o}=e,l=M();return l&&(l.style.width=dg(n),l.style.height=dg(o)),t()},F=()=>{const{zIndex:t}=e,{drawerZIndex:n}=D;t?D.drawerZIndex=t:n<_g()&&(D.drawerZIndex=Lg())},V=n=>{const{beforeHideMethod:o}=e,{visible:l}=D,r={type:n};return l&&Promise.resolve(o?o(r):null).then((e=>{sp.isError(e)||(D.contentVisible=!1,sp.remove(uh,(e=>e===I)),_("before-hide",r,null),setTimeout((()=>{D.visible=!1,a("update:modelValue",!1),_("hide",r,null)}),200))})).catch((e=>e)),t()},A=e=>{const t="close";_(t,{type:t},e),V(t)},$=t=>{const{confirmClosable:n}=e,o="confirm";_(o,{type:o},t),n&&V(o)},N=t=>{const{cancelClosable:n}=e,o="cancel";_(o,{type:o},t),n&&V(o)},L=()=>{const{showFooter:n}=e,{initialized:o,visible:l}=D;return o||(D.initialized=!0),l||(D.visible=!0,D.contentVisible=!1,F(),uh.push(I),setTimeout((()=>{P(),D.contentVisible=!0,t((()=>{if(n){const e=C.value,t=E.value,n=e||t;n&&n.focus()}const e={type:""};a("update:modelValue",!0),_("show",e,null)}))}),10)),t()},_=(e,t,n)=>{a(e,Gp(n,{$drawer:I},t))},B={dispatchEvent:_,open:L,close:()=>V("close"),getBox:M},z=t=>{const n=x.value;if(e.maskClosable&&t.target===n){V("mask")}},j=e=>{if(Kp.hasKey(e,Bp.ESCAPE)){const t=sp.max(uh,(e=>e.reactData.drawerZIndex));t&&setTimeout((()=>{if(t===I&&t.props.escClosable){const t="exit";_("close",{type:t},e),V(t)}}),10)}},H=()=>{const{drawerZIndex:e}=D;uh.some((t=>t.reactData.visible&&t.reactData.drawerZIndex>e))&&F()},W=e=>{e.preventDefault();const{visibleHeight:t,visibleWidth:n}=pg(),o=e.target.getAttribute("type"),l=n,r=t,a=M(),i=a.clientWidth,s=a.clientHeight,c=e.clientX,u=e.clientY,d=a.offsetTop,p=a.offsetLeft,m={type:"resize"};document.onmousemove=e=>{let g,f,h,v;switch(e.preventDefault(),o){case"wl":g=c-e.clientX,h=g+i,p-g>0&&h>0&&(a.style.width=`${h<l?h:l}px`);break;case"st":f=u-e.clientY,v=s+f,d-f>0&&v>0&&(a.style.height=`${v<r?v:r}px`);break;case"wr":g=e.clientX-c,h=g+i,p+h+0<n&&h>0&&(a.style.width=`${h<l?h:l}px`);break;case"sb":f=e.clientY-u,v=f+s,d+v+0<t&&v>0&&(a.style.height=`${v<r?v:r}px`)}a.className=a.className.replace(/\s?is--drag/,"")+" is--drag",_("resize",m,e),D.resizeFlag++},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,D.resizeFlag++,setTimeout((()=>{a.className=a.className.replace(/\s?is--drag/,"")}),50)}};Object.assign(I,B,{});const q=()=>{const{slots:t={},showTitleOverflow:n}=e,o=l.header||t.header;return e.showHeader?y("div",{class:["vxe-drawer--header",{"is--ellipsis":n}]},o?Zm(o({$drawer:I})):(()=>{const{slots:t={},showClose:n,title:o}=e,r=l.title||t.title,a=l.corner||t.corner;return[y("div",{class:"vxe-drawer--header-title"},r?Zm(r({$drawer:I})):o?zg(o):lm("vxe.alert.title")),y("div",{class:"vxe-drawer--header-right"},[a?y("div",{class:"vxe-drawer--corner-wrapper"},Zm(a({$drawer:I}))):Am(),n?y("div",{class:["vxe-drawer--close-btn","trigger--btn"],title:lm("vxe.drawer.close"),onClick:A},[y("i",{class:_p().DRAWER_CLOSE})]):Am()])]})()):Am()},U=()=>{const{slots:t={},content:n}=e,o=l.default||t.default,r=l.left||t.left,a=l.right||t.right;return y("div",{class:"vxe-drawer--body"},[r?y("div",{class:"vxe-drawer--body-left"},Zm(r({$drawer:I}))):Am(),y("div",{class:"vxe-drawer--body-default"},[y("div",{class:"vxe-drawer--content"},o?Zm(o({$drawer:I})):zg(n))]),a?y("div",{class:"vxe-drawer--body-right"},Zm(a({$drawer:I}))):Am(),y(ih,{class:"vxe-drawer--loading",modelValue:e.loading})])},G=()=>{const{slots:t={},showCancelButton:n,showConfirmButton:o,loading:r}=e,a=l.leftfoot||t.leftfoot,i=l.rightfoot||t.rightfoot,s=[];return n&&s.push(y(qg,{key:1,ref:E,content:e.cancelButtonText||lm("vxe.button.cancel"),onClick:N})),o&&s.push(y(qg,{key:2,ref:C,loading:r,status:"primary",content:e.confirmButtonText||lm("vxe.button.confirm"),onClick:$})),y("div",{class:"vxe-drawer--footer-wrapper"},[y("div",{class:"vxe-drawer--footer-left"},a?Zm(a({$drawer:I})):[]),y("div",{class:"vxe-drawer--footer-right"},i?Zm(i({$drawer:I})):s)])},K=()=>{const{slots:t={}}=e,n=l.footer||t.footer;return e.showFooter?y("div",{class:"vxe-drawer--footer"},n?Zm(n({$drawer:I})):[G()]):Am()};return i((()=>e.width),P),i((()=>e.height),P),i((()=>e.modelValue),(e=>{e?L():V("model")})),f((()=>{t((()=>{e.modelValue&&L(),P()})),e.escClosable&&Kp.on(I,"keydown",j)})),h((()=>{Kp.off(I,"keydown")})),b("$xeDrawer",I),I.renderVN=()=>{const{slots:t={},className:n,position:o,loading:r,lockScroll:a,padding:i,lockView:s,mask:c,resize:u,destroyOnClose:d}=e,{initialized:p,contentVisible:m,visible:g}=D,f=l.aside||t.aside,h=v.value,b=k.value,C=O.value;return y(S,{to:"body",disabled:!C||!p},[y("div",{ref:x,class:["vxe-drawer--wrapper",`pos--${o}`,n||"",{[`size--${h}`]:h,"is--padding":i,"lock--scroll":a,"lock--view":s,"is--resize":u,"is--mask":c,"is--visible":m,"is--active":g,"is--loading":r}],style:{zIndex:D.drawerZIndex},onClick:z},[y("div",{ref:w,class:"vxe-drawer--box",onMousedown:H},[f?y("div",{class:"vxe-drawer--aside"},Zm(f({$drawer:I}))):Am(),y("div",{class:"vxe-drawer--container"},!D.initialized||d&&!D.visible?[]:[q(),U(),K(),u?y("span",{class:"vxe-drawer--resize"},[y("span",{class:`${b}-resize`,type:b,onMousedown:W})]):Am()])])])])},I},render(){return this.renderVN()}});function ph(e){return sp.find(uh,(t=>t.props.id===e))}const mh={get:ph,close:function(e){const t=e?[ph(e)]:uh,n=[];return t.forEach((e=>{e&&n.push(e.close())})),Promise.all(n)},open:function(e){return function(e){return Bm(),new Promise((t=>{if(e&&e.id&&uh.some((t=>t.props.id===e.id)))t("exist");else{const n=e.onHide,o=Object.assign(e,{key:sp.uniqueId(),modelValue:!0,onHide(e){const l=Lm.drawers;n&&n(e),Lm.drawers=l.filter((e=>e.key!==o.key)),t(e.type)}});Lm.drawers.push(o)}}))}(Object.assign({},e))}},gh=Object.assign(dh,{install:function(e){e.component(dh.name,dh)}});$m.drawer=mh,_m.use(gh),$m.component(dh);const fh=gh,hh=p({name:"VxeEmpty",props:{imageUrl:String,imageStyle:Object,icon:String,status:String,content:[String,Number]},emits:[],setup(e,t){const{emit:n}=t,o=sp.uniqueId(),l=r(),a=m({}),i={refElem:l},s={},c={xID:o,props:e,context:t,reactData:a,getRefMaps:()=>i,getComputeMaps:()=>s},u={dispatchEvent:(e,t,o)=>{n(e,Gp(o,{$empty:c},t))}};Object.assign(c,u,{});return c.renderVN=()=>{const{imageUrl:t,imageStyle:n,icon:o,status:r,content:a}=e;return y("div",{ref:l,class:["vxe-empty",{[`theme--${r}`]:r}]},[y("div",{class:"vxe-empty--inner"},[t?y("div",{class:"vxe-empty--img-wrapper"},[y("img",{src:t,style:n})]):y("div",{class:"vxe-empty--icon-wrapper"},[y("i",{class:o||_p().EMPTY_DEFAULT})]),y("div",{class:"vxe-empty--content-wrapper"},`${a||lm("vxe.empty.defText")}`)])])},c},render(){return this.renderVN()}}),vh=Object.assign({},hh,{install(e){e.component(hh.name,hh)}});_m.use(vh),$m.component(hh);const bh=vh;class xh{constructor(e,t){const{formatter:n}=t;if(n)if(sp.isString(n)){const e=vm.get(n);e&&e.formItemFormatMethod||Hm("vxe.error.notFormats",[n])}else if(sp.isArray(n)){const e=vm.get(n[0]);e&&e.formItemFormatMethod||Hm("vxe.error.notFormats",[n[0]])}Object.assign(this,{id:sp.uniqueId("item_"),title:t.title,field:t.field,span:t.span,align:t.align,verticalAlign:t.verticalAlign,titleBackground:t.titleBackground,titleBold:t.titleBold,titleAlign:t.titleAlign,titleWidth:t.titleWidth,titleColon:t.titleColon,vertical:t.vertical,padding:t.padding,titleAsterisk:t.titleAsterisk,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,titleOverflow:t.titleOverflow,showTitle:t.showTitle,resetValue:t.resetValue,visibleMethod:t.visibleMethod,visible:t.visible,showContent:t.showContent,folding:t.folding,collapseNode:t.collapseNode,className:t.className,contentClassName:t.contentClassName,contentStyle:t.contentStyle,titleClassName:t.titleClassName,titleStyle:t.titleStyle,itemRender:t.itemRender,rules:t.rules,formatter:n,showError:!1,errRule:null,slots:t.slots,children:[]})}update(e,t){this[e]=t}}function wh(e,t){return t instanceof xh?t:new xh(e,t)}function yh(e,t){return t?sp.isString(t)?e.getItemByField(t):t:null}function Ch(e,t){const n=e.xeGrid;let{visibleMethod:o,itemRender:l,visible:r,field:a}=t;if(!1===r)return r;const i=Ng(l)?mm.get(l.name):null,s=i?i.formItemVisibleMethod||i.itemVisibleMethod:null;if(!o&&s&&(o=s),!o)return!0;const c=e.props,{data:u}=c;return o({data:u,field:a,property:a,item:t,$form:e,$grid:n})}function Sh(e,t){Object.keys(e).forEach((n=>{i((()=>e[n]),(e=>{t.update(n,e)}))}))}function Eh(e,t,n,o){const{reactData:l}=e,r=e.props,{customLayout:a}=r,{staticItems:i}=l;if(a)i.some((e=>e.id===n.id))||i.push(n);else if(t){const e=t.parentNode,r=o?o.formItem:null,a=r?r.children:i;e&&(a.splice(sp.arrayIndexOf(e.children,t),0,n),l.staticItems=i.slice(0))}}function Dh(e,t){const{reactData:n}=e,{staticItems:o}=n,l=sp.findIndexOf(o,(e=>e.id===t.id));l>-1&&o.splice(l,1),n.staticItems=o.slice(0)}const Th=p({name:"VxeIcon",props:{name:String,className:String,roll:Boolean,status:String,size:{type:String,default:()=>Ap().icon.size||Ap().size}},emits:["click"],setup(e,t){const{emit:n}=t,o=sp.uniqueId(),{computeSize:l}=Om(e),r={xID:o,props:e,context:t},a=e=>{n("click",Gp(e,{}))},i={dispatchEvent:(e,t,o)=>{n(e,Gp(o,{$icon:r},t))}};Object.assign(r,i,{});return r.renderVN=()=>{const{name:t,roll:n,status:o,className:r}=e,i=l.value;return y("i",{class:["vxe-icon",`vxe-icon-${t}`,`${r||""}`,{[`size--${i}`]:i,[`theme--${o}`]:o,roll:n}],onClick:a})},r},render(){return this.renderVN()}});function Oh(e){return y("span",{class:"vxe-form--item-title-prefix"},[y(Th,{class:e.icon||_p().FORM_PREFIX,status:e.iconStatus})])}function kh(e){return y("span",{class:"vxe-form--item-title-suffix"},[y(Th,{class:e.icon||_p().FORM_SUFFIX,status:e.iconStatus})])}const Rh=(e,t,n)=>{const o=e.props,l=e.reactData,r=e.xeGrid,{data:a,rules:i,readonly:s,disabled:c,span:u,titleBackground:d,titleBold:p,titleColon:m,titleAsterisk:g,vertical:f,padding:h}=o,{collapseAll:v}=l,{folding:b,field:x,itemRender:w,showError:y,className:C,vertical:S,padding:E,children:D,showContent:T}=t,O=Ng(w)?mm.get(w.name):null,k=O?O.formItemClassName||O.itemClassName:"",R=t.span||u,I=sp.eqNull(E)?h:E,M=sp.eqNull(S)?f:S,P=sp.eqNull(t.titleBackground)?d:t.titleBackground,F=sp.eqNull(t.titleBold)?p:t.titleBold,V=sp.eqNull(t.titleColon)?m:t.titleColon,A=sp.eqNull(t.titleAsterisk)?g:t.titleAsterisk,$={data:a,disabled:c,readonly:s,field:x,property:x,item:t,$form:e,$grid:r},N=D&&D.length>0;let L=!1,_=!1;if(!s&&i){const e=i[x];e&&e.length&&(_=!0,L=e.some((e=>e.required)))}return[n||N?"vxe-form--group":"","vxe-form--item",t.id,R?`vxe-form--item-col_${R} is--span`:"",C?sp.isFunction(C)?C($):C:"",k?sp.isFunction(k)?k($):k:"",{"is--colon":V,"is--tbg":P,"is--bold":F,"is--padding":I,"is--vertical":M,"is--asterisk":A,"hide--content":!1===T,"is--valid":_,"is--required":L,"is--hidden":b&&v,"is--active":Ch(e,t),"is--error":y}]},Ih=(e,t,n)=>{const o=e.props,l=e.xeGrid,{data:r,readonly:a,disabled:i,align:s,verticalAlign:c}=o,{field:u,itemRender:d,contentClassName:p,children:m}=t,g=Ng(d)?mm.get(d.name):null,f=g?g.formItemContentClassName||g.itemContentClassName:"",h=sp.eqNull(t.align)?s:t.align,v=sp.eqNull(t.verticalAlign)?c:t.verticalAlign,b={data:r,disabled:i,readonly:a,field:u,property:u,item:t,$form:e,$grid:l},x=m&&m.length>0;return[n||x?"vxe-form--group-content vxe-form--item-row":"","vxe-form--item-content",h?`align--${h}`:"",v?`vertical-align--${v}`:"",f?sp.isFunction(f)?f(b):f:"",p?sp.isFunction(p)?p(b):p:""]};function Mh(e,t,n){const o=e.props,l=e.xeGrid,{data:r,readonly:a,disabled:i,titleAlign:s,titleWidth:c,titleOverflow:u,vertical:d}=o,{slots:p,title:m,field:g,itemRender:f,titleOverflow:h,vertical:v,showTitle:b,titleClassName:w,titleStyle:C,titlePrefix:S,titleSuffix:E,children:D,showContent:T}=t,{computeTooltipOpts:O}=e.getComputeMaps(),k=O.value,R=Ng(f)?mm.get(f.name):null,I=R?R.formItemTitleClassName||R.itemTitleClassName:"",M=R?R.formItemTitleStyle||R.itemTitleStyle:null,P=sp.eqNull(v)?d:v,F=sp.eqNull(t.titleAlign)?s:t.titleAlign,V=P?null:sp.eqNull(t.titleWidth)?c:t.titleWidth,A=sp.eqNull(h)?u:h,$="title"===A,N=!0===A||"tooltip"===A,L=$||N||"ellipsis"===A,_={data:r,disabled:i,readonly:a,field:g,property:g,item:t,$form:e,$grid:l},B=p?p.title:null,z=p?p.extra:null,j=!1!==b&&(m||B),H=D&&D.length>0,W=[];S&&W.push(S.content||S.message?y(Wg,Object.assign(Object.assign(Object.assign({},k),S),{content:zg(S.content||S.message)}),{default:()=>Oh(S)}):Oh(S));const q=R?R.renderFormItemTitle||R.renderItemTitle:null;W.push(y("span",{class:"vxe-form--item-title-label"},B?e.callSlot(B,_):q?Zm(q(f,_)):zg(t.title)));const U=[];E&&U.push(E.content||E.message?y(Wg,Object.assign(Object.assign(Object.assign({},k),E),{content:zg(E.content||E.message)}),{default:()=>kh(E)}):kh(E));const G=N?{onMouseenter(t){e.triggerTitleTipEvent(t,_)},onMouseleave:e.handleTitleTipLeaveEvent}:{};return j?y("div",Object.assign({class:[n||H?"vxe-form--group-title":"","vxe-form--item-title",F?`align--${F}`:"",L?"is--ellipsis":"",I?sp.isFunction(I)?I(_):I:"",w?sp.isFunction(w)?w(_):w:""],style:Object.assign({},sp.isFunction(M)?M(_):M,sp.isFunction(C)?C(_):C,V&&!1!==T?{width:dg(V)}:null),title:$?zg(m):null},G),[y("div",{class:"vxe-form--item-title-content"},W),y("div",{class:"vxe-form--item-title-postfix"},U),z?y("div",{class:"vxe-form--item-title-extra"},e.callSlot(z,_)):x()]):x()}const Ph=(e,t)=>{const n=e.props,o=e.reactData,l=e.internalData,r=e.xeGrid,{computeCollapseOpts:a,computeValidOpts:i}=e.getComputeMaps(),{itemFormatCache:s}=l,{data:c,readonly:u,disabled:d}=n,{collapseAll:p}=o,{slots:m,field:g,itemRender:f,collapseNode:h,errRule:v,formatter:b}=t,x=m?m.default:null,w=m?m.valid:null,C=a.value,S=i.value,E=Ng(f)?mm.get(f.name):null,D=sp.get(c,g),T={data:c,disabled:d,readonly:u,field:g,property:g,item:t,itemValue:D,$form:e,$grid:r};let O=[];const k=E?E.renderFormItemContent||E.renderItemContent:null;if(x)O=e.callSlot(x,T);else if(k)O=Zm(k(f,T));else if(g){let e=D;if(b){let t;if(g){const e=s[g];if(e)if(t=e.formatData,t){if(t.value===D)return t.label}else t=e.formatData={};else s[g]={field:g}}if(sp.isString(b)){const t=vm.get(b),n=t?t.formItemFormatMethod:null;e=n?n(T):""}else if(sp.isArray(b)){const t=vm.get(b[0]),n=t?t.formItemFormatMethod:null;e=n?n(T,...b.slice(1)):""}else e=b(T);t&&(t.value=D,t.label=e)}O=[jg(e)?"":`${e}`]}if(h&&O.push(y("div",{class:"vxe-form--item-trigger-node",onClick:e.toggleCollapseEvent},[y("span",{class:"vxe-form--item-trigger-text"},p?C.unfoldButtonText||lm("vxe.form.unfolding"):C.foldButtonText||lm("vxe.form.folding")),y("i",{class:["vxe-form--item-trigger-icon",p?C.foldIcon||_p().FORM_FOLDING:C.unfoldIcon||_p().FORM_UNFOLDING]})])),v&&S.showMessage){const t=Object.assign(Object.assign({},T),{rule:v});O.push(y("div",{class:"vxe-form-item--valid-error-tip",style:v.maxWidth?{width:dg(v.maxWidth)}:null},[y("div",{class:`vxe-form-item--valid-error-wrapper vxe-form-item--valid-error-theme-${S.theme||"normal"}`},[w?e.callSlot(w,t):[y("span",{class:"vxe-form--item--valid-error-msg"},v.content||v.message)]])]))}return y("div",{class:"vxe-form--item-inner"},O)},Fh=p({name:"VxeFormConfigItem",props:{itemConfig:Object},setup(e){const t=n("$xeForm",{}),o={itemConfig:e.itemConfig};b("xeFormItemInfo",o);const l=(e,t)=>{const n=e.props,o=e.xeGrid,{data:r,readonly:a,disabled:i}=n,{visible:s,field:c,itemRender:u,contentStyle:d,children:p,showContent:m}=t,g=Ng(u)?mm.get(u.name):null,f=g?g.formItemStyle||g.itemStyle:null,h=g?g.formItemContentStyle||g.itemContentStyle:null,v={data:r,disabled:i,readonly:a,field:c,property:c,item:t,$form:e,$grid:o},b=p&&p.length>0;return!1===s?x():y("div",{key:t.id,class:Rh(e,t),style:sp.isFunction(f)?f(v):f},[Mh(e,t),!1===m?x():y("div",{class:Ih(e,t),style:Object.assign({},sp.isFunction(h)?h(v):h,sp.isFunction(d)?d(v):d)},b?p.map((t=>l(e,t))):[Ph(e,t)])])},r={renderVN:()=>l(t,e.itemConfig)};return b("$xeFormGroup",null),r},render(){return this.renderVN()}});let Vh=class{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.min,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return zg(this.$options.content||this.$options.message)}get message(){return this.content}};function Ah(e,t){return!(!sp.eqNull(e)&&t>sp.toNumber(e))}function $h(e,t){return!(!sp.eqNull(e)&&t<sp.toNumber(e))}function Nh(e,t,n){const{type:o,min:l,max:r,pattern:a}=e,i="array"===o,s="number"===o,c="string"===o,u=`${t}`;if(!function(e,t){return!(e&&!(sp.isRegExp(e)?e:new RegExp(e)).test(t))}(a,u))return!1;if(i){if(!sp.isArray(t))return!1;if(n&&!t.length)return!1;if(!$h(l,t.length))return!1;if(!Ah(r,t.length))return!1}else if(s){const e=Number(t);if(isNaN(e))return!1;if(!$h(l,e))return!1;if(!Ah(r,e))return!1}else{if(c&&!sp.isString(t))return!1;if(n&&!u)return!1;if(!$h(l,u.length))return!1;if(!Ah(r,u.length))return!1}return!0}const Lh=p({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:()=>Ap().form.size||Ap().size},span:{type:[String,Number],default:()=>Ap().form.span},align:{type:String,default:()=>Ap().form.align},verticalAlign:{type:String,default:()=>Ap().form.verticalAlign},border:{type:Boolean,default:()=>Ap().form.border},titleBackground:{type:Boolean,default:()=>Ap().form.titleBackground},titleBold:{type:Boolean,default:()=>Ap().form.titleBold},titleAlign:{type:String,default:()=>Ap().form.titleAlign},titleWidth:{type:[String,Number],default:()=>Ap().form.titleWidth},titleColon:{type:Boolean,default:()=>Ap().form.titleColon},titleAsterisk:{type:Boolean,default:()=>Ap().form.titleAsterisk},titleOverflow:{type:[Boolean,String],default:()=>Ap().form.titleOverflow},vertical:{type:Boolean,default:()=>Ap().form.vertical},padding:{type:Boolean,default:()=>Ap().form.padding},className:[String,Function],readonly:Boolean,disabled:Boolean,items:Array,rules:Object,preventSubmit:{type:Boolean,default:()=>Ap().form.preventSubmit},validConfig:Object,tooltipConfig:Object,collapseConfig:Object,customLayout:{type:Boolean,default:()=>Ap().form.customLayout}},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup(e,o){const{slots:l,emit:a}=o,s=n("$xeGrid",null),c=sp.uniqueId(),{computeSize:u}=Om(e),d=m({collapseAll:e.collapseStatus,staticItems:[],formItems:[]}),p=m({meTimeout:void 0,stTimeout:void 0,tooltipStore:{item:null,visible:!1},itemFormatCache:{}}),h=r(),v=r();let x={};const w=g((()=>Object.assign({},Ap().form.validConfig,e.validConfig))),C=g((()=>Object.assign({},Ap().tooltip,Ap().form.tooltipConfig,e.tooltipConfig))),S=g((()=>Object.assign({},Ap().form.collapseConfig,e.collapseConfig))),E={refElem:h},D={computeSize:u,computeValidOpts:w,computeTooltipOpts:C,computeCollapseOpts:S},T={xID:c,props:e,context:o,reactData:d,internalData:p,xeGrid:s,getRefMaps:()=>E,getComputeMaps:()=>D},O=e=>(e.length&&e.forEach((e=>{e.slots&&sp.each(e.slots,(e=>{sp.isFunction(e)||l[e]||Hm("vxe.error.notSlot",[e])}))})),d.staticItems=sp.mapTree(e,(e=>wh(T,e)),{children:"children"}),p.itemFormatCache={},t()),k=()=>{const e=[];return sp.eachTree(d.formItems,(t=>{e.push(t)}),{children:"children"}),e},R=e=>{const t=sp.findTree(d.formItems,(t=>t.field===e),{children:"children"});return t?t.item:null},I=()=>d.collapseAll,M=()=>{const e=!I();return d.collapseAll=e,a("update:collapseStatus",e),t()},P=e=>{if(e){let t=e;sp.isArray(e)||(t=[e]),t.forEach((e=>{if(e){const t=yh(T,e);t&&(t.showError=!1)}}))}else k().forEach((e=>{e.showError=!1}));return t()},F=(e,t,n)=>{const{field:o,resetValue:l}=e;return sp.isFunction(l)?l({field:o,item:e,data:t,$form:T,$grid:s}):sp.eqNull(l)&&sp.isArray(n)?[]:l},V=()=>{const{data:t}=e,n=k();return t&&n.forEach((e=>{const{field:n,itemRender:o}=e;if(Ng(o)){const{name:l,startField:r,endField:a}=o,i=mm.get(l),c=i?i.formItemResetMethod||i.itemResetMethod:null;if(i&&c)c({data:t,field:n,property:n,item:e,$form:T,$grid:s});else if(n){const o=sp.get(t,n);sp.set(t,n,F(e,t,o))}r&&a&&(sp.set(t,r,F(e,t,sp.get(t,r))),sp.set(t,a,F(e,t,sp.get(t,a))))}})),p.itemFormatCache={},P()},A=t=>{t.preventDefault(),V(),x.dispatchEvent("reset",{data:e.data},t)},$=(t,n,o)=>{const{data:l,rules:r}=e,a={};return sp.isArray(n)||(n=[n]),Promise.all(n.map((e=>{const n=[],i=[];if(e&&r){const a=sp.get(r,e);if(a){const r=sp.isUndefined(o)?sp.get(l,e):o;a.forEach((o=>{const{trigger:s,validator:c}=o;if("all"===t||!s||t===s)if(c){const t={itemValue:r,rule:o,rules:a,data:l,field:e,property:e,$form:T};let u;if(sp.isString(c)){const e=fm.get(c);if(e){const n=e.formItemValidatorMethod||e.itemValidatorMethod;n?u=n(t):jm("vxe.error.notValidators",[c])}else Hm("vxe.error.notValidators",[c])}else u=c(t);u&&(sp.isError(u)?n.push(new Vh({type:"custom",trigger:s,content:u.message,rule:new Vh(o)})):u.catch&&i.push(u.catch((e=>{n.push(new Vh({type:"custom",trigger:s,content:e?e.message:o.content||o.message,rule:new Vh(o)}))}))))}else(function(e,t){const{required:n}=e,o=sp.isArray(t)?!t.length:jg(t);if(n){if(o)return!1;if(!Nh(e,t,n))return!1}else if(!o&&!Nh(e,t,n))return!1;return!0})(o,r)||n.push(new Vh(o))}))}}return Promise.all(i).then((()=>{n.length&&(a[e]=n.map((t=>({$form:T,rule:t,data:l,field:e,property:e}))))}))}))).then((()=>{if(!sp.isEmpty(a))return Promise.reject(a)}))},N=(n,o,l)=>{const{data:r,rules:a}=e,i=w.value,c={},u=[],d=[];return clearTimeout(p.meTimeout),r&&a?(n.forEach((e=>{const{field:t}=e;t&&!function(e,t){const{reactData:n}=e,{collapseAll:o}=n,{folding:l,visible:r}=t;return!1===r||l&&o}(T,e)&&Ch(T,e)&&d.push($(o||"all",t).then((()=>{e.errRule=null})).catch((n=>{const o=n[t];return c[t]||(c[t]=[]),c[t].push(o),u.push(t),e.errRule=o[0].rule,Promise.reject(o)})))})),Promise.all(d).then((()=>{l&&l()})).catch((()=>new Promise((o=>{p.meTimeout=setTimeout((()=>{n.forEach((e=>{e.errRule&&(e.showError=!0)}))}),20),!1!==i.autoPos&&t((()=>{(t=>{const n=h.value;if(n)for(let l=0;l<t.length;l++){const r=t[l],a=R(r);if(a&&Ng(a.itemRender)){const{itemRender:t}=a,i=mm.get(t.name);l||(o=n.querySelector(`.${a.id}`))&&(o[hg]?o[hg]():o[vg]&&o[vg]());let c=null;const u=t.autoFocus||t.autofocus||(i?i.formItemAutoFocus:null);if(sp.isFunction(u)?c=u({$form:T,$grid:s,item:a,data:e.data,field:r}):!0===u?c=n.querySelector(`.${a.id} input,textarea`):u&&(c=n.querySelector(`.${a.id} ${u}`)),c){c.focus();break}}}var o})(u)})),l?(l(c),o()):o(c)}))))):(l&&l(),Promise.resolve())},L=t=>{const{readonly:n}=e;if(t.preventDefault(),!e.preventSubmit){if(P(),n)return void x.dispatchEvent("submit",{data:e.data},t);N(k()).then((n=>{n?x.dispatchEvent("submit-invalid",{data:e.data,errMap:n},t):x.dispatchEvent("submit",{data:e.data},t)}))}},_=()=>{const{tooltipStore:e}=p,n=v.value;return e.visible&&(Object.assign(e,{item:null,visible:!1}),n&&n.close()),t()},B=(e,n,o)=>n?$(e?["blur"].includes(e.type)?"blur":"change":"all",n,o).then((()=>{P(n)})).catch((e=>{const t=e[n],o=R(n);t&&o&&(o.showError=!0,o.errRule=t[0].rule)})):t();x={dispatchEvent(e,t,n){a(e,Gp(n,{$form:T,$grid:s},t))},reset:V,validate:n=>{const{readonly:o}=e;return P(),o?t():N(k(),"",n)},validateField:(n,o)=>{const{readonly:l}=e;if(l)return t();let r=[];return n&&(r=sp.isArray(n)?n:[n]),N(r.map((e=>yh(T,e))),"",o)},clearValidate:P,updateStatus:(e,t)=>{const{field:n}=e;return B(new Event("change"),n,t)},toggleCollapse:M,getItems:k,getItemByField:R,closeTooltip:_};const z={callSlot:(e,t)=>e&&(sp.isString(e)&&(e=l[e]||null),sp.isFunction(e))?Zm(e(t)):[],triggerItemEvent:B,toggleCollapseEvent:n=>{M();const o=I();x.dispatchEvent("toggle-collapse",{status:o,collapse:o,data:e.data},n),x.dispatchEvent("collapse",{status:o,collapse:o,data:e.data},n),t((()=>{s&&s.recalculate()}))},triggerTitleTipEvent:(e,t)=>{const{item:n}=t,{tooltipStore:o}=p,l=v.value,r=e.currentTarget.children[0],a=(r.textContent||"").trim(),i=r.scrollWidth>r.clientWidth;clearTimeout(p.stTimeout),o.item!==n&&_(),a&&i&&(Object.assign(o,{item:n,visible:!0}),l&&l.open(r,a))},handleTitleTipLeaveEvent:()=>{const e=C.value;let t=v.value;t&&t.setActived(!1),e.enterable?p.stTimeout=setTimeout((()=>{t=v.value,t&&!t.isActived()&&_()}),e.leaveDelay):_()}};Object.assign(T,x,z);const j=r(0);i((()=>d.staticItems.length),(()=>{j.value++})),i((()=>d.staticItems),(()=>{j.value++})),i(j,(()=>{d.formItems=d.staticItems}));const H=r(0);return i((()=>e.items?e.items.length:-1),(()=>{H.value++})),i((()=>e.items),(()=>{H.value++})),i(H,(()=>{O(e.items||[])})),i((()=>e.collapseStatus),(e=>{d.collapseAll=!!e})),i((()=>e.readonly),(()=>{P()})),i((()=>e.disabled),(()=>{P()})),f((()=>{t((()=>{e.customLayout&&e.items&&Hm("vxe.error.errConflicts",["custom-layout","items"])}))})),e.items&&O(e.items),b("xeFormItemInfo",null),b("$xeForm",T),b("$xeFormGroup",null),b("$xeFormItem",null),T.renderVN=()=>{const{loading:t,border:n,className:o,data:r,customLayout:a}=e,{formItems:i}=d,s=u.value,c=C.value,p=l.default;return y("form",{ref:h,class:["vxe-form",o?sp.isFunction(o)?o({items:i,data:r,$form:T}):o:"",{[`size--${s}`]:s,"is--border":n,"custom--layout":a,"is--loading":t}],onSubmit:L,onReset:A},[y("div",{class:"vxe-form--wrapper vxe-form--item-row"},a?p?p({}):[]:i.map(((e,t)=>y(Fh,{key:t,itemConfig:e})))),y("div",{class:"vxe-form-slots",ref:"hideItem"},a?[]:p?p({}):[]),y(sf,{class:"vxe-form--loading",modelValue:t}),y(Wg,Object.assign({ref:v},c))])},T},render(){return this.renderVN()}}),_h="modelValue";function Bh(e){return`vxe-${e.replace("$","")}`}function zh({name:e}){return Fm(e)||C(e)}function jh({name:e}){return C(Bh(e))}function Hh(e){let{name:t,attrs:n}=e;return"input"===t&&(n=Object.assign({type:"text"},n)),n}function Wh(e,t,n,o){return sp.assign({},o,e.props,{[_h]:n})}function qh(e,t,n,o){const{events:l}=e,{model:r,change:a}=n||{},i=Ym(e.name),s=Xm(e.name),c={};return sp.objectEach(l,((e,n)=>{c[Km(n)]=function(...n){sp.isFunction(e)||Hm("vxe.error.errFunc",[e]),e(t,...n)}})),r&&(c[Km(i)]=function(e){r(e),l&&l[i]&&l[i](t,e)}),a&&(c[Km(s)]=function(...e){a(...e),l&&l[s]&&l[s](t,...e)}),o?Object.assign(c,o):c}function Uh(e,t){const{$form:n,data:o,field:l}=t;return qh(e,t,{model(e){sp.set(o,l,e)},change(e){n.updateStatus(e)}})}function Gh(e,t){const{$form:n,data:o,field:l}=t;return function(e,t,n,o){const{events:l}=e,r=Ym(e.name),a=Xm(e.name),i=a===r,s={};return l&&sp.objectEach(l,((e,n)=>{s[Km(n)]=function(...n){e(t,...n)}})),n&&(s[Km(r)]=function(e){n(e),i&&o&&o(e),l&&l[r]&&l[r](t,e)}),!i&&o&&(s[Km(a)]=function(...e){o(...e),l&&l[a]&&l[a](t,...e)}),s}(e,t,(e=>{const t=e.target.value;sp.set(o,l,t)}),(()=>{n.updateStatus(t)}))}function Kh(e,t,n){const{optionGroups:o,optionGroupProps:l={}}=e,r=l.options||"options",a=l.label||"label";return o?o.map(((o,l)=>y("optgroup",{key:l,label:o[a]},n(o[r],e,t)))):[]}function Yh(e,t){const{data:n,field:o}=t,{name:l}=e,r=Hh(e),a=sp.get(n,o);return[y(l,Object.assign(Object.assign(Object.assign({class:`vxe-default-${l}`},r),{value:!r||"input"!==l||"submit"!==r.type&&"reset"!==r.type?a:null}),Gh(e,t)))]}function Xh(e,t){const{data:n,field:o}=t,l=sp.get(n,o);return[y(zh(e),Object.assign(Object.assign({},Wh(e,0,l)),Uh(e,t)))]}function Zh(e,t){const{data:n,field:o}=t,l=sp.get(n,o);return[y(jh(e),Object.assign(Object.assign({},Wh(e,0,l)),Uh(e,t)))]}function Qh(e,t){return[y(C("vxe-button"),Object.assign(Object.assign({},Wh(e,0,null)),qh(e,t)))]}function Jh(e,t,n){const{data:o,field:l}=n,{optionProps:r={}}=t,a=r.label||"label",i=r.value||"value",s=r.disabled||"disabled",c=sp.get(o,l);return e?e.map(((e,t)=>y("option",{key:t,value:e[i],disabled:e[s],selected:e[i]==c},e[a]))):[]}function ev(e,t){const{data:n,field:o}=t,l=sp.get(n,o);return[y(zh(e),Object.assign(Object.assign({},Wh(e,0,l)),Uh(e,t)))]}function tv(e,t){const{options:n,optionProps:o}=e,{data:l,field:r}=t,a=sp.get(l,r);return[y(zh(e),Object.assign(Object.assign({options:n,optionProps:o},Wh(e,0,a)),Uh(e,t)))]}function nv(e,t){const{name:n,options:o,optionProps:l={}}=e,{data:r,field:a}=t,i=l.label||"label",s=l.value||"value",c=l.disabled||"disabled",u=sp.get(r,a),d=Bh(n);return o?[y(C(`${d}-group`),Object.assign(Object.assign({},Wh(e,0,u)),Uh(e,t)),{default:()=>o.map(((e,t)=>y(C(d),{key:t,label:e[s],content:e[i],disabled:e[c]})))})]:[y(C(d),Object.assign(Object.assign({},Wh(e,0,u)),Uh(e,t)))]}mm.mixin({input:{formItemAutoFocus:"input",renderFormItemContent:Yh},textarea:{formItemAutoFocus:"textarea",renderFormItemContent:Yh},select:{formItemAutoFocus:"input",renderFormItemContent:(e,t)=>[y("select",Object.assign(Object.assign({class:"vxe-default-select"},Hh(e)),Gh(e,t)),e.optionGroups?Kh(e,t,Jh):Jh(e.options,e,t))]},VxeInput:{formItemAutoFocus:"input",renderFormItemContent:Xh},VxeNumberInput:{formItemAutoFocus:"input",renderFormItemContent:Xh},VxePasswordInput:{formItemAutoFocus:"input",renderFormItemContent:Xh},VxeTextarea:{formItemAutoFocus:"textarea",renderFormItemContent:Xh},VxeDatePicker:{formItemAutoFocus:"input",renderFormItemContent:Xh},VxeDateRangePicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{startField:n,endField:o}=e,{$form:l,data:r,field:a}=t,i=sp.get(r,a),s={},c={};return n&&o&&(s.startValue=sp.get(r,n),s.endValue=sp.get(r,o),c["onUpdate:startValue"]=e=>{n&&sp.set(r,n,e)},c["onUpdate:endValue"]=e=>{o&&sp.set(r,o,e)}),[y(zh(e),Object.assign(Object.assign({},Wh(e,0,i,s)),qh(e,t,{model(e){sp.set(r,a,e)},change(){l.updateStatus(t)}},c)))]}},VxeButton:{renderFormItemContent:ev},VxeButtonGroup:{renderFormItemContent(e,t){const{options:n}=e,{data:o,field:l}=t,r=sp.get(o,l);return[y(zh(e),Object.assign(Object.assign({options:n},Wh(e,0,r)),Uh(e,t)))]}},VxeSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i}=e,s=sp.get(n,o);return[y(zh(e),Object.assign(Object.assign({},Wh(e,0,s,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i})),Uh(e,t)))]}},VxeTreeSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l,optionProps:r}=e,a=sp.get(n,o);return[y(zh(e),Object.assign(Object.assign({},Wh(e,0,a,{options:l,optionProps:r})),Uh(e,t)))]}},VxeTableSelect:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l,optionProps:r}=e,a=sp.get(n,o);return[y(zh(e),Object.assign(Object.assign({},Wh(e,0,a,{options:l,optionProps:r})),Uh(e,t)))]}},VxeColorPicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l}=e,r=sp.get(n,o);return[y(zh(e),Object.assign(Object.assign({},Wh(e,0,r,{colors:l})),Uh(e,t)))]}},VxeIconPicker:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l}=e,r=sp.get(n,o);return[y(zh(e),Object.assign(Object.assign({},Wh(e,0,r,{icons:l})),Uh(e,t)))]}},VxeRadio:{renderFormItemContent:ev},VxeRadioGroup:{renderFormItemContent:tv},VxeCheckbox:{renderFormItemContent:ev},VxeCheckboxGroup:{renderFormItemContent:tv},VxeSwitch:{renderFormItemContent:Xh},VxeRate:{renderFormItemContent:Xh},VxeSlider:{renderFormItemContent:Xh},VxeImage:{renderFormItemContent(e,t){const{data:n,field:o}=t,{props:l}=e,r=sp.get(n,o);return[y(zh(e),Object.assign(Object.assign(Object.assign({},l),{src:r}),Uh(e,t)))]}},VxeImageGroup:{renderFormItemContent(e,t){const{data:n,field:o}=t,{props:l}=e,r=sp.get(n,o);return[y(zh(e),Object.assign(Object.assign(Object.assign({},l),{urlList:r}),Uh(e,t)))]}},VxeUpload:{renderFormItemContent:Xh},$input:{formItemAutoFocus:"input",renderFormItemContent:Zh},$textarea:{formItemAutoFocus:"textarea",renderFormItemContent:Zh},$button:{renderFormItemContent:Qh},$buttons:{renderFormItemContent:function(e,t){return e.children.map((e=>Qh(e,t)[0]))}},$select:{formItemAutoFocus:"input",renderFormItemContent(e,t){const{data:n,field:o}=t,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i}=e,s=sp.get(n,o);return[y(jh(e),Object.assign(Object.assign({},Wh(e,0,s,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i})),Uh(e,t)))]}},$radio:{renderFormItemContent:nv},$checkbox:{renderFormItemContent:nv},$switch:{renderFormItemContent:Zh}});const ov=Object.assign(Lh,{install(e){e.component(Lh.name,Lh)}});_m.use(ov),$m.component(Lh);const lv=ov;let rv=1e5;const av=e=>{if(e){return"layout"===sv(e.name).group}return!1},iv=r({}),sv=e=>iv.value[e]||{};class cv{constructor(e,t,n){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"field",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:{update:!1,value:""}});let o="";if(t){const n=mm.get(t)||{};if(n){const l=iv.value,r=n.createFormDesignWidgetConfig;if(r){const n={name:t,$formDesign:e},a=r(n)||{},i=a.title,s=a.field;this.title=sp.toValueString(sp.isFunction(i)?i(n):i),this.options=a.options||{},this.children=a.children||[],s&&(o=sp.isFunction(s)?s({name:t,$formDesign:e}):s),l[t]||(l[t]=Object.assign({},a),iv.value=Object.assign({},l))}}}const l=function(e){return sp.eachTree(e,(e=>{e&&(rv=Math.max(rv,e.id))}),{children:"children"}),++rv}(n);o&&(((e,t)=>!sp.findTree(t,(t=>t.field===e),{children:"children"}))(o,n)||Hm("vxe.error.uniField",[o])),this.id=l,this.field=o||`${t}${l}`,this.name=t}}function uv(e){const t=new cv(null,e.name,[]);return t.id=e.id,t.title=e.title||"",t.field=e.field||"",t.required=e.required||!1,t.hidden=e.hidden||!1,t.options=Object.assign({},t.options,e.options),t.children=e.children?e.children.map((e=>uv(e))):[],t}const dv=p({props:{},emits:[],setup(){const e=n("$xeFormDesign",null);if(!e)return()=>[];const{reactData:t}=e,o=n=>{const o=n.currentTarget,l=n.dataTransfer,r=o.getAttribute("data-widget-name")||"";if(e.validWidgetUnique(r)){const n=e.createWidget(r);l&&l.setData("text/plain",r),t.sortWidget=null,t.dragWidget=n}else n.preventDefault()},l=n=>{if(n.preventDefault(),t.dragWidget){const o=t.dragWidget;t.activeWidget=o,e.dispatchEvent("add-widget",{newWidget:o},n)}t.dragWidget=null,t.sortWidget=null},r=n=>{const r=[];return n.children&&n.children.forEach(((n,a)=>{const{name:i}=n,s=function(e,t){const n=sv(e);if(n){const o=n.title,l={name:e,$formDesign:t};return sp.toValueString(sp.isFunction(o)?o(l):o)}return e}(i,e),c=mm.get(i)||{},u=sv(i),d=c.renderFormDesignWidgetItem;r.push(y("div",{key:a,class:"vxe-form-design--widget-item"},y("div",{class:"vxe-form-design--widget-box","data-widget-name":i,title:s,draggable:!0,onDragstart:o,onDragend:l},d?Zm(d({},{$formDesign:e})):[y("i",{class:["vxe-form-design--widget-item-icon",u&&u.icon||""]}),y("span",{class:"vxe-form-design--widget-item-name"},s),y("span",{class:"vxe-form-design--widget-item-add",onClick(n){((n,o)=>{if(e.validWidgetUnique(o)){const{widgetObjList:l}=t,r=e.createWidget(o);l.push(r),t.activeWidget=r,t.sortWidget=null,t.dragWidget=null,e.dispatchEvent("add-widget",{newWidget:r},n)}})(n,i)}},[y("i",{class:_p().FORM_DESIGN_WIDGET_ADD})])])))})),r},a=()=>{const{widgetConfigs:e}=t;return e.map(((e,n)=>{const{title:o,group:l}=e;return y("div",{key:n,class:"vxe-form-design--widget-group"},[y("div",{class:"vxe-form-design--widget-title"},l?lm(`vxe.formDesign.widget.group.${l}`):`${o||""}`),y("div",{class:"vxe-form-design--widget-list",onDragover(n){((e,n)=>{const{widgetObjList:o,dragWidget:l}=t;if(l&&n.children.some((e=>e.name===l.name))){const e=sp.findTree(o,(e=>e&&e.id===l.id),{children:"children"});e&&e.items.splice(e.index,1)}})(0,e)}},r(e))])}))};return()=>y("div",{class:"vxe-form-design--widget"},a())}}),pv=p({name:"FormDesignLayoutViewItem",props:{item:{type:Object,default:()=>({})},itemIndex:{type:Number,default:0},items:{type:Array,default:()=>[]}},emits:[],setup(e,{slots:t}){const o=n("$xeFormDesign",null);if(!o)return()=>[];const{reactData:l}=o,r=e=>{const{widgetObjList:t}=l,n=e.currentTarget,o=Number(n.getAttribute("data-widget-id")),r=sp.findTree(t,(e=>e&&e.id===o),{children:"children"});r&&(l.dragWidget=null,l.sortWidget=r.item)},a=()=>{l.activeWidget=l.sortWidget,l.sortWidget=null},i=e=>{const{widgetObjList:t,sortWidget:n}=l,r=o.internalData,{lastDragTime:a}=r;if(a&&a>Date.now()-300)e.preventDefault();else if(n){const l=e.currentTarget;e.preventDefault();const a=Number(l.getAttribute("data-widget-id"));if(a!==n.id){const l=sp.findTree(t,(e=>e&&e.id===a),{children:"children"});if(l){const a=sp.findTree(t,(e=>e&&e.id===n.id),{children:"children"});a&&(a.parent&&"row"===a.parent.name?a.items[a.index]=o.createEmptyWidget():a.items.splice(a.index,1),l.items.splice(l.index,0,a.item),r.lastDragTime=Date.now(),o.dispatchEvent("drag-widget",{widget:a.item},e))}}}};return()=>{const{dragWidget:n,activeWidget:s,sortWidget:c}=l,{item:u}=e,{name:d}=u,p=s&&s.id===u.id,m=t.default;return y("div",{key:u.id,"data-widget-id":u.id,draggable:!0,class:["vxe-form-design--preview-item",`widget-${sp.kebabCase(d)}`,{"is--active":p,"is--sort":c&&c.id===u.id,"is--drag":n&&n.id===u.id}],onDragstart:r,onDragend:a,onDragenter:i,onClick(e){((e,t)=>{o.handleClickWidget(e,t)})(e,u)}},[y("div",{class:"vxe-form-design--preview-item-view vxe-form--item-row"},m?m({}):[]),p?y("div",{class:"vxe-form-design--preview-item-operate"},[y(qg,{icon:_p().FORM_DESIGN_WIDGET_COPY,status:"primary",size:"mini",circle:!0,onClick(e){o.handleCopyWidget(e.$event,u)}}),y(qg,{icon:_p().FORM_DESIGN_WIDGET_DELETE,status:"danger",size:"mini",circle:!0,onClick(e){o.handleRemoveWidget(e.$event,u)}})]):x()])}}}),mv=p({name:"FormDesignLayoutPreview",props:{},emits:[],setup(){const e=n("$xeFormDesign",null);if(!e)return()=>[];const{reactData:t}=e,o=n=>{const{widgetObjList:o,dragWidget:l}=t;if(l){n.preventDefault();sp.findTree(o,(e=>e&&e.id===l.id),{children:"children"})||(t.sortWidget=l,o.push(l),e.dispatchEvent("drag-widget",{widget:l},n))}},l=e=>{e.preventDefault()};let r=Date.now();const a=n=>{const{widgetObjList:o,sortWidget:l}=t;if(n.stopPropagation(),r>Date.now()-300)n.preventDefault();else if(l){if(av(l))return;const t=sp.findTree(o,(e=>e.id===l.id),{children:"children"});if(t){const{item:l,index:a,items:i,parent:s}=t;s&&"row"===s.name?t.items[t.index]=e.createEmptyWidget():i.splice(a,1),o.unshift(l),r=Date.now(),e.dispatchEvent("drag-widget",{widget:l},n)}}},i=n=>{const{widgetObjList:o,sortWidget:l}=t;if(n.stopPropagation(),r>Date.now()-300)n.preventDefault();else if(l){if(av(l))return;const t=sp.findTree(o,(e=>e.id===l.id),{children:"children"});if(t){const{item:l,index:a,items:i,parent:s}=t;s&&"row"===s.name?t.items[t.index]=e.createEmptyWidget():i.splice(a,1),o.push(l),r=Date.now(),e.dispatchEvent("drag-widget",{widget:l},n)}}};return()=>{const{widgetObjList:n}=t;return y("div",{class:"vxe-form-design--preview",onDragenter:o,onDragover:l},[y("div",{class:"vxe-form-design--preview-wrapper"},[y("div",{class:"vxe-form-design--preview-place-widget",onDragenter:a}),y(Lh,{customLayout:!0,span:24,vertical:!0},{default:()=>y(E,{class:"vxe-form-design--preview-list",tag:"div",name:"vxe-form-design--preview-list"},{default:()=>n.map(((t,o)=>y(pv,{key:t.id,item:t,itemIndex:o,items:n},{default(){const{name:n}=t,o=mm.get(n)||{},l=o.renderFormDesignWidgetEdit||o.renderFormDesignWidgetView,r=!0;return l?Zm(l(t,{widget:t,readonly:!1,disabled:!1,isEditMode:r,isViewMode:!1,$formDesign:e,$formView:null})):[]}})))})}),y("div",{class:"vxe-form-design--preview-place-widget",onDragenter:i})])])}}}),gv=p({name:"VxeTabs",props:{modelValue:[String,Number,Boolean],options:Array,height:[String,Number],destroyOnClose:Boolean,titleWidth:[String,Number],titleAlign:[String,Number],type:String,showClose:Boolean,padding:{type:Boolean,default:()=>Ap().tabs.padding},trigger:String,beforeChangeMethod:Function,closeConfig:Object,refreshConfig:Object,beforeCloseMethod:Function},emits:["update:modelValue","change","tab-change","tab-change-fail","tab-close","tab-close-fail","tab-click","tab-load"],setup(e,o){const{slots:l,emit:a}=o,s=sp.uniqueId(),c=n("$xeTabs",null),u=r(),d=r(),p=m({staticTabs:[],activeName:null,initNames:[],lintLeft:0,lintWidth:0,isTabOver:!1,resizeFlag:1,cacheTabMaps:{}}),v={slTimeout:void 0},x={refElem:u},w=g((()=>Object.assign({},Ap().tabs.closeConfig,e.closeConfig))),C=g((()=>Object.assign({},Ap().tabs.refreshConfig,e.refreshConfig))),S=g((()=>{const{options:t}=e;return(t||[]).filter((e=>O(e)))})),E=g((()=>{const{staticTabs:e}=p;return e.filter((e=>O(e)))})),D={},T={xID:s,props:e,context:o,reactData:p,getRefMaps:()=>x,getComputeMaps:()=>D},O=e=>{const{permissionCode:t}=e;return!(t&&!Dm.checkVisible(t))},k=(e,t)=>e&&(sp.isString(e)&&(e=l[e]||null),sp.isFunction(e))?Zm(e(t)):[],R=()=>{t((()=>{const{type:t}=e,{activeName:n}=p,o=S.value,l=E.value,r=d.value;let a=0,i=0,s=!1;if(r){const e=sp.findIndexOf(l.length?l:o,(e=>e.name===n)),{children:c,scrollWidth:u,clientWidth:d}=r;if(s=u!==d,e>-1){const n=c[e],o=n.clientWidth;t?"card"===t?(a=o+2,i=n.offsetLeft):"border-card"===t&&(a=o+2,i=n.offsetLeft-1):(a=Math.max(4,Math.floor(.6*o)),i=n.offsetLeft+Math.floor((o-a)/2))}}p.lintLeft=i,p.lintWidth=a,p.isTabOver=s}))},I=(e,t,n)=>{a(e,Gp(n,{$tabs:T},t))},M=(e,t)=>{const{initNames:n}=p;return!(!e||n.includes(e))&&(I("tab-load",{name:e},t),n.push(e),!0)},P=t=>{let n=null;const o={};if(t&&t.length){let l=!1;n=e.modelValue,t.forEach((e=>{const{name:t,preload:r}=e||{};t&&(o[`${t}`]={loading:!1},n===t&&(l=!0),r&&M(t,null))})),l||(n=t[0].name,M(n,null),a("update:modelValue",n))}p.activeName=n,p.cacheTabMaps=o},F=e=>{const t=d.value;if(t){((e,t)=>{const{slTimeout:n}=v;let o=t,l=6,r=35;n&&(clearTimeout(n),v.slTimeout=void 0);const a=()=>{const t=d.value;if(l>0&&(l--,t)){const{clientWidth:n,scrollWidth:l,scrollLeft:i}=t;o=Math.floor(o/2),e>0?n+i<l&&(t.scrollLeft+=o,r-=4,v.slTimeout=setTimeout(a,r)):i>0&&(t.scrollLeft-=o,r-=4,v.slTimeout=setTimeout(a,r)),R()}};a()})(e,Math.floor(.75*t.clientWidth))}},V=()=>{F(-1)},A=()=>{F(1)},$=e=>{const n=S.value,o=E.value;return t().then((()=>{const t=d.value;if(t){const l=sp.findIndexOf(o.length?o:n,(t=>t.name===e));if(l>-1){const{scrollLeft:e,clientWidth:n,children:o}=t,r=o[l];if(r){const o=r.offsetLeft,l=o+r.clientWidth-(e+n);l>0&&(t.scrollLeft+=l),o<e&&(t.scrollLeft=o)}}R()}}))},N=e=>{const{activeName:n}=p,o=S.value,l=E.value,r=l.length?l:o,i=sp.findIndexOf(r,(e=>e.name===n));if(i>-1){let t=null;if(e?i<r.length-1&&(t=r[i+1]):i>0&&(t=r[i-1]),t){const e=t.name,n=e;p.activeName=e,a("update:modelValue",n),M(e,null)}}return t()},L={dispatchEvent:I,scrollToTab:$,prev:()=>N(!1),next:()=>N(!0),prevTab:()=>(jm("vxe.error.delFunc",["prevTab","prev"]),L.prev()),nextTab:()=>(jm("vxe.error.delFunc",["nextTab","next"]),L.next())};Object.assign(T,L,{});const _=t=>{const{type:n,titleWidth:o,titleAlign:r,showClose:i,closeConfig:s,refreshConfig:c}=e,{activeName:u,lintLeft:m,lintWidth:g,isTabOver:f,cacheTabMaps:h}=p,v=l.extra,b=w.value,x=b.visibleMethod,S=C.value,E=S.visibleMethod;return y("div",{class:"vxe-tabs-header"},[f?y("div",{class:"vxe-tabs-header--bar vxe-tabs-header--left-bar",onClick:V},[y("span",{class:_p().TABS_TAB_BUTTON_LEFT})]):Am(),y("div",{class:"vxe-tabs-header--wrapper"},[y("div",{ref:d,class:"vxe-tabs-header--item-wrapper"},t.map(((n,l)=>{const{title:d,titleWidth:m,titleAlign:g,icon:f,name:v,slots:D}=n,O=D?D.title||D.tab:null,R=m||o,P=g||r,F={$tabs:T,value:u,name:v,option:n},V=u===v,A=v?h[`${v}`]:null,$=!!A&&A.loading;return y("div",{key:`${v}`,class:["vxe-tabs-header--item",P?`align--${P}`:"",{"is--active":V}],style:R?{width:dg(R)}:null,onClick(t){((t,n)=>{const{trigger:o}=e,l=e.beforeChangeMethod||Ap().tabs.beforeChangeMethod,{activeName:r}=p,{name:i}=n,s=i;I("tab-click",{name:i},t),"manual"!==o&&i!==r&&Promise.resolve(!l||l({$tabs:T,name:i,oldName:r,newName:i,option:n})).then((e=>{e?(p.activeName=i,a("update:modelValue",s),M(i,t),I("change",{value:s,name:i,oldName:r,newName:i,option:n},t),I("tab-change",{value:s,name:i,oldName:r,newName:i,option:n},t)):I("tab-change-fail",{value:s,name:i,oldName:r,newName:i,option:n},t)})).catch((()=>{I("tab-change-fail",{value:s,name:i,oldName:r,newName:i,option:n},t)}))})(t,n)}},[y("div",{class:"vxe-tabs-header--item-inner"},[y("div",{class:"vxe-tabs-header--item-content"},[f?y("span",{class:"vxe-tabs-header--item-icon"},[y("i",{class:f})]):Am(),y("span",{class:"vxe-tabs-header--item-name"},O?k(O,{name:v,title:d}):`${d}`)]),(Ng(c)||S.enabled)&&(E?E(F):V)?y("div",{class:"vxe-tabs-header--refresh-btn",onClick(e){((e,t)=>{e.stopPropagation();const{activeName:n,cacheTabMaps:o}=p,{name:l}=t,r=C.value,{queryMethod:a}=r,i=l?o[`${l}`]:null;i&&(a?(i.loading=!0,Promise.resolve(a({$tabs:T,value:n,name:l,option:t})).finally((()=>{i.loading=!1}))):Hm("vxe.error.notFunc",["refresh-config.queryMethod"]))})(e,n)}},[y("i",{class:$?_p().TABS_TAB_REFRESH_LOADING:_p().TABS_TAB_REFRESH})]):Am(),!(i||Ng(s)||b.enabled)||x&&!x(F)?Am():y("div",{class:"vxe-tabs-header--close-btn",onClick(o){((t,n,o,l)=>{t.stopPropagation();const{activeName:r}=p,a=w.value.beforeMethod||e.beforeCloseMethod||Ap().tabs.beforeCloseMethod,{name:i}=n,s=r;let c=s;if(r===i){const e=o<l.length-1?l[o+1]:l[o-1];c=e?e.name:null}Promise.resolve(!a||a({$tabs:T,value:s,name:i,nextName:c,option:n})).then((e=>{I(e?"tab-close":"tab-close-fail",{value:s,name:i,nextName:c},t)})).catch((()=>{I("tab-close-fail",{value:s,name:i,nextName:c},t)}))})(o,n,l,t)}},[y("i",{class:_p().TABS_TAB_CLOSE})])])])})).concat([y("span",{key:"line",class:`vxe-tabs-header--active-line type--${n||"default"}`,style:{left:`${m}px`,width:`${g}px`}})]))]),f?y("div",{class:"vxe-tabs-header--bar vxe-tabs-header--right-bar",onClick:A},[y("span",{class:_p().TABS_TAB_BUTTON_RIGHT})]):Am(),v?y("div",{class:"vxe-tabs-header--extra"},Zm(v({}))):Am()])},B=e=>{const{initNames:t,activeName:n}=p,{name:o,slots:l}=e,r=l?l.default:null;return o&&t.includes(o)?y("div",{key:`${o}`,class:["vxe-tabs-pane--item",{"is--visible":n===o,"has--content":!!r}]},r?k(r,{name:o}):[]):Am()},z=t=>{const{destroyOnClose:n}=e,{activeName:o}=p,l=t.find((e=>e.name===o));return n?[l?B(l):Am()]:t.map((e=>B(e)))};i((()=>e.modelValue),(e=>{M(e,null),p.activeName=e})),i((()=>p.activeName),(e=>{$(e),t((()=>{p.resizeFlag++}))}));const j=r(0);i((()=>e.options?e.options.length:-1),(()=>{j.value++})),i((()=>e.options),(()=>{j.value++})),i(j,(()=>{P(e.options),R()}));const H=r(0);return i((()=>p.staticTabs?p.staticTabs.length:-1),(()=>{H.value++})),i((()=>p.staticTabs),(()=>{H.value++})),i(H,(()=>{P(p.staticTabs),R()})),c&&i((()=>c?c.reactData.resizeFlag:null),(()=>{p.resizeFlag++})),i((()=>p.resizeFlag),(()=>{t((()=>{R()}))})),f((()=>{Kp.on(T,"resize",R),R()})),h((()=>{Kp.off(T,"resize")})),b("$xeTabs",T),M(e.modelValue,null),P(p.staticTabs.length?p.staticTabs:e.options),T.renderVN=()=>{const{type:t,height:n,padding:o,trigger:r}=e,a=S.value,i=E.value,s=l.default,c=l.footer,d=s?i:a;return y("div",{ref:u,class:["vxe-tabs",`vxe-tabs--${t||"default"}`,"trigger--"+("manual"===r?"trigger":"default"),{"is--padding":o,"is--height":n}],style:n?{height:dg(n)}:null},[y("div",{class:"vxe-tabs-slots"},s?s({}):[]),_(d),y("div",{class:"vxe-tabs-pane"},z(d)),c?y("div",{class:"vxe-tabs-footer"},k(c,{})):Am()])},T},render(){return this.renderVN()}});const fv=p({name:"VxeTabPane",props:{title:[String,Number],name:[String,Number],icon:String,titleWidth:[String,Number],titleAlign:[String,Number],preload:Boolean,permissionCode:[String,Number]},emits:[],setup(e,t){const{slots:o,emit:l}=t,a=sp.uniqueId(),s=r(),c=n("$xeTabs",null),u=m({}),d=m({id:a,title:e.title,name:e.name,icon:e.icon,titleWidth:e.titleWidth,titleAlign:e.titleAlign,preload:e.preload,permissionCode:e.permissionCode,slots:o}),p={refElem:s},g={},v={xID:a,props:e,context:t,reactData:u,getRefMaps:()=>p,getComputeMaps:()=>g},b={dispatchEvent:(e,t,n)=>{l(e,Gp(n,{$tabPane:v},t))}};Object.assign(v,b,{}),i((()=>e.title),(e=>{d.title=e})),i((()=>e.name),(e=>{d.name=e})),i((()=>e.icon),(e=>{d.icon=e})),i((()=>e.permissionCode),(e=>{d.permissionCode=e})),f((()=>{const e=s.value;c&&e&&function(e,t,n){const o=e.reactData.staticTabs,l=t.parentNode;l&&(o.splice(sp.arrayIndexOf(l.children,t),0,n),e.reactData.staticTabs=o.slice(0))}(c,e,d)})),h((()=>{c&&function(e,t){const n=e.reactData.staticTabs,o=sp.findTree(n,(e=>e.id===t.id),{children:"children"});o&&o.items.splice(o.index,1),e.reactData.staticTabs=n.slice(0)}(c,d)}));return v.renderVN=()=>y("div",{ref:s},[]),v},render(){return this.renderVN()}}),hv={title:String,field:String,span:{type:[String,Number],default:null},align:{type:String,default:null},verticalAlign:{type:String,default:null},titleBackground:{type:Boolean,default:null},titleBold:{type:Boolean,default:null},titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},showTitle:{type:Boolean,default:!0},vertical:{type:Boolean,default:null},padding:{type:Boolean,default:null},formatter:[String,Function],className:[String,Function],contentClassName:[String,Function],contentStyle:[Object,Function],titleClassName:[String,Function],titleStyle:[Object,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},showContent:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object,rules:Array},vv=p({name:"VxeFormItem",props:hv,setup(e,{slots:t}){const o=sp.uniqueId(),l=r(),a=n("$xeForm",{}),i=n("$xeFormGroup",null),s=m(wh(a,e));s.slots=t;b("xeFormItemInfo",{itemConfig:s});const c={xID:o,formItem:s,renderVN:()=>!!a&&a.props.customLayout?((e,t)=>{const n=e.props,o=e.xeGrid,{data:r,readonly:a,disabled:i}=n,{visible:s,field:c,itemRender:u,contentStyle:d,showContent:p}=t,m=Ng(u)?mm.get(u.name):null,g=m?m.formItemStyle||m.itemStyle:null,f=m?m.formItemContentStyle||m.itemContentStyle:null,h={data:r,disabled:i,readonly:a,field:c,property:c,item:t,$form:e,$grid:o};return!1===s?Am():y("div",{ref:l,key:t.id,class:Rh(e,t),style:sp.isFunction(g)?g(h):g},[Mh(e,t),!1===p?Am():y("div",{class:Ih(e,t),style:Object.assign({},sp.isFunction(f)?f(h):f,sp.isFunction(d)?d(h):d)},[Ph(e,t)])])})(a,s):y("div",{ref:l})};return Sh(e,s),f((()=>{const e=l.value;Eh(a,e,s,i)})),h((()=>{Dh(a,s)})),b("$xeFormItem",c),b("$xeFormGroup",null),c},render(){return this.renderVN()}}),bv=p({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},size:{type:String,default:()=>Ap().switch.size||Ap().size},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String,openActiveIcon:String,closeActiveIcon:String},emits:["update:modelValue","change","focus","blur"],setup(e,o){const{emit:l}=o,a=n("$xeForm",null),i=n("xeFormItemInfo",null),s=sp.uniqueId(),{computeSize:c}=Om(e),u=m({isActivated:!1,hasAnimat:!1,offsetLeft:0}),d={},p={xID:s,props:e,context:o,reactData:u,internalData:d},f=r();let h={};const v=g((()=>{const{disabled:t}=e;return null===t?!!a&&(a.props.readonly||a.props.disabled):t})),b=g((()=>{const{readonly:t}=e;return null===t?!!a&&(a.props.readonly||a.props.disabled):t})),x=g((()=>zg(e.openLabel))),w=g((()=>zg(e.closeLabel))),C=g((()=>e.modelValue===e.openValue)),S=t=>{const n=v.value,o=b.value;if(!n&&!o){const n=C.value;clearTimeout(d.atTimeout);const o=n?e.closeValue:e.openValue;u.hasAnimat=!0,(e=>{l("update:modelValue",e)})(o),h.dispatchEvent("change",{value:o},t),a&&i&&a.triggerItemEvent(t,i.itemConfig.field,o),d.atTimeout=setTimeout((()=>{u.hasAnimat=!1,d.atTimeout=void 0}),400)}},E=t=>{u.isActivated=!0,h.dispatchEvent("focus",{value:e.modelValue},t)},D=t=>{u.isActivated=!1,h.dispatchEvent("blur",{value:e.modelValue},t)};h={dispatchEvent:(e,t,n)=>{l(e,Gp(n,{$switch:p},t))},focus(){const e=f.value;return u.isActivated=!0,e&&e.focus(),t()},blur(){const e=f.value;return e&&e.blur(),u.isActivated=!1,t()}},Object.assign(p,h);return p.renderVN=()=>{const{openIcon:t,closeIcon:n,openActiveIcon:o,closeActiveIcon:l}=e,r=c.value,a=C.value,i=x.value,s=w.value,d=v.value,p=b.value;return y("div",{class:["vxe-switch",a?"is--on":"is--off",{[`size--${r}`]:r,"is--disabled":d,"is--readonly":p,"is--animat":u.hasAnimat}]},[y("button",{ref:f,class:"vxe-switch--button",type:"button",disabled:d||p,onClick:S,onFocus:E,onBlur:D},[y("span",{class:"vxe-switch--label vxe-switch--label-on"},[t?y("i",{class:["vxe-switch--label-icon",t]}):Am(),i]),y("span",{class:"vxe-switch--label vxe-switch--label-off"},[n?y("i",{class:["vxe-switch--label-icon",n]}):Am(),s]),y("span",{class:["vxe-switch--icon"]},o||l?[y("i",{class:a?o:l})]:[])])])},p},render(){return this.renderVN()}}),xv=p({name:"DefaultSettingForm",props:{formData:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormDesign",null);if(!t)return()=>[];const{props:o}=t;return()=>{const{formData:t}=e;return y(Lh,{data:t,span:24,vertical:!0,titleBold:!0},{default(){const{showPc:e,showMobile:n}=o;return[y(vv,{title:lm("vxe.formDesign.formName"),field:"title",itemRender:{name:"VxeInput",props:{placeholder:lm("vxe.formDesign.defFormTitle")}}}),e&&n?y(vv,{title:lm("vxe.formDesign.widgetProp.displaySetting.name")},{default:()=>[y("div",{class:"vxe-form-design--widget-form-item-devices"},[y("div",{class:"vxe-form-design--widget-form-item-pc"},[y(Kf,{icon:_p().FORM_DESIGN_PROPS_PC,content:lm("vxe.formDesign.widgetProp.displaySetting.pc")}),y(bv,{modelValue:t.pcVisible,openLabel:lm("vxe.formDesign.widgetProp.displaySetting.visible"),closeLabel:lm("vxe.formDesign.widgetProp.displaySetting.hidden"),"onUpdate:modelValue"(e){t.pcVisible=e}})]),y("div",{class:"vxe-form-design--widget-form-item-mobile"},[y(Kf,{icon:_p().FORM_DESIGN_PROPS_MOBILE,content:lm("vxe.formDesign.widgetProp.displaySetting.mobile")}),y(bv,{modelValue:t.mobileVisible,openLabel:lm("vxe.formDesign.widgetProp.displaySetting.visible"),closeLabel:lm("vxe.formDesign.widgetProp.displaySetting.hidden"),"onUpdate:modelValue"(e){t.mobileVisible=e}})])])]}):x()]}})}}}),wv=p({name:"FormDesignLayoutSetting",props:{},emits:[],setup(){const e=n("$xeFormDesign",null);if(!e)return()=>[];const{props:t,reactData:o}=e,l=r(1);return i((()=>o.activeWidget),(()=>{l.value=1})),()=>y("div",{class:"vxe-form-design--setting"},[y("div",{class:"vxe-form-design--setting-form"},[y(gv,{modelValue:l.value,titleWidth:"50%",titleAlign:"center",padding:!0,class:"vxe-form-design--setting-form-tabs","onUpdate:modelValue"(e){l.value=e}},{default:()=>[y(fv,{title:lm("vxe.formDesign.widgetPropTab"),name:1},{default:()=>(()=>{const{activeWidget:t}=o;if(t){const n=mm.get(t.name),o=n?n.renderFormDesignWidgetFormView:null;if(o){const n=!0;return y("div",{class:"vxe-form-design--custom-widget-form-view"},Zm(o(t,{isEditMode:n,isViewMode:!n,widget:t,$formDesign:e,$formView:null})))}}return x()})()}),y(fv,{title:lm("vxe.formDesign.widgetFormTab"),name:2},{default:()=>(()=>{const{formRender:n}=t,{formData:l}=o;if(n){const t=mm.get(n.name),o=t?t.renderFormDesignSettingFormView:null;if(o)return y("div",{class:"vxe-form-design--custom-setting-form-view"},Zm(o({},{$formDesign:e})))}return y(xv,{formData:l})})()})]})])])}}),yv=[],Cv=[],Sv=[],Ev="data-vxe-lock-scroll",Dv="--vxe-ui-modal-lock-scroll-view-width",Tv=p({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>Ap().modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>Ap().modal.duration},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>Ap().modal.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>Ap().modal.showConfirmButton},confirmButtonText:{type:String,default:()=>Ap().modal.confirmButtonText},lockView:{type:Boolean,default:()=>Ap().modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>Ap().modal.mask},maskClosable:{type:Boolean,default:()=>Ap().modal.maskClosable},escClosable:{type:Boolean,default:()=>Ap().modal.escClosable},cancelClosable:{type:Boolean,default:()=>Ap().modal.cancelClosable},confirmClosable:{type:Boolean,default:()=>Ap().modal.confirmClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>Ap().modal.showHeader},showFooter:{type:Boolean,default:()=>Ap().modal.showFooter},showZoom:Boolean,zoomConfig:Object,showMaximize:{type:Boolean,default:()=>Hg(Ap().modal.showMaximize)},showMinimize:{type:Boolean,default:()=>Hg(Ap().modal.showMinimize)},showClose:{type:Boolean,default:()=>Ap().modal.showClose},dblclickZoom:{type:Boolean,default:()=>Ap().modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>Ap().modal.minWidth},minHeight:{type:[Number,String],default:()=>Ap().modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>Ap().modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>Ap().modal.draggable},remember:{type:Boolean,default:()=>Ap().modal.remember},destroyOnClose:{type:Boolean,default:()=>Ap().modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>Ap().modal.showTitleOverflow},transfer:{type:Boolean,default:()=>Ap().modal.transfer},storage:{type:Boolean,default:()=>Ap().modal.storage},storageKey:{type:String,default:()=>Ap().modal.storageKey},padding:{type:Boolean,default:()=>Ap().modal.padding},size:{type:String,default:()=>Ap().modal.size||Ap().size},beforeHideMethod:Function,slots:Object,message:[Number,String],animat:{type:Boolean,default:()=>Ap().modal.animat}},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom","resize","move"],setup(e,o){const{slots:l,emit:a}=o,s=sp.uniqueId(),c=n("$xeModal",null),u=n("$xeDrawer",null),d=n("$xeTable",null),p=n("$xeForm",null),{computeSize:v}=Om(e),x=m({initialized:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,prevZoomStatus:"",zoomStatus:"",revertLocat:null,prevLocat:null,firstOpen:!0,resizeFlag:1}),w={msgTimeout:void 0},C=r(),E=r(),D=r(),T=r(),O=r(),k={refElem:C},R=g((()=>{const{transfer:t}=e;if(null===t){const e=Ap().modal.transfer;if(sp.isBoolean(e))return e;if(d||c||u||p)return!0}return t})),I=g((()=>"message"===e.type||"notification"===e.type)),M=g((()=>"minimize"===x.zoomStatus)),P=g((()=>"maximize"===x.zoomStatus)),F=g((()=>Object.assign({},Ap().modal.zoomConfig,e.zoomConfig))),V={computeSize:v,computeZoomOpts:F},A={xID:s,props:e,context:o,reactData:x,internalData:w,getRefMaps:()=>k,getComputeMaps:()=>V};let $={};const N=()=>E.value,L=()=>{const{width:n,height:o}=e,l=N();return l&&(l.style.width=n?dg(n):"",l.style.height=o?dg(o):""),t()},_=()=>{const{zIndex:t}=e,{modalZindex:n}=x;if(t)x.modalZindex=t;else{I.value?n<Rp.getSubCurrent()&&(x.modalZindex=Rp.getSubNext()):n<_g()&&(x.modalZindex=Lg())}},B=()=>t().then((()=>{const{position:t}=e,n=sp.toNumber(e.marginSize),o=N();if(!o)return;const l=document.documentElement.clientWidth||document.body.clientWidth,r=document.documentElement.clientHeight||document.body.clientHeight,a="center"===t,{top:i,left:s}=sp.isString(t)?{top:t,left:t}:Object.assign({},t),c=a||"center"===i;let u="",d="";d=s&&!(a||"center"===s)?isNaN(s)?s:`${s}px`:`${Math.max(n,l/2-o.offsetWidth/2)}px`,u=i&&!c?isNaN(i)?i:`${i}px`:`${Math.max(n,r/2-o.offsetHeight/2)}px`,o.style.top=u,o.style.left=d})),z=()=>{t((()=>{const{type:t}=e;let n=0;("notification"===t?Sv:Cv).forEach((e=>{const t=e.getBox();t&&(n+=sp.toNumber(e.props.top),e.reactData.modalTop=n,n+=t.clientHeight)}))}))},j=()=>{const{type:t}=e,n="notification"===t?Sv:Cv;n.indexOf(A)>-1&&sp.remove(n,(e=>e===A)),z()},H=n=>{const{remember:o}=e,{visible:l}=x,r=I.value,i=e.beforeHideMethod||Ap().modal.beforeHideMethod,s={type:n};return l&&Promise.resolve(i?i(s):null).then((e=>{sp.isError(e)||(r&&j(),x.contentVisible=!1,o||le(),sp.remove(yv,(e=>e===A)),de("before-hide",s,null),setTimeout((()=>{x.visible=!1,a("update:modelValue",!1),de("hide",s,null)}),200),Q())})).catch((e=>e)),t()},W=e=>{const t="close";de(t,{type:t},e),H(t)},q=t=>{const{confirmClosable:n}=e,o="confirm";de(o,{type:o},t),n&&H(o)},U=t=>{const{cancelClosable:n}=e,o="cancel";de(o,{type:o},t),n&&H(o)},G=e=>{const t=Ap().version,n=sp.toStringJSON(localStorage.getItem(e)||"");return n&&n._v===t?n:{_v:t}},K=()=>{const{id:t,storage:n,storageKey:o}=e,{zoomStatus:l,revertLocat:r}=x;if(!l&&t&&n){const e=N();if(!e)return;const n=G(o);n[t]=[e.style.left,e.style.top,e.style.width,e.style.height].concat(r?[r.left,r.top,r.width,r.height]:[]).map((e=>e?sp.toNumber(e):"")).join(","),localStorage.setItem(o,sp.toJSONString(n))}},Y=()=>{const e=F.value,{minimizeLayout:n,minimizeMaxSize:o,minimizeHorizontalOffset:l,minimizeVerticalOffset:r,minimizeOffsetMethod:a}=e,i="horizontal"===n,s=x.zoomStatus,c=[],u=[];yv.forEach((e=>{if(e.xID!==A.xID&&"modal"===e.props.type&&"minimize"===e.reactData.zoomStatus){"horizontal"===e.getComputeMaps().computeZoomOpts.value.minimizeLayout?c.push(e):u.push(e)}}));const d=i?c:u;return o&&d.length>=o?($m.modal&&$m.modal.message({status:"error",content:lm("vxe.modal.miniMaxSize",[o])}),Promise.resolve({status:!1})):(x.prevZoomStatus=s,x.zoomStatus="minimize",t().then((()=>{const e=N();if(!e)return{status:!1};const t=D.value;if(!t)return{status:!1};const{visibleHeight:n}=pg();s||(x.revertLocat={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth+(e.style.width?0:1),height:e.offsetHeight+(e.style.height?0:1)});const o=sp[i?"max":"min"](d,(e=>{const t=e.getBox();return t?sp.toNumber(t.style[i?"left":"top"]):0}));let c=n-t.offsetHeight-16,u=16;if(o){const e=o.getBox();if(e){const t=sp.toNumber(e.style.left),n=sp.toNumber(e.style.top);let o={};o=i?Object.assign({},l):Object.assign({},r),u=t+sp.toNumber(o.left),c=n+sp.toNumber(o.top),a&&(o=a({$modal:A,left:u,top:c}),u=sp.toNumber(o.left),c=sp.toNumber(o.top))}}return Object.assign(e.style,{top:`${c}px`,left:`${u}px`,width:"200px",height:`${t.offsetHeight}px`}),K(),{status:!0}})))},X=()=>{const n=x.zoomStatus;return x.prevZoomStatus=n,x.zoomStatus="maximize",t().then((()=>{const t=N();if(t){if(!n){const n=sp.toNumber(e.marginSize),o=document.documentElement.clientWidth||document.body.clientWidth,l=document.documentElement.clientHeight||document.body.clientHeight;x.revertLocat={top:Math.max(n,l/2-t.offsetHeight/2),left:Math.max(n,o/2-t.offsetWidth/2),width:t.offsetWidth+(t.style.width?0:1),height:t.offsetHeight+(t.style.height?0:1)}}Object.assign(t.style,{top:"0",left:"0",width:"100%",height:"100%"})}return K(),{status:!0}}))},Z=()=>{const{duration:t}=e;-1!==t&&(w.msgTimeout=setTimeout((()=>H("close")),sp.toNumber(t)))},Q=()=>{const e=document.documentElement,t=e.getAttribute(Ev);if(t){const n=t.split(",").filter((e=>e!==s));n.length?e.setAttribute(Ev,n.join(",")):(e.removeAttribute(Ev),e.style.removeProperty(Dv))}},J=()=>{const{remember:n,showFooter:o}=e,{initialized:l,visible:r}=x,i=I.value;return l||(x.initialized=!0),r||((()=>{const{lockScroll:t}=e,n=I.value;if(t&&!n){const e=document.documentElement,t=document.body.clientWidth,n=e.getAttribute(Ev),o=n?n.split(","):[];o.includes(s)||(o.push(s),e.setAttribute(Ev,o.join(","))),e.style.setProperty(Dv,`${t}px`)}})(),x.visible=!0,x.contentVisible=!1,_(),yv.push(A),setTimeout((()=>{x.contentVisible=!0,t((()=>{if(o){const e=T.value,t=O.value,n=e||t;n&&n.focus()}const e={type:""};a("update:modelValue",!0),de("show",e,null)}))}),10),i?((()=>{const{type:t}=e,n="notification"===t?Sv:Cv;-1===n.indexOf(A)&&n.push(A),z()})(),Z()):t((()=>{const{fullscreen:o}=e,{firstOpen:l}=x;l?(x.firstOpen=!1,(()=>{const{id:t,storage:n,storageKey:o}=e;return!!(t&&n&&G(o)[t])})()?(()=>{const{id:t,storage:n,storageKey:o}=e;if(t&&n){const e=G(o)[t];if(e){const t=N(),[n,o,l,r,a,i,s,c]=e.split(",");t&&(n&&(t.style.left=`${n}px`),o&&(t.style.top=`${o}px`),l&&(t.style.width=`${l}px`),r&&(t.style.height=`${r}px`)),a&&i&&(x.revertLocat={left:a,top:i,width:s,height:c})}}})():o?t((()=>X())):(L(),B().then((()=>{setTimeout((()=>B()),20)})))):n||(L(),B().then((()=>{setTimeout((()=>B()),20)})))}))),t()},ee=t=>{const n=C.value;if(e.maskClosable&&t.target===n){H("mask")}},te=()=>{const{msgTimeout:e}=w;if(!e)return;I.value&&(clearTimeout(e),w.msgTimeout=void 0)},ne=()=>{const{msgTimeout:e}=w;if(!e){I.value&&Z()}},oe=e=>{if(Kp.hasKey(e,Bp.ESCAPE)){const t=sp.max(yv,(e=>e.reactData.modalZindex));t&&setTimeout((()=>{if(t===A&&t.props.escClosable){const t="exit";de("close",{type:t},e),H(t)}}),10)}},le=()=>(x.prevZoomStatus=x.zoomStatus,x.zoomStatus="",t().then((()=>{const{revertLocat:e}=x;if(e){const n=N();return x.revertLocat=null,n&&Object.assign(n.style,{top:`${e.top}px`,left:`${e.left}px`,width:`${e.width}px`,height:`${e.height}px`}),K(),t().then((()=>({status:!0})))}return{status:!1}}))),re=e=>{const{zoomStatus:t}=x;return new Promise((n=>{if(e)return"maximize"===e?void n(X()):"minimize"===e?void n(Y()):void n(le());n(t?le():X())})).then((()=>x.zoomStatus||"revert"))},ae=e=>{const{zoomStatus:t,prevZoomStatus:n}=x;return re("minimize"===t?n||"revert":"minimize").then((t=>{de("zoom",{type:t},e)}))},ie=e=>re().then((t=>{de("zoom",{type:t},e)})),se=()=>{const{modalZindex:e}=x;yv.some((t=>t.reactData.visible&&t.reactData.modalZindex>e))&&_()},ce=n=>{const{storage:o}=e,{zoomStatus:l}=x,r=sp.toNumber(e.marginSize),a=N();if(a&&"maximize"!==l&&0===n.button&&!mg(n,a,"trigger--btn").flag){n.preventDefault();const e=n.clientX-a.offsetLeft,l=n.clientY-a.offsetTop,{visibleHeight:i,visibleWidth:s}=pg();document.onmousemove=t=>{t.preventDefault();const n=a.offsetWidth,o=a.offsetHeight,c=r,u=s-n-r-1,d=r,p=i-o-r-1;let m=t.clientX-e,g=t.clientY-l;m>u&&(m=u),m<c&&(m=c),g>p&&(g=p),g<d&&(g=d),a.style.left=`${m}px`,a.style.top=`${g}px`,a.className=a.className.replace(/\s?is--drag/,"")+" is--drag",de("move",{type:"move"},t),x.resizeFlag++},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,o&&t((()=>{K()})),x.resizeFlag++,setTimeout((()=>{a.className=a.className.replace(/\s?is--drag/,"")}),50)}}},ue=t=>{t.preventDefault();const{storage:n}=e,{visibleHeight:o,visibleWidth:l}=pg(),r=sp.toNumber(e.marginSize),a=t.target.getAttribute("type"),i=sp.toNumber(e.minWidth),s=sp.toNumber(e.minHeight),c=l,u=o,d=N(),p=d.clientWidth,m=d.clientHeight,g=t.clientX,f=t.clientY,h=d.offsetTop,v=d.offsetLeft,b={type:"resize"};document.onmousemove=e=>{let t,x,w,y;switch(e.preventDefault(),a){case"wl":t=g-e.clientX,w=t+p,v-t>r&&w>i&&(d.style.width=`${w<c?w:c}px`,d.style.left=v-t+"px");break;case"swst":t=g-e.clientX,x=f-e.clientY,w=t+p,y=x+m,v-t>r&&w>i&&(d.style.width=`${w<c?w:c}px`,d.style.left=v-t+"px"),h-x>r&&y>s&&(d.style.height=`${y<u?y:u}px`,d.style.top=h-x+"px");break;case"swlb":t=g-e.clientX,x=e.clientY-f,w=t+p,y=x+m,v-t>r&&w>i&&(d.style.width=`${w<c?w:c}px`,d.style.left=v-t+"px"),h+y+r<o&&y>s&&(d.style.height=`${y<u?y:u}px`);break;case"st":x=f-e.clientY,y=m+x,h-x>r&&y>s&&(d.style.height=`${y<u?y:u}px`,d.style.top=h-x+"px");break;case"wr":t=e.clientX-g,w=t+p,v+w+r<l&&w>i&&(d.style.width=`${w<c?w:c}px`);break;case"sest":t=e.clientX-g,x=f-e.clientY,w=t+p,y=x+m,v+w+r<l&&w>i&&(d.style.width=`${w<c?w:c}px`),h-x>r&&y>s&&(d.style.height=`${y<u?y:u}px`,d.style.top=h-x+"px");break;case"selb":t=e.clientX-g,x=e.clientY-f,w=t+p,y=x+m,v+w+r<l&&w>i&&(d.style.width=`${w<c?w:c}px`),h+y+r<o&&y>s&&(d.style.height=`${y<u?y:u}px`);break;case"sb":x=e.clientY-f,y=x+m,h+y+r<o&&y>s&&(d.style.height=`${y<u?y:u}px`)}d.className=d.className.replace(/\s?is--drag/,"")+" is--drag",n&&K(),de("resize",b,e)},document.onmouseup=()=>{x.revertLocat=null,document.onmousemove=null,document.onmouseup=null,setTimeout((()=>{d.className=d.className.replace(/\s?is--drag/,"")}),50)}},de=(e,t,n)=>{a(e,Gp(n,{$modal:A},t))};$={dispatchEvent:de,open:J,close:()=>H("close"),getBox:N,getPosition:()=>{if(!I.value){const e=N();if(e)return{top:e.offsetTop,left:e.offsetLeft}}return null},setPosition:(e,n)=>{if(!I.value){const t=N();t&&(sp.isNumber(e)&&(t.style.top=`${e}px`),sp.isNumber(n)&&(t.style.left=`${n}px`))}return t()},isMinimized:()=>"minimize"===x.zoomStatus,isMaximized:()=>"maximize"===x.zoomStatus,zoom:()=>re(),minimize:()=>x.visible?Y():Promise.resolve({status:!1}),maximize:()=>x.visible?X():Promise.resolve({status:!1}),revert:()=>x.visible?le():Promise.resolve({status:!1})},Object.assign(A,$);const pe=()=>{const{slots:t={},showZoom:n,showMaximize:o,draggable:r}=e,a=l.header||t.header;if(e.showHeader){const t={};return r&&(t.onMousedown=ce),(sp.isBoolean(o)?o:n)&&e.dblclickZoom&&"modal"===e.type&&(t.onDblclick=ie),y("div",Object.assign({ref:D,class:["vxe-modal--header",{"is--ellipsis":e.showTitleOverflow}]},t),a?Zm(a({$modal:A})):(()=>{const{slots:t={},showClose:n,showZoom:o,showMaximize:r,showMinimize:a,title:i}=e,{zoomStatus:s}=x,c=l.title||t.title,u=l.corner||t.corner,d=M.value,p=P.value;return[y("div",{class:"vxe-modal--header-title"},c?Zm(c({$modal:A,minimized:d,maximized:p})):i?zg(i):lm("vxe.alert.title")),y("div",{class:"vxe-modal--header-right"},[u&&!d?y("div",{class:"vxe-modal--corner-wrapper"},Zm(u({$modal:A}))):Am(),(sp.isBoolean(a)?a:o)?y("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:lm("vxe.modal.zoom"+("minimize"===s?"Out":"Min")),onClick:ae},[y("i",{class:"minimize"===s?_p().MODAL_ZOOM_REVERT:_p().MODAL_ZOOM_MIN})]):Am(),(sp.isBoolean(r)?r:o)&&"minimize"!==s?y("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:lm("vxe.modal.zoom"+("maximize"===s?"Out":"In")),onClick:ie},[y("i",{class:"maximize"===s?_p().MODAL_ZOOM_OUT:_p().MODAL_ZOOM_IN})]):Am(),n?y("div",{class:["vxe-modal--close-btn","trigger--btn"],title:lm("vxe.modal.close"),onClick:W},[y("i",{class:_p().MODAL_CLOSE})]):Am()])]})())}return Am()},me=()=>{const{slots:t={},status:n,message:o,iconStatus:r}=e,a=e.content||o,i=I.value,s=l.default||t.default,c=l.left||t.left,u=l.right||t.right,d=[];return i||!n&&!r||d.push(y("div",{class:"vxe-modal--status-wrapper"},[y("i",{class:["vxe-modal--status-icon",r||_p()[`MODAL_${n}`.toLocaleUpperCase()]]})])),d.push(y("div",{class:"vxe-modal--content"},s?Zm(s({$modal:A})):zg(a))),y("div",{class:"vxe-modal--body"},[c?y("div",{class:"vxe-modal--body-left"},Zm(c({$modal:A}))):Am(),y("div",{class:"vxe-modal--body-default"},d),u?y("div",{class:"vxe-modal--body-right"},Zm(u({$modal:A}))):Am(),i?Am():y(ih,{class:"vxe-modal--loading",modelValue:e.loading})])},ge=()=>{const{slots:t={},showCancelButton:n,showConfirmButton:o,type:r,loading:a}=e,i=l.leftfoot||t.leftfoot,s=l.rightfoot||t.rightfoot,c=[];return(sp.isBoolean(n)?n:"confirm"===r)&&c.push(y(qg,{key:1,ref:O,content:e.cancelButtonText||lm("vxe.button.cancel"),onClick:U})),(sp.isBoolean(o)?o:"confirm"===r||"alert"===r)&&c.push(y(qg,{key:2,ref:T,loading:a,status:"primary",content:e.confirmButtonText||lm("vxe.button.confirm"),onClick:q})),y("div",{class:"vxe-modal--footer-wrapper"},[y("div",{class:"vxe-modal--footer-left"},i?Zm(i({$modal:A})):[]),y("div",{class:"vxe-modal--footer-right"},s?Zm(s({$modal:A})):c)])},fe=()=>{const{slots:t={}}=e,n=l.footer||t.footer;return e.showFooter?y("div",{class:"vxe-modal--footer"},n?Zm(n({$modal:A})):[ge()]):Am()};return A.renderVN=()=>{const{slots:t={},className:n,type:o,animat:r,draggable:a,iconStatus:i,position:s,loading:c,destroyOnClose:u,status:d,lockScroll:p,padding:m,lockView:g,mask:f,resize:h}=e,{initialized:b,modalTop:w,contentVisible:D,visible:T,zoomStatus:O}=x,k=l.aside||t.aside,P=v.value,F=I.value,V=M.value,$=R.value,N={};return F&&(N.onMouseover=te,N.onMouseout=ne),y(S,{to:"body",disabled:!$||!b},[y("div",Object.assign({ref:C,class:["vxe-modal--wrapper",`type--${o}`,`zoom--${O||"revert"}`,n||"",s?`pos--${s}`:"",{[`size--${P}`]:P,[`status--${d}`]:d,"is--padding":m,"is--animat":r,"lock--scroll":p,"lock--view":g,"is--draggable":a,"is--resize":h,"is--mask":f,"is--visible":D,"is--active":T,"is--loading":c}],style:{zIndex:x.modalZindex,top:w?`${w}px`:null},onClick:ee},N),[y("div",{ref:E,class:"vxe-modal--box",onMousedown:se},[!F&&!k||V?Am():y("div",{class:"vxe-modal--aside"},k?Zm(k({$modal:A})):[d||i?y("div",{class:"vxe-modal--status-wrapper"},[y("i",{class:["vxe-modal--status-icon",i||_p()[`MODAL_${d}`.toLocaleUpperCase()]]})]):Am()]),y("div",{class:"vxe-modal--container"},!x.initialized||u&&!x.visible?[]:[pe(),me(),fe(),!F&&h?y("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map((e=>y("span",{class:`${e}-resize`,type:e,onMousedown:ue})))):Am()])])])])},i((()=>e.width),L),i((()=>e.height),L),i((()=>e.modelValue),(e=>{e?J():H("model")})),f((()=>{"modal"===e.type&&e.showFooter&&!(e.showConfirmButton||e.showCancelButton||l.footer)&&jm("vxe.modal.footPropErr"),t((()=>{e.storage&&!e.id&&Hm("vxe.error.reqProp",["modal.id"]),e.modelValue&&J(),L()})),e.escClosable&&Kp.on(A,"keydown",oe)})),h((()=>{Kp.off(A,"keydown"),j(),Q()})),b("$xeModal",A),A},render(){return this.renderVN()}}),Ov=e=>{const{formConfig:t}=e;return{vertical:t.pcVertical,titleBold:t.pcTitleBold,titleColon:t.pcTitleColon,titleAlign:t.pcTitleAlign,titleWidth:t.pcTitleWidth}},kv=p({name:"VxeFormGroup",props:hv,setup(e,t){const{slots:o}=t,l=sp.uniqueId(),a=r(),i=n("$xeForm",{}),s=n("$xeFormGroup",null),c=m(wh(i,e));c.slots=o,c.children=[];b("xeFormItemInfo",{itemConfig:c});const u={xID:l,formItem:c,renderVN:()=>{const e=i.props,t=i.xeGrid,n=c,{data:l,readonly:r,disabled:s}=e,{visible:u,field:d,itemRender:p,contentStyle:m}=n,g=Ng(p)?mm.get(p.name):null,f=g?g.formItemStyle||g.itemStyle:null,h=g?g.formItemContentStyle||g.itemContentStyle:null,v=o?o.default:null,b={data:l,disabled:s,readonly:r,field:d,property:d,item:n,$form:i,$grid:t};return!1===u?Am():y("div",{ref:a,key:n.id,class:Rh(i,n,!0),style:sp.isFunction(f)?f(b):f},[Mh(i,n,!0),y("div",{class:Ih(i,n,!0),style:Object.assign({},sp.isFunction(h)?h(b):h,sp.isFunction(m)?m(b):m)},v?v({}):[])])}};return Sh(e,c),f((()=>{const e=a.value;Eh(i,e,c,s)})),h((()=>{Dh(i,c)})),b("$xeFormGroup",u),b("$xeFormItem",null),u},render(){return this.renderVN()}}),Rv=p({name:"VxeFormView",props:{modelValue:Object,config:Object,readonly:Boolean,disabled:Boolean,viewRender:Object,formOptions:Object,createFormConfig:Function,size:{type:String,default:()=>Ap().formView.size||Ap().size}},emits:["update:modelValue","submit","reset"],setup(e,o){const{emit:l,slots:a}=o,s=sp.uniqueId(),c=r(),u=r(),{computeSize:d}=Om(e),p=n("$xeFormDesignLayoutStyle",null),g=m({formConfig:{},formRules:{},widgetObjList:[]}),f={refElem:c},h={computeSize:d},v={xID:s,props:e,context:o,reactData:g,getRefMaps:()=>f,getComputeMaps:()=>h},x=e=>{if(e){const{formConfig:t,widgetData:n}=e;C(t||{}),D(n||[])}return t()},w=t=>{const{viewRender:n,createFormConfig:o,formOptions:l}=e,r={viewRender:n,formConfig:t};if(o)return o(r);const{name:a}=n||{},i=mm.get(a)||{},s=i?i.createFormViewFormConfig:null;return Object.assign({},s?s(r):Ov(r),l)},C=e=>(g.formConfig=w(e),t()),S=e=>{const t={},n={};return sp.eachTree(e,(e=>{const{name:o,field:l,required:r}=e,a=mm.get(o)||{},i=a.createFormDesignWidgetFieldValue,s=a.createFormDesignWidgetFieldRules;if(t[l]=i?i({widget:e,$formView:v}):T(e),s){const t=s({widget:e,$formView:v});t&&t.length&&(n[l]=t)}else r&&(n[l]=O())}),{children:"children"}),{formData:t,formRules:n}},E=e=>(e||[]).map((e=>uv(e))),D=n=>{const o=E(n);g.widgetObjList=o;const{formData:r,formRules:a}=S(o);return g.formRules=a,l("update:modelValue",Object.assign(r,e.modelValue)),t()},T=e=>"subtable"===e.name?[]:null,O=()=>[{required:!0,content:""}],k=(e,n)=>{const{field:o}=e,l=u.value;return l&&l.updateStatus({field:o},n),t()},R=(e,t,n)=>{l(e,Gp(n,{$formView:v},t))},I=e=>e?sp.isArray(e)?e.map((e=>e.name)):[e.name]:null,M={dispatchEvent:R,clearConfig:()=>x({formConfig:{},widgetData:[]}),loadConfig:x,parseConfig:e=>{const{formConfig:t,widgetData:n}=e||{},o=E(n||[]);return Object.assign(Object.assign({},S(o)),{formConfig:w(t||{}),widgetData:o})},loadFormConfig:C,loadWidgetData:D,updateWidgetStatus:k,setItemValue:(n,o)=>{const{modelValue:l}=e,{field:r}=n,a=u.value;return l&&(l[r]=o),a&&a.updateStatus({field:r},o),t()},getItemValue:t=>{const{modelValue:n}=e;return n?n[t.field]:null},validate(){const e=u.value;return e?e.validate():t()},validateWidget(e){const n=u.value;return n?n.validateField(I(e)):t()},clearValidate(e){const n=u.value;return n?n.clearValidate(I(e)):t()},reset(){const{widgetObjList:e}=g,{formData:n}=S(e);return l("update:modelValue",Object.assign({},n)),t()},updateItemStatus:(e,t)=>(jm("vxe.error.delFunc",["updateItemStatus","updateWidgetStatus"]),k(e,t))},P=e=>{R("submit",e,e.$event)},F=e=>{R("reset",e,e.$event)};Object.assign(v,M,{});return v.renderVN=()=>{const{readonly:t,disabled:n,modelValue:o}=e,{formConfig:l,formRules:r,widgetObjList:i}=g,s=d.value,m=a.top,f=a.bottom,h=a.header,b=a.footer;return y("div",{ref:c,class:["vxe-form-view",{[`size--${s}`]:s}]},[m?y("div",{class:"vxe-form-view--top"},Zm(m({$formView:v}))):Am(),y(Lh,Object.assign(Object.assign({ref:u},l),{data:o,customLayout:!0,readonly:t,disabled:n,span:24,rules:r,onSubmit:P,onReset:F}),{default(){const{readonly:t,disabled:n}=e;return[h?y(vv,{},{default:()=>h({})}):Am(),...i.map((e=>{const{name:o}=e,l=mm.get(o)||{},r=l.renderFormDesignWidgetView,a=l.renderFormDesignWidgetPreview,i=l.renderFormDesignWidgetMobilePreview,s=!!p,c=e,u={widget:e,readonly:!!t,disabled:!!n,isEditMode:s,isViewMode:!s,$formDesign:null,$formView:v};return y(kv,{key:e.id},{default(){if(p)if(2===p.reactData.activeTab){if(i)return Zm(i(c,u))}else if(a)return Zm(a(c,u));return r?Zm(r(c,u)):[]}})})),b?y(kv,{span:24},{default:()=>b({})}):Am()]}}),f?y("div",{class:"vxe-form-view--bottom"},Zm(f({$formView:v}))):Am()])},i((()=>e.config),(e=>{x(e||{})})),e.config&&x(e.config),b("$xeFormView",v),v},render(){return this.renderVN()}}),Iv=p({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},name:String,strict:{type:Boolean,default:()=>Ap().radio.strict},size:{type:String,default:()=>Ap().radio.size||Ap().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:l}=t,r=n("$xeForm",null),a=n("xeFormItemInfo",null),i=n("$xeRadioGroup",null),s=sp.uniqueId(),c=m({}),u={xID:s,props:e,context:t,reactData:c},{computeSize:d}=Om(e),p=g((()=>{const{disabled:t}=e;if(null===t&&i){const{computeIsDisabled:e}=i.getComputeMaps();return e.value}return t})),f=g((()=>i?i.name:e.name)),h=g((()=>i?i.props.strict:e.strict)),v=g((()=>{const{label:t}=e;return i?i.props.modelValue===t:e.modelValue===t})),b=(e,t)=>{i?i.handleChecked({label:e},t):(l("update:modelValue",e),C("change",{label:e},t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,e))},x=t=>{p.value||b(e.label,t)},w=t=>{const n=p.value,o=h.value;n||o||e.label===(i?i.props.modelValue:e.modelValue)&&b(null,t)},C=(e,t,n)=>{l(e,Gp(n,{$radio:u},t))},S={dispatchEvent:C};Object.assign(u,S,{});return u.renderVN=()=>{const{label:t}=e,n=d.value,l=p.value,r=f.value,a=v.value;return y("label",{key:t,class:["vxe-radio",{[`size--${n}`]:n,"is--checked":a,"is--disabled":l}],title:e.title},[y("input",{class:"vxe-radio--input",type:"radio",name:r,checked:a,disabled:l,onChange:x,onClick:w}),y("span",{class:["vxe-radio--icon",a?_p().RADIO_CHECKED:_p().RADIO_UNCHECKED]}),y("span",{class:"vxe-radio--label"},o.default?o.default({}):zg(e.content))])},u},render(){return this.renderVN()}}),Mv=p({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},strict:{type:Boolean,default:()=>Ap().radioButton.strict},size:{type:String,default:()=>Ap().radioButton.size||Ap().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:l}=t,r=n("$xeForm",null),a=n("xeFormItemInfo",null),i=n("$xeRadioGroup",null),s=sp.uniqueId(),c=m({}),{computeSize:u}=Om(e),d={xID:s,props:e,context:t,reactData:c},p=g((()=>{const{disabled:t}=e;if(null===t&&i){const{computeIsDisabled:e}=i.getComputeMaps();return e.value}return t})),f=g((()=>i?i.name:null)),h=g((()=>i?i.props.strict:e.strict)),v=g((()=>{const{label:t}=e;return i?i.props.modelValue===t:e.modelValue===t})),b={dispatchEvent(e,t,n){l(e,Gp(n,{$radioButton:d},t))}};Object.assign(d,b,{});const x=(e,t)=>{i?i.handleChecked({label:e},t):(l("update:modelValue",e),b.dispatchEvent("change",{label:e},t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,e))},w=t=>{p.value||x(e.label,t)},C=t=>{const n=p.value,o=h.value;n||o||e.label===(i?i.props.modelValue:e.modelValue)&&x(null,t)},S=()=>{const{label:t}=e,n=u.value,l=p.value,r=f.value,a=v.value;return y("label",{key:t,class:["vxe-radio","vxe-radio-button",{[`size--${n}`]:n,"is--disabled":l}],title:e.title},[y("input",{class:"vxe-radio--input",type:"radio",name:r,checked:a,disabled:l,onChange:w,onClick:C}),y("span",{class:"vxe-radio--label"},o.default?o.default({}):zg(e.content))])};return d.renderVN=S,S}}),Pv=p({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>Ap().radioGroup.strict},size:{type:String,default:()=>Ap().radioGroup.size||Ap().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:l}=t,r=n("$xeForm",null),a=n("xeFormItemInfo",null),i=sp.uniqueId();Om(e);const s=m({}),c={computeIsDisabled:g((()=>{const{disabled:t}=e;return null===t?!!r&&(r.props.readonly||r.props.disabled):t}))},u={xID:i,props:e,context:t,reactData:s,name:sp.uniqueId("xe_group_"),getComputeMaps:()=>c},d=g((()=>Object.assign({},e.optionProps))),p=g((()=>d.value.label||"label")),f=g((()=>d.value.value||"value")),h=g((()=>d.value.disabled||"disabled")),v=(e,t,n)=>{l(e,Gp(n,{$radioGroup:u},t))},x={dispatchEvent:v},w={handleChecked(e,t){const n=e.label;l("update:modelValue",n),v("change",e,t),r&&a&&r.triggerItemEvent(t,a.itemConfig.field,n)}};Object.assign(u,x,w);return b("$xeRadioGroup",u),u.renderVN=()=>{const{options:t,type:n}=e,l=o.default,r=f.value,a=p.value,i=h.value,s="button"===n?Mv:Iv;return y("div",{class:"vxe-radio-group"},l?l({}):t?t.map((e=>y(s,{key:e[r],label:e[r],content:e[a],disabled:e[i]}))):[])},u},render(){return this.renderVN()}});function Fv(e){return!1!==e.visible}const Vv=p({name:"VxeSelect",props:{modelValue:[String,Number,Boolean,Array],defaultConfig:Object,clearable:Boolean,placeholder:String,readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>Ap().select.multiCharOverflow},prefixIcon:String,allowCreate:{type:Boolean,default:()=>Ap().select.allowCreate},placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},size:{type:String,default:()=>Ap().select.size||Ap().size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteMethod:Function,remoteConfig:Object,emptyText:String,transfer:{type:Boolean,default:null},virtualYConfig:Object,scrollY:Object,optionId:{type:String,default:()=>Ap().select.optionId},optionKey:Boolean},emits:["update:modelValue","change","clear","blur","focus","click","scroll","visible-change"],setup(e,o){const{slots:l,emit:a}=o,s=n("$xeModal",null),c=n("$xeDrawer",null),u=n("$xeTable",null),d=n("$xeForm",null),p=n("xeFormItemInfo",null),v=sp.uniqueId(),x=r(),w=r(),C=r(),E=r(),D=r(),T=r(),{computeSize:O}=Om(e),k=m({initialized:!1,scrollYLoad:!1,bodyHeight:0,topSpaceHeight:0,optList:[],afterVisibleList:[],staticOptions:[],reactFlag:0,currentOption:null,searchValue:"",searchLoading:!1,panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),R={synchData:[],fullData:[],optAddMaps:{},optGroupKeyMaps:{},optFullValMaps:{},remoteValMaps:{},lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0},lastScrollTime:0,hpTimeout:void 0},I={refElem:x},M={xID:v,props:e,context:o,reactData:k,internalData:R,getRefMaps:()=>I},P=g((()=>{const{readonly:t}=e;return null===t?!!d&&d.props.readonly:t})),F=g((()=>{const{disabled:t}=e;return null===t?!!d&&d.props.disabled:t})),V=g((()=>{const{transfer:t}=e;if(null===t){const e=Ap().select.transfer;if(sp.isBoolean(e))return e;if(u||s||c||d)return!0}return t})),A=g((()=>{const{placeholder:t}=e;if(t)return zg(t);const n=Ap().select.placeholder;return n?zg(n):lm("vxe.base.pleaseSelect")})),$=g((()=>Object.assign({},e.defaultConfig))),N=g((()=>Object.assign({},e.optionProps))),L=g((()=>Object.assign({},e.optionGroupProps))),_=g((()=>N.value.label||"label")),B=g((()=>N.value.value||"value")),z=g((()=>L.value.label||"label")),j=g((()=>L.value.options||"options")),H=g((()=>{const{modelValue:t,multiple:n,max:o}=e;return!(!n||!o)&&(sp.isArray(t)?t.length:sp.eqNull(t)?0:1)>=sp.toNumber(o)})),W=g((()=>Object.assign({},Ap().select.virtualYConfig||Ap().select.scrollY,e.virtualYConfig||e.scrollY))),q=g((()=>Object.assign({},Ap().select.remoteConfig,e.remoteConfig))),U=g((()=>Object.assign({},Ap().select.optionConfig,e.optionConfig))),G=g((()=>sp.toNumber(e.multiCharOverflow))),K=g((()=>{const{modelValue:t,remote:n,multiple:o}=e,{reactFlag:l}=k,r=G.value;if(sp.eqNull(t))return"";const a=sp.isArray(t)?t:[t];return n&&l?a.map((e=>ee(e))).join(", "):a.map((e=>{const t=te(e);return o&&r>0&&t.length>r?`${t.substring(0,r)}...`:t})).join(", ")})),Y=(e,t)=>e&&(sp.isString(e)&&(e=l[e]||null),sp.isFunction(e))?Zm(e(t)):[],X=(e,t,n)=>{a(e,Gp(n,{$select:M},t))},Z=e=>{a("update:modelValue",e)},Q=()=>U.value.keyField||e.optionId||"_X_OPTION_KEY",J=e=>{const t=e[Q()];return t?encodeURIComponent(t):""},ee=e=>{const{remoteValMaps:t,optFullValMaps:n}=R,o=_.value,l=t[e]||n[e],r=l?l.item:null;return sp.toValueString(r?r[o]:e)},te=e=>{const{optFullValMaps:t}=R,n=_.value,o=k.reactFlag?t[e]:null;return o?o.item[n]:sp.toValueString(e)},ne=e=>{const t=j.value,n=B.value,o=Q(),l={},r={},a=[],i=e=>{a.push(e);let t=J(e);t||(t=sp.uniqueId("opt_"),e[o]=t),r[e[n]]={key:t,item:e,_index:-1}};e.forEach((e=>{i(e),e[t]&&(l[e[o]]=e,e[t].forEach(i))})),R.fullData=a,R.optGroupKeyMaps=l,R.optFullValMaps=r,k.reactFlag++,oe()},oe=()=>{const{modelValue:n,filterable:o,filterMethod:l}=e,{searchValue:r}=k,{fullData:a,optFullValMaps:i}=R,s=_.value,c=B.value,u=`${r||""}`.toLowerCase();let d=[];return d=o&&l?a.filter((e=>Fv(e)&&l({$select:M,group:null,option:e,searchValue:r,value:n}))):o?a.filter((e=>Fv(e)&&(!u||`${e[s]}`.toLowerCase().indexOf(u)>-1))):a.filter(Fv),d.forEach(((e,t)=>{const n=i[e[c]];n&&(n._index=t)})),k.afterVisibleList=d,t()},le=e=>{e&&(k.currentOption=e)},re=()=>{const{placement:n}=e,{panelIndex:o}=k,l=x.value,r=D.value,a=V.value,i=()=>{const e=bg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});k.panelStyle=t,k.panelPlacement=e.placement};return i(),t().then(i)},ae=()=>{const{loading:t,filterable:n,remote:o}=e,{fullData:l,hpTimeout:r}=R,a=F.value,i=q.value;t||a||(r&&(clearTimeout(r),R.hpTimeout=void 0),k.initialized||(k.initialized=!0),k.isActivated=!0,k.isAniVisible=!0,n&&(o&&i.enabled&&i.autoLoad&&!l.length?De():(oe(),Re())),setTimeout((()=>{k.visiblePanel=!0,be(),Fe().then((()=>Pe()))}),10),setTimeout((()=>{Fe().then((()=>Pe()))}),100),k.panelIndex<_g()&&(k.panelIndex=Lg()),re(),X("visible-change",{visible:!0},null))},ie=()=>{k.searchValue="",k.searchLoading=!1,k.visiblePanel=!1,R.hpTimeout=setTimeout((()=>{k.isAniVisible=!1}),350),X("visible-change",{visible:!1},null)},se=(t,n)=>{Z(n),n!==e.modelValue&&(X("change",{value:n},t),d&&p&&d.triggerItemEvent(t,p.itemConfig.field,n))},ce=(e,t)=>{R.remoteValMaps={},se(e,t),X("clear",{value:t},e)},ue=e=>{const{$event:t}=e;ce(t,null),ie()},de=(t,n)=>{const{modelValue:o,multiple:l}=e,{remoteValMaps:r}=R,a=n[B.value],i=r[a];if(k.visiblePanel){if(i?i.item=n:r[a]={key:J(n),item:n,_index:-1},l){let e=[];const n=sp.eqNull(o)?[]:sp.isArray(o)?o:[o];e=-1===sp.findIndexOf(n,(e=>e===a))?n.concat([a]):n.filter((e=>e!==a)),se(t,e)}else se(t,a),ie();k.reactFlag++}},pe=e=>{const{visiblePanel:t}=k;if(!F.value&&t){mg(e,D.value).flag?re():ie()}},me=e=>{const{visiblePanel:t}=k;if(!F.value){const n=x.value,o=D.value;k.isActivated=mg(e,n).flag||mg(e,o).flag,t&&!k.isActivated&&ie()}},ge=e=>{const t=e.disabled,n=J(e);return!t&&!Ne(n)},fe=(t,n)=>{const{allowCreate:o}=e,{afterVisibleList:l,optList:r}=k,{optFullValMaps:a,optAddMaps:i}=R,s=B.value;let c=l,u=0;if(o&&r.length){const e=r[0],t=J(e);i[t]&&(u=1,c=[i[t]].concat(c))}if(!t)if(n)for(let e=0;e<c.length;e++){const t=c[e];if(ge(t))return t}else for(let e=c.length-1;e>=0;e--){const t=c[e];if(ge(t))return t}let d=0;const p=t?a[t[s]]:null;if(p&&(d=p._index+u),d>-1)if(n)for(let e=d+1;e<=c.length-1;e++){const t=c[e];if(ge(t))return t}else if(d>0)for(let e=d-1;e>=0;e--){const t=c[e];if(ge(t))return t}return null},he=t=>{const{clearable:n}=e,{visiblePanel:o,currentOption:l}=k;if(!F.value){const e=Kp.hasKey(t,Bp.TAB),r=Kp.hasKey(t,Bp.ENTER),a=Kp.hasKey(t,Bp.ESCAPE),i=Kp.hasKey(t,Bp.ARROW_UP),s=Kp.hasKey(t,Bp.ARROW_DOWN),c=Kp.hasKey(t,Bp.DELETE),u=Kp.hasKey(t,Bp.SPACEBAR);if(e&&(k.isActivated=!1),o)if(a||e)ie();else if(r)l&&(t.preventDefault(),t.stopPropagation(),de(t,l));else if(i||s){t.preventDefault();let e=fe(l,s);e||(e=fe(null,s)),e&&(le(e),Me(e,s))}else u&&t.preventDefault();else(i||s||r||u)&&k.isActivated&&(t.preventDefault(),ae());k.isActivated&&c&&n&&ce(t,null)}},ve=()=>{ie()},be=()=>{e.filterable&&t((()=>{const e=C.value;e&&e.focus()}))},xe=e=>{F.value||k.visiblePanel||(k.triggerFocusPanel=!0,ae(),setTimeout((()=>{k.triggerFocusPanel=!1}),500)),X("focus",{},e)},we=e=>{Te(e),X("click",{triggerButton:!1,visible:k.visiblePanel},e)},ye=e=>{k.isActivated=!1,X("blur",{},e)},Ce=e=>{Te(e),X("click",{triggerButton:!0,visible:k.visiblePanel},e)},Se=e=>{k.searchValue=e},Ee=()=>{k.isActivated=!0},De=sp.debounce((()=>{const{modelValue:n,remote:o,remoteMethod:l}=e,{searchValue:r}=k,a=q.value,i=a.queryMethod||l;o&&i&&a.enabled?(k.searchLoading=!0,Promise.resolve(i({$select:M,searchValue:r,value:n})).then((()=>t())).catch((()=>t())).finally((()=>{k.searchLoading=!1,oe(),Re()}))):(oe(),Re())}),350,{trailing:!0}),Te=e=>{const{$event:t}=e;t.preventDefault(),k.triggerFocusPanel?k.triggerFocusPanel=!1:k.visiblePanel?ie():ae()},Oe=()=>{const{scrollYLoad:e,afterVisibleList:t}=k,{scrollYStore:n}=R;k.bodyHeight=e?t.length*n.rowHeight:0,k.topSpaceHeight=e?Math.max(n.startIndex*n.rowHeight,0):0},ke=()=>{const{filterable:n,allowCreate:o}=e,{scrollYLoad:l,afterVisibleList:r,searchValue:a}=k,{optAddMaps:i,scrollYStore:s}=R,c=_.value,u=B.value,d=l?r.slice(s.startIndex,s.endIndex):r.slice(0);if(n&&o&&a&&!d.some((e=>e[c]===a))){const e=i[a]||m({[Q()]:a,[c]:a,[u]:a});i[a]=e,d.unshift(e)}return k.optList=d,t()},Re=()=>{ke(),Oe()},Ie=()=>t().then((()=>{const{scrollYLoad:e}=k,{scrollYStore:t}=R,n=T.value,o=W.value;let l,r=0;if(n&&(o.sItem&&(l=n.querySelector(o.sItem)),l||(l=n.children[0])),l&&(r=l.offsetHeight),r=Math.max(20,r),t.rowHeight=r,e){const e=E.value,n=Math.max(8,e?Math.ceil(e.clientHeight/r):0),l=Math.max(0,Math.min(2,sp.toNumber(o.oSize)));t.offsetSize=l,t.visibleSize=n,t.endIndex=Math.max(t.startIndex,n+l,t.endIndex),Re()}else Oe()})),Me=(e,t)=>{const{scrollYLoad:n}=k,{optFullValMaps:o,scrollYStore:l}=R,r=o[e[B.value]];if(r){const e=r.key,o=r._index;if(o>-1){const r=E.value,a=D.value.querySelector(`[optid='${e}']`);if(r)if(a){const e=r.offsetHeight,n=1;t?a.offsetTop+a.offsetHeight-r.scrollTop>e?r.scrollTop=a.offsetTop+a.offsetHeight-e:(a.offsetTop+n<r.scrollTop||a.offsetTop+n>r.scrollTop+r.clientHeight)&&(r.scrollTop=a.offsetTop-n):a.offsetTop+n<r.scrollTop||a.offsetTop+n>r.scrollTop+r.clientHeight?r.scrollTop=a.offsetTop-n:a.offsetTop+a.offsetHeight-r.scrollTop>e&&(r.scrollTop=a.offsetTop+a.offsetHeight-e)}else n&&(r.scrollTop=t?o*l.rowHeight-r.clientHeight+l.rowHeight:o*l.rowHeight)}}},Pe=()=>{const{lastScrollLeft:e,lastScrollTop:n}=R;return $e().then((()=>{if(e||n)return R.lastScrollLeft=0,R.lastScrollTop=0,((e,n)=>{const o=E.value;return o&&(sp.isNumber(e)&&(o.scrollLeft=e),sp.isNumber(n)&&(o.scrollTop=n)),k.scrollYLoad?new Promise((e=>{setTimeout((()=>{t((()=>{e()}))}),50)})):t()})(e,n)}))},Fe=()=>{const e=x.value;return e&&e.clientWidth&&e.clientHeight?Ie():Promise.resolve()},Ve=e=>{const t=e.target,n=t.scrollTop,o=t.scrollLeft,l=o!==R.lastScrollLeft,r=n!==R.lastScrollTop;R.lastScrollTop=n,R.lastScrollLeft=o,k.scrollYLoad&&(e=>{const{scrollYStore:t}=R,{startIndex:n,endIndex:o,visibleSize:l,offsetSize:r,rowHeight:a}=t,i=e.target.scrollTop,s=Math.floor(i/a),c=Math.max(0,s-1-r),u=s+l+r;(s<=n||s>=o-l-1)&&(n===c&&o===u||(t.startIndex=c,t.endIndex=u,Re()))})(e),R.lastScrollTime=Date.now(),X("scroll",{scrollLeft:o,scrollTop:n,isX:l,isY:r},e)},Ae=n=>{ne(n||[]);const{isLoaded:o,fullData:l,scrollYStore:r}=R,a=$.value,i=W.value,s=B.value;if(Object.assign(r,{startIndex:0,endIndex:1,visibleSize:0}),R.synchData=n||[],k.scrollYLoad=!!i.enabled&&i.gt>-1&&(0===i.gt||i.gt<=l.length),ke(),!o){const{selectMode:o}=a;if(n.length>0&&sp.eqNull(e.modelValue)){if("first"===o||"last"===o){const l=sp[o](n);l&&t((()=>{sp.eqNull(e.modelValue)&&Z(l[s])}))}R.isLoaded=!0}}return Ie().then((()=>{Pe()}))},$e=()=>{const e=E.value;return e&&(e.scrollTop=0,e.scrollLeft=0),R.lastScrollTop=0,R.lastScrollLeft=0,t()},Ne=e=>{const{optGroupKeyMaps:t}=R;return!!t[e]},Le={dispatchEvent:X,loadData:Ae,reloadData:e=>(R.isLoaded=!1,$e(),Ae(e)),isPanelVisible:()=>k.visiblePanel,togglePanel:()=>(k.visiblePanel?ie():ae(),t()),hidePanel:()=>(k.visiblePanel&&ie(),t()),showPanel:()=>(k.visiblePanel||ae(),t()),refreshOption:()=>(oe(),Re(),t()),focus(){const e=w.value;return k.isActivated=!0,e.blur(),t()},blur:()=>(w.value.blur(),k.isActivated=!1,t()),recalculate:Fe,clearScroll:$e};Object.assign(M,Le);const _e=(t,n)=>{const{allowCreate:o,optionKey:r,modelValue:a}=e,{currentOption:i}=k,{optAddMaps:s}=R,c=U.value,u=_.value,d=B.value,p=z.value,{useKey:m}=c,g=l.option;return t.map(((e,t)=>{const{slots:n,className:l}=e,c=J(e),f=e[d],h=Ne(c),v=!(!o||!s[c]),b=!v&&(sp.isArray(a)?a.indexOf(f)>-1:a===f),x=v||!h||Fv(e),w=!v&&((e,t)=>!!t.disabled||!(!H.value||e))(b,e),C=n?n.default:null,S={option:e,group:null,$select:M},E=g?Y(g,S):C?Y(C,S):zg(e[h?p:u]);return x?y("div",{key:m||r?c:t,class:["vxe-select-option",l?sp.isFunction(l)?l(S):l:"",{"vxe-select-optgroup":h,"is--disabled":w,"is--selected":b,"is--add":v,"is--hover":i&&J(i)===c}],optid:c,onMousedown:e=>{0===e.button&&e.stopPropagation()},onClick:t=>{w||h||de(t,e)},onMouseenter:()=>{w||h||(()=>{const{lastScrollTime:e}=R;return!!(e&&Date.now()<e+250)})()||le(e)}},o?[y("span",{key:1,class:"vxe-select-option--label"},E),v?y("span",{key:2,class:"vxe-select-option--add-icon"},[y("i",{class:_p().ADD_OPTION})]):Am()]:E):Am()}))},Be=()=>{const{optList:t,searchLoading:n}=k;return n?[y("div",{class:"vxe-select--search-loading"},[y("i",{class:["vxe-select--search-icon",_p().SELECT_LOADED]}),y("span",{class:"vxe-select--search-text"},lm("vxe.select.loadingText"))])]:t.length?_e(t):[y("div",{class:"vxe-select--empty-placeholder"},e.emptyText||lm("vxe.select.emptyText"))]};return i((()=>k.staticOptions),(e=>{Ae(e)})),i((()=>e.options),(e=>{Ae(e||[])})),i((()=>e.optionGroups),(e=>{Ae(e||[])})),f((()=>{t((()=>{const{options:t,optionGroups:n}=e;n?Ae(n):t&&Ae(t)})),Kp.on(M,"mousewheel",pe),Kp.on(M,"mousedown",me),Kp.on(M,"keydown",he),Kp.on(M,"blur",ve)})),h((()=>{Kp.off(M,"mousewheel"),Kp.off(M,"mousedown"),Kp.off(M,"keydown"),Kp.off(M,"blur")})),b("$xeSelect",M),M.renderVN=()=>{const{className:t,popupClassName:n,loading:o,filterable:r}=e,{initialized:a,isActivated:i,isAniVisible:s,visiblePanel:c,bodyHeight:u,topSpaceHeight:d}=k,p=O.value,m=F.value,g=K.value,f=V.value,h=P.value,v=A.value,b=l.default,R=l.header,I=l.footer,$=l.prefix;return h?y("div",{ref:x,class:["vxe-select--readonly",t]},[y("div",{class:"vxe-select-slots",ref:"hideOption"},b?b({}):[]),y("span",{class:"vxe-select-label"},g)]):y("div",{ref:x,class:["vxe-select",t?sp.isFunction(t)?t({$select:M}):t:"",{[`size--${p}`]:p,"is--visible":c,"is--disabled":m,"is--filter":r,"is--loading":o,"is--active":i}]},[y("div",{class:"vxe-select-slots",ref:"hideOption"},b?b({}):[]),y(Wf,{ref:w,clearable:e.clearable,placeholder:v,readonly:!0,disabled:m,type:"text",prefixIcon:e.prefixIcon,suffixIcon:o?_p().SELECT_LOADED:c?_p().SELECT_OPEN:_p().SELECT_CLOSE,autoFocus:!1,modelValue:g,onClear:ue,onClick:we,onFocus:xe,onBlur:ye,onSuffixClick:Ce},$?{prefix:()=>$({})}:{}),y(S,{to:"body",disabled:!f||!a},[y("div",{ref:D,class:["vxe-table--ignore-clear vxe-select--panel",n?sp.isFunction(n)?n({$select:M}):n:"",{[`size--${p}`]:p,"is--transfer":f,"ani--leave":!o&&s,"ani--enter":!o&&c}],placement:k.panelPlacement,style:k.panelStyle},a&&(c||s)?[y("div",{class:"vxe-select--panel-wrapper"},[r?y("div",{class:"vxe-select--panel-search"},[y(Wf,{ref:C,class:"vxe-select-search--input",modelValue:k.searchValue,clearable:!0,disabled:!1,readonly:!1,placeholder:lm("vxe.select.search"),prefixIcon:_p().INPUT_SEARCH,"onUpdate:modelValue":Se,onFocus:Ee,onChange:De,onSearch:De})]):Am(),R?y("div",{class:"vxe-select--panel-header"},R({})):Am(),y("div",{class:"vxe-select--panel-body"},[y("div",{ref:E,class:"vxe-select-option--wrapper",onScroll:Ve},[y("div",{class:"vxe-select--y-space",style:{height:u?`${u}px`:""}}),y("div",{ref:T,class:"vxe-select--body",style:{marginTop:d?`${d}px`:""}},Be())])]),I?y("div",{class:"vxe-select--panel-footer"},I({})):Am()])]:[])])])},M},render(){return this.renderVN()}}),Av=()=>[{label:lm("vxe.formDesign.styleSetting.fontNormal"),value:!1},{label:lm("vxe.formDesign.styleSetting.fontBold"),value:!0}],$v=()=>[{label:lm("vxe.formDesign.styleSetting.colonVisible"),value:!0},{label:lm("vxe.formDesign.styleSetting.colonHidden"),value:!1}],Nv=()=>[{label:lm("vxe.formDesign.styleSetting.alignLeft"),value:""},{label:lm("vxe.formDesign.styleSetting.alignRight"),value:"right"}],Lv=()=>[{label:lm("vxe.formDesign.styleSetting.unitPx"),value:""},{label:lm("vxe.formDesign.styleSetting.unitPct"),value:"%"}],_v=(e,t,n,o)=>{const l="vertical"===n;return y("div",{class:["vxe-form-design--widget-form-item-option",`is--${n}`,{"is--active":l?e[t]:!e[t]}],onClick(){e[t]=l,o()}},[y("div",{class:"vxe-form-design--widget-form-item-option-row"}),y("div",{class:"vxe-form-design--widget-form-item-option-row"}),y("div",{},lm(l?"vxe.formDesign.styleSetting.verticalLayout":"vxe.formDesign.styleSetting.horizontalLayout"))])},Bv=p({name:"DefaultPCStyleForm",props:{formData:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormDesign",null),o="pcVertical",l=r(Av()),a=r($v()),i=r(Nv()),s=r(Lv()),c=()=>{t&&t.refreshPreviewView()},u=()=>{const{formData:t}=e;t.pcTitleWidth||(t.pcTitleWidth=100),c()};return()=>{const{formData:t}=e;return y(Lh,{data:t,span:24,vertical:!0,titleBold:!0},{default:()=>[y(vv,{title:lm("vxe.formDesign.styleSetting.layoutTitle"),field:o},{default:()=>[y("div",{class:"vxe-form-design--widget-form-item-layout"},[_v(t,o,"vertical",u),_v(t,o,"horizontal",u)])]}),y(vv,{title:lm("vxe.formDesign.styleSetting.styleTitle")},{default:()=>[y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},lm("vxe.formDesign.styleSetting.boldTitle")),y(Pv,{modelValue:t.pcTitleBold,options:l.value,onChange:c,"onUpdate:modelValue"(e){t.pcTitleBold=e}})]),y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},lm("vxe.formDesign.styleSetting.colonTitle")),y(Pv,{modelValue:t.pcTitleColon,options:a.value,onChange:c,"onUpdate:modelValue"(e){t.pcTitleColon=e}})]),t.pcVertical?x():y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},lm("vxe.formDesign.styleSetting.alignTitle")),y(Pv,{modelValue:t.pcTitleAlign,options:i.value,onChange:c,"onUpdate:modelValue"(e){t.pcTitleAlign=e}})]),t.pcVertical?x():y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},lm("vxe.formDesign.styleSetting.widthTitle")),y(Wf,{class:"vxe-form-design--widget-form-item-prop-width",modelValue:t.pcTitleWidth,type:"integer",onChange:c,"onUpdate:modelValue"(e){t.pcTitleWidth=e}}),y(Vv,{class:"vxe-form-design--widget-form-item-prop-unit",modelValue:t.pcTitleWidthUnit,options:s.value,transfer:!0,onChange:c,"onUpdate:modelValue"(e){t.pcTitleWidthUnit=e}})])]})]})}}}),zv=p({name:"DefaultMobileStyleForm",props:{formData:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormDesign",null),o="mobileVertical",l=r(Av()),a=r($v()),i=r(Nv()),s=r(Lv()),c=()=>{t&&t.refreshPreviewView()},u=()=>{const{formData:t}=e;t.mobileTitleWidth||(t.mobileTitleWidth=100),c()};return()=>{const{formData:t}=e;return y(Lh,{data:t,span:24,vertical:!0,titleBold:!0},{default:()=>[y(vv,{title:lm("vxe.formDesign.styleSetting.layoutTitle"),field:o},{default:()=>[y("div",{class:"vxe-form-design--widget-form-item-layout"},[_v(t,o,"vertical",u),_v(t,o,"horizontal",u)])]}),y(vv,{title:lm("vxe.formDesign.styleSetting.styleTitle")},{default:()=>[y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},lm("vxe.formDesign.styleSetting.boldTitle")),y(Pv,{modelValue:t.mobileTitleBold,options:l.value,onChange:c,"onUpdate:modelValue"(e){t.mobileTitleBold=e}})]),y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},lm("vxe.formDesign.styleSetting.colonTitle")),y(Pv,{modelValue:t.mobileTitleColon,options:a.value,onChange:c,"onUpdate:modelValue"(e){t.mobileTitleColon=e}})]),t.mobileVertical?x():y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},lm("vxe.formDesign.styleSetting.alignTitle")),y(Pv,{modelValue:t.mobileTitleAlign,options:i.value,onChange:c,"onUpdate:modelValue"(e){t.mobileTitleAlign=e}})]),t.mobileVertical?x():y("div",{class:"vxe-form-design--widget-form-item-prop-list"},[y("span",{},lm("vxe.formDesign.styleSetting.widthTitle")),y(Wf,{class:"vxe-form-design--widget-form-item-prop-width",modelValue:t.mobileTitleWidth,type:"integer",onChange:c,"onUpdate:modelValue"(e){t.mobileTitleWidth=e}}),y(Vv,{class:"vxe-form-design--widget-form-item-prop-unit",modelValue:t.mobileTitleWidthUnit,options:s.value,transfer:!0,onChange:c,"onUpdate:modelValue"(e){t.mobileTitleWidthUnit=e}})])]})]})}}}),jv=p({name:"FormDesignLayoutStyle",props:{},emits:[],setup(){const e=n("$xeFormDesign",null),t=m({activeTab:1}),o={reactData:t,renderVN:()=>[]};if(!e)return o;const{props:l,reactData:a}=e,i=r(!1),s=r(null),c=r({}),u=()=>{s.value=e.getConfig()},d=e=>{const{viewRender:n}=e,{activeTab:o}=t,{name:l}=n||{},r=mm.get(l)||{},a=r?r.createFormViewFormConfig:null,i=r?r.createFormViewMobileFormConfig:null;return 2===o?i?i(e):(e=>{const{formConfig:t}=e;return{vertical:t.mobileVertical,titleBold:t.mobileTitleBold,titleColon:t.mobileTitleColon,titleAlign:t.mobileTitleAlign,titleWidth:t.mobileTitleWidth}})(e):a?a(e):Ov(e)},p={updatePreviewView:u,openStylePreview(){const{showPc:e}=l;u(),t.activeTab=e?1:2,i.value=!0}};Object.assign(o,p);const g=()=>{const{activeTab:e}=t;return y("div",{class:["vxe-form-design--layout-style-preview","is--"+(2===e?"mobile":"pc")]},[y(Rv,{modelValue:c.value,config:s.value,createFormConfig:d,"onUpdate:modelValue"(e){c.value=e}})])},f=()=>{const{showPc:n,showMobile:o}=l,{activeTab:r}=t;return y("div",{class:"vxe-form-design--layout-style-setting"},[y(gv,{modelValue:r,titleWidth:n&&o?"50%":"100%",titleAlign:"center",padding:!0,onChange:u,"onUpdate:modelValue"(e){t.activeTab=e}},{default(){const t=[];return n&&t.push(y(fv,{title:lm("vxe.formDesign.widgetProp.displaySetting.pc"),icon:_p().FORM_DESIGN_PROPS_PC,k:1,name:1},{default:()=>(()=>{const{formRender:t}=l,{formData:n}=a;if(t){const o=mm.get(t.name),l=o?o.renderFormDesignStyleFormView:null;if(l)return y("div",{class:"vxe-form-design--custom-setting-pc-form-view"},Zm(l({},{$formDesign:e,formConfig:n})))}return y(Bv,{formData:n})})()})),o&&t.push(y(fv,{title:lm("vxe.formDesign.widgetProp.displaySetting.mobile"),icon:_p().FORM_DESIGN_PROPS_MOBILE,key:2,name:2},{default:()=>(()=>{const{formRender:t}=l,{formData:n}=a;if(t){const o=mm.get(t.name),l=o?o.renderFormDesignMobileStyleFormView:null;if(l)return y("div",{class:"vxe-form-design--custom-setting-mobile-form-view"},Zm(l({},{$formDesign:e,formConfig:n})))}return y(zv,{formData:n})})()})),t}})])};return o.renderVN=()=>{const{showPc:e,showMobile:t}=l;return y(Tv,{modelValue:i.value,title:lm("vxe.formDesign.styleSetting.title"),height:"90vh",width:"90vw",escClosable:!0,maskClosable:!0,destroyOnClose:!0,showMaximize:!0,transfer:!0,"onUpdate:modelValue"(e){i.value=e}},{default:()=>y("div",{class:"vxe-form-design--layout-style"},[g(),e||t?f():x()])})},b("$xeFormDesignLayoutStyle",o),o},render(){return this.renderVN()}}),Hv=p({name:"VxeFormDesign",props:{size:{type:String,default:()=>Ap().formDesign.size||Ap().size},config:Object,height:{type:[String,Number],default:()=>Ap().formDesign.height},widgets:{type:Array,default:()=>sp.clone(Ap().formDesign.widgets)||[]},showHeader:{type:Boolean,default:()=>Ap().formDesign.showHeader},showPc:{type:Boolean,default:()=>Ap().formDesign.showPc},showMobile:{type:Boolean,default:()=>Ap().formDesign.showMobile},formRender:Object},emits:["click-widget","add-widget","copy-widget","remove-widget","drag-widget"],setup(e,n){const{emit:o,slots:l}=n,a=sp.uniqueId(),s=r(),c=r(),{computeSize:u}=Om(e),d=m({formData:{},widgetConfigs:[],widgetObjList:[],dragWidget:null,sortWidget:null,activeWidget:null}),p=m({}),g={refElem:s},f={computeSize:u},h={xID:a,props:e,context:n,reactData:d,internalData:p,getRefMaps:()=>g,getComputeMaps:()=>f},v=e=>new cv(h,e,d.widgetObjList),w=()=>new cv(h,"",d.widgetObjList),C=e=>{if(e){const{formConfig:t,widgetData:n}=e;t&&E(t),n&&T(n)}const{activeWidget:n,widgetObjList:o}=d;if(n){const e=sp.findTree(o,(e=>e.id===n.id),{children:"children"});d.activeWidget=e?e.item:o[0]||null}else d.activeWidget=o[0]||null;return t()},S=()=>sp.clone(d.formData,!0),E=e=>(d.formData=Object.assign({},F(),e),t()),D=()=>{const e=sp.clone(d.widgetObjList,!0);return sp.eachTree(e,(e=>{e.model.value=null}),{children:"children"}),e},T=e=>(d.widgetObjList=(e||[]).map((e=>uv(e))),t()),O=()=>{const e=c.value;return e&&e.openStylePreview(),t()},k=()=>(d.widgetObjList=[],V(),t()),R={dispatchEvent(e,t,n){o(e,Gp(n,{$xeFormDesign:h},t))},createWidget:v,createEmptyWidget:w,getConfig:()=>({formConfig:S(),widgetData:D()}),clearConfig:k,loadConfig:C,reloadConfig:e=>(k(),C(e)),getFormConfig:S,loadFormConfig:E,getWidgetById:e=>{const{widgetObjList:t}=d;if(e){const n=sp.toNumber(e),o=sp.findTree(t,(e=>e&&e.id===n),{children:"children"});if(o)return o.item}return null},getFormData(){const{widgetObjList:e}=d,t={};return sp.eachTree(e,(e=>{t[e.field]=null}),{children:"children"}),t},getWidgetData:D,loadWidgetData:T,refreshPreviewView(){const e=c.value;return e&&e.updatePreviewView(),t()},openStyleSetting:O},I=()=>{const{widgets:t}=e,n=[],o=[],l=[],r=[],a=[];mm.forEach(((e,t)=>{const{createFormDesignWidgetConfig:n}=e;if(n){const e=v(t),n=sv(t),i=function(e,t){const n=sv(e);if(n){const o=n.customGroup,l={name:e,$formDesign:t};return sp.toValueString(sp.isFunction(o)?o(l):o)}return e}(t,h);if(i){const t=a.find((e=>e.title===i));t?t.children.push(e):a.push({title:i,children:[e]})}else switch(n.group){case"layout":l.push(e);break;case"advanced":r.push(e);break;default:["title"].includes(e.name)||o.push(e)}}})),o.length&&n.push({group:"base",children:o}),l.length&&n.push({group:"layout",children:l}),r.length&&n.push({group:"advanced",children:r}),a.length&&n.push(...a),t&&t.length?d.widgetConfigs=e.widgets.map((e=>({title:e.customGroup,group:e.group,children:e.children?e.children.map((e=>v(e))):[]}))):d.widgetConfigs=n},M=e=>{const{widgetObjList:t}=d;if(sv(e).unique){const n=[];sp.eachTree(t,(t=>{t.name===e&&n.push(t)}),{children:"children"});const o=n.length<1;return o||$m.modal&&$m.modal.message({content:lm("vxe.formDesign.error.wdFormUni"),status:"error",id:"wdFormUni"}),o}return!0},P={validWidgetUnique:M,handleClickWidget(e,t){t&&t.name&&(e.stopPropagation(),d.activeWidget=t,R.dispatchEvent("click-widget",{widget:t},e))},handleCopyWidget(e,t){const{widgetObjList:n}=d,o=sp.findTree(n,(e=>e.id===t.id),{children:"children"});if(o&&(e.stopPropagation(),M(t.name))){const{path:l}=o,r=Number(l[0]),a=v(t.name);a.title&&(a.title=lm("vxe.formDesign.widget.copyTitle",[`${t.title}`.replace(lm("vxe.formDesign.widget.copyTitle",[""]),"")])),r>=n.length-1?n.push(a):n.splice(r+1,0,a),d.activeWidget=a,d.widgetObjList=[...n],R.dispatchEvent("copy-widget",{widget:t,newWidget:a},e)}},handleRemoveWidget(e,t){const{widgetObjList:n}=d,o=sp.findTree(n,(e=>e.id===t.id),{children:"children"});if(o){const{index:l,parent:r,items:a}=o;e.stopPropagation(),l>=a.length-1?d.activeWidget=a[l-1]:d.activeWidget=a[l+1]||null,r&&"row"===r.name?a[l]=w():a.splice(l,1),d.widgetObjList=[...n],R.dispatchEvent("remove-widget",{widget:t},e)}}},F=()=>{const{formRender:t,showPc:n,showMobile:o}=e;let l={title:"",pcVisible:!(r={pcVisible:n,mobileVisible:o})||!!r.pcVisible,pcVertical:!0,pcTitleBold:!0,pcTitleColon:!1,pcTitleAlign:"",pcTitleWidth:"",pcTitleWidthUnit:"",mobileVisible:!r||!!r.mobileVisible,mobileVertical:!0,mobileTitleBold:!0,mobileTitleColon:!1,mobileTitleAlign:"",mobileTitleWidth:"",mobileTitleWidthUnit:""};var r;if(t){const e=mm.get(t.name),n=e?e.createFormDesignSettingFormConfig:null;l=(n?n({}):{})||{}}return l},V=()=>{d.formData=F()},A=()=>{O()};Object.assign(h,R,P);const $=()=>{const e=l.extra;return y("div",{class:"vxe-form-design--header-wrapper"},[y("div",{class:"vxe-form-design--header-left"}),y("div",{class:"vxe-form-design--header-middle"}),y("div",{class:"vxe-form-design--header-right"},[e?y("div",{class:"vxe-form-design--header-extra"},e({})):Am(),y("div",{class:"vxe-form-design--header-setting"},[y(qg,{mode:"text",status:"primary",icon:_p().FORM_DESIGN_STYLE_SETTING,content:lm("vxe.formDesign.styleSetting.btn"),onClick:A})])])])};return h.renderVN=()=>{const{height:t,showHeader:n}=e,o=u.value,r=l.header,a=l.footer;return y("div",{ref:s,class:["vxe-form-design",{[`size--${o}`]:o}],style:t?{height:dg(t)}:null},[n||r?y("div",{class:"vxe-form-design--header"},r?r({}):$()):x(),y("div",{class:"vxe-form-design--body"},[y(dv),y(mv),y(wv),y(jv,{ref:c})]),a?y("div",{class:"vxe-form-design--footer"},a?a({}):[]):x()])},i((()=>e.widgets),(()=>{I()})),i((()=>e.widgets),(()=>{I()})),i((()=>e.config),(e=>{C(e||{})})),V(),I(),e.config&&C(e.config),b("$xeFormDesign",h),h},render(){return this.renderVN()}});function Wv(e){return{computeKebabCaseName:g((()=>{const{renderOpts:t}=e;return t?sp.kebabCase(t.name):""}))}}let qv;const Uv=p({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:{type:Boolean,default:null},editable:{type:Boolean,default:!0},disabled:{type:Boolean,default:null},placeholder:String,maxLength:[String,Number],rows:{type:[String,Number],default:null},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>Ap().textarea.resize},size:{type:String,default:()=>Ap().textarea.size||Ap().size},maxlength:[String,Number]},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur"],setup(e,o){const{emit:l}=o,a=n("$xeForm",null),s=n("xeFormItemInfo",null),c=sp.uniqueId(),{computeSize:u}=Om(e),d=m({inputValue:e.modelValue}),p=r(),f=r(),h={refElem:p,refTextarea:f},v={xID:c,props:e,context:o,reactData:d,getRefMaps:()=>h};let b={};const x=g((()=>{const{readonly:t}=e;return null===t?!!a&&a.props.readonly:t})),w=g((()=>{const{disabled:t}=e;return null===t?!!a&&a.props.disabled:t})),C=g((()=>{const{editable:t}=e;return x.value||!t})),S=g((()=>{const{placeholder:t}=e;if(t)return zg(t);const n=Ap().textarea.placeholder;return n?zg(n):lm("vxe.base.pleaseInput")})),E=g((()=>{const{maxLength:t,maxlength:n}=e;return t||n})),D=g((()=>sp.getSize(d.inputValue))),T=g((()=>{const e=D.value,t=E.value;return t&&e>sp.toNumber(t)})),O=g((()=>Object.assign({minRows:1,maxRows:10},Ap().textarea.autosize,e.autosize))),k=()=>{const{size:t,autosize:n}=e,{inputValue:o}=d;if(n){qv||(qv=document.createElement("div")),qv.parentNode||document.body.appendChild(qv);const e=f.value;if(!e)return;const n=getComputedStyle(e);qv.className=["vxe-textarea--autosize",t?`size--${t}`:""].join(" "),qv.style.width=`${e.clientWidth}px`,qv.style.padding=n.padding,qv.innerText=(""+(o||"")).replace(/\n$/,"\n")}},R=()=>{e.autosize&&t((()=>{const e=O.value,{minRows:t,maxRows:n}=e,o=f.value;if(!o)return;const l=qv.clientHeight,r=getComputedStyle(o),a=sp.toNumber(r.lineHeight),i=sp.toNumber(r.paddingTop)+sp.toNumber(r.paddingBottom)+sp.toNumber(r.borderTopWidth)+sp.toNumber(r.borderBottomWidth),s=(l-i)/a,c=s&&/[0-9]/.test(""+s)?s:Math.floor(s)+1;let u=c;c<t?u=t:c>n&&(u=n),o.style.height=`${u*a+i}px`}))},I=e=>{const t=d.inputValue;v.dispatchEvent(e.type,{value:t},e)},M=(t,n)=>{d.inputValue=t,l("update:modelValue",t),sp.toValueString(e.modelValue)!==t&&(b.dispatchEvent("change",{value:t},n),a&&s&&a.triggerItemEvent(n,s.itemConfig.field,t))},P=t=>{const{immediate:n}=e,o=t.target.value;d.inputValue=o,n&&M(o,t),v.dispatchEvent("input",{value:o},t),R()},F=t=>{const{immediate:n}=e;n?I(t):M(d.inputValue,t)},V=t=>{const{immediate:n}=e,{inputValue:o}=d;n||M(o,t),v.dispatchEvent("blur",{value:o},t)};b={dispatchEvent(e,t,n){l(e,Gp(n,{$textarea:v},t))},focus:()=>(f.value.focus(),t()),blur:()=>(f.value.blur(),t())},Object.assign(v,b),i((()=>e.modelValue),(e=>{d.inputValue=e,k()})),i(O,(()=>{k(),R()})),t((()=>{const{autosize:t}=e;t&&(k(),R())}));return v.renderVN=()=>{const{className:t,resize:n,autosize:o,showWordCount:l,countMethod:r,rows:a,cols:i}=e,{inputValue:s}=d,c=u.value,m=w.value,g=T.value,h=D.value,v=C.value,b=x.value,O=S.value,k=E.value;return b?y("div",{ref:p,class:["vxe-textarea--readonly",t]},s):y("div",{ref:p,class:["vxe-textarea",t,{[`size--${c}`]:c,"is--autosize":o,"is--count":l,"is--disabled":m,"is--rows":!sp.eqNull(a),"is--cols":!sp.eqNull(i)}],spellcheck:!1},[y("textarea",{ref:f,class:"vxe-textarea--inner",value:s,name:e.name,placeholder:O,maxlength:k,readonly:v,disabled:m,rows:a,cols:i,style:n?{resize:n}:null,onInput:P,onChange:F,onKeydown:I,onKeyup:I,onClick:I,onFocus:I,onBlur:V}),l?y("span",{class:["vxe-textarea--count",{"is--error":g}]},r?`${r({value:s})}`:`${h}${k?`/${k}`:""}`):null])},v},render(){return this.renderVN()}}),Gv=p({name:"VxeTip",props:{title:{type:[String,Number],default:()=>Ap().tip.title},content:[String,Number],status:String,icon:{type:String,default:()=>Ap().tip.icon},permissionCode:[String,Number],size:{type:String,default:()=>Ap().tip.size||Ap().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId(),{computeSize:a}=Om(e),{computePermissionInfo:i}=km(e),s=r(),c=m({}),u={refElem:s},d={},p={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},g={dispatchEvent:(e,t,n)=>{o(e,Gp(n,{$tip:p},t))}};Object.assign(p,g,{});return p.renderVN=()=>{const{status:t,content:o,icon:l,title:r}=e,c=n.default,u=n.title,d=n.icon,p=i.value,m=a.value;return p.visible?y("div",{ref:s,class:["vxe-tip",{[`size--${m}`]:m,[`theme--${t}`]:t,"has--title":!(!u&&!r)}]},[d||l?y("div",{class:"vxe-tip--icon"},d?Zm(d({})):[y("i",{class:l})]):Am(),y("div",{class:"vxe-tip--body"},[u||r?y("div",{class:"vxe-tip--title"},u?Zm(u({})):sp.toValueString(r)):Am(),y("div",{class:"vxe-tip--content"},c?Zm(c({})):sp.toValueString(o))])]):Am()},p},render(){return this.renderVN()}});function Kv(e,t){const n=Object.assign({},t).isSubOption,o=r(""),l=r([]),a=()=>{const{renderParams:t}=e,{widget:n}=t,o=n.options.options||[];o.push({value:lm("vxe.formDesign.widgetProp.dataSource.defValue",[o.length+1])}),n.options.options=[...o]},s=/^(\s|\t)+/,c=e=>s.test(e),u=()=>{const{renderParams:t}=e,{widget:n}=t,o=n.options.options||[],r=[];o.forEach(((e,t)=>{const{options:n}=e;n&&n.length&&r.push(t)})),l.value=r},d=()=>{const{renderParams:t}=e,{widget:l}=t,r=[],a=o.value.split("\n");let i=null;n?a.forEach(((e,t)=>{const n=a[t+1],o=e.trim();if(!o)return;const l={value:o};if(i){if(c(e))return void i.options.push(l);i=null,r.push(l)}else r.push(l);n&&c(n)&&(i=Object.assign(l,{options:[]}))})):a.forEach((e=>{r.push({value:e.trim()})})),l.options.options=r,u()},p=()=>{var t;const{renderParams:l}=e,{widget:r}=l,a=[];null===(t=r.options.options)||void 0===t||t.forEach((e=>{var t;a.push(e.value),null===(t=e.options)||void 0===t||t.forEach((e=>{a.push(`\t${e.value}`)}))})),o.value=a.join("\n"),$m.modal.open({title:`${r.title} - ${lm("vxe.formDesign.widgetProp.dataSource.batchEditOption")}`,width:500,height:"50vh ",resize:!0,showFooter:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:lm("vxe.formDesign.widgetProp.dataSource.buildOption"),onConfirm:d,slots:{default:()=>y("div",{class:"vxe-form-design--widget-form-item-data-source-popup"},[y(Gv,{status:"primary",title:"",content:lm("vxe.formDesign.widgetProp.dataSource."+(n?"batchEditSubTip":"batchEditTip"))}),y(Uv,{resize:"none",modelValue:o.value,"onUpdate:modelValue"(e){o.value=e}})])}})},m=(t,n,o,r,a,i,s)=>y("div",{class:["vxe-form-design--widget-form-item-data-source-option",{"is--first":i,"is--last":s}]},[y("div",{class:"vxe-form-design--widget-expand-btn"},!n&&a?[y("i",{class:o?_p().FORM_DESIGN_WIDGET_OPTION_EXPAND_CLOSE:_p().FORM_DESIGN_WIDGET_OPTION_EXPAND_OPEN,onClick(){((e,t)=>{l.value.includes(t)?l.value=l.value.filter((e=>e!==t)):l.value.push(t)})(0,r)}})]:[]),y("input",{class:"vxe-default-input",value:t.value,onInput(e){t.value=e.target.value}}),y(qg,{status:"danger",mode:"text",icon:_p().FORM_DESIGN_WIDGET_DELETE,onClick(){((t,n)=>{const{renderParams:o}=e,{widget:l}=o,{options:r}=l;n?n.options&&(n.options=n.options.filter((e=>e!==t))):r.options=r.options.filter((e=>e!==t))})(t,n)}})]),g=()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n,r=o.options,a=[];return r&&r.forEach(((e,t)=>{const{options:n}=e,o=l.value.includes(t);n&&n.length?(a.push(m(e,null,o,t,!0,0===t,t===r.length-1)),o&&a.push(y("div",{class:"vxe-form-design--widget-form-item-data-source-sub-option"},n.map((t=>m(t,e,o,0,!1,!1,!1)))))):a.push(m(e,null,o,t,!1,0===t,t===r.length-1))})),a};i((()=>e.renderParams.widget),(()=>{u()})),f((()=>{u()}));const h=()=>[y("div",{},[y(qg,{status:"primary",mode:"text",content:lm("vxe.formDesign.widgetProp.dataSource.addOption"),onClick:a}),y(qg,{status:"primary",mode:"text",content:lm("vxe.formDesign.widgetProp.dataSource.batchEditOption"),onClick:p})]),y("div",{class:"vxe-form-design--widget-form-item-data-source-wrapper"},g())];return{renderDataSourceFormItem:()=>y(vv,{title:lm("vxe.formDesign.widgetProp.dataSource.name"),field:"options"},{default:()=>h()}),renderDataSourceFormItemContent:h}}const Yv=e=>lm(`vxe.formDesign.widget.component.${e.name}`),Xv=()=>({title:Yv,icon:"vxe-icon-text",group:"layout",options:{color:"",align:"",bold:!1,fontSize:""}}),Zv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Wv(e),n=r([{label:lm("vxe.formDesign.widgetProp.textProp.alignLeft"),value:""},{label:lm("vxe.formDesign.widgetProp.textProp.alignCenter"),value:"center"},{label:lm("vxe.formDesign.widgetProp.textProp.alignRight"),value:"right"}]),o=r([{label:lm("vxe.formDesign.widgetProp.textProp.fontNormal"),value:!1},{label:lm("vxe.formDesign.widgetProp.textProp.fontBold"),value:!0}]),l=r(sp.range(12,27).map((e=>({label:`${e}px`,value:`${e}px`}))));return()=>{const{renderParams:r}=e,{widget:a}=r,i=t.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${i}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:a.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.textProp.name")},{default:()=>y(Wf,{modelValue:a.title,"onUpdate:modelValue"(e){a.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.textProp.boldTitle"),field:"bold",itemRender:{name:"VxeRadioGroup",options:o.value}}),y(vv,{title:lm("vxe.formDesign.widgetProp.textProp.alignTitle"),field:"align",itemRender:{name:"VxeRadioGroup",options:n.value}}),y(vv,{title:lm("vxe.formDesign.widgetProp.textProp.sizeTitle"),field:"fontSize",itemRender:{name:"VxeSelect",options:l.value}})]})}}}),Qv=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Wv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,{options:l}=o,r=t.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${r}`],align:l.align},{default:()=>y("div",{style:{fontSize:l.fontSize,fontWeight:l.bold?"bold":""}},o.title)})}}}),Jv=p({name:"VxeRow",props:{gutter:[Number,String,Array],wrap:{type:Boolean,default:()=>Ap().row.wrap},vertical:Boolean,size:{type:String,default:()=>Ap().row.size||Ap().size}},emits:["click"],setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId();Om(e);const a=r(),i=m({}),s={refElem:a},c=g((()=>{const{gutter:t,vertical:n}=e,o={};if(t){let[e,l]=sp.isArray(t)?t:[t];if(n&&(l=e,e=""),e){const t=sp.isNumber(e)?dg(-e/2):`calc(${dg(e)} / 2 * -1)`;o.marginLeft=t,o.marginRight=t}if(l){const e=sp.isNumber(l)?dg(-l/2):`calc(${dg(l)} / 2 * -1)`;o.marginTop=e,o.marginBottom=e}}return o})),u={},d={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>u},p=e=>{f("click",{},e)},f=(e,t,n)=>{o(e,Gp(n,{$row:d},t))},h={dispatchEvent:f};Object.assign(d,h,{});return b("$xeRow",d),d.renderVN=()=>{const{vertical:t,wrap:o}=e,l=c.value,r=n.default;return y("div",{ref:a,class:["vxe-row",{"is--vertical":t,"is--wrap":o}],style:l,onClick:p},r?r({}):[])},d},render(){return this.renderVN()}}),eb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormDesign",null);if(!t)return()=>[];const{computeKebabCaseName:o}=Wv(e),l=r([{label:lm("vxe.formDesign.widgetProp.rowProp.col2"),value:2,list:[{value:"12,12",spans:[12,12]},{value:"8,16",spans:[8,16]},{value:"16,8",spans:[16,8]},{value:"6,18",spans:[6,18]},{value:"18,6",spans:[18,6]}]},{label:lm("vxe.formDesign.widgetProp.rowProp.col3"),value:3,list:[{value:"8,8,8",spans:[8,8,8]},{value:"6,6,12",spans:[6,6,12]},{value:"12,6,6",spans:[12,6,6]},{value:"6,12,6",spans:[6,12,6]}]},{label:lm("vxe.formDesign.widgetProp.rowProp.col4"),value:4,list:[{value:"6,6,6,6",spans:[6,6,6,6]}]},{label:lm("vxe.formDesign.widgetProp.rowProp.col6"),value:6,list:[{value:"4,4,4,4,4,4",spans:[4,4,4,4,4,4]}]}]),a={18:"3/4",16:"2/3",12:"1/2",8:"1/3",6:"1/4",4:"1/6"},i=g((()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n;return l.value.find((e=>e.value===o.colSize))}));return()=>{const{renderParams:n}=e,{widget:r}=n,s=o.value;return y(Lh,{class:`vxe-form-design--widget-${s}-form`,vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:r.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.rowProp.colSize"),field:"colSize",itemRender:{name:"VxeRadioGroup",options:l.value,props:{type:"button"}}}),y(vv,{title:lm("vxe.formDesign.widgetProp.rowProp.layout")},{default(){const n=i.value;return n?n.list.map(((n,o)=>y(Jv,{key:o,class:[`vxe-form-design--widget-${s}-form-row`,{"is--active":n.value===r.options.colSpan}],onClick(){(n=>{const{renderParams:o}=e,{widget:l}=o,{options:r}=l,{reactData:a}=t,{widgetObjList:i}=a,s=l.children.filter((e=>e.name)),c=s.slice(r.colSize);if(c.length){const e=sp.findTree(i,(e=>e.id===l.id),{children:"children"});if(e){const{items:t,index:n}=e;n>=t.length-1?t.push(...c):t.splice(n+1,0,...c)}}r.colSpan=n.value,l.children=sp.range(0,r.colSize).map(((e,n)=>s[n]||t.createEmptyWidget()))})(n)}},{default:()=>n.spans.map(((e,t)=>y(Ef,{key:`${o}${t}`,class:`vxe-form-design--widget-${s}-form-col`,span:e},{default:()=>y("div",{},`${a[e]}`)})))}))):[]}})]})}}}),tb=p({name:"ViewColItem",props:{parentWidget:{type:Object,default:()=>({})},widget:{type:Object,default:()=>({})},span:Number,colItemIndex:{type:Number,default:0}},emits:[],setup(e){const t=n("$xeFormDesign",null);if(!t)return()=>[];const{reactData:o}=t,l=e=>{e.stopPropagation();const n=e.currentTarget,l=e.dataTransfer,r=n.getAttribute("data-widget-id")||"",a=t.getWidgetById(r);l&&l.setData("text/plain",r),o.sortWidget=a,o.dragWidget=null},r=n=>{const{parentWidget:l,colItemIndex:r}=e,{widgetObjList:a,sortWidget:i}=o,s=l.children[r],c=t.internalData;if(n.stopPropagation(),i&&l&&i.id!==l.id){if(av(i))return;if(!av(s)){const e=sp.findTree(a,(e=>e&&e.id===i.id),{children:"children"});if(e){const{item:o,index:a,items:i,parent:u}=e;if(l.children.length!==l.options.colSize&&(l.children=sp.range(0,l.options.colSize).map((e=>l.children[e]||t.createEmptyWidget()))),u&&u.id===l.id)l.children[r]=o,l.children[a]=s;else{if(s&&s.name)return;l.children[r]=o,i.splice(a,1)}n.preventDefault(),c.lastDragTime=Date.now(),t.dispatchEvent("drag-widget",{widget:o},n)}}}};return()=>{const{widget:n,span:a}=e,{dragWidget:i,activeWidget:s,sortWidget:c}=o;return y(vv,{span:a,padding:!1},{default(){const e=n?n.name:"",o=mm.get(e)||{},a=o.renderFormDesignWidgetEdit||o.renderFormDesignWidgetView,u=n||{name:e},d={widget:n,readonly:!1,disabled:!1,isEditMode:!0,isViewMode:!1,$formDesign:t,$formView:null},p=s&&n&&s.id===n.id,m=!a;return y("div",{class:"vxe-form-design--widget-row-view","data-widget-id":n.id,draggable:!m,onDragstart:l,onDragenter:r,onClick(e){n&&t.handleClickWidget(e,n)}},[y("div",{class:["vxe-form-design--widget-row-view-item-inner",{"is--empty":m,"is--active":p,"is--sort":c&&n&&c.id===n.id,"is--drag":i&&n&&i.id===n.id}]},[a?y("div",{class:"vxe-form-design--widget-row-view-item-wrapper"},[y("div",{class:"vxe-form-design--widget-row-view-item-box vxe-form--item-row"},Zm(a(u,d))),p?y("div",{class:"vxe-form-design--preview-item-operate"},[y(qg,{icon:_p().FORM_DESIGN_WIDGET_COPY,status:"primary",size:"mini",circle:!0,onClick(e){t.handleCopyWidget(e.$event,n)}}),y(qg,{icon:_p().FORM_DESIGN_WIDGET_DELETE,status:"danger",size:"mini",circle:!0,onClick(e){t.handleRemoveWidget(e.$event,n)}})]):x()]):y("div",{class:"vxe-form-design--widget-row-view-empty"},"")])])}})}}}),nb=p({name:"WidgetRowEdit",props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=g((()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n,{colSpan:l}=o;return(l?`${l}`.split(","):[]).map((e=>Number(e)))}));return()=>{const{renderParams:n}=e,{widget:o}=n;return y(kv,{field:o.field},{default:()=>t.value.map(((e,t)=>y(tb,{key:t,parentWidget:o,widget:o.children[t],span:e,colItemIndex:t})))})}}}),ob=p({name:"WidgetRowView",props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormDesign",null),o=n("$xeFormView",null),l=g((()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n,{colSpan:l}=o;return(l?`${l}`.split(","):[]).map((e=>Number(e)))}));return()=>{const{renderParams:n}=e,{widget:r}=n,a=l.value;return y(Jv,{},{default:()=>a.map(((e,n)=>y(Ef,{key:n,class:"vxe-form--item-row",span:e},{default(){const e=r.children[n];if(e){const{name:n}=e,l=(mm.get(n)||{}).renderFormDesignWidgetView,r=!!t;if(l)return Zm(l(e,{widget:e,readonly:!1,disabled:!1,isEditMode:r,isViewMode:!r,$formDesign:t,$formView:o}))}return x()}})))})}}}),lb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){if(!n("$xeFormDesign",null))return()=>[];const{computeKebabCaseName:t}=Wv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,{options:l}=o,r=t.value;return y(Lh,{class:`vxe-form-design--widget-${r}-form`,vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.subtableProp.showCheckbox"),field:"showCheckbox"},{default:()=>y(bv,{modelValue:l.showCheckbox,"onUpdate:modelValue"(e){l.showCheckbox=e}})})]})}}}),rb=p({props:{parentWidget:{type:Object,default:()=>({})},widget:{type:Object,default:()=>({})},childIndex:{type:Number,default:0}},emits:[],setup(e){const t=n("$xeFormDesign",null),o=n("$xeFormView",null);if(!t)return()=>[];const{reactData:l}=t,r=e=>{e.stopPropagation();const n=e.currentTarget,o=e.dataTransfer,r=n.getAttribute("data-widget-id")||"",a=t.getWidgetById(r);o&&o.setData("text/plain",r),l.sortWidget=a,l.dragWidget=null},a=n=>{const{parentWidget:o,childIndex:r}=e,{widgetObjList:a,sortWidget:i}=l,s=o.children[r],c=t.internalData,{lastDragTime:u}=c;if(n.stopPropagation(),u&&u>Date.now()-300)n.preventDefault();else if(i&&s&&o){if(i.id===o.id)return;if(i.id===s.id)return;if(av(i))return;if(s&&!av(s)){const e=sp.findTree(a,(e=>e.id===i.id),{children:"children"});if(e){const{item:l,index:a,items:i,parent:u}=e;u&&u.id===o.id?(o.children[r]=l,o.children[a]=s):(o.children.splice(r,0,l),i.splice(a,1)),c.lastDragTime=Date.now(),t.dispatchEvent("drag-widget",{widget:l},n)}}}};return()=>{const{widget:n}=e,{dragWidget:i,activeWidget:s,sortWidget:c}=l,u=n?n.name:"",d=mm.get(u)||{},p=d.renderFormDesignWidgetSubtableEditView||d.renderFormDesignWidgetSubtableCellView||d.renderFormDesignWidgetSubtableDefaultView,m=d.renderFormDesignWidgetEdit||d.renderFormDesignWidgetView,g=n||{name:u},f=!!t,h={widget:n,readonly:!1,disabled:!1,isEditMode:f,isViewMode:!f,$formDesign:t,$formView:o},v=s&&n&&s.id===n.id,b={name:u},w={$table:null,$grid:null,seq:"",column:{field:n.field,title:n.title},columnIndex:0,$columnIndex:0,_columnIndex:0,rowid:"",row:{},rowIndex:0,$rowIndex:0,_rowIndex:0,isEdit:!1,isHidden:!1,fixed:null,type:"",level:1,visibleData:[],items:[],data:[],widget:n};return y("div",{class:["vxe-form-design--widget-subtable-view-item",{"is--active":v,"is--sort":c&&n&&c.id===n.id,"is--drag":i&&n&&i.id===n.id}],draggable:!0,"data-widget-id":n.id,onDragstart:r,onDragenter:a,onClick(e){n&&t.handleClickWidget(e,n)}},[y("div",{class:"vxe-form-design--widget-subtable-view-item-wrapper"},[y("div",{class:"vxe-form-design--widget-subtable-view-item-box vxe-form--item-row"},p?y(vv,{class:["vxe-form-design--widget-render-form-item"],title:n.title,field:n.field,itemRender:{}},{default:()=>Zm(p(b,w))}):m?Zm(m(g,h)):[]),v?y("div",{class:"vxe-form-design--preview-item-operate"},[y(qg,{icon:_p().FORM_DESIGN_WIDGET_COPY,status:"primary",size:"mini",circle:!0,onClick(e){t.handleCopyWidget(e.$event,n)}}),y(qg,{icon:_p().FORM_DESIGN_WIDGET_DELETE,status:"danger",size:"mini",circle:!0,onClick(e){t.handleRemoveWidget(e.$event,n)}})]):x()])])}}}),ab=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormDesign",null);if(!t)return()=>[];const{reactData:o}=t,l=t=>{const{sortWidget:n,widgetObjList:l}=o,{renderParams:r}=e,{widget:a}=r;if(t.stopPropagation(),n&&a&&a.id!==n.id)if(av(n))$m.modal&&$m.modal.message({content:lm("vxe.formDesign.widgetProp.subtableProp.errSubDrag"),status:"error",id:"errSubDrag"});else if(a.name&&!a.children.some((e=>e.id===n.id))){const e=sp.findTree(l,(e=>e.id===n.id),{children:"children"});if(e){const{item:t,index:n,items:l}=e;o.sortWidget=null,o.activeWidget=t,a.children.push(t),l.splice(n,1),o.sortWidget=t}}},r=e=>{e.stopPropagation()};return()=>{const{renderParams:t}=e,{widget:n}=t,{title:o,children:a,options:i}=n,{showCheckbox:s}=i;return y(vv,{title:o,className:"vxe-form-design--widget-subtable-form-item"},{default:()=>y("div",{class:"vxe-form-design--widget-subtable-view",onDragenter:r,onDragover:l},[y("div",{class:"vxe-form-design--widget-subtable-view-left"},[s?y("div",{class:"vxe-form-design--widget-subtable-col"},[y("div",{class:"vxe-form-design--widget-subtable-head"},[y(bf)]),y("div",{class:"vxe-form-design--widget-subtable-body"},[y(bf)])]):x(),y("div",{class:"vxe-form-design--widget-subtable-col"},[y("div",{class:"vxe-form-design--widget-subtable-head"},lm("vxe.formDesign.widgetProp.subtableProp.seqTitle")),y("div",{class:"vxe-form-design--widget-subtable-body"},"1")])]),y("div",{class:"vxe-form-design--widget-subtable-view-right"},[y("div",{class:"vxe-form-design--widget-subtable-view-wrapper"},[y(E,{class:"vxe-form-design--widget-subtable-view-list",tag:"div",name:"vxe-form-design--widget-subtable-view-list"},{default:()=>a?a.map(((e,t)=>y(rb,{key:e.id,parentWidget:n,widget:e,childIndex:t}))):[]}),y("div",{key:"empty",class:"vxe-form-design--widget-subtable-view-empty"},lm("vxe.formDesign.widgetProp.subtableProp.colPlace"))])])])})}}}),ib=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const o=$m.getComponent("VxeGrid"),l=n("$xeFormView",null),{computeKebabCaseName:a}=Wv(e),i=r(),s=r([{}]),c=g((()=>!!l&&l.props.readonly)),u=g((()=>{const{renderParams:t}=e,{widget:n}=t,{children:o,options:r}=n,a=c.value,i=[];return r.showCheckbox&&i.push({type:"checkbox",width:60,fixed:"left"}),i.push({type:"seq",width:60,fixed:"left"}),o&&o.forEach((e=>{const{name:t}=e,n=mm.get(t)||{},o=n.parseFormDesignWidgetSubtableColumn;let r={field:e.field,title:e.title};o?r=Object.assign(r,o({$formView:l,name:e.name,widget:e,readonly:!!a})):a?r.cellRender={name:e.name,props:e.options}:r.editRender={name:e.name,props:e.options};const s=n.renderFormDesignWidgetSubtableDefaultView,c=n.renderFormDesignWidgetSubtableCellView||s,u=n.renderFormDesignWidgetSubtableEditView,d={};(s||c)&&(d.default=t=>{const{isEdit:n,column:o}=t,{editRender:l,cellRender:r}=o,a=Object.assign({widget:e},t);return n&&l&&c?Zm(c(l,a)):s?Zm(s(r||{},a)):[]}),u&&(d.edit=t=>{const{column:n}=t,{editRender:o}=n,l=Object.assign({widget:e},t);return Zm(u(o,l))}),r.slots=d,i.push(r)})),a||i.push({field:"action",title:"",fixed:"right",width:80,slots:{default:({row:e})=>y(qg,{mode:"text",icon:"vxe-icon-delete",status:"error",onClick(){m(e)}})}}),i})),d=g((()=>{const{renderParams:t}=e,{widget:n,isEditMode:o}=t,r=u.value,a=c.value,i={border:!0,showOverflow:!0,height:300,columnConfig:{resizable:!0,minWidth:140},rowConfig:{keyField:"_id"},data:o?s.value:l?l.getItemValue(n):null,columns:r,toolbarConfig:{zoom:!0,custom:!1,slots:{buttons:"toolbarButtons"}}};return a||(i.keepSource=!0,i.editConfig={mode:"row",trigger:"click",showStatus:!0}),i})),p=()=>{const{renderParams:n}=e,{widget:o}=n;if(l){let n=l.getItemValue(o);sp.isArray(n)||(n=[]);const r=(()=>{const{renderParams:t}=e,{widget:n}=t,o={_id:Date.now()};return sp.each(n.children,(e=>{o[e.field]=null})),o})();n.unshift(r),l.setItemValue(o,n.slice(0)).then((()=>t().then((()=>{const e=i.value;e&&e.setEditRow(r)}))))}},m=t=>{const{renderParams:n}=e,{widget:o}=n;if(l){const e=l.getItemValue(o);e&&l.setItemValue(o,e.filter((e=>e._id!==t._id)))}};return()=>{const{renderParams:t}=e,{widget:n}=t,l=a.value,r=d.value,s=c.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${l}`],title:n.title,field:n.field,span:24},{default:()=>o?y(o,Object.assign(Object.assign({},r),{ref:i}),{toolbarButtons:()=>s?[]:[y(qg,{content:"",icon:"vxe-icon-add",status:"primary",onClick:p})]}):x()})}}}),sb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Wv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(vv,{title:lm("vxe.formDesign.widgetProp.required")},{default:()=>y(bv,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),cb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],field:r.field,title:r.title,itemRender:{}},{default:()=>y("input",{class:"vxe-default-input",type:"text",placeholder:a.placeholder||lm("vxe.base.pleaseInput"),value:t?t.getItemValue(r):null,onChange:l,onInput(e){t&&t.setItemValue(r,e.target.value)}})})}}}),ub=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Wv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(vv,{title:lm("vxe.formDesign.widgetProp.required")},{default:()=>y(bv,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),db=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y("textarea",{class:"vxe-default-textarea",placeholder:a.placeholder||lm("vxe.base.pleaseInput"),value:t?t.getItemValue(r):null,onChange:l,onInput(e){t&&t.setItemValue(r,e.target.value)}})})}}}),pb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{renderDataSourceFormItem:t}=Kv(e,{isSubOption:!0}),{computeKebabCaseName:n}=Wv(e);return()=>{const{renderParams:o}=e,{widget:l}=o,r=n.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${r}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.required")},{default:()=>y(bv,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})}),t()]})}}}),mb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r,isViewMode:a}=n,i=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],field:r.field,title:r.title,itemRender:{}},{default:()=>y("select",{class:"vxe-default-select",value:t?t.getItemValue(r):null,onChange:l},a?(()=>{const{renderParams:t}=e,{widget:n}=t,{options:o}=n.options;return o?o.map((e=>e.options?y("optgroup",{label:e.value},e.options.map((e=>y("option",{value:e.value},e.value)))):y("option",{},e.value))):[]})():[])})}}}),gb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Wv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(vv,{title:lm("vxe.formDesign.widgetProp.required")},{default:()=>y(bv,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),fb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],field:r.field,title:r.title,itemRender:{}},{default:()=>y(Wf,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),hb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Wv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,data:o.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(vv,{title:lm("vxe.formDesign.widgetProp.required")},{default:()=>y(bv,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),vb=p({name:"VxeNumberInput",props:{modelValue:[String,Number],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"number"},clearable:{type:Boolean,default:()=>Ap().numberInput.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,maxLength:{type:[String,Number],default:()=>Ap().numberInput.maxLength},autoComplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>Ap().numberInput.size||Ap().size},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>Ap().numberInput.exponential},showCurrency:{type:Boolean,default:()=>Ap().numberInput.showCurrency},currencySymbol:{type:String,default:()=>Ap().numberInput.currencySymbol},controlConfig:Object,digits:{type:[String,Number],default:null},autoFill:{type:Boolean,default:()=>Ap().numberInput.autoFill},editable:{type:Boolean,default:!0},plusIcon:String,minusIcon:String,prefixIcon:String,suffixIcon:String,controls:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","plus-number","minus-number","prefix-click","suffix-click","prev-number","next-number"],setup(e,o){const{slots:l,emit:a}=o,c=n("$xeForm",null),u=n("xeFormItemInfo",null),d=sp.uniqueId(),{computeSize:p}=Om(e),h=m({isFocus:!1,isActivated:!1,inputValue:e.modelValue}),v={},b=r(),x=r(),w=r(),C=g((()=>{const{readonly:t}=e;return null===t?!!c&&c.props.readonly:t})),S=g((()=>{const{disabled:t}=e;return null===t?!!c&&c.props.disabled:t})),E=g((()=>{const{type:t,digits:n}=e;let o=n;return null===o&&(o=Ap().numberInput.digits,null===o&&"amount"===t&&(o=2)),sp.toInteger(o)||1})),D=g((()=>Object.assign({},Ap().numberInput.controlConfig,e.controlConfig))),T=g((()=>{const{type:t}=e;return"float"===t||"amount"===t})),O=g((()=>{const{type:t}=e,n=E.value,o=T.value,l=e.step;return"integer"===t?sp.toInteger(l)||1:o?sp.toNumber(l)||1/Math.pow(10,n):sp.toNumber(l)||1})),k=g((()=>e.clearable)),R=g((()=>{const{editable:t}=e;return C.value||!t})),I=g((()=>{const{placeholder:t}=e;if(t)return zg(t);const n=Ap().numberInput.placeholder;return n?zg(n):lm("vxe.base.pleaseInput")})),M=g((()=>{const{maxLength:t,maxlength:n}=e;return sp.toNumber(t||n)||16})),P=g((()=>{const{immediate:t}=e;return t})),F=g((()=>{const{type:t}=e,{inputValue:n}=h;return"integer"===t?sp.toInteger(jf(n)):sp.toNumber(jf(n))})),V=g((()=>{const{type:t,showCurrency:n,currencySymbol:o,autoFill:l}=e,{inputValue:r}=h,a=E.value;if("amount"===t){const e=sp.toNumber(r);let t=sp.commafy(e,{digits:a});if(!l){const[e,n]=t.split(".");if(n){const o=n.replace(/0+$/,"");t=o?[e,".",o].join(""):e}}return n?`${o||lm("vxe.numberInput.currencySymbol")||""}${t}`:t}return sp.toString(r)})),A=g((()=>{const{min:t}=e,{inputValue:n}=h,o=F.value;return!(!n&&0!==n||null===t)&&o<=sp.toNumber(t)})),$=g((()=>{const{max:t}=e,{inputValue:n}=h,o=F.value;return!(!n&&0!==n||null===t)&&o>=sp.toNumber(t)})),N={refElem:b,refInput:x},L={computeControlOpts:D},_={xID:d,props:e,context:o,reactData:h,internalData:v,getRefMaps:()=>N,getComputeMaps:()=>L};let B={};const z=e=>sp.eqNull(e)?"":`${e}`,j=t=>{const{exponential:n,autoFill:o}=e,l=M.value,r=E.value;let a="";return T.value?(a=Hf(t,r),o||(a=z(sp.toNumber(a)))):a=z(t),!n||t!==a&&z(t).toLowerCase()!==sp.toNumber(a).toExponential()?a.slice(0,l):t},H=e=>{const{inputValue:t}=h;B.dispatchEvent(e.type,{value:t},e)},W=(n,o,l)=>{const r=jg(n)?null:Number(n),i=r!==e.modelValue;i&&(v.isUM=!0,a("update:modelValue",r)),h.inputValue!==o&&t((()=>{h.inputValue=o||""})),B.dispatchEvent("input",{value:r},l),i&&(B.dispatchEvent("change",{value:r},l),c&&u&&c.triggerItemEvent(l,u.itemConfig.field,r))},q=(e,t)=>{const n=P.value,o=jg(e)?null:sp.toNumber(e);h.inputValue=e,n?W(o,e,t):B.dispatchEvent("input",{value:o},t)},U=e=>{const t=e.target.value;q(t,e)},G=e=>{P.value||H(e)},K=e=>{if(!R.value){const{inputValue:t}=h;h.inputValue=jg(t)?"":`${sp.toNumber(t)}`,h.isFocus=!0,h.isActivated=!0,H(e)}},Y=e=>{if(!S.value){const{inputValue:t}=h;B.dispatchEvent("prefix-click",{value:t},e)}},X=(e,t)=>{focus(),W(null,"",e),B.dispatchEvent("clear",{value:t},e)},Z=e=>{if(!S.value){const{inputValue:t}=h;B.dispatchEvent("suffix-click",{value:t},e)}},Q=()=>{const{autoFill:t}=e,{inputValue:n}=h,o=E.value;if(T.value&&n){let e="",l=null;n&&(e=Hf(n,o),l=sp.toNumber(e),t||(e=`${l}`)),n!==l?W(l,e,{type:"init"}):h.inputValue=e}},J=t=>null===e.max||sp.toNumber(t)<=sp.toNumber(e.max),ee=t=>null===e.min||sp.toNumber(t)>=sp.toNumber(e.min),te=()=>{const{type:t,min:n,max:o,exponential:l}=e,{inputValue:r}=h;if(!R.value){if(jg(r)){let e=null,t=r;return(n||0===n)&&(e=sp.toNumber(n),t=`${e}`),void W(e,`${t||""}`,{type:"check"})}if(r||n||o){let e="integer"===t?sp.toInteger(jf(r)):sp.toNumber(jf(r));if(ee(e)?J(e)||(e=o):e=n,l){const t=z(r).toLowerCase();t===sp.toNumber(e).toExponential()&&(e=t)}const a=j(e);W(jg(a)?null:Number(a),a,{type:"check"})}}},ne=e=>{const{inputValue:t}=h,n=P.value,o=t?Number(t):null;n||W(o,z(t),e),te(),h.isFocus=!1,h.isActivated=!1,B.dispatchEvent("blur",{value:o},e),c&&u&&c.triggerItemEvent(e,u.itemConfig.field,o)},oe=(t,n)=>{const{min:o,max:l,type:r}=e,{inputValue:a}=h,i=O.value,s="integer"===r?sp.toInteger(jf(a)):sp.toNumber(jf(a)),c=t?sp.add(s,i):sp.subtract(s,i);let u;u=ee(c)?J(c)?c:l:o,q(j(u),n)},le=e=>{const t=S.value,n=C.value,o=$.value;t||n||o||oe(!0,e),h.isActivated=!0,B.dispatchEvent("plus-number",{value:h.inputValue},e),B.dispatchEvent("next-number",{value:h.inputValue},e)},re=e=>{const t=S.value,n=C.value,o=A.value;t||n||o||oe(!1,e),h.isActivated=!0,B.dispatchEvent("minus-number",{value:h.inputValue},e),B.dispatchEvent("prev-number",{value:h.inputValue},e)},ae=t=>{const{type:n,exponential:o,controls:l}=e,r=D.value,{showButton:a}=r,i=R.value,s=ug(t),c=t.shiftKey,u=t.altKey,d=t.keyCode,p=Kp.hasKey(t,Bp.ESCAPE),m=Kp.hasKey(t,Bp.ARROW_UP),g=Kp.hasKey(t,Bp.ARROW_DOWN);s||c||u||(Kp.hasKey(t,Bp.SPACEBAR)||"integer"===n&&110===d||(!o||69!==d)&&d>=65&&d<=90||d>=186&&d<=188||d>=191)&&t.preventDefault(),p?te():(m||g)&&Ng(r)&&(!1===l?l:a)&&!i&&(e=>{const t=Kp.hasKey(e,Bp.ARROW_UP),n=Kp.hasKey(e,Bp.ARROW_DOWN);(t||n)&&(e.preventDefault(),t?re(e):le(e))})(t),H(t)},ie=e=>{H(e)},se=e=>{ue(),v.ainTimeout=setTimeout((()=>{re(e),se(e)}),60)},ce=e=>{ue(),v.ainTimeout=setTimeout((()=>{le(e),ce(e)}),60)},ue=()=>{(()=>{const{dnTimeout:e}=v;e&&(clearTimeout(e),v.dnTimeout=void 0)})(),(()=>{const{ainTimeout:e}=v;e&&(clearTimeout(e),v.ainTimeout=void 0)})()},de=e=>{if(v.isMouseDown)v.isMouseDown=!1;else{ue();ig(e.currentTarget,"is--plus")?le(e):re(e)}},pe=e=>{if(ue(),v.isMouseDown=!0,0===e.button){const t=ig(e.currentTarget,"is--plus");t?le(e):re(e),v.dnTimeout=setTimeout((()=>{t?ce(e):se(e)}),500)}},me=t=>{const{controls:n}=e,o=D.value,{isWheel:l}=o,r=R.value;if(Ng(o)&&(!1===n?n:l)&&!r&&h.isActivated){t.stopPropagation(),t.preventDefault();const e=t.deltaY;e>0?le(t):e<0&&re(t)}H(t)},ge=e=>{H(e)},fe=e=>{const{isActivated:t}=h,n=b.value,o=w.value,l=S.value,r=R.value,a=P.value;if(!l&&!r&&t&&(h.isActivated=mg(e,n).flag||mg(e,o).flag,!h.isActivated)){if(!a){const{inputValue:t}=h,n=t?Number(t):null;W(n,z(t),e)}te()}},he=t=>{const{clearable:n}=e,o=S.value,l=R.value;if(!o&&!l){const e=Kp.hasKey(t,Bp.TAB),o=Kp.hasKey(t,Bp.DELETE);let l=h.isActivated;e&&(l&&te(),l=!1,h.isActivated=l),o&&n&&l&&X(t,null)}},ve=()=>{const{isActivated:e}=h;e&&te()};B={dispatchEvent:(e,t,n)=>{a(e,Gp(n,{$numberInput:_},t))},focus(){if(!R.value){const e=x.value;h.isActivated=!0,e.focus()}return t()},blur:()=>(x.value.blur(),h.isActivated=!1,t()),select:()=>(x.value.select(),h.isActivated=!1,t())},Object.assign(_,B);const be=()=>{const{prefixIcon:t}=e,n=l.prefix;return n||t?y("div",{class:"vxe-number-input--prefix",onClick:Y},[y("div",{class:"vxe-number-input--prefix-icon"},n?Zm(n({})):[y("i",{class:t})])]):Am()},xe=()=>{const{suffixIcon:t}=e,{inputValue:n}=h,o=l.suffix,r=S.value,a=k.value;return y("div",{class:["vxe-number-input--suffix",{"is--clear":a&&!r&&!(""===n||sp.eqNull(n))}]},[a?y("div",{class:"vxe-number-input--clear-icon",onClick:X},[y("i",{class:_p().INPUT_CLEAR})]):Am(),o||t?y("div",{class:"vxe-number-input--suffix-icon",onClick:Z},o?Zm(o({})):[y("i",{class:t})]):Am()])},we=()=>{const{type:t,name:n,autocomplete:o,autoComplete:l}=e,{inputValue:r,isFocus:a}=h,i=S.value,s=V.value,c=R.value,u=M.value,d=I.value;return y("div",{key:"ni",class:"vxe-number-input--input-wrapper"},[be(),y("div",{class:"vxe-number-input--input-inner"},[y("input",{ref:x,class:"vxe-number-input--input",value:a||"amount"!==t?r:s,name:n,type:"text",placeholder:d,maxlength:u,readonly:c,disabled:i,autocomplete:l||o,onKeydown:ae,onKeyup:ie,onWheel:me,onClick:ge,onInput:U,onChange:G,onFocus:K,onBlur:ne})]),xe()])},ye=()=>{const{minusIcon:t}=e,n=A.value;return y("button",{key:"prev",class:["vxe-number-input--minus-btn is--minus",{"is--disabled":n}],onClick:de,onMousedown:pe,onMouseup:ue,onMouseleave:ue},[y("i",{class:t||_p().NUMBER_INPUT_MINUS_NUM})])},Ce=()=>{const{plusIcon:t}=e,n=$.value;return y("button",{key:"next",class:["vxe-number-input--plus-btn is--plus",{"is--disabled":n}],onClick:de,onMousedown:pe,onMouseup:ue,onMouseleave:ue},[y("i",{class:t||_p().NUMBER_INPUT_PLUS_NUM})])},Se=()=>y("div",{key:"cplr",class:"vxe-number-input--side-control"},[Ce(),ye()]);return _.renderVN=()=>{const{className:t,controls:n,type:o,align:r,prefixIcon:a,suffixIcon:i}=e,{inputValue:s,isActivated:c}=h,u=p.value,d=D.value,{layout:m,showButton:g}=d,f=S.value,v=C.value,x=V.value,w=l.prefix,E=l.suffix;if(v)return y("div",{ref:b,class:["vxe-number-input--readonly",`type--${o}`,t]},x);const T=R.value,O=k.value,I=Ng(d)&&(!1===n?n:g);return y("div",{ref:b,class:["vxe-number-input",`type--${o}`,`control-${"right"===m||"left"===m?m:"default"}`,t,{[`size--${u}`]:u,[`is--${r}`]:r,"is--controls":I&&!T,"is--prefix":!!w||a,"is--suffix":!!E||i,"is--disabled":f,"is--active":c,"show--clear":O&&!f&&!(""===s||sp.eqNull(s))}],spellcheck:!1},I?"right"===m?[we(),Se()]:"left"===m?[Se(),we()]:[ye(),we(),Ce()]:[we()])},i((()=>e.modelValue),(t=>{v.isUM||(t=>{const{autoFill:n}=e,{inputValue:o}=h,l=E.value,r=T.value;if(jg(t))h.inputValue="";else{let e=`${t}`;r&&(e=Hf(t,l),n||(e=`${sp.toNumber(e)}`)),e!==o&&(h.inputValue=e)}})(t),v.isUM=!1})),i((()=>e.type),(()=>{Object.assign(h,{inputValue:e.modelValue}),Q()})),f((()=>{Kp.on(_,"mousedown",fe),Kp.on(_,"keydown",he),Kp.on(_,"blur",ve)})),s((()=>{h.isFocus=!1,ue(),te(),Kp.off(_,"mousedown"),Kp.off(_,"keydown"),Kp.off(_,"blur")})),Q(),_},render(){return this.renderVN()}}),bb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(vb,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),xb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Wv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,data:o.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(vv,{title:lm("vxe.formDesign.widgetProp.required")},{default:()=>y(bv,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),wb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(th,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),yb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Wv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,data:o.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(vv,{title:lm("vxe.formDesign.widgetProp.required")},{default:()=>y(bv,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}}),Cb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(Uv,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder,resize:"node",onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Sb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Wv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})})]})}}}),Eb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,a=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${a}`],field:r.field,title:r.title,itemRender:{}},{default:()=>y(bv,{modelValue:t?t.getItemValue(r):null,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Db=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{renderDataSourceFormItem:t}=Kv(e,{isSubOption:!1}),{computeKebabCaseName:n}=Wv(e);return()=>{const{renderParams:o}=e,{widget:l}=o,r=n.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${r}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(vv,{title:lm("vxe.formDesign.widgetProp.multiple"),field:"multiple",itemRender:{name:"VxeSwitch"}}),t(),y(vv,{title:lm("vxe.formDesign.widgetProp.required")},{default:()=>y(bv,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})})]})}}}),Tb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r,isViewMode:a}=n,{options:i}=r,s=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${s}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(Vv,{modelValue:t?t.getItemValue(r):null,placeholder:i.placeholder||lm("vxe.base.pleaseSelect"),options:a?i.options:[],optionProps:{label:"value",value:"value"},onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Ob=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Wv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(vv,{title:lm("vxe.formDesign.widgetProp.multiple"),field:"multiple",itemRender:{name:"VxeSwitch"}}),y(vv,{title:lm("vxe.formDesign.widgetProp.required")},{default:()=>y(bv,{modelValue:o.required,"onUpdate:modelValue"(e){o.required=e}})})]})}}});function kb(){return sp.uniqueId("node_")}const Rb=p({name:"VxeTree",props:{data:Array,height:[String,Number],minHeight:{type:[String,Number],default:()=>Ap().tree.minHeight},loading:Boolean,loadingConfig:Object,accordion:{type:Boolean,default:()=>Ap().tree.accordion},childrenField:{type:String,default:()=>Ap().tree.childrenField},valueField:{type:String,default:()=>Ap().tree.valueField},keyField:{type:String,default:()=>Ap().tree.keyField},parentField:{type:String,default:()=>Ap().tree.parentField},titleField:{type:String,default:()=>Ap().tree.titleField},hasChildField:{type:String,default:()=>Ap().tree.hasChildField},mapChildrenField:{type:String,default:()=>Ap().tree.mapChildrenField},transform:Boolean,isCurrent:Boolean,isHover:Boolean,expandAll:Boolean,showLine:{type:Boolean,default:()=>Ap().tree.showLine},trigger:String,indent:{type:Number,default:()=>Ap().tree.indent},showRadio:{type:Boolean,default:()=>Ap().tree.showRadio},checkNodeKey:{type:[String,Number],default:()=>Ap().tree.checkNodeKey},radioConfig:Object,showCheckbox:{type:Boolean,default:()=>Ap().tree.showCheckbox},checkNodeKeys:{type:Array,default:()=>Ap().tree.checkNodeKeys},checkboxConfig:Object,nodeConfig:Object,lazy:Boolean,toggleMethod:Function,loadMethod:Function,showIcon:{type:Boolean,default:!0},iconOpen:{type:String,default:()=>Ap().tree.iconOpen},iconClose:{type:String,default:()=>Ap().tree.iconClose},iconLoaded:{type:String,default:()=>Ap().tree.iconLoaded},size:{type:String,default:()=>Ap().tree.size||Ap().size}},emits:["update:modelValue","update:checkNodeKey","update:checkNodeKeys","node-click","node-dblclick","current-change","radio-change","checkbox-change","load-success","load-error"],setup(e,n){const{emit:o,slots:l}=n,a=sp.uniqueId(),{computeSize:s}=Om(e),c=r(),u=m({currentNode:null,selectRadioKey:e.checkNodeKey,treeList:[],updateExpandedFlag:1,updateCheckboxFlag:1}),d={nodeMaps:{},selectCheckboxMaps:{},indeterminateRowMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{}},p={refElem:c},f=g((()=>e.titleField||"title")),v=g((()=>e.keyField||"id")),b=g((()=>{const t=v.value;return e.valueField||t})),x=g((()=>e.parentField||"parentId")),w=g((()=>e.childrenField||"children")),C=g((()=>e.mapChildrenField||"mapChildren")),S=g((()=>e.hasChildField||"hasChild")),E=g((()=>{const t=k.value,{isCurrent:n}=t;return sp.isBoolean(n)?n:e.isCurrent})),D=g((()=>{const t=k.value,{isHover:n}=t;return sp.isBoolean(n)?n:e.isHover})),T=g((()=>Object.assign({showIcon:!0},Ap().tree.radioConfig,e.radioConfig))),O=g((()=>Object.assign({showIcon:!0},Ap().tree.checkboxConfig,e.checkboxConfig))),k=g((()=>Object.assign({},Ap().tree.nodeConfig,e.nodeConfig))),R=g((()=>Object.assign({},Ap().tree.loadingConfig,e.loadingConfig))),I=g((()=>{const{height:t,minHeight:n}=e,o={};return t&&(o.height=dg(t)),n&&(o.minHeight=dg(n)),o})),M={computeRadioOpts:T,computeCheckboxOpts:O,computeNodeOpts:k},P={xID:a,props:e,context:n,internalData:d,reactData:u,getRefMaps:()=>p,getComputeMaps:()=>M},F=e=>{const t=b.value,n=sp.get(e,t);return sp.eqNull(n)?"":encodeURIComponent(n)},V=e=>{const{selectRadioKey:t}=u;return t===e},A=e=>{const{updateCheckboxFlag:t}=u,{selectCheckboxMaps:n}=d;return!(!t||!n[e])},$=e=>{const{updateCheckboxFlag:t}=u,{indeterminateRowMaps:n}=d;return!(!t||!n[e])},N=(e,n)=>{const{nodeMaps:o}=d;if(e){sp.isArray(e)||(e=[e]);const t=[];e.forEach((e=>{const n=o[e];n&&t.push(n.item)})),L(t,n)}return t()},L=(t,n)=>{const{transform:o}=e,{selectCheckboxMaps:l}=d,r=C.value,a=w.value,i=O.value,{checkStrictly:s}=i,c=e=>{const t=F(e);n?l[t]||(l[t]=e):l[t]&&delete l[t]};s?t.forEach(c):sp.eachTree(t,c,{children:o?r:a}),u.updateCheckboxFlag++,G()},_=(e,t,n)=>{t?n[e]||(n[e]=!0):n[e]&&delete n[e]},B=(e,t,n)=>{o(e,Gp(n,{$tree:P},t))},z={dispatchEvent:B,clearCurrentNode:()=>(u.currentNode=null,t()),getCurrentNodeId(){const{currentNode:e}=u;return e?F(e):null},getCurrentNode(){const{currentNode:e}=u,{nodeMaps:t}=d;if(e){const n=t[F(e)];if(n)return n.item}return null},setCurrentNodeId(e){const{nodeMaps:n}=d,o=n[e];return u.currentNode=o?o.item:null,t()},setCurrentNode:e=>(u.currentNode=e,t()),clearRadioNode:()=>(u.selectRadioKey=null,t()),getRadioNodeId:()=>u.selectRadioKey||null,getRadioNode(){const{selectRadioKey:e}=u,{nodeMaps:t}=d;if(e){const n=t[e];if(n)return n.item}return null},setRadioNodeId:e=>(u.selectRadioKey=e,t()),setRadioNode:e=>(e&&(u.selectRadioKey=F(e)),t()),setCheckboxNode:(e,n)=>(e&&(sp.isArray(e)||(e=[e]),L(e,n)),t()),setCheckboxByNodeId:N,getCheckboxNodeIds(){const{selectCheckboxMaps:e}=d;return Object.keys(e)},getCheckboxNodes(){const{nodeMaps:e,selectCheckboxMaps:t}=d,n=[];return sp.each(t,((t,o)=>{const l=e[o];l&&n.push(l.item)})),n},clearCheckboxNode:()=>(d.selectCheckboxMaps={},u.updateCheckboxFlag++,t()),setAllCheckboxNode(n){const{transform:o}=e,l={},r=w.value,a=C.value;return n&&sp.eachTree(u.treeList,(e=>{const t=F(e);l[t]=!0}),{children:o?a:r}),d.selectCheckboxMaps=l,u.updateCheckboxFlag++,t()},clearExpandNode:()=>z.clearAllExpandNode(),clearAllExpandNode(){const{nodeMaps:e}=d;return sp.each(e,(e=>{e.treeLoaded=!1})),d.treeExpandedMaps={},u.updateExpandedFlag++,t()},setExpandByNodeId(e,n){const{treeExpandedMaps:o}=d;return e&&(sp.isArray(e)||(e=[e]),e.forEach((e=>{_(e,n,o)})),u.updateExpandedFlag++),t()},getExpandNodeIds(){const{treeExpandedMaps:e}=d;return sp.keys(e)},getExpandNodes(){const{nodeMaps:e,treeExpandedMaps:t}=d,n=[];return sp.each(t,((t,o)=>{const l=e[o];l&&n.push(l.item)})),n},setExpandNode(e,n){const{treeExpandedMaps:o}=d;return e&&(sp.isArray(e)||(e=[e]),e.forEach((e=>{const t=F(e);_(t,n,o)})),u.updateExpandedFlag++),t()},toggleExpandByNodeId(e){const{treeExpandedMaps:n}=d;return e&&(sp.isArray(e)||(e=[e]),e.forEach((e=>{_(e,!n[e],n)})),u.updateExpandedFlag++),t()},toggleExpandNode(e){const{treeExpandedMaps:n}=d;return e&&(sp.isArray(e)||(e=[e]),e.forEach((e=>{const t=F(e);_(t,!n[t],n)})),u.updateExpandedFlag++),t()},setAllExpandNode(n){const{transform:o}=e,{treeExpandedMaps:l}=d,r=w.value,a=C.value;return n?sp.eachTree(u.treeList,(e=>{const t=sp.get(e,r);if(t&&t.length){const t=F(e);l[t]=!0}}),{children:o?a:r}):d.treeExpandedMaps={},u.updateExpandedFlag++,t()},reloadExpandNode(n){const{lazy:o}=e;return o?(z.clearExpandLoaded(n),q(n)):t()},clearExpandLoaded(n){const{lazy:o}=e,{nodeMaps:l}=d;if(o){const e=l[F(n)];e&&(e.treeLoaded=!1)}return t()},loadChildrenNode(t,n){const{lazy:o,transform:l}=e,{nodeMaps:r}=d;if(!o)return Promise.resolve([]);const a=w.value,i=r[F(t)],s=i?i.level:0,c=i?i.nodes:[];return(e=>{const t=b.value;return Promise.resolve(e.map((e=>{const n=Object.assign({},e);let o=F(n);return o||(o=kb(),sp.set(n,t,o)),n})))})(n).then((e=>(sp.eachTree(e,((e,n,o,l,a,u)=>{const d=F(e);r[d]={item:t,itemIndex:-1,items:o,parent:a||i.item,nodes:c.concat(u),level:s+u.length,lineCount:0,treeLoaded:!1}}),{children:a}),t[a]=e,l&&(t[a]=e),W(t),e)))},isExpandByNode:e=>{const{updateExpandedFlag:t}=u,{treeExpandedMaps:n}=d,o=F(e);return!(!t||!n[o])},isCheckedByRadioNodeId:V,isCheckedByRadioNode:e=>V(F(e)),isCheckedByCheckboxNodeId:A,isIndeterminateByCheckboxNode:e=>$(F(e)),isCheckedByCheckboxNode:e=>A(F(e)),getCheckboxIndeterminateNodes(){const{nodeMaps:e,indeterminateRowMaps:t}=d,n=[];return sp.each(t,((t,o)=>{const l=e[o];l&&n.push(l.item)})),n}},j=t=>{const{expandAll:n,transform:o}=e,{initialized:l}=d,r=v.value,a=x.value,i=C.value;u.treeList=o?sp.toArrayTree(t,{key:r,parentKey:a,mapChildren:i}):t?t.slice(0):[],(()=>{const{transform:t}=e,{treeList:n}=u,o=b.value,l=w.value,r=C.value,a={};sp.eachTree(n,((e,t,n,l,r,i)=>{let s=F(e);s||(s=kb(),sp.set(e,o,s)),a[s]={item:e,itemIndex:t,items:n,parent:r,nodes:i,level:i.length,lineCount:0,treeLoaded:!1}}),{children:t?r:l}),d.nodeMaps=a})(),l||t&&t.length&&(d.initialized=!0,n&&P.setAllExpandNode(!0),P.setCheckboxByNodeId(e.checkNodeKeys||[],!0))},H=(e,t,n)=>{const{treeExpandedMaps:o}=d,l=w.value,r=F(e);n.lineCount++,o[r]&&sp.arrayEach(e[l],((e,o,l)=>{(!t||o<l.length-1)&&H(e,!1,n)}))},W=e=>{const{nodeMaps:t}=d;if(e){const n=F(e),o=t[n];o&&sp.lastArrayEach(o.nodes,(e=>{const n=F(e),o=t[n];o&&(o.lineCount=0,H(e,!0,o))}))}},q=n=>{const o=O.value,{loadMethod:l}=e,{checkStrictly:r}=o;return new Promise((e=>{if(l){const{nodeMaps:e}=d,o=F(n),a=e[o];d.treeExpandLazyLoadedMaps[o]=!0,Promise.resolve(l({$tree:P,node:n})).then((e=>{const{treeExpandLazyLoadedMaps:l}=d;if(a.treeLoaded=!0,l[o]&&(l[o]=!1),sp.isArray(e)||(e=[]),e)return P.loadChildrenNode(n,e).then((l=>{const{treeExpandedMaps:a}=d;return l.length&&!a[o]&&(a[o]=!0),u.updateExpandedFlag++,!r&&P.isCheckedByCheckboxNodeId(o)&&L(l,!0),W(n),B("load-success",{node:n,data:e},new Event("load-success")),t()}));W(n),B("load-success",{node:n,data:e},new Event("load-success"))})).catch((e=>{const{treeExpandLazyLoadedMaps:t}=d;a.treeLoaded=!1,t[o]&&(t[o]=!1),W(n),B("load-error",{node:n,data:e},new Event("load-error"))})).finally((()=>t()))}else e()}))},U=(t,n)=>{const{lazy:o}=e,{treeExpandedMaps:l,treeExpandLazyLoadedMaps:r}=d,a=F(n),i=!l[a];t.stopPropagation(),o&&r[a]||((t,n)=>{const{lazy:o,accordion:l,toggleMethod:r}=e,{treeExpandLazyLoadedMaps:a,treeExpandedMaps:i}=d,{nodeMaps:s}=d,c=w.value,p=S.value,m=[];let g=r?t.filter((e=>r({$tree:P,expanded:n,node:e}))):t;if(l){g=g.length?[g[g.length-1]]:[];const e=F(g[0]),t=s[e];t&&t.items.forEach((e=>{const t=F(e);i[t]&&delete i[t]}))}const f=[];n?g.forEach((e=>{const t=F(e);if(!i[t]){const n=s[t];o&&e[p]&&!n.treeLoaded&&!a[t]?m.push(q(e)):e[c]&&e[c].length&&(i[t]=!0,f.push(e))}})):g.forEach((e=>{const t=F(e);i[t]&&(delete i[t],f.push(e))})),u.updateExpandedFlag++,f.forEach(W),Promise.all(m)})([n],i)},G=()=>{const{transform:t}=e,{treeList:n}=u,{selectCheckboxMaps:o,indeterminateRowMaps:l}=d,r=w.value,a=C.value,i=O.value,{checkStrictly:s,checkMethod:c}=i;if(!s){const e={},i=[];sp.eachTree(n,(t=>{const n=F(t),o=t[r];o&&o.length&&!e[n]&&(e[n]=1,i.unshift([t,n,o]))}),{children:t?a:r}),i.forEach((e=>{const t=e[0],n=e[1],r=e[2];let a=0,i=0,s=0;r.forEach(c?e=>{const t=F(e),n=o[t];c({node:e})?(n?a++:l[t]&&i++,s++):n?a++:l[t]&&i++}:e=>{const t=F(e);o[t]?a++:l[t]&&i++,s++});const u=a>=s,d=!u&&(a>=1||i>=1);u?(o[n]=t,l[n]&&delete l[n]):(o[n]&&delete o[n],d?l[n]=t:l[n]&&delete l[n])})),u.updateCheckboxFlag++}},K=(t,n)=>{t.preventDefault(),t.stopPropagation();const{transform:l}=e,{selectCheckboxMaps:r}=d,a=w.value,i=C.value,s=O.value,{checkStrictly:c,checkMethod:p}=s;let m=!!p;if(p&&(m=!p({node:n})),m)return;const g=F(n);let f=!1;r[g]?delete r[g]:(f=!0,r[g]=n),c||sp.eachTree(sp.get(n,a),(e=>{const t=F(e);f?r[t]||(r[t]=!0):r[t]&&delete r[t]}),{children:l?i:a}),u.updateCheckboxFlag++,G();const h=sp.keys(r);(e=>{o("update:checkNodeKeys",e)})(h),B("checkbox-change",{node:n,value:h,checked:f},t)},Y=(e,t)=>{e.preventDefault();const n=k.value,{currentMethod:o,trigger:l}=n,r=w.value,a=sp.get(t,r),i=a&&a.length;let s=!!o;if("child"===l){if(i)return}else if("parent"===l&&!i)return;if(o&&(s=!o({node:t})),s)return;u.currentNode=t,B("current-change",{node:t,checked:!0},e)},X=(e,t)=>{e.preventDefault(),e.stopPropagation();const n=T.value,{checkMethod:l}=n;let r=!!l;if(l&&(r=!l({node:t})),r)return;const a=F(t);u.selectRadioKey=a,(e=>{o("update:checkNodeKey",e)})(a),B("radio-change",{node:t,value:a,checked:!0},e)};Object.assign(P,z,{});const Z=(t,n,o)=>{const{showRadio:l}=e,r=T.value,{showIcon:a,checkMethod:i,visibleMethod:s}=r,c=!s||s({node:t});let u=!!i;return l&&a&&c?(i&&(u=!i({node:t})),y("div",{class:["vxe-tree--radio-option",{"is--checked":o,"is--disabled":u}],onClick:e=>{u||X(e,t)}},[y("span",{class:["vxe-radio--icon",o?_p().RADIO_CHECKED:_p().RADIO_UNCHECKED]})])):Am()},Q=(t,n,o)=>{const{showCheckbox:l}=e,r=O.value,{showIcon:a,checkMethod:i,visibleMethod:s}=r,c=$(n),u=!s||s({node:t});let d=!!i;return l&&a&&u?(i&&(d=!i({node:t})),y("div",{class:["vxe-tree--checkbox-option",{"is--checked":o,"is--indeterminate":c,"is--disabled":d}],onClick:e=>{d||K(e,t)}},[y("span",{class:["vxe-checkbox--icon",c?_p().CHECKBOX_INDETERMINATE:o?_p().CHECKBOX_CHECKED:_p().CHECKBOX_UNCHECKED]})])):Am()},J=t=>{const{lazy:n,showRadio:o,showCheckbox:r,showLine:a,indent:i,iconOpen:s,iconClose:c,iconLoaded:p,showIcon:m}=e,{currentNode:g,selectRadioKey:h,updateExpandedFlag:v}=u,{nodeMaps:b,treeExpandedMaps:x,treeExpandLazyLoadedMaps:C}=d,D=w.value,k=f.value,R=S.value,I=sp.get(t,D),M=I&&I.length,P=l.icon,V=l.title,$=l.extra,N=F(t),L=v&&x[N],_=b[N],z=sp.get(t,k),j=[];M&&x[N]&&(a&&j.push(y("div",{key:"line",class:"vxe-tree--node-child-line",style:{height:`calc(${_.lineCount} * var(--vxe-ui-tree-node-height) - var(--vxe-ui-tree-node-height) / 2)`,left:(_.level+1)*(i||1)+"px"}})),I.forEach((e=>{j.push(J(e))})));let H=!1;o&&(H=N==h);let W=!1;r&&(W=A(N));let q=!1,G=!1,ee=!1;return n&&(G=!!C[N],q=t[R],ee=!!_.treeLoaded),y("div",{class:["vxe-tree--node-wrapper",`node--level-${_.level}`],nodeid:N},[y("div",{class:["vxe-tree--node-item",{"is--current":g&&N===F(g),"is-radio--checked":H,"is-checkbox--checked":W}],style:{paddingLeft:(_.level-1)*(i||1)+"px"},onClick(n){((t,n)=>{const{showRadio:o,showCheckbox:l,trigger:r}=e,a=T.value,i=O.value;let s=!1,c=!1,d=!1,p=!1;E.value?(s=!0,Y(t,n)):u.currentNode&&(u.currentNode=null),"node"===r&&(p=!0,U(t,n)),o&&"node"===a.trigger&&(c=!0,X(t,n)),l&&"node"===i.trigger&&(d=!0,K(t,n)),B("node-click",{node:n,triggerCurrent:s,triggerRadio:c,triggerCheckbox:d,triggerExpand:p},t)})(n,t)},onDblclick(e){((e,t)=>{B("node-dblclick",{node:t},e)})(e,t)}},[m||a?y("div",{class:"vxe-tree--node-item-switcher"},m&&(n?ee?M:q:M)?[y("div",{class:"vxe-tree--node-item-icon",onClick(e){U(e,t)}},P?P({node:t,isExpand:L}):[y("i",{class:G?p||_p().TREE_NODE_LOADED:L?s||_p().TREE_NODE_OPEN:c||_p().TREE_NODE_CLOSE})])]:[]):Am(),Z(t,0,H),Q(t,N,W),y("div",{class:"vxe-tree--node-item-inner"},[y("div",{class:"vxe-tree--node-item-title"},V?Zm(V({node:t,isExpand:L})):`${z}`),$?y("div",{class:"vxe-tree--node-item-extra"},Zm($({node:t,isExpand:L}))):Am()])]),M&&x[N]?y("div",{class:"vxe-tree--node-child-wrapper"},j):Am()])},ee=()=>{const{treeList:e}=u;return y("div",{class:"vxe-tree--node-list-wrapper"},e.map((e=>J(e))))},te=r(0);i((()=>e.data?e.data.length:0),(()=>{te.value++})),i((()=>e.data),(()=>{te.value++})),i(te,(()=>{j(e.data||[])})),i((()=>e.checkNodeKey),(e=>{u.selectRadioKey=e}));const ne=r(0);return i((()=>e.checkNodeKeys?e.checkNodeKeys.length:0),(()=>{ne.value++})),i((()=>e.checkNodeKeys),(()=>{ne.value++})),i(ne,(()=>{var t;t=e.checkNodeKeys||[],N(t,!0)})),h((()=>{u.treeList=[],d.treeExpandedMaps={},d.indeterminateRowMaps={},d.nodeMaps={}})),j(e.data||[]),P.renderVN=()=>{const{loading:t,trigger:n,showLine:o}=e,r=s.value,a=T.value,i=O.value,u=I.value,d=R.value,p=D.value,m=l.loading;return y("div",{ref:c,class:["vxe-tree",{[`size--${r}`]:r,"show--line":o,"checkbox--highlight":i.highlight,"radio--highlight":a.highlight,"node--hover":p,"node--trigger":"node"===n,"is--loading":t}],style:u},[ee(),y(sf,{class:"vxe-tree--loading",modelValue:t,icon:d.icon,text:d.text},m?{default:()=>m({$tree:P})}:{})])},P},render(){return this.renderVN()}});const Ib=p({name:"VxeTreeSelect",props:{modelValue:[String,Number,Array],clearable:Boolean,placeholder:{type:String,default:()=>sp.eqNull(Ap().treeSelect.placeholder)?lm("vxe.base.pleaseSelect"):Ap().treeSelect.placeholder},readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,className:[String,Function],popupClassName:[String,Function],prefixIcon:String,placement:String,options:Array,optionProps:Object,size:{type:String,default:()=>Ap().select.size||Ap().size},remote:Boolean,remoteMethod:Function,popupConfig:Object,treeConfig:Object,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","blur","focus","click","node-click"],setup(e,o){const{emit:l,slots:a}=o,s=n("$xeModal",null),c=n("$xeDrawer",null),u=n("$xeTable",null),d=n("$xeForm",null),p=n("xeFormItemInfo",null),v=sp.uniqueId(),{computeSize:x}=Om(e),w=r(),C=r(),E=r(),D=r(),T=m({initialized:!1,fullOptionList:[],fullNodeMaps:{},panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),O={hpTimeout:void 0},k={refElem:w},R=g((()=>{const{readonly:t}=e;return null===t?!!d&&d.props.readonly:t})),I=g((()=>{const{disabled:t}=e;return null===t?!!d&&d.props.disabled:t})),M=g((()=>{const{transfer:t}=e;if(null===t){const e=Ap().select.transfer;if(sp.isBoolean(e))return e;if(u||s||c||d)return!0}return t})),P=g((()=>Object.assign({},Ap().treeSelect.popupConfig,e.popupConfig))),F=g((()=>Object.assign({},Ap().treeSelect.treeConfig,e.treeConfig,{data:void 0}))),V=g((()=>{const e=F.value;return Object.assign({isHover:!0},e.nodeConfig)})),A=g((()=>{const e=F.value;return Object.assign({showIcon:!!e.showCheckbox},e.checkboxConfig,{trigger:"node"})})),$=g((()=>{const e=F.value;return Object.assign({showIcon:!!e.showRadio},e.radioConfig,{trigger:"node"})})),N=g((()=>e.optionProps||{})),L=g((()=>F.value.keyField||"id")),_=g((()=>N.value.label||"label")),B=g((()=>N.value.value||"value")),z=g((()=>N.value.children||"children")),j=g((()=>N.value.parent||"parentField")),H=g((()=>N.value.hasChild||"hasChild")),W=g((()=>{const{modelValue:t}=e,{fullNodeMaps:n}=T,o=_.value;return(sp.isArray(t)?t:[t]).map((e=>{const t=n[e];return t?t.item[o]:e})).join(", ")})),q=g((()=>{const e=P.value,{height:t,width:n}=e,o={};return n&&(o.width=dg(n)),t&&(o.height=dg(t),o.maxHeight=dg(t)),o})),U={},G={xID:v,props:e,context:o,reactData:T,internalData:O,getRefMaps:()=>k,getComputeMaps:()=>U},K=(e,t,n)=>{l(e,Gp(n,{$treeSelect:G},t))},Y={dispatchEvent:K},X=()=>{const{options:t}=e,n=L.value,o=z.value,l=B.value,r={},a={};sp.eachTree(t,((e,t,o,i,s,c)=>{let u=(e=>{const t=e[L.value];return t?encodeURIComponent(t):""})(e);u||(u=sp.uniqueId("node_")),a[u]&&Hm("vxe.error.repeatKey",[n,u]),a[u]=!0;const d=e[l];r[d]&&Hm("vxe.error.repeatKey",[l,d]),r[d]={item:e,index:t,items:o,parent:s,nodes:c}}),{children:o}),T.fullOptionList=t||[],T.fullNodeMaps=r},Z=()=>{const{placement:n}=e,{panelIndex:o}=T,l=w.value,r=D.value,a=M.value,i=()=>{const e=bg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});T.panelStyle=t,T.panelPlacement=e.placement};return i(),t().then(i)},Q=()=>{const{loading:t}=e,n=I.value;t||n||(clearTimeout(O.hpTimeout),T.initialized||(T.initialized=!0),T.isActivated=!0,T.isAniVisible=!0,setTimeout((()=>{T.visiblePanel=!0}),10),T.panelIndex<_g()&&(T.panelIndex=Lg()),Z())},J=()=>{T.visiblePanel=!1,O.hpTimeout=setTimeout((()=>{T.isAniVisible=!1}),350)},ee=(t,n)=>{const{fullNodeMaps:o}=T;if(l("update:modelValue",n),n!==e.modelValue){const e=o[n];K("change",{value:n,option:e?e.item:null},t),d&&p&&d.triggerItemEvent(t,p.itemConfig.field,n)}},te=(e,t)=>{((e,t)=>{ee(e,t),K("clear",{value:t},e)})(t,null),J()},ne=e=>{const{visiblePanel:t}=T;if(!I.value&&t){mg(e,D.value).flag?Z():J()}},oe=e=>{const{visiblePanel:t}=T;if(!I.value){const n=w.value,o=D.value;T.isActivated=mg(e,n).flag||mg(e,o).flag,t&&!T.isActivated&&J()}},le=()=>{J()},re=e=>{I.value||T.visiblePanel||(T.triggerFocusPanel=!0,Q(),setTimeout((()=>{T.triggerFocusPanel=!1}),150)),K("focus",{},e)},ae=e=>{se(e),K("click",{},e)},ie=e=>{T.isActivated=!1,K("blur",{},e)},se=e=>{const{$event:t}=e;t.preventDefault(),T.triggerFocusPanel?T.triggerFocusPanel=!1:T.visiblePanel?J():Q()},ce=e=>{const{$event:t}=e;K("node-click",e,t)},ue=e=>{const{value:t,$event:n}=e;ee(n,t),J()},de=e=>{const{value:t,$event:n}=e;ee(n,t)},pe=()=>{X()};Object.assign(G,Y,{});return i((()=>e.options),(()=>{X()})),X(),f((()=>{Kp.on(G,"mousewheel",ne),Kp.on(G,"mousedown",oe),Kp.on(G,"blur",le)})),h((()=>{Kp.off(G,"mousewheel"),Kp.off(G,"mousedown"),Kp.off(G,"blur")})),b("$xeTreeSelect",G),G.renderVN=()=>{const{className:t,modelValue:n,multiple:o,options:l,loading:r}=e,{initialized:i,isActivated:s,isAniVisible:c,visiblePanel:u}=T,d=x.value,p=I.value,m=W.value,g=M.value,f=R.value,h=q.value,v=a.header,b=a.footer,O=a.prefix,k=P.value.className||e.popupClassName,N=F.value,U=V.value,K=A.value,Y=$.value,X=L.value,Z=_.value,Q=B.value,J=z.value,ee=j.value,ne=H.value;return f?y("div",{ref:w,class:["vxe-tree-select--readonly",t]},[y("span",{class:"vxe-tree-select-label"},m)]):y("div",{ref:w,class:["vxe-tree-select",t?sp.isFunction(t)?t({$treeSelect:G}):t:"",{[`size--${d}`]:d,"is--visible":u,"is--disabled":p,"is--loading":r,"is--active":s}]},[y(Wf,{ref:C,clearable:e.clearable,placeholder:r?lm("vxe.select.loadingText"):e.placeholder,readonly:!0,disabled:p,type:"text",prefixIcon:e.prefixIcon,suffixIcon:r?_p().TREE_SELECT_LOADED:u?_p().TREE_SELECT_OPEN:_p().TREE_SELECT_CLOSE,modelValue:r?"":m,onClear:te,onClick:ae,onFocus:re,onBlur:ie,onSuffixClick:se},O?{prefix:()=>O({})}:{}),y(S,{to:"body",disabled:!g||!i},[y("div",{ref:D,class:["vxe-table--ignore-clear vxe-tree-select--panel",k?sp.isFunction(k)?k({$treeSelect:G}):k:"",{[`size--${d}`]:d,"is--transfer":g,"ani--leave":!r&&c,"ani--enter":!r&&u}],placement:T.panelPlacement,style:T.panelStyle},i?[y("div",{class:"vxe-tree-select--panel-wrapper"},[v?y("div",{class:"vxe-tree-select--panel-header"},v({})):Am(),y("div",{class:"vxe-tree-select--panel-body"},[y("div",{ref:E,class:"vxe-tree-select-tree--wrapper",style:h},[y(Rb,{class:"vxe-tree-select--tree",data:l,indent:N.indent,showRadio:!o,radioConfig:Y,checkNodeKey:o?null:n,showCheckbox:!!o,checkNodeKeys:o?n:null,checkboxConfig:K,titleField:Z,valueField:Q,keyField:X,childrenField:N.childrenField||J,parentField:N.parentField||ee,hasChildField:N.hasChildField||ne,accordion:N.accordion,expandAll:N.expandAll,nodeConfig:U,lazy:N.lazy,loadMethod:N.loadMethod,toggleMethod:N.toggleMethod,transform:N.transform,trigger:N.trigger,showIcon:N.showIcon,showLine:N.showLine,iconOpen:N.iconOpen,iconLoaded:N.iconLoaded,iconClose:N.iconClose,onNodeClick:ce,onRadioChange:ue,onCheckboxChange:de,onLoadSuccess:pe})])]),b?y("div",{class:"vxe-tree-select--panel-footer"},b({})):Am()])]:[])])])},G},render(){return this.renderVN()}}),Mb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(Ib,{modelValue:t?t.getItemValue(r):null,placeholder:a.placeholder||lm("vxe.base.pleaseSelect"),options:a.options,optionProps:{label:"value",value:"value"},onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Pb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{renderDataSourceFormItem:t}=Kv(e,{isSubOption:!1}),{computeKebabCaseName:n}=Wv(e);return()=>{const{renderParams:o}=e,{widget:l}=o,r=n.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${r}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(vv,{title:lm("vxe.formDesign.widgetProp.required")},{default:()=>y(bv,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})}),t()]})}}}),Fb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(Pv,{modelValue:t?t.getItemValue(r):null,options:a.options,optionProps:{label:"value",value:"value"},onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Vb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{renderDataSourceFormItem:t}=Kv(e,{isSubOption:!1}),{computeKebabCaseName:n}=Wv(e);return()=>{const{renderParams:o}=e,{widget:l}=o,r=n.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${r}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:l.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.placeholder"),field:"placeholder",itemRender:{name:"VxeInput"}}),y(vv,{title:lm("vxe.formDesign.widgetProp.required")},{default:()=>y(bv,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})}),t()]})}}}),Ab=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(yf,{modelValue:t?t.getItemValue(r):null,options:a.options,optionProps:{label:"value",value:"value"},onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}});function $b(){const e=[{label:"",value:""}];return[1,2,5,10,20,50,100,200,500].forEach((t=>{e.push({label:`${t}M`,value:t})})),e}const Nb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Wv(e),n=r($b());return()=>{const{renderParams:o}=e,{widget:l}=o,{options:r}=l,a=t.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${a}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:r},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.uploadProp.multiFile"),field:"multiple",itemRender:{name:"VxeSwitch"}}),r.multiple?y(vv,{title:lm("vxe.formDesign.widgetProp.uploadProp.limitFileCount"),field:"limitCount",itemRender:{name:"VxeInput",props:{type:"integer",min:1,clearable:!0}}}):x(),y(vv,{title:lm("vxe.formDesign.widgetProp.uploadProp.limitFileSize"),field:"limitSize",itemRender:{name:"VxeSelect",options:n.value}}),y(vv,{title:lm("vxe.formDesign.widgetProp.required")},{default:()=>y(bv,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})})]})}}});let Lb=null,_b=null;function Bb(e){const t=e.name,n=sp.lastIndexOf(t,"."),o=t.substring(n+1,t.length).toLowerCase();return{filename:t.substring(0,n),type:o}}const zb=e=>{const t=Object.assign({},e);return new Promise(((e,n)=>{_b||(_b=document.createElement("input"),_b.name="file",_b.type="file"),Lb||(Lb=document.createElement("form"),Lb.style.display="none",Lb.appendChild(_b),document.body.appendChild(Lb));const o=t.types||[],l=!o.length||o.some((e=>"*"===e));_b.multiple=!!t.multiple,_b.accept=l?"":`.${o.join(", .")}`,_b.onchange=r=>{const a=r.target,i=Array.from(a.files||[]),s=i[0];let c="";if(!l)for(let e=0;e<i.length;e++){const{type:t}=Bb(i[e]);if(!sp.includes(o,t)){c=t;break}}if(c){!1!==t.message&&$m.modal&&$m.modal.message({content:lm("vxe.error.notType",[c]),status:"error"});n({status:!1,files:i,file:s})}else e({status:!0,files:i,file:s})},Lb.reset(),_b.click()}))};const jb=e=>{const t=Object.assign({type:""},e),{filename:n,type:o,content:l}=t,r=o?`${n}.${o}`:`${n}`;if(window.Blob){const e=l instanceof Blob?l:function(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}(sp.toValueString(l),t),n=window.navigator;if(n.msSaveBlob)n.msSaveBlob(e,r);else{const t=URL.createObjectURL(e),n=document.createElement("a");n.target="_blank",n.download=r,n.href=t,document.body.appendChild(n),n.click(),requestAnimationFrame((()=>{n.parentNode&&n.parentNode.removeChild(n),URL.revokeObjectURL(t)}))}return Promise.resolve()}return Promise.reject(new Error(lm("vxe.error.notExp")))},Hb=p({name:"VxeUpload",props:{modelValue:[Array,String,Object],showList:{type:Boolean,default:()=>Ap().upload.showList},moreConfig:Object,readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},mode:{type:String,default:()=>Ap().upload.mode},imageTypes:{type:Array,default:()=>sp.clone(Ap().upload.imageTypes,!0)},imageConfig:{type:Object,default:()=>sp.clone(Ap().upload.imageConfig,!0)},imageStyle:{type:Object,default:()=>sp.clone(Ap().upload.imageStyle,!0)},fileTypes:{type:Array,default:()=>sp.clone(Ap().upload.fileTypes,!0)},dragSort:Boolean,dragToUpload:{type:Boolean,default:()=>sp.clone(Ap().upload.dragToUpload,!0)},pasteToUpload:{type:Boolean,default:()=>sp.clone(Ap().upload.pasteToUpload,!0)},keyField:String,singleMode:Boolean,urlMode:Boolean,multiple:Boolean,limitSize:{type:[String,Number],default:()=>Ap().upload.limitSize},showLimitSize:{type:Boolean,default:()=>Ap().upload.showLimitSize},limitSizeText:{type:[String,Number,Function],default:()=>Ap().upload.limitSizeText},limitCount:{type:[String,Number],default:()=>Ap().upload.limitCount},showLimitCount:{type:Boolean,default:()=>Ap().upload.showLimitCount},limitCountText:{type:[String,Number,Function],default:()=>Ap().upload.limitCountText},nameField:{type:String,default:()=>Ap().upload.nameField},typeField:{type:String,default:()=>Ap().upload.typeField},urlField:{type:String,default:()=>Ap().upload.urlField},sizeField:{type:String,default:()=>Ap().upload.sizeField},showErrorStatus:{type:Boolean,default:()=>Ap().upload.showErrorStatus},showProgress:{type:Boolean,default:()=>Ap().upload.showProgress},progressText:{type:[String,Number,Function],default:()=>Ap().upload.progressText},autoHiddenButton:{type:Boolean,default:()=>Ap().upload.autoHiddenButton},showUploadButton:{type:Boolean,default:()=>Ap().upload.showUploadButton},buttonText:{type:[String,Number,Function],default:()=>Ap().upload.buttonText},buttonIcon:{type:String,default:()=>Ap().upload.buttonIcon},showButtonText:{type:Boolean,default:()=>Ap().upload.showButtonText},showButtonIcon:{type:Boolean,default:()=>Ap().upload.showButtonIcon},showRemoveButton:{type:Boolean,default:()=>Ap().upload.showRemoveButton},showDownloadButton:{type:Boolean,default:()=>Ap().upload.showDownloadButton},showPreview:{type:Boolean,default:()=>Ap().upload.showPreview},showTip:{type:Boolean,default:()=>null},tipText:[String,Number,Function],hintText:String,previewMethod:Function,uploadMethod:Function,beforeRemoveMethod:Function,removeMethod:Function,beforeDownloadMethod:Function,downloadMethod:Function,getUrlMethod:Function,getThumbnailUrlMethod:Function,size:{type:String,default:()=>Ap().upload.size||Ap().size}},emits:["update:modelValue","add","remove","remove-fail","download","download-fail","upload-success","upload-error","sort-dragend"],setup(e,t){const{emit:o,slots:l}=t,a=n("$xeForm",null),s=n("xeFormItemInfo",null),c=n("$xeTable",null),u=sp.uniqueId(),{computeSize:d}=Om(e),p=r(),v=r(),b=r(),x=r(),w=m({isDragUploadStatus:!1,showMorePopup:!1,isActivated:!1,fileList:[],fileCacheMaps:{},isDragMove:!1,dragIndex:-1,dragTipText:""}),C={imagePreviewTypes:["jpg","jpeg","png","gif"],prevDragIndex:-1},S={refElem:p},D=g((()=>{const{readonly:t}=e;return null===t?!!a&&a.props.readonly:t})),T=g((()=>{const{disabled:t}=e;return null===t?!!a&&a.props.disabled:t})),O=g((()=>e.keyField||"_X_KEY")),k=g((()=>"image"===e.mode)),R=g((()=>e.nameField||"name")),I=g((()=>e.typeField||"type")),M=g((()=>e.urlField||"url")),P=g((()=>e.sizeField||"size")),F=g((()=>1024*sp.toNumber(e.limitSize)*1024)),V=g((()=>e.multiple?sp.toNumber(e.limitCount):1)),A=g((()=>{const{multiple:t}=e,{fileList:n}=w,o=V.value;return t?!o||n.length>=o:n.length>=1})),$=g((()=>{const t=sp.toNumber(e.limitSize);return t?t>1048576?t/1048576+"T":t>1024?t/1024+"G":`${t}M`:""})),N=g((()=>{const{showTip:t,tipText:n}=e;if(sp.isBoolean(t))return t;const o=Ap().upload.showTip;return sp.isBoolean(o)?o:!!n})),L=g((()=>{const{limitSize:t,fileTypes:n,multiple:o,limitCount:l}=e,r=e.tipText||e.hintText,a=k.value,i=$.value;if(sp.isString(r))return r;if(sp.isFunction(r))return`${r({})}`;const s=[];return a?(o&&l&&s.push(lm("vxe.upload.imgCountHint",[l])),t&&i&&s.push(lm("vxe.upload.imgSizeHint",[i]))):(n&&n.length&&s.push(lm("vxe.upload.fileTypeHint",[n.join("/")])),t&&i&&s.push(lm("vxe.upload.fileSizeHint",[i])),o&&l&&s.push(lm("vxe.upload.fileCountHint",[l]))),s.join(lm("vxe.base.comma"))})),_=g((()=>Object.assign({},e.imageConfig||e.imageStyle))),B=g((()=>{const e=_.value,{width:t,height:n}=e,o={};return t&&(o.width=dg(t)),n&&(o.height=dg(n)),o})),z=g((()=>Object.assign({showMoreButton:!0},e.moreConfig))),j={},H={xID:u,props:e,context:t,reactData:w,internalData:C,getRefMaps:()=>S,getComputeMaps:()=>j},W=()=>sp.uniqueId(),q=e=>e[O.value],U=()=>{const{modelValue:t,multiple:n}=e,o=D.value,l=O.value,r=R.value,a=I.value,i=M.value,s=P.value,c=t?(t?sp.isArray(t)?t:[t]:[]).map((e=>{if(!e||sp.isString(e)){const t=`${e||""}`,n=sp.parseUrl(e),o=(n?n.searchQuery[r]:"")||G(t);return{[r]:o,[a]:(n?n.searchQuery[a]:"")||K(o),[i]:t,[s]:sp.toNumber(n?n.searchQuery[s]:0)||0,[l]:W()}}const t=e[r]||"";return e[r]=t,e[a]=e[a]||K(t),e[i]=e[i]||"",e[s]=e[s]||0,e[l]=e[l]||W(),e})):[];w.fileList=o||n?c:c.slice(0,1)},G=e=>decodeURIComponent(`${e||""}`).split("/").pop()||"",K=e=>{const t=e.lastIndexOf(".");return t>0?e.substring(t+1).toLowerCase():""},Y=(e,t,n)=>{o(e,Gp(n,{$upload:H},t))},X=t=>{const{singleMode:n,urlMode:l}=e,r=M.value,a=R.value;let i=t?t.slice(0):[];l&&(i=i.map((e=>{const t=e[r];if(t){if(!sp.parseUrl(t).searchQuery[a])return`${t}${-1===t.indexOf("?")?"?":"&"}${a}=${encodeURIComponent(e[a]||"")}`}return t}))),o("update:modelValue",n?i[0]||null:i)},Z=t=>{const n=e.getThumbnailUrlMethod||Ap().upload.getThumbnailUrlMethod;return n?n({$upload:H,option:t}):Q(t)},Q=t=>{const n=e.getUrlMethod||Ap().upload.getUrlMethod,o=M.value;return n?n({$upload:H,option:t}):t[o]},J=(t,n)=>{const o=e.previewMethod||Ap().upload.previewMethod;e.showPreview&&(o?o({$upload:H,option:n}):(t=>{const{imageTypes:n,showDownloadButton:o}=e,l=I.value,r=e.beforeDownloadMethod||Ap().upload.beforeDownloadMethod,{imagePreviewTypes:a}=C;a.concat(n||[]).some((e=>`${e}`.toLowerCase()===`${t[l]}`.toLowerCase()))&&$m.previewImage&&$m.previewImage({urlList:[Q(t)],showDownloadButton:o,beforeDownloadMethod:r?()=>r({$upload:H,option:t}):void 0})})(n))},ee=(t,n)=>{const{showErrorStatus:o}=e,l=q(t),r=e.uploadMethod||Ap().upload.uploadMethod;if(r)return Promise.resolve(r({$upload:H,file:n,option:t,updateProgress(e){const{fileCacheMaps:n}=w,o=n[q(t)];o&&(o.percent=Math.max(0,Math.min(99,sp.toNumber(e))))}})).then((e=>{const{fileCacheMaps:n}=w,o=n[l];o&&(o.percent=100),Object.assign(t,e),Y("upload-success",{option:t,data:e},null)})).catch((e=>{const{fileCacheMaps:n}=w,r=n[l];r&&(r.status="error"),o?Object.assign(t,e):w.fileList=w.fileList.filter((e=>q(e)!==l)),Y("upload-error",{option:t,data:e},null)})).finally((()=>{const{fileCacheMaps:e}=w,t=e[l];t&&(t.loading=!1)}));{const{fileCacheMaps:e}=w,t=e[l];t&&(t.loading=!1)}return Promise.resolve()},te=t=>{const{uploadMethod:n,urlMode:o}=e,{fileCacheMaps:l}=w,r=l[q(t)];if((n||Ap().upload.uploadMethod)&&r){const e=r.file;r.loading=!0,r.status="",r.percent=0,ee(t,e).then((()=>{o&&X(w.fileList)}))}},ne=(t,n)=>{const{multiple:o,urlMode:l,showLimitSize:r,limitSizeText:i,showLimitCount:c,limitCountText:u}=e,{fileList:d}=w,p=e.uploadMethod||Ap().upload.uploadMethod,g=O.value,f=R.value,h=I.value,v=M.value,b=P.value,x=F.value,C=V.value,S=$.value;let E=t;if(o&&C){if(c&&d.length>=C)return void($m.modal&&$m.modal.notification({title:lm("vxe.modal.errTitle"),status:"error",content:u?`${sp.isFunction(u)?u({maxCount:C}):u}`:lm("vxe.upload.overCountErr",[C])}));const e=E.length-(C-d.length);if(c&&e>0){const t=E.slice(C-d.length);u?$m.modal.notification({title:lm("vxe.modal.errTitle"),status:"error",content:`${sp.isFunction(u)?u({maxCount:C}):u}`}):$m.modal&&$m.modal.notification({title:lm("vxe.modal.errTitle"),status:"error",width:null,slots:{default:()=>y("div",{class:"vxe-upload--file-message-over-error"},[y("div",{},lm("vxe.upload.overCountExtraErr",[C,e])),y("div",{class:"vxe-upload--file-message-over-extra"},t.map(((e,t)=>y("div",{key:t,class:"vxe-upload--file-message-over-extra-item"},e.name))))])}})}E=E.slice(0,C-d.length)}if(r&&x)for(let e=0;e<t.length;e++){if(t[0].size>x)return void($m.modal&&$m.modal.notification({title:lm("vxe.modal.errTitle"),status:"error",content:i?`${sp.isFunction(i)?i({maxSize:x}):i}`:lm("vxe.upload.overSizeErr",[S])}))}const D=Object.assign({},w.fileCacheMaps),T=o?d:[],k=[];E.forEach((e=>{const{name:t}=e,o=W(),l={[f]:t,[h]:K(t),[b]:e.size,[v]:URL.createObjectURL(e),[g]:o};p&&(D[o]={file:e,loading:!0,status:"",percent:0});const r=m(l);p&&k.push(ee(r,e)),T.push(r),Y("add",{option:r},n)})),w.fileList=T,w.fileCacheMaps=D,Promise.all(l?k:[]).then((()=>{X(T),a&&s&&a.triggerItemEvent(n,s.itemConfig.field,T)}))},oe=t=>{const{multiple:n,imageTypes:o,fileTypes:l}=e,r=T.value,a=k.value;return r?Promise.resolve({status:!1,files:[],file:null}):zb({multiple:n,types:a?o:l}).then((e=>(ne(e.files,t),e)))},le=e=>{oe(e).catch((()=>{}))},re=(e,t,n)=>{const{fileList:o}=w;o.splice(n,1),X(o),a&&s&&a.triggerItemEvent(e,s.itemConfig.field,o),Y("remove",{option:t},e)},ae=(t,n,o)=>{const l=e.beforeRemoveMethod||Ap().upload.beforeRemoveMethod,r=e.removeMethod||Ap().upload.removeMethod;Promise.resolve(!l||l({$upload:H,option:n})).then((e=>{e?r?Promise.resolve(r({$upload:H,option:n})).then((()=>{re(t,n,o)})).catch((e=>e)):re(t,n,o):Y("remove-fail",{option:n},t)}))},ie=(e,t)=>{Y("download",{option:t},e)},se=e=>{const t=e.currentTarget,{clientX:n,clientY:o}=e;if(t){const{x:e,y:l,height:r,width:a}=t.getBoundingClientRect();(n<e||n>e+a||o<l||o>l+r)&&(w.isDragUploadStatus=!1)}},ce=e=>{const t=e.dataTransfer;if(t){const{items:n}=t;n&&n.length&&(e.preventDefault(),w.isDragUploadStatus=!0)}},ue=(t,n)=>{const{imageTypes:o,fileTypes:l}=e,{imagePreviewTypes:r}=C;if(k.value){const e=r.concat(o&&o.length?o:[]);n=n.filter((t=>{const n=`${t.type.split("/")[1]||""}`.toLowerCase();return!!e.some((e=>`${e}`.toLowerCase()===n))}))}else if(l&&l.length){const e=[];if(n.forEach((t=>{const n=K(t.name);l.some((e=>`${e}`.toLowerCase()===n))||e.push(n)})),e.length)return void($m.modal&&$m.modal.message({content:lm("vxe.error.notType",[e.join(", ")]),status:"error"}))}n.length?ne(n,t):$m.modal&&$m.modal.notification({title:lm("vxe.modal.errTitle"),status:"error",content:lm("vxe.upload.uploadTypeErr")})},de=e=>{const t=e.dataTransfer;if(t){const{items:n}=t;if(n&&n.length){e.preventDefault();const t=pe(n);t.length&&ue(e,t)}}w.isDragUploadStatus=!1},pe=e=>{const t=[];return sp.arrayEach(e,(e=>{const n=e.getAsFile();n&&t.push(n)})),t},me=()=>{const t=D.value,n=k.value;$m.modal&&$m.modal.open({title:lm(t?"vxe.upload.morePopup.readTitle":"vxe.upload.morePopup."+(n?"imageTitle":"fileTitle")),width:660,height:500,escClosable:!0,showMaximize:!0,resize:!0,maskClosable:!0,slots:{default(){const{showErrorStatus:o,dragToUpload:l,dragSort:r}=e,{isActivated:a,isDragMove:i,isDragUploadStatus:s,dragIndex:c}=w,{fileList:u}=w,d=T.value,p={};return l&&-1===c&&(p.onDragover=ce,p.onDragleave=se,p.onDrop=de),y("div",Object.assign({ref:v,class:["vxe-upload--more-popup",{"is--readonly":t,"is--disabled":d,"is--active":a,"show--error":o,"is--drag":s}]},p),[n?r?y(E,{name:"vxe-upload--drag-list"+(i?"":"-disabled"),tag:"div",class:"vxe-upload--image-more-list"},{default:()=>Te(u,!0).concat(Oe(!0))}):y("div",{class:"vxe-upload--image-more-list"},Te(u,!0).concat(Oe(!0))):y("div",{class:"vxe-upload--file-more-list"},[Ee(!0),r?y(E,{name:"vxe-upload--drag-list"+(i?"":"-disabled"),tag:"div",class:"vxe-upload--file-list"},{default:()=>Se(u,!1)}):y("div",{class:"vxe-upload--file-list"},Se(u,!0))]),r?y("div",{ref:x,class:"vxe-upload--drag-line"}):Am(),s?y("div",{class:"vxe-upload--drag-placeholder"},lm("vxe.upload.dragPlaceholder")):Am()])}},onShow(){w.showMorePopup=!0},onHide(){w.showMorePopup=!1}})},ge=(e,t,n)=>{const{showMorePopup:o}=w,l=p.value,r=v.value,a=o?r:l;if(!a)return;const i=a.getBoundingClientRect(),s=b.value,c=x.value,u=o?c:s;if(u){const e=t.getBoundingClientRect();u.style.display="block",u.style.top=`${Math.max(1,e.y-i.y)}px`,u.style.left=`${Math.max(1,e.x-i.x)}px`,u.style.height=`${e.height}px`,u.style.width=e.width-1+"px",u.setAttribute("drag-pos",n)}},fe=e=>{e.stopPropagation(),e.dataTransfer&&e.dataTransfer.setDragImage(tg||ng(),0,0);const t=e.currentTarget,n=t.parentElement,o=sp.findIndexOf(Array.from(n.children),(e=>t===e));w.isDragMove=!0,w.dragIndex=o,setTimeout((()=>{w.isDragMove=!1}),500)},he=e=>{e.stopPropagation(),e.preventDefault();const{dragIndex:t}=w;if(-1===t)return;const n=k.value,o=e.currentTarget,l=o.parentElement,r=sp.findIndexOf(Array.from(l.children),(e=>o===e));let a="";if(n){a=e.clientX-o.getBoundingClientRect().x<o.clientWidth/2?"left":"right"}else{a=e.clientY-o.getBoundingClientRect().y<o.clientHeight/2?"top":"bottom"}t!==r?(ge(0,o,a),C.prevDragIndex=r,C.prevDragPos=a):ge(0,o,a)},ve=e=>{const{fileList:t,dragIndex:n}=w,{prevDragIndex:o,prevDragPos:l}=C,r=n,a=o,i="bottom"===l||"right"===l?1:0,s=t[r],c=t[a];if(s&&c){t.splice(r,1);const n=sp.findIndexOf(t,(e=>c===e))+i;t.splice(n,0,s),Y("sort-dragend",{oldItem:s,newItem:c,dragPos:l,offsetIndex:i,_index:{newIndex:n,oldIndex:r}},e)}(()=>{const e=b.value,t=x.value;e&&(e.style.display=""),t&&(t.style.display="")})(),w.dragIndex=-1},be=e=>{c&&e.stopPropagation(),w.isActivated=!0},xe=t=>{const{pasteToUpload:n}=e,{isActivated:o}=w;if(!o||!n)return;const l=t.clipboardData||t.originalEvent.clipboardData;if(!l)return;const{items:r}=l;if(!r)return;const a=pe(r);a.length&&(t.preventDefault(),ue(t,a))},we=e=>{const t=p.value,n=v.value;let o=mg(e,t).flag;if(!o&&n){const t=n.parentElement||n;o=mg(e,t?t.parentElement:t).flag}w.isActivated=o},ye=()=>{w.isActivated=!1},Ce={dispatchEvent:Y,choose:()=>oe(null)};Object.assign(H,Ce,{});const Se=(t,n)=>{const{showRemoveButton:o,showDownloadButton:r,showProgress:a,progressText:i,showPreview:s,showErrorStatus:c,dragSort:u}=e,{fileCacheMaps:d}=w,p=T.value,m=D.value,g=R.value,f=I.value,h=l.corner,v={};return u&&t.length>1&&(v.onDragstart=fe,v.onDragover=he,v.onDragend=ve),t.map(((t,l)=>{const b=q(t),x=d[b],w=x&&x.loading,C=x&&"error"===x.status;return y("div",Object.assign({key:u?b:l,class:["vxe-upload--file-item",{"is--preview":s,"is--loading":w,"is--error":C}],fileid:b,draggable:!!u||null},v),[y("div",{class:"vxe-upload--file-item-icon"},[y("i",{class:_p()[`UPLOAD_FILE_TYPE_${`${t[f]}`.toLocaleUpperCase()}`]||_p().UPLOAD_FILE_TYPE_DEFAULT})]),y("div",{class:"vxe-upload--file-item-name",onClick(e){w||C||J(0,t)}},`${t[g]||""}`),w?y("div",{class:"vxe-upload--file-item-loading-icon"},[y("i",{class:_p().UPLOAD_LOADING})]):Am(),a&&w&&x?y("div",{class:"vxe-upload--file-item-loading-text"},i?sp.toFormatString(`${sp.isFunction(i)?i({}):i}`,{percent:x.percent}):lm("vxe.upload.uploadProgress",[x.percent])):Am(),c&&C?y("div",{class:"vxe-upload--image-item-error"},[y(qg,{icon:_p().UPLOAD_IMAGE_RE_UPLOAD,mode:"text",status:"primary",content:lm("vxe.upload.reUpload"),onClick(){te(t)}})]):Am(),y("div",{class:"vxe-upload--file-item-btn-wrapper"},[h?y("div",{class:"vxe-upload--file-item-corner"},Zm(h({option:t,isMoreView:n,readonly:m}))):Am(),r&&!w?y("div",{class:"vxe-upload--file-item-download-btn",onClick(n){((t,n)=>{const o=e.beforeDownloadMethod||Ap().upload.beforeDownloadMethod,l=e.downloadMethod||Ap().upload.downloadMethod;Promise.resolve(!o||o({$upload:H,option:n})).then((e=>{e?l?Promise.resolve(l({$upload:H,option:n})).then((()=>{ie(t,n)})).catch((e=>e)):ie(t,n):Y("download-fail",{option:n},t)}))})(n,t)}},[y("i",{class:_p().UPLOAD_FILE_DOWNLOAD})]):Am(),!o||m||p||w?Am():y("div",{class:"vxe-upload--file-item-remove-btn",onClick(e){ae(e,t,l)}},[y("i",{class:_p().UPLOAD_FILE_REMOVE})])])])}))},Ee=t=>{const{showUploadButton:n,buttonText:o,buttonIcon:r,showButtonText:a,showButtonIcon:i,autoHiddenButton:s}=e,c=T.value,u=D.value,d=N.value,p=L.value,m=A.value,g=l.default,f=l.tip||l.hint;return u||!n?Am():y("div",{class:"vxe-upload--file-action"},[s&&m?Am():y("div",{class:"vxe-upload--file-action-btn",onClick:le},g?Zm(g({$upload:H})):[y(qg,{class:"vxe-upload--file-action-button",content:t||a?o?`${sp.isFunction(o)?o({}):o}`:lm("vxe.upload.fileBtnText"):"",icon:i?r||_p().UPLOAD_FILE_ADD:"",disabled:c})]),d&&(p||f)?y("div",{class:"vxe-upload--file-action-tip"},f?Zm(f({$upload:H})):`${p}`):Am()])},De=()=>{const{showList:t,moreConfig:n,dragSort:o}=e,{fileList:l,isDragMove:r}=w,a=z.value,{maxCount:i,showMoreButton:s,layout:c}=a,u="horizontal"===c;let d=l,p=0;return i&&l.length>i&&(p=l.length-i,d=l.slice(0,i)),y("div",{key:"all",class:"vxe-upload--file-wrapper"},t?[s&&n&&u?Am():Ee(!0),d.length||s&&u?y("div",{class:["vxe-upload--file-list-wrapper",{"is--horizontal":u}]},[d.length?o?y(E,{name:"vxe-upload--drag-list"+(r?"":"-disabled"),tag:"div",class:"vxe-upload--file-list"},{default:()=>Se(d,!1)}):y("div",{class:"vxe-upload--file-list"},Se(d,!1)):Am(),s&&p?y("div",{class:"vxe-upload--file-over-more"},[y(qg,{mode:"text",content:lm("vxe.upload.moreBtnText",[l.length]),status:"primary",onClick:me})]):Am(),s&&n&&u?Ee(!1):Am()]):Am()]:[Ee(!1)])},Te=(t,n)=>{const{showRemoveButton:o,showProgress:r,progressText:a,showPreview:i,showErrorStatus:s,dragSort:c}=e,{fileCacheMaps:u}=w,d=T.value,p=D.value,m=_.value,g=B.value,f=l.corner,h={onMousedown:be};return c&&t.length>1&&(h.onDragstart=fe,h.onDragover=he,h.onDragend=ve),t.map(((t,l)=>{const v=q(t),b=u[v],x=b&&b.loading,C=b&&"error"===b.status;return y("div",Object.assign({key:c?v:l,class:["vxe-upload--image-item",{"is--preview":i,"is--circle":m.circle,"is--loading":x,"is--error":C}],fileid:v,draggable:!!c||null},h),[y("div",{class:"vxe-upload--image-item-box",style:n?null:g,title:lm("vxe.upload.viewItemTitle"),onClick(t){x||C||((t,n,o)=>{const{showDownloadButton:l}=e,{fileList:r}=w,a=e.beforeDownloadMethod||Ap().upload.beforeDownloadMethod;e.showPreview&&$m.previewImage&&$m.previewImage({urlList:r.map((e=>Q(e))),activeIndex:o,showDownloadButton:l,beforeDownloadMethod:a?({index:e})=>a({$upload:H,option:r[e]}):void 0})})(0,0,l)}},[x&&b?y("div",{class:"vxe-upload--image-item-loading"},[y("div",{class:"vxe-upload--image-item-loading-icon"},[y("i",{class:_p().UPLOAD_LOADING})]),r?y("div",{class:"vxe-upload--image-item-loading-text"},a?sp.toFormatString(`${sp.isFunction(a)?a({}):a}`,{percent:b.percent}):lm("vxe.upload.uploadProgress",[b.percent])):Am()]):Am(),x?Am():C&&s?y("div",{class:"vxe-upload--image-item-error"},[y(qg,{icon:_p().UPLOAD_IMAGE_RE_UPLOAD,mode:"text",status:"primary",content:lm("vxe.upload.reUpload"),onClick(){te(t)}})]):y("div",{class:"vxe-upload--image-item-img-wrapper"},[y("img",{class:"vxe-upload--image-item-img",src:Z(t)})]),y("div",{class:"vxe-upload--image-item-btn-wrapper",onClick(e){e.stopPropagation()}},[f?y("div",{class:"vxe-upload--file-item-corner"},Zm(f({option:t,isMoreView:n,readonly:p}))):Am(),!o||p||d||x?Am():y("div",{class:"vxe-upload--image-item-remove-btn",onClick(e){e.stopPropagation(),ae(e,t,l)}},[y("i",{class:_p().UPLOAD_IMAGE_REMOVE})])])])])}))},Oe=t=>{const{showUploadButton:n,buttonText:o,buttonIcon:r,showButtonText:a,showButtonIcon:i,autoHiddenButton:s}=e,c=D.value,u=N.value,d=L.value,p=A.value,m=B.value,g=l.default,f=l.tip||l.hint;return c||!n||s&&p?Am():y("div",{key:"action",class:"vxe-upload--image-action"},[y("div",{class:"vxe-upload--image-action-btn",onClick:le},g?g({$upload:H}):[y("div",{class:"vxe-upload--image-action-box",style:t?null:m},[i?y("div",{class:"vxe-upload--image-action-icon"},[y("i",{class:r||_p().UPLOAD_IMAGE_ADD})]):Am(),t||a?y("div",{class:"vxe-upload--image-action-content"},o?`${sp.isFunction(o)?o({}):o}`:lm("vxe.upload.imgBtnText")):Am(),u&&(d||f)?y("div",{class:"vxe-upload--image-action-hint"},f?Zm(f({$upload:H})):`${d}`):Am()])])])},ke=()=>{const{showList:t,dragSort:n}=e,{fileList:o,isDragMove:l}=w,r=z.value,{maxCount:a,showMoreButton:i}=r;let s=o,c=0;return a&&o.length>a&&(c=o.length-a,s=o.slice(0,a)),y("div",{key:"image",class:"vxe-upload--image-wrapper"},t?[n?y(E,{name:"vxe-upload--drag-list"+(l?"":"-disabled"),tag:"div",class:"vxe-upload--image-list"},{default:()=>Te(s,!1).concat([i&&c?y("div",{key:"om",class:"vxe-upload--image-over-more"},[y(qg,{mode:"text",content:lm("vxe.upload.moreBtnText",[o.length]),status:"primary",onClick:me})]):Am(),Oe(!1)])}):y("div",{class:"vxe-upload--image-list"},Te(s,!1).concat([i&&c?y("div",{class:"vxe-upload--image-over-more"},[y(qg,{mode:"text",content:lm("vxe.upload.moreBtnText",[o.length]),status:"primary",onClick:me})]):Am(),Oe(!1)]))]:[y("div",{class:"vxe-upload--image-list"},[Oe(!1)])])},Re=r(0);return i((()=>e.modelValue?e.modelValue.length:0),(()=>{Re.value++})),i((()=>e.modelValue),(()=>{Re.value++})),i(Re,(()=>{U()})),f((()=>{e.multiple&&e.singleMode&&Hm("vxe.error.errConflicts",["multiple","single-mode"]),e.imageStyle&&jm("vxe.error.delProp",["image-style","image-config"]),e.dragSort&&ng(),Kp.on(H,"paste",xe),Kp.on(H,"mousedown",we),Kp.on(H,"blur",ye)})),h((()=>{w.isDragUploadStatus=!1,Kp.off(H,"paste"),Kp.off(H,"mousedown"),Kp.off(H,"blur")})),U(),H.renderVN=()=>{const{showErrorStatus:t,dragToUpload:n,pasteToUpload:o,dragSort:l}=e,{isDragUploadStatus:r,showMorePopup:a,isActivated:i,dragIndex:s}=w,c=d.value,u=T.value,m=D.value,g=k.value,f={onMousedown:be};return n&&-1===s&&(f.onDragover=ce,f.onDragleave=se,f.onDrop=de),y("div",Object.assign({ref:p,class:["vxe-upload",{[`size--${c}`]:c,"is--active":i,"is--readonly":m,"is--disabled":u,"is--paste":o,"show--error":t,"is--drag":r}]},f),[g?ke():De(),l?y("div",{ref:b,class:"vxe-upload--drag-line"}):Am(),r&&!a?y("div",{class:"vxe-upload--drag-placeholder"},lm("vxe.upload.dragPlaceholder")):Am()])},H},render(){return this.renderVN()}}),Wb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(Hb,{modelValue:t?t.getItemValue(r):null,mode:"all",multiple:a.multiple,limitCount:a.limitCount,limitSize:a.limitSize,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),qb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Wv(e),n=r($b());return()=>{const{renderParams:o}=e,{widget:l}=o,{options:r}=l,a=t.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${a}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:r},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:l.title,"onUpdate:modelValue"(e){l.title=e}})}),y(vv,{title:lm("vxe.formDesign.widgetProp.uploadProp.multiImg"),field:"multiple",itemRender:{name:"VxeSwitch"}}),r.multiple?y(vv,{title:lm("vxe.formDesign.widgetProp.uploadProp.limitImgCount"),field:"limitCount",itemRender:{name:"VxeInput",props:{type:"integer",min:1,clearable:!0}}}):x(),y(vv,{title:lm("vxe.formDesign.widgetProp.uploadProp.limitImgSize"),field:"limitSize",itemRender:{name:"VxeSelect",options:n.value}}),y(vv,{title:lm("vxe.formDesign.widgetProp.required")},{default:()=>y(bv,{modelValue:l.required,"onUpdate:modelValue"(e){l.required=e}})})]})}}}),Ub=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,{options:a}=r,i=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${i}`],title:r.title,field:r.field,itemRender:{}},{default:()=>y(Hb,{modelValue:t?t.getItemValue(r):null,mode:"image",multiple:a.multiple,limitCount:a.limitCount,limitSize:a.limitSize,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Gb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Wv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})})]})}}}),Kb=p({name:"VxeRate",props:{modelValue:[Number,String],disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},size:{type:String,default:()=>Ap().rate.size||Ap().size},status:String},emits:["update:modelValue","change"],setup(e,t){const{emit:o}=t,l=n("$xeForm",null),a=n("xeFormItemInfo",null),i=sp.uniqueId(),{computeSize:s}=Om(e),c=r(),u=m({activeValue:null}),d={refElem:c},p=g((()=>{const{disabled:t}=e;return null===t?!!l&&(l.props.readonly||l.props.disabled):t})),f=g((()=>{const{readonly:t}=e;return null===t?!!l&&(l.props.readonly||l.props.disabled):t})),h=g((()=>{const{modelValue:t}=e,{activeValue:n}=u;return sp.toNumber(null===n?t:n)})),v=g((()=>[1,2,3,4,5].map((e=>({value:e,label:e}))))),b={},x={xID:i,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>b},w=(e,t,n)=>{o(e,Gp(n,{$rate:x},t))},C={dispatchEvent:w},S=()=>{u.activeValue=null},E=(e,t)=>{const n=p.value,r=f.value;if(!n&&!r){const n=t.value;(e=>{o("update:modelValue",e)})(n),w("change",{value:n},e),l&&a&&l.triggerItemEvent(e,a.itemConfig.field,n)}};Object.assign(x,C,{});return x.renderVN=()=>{const{status:t}=e,n=p.value,o=f.value,l=v.value,r=s.value,a=h.value;return y("div",{ref:c,class:["vxe-rate",{[`size--${r}`]:r,[`theme--${t}`]:t,"is--disabled":n,"is--readonly":o}]},l.map((e=>{const t=a>=e.value;return y("div",{class:["vxe-rte--item",{"is--checked":t}],onMouseenter(t){n||o||((e,t)=>{const n=p.value,o=f.value;if(!n&&!o){const e=t.value;u.activeValue=e}})(0,e)},onMouseleave:S,onClick(t){n||o||E(t,e)}},[y("i",{class:t?_p().RATE_CHECKED:_p().RATE_UNCHECKED})])})))},x},render(){return this.renderVN()}}),Yb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,a=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${a}`],field:r.field,title:r.title,itemRender:{}},{default:()=>y(Kb,{modelValue:t?t.getItemValue(r):null,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}}),Xb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const{computeKebabCaseName:t}=Wv(e);return()=>{const{renderParams:n}=e,{widget:o}=n,l=t.value;return y(Lh,{class:["vxe-form-design--widget-render-form-wrapper",`widget-${l}`],vertical:!0,span:24,titleBold:!0,titleOverflow:!0,data:o.options},{default:()=>[y(vv,{title:lm("vxe.formDesign.widgetProp.name")},{default:()=>y(Wf,{modelValue:o.title,"onUpdate:modelValue"(e){o.title=e}})})]})}}}),Zb=p({name:"VxeSlider",props:{modelValue:[String,Number,Array],vertical:Boolean,max:{type:[String,Number],default:()=>Ap().slider.max},min:{type:[String,Number],default:()=>Ap().slider.min},step:{type:[String,Number],default:()=>Ap().slider.step},size:{type:String,default:()=>Ap().slider.size||Ap().size},range:{type:Boolean,default:()=>Ap().slider.range},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null}},emits:["update:modelValue","change"],setup(e,t){const{emit:o}=t,l=n("$xeForm",null),a=n("xeFormItemInfo",null),s=sp.uniqueId(),{computeSize:c}=Om(e),u=r(),d=r(),p=r(),h=r(),v=r(),b=m({startValue:0,endValue:0}),x={refElem:u},w=g((()=>{const{readonly:t}=e;return null===t?!!l&&l.props.readonly:t})),C=g((()=>{const{disabled:t}=e;return null===t?!!l&&l.props.disabled:t})),S=g((()=>sp.toNumber(e.max||0))),E=g((()=>sp.toNumber(e.min||0))),D={},T={xID:s,props:e,context:t,reactData:b,getRefMaps:()=>x,getComputeMaps:()=>D},O=(e,t,n)=>{o(e,Gp(n,{$slider:T},t))},k={dispatchEvent:O},R=t=>{const{range:n}=e,o=S.value,l=E.value;return n?sp.floor((t-l)/sp.toNumber(o-l)*100):0},I=(t,n)=>{const{range:o}=e,l=S.value,r=E.value;return sp.floor((n-(o?t:0)-r)/sp.toNumber(l-r)*100)},M=()=>{const{modelValue:t}=e;if(sp.isArray(t)){const[e,n]=sp.clone(t,!0).sort();b.startValue=sp.floor(sp.toNumber(e||0)),b.endValue=sp.floor(sp.toNumber(n||0))}else b.startValue=0,b.endValue=sp.floor(sp.toNumber(t||0))},P=()=>{const{startValue:e,endValue:t}=b,n=p.value,o=h.value,l=v.value;let r=0,a=0;e>t?(r=R(t),a=I(t,e)):(r=R(e),a=I(e,t)),n&&(n.style.left=`${r}%`,n.style.width=`${a}%`),o&&(o.style.left=`${r}%`),l&&(l.style.left=`${sp.floor(r+a)}%`)},F=t=>{const{range:n}=e,{startValue:r,endValue:i}=b,s=n?[r,i].sort():i;(e=>{o("update:modelValue",e)})(s),O("change",{value:s},t),l&&a&&l.triggerItemEvent(t,a.itemConfig.field,s)},V=(e,t)=>{const n=w.value,o=C.value,l=S.value,r=E.value;n||o||(e.preventDefault(),document.onmousemove=e=>{e.preventDefault();const n=u.value,o=d.value;if(n&&o){const n=o.getBoundingClientRect(),a=(e.clientX-n.left)/n.width;t?b.endValue=sp.floor(Math.max(r,Math.min(l,a*(l-r)+r))):b.startValue=sp.floor(Math.max(r,Math.min(l,a*(l-r))))}P()},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,F(e),P()})},A=e=>{const t=v.value,n=e.currentTarget;V(e,!!t&&t.offsetLeft<n.offsetLeft)},$=e=>{const t=h.value,n=e.currentTarget;V(e,!t||n.offsetLeft>t.offsetLeft)};Object.assign(T,k,{});return i((()=>e.modelValue),(()=>{M()})),f((()=>{P()})),M(),T.renderVN=()=>{const{vertical:t,range:n}=e,o=c.value,l=w.value,r=C.value;return y("div",{ref:u,class:["vxe-slider",{[`size--${o}`]:o,"is--vertical":t,"is--readonly":l,"is--disabled":r}]},[y("div",{class:"vxe-slider--inner"},[y("div",{ref:d,class:"vxe-slider--bar-wrapper"}),y("div",{ref:p,class:"vxe-slider--bar-track"}),l||!n?Am():y("div",{ref:h,class:"vxe-slider--bar-btn vxe-slider--start-btn",onMousedown:A}),l?Am():y("div",{ref:v,class:"vxe-slider--bar-btn vxe-slider--end-btn",onMousedown:$})])])},T},render(){return this.renderVN()}}),Qb=p({props:{renderOpts:{type:Object,default:()=>({})},renderParams:{type:Object,default:()=>({})}},emits:[],setup(e){const t=n("$xeFormView",null),{computeKebabCaseName:o}=Wv(e),l=()=>{const{renderParams:n}=e,{widget:o}=n;if(t){const e=t?t.getItemValue(o):null;t.updateWidgetStatus(o,e)}};return()=>{const{renderParams:n}=e,{widget:r}=n,a=o.value;return y(vv,{class:["vxe-form-design--widget-render-form-item",`widget-${a}`],field:r.field,title:r.title,itemRender:{}},{default:()=>y(Zb,{modelValue:t?t.getItemValue(r):null,onChange:l,"onUpdate:modelValue"(e){t&&t.setItemValue(r,e)}})})}}});mm.mixin({text:{createFormDesignWidgetConfig:Xv,renderFormDesignWidgetView:(e,t)=>y(Qv,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Zv,{renderOpts:e,renderParams:t})},title:{createFormDesignWidgetConfig:Xv,renderFormDesignWidgetView:(e,t)=>y(Qv,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Zv,{renderOpts:e,renderParams:t})},row:{createFormDesignWidgetConfig:e=>{const{$formDesign:t}=e;return{title:Yv,group:"layout",icon:"vxe-icon-row-col",options:{colSize:2,colSpan:"12,12"},children:t?sp.range(0,2).map((()=>t.createEmptyWidget())):[]}},renderFormDesignWidgetEdit:(e,t)=>y(nb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetView:(e,t)=>y(ob,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(eb,{renderOpts:e,renderParams:t})},subtable:{createFormDesignWidgetConfig:()=>({title:Yv,group:"layout",icon:"vxe-icon-subtable",options:{showCheckbox:!1}}),renderFormDesignWidgetEdit:(e,t)=>y(ab,{renderOpts:e,renderParams:t}),renderFormDesignWidgetView:(e,t)=>y(ib,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(lb,{renderOpts:e,renderParams:t})},input:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-input",query:!0,options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>y(cb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(sb,{renderOpts:e,renderParams:t})},textarea:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-textarea",query:!0,options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>y(db,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(ub,{renderOpts:e,renderParams:t})},select:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-select",query:!0,options:{options:sp.range(0,3).map(((e,t)=>({value:lm("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])})))}}),renderFormDesignWidgetView:(e,t)=>y(mb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(pb,{renderOpts:e,renderParams:t})},VxeInput:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-input",query:!0,options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>y(fb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(gb,{renderOpts:e,renderParams:t})},VxeNumberInput:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-number",query:!0,options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>y(bb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(hb,{renderOpts:e,renderParams:t})},VxeDatePicker:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-calendar",options:{placeholder:"",defaultValue:{type:"",value:""}}}),renderFormDesignWidgetView:(e,t)=>y(wb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(xb,{renderOpts:e,renderParams:t})},VxeTextarea:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-textarea",options:{placeholder:""}}),renderFormDesignWidgetView:(e,t)=>y(Cb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(yb,{renderOpts:e,renderParams:t})},VxeSwitch:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-switch",query:!0,options:{}}),renderFormDesignWidgetView:(e,t)=>y(Eb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Sb,{renderOpts:e,renderParams:t})},VxeSelect:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-select",query:!0,options:{placeholder:"",options:sp.range(0,3).map(((e,t)=>({value:lm("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])}))),multiple:!1}}),renderFormDesignWidgetView:(e,t)=>y(Tb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Db,{renderOpts:e,renderParams:t})},VxeTreeSelect:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-tree-select",query:!0,options:{placeholder:"",options:sp.range(0,3).map(((e,t)=>({value:lm("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])}))),multiple:!1}}),renderFormDesignWidgetView:(e,t)=>y(Mb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Ob,{renderOpts:e,renderParams:t})},VxeRadioGroup:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-radio-checked",options:{options:sp.range(0,3).map(((e,t)=>({value:lm("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])})))}}),renderFormDesignWidgetView:(e,t)=>y(Fb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Pb,{renderOpts:e,renderParams:t})},VxeCheckboxGroup:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-checkbox-checked",options:{options:sp.range(0,3).map(((e,t)=>({value:lm("vxe.formDesign.widgetProp.dataSource.defValue",[t+1])})))}}),renderFormDesignWidgetView:(e,t)=>y(Ab,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Vb,{renderOpts:e,renderParams:t})},VxeUploadFile:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-file",options:{limitCount:"",limitSize:100,multiple:!1}}),renderFormDesignWidgetView:(e,t)=>y(Wb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Nb,{renderOpts:e,renderParams:t})},VxeUploadImage:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-file-image",options:{limitCount:9,limitSize:10,multiple:!1}}),renderFormDesignWidgetView:(e,t)=>y(Ub,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(qb,{renderOpts:e,renderParams:t})},VxeRate:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-star",query:!0,options:{}}),renderFormDesignWidgetView:(e,t)=>y(Yb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Gb,{renderOpts:e,renderParams:t})},VxeSlider:{createFormDesignWidgetConfig:()=>({title:Yv,icon:"vxe-icon-slider",query:!0,options:{}}),renderFormDesignWidgetView:(e,t)=>y(Qb,{renderOpts:e,renderParams:t}),renderFormDesignWidgetFormView:(e,t)=>y(Xb,{renderOpts:e,renderParams:t})}});const Jb=Object.assign({},Hv,{install(e){e.component(Hv.name,Hv)}}),ex={useWidgetName:Wv,useWidgetView:function(e){const t=g((()=>{const{renderParams:t}=e;return t.widget})),n=g((()=>{const{renderParams:t}=e;return t.isEditMode||!1})),o=g((()=>{const{renderParams:t}=e;return t.isViewMode||!1}));return{currWidget:t,widgetOptions:g((()=>{const{renderParams:t}=e,{widget:n}=t;return n?n.options:{}})),widgetModel:g({get(){const{renderParams:t}=e,{$formView:n,widget:o}=t;return n?n.getItemValue(o):null},set(t){const{renderParams:n}=e,{$formView:o,widget:l}=n;o&&o.setItemValue(l,t)}}),isEditMode:n,isViewMode:o}},useSubtableView:function(e){const t=g((()=>{const{renderParams:t}=e;return t.widget}));return{currColumn:g((()=>{const{renderParams:t}=e;return t.column})),currRow:g((()=>{const{renderParams:t}=e;return t.row})),currWidget:t,widgetOptions:g((()=>{const{renderParams:t}=e,{widget:n}=t;return n?n.options:{}})),cellModel:g({get(){const{renderParams:t}=e,{row:n,column:o}=t;return sp.get(n,o.field)},set(t){const{renderParams:n}=e,{row:o,column:l}=n;return sp.set(o,l.field,t)}})}},useWidgetPropDataSource:Kv};_m.use(Jb),$m.component(Hv),$m.formDesignHandle=ex,$m.formDesign=ex;const tx=Jb,nx=Object.assign({},kv,{name:"VxeFormGather"}),ox=Object.assign(nx,{install(e){e.component(nx.name,nx)}});_m.use(ox),$m.component(nx);const lx=ox,rx=Object.assign(kv,{install(e){e.component(kv.name,kv)}});_m.use(rx),$m.component(kv);const ax=rx,ix=Object.assign(vv,{install(e){e.component(vv.name,vv)}});_m.use(ix),$m.component(vv);const sx=ix,cx=Object.assign(Rv,{install:function(e){e.component(Rv.name,Rv)}});_m.use(cx),$m.component(Rv);const ux=cx,dx=Object.assign({},Th,{install(e){e.component(Th.name,Th)}});_m.use(dx),$m.component(Th);const px=dx,mx=p({name:"VxeIconPicker",props:{modelValue:String,placeholder:String,clearable:Boolean,size:{type:String,default:()=>Ap().iconPicker.size||Ap().size},className:[String,Function],popupClassName:[String,Function],showIconTitle:{type:Boolean,default:()=>Ap().iconPicker.showIconTitle},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},icons:Array,placement:String,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","click"],setup(e,o){const{emit:l}=o,a=n("$xeModal",null),s=n("$xeDrawer",null),c=n("$xeTable",null),u=n("$xeForm",null),d=n("xeFormItemInfo",null),p=sp.uniqueId(),{computeSize:v}=Om(e),x=m({initialized:!1,selectIcon:`${e.modelValue||""}`,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),w={},C=r(),E=r(),D=r(),T={refElem:C},O={xID:p,props:e,context:o,reactData:x,getRefMaps:()=>T};let k={};const R=g((()=>{const{readonly:t}=e;return null===t?!!u&&u.props.readonly:t})),I=g((()=>{const{disabled:t}=e;return null===t?!!u&&u.props.disabled:t})),M=g((()=>{const{transfer:t}=e;if(null===t){const e=Ap().iconPicker.transfer;if(sp.isBoolean(e))return e;if(c||a||s||u)return!0}return t})),P=g((()=>{const{placeholder:t}=e;if(t)return zg(t);const n=Ap().select.placeholder;return n?zg(n):lm("vxe.base.pleaseSelect")})),F=g((()=>{let{icons:t}=e;return t&&t.length||(t=Ap().iconPicker.icons||[]),t.map((e=>sp.isString(e)?{title:e,icon:`vxe-icon-${`${e||""}`.replace(/^vxe-icon-/,"")}`}:{title:`${e.title||""}`,icon:e.icon||""}))})),V=g((()=>{const e=F.value;return sp.chunk(e,4)})),A=()=>t().then((()=>{const{placement:n}=e,{panelIndex:o}=x,l=C.value,r=D.value,a=M.value;if(r&&l){const e=l.offsetHeight,i=l.offsetWidth,s=r.offsetHeight,c=r.offsetWidth,u=5,d={zIndex:o},{boundingTop:p,boundingLeft:m,visibleHeight:g,visibleWidth:f}=fg(l);let h="bottom";if(a){let t=m,o=p+e;"top"===n?(h="top",o=p-s):n||(o+s+u>g&&(h="top",o=p-s),o<u&&(h="bottom",o=p+e)),t+c+u>f&&(t-=t+c+u-f),t<u&&(t=u),Object.assign(d,{left:`${t}px`,top:`${o}px`,minWidth:`${i}px`})}else"top"===n?(h="top",d.bottom=`${e}px`):n||p+e+s>g&&p-e-s>u&&(h="top",d.bottom=`${e}px`);return x.panelStyle=d,x.panelPlacement=h,t()}})),$=()=>{const{hpTimeout:e}=w;I.value||(e&&(clearTimeout(e),w.hpTimeout=void 0),x.initialized||(x.initialized=!0),x.isActivated=!0,x.isAniVisible=!0,setTimeout((()=>{x.visiblePanel=!0}),10),x.panelIndex<_g()&&(x.panelIndex=Lg()),A())},N=()=>{x.visiblePanel=!1,w.hpTimeout=setTimeout((()=>{x.isAniVisible=!1}),350)},L=(t,n)=>{x.selectIcon=n,n!==e.modelValue&&(l("update:modelValue",n),K("change",{value:n},t),u&&d&&u.triggerItemEvent(t,d.itemConfig.field,n))},_=()=>{I.value||x.visiblePanel||$()},B=()=>{x.isActivated=!1},z=(e,t)=>{L(e,t),K("clear",{value:t},e)},j=(e,t)=>{z(t,null),N()},H=e=>{(e=>{e.preventDefault(),x.visiblePanel?N():$()})(e),K("click",{},e)},W=e=>{const{visiblePanel:t}=x;if(!I.value&&t){mg(e,D.value).flag?A():N()}},q=e=>{const{visiblePanel:t}=x;if(!I.value){const n=C.value,o=D.value;x.isActivated=mg(e,n).flag||mg(e,o).flag,t&&!x.isActivated&&N()}},U=t=>{const{clearable:n}=e,{visiblePanel:o}=x;if(!I.value){const e=Kp.hasKey(t,Bp.TAB),l=Kp.hasKey(t,Bp.ENTER),r=Kp.hasKey(t,Bp.ESCAPE),a=Kp.hasKey(t,Bp.ARROW_UP),i=Kp.hasKey(t,Bp.ARROW_DOWN),s=Kp.hasKey(t,Bp.DELETE),c=Kp.hasKey(t,Bp.SPACEBAR);e&&(x.isActivated=!1),o?r||e?N():l?(t.preventDefault(),t.stopPropagation()):(a||i||c)&&t.preventDefault():(a||i||l||c)&&x.isActivated&&(t.preventDefault(),$()),x.isActivated&&s&&n&&z(t,null)}},G=()=>{N()},K=(e,t,n)=>{l(e,Gp(n,{$iconPicker:O},t))};k={dispatchEvent:K,isPanelVisible:()=>x.visiblePanel,togglePanel:()=>(x.visiblePanel?N():$(),t()),hidePanel:()=>(x.visiblePanel&&N(),t()),showPanel:()=>(x.visiblePanel||$(),t()),focus(){const e=E.value;return x.isActivated=!0,e&&e.blur(),t()},blur(){const e=E.value;return e&&e.blur(),x.isActivated=!1,t()}};Object.assign(O,k);const Y=()=>{const{showIconTitle:t}=e,n=V.value,o=I.value;return y("div",{class:"vxe-ico-picker--list-wrapper"},n.map((e=>y("div",{class:"vxe-ico-picker--list"},e.map((e=>y("div",{class:"vxe-ico-picker--item",onClick(t){o||((e,t)=>{const n=t.icon;L(e,n),N()})(t,e)}},[y("div",{class:"vxe-ico-picker--item-icon"},[y("i",{class:e.icon||""})]),t?y("div",{class:"vxe-ico-picker--item-title"},`${e.title||""}`):Am()])))))))};return i((()=>e.modelValue),(e=>{x.selectIcon=`${e||""}`})),f((()=>{Kp.on(O,"mousewheel",W),Kp.on(O,"mousedown",q),Kp.on(O,"keydown",U),Kp.on(O,"blur",G)})),h((()=>{Kp.off(O,"mousewheel"),Kp.off(O,"mousedown"),Kp.off(O,"keydown"),Kp.off(O,"blur")})),b("$xeIconPicker",O),O.renderVN=()=>{const{className:t,popupClassName:n,clearable:o}=e,{initialized:l,isActivated:r,isAniVisible:a,visiblePanel:i,selectIcon:s}=x,c=v.value,u=I.value,d=M.value,p=R.value,m=P.value;return p?y("div",{ref:C,class:["vxe-ico-picker--readonly",t]},[y("i",{class:s})]):y("div",{ref:C,class:["vxe-ico-picker",t?sp.isFunction(t)?t({$iconPicker:O}):t:"",{[`size--${c}`]:c,"show--clear":o&&!u&&!!s,"is--visible":i,"is--disabled":u,"is--active":r}]},[y("div",{class:"vxe-ico-picker--inner",onClick:H},[y("input",{ref:E,class:"vxe-ico-picker--input",onFocus:_,onBlur:B}),s?y("div",{class:"vxe-ico-picker--icon"},[y("i",{class:s})]):y("div",{class:"vxe-ico-picker--placeholder"},m),y("div",{class:"vxe-ico-picker--suffix"},[y("div",{class:"vxe-ico-picker--clear-icon",onClick:j},[y("i",{class:_p().INPUT_CLEAR})]),y("div",{class:"vxe-ico-picker--suffix-icon"},[y("i",{class:i?_p().ICON_PICKER_OPEN:_p().ICON_PICKER_CLOSE})])])]),y(S,{to:"body",disabled:!d||!l},[y("div",{ref:D,class:["vxe-table--ignore-clear vxe-ico-picker--panel",n?sp.isFunction(n)?n({$iconPicker:O}):n:"",{[`size--${c}`]:c,"is--transfer":d,"ani--leave":a,"ani--enter":i}],placement:x.panelPlacement,style:x.panelStyle},[l&&(i||a)?y("div",{class:"vxe-ico-picker--panel-wrapper"},[Y()]):Am()])])])},O},render(){return this.renderVN()}}),gx=Object.assign(mx,{install:function(e){e.component(mx.name,mx)}});_m.use(gx),$m.component(mx);const fx=gx,hx=p({name:"VxeImagePreview",props:{modelValue:Number,urlList:Array,urlField:{type:String,default:()=>Ap().imagePreview.urlField},maskClosable:{type:Boolean,default:()=>Ap().imagePreview.maskClosable},marginSize:{type:String,default:()=>Ap().imagePreview.marginSize},showPrintButton:{type:Boolean,default:()=>Ap().imagePreview.showPrintButton},showDownloadButton:{type:Boolean,default:()=>Ap().imagePreview.showDownloadButton},toolbarConfig:Object,beforeDownloadMethod:Function,downloadMethod:Function},emits:["update:modelValue","change","download","download-fail","close"],setup(e,t){const{emit:n}=t,o=sp.uniqueId(),l=r(),a={refElem:l},c=m({activeIndex:e.modelValue||0,offsetPct11:!1,offsetScale:0,offsetRotate:0,offsetLeft:0,offsetTop:0}),u=g((()=>e.urlField||"url")),d=g((()=>sp.toNumber(e.marginSize||0)||16)),p=g((()=>Object.assign({},Ap().imagePreview.toolbarConfig,e.toolbarConfig))),v=g((()=>{const{offsetRotate:e}=c;return e?`${e}`:"0"})),x=g((()=>{const{offsetScale:e}=c;return e?`${sp.ceil(100*(1+e))}%`:"100%"})),w=g((()=>{const{urlList:t}=e,n=u.value;return t&&t.length?t.map((e=>sp.isString(e)?e:e[n]?e[n]:"")):[]})),C=g((()=>{let{offsetScale:e,offsetRotate:t,offsetLeft:n,offsetTop:o}=c;const l=[];let r=1;if(e&&(r=1+e,l.push(`scale(${r})`)),t&&l.push(`rotate(${t}deg)`),n||o){n/=r,o/=r;let e=n,a=o;if(t)switch(t%360){case 90:case-270:e=o,a=-n;break;case 180:case-180:e=-n,a=-o;break;case 270:case-90:e=-o,a=n}l.push(`translate(${e}px, ${a}px)`)}return l.length?l.join(" "):""})),S={computeImgList:w},E={xID:o,props:e,context:t,reactData:c,getRefMaps:()=>a,getComputeMaps:()=>S},D=(e,t,o)=>{n(e,Gp(o,{$imagePreview:E},t))},T={dispatchEvent:D},O=e=>{D("close",{},e)},k=()=>{sg(l.value,"is--move"),Object.assign(c,{offsetPct11:!1,offsetScale:0,offsetRotate:0,offsetLeft:0,offsetTop:0})},R=e=>{const{offsetScale:t}=c,n=(()=>{const{offsetScale:e}=c;let t=.02;return e>=-.6&&(t=.04,e>=-.4&&(t=.07,e>=0&&(t=.1,e>=3&&(t=.25,e>=8&&(t=.4,e>=16&&(t=.6,e>=24&&(t=.9,e>=32&&(t=1.3,e>=39&&(t=1.9,e>=45&&(t=2.5)))))))))),t})();c.offsetScale=Number(e?Math.min(49,t+n).toFixed(2):Math.max(-.9,t-n).toFixed(2))},I=e=>{let t=c.activeIndex||0;const o=w.value;var l;e?t>=o.length-1?t=0:t++:t<=0?t=o.length-1:t--,k(),c.activeIndex=t,l=t,c.activeIndex=l,n("update:modelValue",l)},M=e=>{let t=c.offsetRotate;e?t+=90:t-=90,c.offsetRotate=t},P=()=>{const{activeIndex:e}=c,t=w.value[e||0];$m.print&&$m.print({align:"center",pageBreaks:[{bodyHtml:`<img src="${t}" style="max-width:100%;max-height:100%;">`}]})},F=(e,t)=>{D("download",{url:t},e)},V=t=>{const{activeIndex:n}=c,o=p.value.download,l=sp.isBoolean(o)?{}:o?Object.assign({},o):{},r=w.value[n||0],a=e.beforeDownloadMethod||l.beforeDownloadMethod||Ap().imagePreview.beforeDownloadMethod,i=e.downloadMethod||l.downloadMethod||Ap().imagePreview.downloadMethod;Promise.resolve(!a||a({$imagePreview:E,url:r,index:n||0})).then((e=>{e&&(i?Promise.resolve(i({$imagePreview:E,url:r,index:n||0})).then((()=>{F(t,r)})).catch((e=>e)):((e,t)=>{$m.saveFile&&fetch(t).then((n=>n.blob().then((n=>{$m.saveFile({filename:t,content:n}),F(e,t)})))).catch((()=>{$m.modal&&$m.modal.message({content:lm("vxe.error.downErr"),status:"error"})}))})(t,r))}))},A=(e,t)=>{const{activeIndex:n}=c;if(w.value[n||0])switch(t){case"zoomOut":R(!1);break;case"zoomIn":R(!0);break;case"pctFull":k();break;case"pct11":k(),c.offsetPct11=!0;break;case"rotateLeft":M(!1);break;case"rotateRight":M(!0);break;case"print":P();break;case"download":V(e)}},$=e=>{const t=e.deltaY;t>0?R(!1):t<0&&R(!0)},N=e=>{const t=ug(e),n=e.shiftKey,o=Kp.hasKey(e,Bp.ARROW_UP),l=Kp.hasKey(e,Bp.ARROW_DOWN),r=Kp.hasKey(e,Bp.ARROW_LEFT),a=Kp.hasKey(e,Bp.ARROW_RIGHT),i=Kp.hasKey(e,Bp.R),s=Kp.hasKey(e,Bp.P);o?(e.preventDefault(),n?c.offsetTop-=1:R(!0)):l?(e.preventDefault(),n?c.offsetTop+=1:R(!1)):r?(e.preventDefault(),n?c.offsetLeft-=1:I(!1)):a?(e.preventDefault(),n?c.offsetLeft+=1:I(!0)):i&&t?(e.preventDefault(),M(!n)):s&&t&&(e.preventDefault(),P())},L=t=>{e.maskClosable&&t.target===t.currentTarget&&D("close",{},t)};Object.assign(E,T,{});const _=()=>{const{activeIndex:e}=c,t=w.value,n=C.value;return y("div",{class:"vxe-image-preview--img-list",onClick:L},t.map(((t,o)=>{const r=e===o;return y("img",{class:["vxe-image-preview--img-item",{"is--active":r}],src:t,style:r?{transform:n}:null,onMousedown(e){(e=>{const{offsetTop:t,offsetLeft:n}=c,o=l.value;e.preventDefault();const r=document.onmousemove,a=document.onmouseup,i=e.pageX,s=e.pageY,u=d.value;document.onmousemove=e=>{const{pageX:l,pageY:r}=e,{visibleHeight:a,visibleWidth:d}=pg();e.preventDefault(),cg(o,"is--move"),l>u&&r>u&&l<d-u&&r<a-u&&(c.offsetLeft=n+l-i,c.offsetTop=t+r-s)},document.onmouseup=()=>{document.onmousemove=r,document.onmouseup=a,sg(o,"is--move")}})(e)}})})))},B=(e,t)=>{const n=p.value[e],o=sp.isBoolean(n)?{}:n?Object.assign({},n):{};return!1!==n?y("div",{class:"vxe-image-preview--operation-btn",title:lm(`vxe.imagePreview.operBtn.${e}`),onClick(t){A(t,e)}},[y("i",{class:o.icon||_p()[t]})]):Am()},z=()=>{const{showPrintButton:t,showDownloadButton:n}=e,{activeIndex:o}=c,l=w.value,r=v.value,a=x.value,i=p.value;return y("div",{class:"vxe-image-preview--btn-wrapper"},[y("div",{class:"vxe-image-preview--close-wrapper"},[y("div",{class:"vxe-image-preview--close-btn",onClick:O},[y("i",{class:_p().IMAGE_PREVIEW_CLOSE})]),y("div",{class:"vxe-image-preview--close-bg"})]),l.length>1?y("div",{class:"vxe-image-preview--previous-btn",onClick(){I(!1)}},[y("i",{class:_p().IMAGE_PREVIEW_PREVIOUS})]):Am(),l.length>1?y("div",{class:"vxe-image-preview--next-btn",onClick(){I(!0)}},[y("i",{class:_p().IMAGE_PREVIEW_NEXT})]):Am(),y("div",{class:"vxe-image-preview--operation-info"},[y("div",{class:"vxe-image-preview--operation-deg"},r),y("div",{class:"vxe-image-preview--operation-pct"},a)]),y("div",{class:"vxe-image-preview--operation-wrapper"},[y("div",{class:"vxe-image-preview--operation-active-count"},[y("span",{class:"vxe-image-preview--operation-active-current"},`${(o||0)+1}`),y("span",{class:"vxe-image-preview--operation-active-total"},`/${l.length}`)]),B("zoomOut","IMAGE_PREVIEW_ZOOM_OUT"),B("zoomIn","IMAGE_PREVIEW_ZOOM_IN"),B("pctFull","IMAGE_PREVIEW_PCT_FULL"),B("pct11","IMAGE_PREVIEW_PCT_1_1"),B("rotateLeft","IMAGE_PREVIEW_ROTATE_LEFT"),B("rotateRight","IMAGE_PREVIEW_ROTATE_RIGHT"),t||i.print?B("print","IMAGE_PREVIEW_PRINT"):Am(),n||i.download?B("download","IMAGE_PREVIEW_DOWNLOAD"):Am()])])},j=()=>{const{offsetPct11:e}=c;return y("div",{ref:l,class:["vxe-image-preview",{"is--pct11":e}],onWheel:$},[_(),z()])};return i((()=>e.modelValue),(e=>{c.activeIndex=e,k()})),f((()=>{Kp.on(E,"keydown",N)})),s((()=>{const e=l.value;e&&sg(e,"is--move")})),h((()=>{Kp.off(E,"keydown")})),b("$xeImagePreview",E),E.renderVN=j,j}}),vx=e=>{if($m.modal){const t=Object.assign({escClosable:!0},e),{urlList:n,activeIndex:o}=t,l=sp.uniqueId("image-preview");$m.modal.open({id:l,title:"",width:"100%",height:"100%",showHeader:!1,showFooter:!1,padding:!1,escClosable:t.escClosable,className:"vxe-image-preview-popup-wrapper",slots:{default:()=>y(hx,{modelValue:o,urlList:n,urlField:t.urlField,marginSize:t.marginSize,maskClosable:t.maskClosable,toolbarConfig:t.toolbarConfig,showPrintButton:t.showPrintButton,showDownloadButton:t.showDownloadButton,beforeDownloadMethod:t.beforeDownloadMethod,downloadMethod:t.downloadMethod,onClose(){$m.modal.close(l)}})}})}return Promise.resolve()},bx=p({name:"VxeImage",props:{src:[String,Array],alt:[String,Number],loading:String,title:[String,Number],width:[String,Number],height:[String,Number],circle:Boolean,maskClosable:{type:Boolean,default:()=>Ap().image.maskClosable},toolbarConfig:Object,showPreview:{type:Boolean,default:()=>Ap().image.showPreview},showPrintButton:{type:Boolean,default:()=>Ap().image.showPrintButton},showDownloadButton:{type:Boolean,default:()=>Ap().image.showDownloadButton},size:{type:String,default:()=>Ap().image.size||Ap().size}},emits:["click"],setup(e,t){const{emit:o}=t,l=sp.uniqueId(),a=n("$xeImageGroup",null),i=r(),{computeSize:s}=Om(e),c=m({}),u={refElem:i},d=g((()=>{const{width:t,height:n}=e,o={};return t&&n?(o.maxWidth=dg(t),o.maxHeight=dg(n)):(t&&(o.width=dg(t)),n&&(o.height=dg(n))),o})),p=g((()=>{const{src:t}=e;return t?(sp.isArray(t)?t:[t]).map((e=>sp.isString(e)?{url:e,alt:""}:{url:e.url,alt:e.alt})):[]})),f=g((()=>p.value[0])),h=g((()=>{const e=f.value;return e?`${e.url||""}`:""})),v={computeSize:s},b={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>v},x={dispatchEvent(e,t,n){o(e,Gp(n,{$image:b},t))}},w=t=>{const{showPreview:n,toolbarConfig:o,showPrintButton:l,showDownloadButton:r,maskClosable:i}=e,s=p.value,c=h.value;a?a.handleClickImgEvent(t,{url:c}):(n&&c&&vx({urlList:s,toolbarConfig:o,showPrintButton:l,showDownloadButton:r,maskClosable:i}),x.dispatchEvent("click",{url:c},t))};Object.assign(b,x,{});return b.renderVN=()=>{const{alt:t,loading:n,circle:o}=e,l=d.value,r=h.value,a=s.value;return y("img",{ref:i,class:["vxe-image",{[`size--${a}`]:a,"is--circle":o}],src:r,alt:t,loading:n,style:l,onClick:w})},b},render(){return this.renderVN()}}),xx=Object.assign({},bx,{install(e){e.component(bx.name,bx)}});_m.use(xx),$m.component(bx);const wx=xx,yx=p({name:"VxeImageGroup",props:{urlList:[Array,String],showPreview:{type:Boolean,default:()=>Ap().imageGroup.showPreview},imageStyle:Object,size:{type:String,default:()=>Ap().imageGroup.size||Ap().size},toolbarConfig:Object,showPrintButton:{type:Boolean,default:()=>Ap().imageGroup.showPrintButton},showDownloadButton:{type:Boolean,default:()=>Ap().imageGroup.showDownloadButton}},emits:["click"],setup(e,t){const{emit:n}=t,o=sp.uniqueId(),{computeSize:l}=Om(e),r=g((()=>{const{urlList:t}=e;return t?(sp.isArray(t)?t:[t]).map((e=>sp.isString(e)?{url:e,alt:""}:{url:e.url,alt:e.alt})):[]})),a=g((()=>Object.assign({},Ap().imageGroup.imageStyle,e.imageStyle))),i={computeSize:l},s={xID:o,props:e,context:t,getComputeMaps:()=>i},c={dispatchEvent(e,t,o){n(e,Gp(o,{$imageGroup:s},t))}},u={handleClickImgEvent(t,n){const{showPreview:o,toolbarConfig:l,showPrintButton:a,showDownloadButton:i}=e,{url:s}=n,u=r.value;o&&s&&vx({activeIndex:Math.max(0,sp.findIndexOf(u,(e=>e.url===s))),urlList:u,toolbarConfig:l,showPrintButton:a,showDownloadButton:i}),c.dispatchEvent("click",{url:s,urlList:u},t)}};Object.assign(s,c,u);return s.renderVN=()=>{const e=r.value,t=l.value,n=a.value;return y("div",{class:["vxe-image-group",{[`size--${t}`]:t}]},e?e.map(((e,t)=>y(bx,{key:t,src:e.url,alt:e.alt,width:n.width,height:n.height}))):[])},b("$xeImageGroup",s),s},render(){return this.renderVN()}}),Cx=Object.assign({},yx,{install(e){e.component(yx.name,yx)}});_m.use(Cx),$m.component(yx);const Sx=Cx,Ex=Object.assign(hx,{install(e){e.component(hx.name,hx),$m.previewImage=vx}});_m.use(Ex),$m.component(hx);const Dx=Ex,Tx=Object.assign(Wf,{install(e){e.component(Wf.name,Wf)}});_m.use(Tx),$m.component(Wf);const Ox=Tx,kx=p({name:"VxeLayoutAside",props:{width:[String,Number],collapsed:Boolean,collapseWidth:[String,Number],loading:Boolean,padding:Boolean,size:{type:String,default:()=>Ap().layoutAside.size||Ap().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId(),a=r(),{computeSize:i}=Om(e),s=m({}),c={refElem:a},u=g((()=>{const{width:t,collapsed:n,collapseWidth:o}=e;if(n){if(o)return dg(o)}else if(t)return dg(t);return""})),d={computeSize:i},p={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>d},f={dispatchEvent:(e,t,n)=>{o(e,Gp(n,{$layoutAside:p},t))}};Object.assign(p,f,{});return b("$xeLayoutAside",p),p.renderVN=()=>{const{width:t,collapsed:o,loading:l,padding:r}=e,s=u.value,c=i.value,d=n.default;return y("aside",{ref:a,class:["vxe-layout-aside",{[`size--${c}`]:c,"is--padding":r,"is--default-width":!t,"is--collapse":o,"is--loading":l}],style:s?{width:s}:null},[y("div",{class:"vxe-layout-aside--inner"},d?d({}):[]),y(sf,{class:"vxe-list-view--loading",modelValue:l})])},p},render(){return this.renderVN()}}),Rx=Object.assign({},kx,{install(e){e.component(kx.name,kx)}});_m.use(Rx),$m.component(kx);const Ix=Rx,Mx=p({name:"VxeLayoutBody",props:{loading:Boolean,padding:Boolean,size:{type:String,default:()=>Ap().layoutBody.size||Ap().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId(),a=r(),{computeSize:i}=Om(e),s=m({}),c={refElem:a},u={computeSize:i},d={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p={dispatchEvent:(e,t,n)=>{o(e,Gp(n,{$layoutBody:d},t))}};Object.assign(d,p,{});return d.renderVN=()=>{const{loading:t,padding:o}=e,l=i.value,r=n.default;return y("div",{ref:a,class:["vxe-layout-body",{[`size--${l}`]:l,"is--loading":t,"is--padding":o}]},[y("div",{class:"vxe-layout-body--inner"},r?r({}):[]),y(sf,{class:"vxe-list-view--loading",modelValue:t})])},d},render(){return this.renderVN()}}),Px=Object.assign({},Mx,{install(e){e.component(Mx.name,Mx)}});_m.use(Px),$m.component(Mx);const Fx=Px,Vx=p({name:"VxeLayoutContainer",props:{vertical:Boolean,size:{type:String,default:()=>Ap().layoutContainer.size||Ap().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId(),a=r(),{computeSize:i}=Om(e),s=m({}),c={refElem:a},u={computeSize:i},d={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p={dispatchEvent:(e,t,n)=>{o(e,Gp(n,{$layoutContainer:d},t))}};Object.assign(d,p,{});return d.renderVN=()=>{const{vertical:t}=e,o=i.value,l=n.default;return y("div",{ref:a,class:["vxe-layout-container",{[`size--${o}`]:o,"is--vertical":t}]},l?l({}):[])},d},render(){return this.renderVN()}}),Ax=Object.assign({},Vx,{install(e){e.component(Vx.name,Vx)}});_m.use(Ax),$m.component(Vx);const $x=Ax,Nx=p({name:"VxeLayoutFooter",props:{fixed:Boolean,align:String},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent:(e,t,n)=>{o(e,Gp(n,{$layoutFooter:u},t))}};Object.assign(u,d,{});return u.renderVN=()=>{const{fixed:t,align:o}=e,l=n.default;return y("footer",{ref:a,class:["vxe-layout-footer",o?`align--${o}`:"",{"is--fixed":t}]},l?l({}):[])},u},render(){return this.renderVN()}}),Lx=Object.assign({},Nx,{install(e){e.component(Nx.name,Nx)}});_m.use(Lx),$m.component(Nx);const _x=Lx,Bx=p({name:"VxeLayoutHeader",props:{fixed:Boolean},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent:(e,t,n)=>{o(e,Gp(n,{$layoutHeader:u},t))}};Object.assign(u,d,{});return u.renderVN=()=>{const{fixed:t}=e,o=n.default;return y("header",{ref:a,class:["vxe-layout-header",{"is--fixed":t}]},o?o({}):[])},u},render(){return this.renderVN()}}),zx=Object.assign({},Bx,{install(e){e.component(Bx.name,Bx)}});_m.use(zx),$m.component(Bx);const jx=zx,Hx=p({name:"VxeLink",props:{href:String,target:String,status:String,title:[String,Number],icon:String,routerLink:Object,underline:{type:Boolean,default:()=>Ap().link.underline},permissionCode:[String,Number],content:[String,Number],size:{type:String,default:()=>Ap().link.size||Ap().size}},emits:["click"],setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId(),{computeSize:a}=Om(e),{computePermissionInfo:i}=km(e),s=r(),c=m({}),u={refElem:s},d={},p={xID:l,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},g=(e,t,n)=>{o(e,Gp(n,{$link:p},t))},f={dispatchEvent:g},h=e=>{g("click",{},e)};Object.assign(p,f,{});const v=()=>{const{icon:t,content:o}=e,l=n.default,r=n.icon,a=sp.toValueString(o);return[r||t?y("span",{class:"vxe-link--icon"},r?Zm(r({})):[y("i",{class:t})]):Am(),l||a?y("span",{class:"vxe-link--content"},l?l({}):a):Am()]};return p.renderVN=()=>{const{status:t,target:n,href:o,title:l,underline:r,routerLink:c}=e,u=i.value,d=a.value;return u.visible?c?y(C("router-link"),{class:["vxe-link",{[`size--${d}`]:d,[`theme--${t}`]:t,"is--underline":r}],title:l,target:n,to:c,onClick:h},{default:()=>v()}):y("a",{ref:s,class:["vxe-link",{[`size--${d}`]:d,[`theme--${t}`]:t,"is--underline":r}],href:o,target:n,title:l,onClick:h},v()):Am()},p},render(){return this.renderVN()}}),Wx=Object.assign({},Hx,{install(e){e.component(Hx.name,Hx)}});_m.use(Wx),$m.component(Hx);const qx=Wx,Ux=e=>Object.assign({name:"",icon:"",type:"",classify:"",code:"",status:"",permissionCode:""},e),Gx=p({name:"ListDesignLayoutView",props:{},emits:[],setup(){const e=$m.getComponent("VxeGrid"),o=n("$xeListDesign",null);if(!o)return()=>[];const{reactData:l}=o,a=r(),s=r([]),c=g((()=>{const{searchFormItems:e}=l;return e.length?e.concat([{field:"active",title:"",folding:!1,collapseNode:e.some((e=>e.folding)),itemRender:{name:"VxeButtonGroup",options:[{content:"",icon:"vxe-icon-search",status:"primary",type:"submit"},{content:"",icon:"vxe-icon-repeat",type:"reset"}]}}]):e})),u=g((()=>{const{formData:e,listTableColumns:t}=l,{showSeq:n,actionButtonList:o}=e,r=[];return n&&r.push({type:"seq",field:"_seq",width:70}),t.forEach((e=>{r.push({field:e.field,title:e.title,visible:e.visible,width:e.width})})),o&&o.length&&r.push({field:"_active",title:lm("vxe.table.actionTitle"),fixed:"right",width:"auto",cellRender:{name:"VxeButtonGroup",options:[]}}),r})),d=({column:e,resizeWidth:t})=>{const{listTableColumns:n}=l,o=sp.findTree(n,(t=>t.field===e.field),{children:"children"});if(o){const{item:e}=o;e.width=t}},p=()=>{const{listTableColumns:e}=l,t=[{},{}];t.forEach((t=>{e.forEach((e=>{t[e.field]="-"}))})),s.value=t},m=r(0);return i((()=>l.listTableColumns?l.listTableColumns.length:-1),(()=>{m.value++})),i((()=>l.listTableColumns),(()=>{m.value++})),i(m,(()=>{p()})),f((()=>{p()})),t((()=>{e||Hm("vxe.error.reqComp",["vxe-grid"])})),()=>{const{searchFormData:t,searchFormItems:n}=l,o=c.value,r=u.value;return y("div",{class:"vxe-list-design--preview"},[y("div",{class:"vxe-list-design--preview-wrapper"},[y("div",{class:"vxe-list-design--preview-search"},[y("div",{class:"vxe-list-design--preview-title"},lm("vxe.listDesign.searchTitle")),n.length?y(Lh,{data:t,items:o}):y("div",{class:"vxe-list-design--field-configs-empty-data"},[y("span",{},lm("vxe.listDesign.search.emptyText"))])]),y("div",{class:"vxe-list-design--preview-table"},[y("div",{class:"vxe-list-design--preview-title"},lm("vxe.listDesign.listTitle")),e?y(e,{ref:a,columns:r,data:s.value,showOverflow:!0,border:!0,columnConfig:{minWidth:"auto",resizable:!0},rowConfig:{isHover:!0},scrollX:{enabled:!1},scrollY:{enabled:!1},onResizableChange:d}):x()])])])}}}),Kx=r({}),Yx=p({name:"DefaultFieldSettingForm",props:{},emits:[],setup(){const e=n("$xeListDesign",null);if(!e)return()=>[];const{reactData:t}=e,o=r(!1),l=r(!1),a=e=>{e.visible=!e.visible,t.listTableColumns=t.listTableColumns.slice(0)},i=()=>{const{listTableColumns:n,searchFormItems:a}=t,i=Kx.value,s=[];n.forEach((e=>{const{cellRender:t}=e;if(t){const n=a.find((t=>t.field===e.field)),o=t.name||"";let l=i[o];if(!l){const e=mm.get(o);if(e){const t=e.createFormDesignWidgetConfig;if(t){l=t({name:o,$formDesign:null})||{},i[o]=l}}}l.query&&s.push(Object.assign(Object.assign({},e),{checked:!!n,isHalf:!1,folding:!!n&&!!n.folding}))}})),Kx.value=Object.assign({},i);const c=r(s),u=()=>{const e=c.value;o.value=e.every((e=>e.checked)),l.value=!o.value&&e.some((e=>e.checked||e.isHalf))},d=e=>{const t=c.value,n=sp.findTree(t,(t=>t===e));if(n&&n.parent){const{parent:e}=n;e.children&&e.children.length&&(e.checked=e.children.every((e=>e.checked)),e.isHalf=!e.checked&&e.children.some((e=>e.checked||e.isHalf)),d(e))}},p=()=>{const e=c.value,t=!o.value;sp.eachTree(e,(e=>{e.checked=t,e.isHalf=!1})),o.value=t,u()};$m.modal.open({title:lm("vxe.listDesign.search.editPopupTitle"),width:680,height:500,showFooter:!0,escClosable:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:lm("vxe.listDesign.searchPopup.saveBtn"),showZoom:!0,resize:!0,onConfirm:()=>{const t=c.value,n=[];t.forEach((e=>{e.checked&&n.push({field:e.field,title:e.title,folding:e.folding,itemRender:Object.assign({},e.cellRender)})})),e.setSearchItems(n)},slots:{default(){const e=o.value,t=l.value,n=c.value;return y("div",{class:"vxe-list-design--field-search-popup"},[y("table",{},[y("colgroup",{},[y("col",{style:{width:"80px"}}),y("col")]),y("thead",{},[y("th",{},[y("div",{class:["vxe-list-design--field-search-checkbox-option",{"is--checked":e,"is--indeterminate":t}],title:lm("vxe.table.allTitle"),onClick:p},[y("span",{class:["vxe-checkbox--icon",t?_p().CHECKBOX_INDETERMINATE:e?_p().CHECKBOX_CHECKED:_p().CHECKBOX_UNCHECKED]}),y("span",{class:"vxe-checkbox--label"},lm("vxe.toolbar.customAll"))])]),y("th",{},lm("vxe.listDesign.searchPopup.colTitle"))]),y("tbody",{},n.map((e=>{const t=e.checked,n=e.isHalf;return y("tr",{},[y("td",{class:"vxe-list-design--field-search-option-item col--visible"},[y("div",{class:["vxe-list-design--field-search-checkbox-option",{"is--checked":t,"is--indeterminate":n}],title:lm("vxe.custom.setting.colVisible"),onClick:()=>{(e=>{const t=!e.checked;sp.eachTree([e],(e=>{e.checked=t,e.isHalf=!1})),d(e),u()})(e)}},[y("span",{class:["vxe-checkbox--icon",n?_p().CHECKBOX_INDETERMINATE:t?_p().CHECKBOX_CHECKED:_p().CHECKBOX_UNCHECKED]})])]),y("td",{class:"vxe-list-design--field-search-option-item"},`${e.title||""}`)])})))])])}}})},s=e=>{const{children:t}=e;return t&&t.length?y("div",{class:"vxe-list-design--field-option-inner"},[y("div",{class:"vxe-list-design--field-sub-option",onClick(){a(e)}},t.map((e=>{const{title:t,visible:n}=e;return y("div",{class:["vxe-list-design--field-checkbox-option",{"is--checked":n}],onClick(){a(e)}},[y("span",{class:["vxe-checkbox--icon",n?_p().CHECKBOX_CHECKED:_p().CHECKBOX_UNCHECKED]}),y("span",{class:"vxe-checkbox--label"},`${t}`)])})))]):x()};return()=>y(Lh,{span:24,vertical:!0,titleBold:!0},{default:()=>[y(vv,{title:lm("vxe.listDesign.searchField")},{extra:()=>y(qg,{mode:"text",status:"primary",icon:_p().FORM_DESIGN_PROPS_EDIT,content:lm("vxe.listDesign.search.addBtn"),onClick:i}),default(){const{searchFormItems:e}=t;return[e.length?y("div",{class:"vxe-list-design--search-item-wrapper"},[y("div",{class:"vxe-list-design--search-item-list"},e.map((e=>y("div",{key:e.field,class:"vxe-list-design--search-item"},[y("div",{class:"vxe-list-design--search-item-title"},`${e.title||""}`),y("div",{class:"vxe-list-design--search-item-btn"},[y(qg,{icon:_p().LIST_DESIGN_LIST_SETTING_SEARCH_DELETE,mode:"text",status:"error",onClick(){(e=>{const{searchFormItems:n}=t;t.searchFormItems=n.filter((t=>t.field!==e.field))})(e)}})])]))))]):y("div",{class:"vxe-list-design--field-configs-empty-data"},[y("span",{},lm("vxe.listDesign.search.emptyText"))])]}}),y(vv,{title:lm("vxe.listDesign.listField")},{default:()=>(()=>{const{listTableColumns:e}=t;return e.map((e=>{const{title:t,visible:n}=e;return y("div",{class:"vxe-list-design--field-option"},[y("div",{class:"vxe-list-design--field-option-inner"},[y("div",{class:["vxe-list-design--field-checkbox-option",{"is--checked":n}],onClick(){a(e)}},[y("span",{class:["vxe-checkbox--icon",n?_p().CHECKBOX_CHECKED:_p().CHECKBOX_UNCHECKED]}),y("span",{class:"vxe-checkbox--label"},`${t}`)])]),s(e)])}))})()})]})}}),Xx=p({name:"DefaultListSettingTabComponent",props:{},emits:[],setup(){const e=n("$xeListDesign",null);if(!e)return()=>[];const{props:t,reactData:o}=e,l=[],a=[];mm.forEach(((e,t)=>{const{createListDesignSettingActionButtonConfig:n}=e;if(n){const e={name:t},o=Object.assign(Ux({code:t}),n(e));"custom"===o.type?a.push(o):l.push(o)}}));const i=r([{label:"",value:"list",isExpand:!1}]),s=r([{label:"",value:!0},{label:"",value:!1}]),c=r([{label:"",value:"auto"},{label:"",value:!0},{label:"",value:!1}]),u=g((()=>{const{formData:e}=o;return[e.listView.enabled,e.ganttView.enabled,e.chartView.enabled].filter((e=>e)).length<=1})),d=()=>y(vv,{title:""},{extra:()=>y(qg,{mode:"text",status:"primary",icon:_p().FORM_DESIGN_PROPS_ADD,content:"",onClick(){(e=>{const{formData:n}=o,{actionCodes:i}=t;let s=n.actionButtonList;s||(s=[]);const c=m(Ux(e)),u=l.filter((e=>!(i&&i.length&&!i.some((t=>sp.isString(t)?e.code===t:t.code===e.code))||s.some((t=>t.code===e.code))))),d=a.filter((e=>!s.some((t=>t.code===e.code)))),p=[];u.length&&(c.type||(c.type=""),p.push({value:"",label:""})),d.length&&(c.type||(c.type="custom"),p.push({value:"custom",label:""}));const f=g((()=>u.map((e=>{const t=e.name;return{label:sp.toValueString(sp.isFunction(t)?t({name:e.code||""}):t),value:e.code}})))),h=r(p);$m.modal.open({title:"",width:600,height:400,showFooter:!0,showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"",onConfirm(){c.type,s.push(c),n.actionButtonList=[...s]},slots:{default:()=>y(Lh,{vertical:!0,titleBold:!0},{default:()=>[y(vv,{title:"",span:24},{default:()=>y(Vv,{modelValue:c.type,options:h.value,"onUpdate:modelValue"(e){c.type=e}})}),y(vv,{title:"",span:24},{default:()=>y(Vv,{modelValue:c.code,options:f.value,"onUpdate:modelValue"(e){c.code=e}})})]})}})})()}}),default(){const{formData:e}=o,t=e.actionButtonList;return t&&t.length?y("div",{class:"vxe-list-design--field-configs-wrapper"},t.map((n=>{let o="",r="";if("custom"===n.type)o=n.icon,r=n.name;else{const e=l.find((e=>e.code===n.code));if(e){const t=e.name;o=e.icon||"",r=sp.toValueString(sp.isFunction(t)?t({name:e.code||""}):t)}}return y("div",{class:"vxe-list-design--field-configs-item"},[o?y("div",{class:"vxe-list-design--field-configs-item-icon"},[y("i",{class:o})]):x(),y("div",{class:"vxe-list-design--field-configs-item-title"},`${r||""}`),y("div",{class:"vxe-list-design--field-configs-item-btn"},[y(qg,{icon:_p().LIST_DESIGN_LIST_SETTING_ACTIVE_DELETE,mode:"text",status:"error",onClick(){e.actionButtonList=t.filter((e=>e!==n))}})])])}))):y("div",{class:"vxe-list-design--field-configs-empty-data"},[y("span",{},"")])}});return()=>{const{showPc:e,showMobile:n}=t,{formData:r}=o;return y(Lh,{span:24,vertical:!0,titleBold:!0},{default:()=>[y(vv,{title:""},{default:()=>y("div",{class:"vxe-form-design--widget-form-item-render-view"},i.value.map((e=>y("div",{key:e.value,class:"vxe-form-design--widget-form-item-render-view-item"},[y(bv,{modelValue:r.listView.enabled,disabled:u.value,"onUpdate:modelValue"(e){r.listView.enabled=e}}),y(Kf,{content:e.label,icon:"vxe-icon-table"})]))))}),y(vv,{title:""},{default:()=>[y("div",{class:"vxe-form-design--widget-form-item-devices"},[e?y("div",{class:"vxe-form-design--widget-form-item-devices-item"},[y("div",{class:"vxe-form-design--widget-form-item-devices-left"},[y(Kf,{icon:_p().FORM_DESIGN_PROPS_PC,content:lm("vxe.formDesign.widgetProp.displaySetting.pc")})]),y(Vv,{modelValue:r.pcDefaultView,className:"vxe-form-design--widget-form-item-devices-select",options:i.value,"onUpdate:modelValue"(e){r.pcDefaultView=e}})]):x(),n?y("div",{class:"vxe-form-design--widget-form-item-devices-item"},[y("div",{class:"vxe-form-design--widget-form-item-devices-left"},[y(Kf,{icon:_p().FORM_DESIGN_PROPS_MOBILE,content:lm("vxe.formDesign.widgetProp.displaySetting.mobile")})]),y(Vv,{modelValue:r.mobileDefaultView,className:"vxe-form-design--widget-form-item-devices-select",options:i.value,"onUpdate:modelValue"(e){r.mobileDefaultView=e}})]):x()])]}),y(vv,{title:""},{default(){const{formData:e}=o;return[y("div",{class:"vxe-list-design--widget-form-item-prop-list"},[y("span",{},""),y(Pv,{modelValue:e.showSeq,options:s.value,"onUpdate:modelValue"(t){e.showSeq=t}})]),y("div",{class:"vxe-list-design--widget-form-item-prop-list"},[y("span",{},""),y(Pv,{modelValue:e.showStatistics,options:s.value,"onUpdate:modelValue"(t){e.showStatistics=t}})])]}}),y(vv,{title:""},{default(){const{formData:e}=o;return y(Pv,{modelValue:e.showCheckbox,options:c.value,"onUpdate:modelValue"(t){e.showCheckbox=t}})}}),l.length||a.length?d():x()]})}}}),Zx=p({name:"ListDesignLayoutSetting",props:{},emits:[],setup(){const e=r(1);return()=>y("div",{class:"vxe-list-design--setting"},[y("div",{class:"vxe-list-design--setting-form"},[y(gv,{modelValue:e.value,titleWidth:"50%",titleAlign:"center",padding:!0,class:"vxe-list-design--setting-form-tabs","onUpdate:modelValue"(t){e.value=t}},{default:()=>[y(fv,{title:lm("vxe.listDesign.fieldSettingTab"),icon:_p().LIST_DESIGN_FIELD_SETTING,name:1},{default:()=>y(Yx)}),y(fv,{title:lm("vxe.listDesign.listSettingTab"),icon:_p().LIST_DESIGN_LIST_SETTING,name:2},{default:()=>y(Xx)})]})])])}}),Qx=p({name:"VxeListDesign",props:{size:{type:String,default:()=>Ap().listDesign.size||Ap().size},height:{type:[String,Number],default:()=>Ap().listDesign.height},config:Object,showPc:{type:Boolean,default:()=>Ap().listDesign.showPc},showMobile:{type:Boolean,default:()=>Ap().listDesign.showMobile},actionCodes:Array,formRender:Object},emits:[],setup(e,n){const{emit:o,slots:l}=n,a=sp.uniqueId(),s=r(),{computeSize:c}=Om(e),u=m({formData:{},searchFormData:{},searchFormItems:[],listTableColumns:[]}),d={refElem:s},p={computeSize:c},g={xID:a,props:e,context:n,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>p},f=[];mm.forEach(((e,t)=>{const{createListDesignSettingActionButtonConfig:n}=e;if(n){const e={name:t},o=Object.assign(Ux({code:t}),n(e));"custom"===o.type||f.push(o)}}));const h=e=>({title:e.title,field:e.field,visible:!e.hidden,width:"",cellRender:{name:e.name,props:e.options}}),v=e=>{const t=[];if(e){const{widgetData:n}=e;n&&n.forEach((e=>{const{name:n}=e;n&&("row"===n?e.children.forEach((e=>{e.name&&t.push(h(e))})):"subtable"===n||t.push(h(e)))}))}return t},x=e=>{const{formConfig:n,searchItems:o,listColumns:l}=e;return n&&C(n),o&&E(o),l&&(u.listTableColumns=w(l)),t()},w=e=>(e=>e?e.map((e=>({field:e.field,title:e.title,visible:!!e.visible,width:e.width,cellRender:sp.clone(e.cellRender)}))):[])(e),C=e=>(u.formData=Object.assign({},T(),e),t()),S=()=>u.searchFormItems,E=e=>{const{data:n,items:o}=(e=>{if(e){const t={};return{items:e.map((e=>(t[e.field]=null,{field:e.field,title:e.title,folding:e.folding,itemRender:e.itemRender}))),data:t}}return{items:[],data:{}}})(e);return u.searchFormData=n,u.searchFormItems=o,t()},D=()=>u.listTableColumns,T=()=>{const{actionCodes:t,formRender:n}=e;let o={listView:{enabled:!0},ganttView:{enabled:!1},chartView:{enabled:!1},autoFoldFilter:!0,showCheckbox:"auto",showSeq:!0,showStatistics:!0,mobileDefaultView:"list",pcDefaultView:"list",actionButtonList:[]};if(t&&t.length&&(!o.actionButtonList||!o.actionButtonList.length)){const e=[];t.forEach((t=>{if(sp.isObject(t)&&t.default){const n=f.find((e=>e.code===t.code));n&&e.push(Ux({type:n.type,code:n.code}))}})),o.actionButtonList=e}if(n&&n.name){const e=mm.get(n.name),t=e?e.createListDesignSettingFormConfig:null,l={name:n.name};o=(t?t(l):{})||{}}return o},O=()=>{u.formData=T()},k=()=>(x({searchItems:[],listColumns:[]}),O(),t()),R={dispatchEvent(e,t,n){o(e,Gp(n,{$listDesign:g},t))},loadFormDesignConfig(e){const{listTableColumns:n}=u,o={};sp.eachTree(n,(e=>{o[e.field]=e}),{children:"children"});const l=v(e);return sp.eachTree(l,(e=>{const t=o[e.field];t&&(t.width&&(e.width=t.width),e.visible=t.visible)}),{children:"children"}),u.listTableColumns=l,t()},reloadFormDesignConfig:e=>(u.listTableColumns=v(e),t()),getSearchItems:S,setSearchItems:E,getListColumns:D,setListColumns:e=>(u.listTableColumns=w(e),t()),getConfig:()=>({formConfig:u.formData,searchItems:S(),listColumns:D()}),loadConfig:x,reloadConfig:e=>(k(),x(e)),clearConfig:k};Object.assign(g,R,{});return b("$xeListDesign",g),i((()=>e.config),(e=>{x(e||{})})),O(),e.config&&x(e.config),g.renderVN=()=>{const{height:t}=e,n=c.value,o=l.header;return y("div",{ref:s,class:["vxe-list-design",{[`size--${n}`]:n}],style:t?{height:dg(t)}:null},[y("div",{class:"vxe-list-design--header"},o?o({}):[]),y("div",{class:"vxe-list-design--body"},[y(Gx),y(Zx)])])},g},render(){return this.renderVN()}});mm.mixin({});const Jx=Object.assign({},Qx,{install(e){e.component(Qx.name,Qx)}});_m.use(Jx),$m.component(Qx),$m.listDesignHandle={};const ew=Jx,tw=p({name:"VxeListView",props:{size:{type:String,default:()=>Ap().listView.size||Ap().size},config:Object,height:{type:[String,Number],default:()=>Ap().listView.height},loading:Boolean,formData:Object,actionButtons:Array,gridOptions:Object,gridEvents:Object,viewRender:Object},emits:["cell-action","update:formData","update:actionButtons"],setup(e,n){const o=$m.getComponent("VxeGrid"),{emit:l,slots:a}=n,s=sp.uniqueId(),c=r(),u=r(),{computeSize:d}=Om(e),p=m({formConfig:{},searchFormData:{},searchFormItems:[],listTableColumns:[],tableColumns:[],footerData:[{}]}),f=g((()=>{const{gridOptions:t}=e,{formConfig:n,tableColumns:o,searchFormData:l,searchFormItems:r,footerData:a}=p,{showStatistics:i}=n,s=t||{},c=Object.assign({minWidth:120},s.columnConfig);let u;return s.proxyConfig&&(u=Object.assign({autoLoad:!1},s.proxyConfig)),Object.assign({},s,{columns:o,columnConfig:c,showFooter:i,footerData:i?a:null,formConfig:{data:l,items:r},proxyConfig:u})})),h=g((()=>{const{gridEvents:t}=e,n={};return sp.each(t,((e,t)=>{n[sp.camelCase(`on-${t}`)]=e})),n})),v={refElem:c,refGrid:u},x={computeSize:d},w={xID:s,props:e,context:n,reactData:p,getRefMaps:()=>v,getComputeMaps:()=>x},C=[];mm.forEach(((e,t)=>{const{createListDesignSettingActionButtonConfig:n}=e;if(n){const e={name:t},o=Object.assign(Ux({code:t}),n(e));"custom"===o.type||C.push(o)}}));const S=e=>{if(e&&e.length){const t={},n=e.map((e=>(t[e.field]=null,{field:e.field,title:e.title,folding:e.folding,itemRender:e.itemRender})));return n.push({field:"active",title:"",folding:!1,collapseNode:e.some((e=>e.folding)),itemRender:{name:"VxeButtonGroup",options:[{content:"",icon:"vxe-icon-search",status:"primary",type:"submit"},{content:"",icon:"vxe-icon-repeat",type:"reset"}]}}),{items:n,data:t}}return{items:[],data:{}}},E=e=>{if(e){const{formConfig:t,searchItems:n,listColumns:o}=e;p.formConfig=t||{},k(n||[]),O(o||[])}return t()},D=(e,t)=>{const n=Object.assign({},t),{showSeq:o,actionButtonList:l}=n,r=[],i={},s=a.cellAction,c=a.footerCell;if(o&&r.push({type:"seq",field:"_seq",fixed:"left",width:70}),(e=>e?e.map((e=>({field:e.field,title:e.title,visible:!!e.visible,width:e.width,cellRender:sp.clone(e.cellRender)}))):[])(e||[]).forEach((e=>{const t=Object.assign({},e);n.showStatistics&&c&&(t.slots={footer:e=>c(Object.assign({},e))}),t.field&&(i[t.field]=null),r.push(t)})),l&&l.length){const e={field:"_active",title:lm("vxe.table.actionTitle"),fixed:"right",width:"auto"},t=[];l.forEach((e=>{if("custom"===e.type)return{content:e.name,name:e.code,icon:e.icon};const n=C.find((t=>t.code===e.code));let o=e.name,l=e.icon,r=e.status,a=e.permissionCode,i=e.classify;if(n){const e=n.name;l=n.icon||"",r=n.status||"",a=n.permissionCode||"",i=n.classify||"",o=sp.toValueString(sp.isFunction(e)?e({name:n.code||""}):e)}i&&"cellButton"!==i||t.push({content:o,name:e.code,icon:l,status:r,permissionCode:a})})),s?e.slots={default:e=>s(Object.assign(Object.assign({},e),{buttons:t}))}:e.cellRender={name:"VxeButtonGroup",props:{mode:"text"},options:t,events:{click(e,t){const{option:n}=t;R("cell-action",Object.assign(Object.assign({},e),{button:n}),t.$event)}}},r.push(e)}return{rowRecord:i,columns:r,actionButtons:l}},T=(e,...t)=>{const n=u.value;return n?n.commitProxy(e,...t):Promise.resolve()},O=e=>{const{formConfig:n}=p,o=e||[],{columns:r,actionButtons:a}=D(o,n);p.listTableColumns=o,p.tableColumns=r,l("update:actionButtons",a),t((()=>{f.value.proxyConfig&&T("reload")}))},k=e=>{const{data:n,items:o}=S(e);return p.searchFormData=n,p.searchFormItems=o,l("update:formData",n),t()},R=(e,t,n)=>{l(e,Gp(n,{$listView:w},t))},I={dispatchEvent:R,clearConfig:()=>(l("update:formData",{}),Object.assign(p,{formConfig:{},searchFormData:{},searchFormItems:[],listTableColumns:[],tableColumns:[],footerData:[{}]}),t()),loadConfig:E,parseConfig:e=>{const{formConfig:t,searchItems:n,listColumns:o}=e||{},{columns:l,rowRecord:r,actionButtons:a}=D(o||[],t||p.formConfig),{data:i,items:s}=(e=>S(e||[]))(n||[]);return{formData:i,formItems:s,tableColumns:l,tableRecord:r,actionButtons:a}},getTableRecord:e=>{if(sp.isArray(e)){const{rowRecord:t}=D(e,p.formConfig);return t}if(e){const{formConfig:t,listColumns:n}=e,{rowRecord:o}=D(n||[],t||p.formConfig);return o}return{}},getQueryFilter:()=>{const{searchFormData:e,searchFormItems:t}=p,n=[],o={items:n,type:"and"};return u.value?(t.forEach((t=>{const{field:o}=t,l=e[o];if(l){const e=[];e.push({field:o,value:l,match:"exact",type:sp.isArray(l)?"array":""}),n.push({condition:e,type:"and"})}})),o):o},commitProxy:T};Object.assign(w,I,{});return i((()=>e.config),(e=>{E(e||{})})),e.config&&E(e.config),b("$xeListView",w),t((()=>{o||Hm("vxe.error.reqComp",["vxe-grid"])})),w.renderVN=()=>{const{height:t,loading:n}=e,l=d.value,r=a.grid,i=f.value,s=h.value;return y("div",{ref:c,class:["vxe-list-view",{[`size--${l}`]:l,"is--loading":n}],style:t?{height:dg(t)}:null},[y("div",{class:"vxe-list-view--body"},[r?y("div",{class:"vxe-list-view--grid-wrapper"},Zm(r({$listView:w}))):o?y(o,Object.assign({},i,s,{ref:u}),Object.assign({},a,{default:void 0})):Am()]),y(sf,{class:"vxe-list-view--loading",modelValue:n})])},w},render(){return this.renderVN()}}),nw=Object.assign(tw,{install:function(e){e.component(tw.name,tw)}});_m.use(nw),$m.component(tw);const ow=nw,lw=p({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:()=>Ap().list.size||Ap().size},autoResize:{type:Boolean,default:()=>Ap().list.autoResize},syncResize:[Boolean,String,Number],virtualYConfig:Object,scrollY:Object},emits:["scroll"],setup(e,n){const{slots:o,emit:l}=n,a=sp.uniqueId(),s=sp.browse(),{computeSize:c}=Om(e),d=m({scrollYLoad:!1,bodyHeight:0,customHeight:0,customMaxHeight:0,parentHeight:0,topSpaceHeight:0,items:[]}),p={resizeObserver:void 0,fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}},v=r(),b=r(),x=r(),w={refElem:v},C={xID:a,props:e,context:n,reactData:d,internalData:p,getRefMaps:()=>w},S=g((()=>Object.assign({},Ap().list.virtualYConfig||Ap().list.scrollY,e.virtualYConfig||e.scrollY))),E=g((()=>{const{height:t,maxHeight:n}=e,{customHeight:o,customMaxHeight:l}=d,r={};return t?r.height=`${o}px`:n&&(r.height="auto",r.maxHeight=`${l}px`),r})),D=(e,t,n)=>{l(e,Gp(n,{$list:C},t))},T=t=>{const{parentHeight:n}=d,o=e[t];let l=0;return o&&("100%"===o||"auto"===o?l=n:(l=ag(o)?Math.floor((sp.toInteger(o)||1)/100*n):sp.toNumber(o),l=Math.max(40,l))),l},O=()=>{const{scrollYLoad:e}=d,{scrollYStore:t,fullData:n}=p;d.bodyHeight=e?n.length*t.rowHeight:0,d.topSpaceHeight=e?Math.max(t.startIndex*t.rowHeight,0):0},k=()=>{const{scrollYLoad:e}=d,{fullData:n,scrollYStore:o}=p;return d.items=e?n.slice(o.startIndex,o.endIndex):n.slice(0),t()},R=()=>{k(),O()},I=()=>t().then((()=>{const{scrollYLoad:e}=d,{scrollYStore:t}=p,n=x.value,o=S.value;let l,r=0;if(n&&(o.sItem&&(l=n.querySelector(o.sItem)),l||(l=n.children[0])),l&&(r=l.offsetHeight),r=Math.max(12,r),t.rowHeight=r,e){const e=b.value,n=Math.max(8,Math.ceil(e.clientHeight/r)),l=o.oSize?sp.toNumber(o.oSize):s.edge?10:0;t.offsetSize=l,t.visibleSize=n,t.endIndex=Math.max(t.startIndex+n+l,t.endIndex),R()}else O()})),M=()=>{const e=b.value;return e&&(e.scrollTop=0),t()},P=(e,n)=>{const o=b.value;return sp.isNumber(e)&&(o.scrollLeft=e),sp.isNumber(n)&&(o.scrollTop=n),d.scrollYLoad?new Promise((e=>{setTimeout((()=>{t((()=>{e()}))}),50)})):t()},F=()=>{const{lastScrollLeft:e,lastScrollTop:t}=p;return M().then((()=>{if(e||t)return p.lastScrollLeft=0,p.lastScrollTop=0,P(e,t)}))},V=()=>{const e=v.value;if(e){const t=e.parentElement;if(d.parentHeight=t?t.clientHeight:0,d.customHeight=T("height"),d.customMaxHeight=T("maxHeight"),e.clientWidth&&e.clientHeight)return I()}return t()},A=e=>{const t=e.target,n=t.scrollTop,o=t.scrollLeft,l=o!==p.lastScrollLeft,r=n!==p.lastScrollTop;p.lastScrollTop=n,p.lastScrollLeft=o,d.scrollYLoad&&(e=>{const{scrollYStore:t}=p,{startIndex:n,endIndex:o,visibleSize:l,offsetSize:r,rowHeight:a}=t,i=e.target.scrollTop,s=Math.floor(i/a),c=Math.max(0,s-1-r),u=s+l+r;(s<=n||s>=o-l-1)&&(n===c&&o===u||(t.startIndex=c,t.endIndex=u,R()))})(e),D("scroll",{scrollLeft:o,scrollTop:n,isX:l,isY:r},e)},$=e=>{const{scrollYStore:t}=p,n=S.value,o=e||[];return Object.assign(t,{startIndex:0,endIndex:1,visibleSize:0}),p.fullData=o,d.scrollYLoad=!!n.enabled&&n.gt>-1&&(0===n.gt||n.gt<=o.length),k(),I().then((()=>{F()}))},N={dispatchEvent:D,loadData:$,reloadData:e=>(M(),$(e)),recalculate:V,scrollTo:P,refreshScroll:F,clearScroll:M};Object.assign(C,N);const L=r(0);i((()=>e.data?e.data.length:-1),(()=>{L.value++})),i((()=>e.data),(()=>{L.value++})),i(L,(()=>{$(e.data||[])})),i((()=>e.height),(()=>{V()})),i((()=>e.maxHeight),(()=>{V()})),i((()=>e.syncResize),(e=>{e&&(V(),t((()=>setTimeout((()=>V())))))})),u((()=>{V().then((()=>F()))})),t((()=>{$(e.data||[])})),f((()=>{if(V(),e.autoResize){const e=v.value,t=em.create((()=>V()));t.observe(e),e&&t.observe(e.parentElement),p.resizeObserver=t}Kp.on(C,"resize",V)})),h((()=>{const{resizeObserver:e}=p;e&&e.disconnect(),Kp.off(C,"resize")}));return C.renderVN=()=>{const{className:t,loading:n}=e,{bodyHeight:l,topSpaceHeight:r,items:a}=d,i=o.default,s=c.value,u=E.value;return y("div",{ref:v,class:["vxe-list",t?sp.isFunction(t)?t({$list:C}):t:"",{[`size--${s}`]:s,"is--loading":n}]},[y("div",{ref:b,class:"vxe-list--virtual-wrapper",style:u,onScroll:A},[y("div",{class:"vxe-list--y-space",style:{height:l?`${l}px`:""}}),y("div",{ref:x,class:"vxe-list--body",style:{marginTop:r?`${r}px`:""}},i?i({items:a,$list:C}):[])]),y(sf,{class:"vxe-list--loading",modelValue:n})])},C},render(){return this.renderVN()}}),rw=Object.assign(lw,{install(e){e.component(lw.name,lw)}});_m.use(rw),$m.component(lw);const aw=rw,iw=p({name:"VxeMenu",props:{modelValue:[String,Number],expandAll:Boolean,collapsed:{type:Boolean,default:null},collapseFixed:Boolean,loading:Boolean,options:{type:Array,default:()=>[]},size:{type:String,default:()=>Ap().image.size||Ap().size}},emits:["update:modelValue","click"],setup(e,o){const{emit:l,slots:a}=o,c=sp.uniqueId(),u=n("$xeLayoutAside",null),d=r(),p=r(),{computeSize:h}=Om(e),v=m({initialized:!!e.collapsed,isEnterCollapse:!1,collapseStyle:{},collapseZindex:0,activeName:e.modelValue,menuList:[],itemHeight:1}),b={refElem:d},x=g((()=>{const{collapsed:t}=e;return sp.isBoolean(t)?t:!!u&&!!u.props.collapsed})),w=g((()=>{let e="";return u&&(e=u.props.collapseWidth||""),e})),S=g((()=>{let e="";return u&&(e=u.props.width||""),e})),E={computeSize:h},D={xID:c,props:e,context:o,reactData:v,getRefMaps:()=>b,getComputeMaps:()=>E},T=e=>{const{activeName:t}=v;sp.eachTree(v.menuList,((e,n,o,l,r,a)=>{e.itemKey===t?(a.forEach((e=>{e.isActive=!0,e.isExpand=!0})),e.isExactActive=!0):(e.isExactActive=!1,e.isActive=!1)}),{children:"childList"})},O=()=>{const{options:t,expandAll:n}=e;v.menuList=sp.mapTree(t,((e,t,o,l,r)=>Object.assign(Object.assign({},e),{parentKey:r?r.name||l.slice(0,l.length-1).join(","):"",level:l.length,itemKey:e.name||l.join(","),isExactActive:!1,isActive:!1,isExpand:sp.isBoolean(e.expanded)?e.expanded:!!n,hasChild:e.children&&e.children.length>0})),{children:"children",mapChildren:"childList"})},k=()=>{const{collapseFixed:n}=e;n&&t((()=>{const{isEnterCollapse:e}=v,t=x.value,n=S.value,o=w.value,l=d.value;if(l){const r=l.getBoundingClientRect(),a=l.parentNode;v.collapseStyle=t?{top:dg(r.top),left:dg(r.left),height:dg(a.clientHeight),width:e?n?dg(n):"":o?dg(o):"",zIndex:v.collapseZindex}:{}}}))},R=()=>{const{collapseFixed:n}=e;if(n){const{initialized:e}=v;x.value&&(e||(v.initialized=!0,t((()=>{const e=p.value;e&&document.body.appendChild(e)})))),v.isEnterCollapse=!1,v.collapseZindex<_g()&&(v.collapseZindex=Lg()),k()}},I=(e,t)=>{const{hasChild:n,isExpand:o}=t;n&&(e.stopPropagation(),e.preventDefault(),t.isExpand=!o)},M=e=>{v.activeName=e,l("update:modelValue",e)},P=(e,t)=>{const{itemKey:n,routerLink:o,hasChild:l}=t;o?(M(n),V()):l?I(e,t):(M(n),V()),A("click",{menu:t},e)},F=()=>{const{collapseStyle:e}=v,t=S.value;v.collapseStyle=Object.assign({},e,{width:t?dg(t):""}),v.isEnterCollapse=!0},V=()=>{const{collapseStyle:e}=v,t=d.value;v.collapseStyle=Object.assign({},e,{width:t?dg(t.offsetWidth):""}),v.isEnterCollapse=!1},A=(e,t,n)=>{l(e,Gp(n,{$menu:D},t))},$={dispatchEvent:A};Object.assign(D,$,{});const N=e=>{const{icon:t,isExpand:n,hasChild:o,slots:l}=e,r=l?l.default:a.option,i=(e=>`${e.title||e.name}`)(e),s=x.value;return[y("div",{class:"vxe-menu--item-link-icon"},t?[y("i",{class:t})]:[]),r?y("div",{class:"vxe-menu--item-custom-title"},(c=r,u={option:e,collapsed:s},c&&(sp.isString(c)&&(c=a[c]||null),sp.isFunction(c))?Zm(c(u)):[])):y("div",{class:"vxe-menu--item-link-title",title:i},i),o?y("div",{class:"vxe-menu--item-link-collapse",onClick(t){I(t,e)}},[y("i",{class:n?_p().MENU_ITEM_EXPAND_OPEN:_p().MENU_ITEM_EXPAND_CLOSE})]):Am()];var c,u},L=e=>{const{itemKey:t,level:n,hasChild:o,isActive:l,isExactActive:r,isExpand:a,routerLink:i,childList:s}=e,{isEnterCollapse:c}=v,u=x.value;return e.permissionCode&&!Dm.checkVisible(e.permissionCode)?Am():y("div",{key:t,class:["vxe-menu--item-wrapper",`vxe-menu--item-level${n}`,{"is--exact-active":r,"is--active":l,"is--expand":(!u||c)&&a}]},[i?y(C("router-link"),{class:"vxe-menu--item-link",to:i,onClick(t){P(t,e)}},{default:()=>N(e)}):y("div",{class:"vxe-menu--item-link",onClick(t){P(t,e)}},N(e)),o?y("div",{class:"vxe-menu--item-group"},s.map((e=>L(e)))):Am()])},_=r(0);return i((()=>e.options?e.options.length:-1),(()=>{_.value++})),i((()=>e.options),(()=>{_.value++})),i(_,(()=>{O(),T()})),i((()=>e.modelValue),(e=>{v.activeName=e})),i((()=>v.activeName),(()=>{T()})),i(x,(()=>{R()})),f((()=>{Kp.on(D,"resize",k),k()})),s((()=>{Kp.off(D,"resize");const e=p.value;if(e){const t=e.parentNode;t&&t.removeChild(e)}})),O(),T(),D.renderVN=()=>{const{loading:t}=e,{initialized:n,menuList:o,collapseStyle:l,isEnterCollapse:r}=v,a=h.value,i=x.value;return y("div",{ref:d,class:["vxe-menu",{[`size--${a}`]:a,"is--collapsed":i,"is--loading":t}]},[y("div",{class:"vxe-menu--item-list"},o.map((e=>i?(e=>{const{itemKey:t,level:n,hasChild:o,isActive:l,isExactActive:r,routerLink:a,childList:i}=e;return e.permissionCode&&!Dm.checkVisible(e.permissionCode)?Am():y("div",{key:t,class:["vxe-menu--item-wrapper",`vxe-menu--item-level${n}`,{"is--exact-active":r,"is--active":l}]},[a?y(C("router-link"),{class:"vxe-menu--item-link",to:a,onClick(t){P(t,e)}},{default:()=>N(e)}):y("div",{class:"vxe-menu--item-link",onClick(t){P(t,e)}},N(e)),o?y("div",{class:"vxe-menu--item-group"},i.map((e=>L(e)))):Am()])})(e):L(e)))),n?y("div",{ref:p,class:["vxe-menu--collapse-wrapper",{[`size--${a}`]:a,"is--collapsed":i,"is--enter":r,"is--loading":t}],style:l,onMouseenter:F,onMouseleave:V},[i?y("div",{class:"vxe-menu--item-list"},o.map((e=>L(e)))):Am()]):Am(),y(sf,{class:"vxe-list-view--loading",modelValue:t})])},D},render(){return this.renderVN()}}),sw=Object.assign({},iw,{install(e){e.component(iw.name,iw)}});_m.use(sw),$m.component(iw);const cw=sw;function uw(e){return sp.find(yv,(t=>t.props.id===e))}function dw(e,t,n,o){let l;return l=sp.isObject(t)?t:{content:sp.toValueString(t),title:n},function(e){return Bm(),new Promise((t=>{const n=Object.assign({},e);if(n.id&&yv.some((e=>e.props.id===n.id)))t("exist");else{const e=n.onHide,o=Object.assign(n,{key:sp.uniqueId(),modelValue:!0,onHide(n){const l=Lm.modals;e&&e(n),Lm.modals=l.filter((e=>e.key!==o.key)),t(n.type)}});Lm.modals.push(o)}}))}(Object.assign(Object.assign(Object.assign({},e),o),l))}const pw={get:uw,close:function(e){const t=e?[uw(e)]:yv,n=[];return t.forEach((e=>{e&&n.push(e.close())})),Promise.all(n)},open:function(e){return dw({type:"modal"},e)},alert:function(e,t,n){return dw({type:"alert",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,n)},confirm:function(e,t,n){return dw({type:"confirm",status:"question",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,n)},message:function(e,t){return dw({type:"message",mask:!1,lockView:!1,lockScroll:!1,showHeader:!1},e,"",t)},notification:function(e,t,n){return dw({type:"notification",mask:!1,lockView:!1,lockScroll:!1,showHeader:!0,draggable:!1,position:"top-right",width:320},e,t,n)}},mw=Object.assign(Tv,{install:function(e){e.component(Tv.name,Tv)}});$m.modal=pw,_m.use(mw),$m.component(Tv);const gw=mw,fw=p({name:"VxeNoticeBar",props:{duration:[String,Number],direction:{type:String,default:()=>Ap().noticeBar.direction},speed:{type:String,default:()=>Ap().noticeBar.speed},content:String,vertical:Boolean,loop:{type:Boolean},size:{type:String,default:()=>Ap().noticeBar.size||Ap().size}},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId(),{computeSize:a}=Om(e),i=r(),c=r(),u=m({animationDuration:0}),d={refElem:i},p=g((()=>{const{content:t}=e;return`${t||""}`})),h={},v={xID:l,props:e,context:t,reactData:u,getRefMaps:()=>d,getComputeMaps:()=>h},b={dispatchEvent:(e,t,n)=>{o(e,Gp(n,{$noticeBar:v},t))}},x=()=>{const{speed:t}=e,n=c.value;if(n){let e=46;"fast"===t?e=118:"slow"===t&&(e=18),u.animationDuration=Math.ceil(n.scrollWidth/e)}};Object.assign(v,b,{});return v.renderVN=()=>{const{vertical:t,duration:o,direction:l}=e,{animationDuration:r}=u,s=a.value,d=p.value,m=n.default,g=n.prefix,f=n.suffix;return y("div",{ref:i,class:["vxe-notice-bar","is--"+(t?"vertical":"horizontal"),`dir--${l||"left"}`,{[`size--${s}`]:s}]},[g?y("div",{class:"vxe-notice-bar--prefix"},g({})):Am(),y("div",{class:"vxe-notice-bar--content"},[y("div",{ref:c,class:"vxe-notice-bar--inner"},[y("div",{class:"vxe-notice-bar--wrapper",style:{animationDuration:`${o?dg(o,"s"):r}s`}},m?m({}):d)])]),f?y("div",{class:"vxe-notice-bar--suffix"},f({})):Am()])},f((()=>{Kp.on(v,"resize",x),x()})),s((()=>{Kp.off(v,"resize")})),v},render(){return this.renderVN()}}),hw=Object.assign({},fw,{install(e){e.component(fw.name,fw)}});_m.use(hw),$m.component(fw);const vw=hw,bw=Object.assign({},vb,{install(e){e.component(vb.name,vb)}});_m.use(bw),$m.component(vb);const xw=bw;class ww{constructor(e,t){Object.assign(this,{id:sp.uniqueId("option_"),value:t.value,label:t.label,visible:t.visible,className:t.className,disabled:t.disabled})}update(e,t){this[e]=t}}function yw(e,t){return t instanceof ww?t:new ww(e,t)}function Cw(e,t){Object.keys(e).forEach((n=>{i((()=>e[n]),(e=>{t.update(n,e)}))}))}function Sw(e,t,n,o){const{reactData:l}=e,{staticOptions:r}=l,a=t.parentNode,i=o?o.optionConfig:null,s=i?i.options:r;a&&s&&(s.splice(sp.arrayIndexOf(a.children,t),0,n),l.staticOptions=r.slice(0))}function Ew(e,t){const{reactData:n}=e,{staticOptions:o}=n,l=sp.findTree(o,(e=>e.id===t.id),{children:"options"});l&&l.items.splice(l.index,1),n.staticOptions=o.slice(0)}const Dw=p({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},emits:[],setup(e,{slots:t}){const o=r(),l=n("$xeSelect",{}),a=yw(l,e),i={optionConfig:a};return a.options=[],b("$xeOptgroup",i),Cw(e,a),f((()=>{const e=o.value;Sw(l,e,a)})),h((()=>{Ew(l,a)})),()=>{const e=t.default;return y("div",{ref:o},e?e({}):[])}}}),Tw=Object.assign(Dw,{install:function(e){e.component(Dw.name,Dw)}});_m.use(Tw),$m.component(Dw);const Ow=Tw,kw=p({name:"VxeOption",props:{value:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},emits:[],setup(e,{slots:t}){const o=r(),l=n("$xeSelect",{}),a=n("$xeOptgroup",null),i=yw(l,e);return i.slots=t,Cw(e,i),f((()=>{const e=o.value;Sw(l,e,i,a)})),h((()=>{Ew(l,i)})),()=>y("div",{ref:o})}}),Rw=Object.assign(kw,{install:function(e){e.component(kw.name,kw)}});_m.use(Rw),$m.component(kw);const Iw=Rw,Mw=p({name:"VxePager",props:{size:{type:String,default:()=>Ap().pager.size||Ap().size},layouts:{type:Array,default:()=>Ap().pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>Ap().pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>Ap().pager.pagerCount||7},pageSizes:{type:Array,default:()=>Ap().pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>Ap().pager.align},border:{type:Boolean,default:()=>Ap().pager.border},background:{type:Boolean,default:()=>Ap().pager.background},perfect:{type:Boolean,default:()=>Ap().pager.perfect},autoHidden:{type:Boolean,default:()=>Ap().pager.autoHidden},transfer:{type:Boolean,default:()=>Ap().pager.transfer},className:[String,Function],pageSizePlacement:{type:String,default:()=>Ap().pager.pageSizePlacement},iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,o){const{slots:l,emit:a}=o,s=sp.uniqueId(),{computeSize:c}=Om(e),u=n("$xeGrid",null),d=m({inpCurrPage:e.currentPage}),p=r(),f={refElem:p},h=g((()=>E(e.total,e.pageSize))),v=g((()=>{const{pagerCount:t}=e,n=h.value>t?t-2:t,o=[];for(let e=0;e<n;e++)o.push(e);return o})),b=g((()=>Math.floor((e.pagerCount-2)/2))),x=g((()=>e.pageSizes.map((e=>sp.isNumber(e)?{value:e,label:`${lm("vxe.pager.pagesize",[e])}`}:Object.assign({value:"",label:""},e))))),w={xID:s,props:e,context:o,getRefMaps:()=>f};let C={},S={};const E=(e,t)=>Math.max(Math.ceil(e/t),1),D=(t,n)=>{a("update:currentPage",n),t&&n!==e.currentPage&&C.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:n},t)},T=(t,n)=>{a("update:currentPage",t),n&&t!==e.currentPage&&C.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:t},n)},O=e=>{const{$event:t}=e,n=t.target,o=sp.toInteger(n.value),l=h.value,r=o<=0?1:o>=l?l:o,a=sp.toValueString(r);n.value=a,d.inpCurrPage=a,T(r,t)},k=t=>{const{currentPage:n}=e;n>1&&T(1,t)},R=t=>{const{currentPage:n}=e,o=h.value;n<o&&T(o,t)},I=t=>{const{currentPage:n}=e,o=h.value;n>1&&T(Math.min(o,Math.max(n-1,1)),t)},M=t=>{const{currentPage:n}=e,o=h.value;n<o&&T(Math.min(o,n+1),t)},P=t=>{const n=v.value;T(Math.max(e.currentPage-n.length,1),t)},F=t=>{const n=h.value,o=v.value;T(Math.min(e.currentPage+o.length,n),t)},V=t=>{const{value:n}=t,o=sp.toNumber(n),l=E(e.total,o);let r=e.currentPage;r>l&&(r=l,a("update:currentPage",l)),a("update:pageSize",o),C.dispatchEvent("page-change",{type:"size",pageSize:o,currentPage:r},t.$event)},A=e=>{const{$event:t}=e;Kp.hasKey(t,Bp.ENTER)?O(e):Kp.hasKey(t,Bp.ARROW_UP)?(t.preventDefault(),M(t)):Kp.hasKey(t,Bp.ARROW_DOWN)&&(t.preventDefault(),I(t))},$=()=>{const{currentPage:t,total:n}=e,o=l.home,r=h.value;return o?y("span",{class:"vxe-pager--custom-home-btn"},o({$pager:w,total:n,currentPage:t,pageCount:r})):y("button",{class:["vxe-pager--home-btn",{"is--disabled":t<=1}],type:"button",title:lm("vxe.pager.homePageTitle"),onClick:k},[y("i",{class:["vxe-pager--btn-icon",e.iconHomePage||_p().PAGER_HOME]})])},N=()=>{const{currentPage:t,total:n}=e,o=l.prevPage||l["prev-page"],r=h.value;return o?y("span",{class:"vxe-pager--custom-prev-btn"},o({$pager:w,total:n,currentPage:t,pageCount:r})):y("button",{class:["vxe-pager--prev-btn",{"is--disabled":t<=1}],type:"button",title:lm("vxe.pager.prevPageTitle"),onClick:I},[y("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||_p().PAGER_PREV_PAGE]})])},L=t=>{const{currentPage:n,total:o}=e,r=l.prevJump||l["prev-jump"],a=h.value;return r?y("span",{class:"vxe-pager--custom-jump-prev"},r({$pager:w,total:o,currentPage:n,pageCount:a})):y(t||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!t,"is--disabled":n<=1}],type:"button",title:lm("vxe.pager.prevJumpTitle"),onClick:P},[t?y("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||_p().PAGER_JUMP_MORE]}):null,y("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||_p().PAGER_JUMP_PREV]})])},_=t=>{const{currentPage:n,total:o}=e,r=l.nextJump||l["next-jump"],a=h.value;return r?y("span",{class:"vxe-pager--custom-jump-next"},r({$pager:w,total:o,currentPage:n,pageCount:a})):y(t||"button",{class:["vxe-pager--jump-next",{"is--fixed":!t,"is--disabled":n>=a}],type:"button",title:lm("vxe.pager.nextJumpTitle"),onClick:F},[t?y("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||_p().PAGER_JUMP_MORE]}):null,y("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||_p().PAGER_JUMP_NEXT]})])},B=()=>{const{currentPage:t,total:n}=e,o=l.nextPage||l["next-page"],r=h.value;return o?y("span",{class:"vxe-pager--custom-next-btn"},o({$pager:w,total:n,currentPage:t,pageCount:r})):y("button",{class:["vxe-pager--next-btn",{"is--disabled":t>=r}],type:"button",title:lm("vxe.pager.nextPageTitle"),onClick:M},[y("i",{class:["vxe-pager--btn-icon",e.iconNextPage||_p().PAGER_NEXT_PAGE]})])},z=()=>{const{currentPage:t,total:n}=e,o=l.end,r=h.value;return o?y("span",{class:"vxe-pager--custom-end-btn"},o({$pager:w,total:n,currentPage:t,pageCount:r})):y("button",{class:["vxe-pager--end-btn",{"is--disabled":t>=r}],type:"button",title:lm("vxe.pager.endPageTitle"),onClick:R},[y("i",{class:["vxe-pager--btn-icon",e.iconEndPage||_p().PAGER_END]})])},j=t=>{const{currentPage:n,total:o,pagerCount:r}=e,a=t?l.numberJump||l["number-jump"]:l.number,i=[],s=h.value,c=v.value,u=b.value,d=s>r,p=d&&n>u+1,m=d&&n<s-u,g=[];let f=1;return d&&(f=n>=s-u?Math.max(s-c.length+1,1):Math.max(n-u,1)),t&&p&&(g.push(1),i.push(y("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>D(e,1)},"1"),L("span"))),c.forEach(((e,t)=>{const o=f+t;o<=s&&(g.push(o),i.push(y("button",{key:o,class:["vxe-pager--num-btn",{"is--active":n===o}],type:"button",onClick:e=>D(e,o)},`${o}`)))})),t&&m&&(g.push(s),i.push(_("button"),y("button",{class:"vxe-pager--num-btn",type:"button",onClick:e=>D(e,s)},s))),a?y("span",{class:"vxe-pager--custom-btn-wrapper"},a({$pager:w,total:o,numList:g,currentPage:n,pageCount:s})):y("span",{class:"vxe-pager--btn-wrapper"},i)},H=()=>j(!0),W=()=>{const{total:t,currentPage:n,pageSize:o,pageSizePlacement:r,transfer:a}=e,i=l.sizes,s=x.value,c=h.value;return i?y("span",{class:"vxe-pager--custom-sizes"},i({$pager:w,total:t,currentPage:n,pageCount:c,pageSize:o,options:s})):y(Vv,{class:"vxe-pager--sizes",modelValue:o,placement:r,transfer:a,options:s,onChange:V})},q=t=>{const{total:n}=e,{inpCurrPage:o}=d,r=t?l.fullJump||l["full-jump"]:l.jump,a=h.value;return r?y("span",{class:"vxe-pager--custom-jump"},r({$pager:w,total:n,currentPage:o,pageCount:a})):y("span",{class:"vxe-pager--jump"},[t?y("span",{class:"vxe-pager--goto-text"},lm("vxe.pager.goto")):null,y(Wf,{class:"vxe-pager--goto",modelValue:d.inpCurrPage,placeholder:lm("vxe.pager.gotoTitle"),align:"center",type:"integer",max:a,min:1,controls:!1,onKeydown:A,onBlur:O,"onUpdate:modelValue"(e){d.inpCurrPage=e}}),t?y("span",{class:"vxe-pager--classifier-text"},lm("vxe.pager.pageClassifier")):null])},U=()=>q(!0),G=()=>{const{currentPage:t,total:n}=e,o=l.pageCount||l["page-count"],r=h.value;return o?y("span",{class:"vxe-pager--custom-count"},o({$pager:w,total:n,currentPage:t,pageCount:r})):y("span",{class:"vxe-pager--count"},[y("span",{class:"vxe-pager--separator"}),y("span",r)])},K=()=>{const{currentPage:t,total:n}=e,o=l.total,r=h.value;return o?y("span",{class:"vxe-pager--custom-total"},o({$pager:w,total:n,currentPage:t,pageCount:r})):y("span",{class:"vxe-pager--total"},lm("vxe.pager.total",[n]))};C={dispatchEvent:(e,t,n)=>{a(e,Gp(n,{$pager:w},t))},homePage:()=>(k(),t()),endPage:()=>(R(),t()),prevPage:()=>(I(),t()),nextPage:()=>(M(),t()),prevJump:()=>(P(),t()),nextJump:()=>(F(),t()),jumpPage(e){const n=sp.toNumber(e)||1;return d.inpCurrPage=n,T(n),t()}},S={handlePrevPage:I,handleNextPage:M,handlePrevJump:P,handleNextJump:F},Object.assign(w,C,S),i((()=>e.currentPage),(e=>{d.inpCurrPage=e}));return w.renderVN=()=>{const{align:t,layouts:n,className:o}=e,r=[],a=c.value,i=h.value;return l.left&&r.push(y("span",{class:"vxe-pager--left-wrapper"},l.left({$grid:u}))),n.forEach((e=>{let t;switch(e){case"Home":t=$;break;case"PrevJump":t=L;break;case"PrevPage":t=N;break;case"Number":t=j;break;case"JumpNumber":t=H;break;case"NextPage":t=B;break;case"NextJump":t=_;break;case"End":t=z;break;case"Sizes":t=W;break;case"FullJump":t=U;break;case"Jump":t=q;break;case"PageCount":t=G;break;case"Total":t=K}t?r.push(t()):Hm("vxe.error.notProp",[`layouts -> ${e}`])})),l.right&&r.push(y("span",{class:"vxe-pager--right-wrapper"},l.right({$grid:u}))),y("div",{ref:p,class:["vxe-pager",o?sp.isFunction(o)?o({$pager:w}):o:"",{[`size--${a}`]:a,[`align--${t}`]:t,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&1===i,"is--loading":e.loading}]},[y("div",{class:"vxe-pager--wrapper"},r)])},w},render(){return this.renderVN()}}),Pw=Object.assign(Mw,{install:function(e){e.component(Mw.name,Mw)}});_m.use(Pw),$m.component(Mw);const Fw=Pw,Vw=p({name:"VxePasswordInput",props:{modelValue:String,immediate:{type:Boolean,default:!0},name:String,clearable:{type:Boolean,default:()=>Ap().passwordInput.clearable},readonly:Boolean,disabled:Boolean,maxLength:[String,Number],placeholder:String,autoComplete:{type:String,default:"off"},className:String,size:{type:String,default:()=>Ap().passwordInput.size||Ap().size},prefixIcon:String,suffixIcon:String,controls:{type:Boolean,default:()=>Ap().passwordInput.controls},autocomplete:String},emits:["update:modelValue","input","change","click","focus","blur","clear","toggle-visible","prefix-click","suffix-click"],setup(e,o){const{emit:l,slots:a}=o,s=n("$xeForm",null),c=n("xeFormItemInfo",null),u=sp.uniqueId(),{computeSize:d}=Om(e),p=m({showPwd:!1,isActivated:!1,inputValue:e.modelValue}),f=r(),h=r(),v={refElem:f,refInput:h},b={xID:u,props:e,context:o,reactData:p,getRefMaps:()=>v};let x={};const w=g((()=>e.clearable)),C=g((()=>{const{readonly:t}=e;return t})),S=g((()=>{const{placeholder:t}=e;if(t)return zg(t);const n=Ap().passwordInput.placeholder;return n?zg(n):lm("vxe.base.pleaseInput")})),E=g((()=>{const{showPwd:e}=p;return e?"text":"password"})),D=g((()=>{const{immediate:t}=e;return t})),T=e=>{const{inputValue:t}=p;x.dispatchEvent(e.type,{value:t},e)},O=e=>{((e,t)=>{const n=D.value;p.inputValue=e,n?k(e,t):x.dispatchEvent("input",{value:e},t)})(e.target.value,e)},k=(t,n)=>{p.inputValue=t,l("update:modelValue",t),x.dispatchEvent("input",{value:t},n),sp.toValueString(e.modelValue)!==t&&(x.dispatchEvent("change",{value:t},n),s&&c&&s.triggerItemEvent(n,c.itemConfig.field,t))},R=e=>{T(e);const{inputValue:t}=p;s&&c&&s.triggerItemEvent(e,c.itemConfig.field,t)},I=e=>{p.isActivated=!0,T(e)},M=e=>{const{inputValue:t}=p,n=t;x.dispatchEvent("blur",{value:n},e),s&&c&&s.triggerItemEvent(e,c.itemConfig.field,n)},P=t=>{const{readonly:n,disabled:o}=e,{showPwd:l}=p;o||n||(p.showPwd=!l),x.dispatchEvent("toggle-visible",{visible:p.showPwd},t)},F=e=>{T(e)},V=(e,t)=>{focus(),k("",e),x.dispatchEvent("clear",{value:t},e)},A=t=>{const{disabled:n}=e;if(!n){const{inputValue:e}=p;x.dispatchEvent("suffix-click",{value:e},t)}},$=t=>{const{disabled:n}=e;if(!n){const{inputValue:e}=p;x.dispatchEvent("prefix-click",{value:e},t)}},N=()=>{const{showPwd:e}=p;return y("div",{class:"vxe-password-input--control-icon",onClick:P},[y("i",{class:["vxe-password-input--password-icon",e?_p().PASSWORD_INPUT_SHOW_PWD:_p().PASSWORD_INPUT_HIDE_PWD]})])};x={dispatchEvent(e,t,n){l(e,Gp(n,{$passwordInput:b},t))},focus(){const e=h.value;return p.isActivated=!0,e.focus(),t()},blur:()=>(h.value.blur(),p.isActivated=!1,t()),select:()=>(h.value.select(),p.isActivated=!1,t())},Object.assign(b,x),i((()=>e.modelValue),(e=>{p.inputValue=e}));return b.renderVN=()=>{const{className:t,name:n,disabled:o,readonly:l,autocomplete:r,autoComplete:i,maxLength:s}=e,{inputValue:c,isActivated:u}=p,m=d.value,g=C.value,v=E.value,b=S.value,x=w.value,D=(()=>{const{prefixIcon:t}=e,n=a.prefix;return n||t?y("div",{class:"vxe-password-input--prefix",onClick:$},[y("div",{class:"vxe-password-input--prefix-icon"},n?Zm(n({})):[y("i",{class:t})])]):null})(),T=(()=>{const{disabled:t,suffixIcon:n,controls:o}=e,{inputValue:l}=p,r=a.suffix,i=w.value;return i||o||r||n?y("div",{class:["vxe-password-input--suffix",{"is--clear":i&&!t&&!(""===l||sp.eqNull(l))}]},[i?y("div",{class:"vxe-password-input--clear-icon",onClick:V},[y("i",{class:_p().INPUT_CLEAR})]):Am(),o?N():Am(),r||n?y("div",{class:"vxe-password-input--suffix-icon",onClick:A},r?Zm(r({})):[y("i",{class:n})]):Am()]):null})();return y("div",{ref:f,class:["vxe-password-input",t,{[`size--${m}`]:m,"is--prefix":!!D,"is--suffix":!!T,"is--readonly":l,"is--disabled":o,"is--active":u,"show--clear":x&&!o&&!(""===c||sp.eqNull(c))}],spellcheck:!1},[D||Am(),y("div",{class:"vxe-password-input--wrapper"},[y("input",{ref:h,class:"vxe-password-input--inner",value:c,name:n,type:v,placeholder:b,readonly:g,disabled:o,autocomplete:r||i,maxlength:s,onClick:F,onInput:O,onChange:R,onFocus:I,onBlur:M})]),T||Am()])},b},render(){return this.renderVN()}}),Aw=Object.assign({},Vw,{install(e){e.component(Vw.name,Vw)}});_m.use(Aw),$m.component(Vw);const $w=Aw,Nw=sp.browse();let Lw;function _w(){const e=document.createElement("iframe");return e.className="vxe-table--print-frame",e}function Bw(){Lw.parentNode||document.body.appendChild(Lw)}function zw(){requestAnimationFrame(jw)}function jw(){if(Lw){if(Lw.parentNode){try{Lw.contentDocument.write("")}catch(e){}Lw.parentNode.removeChild(Lw)}Lw=null}}const Hw="#000000";function Ww(e,t){const{pageStyle:n,customStyle:o}=e,l=function(e){const t=Object.assign({},e),n=Object.assign({},t.header),o=Object.assign({},t.title),l=Object.assign({},t.footer),r=Object.assign({},t.pageNumber);let a=50,i=a,s=a,c=a,u=a;return(sp.isNumber(t.margin)||sp.isString(t.margin))&&(a=t.margin,i=a,s=a,c=a,u=a),{marginTop:dg(t.marginTop||i),marginBottom:dg(t.marginBottom||s),marginLeft:dg(t.marginLeft||c),marginRight:dg(t.marginRight||u),fontSize:dg(t.fontSize),color:t.color,textAlign:t.textAlign,header:{height:dg(n.height),textAlign:n.textAlign},title:{color:o.color,fontSize:dg(o.fontSize),textAlign:o.textAlign},footer:{height:dg(l.height),textAlign:l.textAlign},pageNumber:{color:r.color,fontSize:dg(r.fontSize),textAlign:r.textAlign}}}(n),r=l.header,a=l.title,i=l.header,s=l.pageNumber,c=e._pageBreaks||e.pageBreaks&&e.pageBreaks.length;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.title||""}</title>`,'<style media="print">@page{size:auto;margin: 0mm;}</style>',`<style>body{font-size:${l.fontSize||"14px"};color:${l.color||Hw};text-align:${l.textAlign||"left"};}</style>`,"<style>",".vxe-print-slots{display:none;}",".vxe-print-page-break.align--center{text-align:center;}",".vxe-print-page-break.align--left{text-align:left;}",".vxe-print-page-break.align--right{text-align:right;}",".vxe-print-page-break{break-before:always;page-break-before:always;display:flex;flex-direction:column;height:100vh;overflow:hidden;}",".vxe-print-page-break--body{display:flex;flex-direction:row;flex-grow:1;overflow:hidden;}",".vxe-print-page-break--left,.vxe-print-page-break--right{flex-shrink:0;height:100%;}",`.vxe-print-page-break--left{width:${l.marginLeft};}`,`.vxe-print-page-break--right{width:${l.marginRight};}`,".vxe-print-page-break--header,.vxe-print-page-break--footer{display:flex;justify-content:center;flex-direction:column;flex-shrink:0;width:100%;}",`.vxe-print-page-break--header{height:${r.height||l.marginTop};padding:0 ${l.marginLeft} 0 ${l.marginRight};text-align:${r.textAlign||"left"};}`,`.vxe-print-page-break--header-title{font-size:${a.fontSize||"1.6em"};color:${a.color||Hw};text-align:${e.headerAlign||s.textAlign||"center"};}`,`.vxe-print-page-break--footer{height:${i.height||l.marginBottom};padding:0 ${l.marginLeft} 0 ${l.marginRight};text-align:${i.textAlign||"left"};}`,".vxe-print-page-break--content{flex-grow:1;overflow:hidden;}",`.vxe-print-page-break--footer-page-number{font-size:${s.fontSize||"1.2em"};color:${s.color||Hw};text-align:${e.footerAlign||s.textAlign||"center"};}`,"</style>","<style>.vxe-table{white-space:pre;}</style>",'<style>body{padding:0;font-family:"Microsoft YaHei",,"MicrosoftJhengHei",,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}</style>',c?"<style>body{margin:0;}</style>":`<style>body{margin:${l.marginTop} ${l.marginRight} ${l.marginBottom} ${l.marginLeft};}</style>`,o?`<style>${o}</style>`:"","</head>","<body>",`${t}`,"</body>","</html>"].join("")}function qw(e,t=""){const{beforeMethod:n}=e;n&&(t=n({content:t,html:t,options:e})||""),t=Ww(e,t);const o=new Blob([t],{type:`text/${"html"};charset=utf-8;`});return new Promise((e=>{if(Nw.msie){jw(),Lw=_w(),Bw();const n=Lw.contentDocument;n&&(n.write(t),n.execCommand("print")),setTimeout((()=>{e({status:!0})}),300)}else Lw||(Lw=_w(),Lw.onload=t=>{const n=t.target;if(n.src)try{const e=n.contentWindow;e&&(e.onafterprint=zw,e.print())}catch(o){}e({status:!0})},Lw.onerror=()=>{e({status:!1})}),Bw(),Lw.src=URL.createObjectURL(o)}))}const Uw=e=>{const t=Object.assign({_pageBreaks:!1,customLayout:!0},e);if(t.sheetName&&(t.title=t.title||t.sheetName),t.style&&(t.customStyle=t.customStyle||t.style),t.beforePrintMethod&&(t.beforeMethod=t.beforeMethod||t.beforePrintMethod),t.pageBreaks&&t.pageBreaks.length)return qw(t,function(e){const{title:t,showPageNumber:n,align:o,headerAlign:l,footerAlign:r,showAllPageTitle:a}=e,i=e.pageBreaks||[],s=i.length;return i.map(((i,c)=>{const u=i.bodyHtml,d=i.headerHtml||e.headerHtml,p=i.footerHtml||e.footerHtml,m=i.leftHtml||e.leftHtml,g=i.rightHtml||e.rightHtml,f=c+1,h={currentPage:f,pageCount:s};return[`<div class="${["vxe-print-page-break",o?`align--${o}`:""].join(" ")}">`,`<div class="${["vxe-print-page-break--header",l?`align--${l}`:""].join(" ")}">`,d?`${sp.isFunction(d)?d(h):d||""}`:!t||!a&&c?"":`<div class="vxe-print-page-break--header-title">${t||""}</div>`,"</div>",'<div class="vxe-print-page-break--body">',`<div class="vxe-print-page-break--left">${sp.isFunction(m)?m(h):m||""}</div>`,`<div class="vxe-print-page-break--content">${sp.isFunction(u)?u(h):u||""}</div>`,`<div class="vxe-print-page-break--right">${sp.isFunction(g)?g(h):g||""}</div>`,"</div>",`<div class="${["vxe-print-page-break--footer",r?`align--${r}`:""].join(" ")}">`,p?`${sp.isFunction(p)?p(h):p||""}`:n?`<div class="vxe-print-page-break--footer-page-number">${f}/${s}</div>`:"","</div>","</div>"].join("")})).join("")}(t));return qw(t,t.html||t.content)};const Gw=p({name:"VxePrintPageBreak",props:{},emits:[],setup(e,t){const{slots:o,emit:l}=t,a=sp.uniqueId(),i=n("$xePrint",null),s=r(),c=m({}),u={refElem:s},d={},p=m({id:a,slots:o}),g={xID:a,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>d},v={dispatchEvent:(e,t,n)=>{l(e,Gp(n,{$print:i},t))}};if(Object.assign(g,v,{}),!i)return g.renderVN=()=>x(),g;return f((()=>{const e=s.value;i&&e&&function(e,t,n){const o=e.reactData.staticPageBreaks,l=t.parentNode;l&&o&&(o.splice(sp.arrayIndexOf(l.children,t),0,n),e.reactData.staticPageBreaks=o.slice(0))}(i,e,p)})),h((()=>{i&&function(e,t){e.reactData.staticPageBreaks=e.reactData.staticPageBreaks.filter((e=>e.id!==t.id))}(i,p)})),g.renderVN=()=>y("div",{ref:s}),g},render(){return this.renderVN()}}),Kw=Object.assign({},Gw,{install(e){e.component(Gw.name,Gw)}});_m.use(Kw),$m.component(Gw);const Yw=Kw,Xw=p({name:"VxePrint",props:{align:{type:String,default:()=>Ap().print.align},title:String,headerAlign:{type:String,default:()=>Ap().print.headerAlign},footerAlign:{type:String,default:()=>Ap().print.footerAlign},showPageNumber:{type:Boolean,default:()=>Ap().print.showPageNumber},customLayout:Boolean,pageBreaks:Array,content:String,html:String,headerHtml:String,footerHtml:String,leftHtml:String,rightHtml:String,showAllPageTitle:{type:Boolean,default:()=>Ap().print.showAllPageTitle},pageStyle:{type:Object,default:()=>Ap().print.pageStyle},customStyle:{type:String,default:()=>Ap().print.customStyle},beforeMethod:Function},emits:[],setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId(),a=r(),i=m({staticPageBreaks:[]}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent:(e,t,n)=>{o(e,Gp(n,{$print:u},t))},print(){const t=a.value;return Uw(Object.assign({},e,{_pageBreaks:!!i.staticPageBreaks.length,html:(n=t?t.outerHTML:"",`${n}`.replace(/(<!---->)/,"")||e.html||e.content||"")}));var n}};Object.assign(u,d,{});return u.renderVN=()=>{const{customLayout:t}=e,{staticPageBreaks:o}=i,l=n.default;return y("div",{ref:a,class:["vxe-print"]},t?l?Zm(l({})):[]:[y("div",{key:"slot",class:"vxe-print-slots"},l?Zm(l({})):[])].concat(o.length?(()=>{const{title:t,showPageNumber:o,showAllPageTitle:l,align:r,headerAlign:a,footerAlign:s}=e,{staticPageBreaks:c}=i,u=c.length;return c.map(((e,i)=>{const c=e.slots||{},d=i+1,p=c.default,m=c.header||n.header,g=c.footer||n.footer,f=c.left||n.left,h=c.right||n.right,v={currentPage:d,pageCount:u};return y("div",{class:["vxe-print-page-break",r?`align--${r}`:""]},[y("div",{class:["vxe-print-page-break--header",a?`align--${a}`:""]},m?Zm(m(v)):[!t||!l&&i?Am():y("div",{class:"vxe-print-page-break--header-title"},`${t||""}`)]),y("div",{class:"vxe-print-page-break--body"},[y("div",{class:"vxe-print-page-break--left"},f?Zm(f(v)):[]),y("div",{class:"vxe-print-page-break--content"},p?Zm(p(v)):[]),y("div",{class:"vxe-print-page-break--right"},h?Zm(h(v)):[])]),y("div",{class:["vxe-print-page-break--footer",s?`align--${s}`:""]},g?Zm(g(v)):[o?y("div",{class:"vxe-print-page-break--footer-page-number"},`${d}/${u}`):Am()])])}))})():(()=>{const{title:t,showPageNumber:n,showAllPageTitle:o,align:l,headerAlign:r,footerAlign:a}=e,i=e.pageBreaks||[],s=i.length;return i.map(((i,c)=>{const u=i.bodyHtml,d=i.headerHtml||e.headerHtml,p=i.footerHtml||e.footerHtml,m=i.leftHtml||e.leftHtml,g=i.rightHtml||e.rightHtml,f=c+1,h={currentPage:f,pageCount:s};return y("div",{class:["vxe-print-page-break",l?`align--${l}`:""]},[y("div",{class:["vxe-print-page-break--header",r?`align--${r}`:""]},d?`${sp.isFunction(d)?d(h):d||""}`:[!t||!o&&c?Am():y("div",{class:"vxe-print-page-break--header-title"},`${t||""}`)]),y("div",{class:"vxe-print-page-break--body"},[y("div",{class:"vxe-print-page-break--left"},`${sp.isFunction(m)?m(h):m||""}`),y("div",{class:"vxe-print-page-break--content"},`${sp.isFunction(u)?u(h):u||""}`),y("div",{class:"vxe-print-page-break--right"},`${sp.isFunction(g)?g(h):g||""}`)]),y("div",{class:["vxe-print-page-break--footer",a?`align--${a}`:""]},p?`${sp.isFunction(p)?p(h):p||""}`:[n?y("div",{class:"vxe-print-page-break--footer-page-number"},`${f}/${s}`):Am()])])}))})()))},b("$xePrint",u),u},render(){return this.renderVN()}}),Zw=Object.assign({},Xw,{install(e){e.component(Xw.name,Xw)}});_m.use(Zw),$m.component(Xw),$m.print=Uw;const Qw=Zw,Jw=p({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,trigger:{type:String,default:Ap().pulldown.trigger},size:{type:String,default:()=>Ap().size},options:Array,className:{type:[String,Function],default:Ap().pulldown.className},popupClassName:[String,Function],showPopupShadow:Boolean,destroyOnClose:{type:Boolean,default:Ap().pulldown.destroyOnClose},transfer:{type:Boolean,default:null}},emits:["update:modelValue","click","option-click","show-panel","hide-panel","visible-change"],setup(e,o){const{slots:l,emit:a}=o,s=n("$xeModal",null),c=n("$xeDrawer",null),u=n("$xeTable",null),d=n("$xeForm",null),p=sp.uniqueId(),{computeSize:f}=Om(e),v=m({initialized:!1,panelIndex:0,panelStyle:{},panelPlacement:null,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),b={hpTimeout:void 0},x=r(),w=r(),C=r(),E=g((()=>{const{transfer:t}=e;if(null===t){const e=Ap().pulldown.transfer;if(sp.isBoolean(e))return e;if(u||s||c||d)return!0}return t})),D={refElem:x},T={xID:p,props:e,context:o,reactData:v,internalData:b,getRefMaps:()=>D};let O={};const k=()=>{const{placement:n}=e,{panelIndex:o}=v,l=w.value,r=C.value,a=E.value,i=()=>{const e=bg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});v.panelStyle=t,v.panelPlacement=e.placement};return i(),t().then(i)},R=()=>(v.initialized||(v.initialized=!0),new Promise((n=>{e.disabled?t((()=>{n()})):(b.hpTimeout&&clearTimeout(b.hpTimeout),v.isActivated=!0,v.isAniVisible=!0,setTimeout((()=>{v.visiblePanel=!0,a("update:modelValue",!0),k(),setTimeout((()=>{n(k())}),40)}),10),v.panelIndex<_g()&&(v.panelIndex=Lg()),A("visible-change",{visible:!0},null))}))),I=()=>(v.visiblePanel=!1,A("visible-change",{visible:!1},null),a("update:modelValue",!1),new Promise((e=>{v.isAniVisible?b.hpTimeout=setTimeout((()=>{v.isAniVisible=!1,t((()=>{e()}))}),350):t((()=>{e()}))}))),M=t=>{const{trigger:n}=e;"click"===n&&(v.visiblePanel?(I(),A("hide-panel",{},t)):(R(),A("show-panel",{},t))),A("click",{$pulldown:T},t)},P=t=>{const{disabled:n}=e,{visiblePanel:o}=v,l=C.value;n||o&&(mg(t,l).flag?k():(I(),A("hide-panel",{},t)))},F=t=>{const{disabled:n}=e,{visiblePanel:o}=v,l=x.value,r=C.value;n||(v.isActivated=mg(t,l).flag||mg(t,r).flag,o&&!v.isActivated&&(I(),A("hide-panel",{},t)))},V=e=>{v.visiblePanel&&(v.isActivated=!1,I(),A("hide-panel",{},e))},A=(e,t,n)=>{a(e,Gp(n,{$pulldown:T},t))};O={dispatchEvent:A,isPanelVisible:()=>v.visiblePanel,togglePanel:()=>v.visiblePanel?I():R(),showPanel:R,hidePanel:I},Object.assign(T,O),i((()=>e.modelValue),(e=>{v.isActivated=!!e,e?R():I()})),t((()=>{e.modelValue&&R(),Kp.on(T,"mousewheel",P),Kp.on(T,"mousedown",F),Kp.on(T,"blur",V)})),h((()=>{Kp.off(T,"mousewheel"),Kp.off(T,"mousedown"),Kp.off(T,"blur")}));const $=e=>{const t=l.option;return y("div",{class:"vxe-pulldown--panel-list"},e?e.map((e=>y("div",{class:"vxe-pulldown--panel-item",onClick(t){((e,t)=>{t.disabled||(v.visiblePanel&&(I(),A("hide-panel",{},e)),A("option-click",{option:t},e))})(t,e)}},t?t({$pulldown:T,option:e}):`${e.label||""}`))):[])};return T.renderVN=()=>{const{className:t,options:n,popupClassName:o,showPopupShadow:r,destroyOnClose:a,disabled:i}=e,{initialized:s,isActivated:c,isAniVisible:u,visiblePanel:d,panelStyle:p,panelPlacement:m}=v,g=E.value,h=f.value,b=l.default,D=l.header,O=l.footer,k=l.dropdown;return y("div",{ref:x,class:["vxe-pulldown",t?sp.isFunction(t)?t({$pulldown:T}):t:"",{[`size--${h}`]:h,"is--visible":d,"is--disabled":i,"is--active":c}]},[y("div",{ref:w,class:"vxe-pulldown--content",onClick:M},b?b({$pulldown:T}):[]),y(S,{to:"body",disabled:!g||!s},[y("div",{ref:C,class:["vxe-table--ignore-clear vxe-pulldown--panel",o?sp.isFunction(o)?o({$pulldown:T}):o:"",{[`size--${h}`]:h,"is--shadow":r,"is--transfer":g,"ani--leave":u,"ani--enter":d}],placement:m,style:p},[y("div",{class:"vxe-pulldown--panel-wrapper"},s&&(!a||(d||u))?[D?y("div",{class:"vxe-pulldown--panel-header"},D({$pulldown:T})):Am(),y("div",{class:"vxe-pulldown--panel-body"},k?k({$pulldown:T}):[$(n)]),O?y("div",{class:"vxe-pulldown--panel-footer"},O({$pulldown:T})):Am()]:[])])])])},T},render(){return this.renderVN()}}),ey=Object.assign(Jw,{install:function(e){e.component(Jw.name,Jw)}});_m.use(ey),$m.component(Jw);const ty=ey,ny=Object.assign(Iv,{install:function(e){e.component(Iv.name,Iv)}});_m.use(ny),$m.component(Iv);const oy=ny,ly=Object.assign(Mv,{install:function(e){e.component(Mv.name,Mv)}});_m.use(ly),$m.component(Mv);const ry=ly,ay=Object.assign(Pv,{install:function(e){e.component(Pv.name,Pv)}});_m.use(ay),$m.component(Pv);const iy=ay,sy=Object.assign({},Kb,{install(e){e.component(Kb.name,Kb)}});_m.use(sy),$m.component(Kb);const cy=sy,uy=p({name:"VxeResult",props:{imageUrl:String,imageStyle:Object,icon:String,type:[String,Number],status:[String,Number],title:[String,Number],content:[String,Number]},emits:[],setup(e,t){const{emit:n,slots:o}=t,l=sp.uniqueId(),a=r(),i=m({}),s={refElem:a},c={},u={xID:l,props:e,context:t,reactData:i,getRefMaps:()=>s,getComputeMaps:()=>c},d={dispatchEvent:(e,t,o)=>{n(e,Gp(o,{$result:u},t))}};Object.assign(u,d,{});return u.renderVN=()=>{const{imageUrl:t,imageStyle:n,icon:l,title:r,type:a,content:i}=e,s=e.status||a,c=o.extra;return y("div",{ref:"refElem",class:["vxe-result",{[`theme--${s}`]:s}]},[y("div",{class:"vxe-result--inner"},[t?y("div",{class:"vxe-result--img-wrapper"},[y("img",{src:t,style:n})]):y("div",{class:"vxe-result--icon-wrapper"},[y("i",{class:[l,a?_p()[`RESULT_${a}`.toLocaleUpperCase()]:""]})]),y("div",{class:"vxe-result--title-wrapper"},`${r||""}`),y("div",{class:"vxe-result--content-wrapper"},`${i||""}`),c?y("div",{class:"vxe-result--extra-wrapper"},c({})):Am()])])},u},render(){return this.renderVN()}}),dy=Object.assign({},uy,{install(e){e.component(uy.name,uy)}});_m.use(dy),$m.component(uy);const py=dy,my=Object.assign({},Jv,{install(e){e.component(Jv.name,Jv)}});_m.use(my),$m.component(Jv);const gy=my,fy=Object.assign(Vv,{install:function(e){e.component(Vv.name,Vv)}});_m.use(fy),$m.component(Vv);const hy=fy,vy=p({name:"VxeSplit",props:{width:[Number,String],height:[Number,String],vertical:{type:Boolean,default:()=>Ap().split.vertical},border:{type:Boolean,default:()=>Ap().split.border},padding:{type:Boolean,default:()=>Ap().split.padding},resize:{type:Boolean,default:()=>Ap().split.resize},items:Array,itemConfig:Object,barConfig:Object,actionConfig:Object},emits:["action-dblclick","action-click","toggle-expand","resize-start","resize-drag","resize-end"],setup(e,n){const{emit:o,slots:l}=n,a=sp.uniqueId(),s=r(),c=m({staticItems:[],itemList:[]}),d=g((()=>Object.assign({},Ap().split.itemConfig,e.itemConfig))),p=g((()=>Object.assign({},Ap().split.barConfig,e.barConfig))),v=g((()=>Object.assign({},Ap().split.actionConfig,e.actionConfig))),x=g((()=>"next"===v.value.direction)),w=g((()=>c.itemList.filter((e=>e.isVisible)))),C=g((()=>{const{vertical:t}=e;return c.itemList.filter((e=>t?!e.height:!e.width))})),S=g((()=>{const e=p.value,{width:t,height:n}=e,o={};return n&&(o.height=dg(n)),t&&(o.width=dg(t)),o})),E={computeItemOpts:d,computeBarOpts:p,computeActionOpts:v,computeIsFoldNext:x},D={refElem:s},T={xID:a,props:e,context:n,reactData:c,internalData:{},getRefMaps:()=>D,getComputeMaps:()=>E},O=(e,t,n)=>{o(e,Gp(n,{$split:T},t))},k=t=>{const{vertical:n}=e,{showAction:o,isExpand:l}=t,r=x.value,a="SPLIT_TOP_ACTION",i="SPLIT_BOTTOM_ACTION",s="SPLIT_LEFT_ACTION",c="SPLIT_RIGHT_ACTION";if(o){let e="";if(e=r?n?l?i:a:l?c:s:n?l?a:i:l?s:c,e)return _p()[e]}return""},R=(e,t)=>{const{staticItems:n}=c,o={isVisible:!0,isExpand:!0,renderWidth:0,resizeWidth:0,foldWidth:0,renderHeight:0,resizeHeight:0,foldHeight:0};return c.itemList=e.map((e=>(e.slots&&sp.each(e.slots,(e=>{sp.isFunction(e)||l[e]||Hm("vxe.error.notSlot",[e])})),Object.assign({},t?null:o,e,t?o:null,{id:sp.uniqueId()})))),n.length&&Hm("vxe.error.errConflicts",["<vxe-split-pane ...>","items"]),M()},I=e=>R(e||[],!1),M=()=>t().then((()=>{const{vertical:t}=e,{itemList:n}=c,o=s.value;if(!o)return;const l=o.clientWidth,r=o.clientHeight;if(!l||!r)return;const a=d.value,i=sp.toNumber(a.minWidth),u=sp.toNumber(a.minHeight),p=[];if(t){let e=0;if(n.forEach((t=>{const{height:n}=t;let o=0;n?(o=ag(n)?r*sp.toNumber(n):sp.toNumber(n),t.renderHeight=o):p.push(t),e+=o})),p.length){const t=(r-e)/p.length;p.forEach((e=>{e.renderHeight=Math.max(sp.toNumber(Bg(e.minHeight,u)),t)}))}}else{let e=0;if(n.forEach((t=>{const{width:n}=t;let o=0;n?(o=ag(n)?l*sp.toNumber(n):sp.toNumber(n),t.renderWidth=o):p.push(t),e+=o})),p.length){const t=(l-e)/p.length;p.forEach((e=>{e.renderWidth=Math.max(sp.toNumber(Bg(e.minWidth,i)),t)}))}}})),P=t=>{const{resize:n,vertical:o}=e,{itemList:l}=c;if(!n)return;t.preventDefault();const r=t.currentTarget.parentElement,a=s.value;if(!a)return;const i=r.getAttribute("itemid"),u=sp.findIndexOf(l,(e=>e.id===i)),p=l[u];if(!p)return;if(!p.isExpand)return;const m=x.value,g=d.value,f=sp.toNumber(g.minWidth),h=sp.toNumber(g.minHeight),v=l[u+(m?1:-1)],b=v?a.querySelector(`.vxe-split-pane[itemid="${v.id}"]`):null,w=p?a.querySelector(`.vxe-split-pane[itemid="${p.id}"]`):null,y=b?b.clientWidth:0,C=w?w.clientWidth:0,S=b?b.clientHeight:0,E=w?w.clientHeight:0,D=sp.toNumber(v?Bg(v.minWidth,f):f),T=sp.toNumber(Bg(p.minWidth,f)),k=sp.toNumber(v?Bg(v.minHeight,h):h),R=sp.toNumber(Bg(p.minHeight,h)),I=t.clientX,P=t.clientY;cg(a,"is--drag"),document.onmousemove=e=>{if(e.preventDefault(),o){const t=m?P-e.clientY:e.clientY-P;if(t>0){if(v&&E-t>=R){const n=E-t;v.resizeHeight=S+t,p.resizeHeight=n,O("resize-drag",{item:p,name:p.name,offsetHeight:t,resizeHeight:n,offsetWidth:0,resizeWidth:0},e)}}else if(v&&S+t>=k){const n=E-t;v.resizeHeight=S+t,p.resizeHeight=n,O("resize-drag",{item:p,name:p.name,offsetHeight:t,resizeHeight:n,offsetWidth:0,resizeWidth:0},e)}}else{const t=m?I-e.clientX:e.clientX-I;if(t>0){if(v&&C-t>=T){const n=C-t;v.resizeWidth=y+t,p.resizeWidth=n,O("resize-drag",{item:p,name:p.name,offsetHeight:0,resizeHeight:0,offsetWidth:t,resizeWidth:n},e)}}else if(v&&y+t>=D){const n=C-t;v.resizeWidth=y+t,p.resizeWidth=n,O("resize-drag",{item:p,name:p.name,offsetHeight:0,resizeHeight:0,offsetWidth:t,resizeWidth:n},e)}}},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null,sg(a,"is--drag"),O("resize-end",{item:p,name:p.name,resizeHeight:p.resizeHeight,resizeWidth:p.resizeWidth},e),M()},O("resize-start",{item:p,name:p.name},t)},F=t=>{if(!s.value)return;const{vertical:n}=e,{itemList:o}=c,l=x.value,r=t.currentTarget.parentElement.getAttribute("itemid"),a=sp.findIndexOf(o,(e=>e.id===r)),i=o[a],u=o[a+(l?1:-1)];if(i){const{showAction:e,isExpand:o}=i;e&&(n?u&&(u.isVisible=!o,u.foldHeight=0,i.isExpand=!o,i.isVisible=!0,i.foldHeight=o?(u.resizeHeight||u.renderHeight)+(i.resizeHeight||i.renderHeight):0):u&&(u.isVisible=!o,u.foldWidth=0,i.isExpand=!o,i.isVisible=!0,i.foldWidth=o?(u.resizeWidth||u.renderWidth)+(i.resizeWidth||i.renderWidth):0),O("toggle-expand",{item:i,name:i.name,targetItem:u,targetName:u?u.name:"",expanded:i.isExpand},t),M())}},V=e=>{const{itemList:t}=c,n=v.value,o=e.currentTarget.parentElement.getAttribute("itemid"),l=t[sp.findIndexOf(t,(e=>e.id===o))];"dblclick"===n.trigger&&F(e),O("action-dblclick",{item:l,name:l?l.name:""},e)},A=e=>{const{itemList:t}=c,n=v.value,o=e.currentTarget.parentElement.getAttribute("itemid"),l=t[sp.findIndexOf(t,(e=>e.id===o))];"dblclick"!==n.trigger&&F(e),O("action-click",{item:l,name:l?l.name:""},e)},$=()=>{M()},N={dispatchEvent:O,recalculate:M,reset:()=>{const{itemList:e}=c;return e.forEach((e=>{e.isExpand=!0,e.isVisible=!0,e.foldHeight=0,e.foldWidth=0,e.resizeHeight=0,e.resizeWidth=0})),t()},loadItem:I,reloadItem:e=>R(e||[],!0)};Object.assign(T,N,{});const L=e=>{const t=S.value,n=v.value,o=x.value,{id:l,isExpand:r,showAction:a}=e;return y("div",{itemid:l,class:["vxe-split-pane-handle",o?"to--next":"to--prev"]},[y("div",{class:"vxe-split-pane-handle-bar",style:t,onMousedown:P}),a?y("span",{class:"vxe-split-pane-action-btn",onDblclick:V,onClick:A},[y("i",{class:(r?n.openIcon:n.closeIcon)||k(e)})]):Am()])},_=()=>{const{border:t,padding:n,resize:o,vertical:r}=e,{itemList:a}=c,i=w.value,s=C.value,u=x.value,d=[];return a.forEach(((e,c)=>{const{id:p,name:m,slots:g,renderHeight:f,resizeHeight:h,foldHeight:v,renderWidth:b,resizeWidth:x,foldWidth:w,isVisible:C,isExpand:S}=e,E=g?g.default:null,D={};let T=C?w||x||b:0,O=C?v||h||f:0;var k,R;1===s.length&&(r?e.height||(O=0):e.width||(T=0)),r?O&&(D.height=1===i.length?"100%":dg(O)):T&&(D.width=1===i.length?"100%":dg(T)),d.push(y("div",{itemid:p,class:["vxe-split-pane",r?"is--vertical":"is--horizontal",{"is--resize":o,"is--padding":n,"is--border":t,"is--height":O,"is--width":T,"is--fill":C&&!O&&!T,"is--handle":c>0,"is--expand":S,"is--hidden":!C}],style:D},[c&&!u?L(e):Am(),y("div",{itemid:p,class:"vxe-split-pane--wrapper"},[y("div",{class:"vxe-split-pane--inner"},E?(k=E,R={name:m,isVisible:C,isExpand:S},k&&(sp.isString(k)&&(k=l[k]||null),sp.isFunction(k))?Zm(k(R)):[]):[])]),u&&c<a.length-1?L(e):Am()]))})),y("div",{class:"vxe-split-wrapper"},d)},B=r(0);let z;return i((()=>e.items?e.items.length:-1),(()=>{B.value++})),i((()=>e.items),(()=>{B.value++})),i(B,(()=>{I(e.items||[])})),i((()=>c.staticItems),(t=>{e.items&&e.items.length&&Hm("vxe.error.errConflicts",["<vxe-split-pane ...>","items"]),c.itemList=t,M()})),f((()=>{t((()=>{M()}));const e=s.value;e&&(z=em.create((()=>{M()})),z.observe(e)),Kp.on(T,"resize",$)})),h((()=>{z&&z.disconnect(),Kp.off(T,"resize")})),u((()=>{M()})),e.items&&I(e.items),b("$xeSplit",T),T.renderVN=()=>{const{vertical:t,width:n,height:o}=e,r=l.default,a={};return o&&(a.height=dg(o)),n&&(a.width=dg(n)),y("div",{ref:s,class:["vxe-split",t?"is--vertical":"is--horizontal"],style:a},[y("div",{class:"vxe-split-slots"},r?r({}):[]),_()])},T},render(){return this.renderVN()}}),by=Object.assign({},vy,{install(e){e.component(vy.name,vy)}});_m.use(by),$m.component(vy);const xy=by;const wy=p({name:"VxeSplitPane",props:{name:[Number,String],width:[Number,String],height:[Number,String],showAction:Boolean,minWidth:{type:[Number,String],default:()=>null},minHeight:{type:[Number,String],default:()=>null}},emits:[],setup(e,t){const{emit:o,slots:l}=t,a=sp.uniqueId(),s=n("$xeSplit",null),c=r(),u=m({id:a,name:e.name,width:e.width,height:e.height,minWidth:e.minWidth,minHeight:e.minHeight,showAction:e.showAction,isVisible:!0,isExpand:!0,renderWidth:0,resizeWidth:0,foldWidth:0,renderHeight:0,resizeHeight:0,foldHeight:0,slots:l}),d=m({}),p={},g={refElem:c},v={xID:a,props:e,context:t,reactData:d,internalData:{},getRefMaps:()=>g,getComputeMaps:()=>p},x={dispatchEvent:(e,t,n)=>{o(e,Gp(n,{$splitPane:v},t))}};Object.assign(v,x,{});return i((()=>e.name),(e=>{u.name=e})),i((()=>e.width),(e=>{u.width=e})),i((()=>e.height),(e=>{u.height=e})),i((()=>e.minWidth),(e=>{u.minWidth=e})),i((()=>e.minHeight),(e=>{u.minHeight=e})),i((()=>e.showAction),(e=>{u.showAction=e})),f((()=>{const e=c.value;s&&e&&function(e,t,n){const o=e.reactData.staticItems,l=t.parentNode;l&&(o.splice(sp.arrayIndexOf(l.children,t),0,n),e.reactData.staticItems=o.slice(0))}(s,e,u)})),h((()=>{s&&function(e,t){const n=e.reactData.staticItems,o=sp.findIndexOf(n,(e=>e.id===t.id));o>-1&&n.splice(o,1),e.reactData.staticItems=n.slice(0)}(s,u)})),b("$xeSplitItem",v),v.renderVN=()=>y("div",{ref:c}),v},render(){return this.renderVN()}}),yy=Object.assign({},wy,{install(e){e.component(wy.name,wy),e.component("VxeSplitItem",wy)}});_m.use(yy),$m.component(wy);const Cy=yy,Sy=Object.assign({},Zb,{install(e){e.component(Zb.name,Zb)}});_m.use(Sy),$m.component(Zb);const Ey=Sy,Dy=p({name:"VxeSteps",props:{},emits:[],setup(e,t){const{emit:n}=t,o=sp.uniqueId(),l=r(),a=m({}),i={refElem:l},s={},c={xID:o,props:e,context:t,reactData:a,getRefMaps:()=>i,getComputeMaps:()=>s},u={dispatchEvent:(e,t,o)=>{n(e,Gp(o,{$steps:c},t))}};Object.assign(c,u,{});return c.renderVN=()=>y("div",{ref:l,class:"vxe-steps"},[]),c},render(){return this.renderVN()}}),Ty=Object.assign({},Dy,{install(e){e.component(Dy.name,Dy)}});_m.use(Ty),$m.component(Dy);const Oy=Ty,ky=Object.assign(bv,{install:function(e){e.component(bv.name,bv)}});_m.use(ky),$m.component(bv);const Ry=ky,Iy=Object.assign({},fv,{install(e){e.component(fv.name,fv)}});_m.use(Iy),$m.component(fv);const My=Iy;const Py=p({name:"VxeTableSelect",props:{modelValue:[String,Number,Array],clearable:Boolean,placeholder:{type:String,default:()=>sp.eqNull(Ap().tableSelect.placeholder)?lm("vxe.base.pleaseSelect"):Ap().tableSelect.placeholder},readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,className:[String,Function],prefixIcon:String,placement:String,columns:Array,options:Array,optionProps:Object,size:{type:String,default:()=>Ap().select.size||Ap().size},popupConfig:Object,gridConfig:Object,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","blur","focus","click","form-submit","form-reset","form-collapse","page-change"],setup(e,o){const{emit:l,slots:a}=o,s=$m.getComponent("VxeGrid"),c=n("$xeModal",null),u=n("$xeDrawer",null),d=n("$xeTable",null),p=n("$xeForm",null),v=n("xeFormItemInfo",null),x=sp.uniqueId(),{computeSize:w}=Om(e),C=r(),E=r(),D=r(),T=r(),O=r(),k=m({initialized:!1,tableColumns:[],fullOptionList:[],fullRowMaps:{},panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),R={},I={refElem:C},M=g((()=>{const{readonly:t}=e;return null===t?!!p&&p.props.readonly:t})),P=g((()=>{const{disabled:t}=e;return null===t?!!p&&p.props.disabled:t})),F=g((()=>{const{transfer:t}=e;if(null===t){const e=Ap().select.transfer;if(sp.isBoolean(e))return e;if(d||c||u||p)return!0}return t})),V=g((()=>e.optionProps||{})),A=g((()=>{const e=B.value;return Object.assign({},e.rowConfig,{isCurrent:!0})})),$=g((()=>A.value.keyField||"_X_ROW_KEY")),N=g((()=>V.value.label||"label")),L=g((()=>V.value.value||"value")),_=g((()=>Object.assign({},Ap().tableSelect.popupConfig,e.popupConfig))),B=g((()=>Object.assign({},Ap().tableSelect.gridConfig,e.gridConfig,{data:void 0,columns:void 0}))),z=g((()=>{const{modelValue:t}=e,{fullRowMaps:n}=k,o=N.value;return(sp.isArray(t)?t:[t]).map((e=>{const t=n[e];return t?t.item[o]:e})).join(", ")})),j=g((()=>{const e=_.value,{height:t,width:n}=e,o={};return n&&(o.width=dg(n)),t&&(o.height=dg(t)),o})),H={},W={xID:x,props:e,context:o,reactData:k,getRefMaps:()=>I,getComputeMaps:()=>H},q={};["form-submit","form-reset","form-collapse","page-change"].forEach((e=>{q[Km(sp.camelCase(e))]=t=>{U(e,t,t.$event)}}));const U=(e,t,n)=>{l(e,Gp(n,{$tableSelect:W},t))},G={dispatchEvent:U},K=n=>{const{multiple:o}=e;t((()=>{const e=O.value;if(e){const t=(e=>{const{fullRowMaps:t}=k,n=[];return(sp.eqNull(e)?[]:sp.isArray(e)?e:[e]).forEach((e=>{const o=t[e];o&&n.push(o.item)})),n})(n);t.length&&(o?e.setCheckboxRow(t,!0):e.setRadioRow(t[0]))}}))},Y=t=>{const{multiple:n}=e,o=[];n?o.push({type:"checkbox",width:70}):o.push({type:"radio",width:70}),k.tableColumns=o.concat(t||[])},X=()=>{const{options:t}=e,n=$.value,o=L.value,l=B.value,{treeConfig:r}=l,a={},i={};r||sp.arrayEach(t||[],((e,t,l)=>{let r=(e=>{const t=e[$.value];return t?encodeURIComponent(t):""})(e);r||(r=sp.uniqueId("row_")),i[r]&&Hm("vxe.error.repeatKey",[n,r]),i[r]=!0;const s=e[o];a[s]&&Hm("vxe.error.repeatKey",[o,s]),a[s]={item:e,index:t,items:l,parent:null,nodes:[]}})),k.fullOptionList=t||[],k.fullRowMaps=a,K(e.modelValue)},Z=()=>{const{placement:n}=e,{panelIndex:o}=k,l=C.value,r=T.value,a=F.value,i=()=>{const e=bg(l,r,{placement:n,teleportTo:a}),t=Object.assign(e.style,{zIndex:o});k.panelStyle=t,k.panelPlacement=e.placement};return i(),t().then(i)},Q=()=>{const{loading:t}=e,n=P.value;t||n||(R.vpTimeout&&clearTimeout(R.vpTimeout),R.hpTimeout&&clearTimeout(R.hpTimeout),k.initialized||(k.initialized=!0),k.isActivated=!0,k.isAniVisible=!0,R.vpTimeout=setTimeout((()=>{k.visiblePanel=!0,K(e.modelValue),R.vpTimeout=void 0}),10),k.panelIndex<_g()&&(k.panelIndex=Lg()),Z())},J=()=>{k.visiblePanel=!1,R.vpTimeout&&clearTimeout(R.vpTimeout),R.hpTimeout&&clearTimeout(R.hpTimeout),R.hpTimeout=setTimeout((()=>{k.isAniVisible=!1,R.hpTimeout=void 0}),350)},ee=(t,n)=>{const{fullRowMaps:o}=k;if(l("update:modelValue",n),n!==e.modelValue){const e=o[n];U("change",{value:n,row:e?e.item:null},t),p&&v&&p.triggerItemEvent(t,v.itemConfig.field,n)}},te=(e,t)=>{((e,t)=>{ee(e,t),U("clear",{value:t},e)})(t,null),J()},ne=e=>{const{visiblePanel:t}=k;if(!P.value&&t){mg(e,T.value).flag?Z():J()}},oe=e=>{const{visiblePanel:t}=k;if(!P.value){const n=C.value,o=T.value;k.isActivated=mg(e,n).flag||mg(e,o).flag,t&&!k.isActivated&&J()}},le=()=>{J()},re=e=>{P.value||k.visiblePanel||(k.triggerFocusPanel=!0,Q(),setTimeout((()=>{k.triggerFocusPanel=!1}),150)),U("focus",{},e)},ae=e=>{se(e),U("click",{},e)},ie=e=>{k.isActivated=!1,U("blur",{},e)},se=e=>{const{$event:t}=e;t.preventDefault(),k.triggerFocusPanel?k.triggerFocusPanel=!1:k.visiblePanel?J():Q()},ce=e=>{const{$event:t,row:n}=e,o=n[L.value];ee(t,o),J()},ue=e=>{const{$grid:t,$event:n}=e,o=L.value;if(t){const e=t.getCheckboxRecords().map((e=>e[o]));ee(n,e)}},de=e=>{ue(e)};Object.assign(W,G,{});return i((()=>e.options),(()=>{X()})),i((()=>e.columns),(e=>{Y(e||[])})),i((()=>e.modelValue),(e=>{K(e)})),Y(e.columns||[]),X(),f((()=>{Kp.on(W,"mousewheel",ne),Kp.on(W,"mousedown",oe),Kp.on(W,"blur",le)})),h((()=>{Kp.off(W,"mousewheel"),Kp.off(W,"mousedown"),Kp.off(W,"blur")})),t((()=>{s||Hm("vxe.error.reqComp",["vxe-grid"])})),b("$xeTableSelect",W),W.renderVN=()=>{const{className:t,options:n,loading:o}=e,{initialized:l,isActivated:r,isAniVisible:i,visiblePanel:c,tableColumns:u}=k,d=w.value,p=P.value,m=z.value,g=F.value,f=M.value,h=_.value,{className:v}=h,b=B.value,x=A.value,R=j.value,I=a.header,V=a.footer,$=a.prefix;return f?y("div",{ref:C,class:["vxe-table-select--readonly",t]},[y("span",{class:"vxe-table-select-label"},m)]):y("div",{ref:C,class:["vxe-table-select",t?sp.isFunction(t)?t({$tableSelect:W}):t:"",{[`size--${d}`]:d,"is--visible":c,"is--disabled":p,"is--loading":o,"is--active":r}]},[y(Wf,{ref:E,clearable:e.clearable,placeholder:o?lm("vxe.select.loadingText"):e.placeholder,readonly:!0,disabled:p,type:"text",prefixIcon:e.prefixIcon,suffixIcon:o?_p().TABLE_SELECT_LOADED:c?_p().TABLE_SELECT_OPEN:_p().TABLE_SELECT_CLOSE,modelValue:o?"":m,onClear:te,onClick:ae,onFocus:re,onBlur:ie,onSuffixClick:se},$?{prefix:()=>$({})}:{}),y(S,{to:"body",disabled:!g||!l},[y("div",{ref:T,class:["vxe-table--ignore-clear vxe-table-select--panel",v?sp.isFunction(v)?v({$tableSelect:W}):v:"",{[`size--${d}`]:d,"is--transfer":g,"ani--leave":!o&&i,"ani--enter":!o&&c}],placement:k.panelPlacement,style:k.panelStyle},l?[y("div",{class:"vxe-table-select--panel-wrapper"},[I?y("div",{class:"vxe-table-select--panel-header"},I({})):Am(),y("div",{class:"vxe-table-select--panel-body"},[y("div",{ref:D,class:"vxe-table-select-grid--wrapper",style:R},[s?y(s,Object.assign(Object.assign(Object.assign({},b),q),{class:"vxe-table-select--grid",ref:O,rowConfig:x,data:n,columns:u,height:"100%",autoResize:!0,onRadioChange:ce,onCheckboxChange:ue,onCheckboxAll:de}),Object.assign({},a,{header:void 0,footer:void 0,prefixSlot:void 0})):Am()])]),V?y("div",{class:"vxe-table-select--panel-footer"},V({})):Am()])]:[])])])},W},render(){return this.renderVN()}}),Fy=Object.assign({},Py,{install(e){e.component(Py.name,Py)}});_m.use(Fy),$m.component(Py);const Vy=Fy,Ay=Object.assign({},gv,{install(e){e.component(gv.name,gv)}});_m.use(Ay),$m.component(gv);const $y=Ay,Ny=p({name:"VxeTag",props:{status:String,title:[String,Number],icon:String,content:[String,Number],size:{type:String,default:()=>Ap().tag.size||Ap().size}},emits:["click"],setup(e,t){const{slots:n,emit:o}=t,l=sp.uniqueId(),{computeSize:a}=Om(e),i=r(),s=m({}),c={refElem:i},u={},d={xID:l,props:e,context:t,reactData:s,getRefMaps:()=>c,getComputeMaps:()=>u},p=(e,t,n)=>{o(e,Gp(n,{$tag:d},t))},g={dispatchEvent:p},f=e=>{p("click",{},e)};Object.assign(d,g,{});return d.renderVN=()=>{const{status:t,title:o}=e,l=a.value;return y("span",{ref:i,class:["vxe-tag",{[`size--${l}`]:l,[`theme--${t}`]:t}],title:o,onClick:f},(()=>{const{icon:t,content:o}=e,l=n.default,r=n.icon;return[r||t?y("span",{class:"vxe-tag--icon"},r?Zm(r({})):[y("i",{class:t})]):Am(),y("span",{class:"vxe-tag--content"},l?l({}):sp.toValueString(o))]})())},d},render(){return this.renderVN()}}),Ly=Object.assign({},Ny,{install(e){e.component(Ny.name,Ny)}});_m.use(Ly),$m.component(Ny);const _y=Ly,By=p({name:"VxeTextEllipsis",props:{href:String,target:String,content:[String,Number],lineClamp:[String,Number],status:String,title:[String,Number],loading:Boolean,offsetLength:[String,Number],routerLink:Object,underline:{type:Boolean,default:()=>Ap().textEllipsis.underline},permissionCode:[String,Number],size:{type:String,default:()=>Ap().textEllipsis.size||Ap().size}},emits:["click"],setup(e,t){const{emit:n}=t,o=sp.uniqueId(),{computeSize:l}=Om(e),{computePermissionInfo:a}=km(e),c=r(),u=r(),d=m({resizeObserver:null,visibleLen:0}),p={refElem:c},h=g((()=>sp.toNumber(e.lineClamp))),v=g((()=>sp.toValueString(e.content))),b=g((()=>e.offsetLength?sp.toNumber(e.offsetLength):0)),x=g((()=>{const{visibleLen:e}=d,t=h.value,n=v.value,o=b.value;return t>1&&n.length>e?`${n.slice(0,Math.max(1,e-3+o))}...`:n})),w={},S={xID:o,props:e,context:t,reactData:d,getRefMaps:()=>p,getComputeMaps:()=>w},E=()=>{const e=c.value,t=u.value,n=v.value,o=h.value;if(e&&t){const l=e.clientWidth;t.style.display="block",t.style.position="absolute",t.style.top="-3000px",t.style.left="-3000px",t.textContent=n;const r=t.offsetWidth,a=Math.floor(l*o);a>r?d.visibleLen=n.length:(e=>{const t=c.value,n=u.value;if(t&&n){let t=12;try{t=Math.max(10,sp.toNumber(getComputedStyle(n).fontSize))}catch(o){}const l=v.value;let r=Math.floor(e/t),a=l.slice(0,r);n.textContent=a,d.visibleLen=a.length;let i=0;for(;e>n.clientWidth&&i<30;){i++;const o=Math.floor((e-n.clientWidth)/t);if(!o)break;r+=o,a=l.slice(0,r),n.textContent=a,d.visibleLen=a.length}n.textContent="",n.style.display="",n.style.position="",n.style.top="",n.style.left=""}})(a)}else d.visibleLen=n.length},D={dispatchEvent:(e,t,o)=>{n(e,Gp(o,{$textEllipsis:S},t))}},T=()=>{n("click",{})},O=()=>{const{resizeObserver:e}=d,t=h.value;if(!e){const e=c.value;if(e&&t>1&&window.ResizeObserver){const t=new window.ResizeObserver(sp.throttle((()=>{E()}),300,{leading:!0,trailing:!0}));t.observe(e),d.resizeObserver=t}}};Object.assign(S,D,{});const k=()=>{const{routerLink:t,href:n,target:o,title:l}=e,r=x.value;return t?y(C("router-link"),{class:"vxe-text-ellipsis--link",title:l,target:o,to:t},{default:()=>k()}):n?y("a",{class:"vxe-text-ellipsis--link",href:n,target:o,title:l},r):y("span",{class:"vxe-text-ellipsis--content"},r)};return i((()=>e.content),(()=>{E()})),i((()=>e.lineClamp),(()=>{O(),E()})),f((()=>{O(),E()})),s((()=>{const{resizeObserver:e}=d,t=c.value,n=u.value;n&&(n.textContent=""),e&&(t&&e.unobserve(t),e.disconnect(),d.resizeObserver=null)})),S.renderVN=()=>{const{loading:t,status:n,title:o,underline:r}=e,i=a.value,s=l.value,d=h.value;return i.visible?y("div",{ref:c,class:["vxe-text-ellipsis",d>1?"is--multi":"is--single",{[`size--${s}`]:s,[`theme--${n}`]:n,"is--underline":r,"is--loading":t}],title:o,onClick:T},[y("span",{ref:u,class:"vxe-text-ellipsis--reality"}),k()]):Am()},S},render(){return this.renderVN()}}),zy=Object.assign({},By,{install(e){e.component(By.name,By)}});_m.use(zy),$m.component(By);const jy=zy,Hy=Object.assign({},Kf,{install(e){e.component(Kf.name,Kf)}});_m.use(Hy),$m.component(Kf);const Wy=Hy,qy=Object.assign(Uv,{install:function(e){e.component(Uv.name,Uv)}});_m.use(qy),$m.component(Uv);const Uy=qy,Gy=Object.assign({},Gv,{install(e){e.component(Gv.name,Gv),e.component("VxeTipsComponent",Gv)}});_m.use(Gy),$m.component(Gv);const Ky=Gy,Yy=Gy,Xy=Object.assign({},Wg,{install(e){e.component(Wg.name,Wg)}});_m.use(Xy),$m.component(Wg);const Zy=Xy,Qy=Object.assign({},Rb,{install(e){e.component(Rb.name,Rb)}});_m.use(Qy),$m.component(Rb);const Jy=Qy,eC=Object.assign({},Ib,{install(e){e.component(Ib.name,Ib)}});_m.use(eC),$m.component(Ib);const tC=eC,nC=Object.assign({},Hb,{install(e){e.component(Hb.name,Hb)}});_m.use(nC),$m.component(Hb),$m.saveFile=jb,$m.readFile=zb;const oC=nC;let lC=null,rC=null;const aC={};function iC(e){if(e){const t=e.parentNode;t&&t.removeChild(e)}}function sC(e,t,n){return(e.font?e.font[t]:"")||(n.font?n.font[t]:"")}function cC(e,t,n){const{offset:o}=n,l=sp.toValueString(e.textContent),r=sp.toNumber(sC(e,"fontSize",n)||t)||14,[a=0,i=0]=o?sp.isArray(o)?o:[o,o]:[],{width:s,height:c}=function(e,t){const n=`${t}_${e}`;if(!aC[n]){rC||(rC=document.createElement("span")),rC.parentNode||document.body.append(rC),rC.textContent=e,rC.style.fontSize=dg(t);const o=rC.offsetWidth,l=rC.offsetHeight;aC[n]={width:o,height:l}}return aC[n]}(l,r);return{text:l,fontSize:r,font:e.font,width:s+sp.toNumber(a),height:c+sp.toNumber(i)}}function uC(e,t,n){const o=Object.assign({},n),{rotate:l}=o,r=sp.toNumber(l),a=(sp.isArray(e)?e:[e]).map((e=>e?e.textContent?cC(e,t,o):cC({textContent:`${e}`},t,o):cC({textContent:""},t,o)));return iC(rC),new Promise((e=>{const t=(lC||(lC=document.createElement("canvas"),lC.style.position="absolute",lC.style.top="0",lC.style.left="0"),lC);t.parentNode||document.body.append(t);const n=t.getContext("2d");if(n&&a.length){const{contentWidth:l,contentHeight:i}=function(e){let t=0,n=0;return e.forEach((e=>{t=Math.max(e.width,t),n=Math.max(e.height,n)})),{contentWidth:t,contentHeight:n}}(a),{canvasWidth:s,canvasHeight:c}=function(e,t){const{gap:n}=t,[o=0,l=0]=n?sp.isArray(n)?n:[n,n]:[];return{canvasWidth:e+sp.toNumber(o),canvasHeight:e+sp.toNumber(l)}}(l,o);t.width=s,t.height=c;const u=(s-l)/2,d=(c-i)/2,p=u+l/2,m=d+i/2;n.save(),n.translate(p,m),n.rotate(r*Math.PI/180),n.translate(-p,-m);let g=0;a.forEach((e=>{const t=sC(e,"align",o);!function(e,t,n){const o=sC(t,"fontWeight",n);e.fillStyle=`${sC(t,"color",n)||"rgba(0, 0, 0, 0.15)"}`,e.font=[sC(t,"fontStyle",n)||"normal","bold"===o||"bolder"===o?"bold":"",dg(t.fontSize),sC(t,"fontFamily",n)||"sans-serif"].join(" ")}(n,e,o),n.fillText(e.text,u+("center"===t?(l-e.width)/2:0),d+(i+i)/2+g,l),g+=e.height})),n.restore(),e(t.toDataURL()),iC(t)}else e(""),iC(t)}))}const dC=p({name:"VxeWatermark",props:{width:String,height:String,imageUrl:String,rotate:{type:[Number,String],default:()=>Ap().watermark.rotate},gap:{type:[Array,Number,String],default:()=>sp.clone(Ap().watermark.gap,!0)},content:[String,Array],font:Object,offset:Object,zIndex:[String,Number]},emits:[],setup(e,t){const{emit:n}=t,o=sp.uniqueId(),l=r(),a=m({markUrl:""}),s={refElem:l},c=g((()=>sp.assign({},sp.clone(Ap().watermark.font,!0),e.font))),u=g((()=>{const{width:t,height:n,zIndex:o}=e,{markUrl:l}=a,r={};return t&&(r.width=dg(t)),n&&(r.height=dg(n)),l&&(r.backgroundImage=`url(${l})`),o&&(r.zIndex=o),r})),d={},p={xID:o,props:e,context:t,reactData:a,getRefMaps:()=>s,getComputeMaps:()=>d},v={dispatchEvent:(e,t,o)=>{n(e,Gp(o,{$watermark:p},t))}},b=()=>{const{content:t,gap:n,rotate:o,offset:r}=e,i=l.value,s=c.value;i&&t&&uC(t,getComputedStyle(i).fontSize,{font:s,rotate:o,gap:n,offset:r}).then((e=>{a.markUrl=e}))};Object.assign(p,v,{});return i((()=>e.imageUrl),(()=>{b()})),i((()=>e.content),(()=>{b()})),i((()=>e.gap),(()=>{b()})),i((()=>e.rotate),(()=>{b()})),i((()=>e.width),(()=>{b()})),i((()=>e.height),(()=>{b()})),i((()=>e.font),(()=>{b()})),f((()=>{b(),Kp.on(p,"resize",sp.throttle((()=>{b()}),300,{trailing:!0,leading:!0}))})),h((()=>{Kp.off(p,"resize")})),p.renderVN=()=>{const e=u.value;return y("div",{ref:l,class:"vxe-watermark",style:e})},p},render(){return this.renderVN()}}),pC=Object.assign({},dC,{install(e){e.component(dC.name,dC)}});_m.use(pC),$m.component(dC);const mC={load:e=>(Bm(),Lm.globalWatermark=Object.assign({},e),Promise.resolve()),clear:()=>(Lm.globalWatermark=null,Promise.resolve())};$m.watermark=mC;const gC=pC,fC=[Jm,yg,Sg,Tg,Rg,Fg,Ag,Ug,Yg,rf,uf,mf,hf,xf,Cf,Df,kf,Mf,Uf,Xf,Jf,nh,rh,gh,vh,ov,Jb,ox,rx,ix,cx,dx,gx,xx,Cx,Ex,Tx,Rx,Px,Ax,Lx,zx,Wx,Jx,nw,rw,ih,sw,mw,hw,bw,Tw,Rw,Pw,Aw,Kw,Zw,ey,ny,ly,ay,sy,dy,my,fy,by,yy,Sy,Ty,ky,Iy,Fy,Ay,Ly,zy,Hy,qy,Gy,Xy,Qy,eC,nC,pC];const hC="zh-CN";am(hC,{vxe:{base:{pleaseInput:"",pleaseSelect:"",comma:"",fullStop:""},loading:{text:"..."},error:{downErr:"",errLargeData:" {0}",groupFixed:"",groupMouseRange:' "{0}" ',groupTag:' "{0}"  "{1}"',scrollErrProp:' "{0}"',errConflicts:' "{0}"  "{1}" ',notSupportProp:' "{0}"  "{1}" "{2}"',notConflictProp:' "{0}"  "{1}"',unableInsert:"",useErr:' "{0}"  Table ',barUnableLink:"",expandContent:' "content"',reqComp:' "{0}"  https://vxeui.com/#/start/useGlobal',reqModule:' "{0}" ',reqProp:' "{0}" ',emptyProp:' "{0}" ',errProp:' "{0}" "{1}"',colRepet:'column.{0}="{1}" ',notFunc:' "{0}" ',errFunc:' "{0}" ',notValidators:' "{0}" ',notFormats:' "{0}" ',notCommands:' "{0}" ',notSlot:' "{0}" ',noTree:' "{0}"',notProp:' "{0}"',checkProp:' "{0}" ',coverProp:'"{0}"  "{1}" ',uniField:' "{0}" ',repeatKey:' {0}="{1}"',delFunc:' "{0}"  "{1}"',delProp:' "{0}"  "{1}"',delEvent:' "{0}"  "{1}"',removeProp:' "{0}" ',errFormat:' "VXETable.formats"  "formatter={0}" ',notType:' "{0}"',notExp:"/",impFields:"",treeNotImp:"",treeCrossDrag:"",treeDragChild:"",reqPlugin:' "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:" {0} "},table:{emptyText:"",allTitle:"/",seqTitle:"",actionTitle:"",confirmFilter:"",resetFilter:"",allFilter:"",sortAsc:"",sortDesc:"",filter:"",impSuccess:" {0} ",expLoading:"",expSuccess:"",expError:"",expFilename:"_{0}",expOriginFilename:"__{0}",customTitle:"",customAll:"",customConfirm:"",customClose:"",customCancel:"",customRestore:"",maxFixedCol:" {0} ",dragTip:"{0}",resizeColTip:"{0} ",resizeRowTip:"{0} ",rowGroupContentTotal:"{0}{1}"},grid:{selectOneRecord:"",deleteSelectRecord:"",removeSelectRecord:"",dataUnchanged:"",delSuccess:"",saveSuccess:"",operError:""},select:{search:"",loadingText:"",emptyText:""},pager:{goto:"",gotoTitle:"",pagesize:"{0}/",total:" {0} ",pageClassifier:"",homePage:"",homePageTitle:"",prevPage:"",prevPageTitle:"",nextPage:"",nextPageTitle:"",prevJump:"",prevJumpTitle:"",nextJump:"",nextJumpTitle:"",endPage:"",endPageTitle:""},alert:{title:""},button:{confirm:"",cancel:"",clear:""},filter:{search:""},custom:{cstmTitle:"",cstmRestore:"",cstmCancel:"",cstmConfirm:"",cstmConfirmRestore:"",cstmDragTarget:"{0}",setting:{colSort:"",sortHelpTip:"",colTitle:"",colResizable:"",colVisible:"",colFixed:"",colFixedMax:" {0} ",fixedLeft:"",fixedUnset:"",fixedRight:""}},import:{modes:{covering:"",insert:"",insertTop:"",insertBottom:""},impTitle:"",impFile:"",impSelect:"",impType:"",impOpts:"",impMode:"",impConfirm:"",impCancel:""},export:{types:{csv:"CSV ()(*.csv)",html:"(*.html)",xml:"XML (*.xml)",txt:"()(*.txt)",xls:"Excel 97-2003 (*.xls)",xlsx:"Excel (*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"",current:"",selected:"",all:""},printTitle:"",expTitle:"",expName:"",expNamePlaceholder:"",expSheetName:"",expSheetNamePlaceholder:"",expType:"",expMode:"",expCurrentColumn:"",expColumn:"",expOpts:"",expOptHeader:"",expHeaderTitle:"",expOptFooter:"",expFooterTitle:"",expOptColgroup:"",expOptTitle:"",expTitleTitle:"",expColgroupTitle:"",expOptMerge:"",expMergeTitle:"",expOptAllExpand:"",expAllExpandTitle:"",expOptUseStyle:"",expUseStyleTitle:"",expOptOriginal:"",expOriginalTitle:"",expPrint:"",expConfirm:"",expCancel:""},modal:{errTitle:"",zoomMin:"",zoomIn:"",zoomOut:"",close:"",miniMaxSize:" {0} ",footPropErr:"show-footer  show-confirm-button | show-cancel-button | "},drawer:{close:""},form:{folding:"",unfolding:""},toolbar:{import:"",export:"",print:"",refresh:"",zoomIn:"",zoomOut:"",custom:"",customAll:"",customConfirm:"",customRestore:"",fixedLeft:"",fixedRight:"",cancelFixed:""},datePicker:{yearTitle:"{0} "},dateRangePicker:{pleaseRange:""},input:{date:{m1:"01 ",m2:"02 ",m3:"03 ",m4:"04 ",m5:"05 ",m6:"06 ",m7:"07 ",m8:"08 ",m9:"09 ",m10:"10 ",m11:"11 ",m12:"12 ",quarterLabel:"{0} ",monthLabel:"{0} ",dayLabel:"{0}  {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy  WW ",month:"yyyy-MM",quarter:"yyyy  q ",year:"yyyy"},weeks:{w:"",w0:"",w1:"",w2:"",w3:"",w4:"",w5:"",w6:""},months:{m0:"",m1:"",m2:"",m3:"",m4:"",m5:"",m6:"",m7:"",m8:"",m9:"",m10:"",m11:""},quarters:{q1:"",q2:"",q3:"",q4:""}}},numberInput:{currencySymbol:""},imagePreview:{popupTitle:"",operBtn:{zoomOut:"",zoomIn:"",pctFull:"",pct11:"",rotateLeft:"",rotateRight:"",print:"",download:""}},upload:{fileBtnText:"",imgBtnText:"",dragPlaceholder:"",imgSizeHint:"{0}",imgCountHint:"{0}",fileTypeHint:" {0} ",fileSizeHint:"{0}",fileCountHint:"{0}",uploadTypeErr:"",overCountErr:"{0}",overCountExtraErr:"{0}{1}",overSizeErr:"{0}",reUpload:"",uploadProgress:" {0}%",uploadErr:"",uploadSuccess:"",moreBtnText:"{0}",viewItemTitle:"",morePopup:{readTitle:"",imageTitle:"",fileTitle:""}},empty:{defText:""},colorPicker:{clear:"",confirm:"",copySuccess:"{0}"},formDesign:{formName:"",defFormTitle:"",widgetPropTab:"",widgetFormTab:"",error:{wdFormUni:"",wdSubUni:""},styleSetting:{btn:"",title:"",layoutTitle:"",verticalLayout:"",horizontalLayout:"",styleTitle:"",boldTitle:"",fontBold:"",fontNormal:"",colonTitle:"",colonVisible:"",colonHidden:"",alignTitle:"",widthTitle:"",alignLeft:"",alignRight:"",unitPx:"",unitPct:""},widget:{group:{base:"",layout:"",system:"",module:"",chart:"",advanced:""},copyTitle:"_{0}",component:{input:"",textarea:"",select:"",row:"",title:"",text:"",subtable:"",VxeSwitch:"/",VxeInput:"",VxeNumberInput:"",VxeDatePicker:"",VxeTextarea:"",VxeSelect:"",VxeTreeSelect:"",VxeRadioGroup:"",VxeCheckboxGroup:"",VxeUploadFile:"",VxeUploadImage:"",VxeRate:"",VxeSlider:""}},widgetProp:{name:"",placeholder:"",required:"",multiple:"",displaySetting:{name:"",pc:"",mobile:"",visible:"",hidden:""},dataSource:{name:"",defValue:"{0}",addOption:"",batchEditOption:"",batchEditTip:"ExcelWPS ",batchEditSubTip:"ExcelWPS ",buildOption:""},rowProp:{colSize:"",col2:"",col3:"",col4:"",col6:"",layout:""},textProp:{name:"",alignTitle:"",alignLeft:"",alignCenter:"",alignRight:"",colorTitle:"",sizeTitle:"",boldTitle:"",fontNormal:"",fontBold:""},subtableProp:{seqTitle:"",showSeq:"",showCheckbox:"",errSubDrag:"",colPlace:""},uploadProp:{limitFileCount:"",limitFileSize:"",multiFile:"",limitImgCount:"",limitImgSize:"",multiImg:""}}},listDesign:{fieldSettingTab:"",listSettingTab:"",searchTitle:"",listTitle:"",searchField:"",listField:"",activeBtn:{ActionButtonUpdate:"",ActionButtonDelete:""},search:{addBtn:"",emptyText:"",editPopupTitle:""},searchPopup:{colTitle:"",saveBtn:""}},text:{copySuccess:"",copyError:""},countdown:{formats:{yyyy:"",MM:"",dd:"",HH:"",mm:"",ss:""}},plugins:{extendCellArea:{area:{mergeErr:"",multiErr:"",selectErr:"",extendErr:"",pasteMultiErr:"",cpInvalidErr:"{0}"},fnr:{title:"",findLabel:"",replaceLabel:"",findTitle:"",replaceTitle:"",tabs:{find:"",replace:""},filter:{re:"",whole:"",sensitive:""},btns:{findNext:"",findAll:"",replace:"",replaceAll:"",cancel:""},header:{seq:"#",cell:"",value:""},body:{row:"{0}",col:"{0}"},empty:"()",reError:"",recordCount:" {0} ",notCell:"",replaceSuccess:" {0} "}},filterComplexInput:{menus:{fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:""},cases:{equal:"",gt:"",lt:"",begin:"",endin:"",include:"",isSensitive:""}},filterCombination:{menus:{sort:"",clearSort:"",sortAsc:"",sortDesc:"",fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:"",clearFilter:"",textOption:"",numberOption:""},popup:{title:"",currColumnTitle:"",and:"",or:"",describeHtml:" ? <br/> * "},cases:{equal:"",unequal:"",gt:"",ge:"",lt:"",le:"",begin:"",notbegin:"",endin:"",notendin:"",include:"",exclude:"",between:"",custom:"",insensitive:"",isSensitive:""},empty:"()",notData:""}},pro:{area:{mergeErr:"",multiErr:"",extendErr:"",pasteMultiErr:""},fnr:{title:"",findLabel:"",replaceLabel:"",findTitle:"",replaceTitle:"",tabs:{find:"",replace:""},filter:{re:"",whole:"",sensitive:""},btns:{findNext:"",findAll:"",replace:"",replaceAll:"",cancel:""},header:{seq:"#",cell:"",value:""},empty:"()",reError:"",recordCount:" {0} ",notCell:"",replaceSuccess:" {0} "}},renderer:{search:"",cases:{equal:"",unequal:"",gt:"",ge:"",lt:"",le:"",begin:"",notbegin:"",endin:"",notendin:"",include:"",exclude:"",between:"",custom:"",insensitive:"",isSensitive:""},combination:{menus:{sort:"",clearSort:"",sortAsc:"",sortDesc:"",fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:"",clearFilter:"",textOption:"",numberOption:""},popup:{title:"",currColumnTitle:"",and:"",or:"",describeHtml:" ? <br/> * "},empty:"()",notData:""}}}}),rm(hC),Pp("light");const vC=sh,bC=pw,xC=mh,wC=mC,yC=Uw,CC=jb,SC=zb,EC=Object.freeze(Object.defineProperty({__proto__:null,Alert:eg,Anchor:Cg,AnchorLink:Eg,Avatar:Og,Badge:Ig,Breadcrumb:Vg,BreadcrumbItem:$g,Button:Gg,ButtonGroup:Xg,Calendar:af,Card:df,Carousel:gf,CarouselItem:vf,Checkbox:wf,CheckboxGroup:Sf,Col:Tf,Collapse:Rf,CollapsePane:Pf,ColorPicker:Gf,Countdown:Zf,DatePanel:eh,DatePicker:oh,DateRangePicker:ah,Drawer:fh,DrawerController:mh,Empty:bh,Form:lv,FormDesign:tx,FormGather:lx,FormGroup:ax,FormItem:sx,FormView:ux,GLOBAL_EVENT_KEYS:Bp,Icon:px,IconPicker:fx,Image:wx,ImageGroup:Sx,ImagePreview:Dx,Input:Ox,LayoutAside:Ix,LayoutBody:Fx,LayoutContainer:$x,LayoutFooter:_x,LayoutHeader:jx,Link:qx,List:aw,ListDesign:ew,ListView:ow,Loading:ch,LoadingController:sh,Menu:cw,Modal:gw,ModalController:pw,NoticeBar:vw,NumberInput:xw,Optgroup:Ow,Option:Iw,Pager:Fw,PasswordInput:$w,Print:Qw,PrintPageBreak:Yw,Pulldown:ty,Radio:oy,RadioButton:ry,RadioGroup:iy,Rate:cy,Result:py,Row:gy,Select:hy,Slider:Ey,Split:xy,SplitPane:Cy,Steps:Oy,Switch:Ry,TabPane:My,TableSelect:Vy,Tabs:$y,Tag:_y,Text:Wy,TextEllipsis:jy,Textarea:Uy,Tip:Yy,Tips:Ky,Tooltip:Zy,Tree:Jy,TreeSelect:tC,Upload:oC,VxeAlert:Jm,VxeAnchor:yg,VxeAnchorLink:Sg,VxeAvatar:Tg,VxeBadge:Rg,VxeBreadcrumb:Fg,VxeBreadcrumbItem:Ag,VxeButton:Ug,VxeButtonGroup:Yg,VxeCalendar:rf,VxeCard:uf,VxeCarousel:mf,VxeCarouselItem:hf,VxeCheckbox:xf,VxeCheckboxGroup:Cf,VxeCol:Df,VxeCollapse:kf,VxeCollapsePane:Mf,VxeColorPicker:Uf,VxeCore:xt,VxeCountdown:Xf,VxeDatePanel:Jf,VxeDatePicker:nh,VxeDateRangePicker:rh,VxeDrawer:gh,VxeEmpty:vh,VxeForm:ov,VxeFormDesign:Jb,VxeFormGather:ox,VxeFormGroup:rx,VxeFormItem:ix,VxeFormView:cx,VxeIcon:dx,VxeIconPicker:gx,VxeImage:xx,VxeImageGroup:Cx,VxeImagePreview:Ex,VxeInput:Tx,VxeLayoutAside:Rx,VxeLayoutBody:Px,VxeLayoutContainer:Ax,VxeLayoutFooter:Lx,VxeLayoutHeader:zx,VxeLink:Wx,VxeList:rw,VxeListDesign:Jx,VxeListView:nw,VxeLoading:ih,VxeMenu:sw,VxeModal:mw,VxeNoticeBar:hw,VxeNumberInput:bw,VxeOptgroup:Tw,VxeOption:Rw,VxePager:Pw,VxePasswordInput:Aw,VxePrint:Zw,VxePrintPageBreak:Kw,VxePulldown:ey,VxeRadio:ny,VxeRadioButton:ly,VxeRadioGroup:ay,VxeRate:sy,VxeResult:dy,VxeRow:my,VxeSelect:fy,VxeSlider:Sy,VxeSplit:by,VxeSplitPane:yy,VxeSteps:Ty,VxeSwitch:ky,VxeTabPane:Iy,VxeTableSelect:Fy,VxeTabs:Ay,VxeTag:Ly,VxeText:Hy,VxeTextEllipsis:zy,VxeTextarea:qy,VxeTip:Gy,VxeTooltip:Xy,VxeTree:Qy,VxeTreeSelect:eC,VxeUI:$m,VxeUpload:nC,VxeWatermark:pC,Watermark:gC,WatermarkController:mC,clipboard:Sm,commands:bm,component:Vm,config:qm,coreVersion:bt,createEvent:Gp,drawer:xC,formats:vm,getComponent:Fm,getConfig:Ap,getI18n:lm,getIcon:_p,getLanguage:sm,getTheme:Fp,globalEvents:Kp,globalResize:em,globalStore:$p,handleCheckInfo:Em,hasLanguage:im,hooks:Tm,install:function(e,t){Vp(t),fC.forEach((t=>e.use(t)))},interceptor:wm,loading:vC,log:dm,menus:hm,modal:bC,permission:Dm,print:yC,readFile:SC,renderEmptyElement:Am,renderer:mm,saveFile:CC,setConfig:Vp,setI18n:am,setIcon:Lp,setLanguage:rm,setTheme:Pp,setup:Um,use:Mm,useFns:Rm,usePermission:km,useSize:Om,validators:fm,version:Wm,watermark:wC},Symbol.toStringTag,{value:"Module"}));function DC(e){return e&&!1!==e.enabled}function TC(e){return null==e||""===e}function OC(e){const t=e.name,n=sp.lastIndexOf(t,"."),o=t.substring(n+1,t.length).toLowerCase();return{filename:t.substring(0,n),type:o}}function kC(){return Rp.getNext()}function RC(){return Rp.getCurrent()}function IC(e){return e&&e.children&&e.children.length>0}function MC(e,t){if(e){const n=$m.getConfig().translate;return sp.toValueString(n?n(""+e,t):e)}return""}function PC(e,t){return""+(TC(e)?t?$m.getConfig().emptyCell:"":e)}function FC(e){return""===e||sp.eqNull(e)}const VC="4.13.39";$m.version=VC,$m.tableVersion=VC,$m.setConfig({emptyCell:"",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},aggregateConfig:{padding:!0,rowField:"id",parentField:"_X_ROW_PARENT_KEY",childrenField:"_X_ROW_CHILDREN",mapChildrenField:"_X_ROW_CHILD_LIST",indent:20,showIcon:!0},treeConfig:{padding:!0,rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isAll:!0,isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{gt:24,preSize:1,oSize:0},virtualYConfig:{gt:100,preSize:1,oSize:0},scrollbarConfig:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showResponseMsg:!0,showActiveMsg:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{}});const AC="vxe-table-icon-";$m.setIcon({TABLE_SORT_ASC:AC+"caret-up",TABLE_SORT_DESC:AC+"caret-down",TABLE_FILTER_NONE:AC+"funnel",TABLE_FILTER_MATCH:AC+"funnel",TABLE_EDIT:AC+"edit",TABLE_TITLE_PREFIX:AC+"question-circle-fill",TABLE_TITLE_SUFFIX:AC+"question-circle-fill",TABLE_TREE_LOADED:AC+"spinner roll",TABLE_TREE_OPEN:AC+"caret-right rotate90",TABLE_TREE_CLOSE:AC+"caret-right",TABLE_EXPAND_LOADED:AC+"spinner roll",TABLE_EXPAND_OPEN:AC+"arrow-right rotate90",TABLE_EXPAND_CLOSE:AC+"arrow-right",TABLE_CHECKBOX_CHECKED:AC+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:AC+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:AC+"checkbox-indeterminate-fill",TABLE_RADIO_CHECKED:AC+"radio-checked-fill",TABLE_RADIO_UNCHECKED:AC+"radio-unchecked",TABLE_CUSTOM_SORT:AC+"drag-handle",TABLE_MENU_OPTIONS:AC+"arrow-right",TABLE_DRAG_ROW:AC+"drag-handle",TABLE_DRAG_COLUMN:AC+"drag-handle",TABLE_DRAG_STATUS_ROW:AC+"sort",TABLE_DRAG_STATUS_SUB_ROW:AC+"add-sub",TABLE_DRAG_STATUS_COLUMN:AC+"swap",TABLE_DRAG_DISABLED:AC+"no-drop",TABLE_ROW_GROUP_OPEN:AC+"arrow-right rotate90",TABLE_ROW_GROUP_CLOSE:AC+"arrow-right",TOOLBAR_TOOLS_REFRESH:AC+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:AC+"repeat roll",TOOLBAR_TOOLS_IMPORT:AC+"upload",TOOLBAR_TOOLS_EXPORT:AC+"download",TOOLBAR_TOOLS_PRINT:AC+"print",TOOLBAR_TOOLS_FULLSCREEN:AC+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:AC+"minimize",TOOLBAR_TOOLS_CUSTOM:AC+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:AC+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:AC+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:AC+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:AC+"fixed-right-fill"});const $C=$m.setTheme,NC=$m.getTheme,LC=$m.setConfig,_C=$m.getConfig,BC=$m.setIcon,zC=$m.getIcon,jC=$m.setLanguage,HC=$m.setI18n,WC=$m.getI18n,qC=$m.globalEvents,UC=$m.globalResize,GC=$m.renderer,KC=$m.validators,YC=$m.menus,XC=$m.formats,ZC=$m.commands,QC=$m.interceptor,JC=$m.clipboard,eS=$m.log,tS=$m.hooks,nS=$m.use,oS=e=>$m.setConfig(e);$m.setup=oS;const lS=e=>$m.setConfig(e);$m.config=lS;const rS=(e,t)=>$m.getI18n(e,t);$m.t=rS;const aS=(e,t)=>MC(e,t);$m._t=aS;const iS=$m,sS={get:e=>$m.modal.get(e),close:e=>$m.modal.close(e),open:e=>$m.modal.open(e),alert:(e,t,n)=>$m.modal.alert(e,t,n),confirm:(e,t,n)=>$m.modal.confirm(e,t,n),message:(e,t)=>$m.modal.message(e,t),notification:(e,t,n)=>$m.modal.notification(e,t,n)},{log:cS}=$m,uS="table v4.13.39",dS=cS.create("warn",uS),pS=cS.create("error",uS),{getI18n:mS,formats:gS}=$m;class fS{constructor(e,t,{renderHeader:n,renderCell:o,renderFooter:l,renderData:r}={}){const a=e.props,i=e.xeGrid,s=t.formatter,c=!sp.isBoolean(t.visible)||t.visible,u=["seq","checkbox","radio","expand","html"];if(t.type&&-1===u.indexOf(t.type)&&dS("vxe.error.errProp",[`type=${t.type}`,u.join(", ")]),(sp.isBoolean(t.cellRender)||t.cellRender&&!sp.isObject(t.cellRender))&&dS("vxe.error.errProp",[`column.cell-render=${t.cellRender}`,"column.cell-render={}"]),(sp.isBoolean(t.editRender)||t.editRender&&!sp.isObject(t.editRender))&&dS("vxe.error.errProp",[`column.edit-render=${t.editRender}`,"column.edit-render={}"]),"expand"===t.type){const{treeConfig:t}=a,{computeTreeOpts:n}=e.getComputeMaps(),o=n.value;t&&(o.showLine||o.line)&&pS("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(s)if(sp.isString(s)){const e=gS.get(s)||sp[s];e&&sp.isFunction(e.tableCellFormatMethod||e.cellFormatMethod)||pS("vxe.error.notFormats",[s])}else if(sp.isArray(s)){const e=gS.get(s[0])||sp[s[0]];e&&sp.isFunction(e.tableCellFormatMethod||e.cellFormatMethod)||pS("vxe.error.notFormats",[s[0]])}if(Object.assign(this,{type:t.type,property:t.field,field:t.field,title:t.title,width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,resizable:t.resizable,fixed:t.fixed,align:t.align,headerAlign:t.headerAlign,footerAlign:t.footerAlign,showOverflow:t.showOverflow,showHeaderOverflow:t.showHeaderOverflow,showFooterOverflow:t.showFooterOverflow,className:t.className,headerClassName:t.headerClassName,footerClassName:t.footerClassName,formatter:s,footerFormatter:t.footerFormatter,padding:t.padding,verticalAlign:t.verticalAlign,sortable:t.sortable,sortBy:t.sortBy,sortType:t.sortType,filters:oE(t.filters),filterMultiple:!sp.isBoolean(t.filterMultiple)||t.filterMultiple,filterMethod:t.filterMethod,filterResetMethod:t.filterResetMethod,filterRecoverMethod:t.filterRecoverMethod,filterRender:t.filterRender,rowGroupNode:t.rowGroupNode,treeNode:t.treeNode,dragSort:t.dragSort,rowResize:t.rowResize,cellType:t.cellType,cellRender:t.cellRender,editRender:t.editRender,contentRender:t.contentRender,headerExportMethod:t.headerExportMethod,exportMethod:t.exportMethod,footerExportMethod:t.footerExportMethod,titleHelp:t.titleHelp,titlePrefix:t.titlePrefix,titleSuffix:t.titleSuffix,aggFunc:t.aggFunc,params:t.params,id:t.colId||sp.uniqueId("col_"),parentId:null,visible:c,halfVisible:!1,defaultVisible:c,defaultFixed:t.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderAggFn:"",renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:n||t.renderHeader,renderCell:o||t.renderCell,renderFooter:l||t.renderFooter,renderData:r,slots:t.slots}),i){const{computeProxyOpts:e}=i.getComputeMaps(),t=e.value;t.beforeColumn&&t.beforeColumn({$grid:i,column:this})}}getTitle(){return MC(this.title||("seq"===this.type?mS("vxe.table.seqTitle"):""))}getKey(){const{type:e}=this;return this.field||(e?`type=${e}`:null)}update(e,t){"filters"!==e&&("field"===e&&(this.property=t),this[e]=t)}}const hS={};let vS;function bS(){return vS||(vS=new Image,vS.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),vS}function xS(){return vS||bS()}function wS(e,t){return e?sp.isFunction(e)?e(t):e:""}function yS(e){return hS[e]||(hS[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),hS[e]}function CS(e){return e&&/^\d+(px)?$/.test(e)}function SS(e){return e&&/^\d+%$/.test(e)}function ES(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(yS(t)))}function DS(e,t){e&&ES(e,t)&&(e.className=e.className.replace(yS(t),""))}function TS(e,t){e&&!ES(e,t)&&(DS(e,t),e.className=`${e.className} ${t}`)}function OS(e){return e.ctrlKey||e.metaKey}function kS(e,t="px"){return sp.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function RS(e,t){return e?e.querySelector(t):null}function IS(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function MS(e){return e?e.offsetHeight:0}function PS(e){if(e){const t=getComputedStyle(e);return sp.toNumber(t.paddingTop)+sp.toNumber(t.paddingBottom)}return 0}function FS(e,t){e&&(e.scrollTop=t)}function VS(e,t){e&&(e.scrollLeft=t)}function AS(e,t){const n="html"===t.type?e.innerText:e.textContent;e.getAttribute("title")!==n&&e.setAttribute("title",n)}function $S(e,t,n,o){let l,r=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;r&&r.nodeType&&r!==document;){if(n&&ES(r,n)&&(!o||o(r)))l=r;else if(r===t)return{flag:!n||!!l,container:t,targetElem:l};r=r.parentNode}return{flag:!1}}function NS(e){const t=e.getBoundingClientRect(),n=t.top,o=t.left,{scrollTop:l,scrollLeft:r,visibleHeight:a,visibleWidth:i}=IS();return{boundingTop:n,top:l+n,boundingLeft:o,left:r+o,visibleHeight:a,visibleWidth:i}}const LS="scrollIntoViewIfNeeded",_S="scrollIntoView";const BS=(e,t)=>{const n=[];return e.forEach((e=>{e.parentId=t?t.id:null,e.visible&&(e.children&&e.children.length&&e.children.some((e=>e.visible))?(n.push(e),n.push(...BS(e.children,e))):n.push(e))})),n};function zS(e,t,n){const o=e.internalData;return t||n?(o.intoRunScroll=!1,o.inVirtualScroll=!1,o.inWheelScroll=!1,o.inHeaderScroll=!1,o.inBodyScroll=!1,o.inFooterScroll=!1,o.scrollRenderType="",e.scrollTo(t,n)):e.clearScroll()}function jS(){return sp.uniqueId("row_")}function HS(e){const{currKeyField:t}=e.internalData;return t}function WS(e,t){const n=e.internalData,{isCurrDeepKey:o,currKeyField:l}=n;return t?GS((o?KS:XS)(t,l)):""}function qS(e){const t=e.internalData,{isCurrDeepKey:n,currKeyField:o}=t,l=n?YS:ZS;return{rowKey:o,handleUpdateRowId:e=>e?l(e,o):""}}function US(e){const t=e.internalData,{isCurrDeepKey:n,currKeyField:o}=t,l=n?KS:XS;return{rowKey:o,handleGetRowId:e=>e?GS(l(e,o)):""}}function GS(e){return sp.eqNull(e)?"":encodeURIComponent(e)}function KS(e,t){return sp.get(e,t)}function YS(e,t){let n=GS(KS(e,t));return FC(n)&&(n=jS(),sp.set(e,t,n)),n}function XS(e,t){return e[t]}function ZS(e,t){let n=GS(XS(e,t));return FC(n)&&(n=jS(),e[t]=n),n}function QS(e,t){return t?sp.isString(t)||sp.isNumber(t)?e.getColumnByField(`${t}`):t:null}function JS(e,t){if(t){const n=sp.isString(t)||sp.isNumber(t)?t:WS(e,t);return e.getRowById(n)}return null}function eE(e,t,n,o){return e.resizeHeight||t.height||n.height||e.height||o}function tE(e){if(e){const t=getComputedStyle(e);return sp.toNumber(t.paddingLeft)+sp.toNumber(t.paddingRight)}return 0}function nE(e){if(e){const t=getComputedStyle(e),n=sp.toNumber(t.marginLeft),o=sp.toNumber(t.marginRight);return e.offsetWidth+n+o}return 0}function oE(e){return e&&sp.isArray(e)?e.map((({label:e,value:t,data:n,resetValue:o,checked:l})=>({label:e,value:t,data:n,resetValue:o,checked:!!l,_checked:!!l}))):e}function lE(e){return e.map(((e,t)=>t%2==0?Number(e)+1:".")).join("")}function rE(e,t){return sp.get(e,t.field)}function aE(e,t,n){return sp.set(e,t.field,n)}function iE(e){if(e){const t=e.value;if(t)return t.$el||t}return null}function sE(e){return"unset"===e?0:e||0}function cE(e){const{$table:t,column:n,cell:o}=e,l=t.props,r=t.internalData,{computeResizableOpts:a}=t.getComputeMaps(),i=a.value,{minWidth:s}=i;if(s){const t=sp.isFunction(s)?s(e):s;if("auto"!==t)return Math.max(1,sp.toNumber(t))}const{elemStore:c}=r,{showHeaderOverflow:u}=l,{showHeaderOverflow:d,minWidth:p}=n,m=sp.isUndefined(d)||sp.isNull(d)?u:d,g="title"===m||(!0===m||"tooltip"===m)||"ellipsis"===m;let f=sp.floor(1.8*(sp.toNumber(getComputedStyle(o).fontSize)||14))+(tE(o)+tE(RS(o,".vxe-cell")));if(g){const e=nE(RS(o,".vxe-cell--drag-handle")),t=nE(RS(o,".vxe-cell--checkbox")),n=nE(RS(o,".vxe-cell--required-icon")),l=nE(RS(o,".vxe-cell--edit-icon")),r=nE(RS(o,".vxe-cell-title-prefix-icon")),a=nE(RS(o,".vxe-cell-title-suffix-icon")),i=nE(RS(o,".vxe-cell--sort"));f+=e+t+n+l+r+a+nE(RS(o,".vxe-cell--filter"))+i}if(p){const e=iE(c["main-body-scroll"]);if(e){if(SS(p)){const t=(e.clientWidth-1)/100;return Math.max(f,Math.floor(sp.toInteger(p)*t))}if(CS(p))return Math.max(f,sp.toInteger(p))}}return f}function uE(e){return e&&(e.constructor===fS||e instanceof fS)}function dE(e,t,n){Object.keys(t).forEach((o=>{i((()=>t[o]),(t=>{n.update(o,t),e&&("filters"===o?(e.setFilter(n,t),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(o)&&e.handleRefreshColumnQueue())}))}))}function pE(e,t,n,o){const{reactData:l}=e,{staticColumns:r}=l,a=t.parentNode,i=o?o.columnConfig:null,s=i?i.children:r;a&&s&&(s.splice(sp.arrayIndexOf(a.children,t),0,n),l.staticColumns=r.slice(0))}function mE(e,t){const{reactData:n}=e,{staticColumns:o}=n,l=sp.findTree(o,(e=>e.id===t.id),{children:"children"});l&&l.items.splice(l.index,1),n.staticColumns=o.slice(0)}function gE(e,t){const{internalData:n}=e,{fullColumnIdData:o}=n;if(!t)return null;let l=t.parentId;for(;o[l];){const e=o[l].column;if(l=e.parentId,!l)return e}return t}const fE={mini:3,small:2,medium:1,large:0},hE=(e,t)=>{let n=1;if(!e)return n;const{$table:o}=t,{computeTreeOpts:l}=o.getComputeMaps(),r=l.value,{transform:a,mapChildrenField:i}=r,s=r.children||r.childrenField,c=e[a?i:s];if(c&&o.isTreeExpandByRow(e))for(let u=0;u<c.length;u++)n+=hE(c[u],t);return n},vE=e=>{const{computeSize:t}=e.getComputeMaps(),n=t.value;return n&&fE[n]||0};function bE(e,t){const{$table:n,row:o}=e,l=n.props,r=n.reactData,a=n.internalData,{showOverflow:i}=l,{scrollYLoad:s}=r,{fullAllDataRowIdData:c}=a,{computeRowOpts:u,computeCellOpts:d,computeDefaultRowHeight:p}=n.getComputeMaps(),m=u.value,g=d.value,f=p.value,h=c[WS(n,o)],v=h.resizeHeight||g.height||m.height||h.height||f;let b=1;t&&(b=hE(t,e));let x=v;const w=h.height;return s&&(i||(x=w||v)),x*b-(t?1:12-vE(n))}function xE(e,t){const n=e.props,o=e.reactData,l=e.internalData,{computeLeftFixedWidth:r,computeRightFixedWidth:a,computeRowOpts:i,computeCellOpts:s,computeDefaultRowHeight:c}=e.getComputeMaps(),{showOverflow:u}=n,{scrollYLoad:d,scrollYTop:p}=o,{elemStore:m,afterFullData:g,fullAllDataRowIdData:f,isResizeCellHeight:h}=l,v=i.value,b=s.value,x=c.value,w=r.value,y=a.value,C=iE(m["main-body-scroll"]),S=WS(e,t);if(C){const n=C.clientHeight,o=C.scrollTop,l=C.querySelector(`[rowid="${S}"]`);if(l){const t=l.offsetTop+(d?p:0),r=l.clientHeight;if(t<o||t>o+n)return e.scrollTo(null,t);if(t+r>=n+o)return e.scrollTo(null,o+r)}else if(d){if(!(h||b.height||v.height)&&u)return e.scrollTo(null,(e.findRowIndexOf(g,t)-1)*x);let l=0;const r=f[S]||{},a=r.resizeHeight||b.height||v.height||r.height||x;for(let n=0;n<g.length;n++){const o=g[n],r=WS(e,o);if(o===t||r===S)break;const a=f[r]||{};l+=a.resizeHeight||b.height||v.height||a.height||x}return l<o?e.scrollTo(null,l-w-1):e.scrollTo(null,l+a-(n-y-1))}}return Promise.resolve()}function wE(e,t,n){const o=e.reactData,l=e.internalData,{computeLeftFixedWidth:r,computeRightFixedWidth:a}=e.getComputeMaps(),{scrollXLoad:i,scrollXLeft:s}=o,{elemStore:c,visibleColumn:u}=l,d=r.value,p=a.value,m=iE(c["main-body-scroll"]);if(t.fixed)return Promise.resolve();if(m){const o=m.clientWidth,l=m.scrollLeft;let r=null;if(n){const o=WS(e,n);r=m.querySelector(`[rowid="${o}"] .${t.id}`)}if(r||(r=m.querySelector(`.${t.id}`)),r){const t=r.offsetLeft+(i?s:0),n=r.clientWidth;if(t<l+d)return e.scrollTo(t-d-1);if(t+n-l>o-p)return e.scrollTo(t+n-(o-p-1))}else if(i){let n=0;const r=t.renderWidth;for(let e=0;e<u.length;e++){const o=u[e];if(o===t||o.id===t.id)break;n+=o.renderWidth}return n<l?e.scrollTo(n-d-1):e.scrollTo(n+r-(o-p-1))}}return Promise.resolve()}function yE(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function CE(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function SE(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function EE(e){return null==e?[]:sp.isArray(e)?e:[e]}const{getI18n:DE,getIcon:TE,renderer:OE,formats:kE,renderEmptyElement:RE}=$m;function IE(e){const{$table:t,column:n}=e,o=n.titlePrefix||n.titleHelp;return o?y("span",{class:["vxe-cell-title-prefix-icon",o.iconStatus?`theme--${o.iconStatus}`:""],onMouseenter(n){t.triggerHeaderTitleEvent(n,o,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}},[y("i",{class:o.icon||TE().TABLE_TITLE_PREFIX})]):RE(t)}function ME(e){const{$table:t,column:n}=e,o=n.titleSuffix;return o?y("span",{class:["vxe-cell-title-suffix-icon",o.iconStatus?`theme--${o.iconStatus}`:""],onMouseenter(n){t.triggerHeaderTitleEvent(n,o,e)},onMouseleave(e){t.handleTargetLeaveEvent(e)}},[y("i",{class:o.icon||TE().TABLE_TITLE_SUFFIX})]):RE(t)}function PE(e){const{$table:t,column:n}=e,{context:o}=t,l=o.slots,r=t.props,{slots:a}=n,{dragConfig:i}=r,{computeRowDragOpts:s}=t.getComputeMaps(),c=s.value,{icon:u,trigger:d,disabledMethod:p}=c,m=p||(i?i.rowDisabledMethod:null),g=m&&m(e),f=(a?a.rowDragIcon||a["row-drag-icon"]:null)||l.rowDragIcon||l["row-drag-icon"],h={};return"cell"!==d&&(h.onMousedown=n=>{g||t.handleCellDragMousedownEvent(n,e)},h.onMouseup=t.handleCellDragMouseupEvent),y("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":g}]},h),f?t.callSlot(f,e):[y("i",{class:u||(i?i.rowIcon:"")||TE().TABLE_DRAG_ROW})])}function FE(e,t){const{$table:n,column:o,level:l}=e,{dragSort:r}=o,a=n.props,{treeConfig:i,dragConfig:s}=a,{computeRowOpts:c,computeRowDragOpts:u,computeTreeOpts:d}=n.getComputeMaps(),p=c.value,m=u.value,g=d.value,{showIcon:f,isPeerDrag:h,isCrossDrag:v,visibleMethod:b}=m,x=b||(s?s.rowVisibleMethod:null),w=[];return r&&p.drag&&(f||s&&s.showRowIcon)&&(!x||x(e))&&(i?g.transform&&(h||v||!l)&&w.push(PE(e)):w.push(PE(e))),w.concat(sp.isArray(t)?t:[t])}function VE(e){const{$table:t,column:n}=e,{context:o}=t,l=o.slots,{slots:r}=n,{computeColumnOpts:a,computeColumnDragOpts:i}=t.getComputeMaps(),s=a.value,c=i.value,{showIcon:u,icon:d,trigger:p,isPeerDrag:m,isCrossDrag:g,visibleMethod:f,disabledMethod:h}=c;if(s.drag&&u&&(!f||f(e))&&!n.fixed&&(m||g||!n.parentId)){const n=h&&h(e),o=(r?r.columnDragIcon||r["column-drag-icon"]:null)||l.columnDragIcon||l["column-drag-icon"],a={};return"cell"!==p&&(a.onMousedown=o=>{n||t.handleHeaderCellDragMousedownEvent(o,e)},a.onMouseup=t.handleHeaderCellDragMouseupEvent),y("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":n}]},a),o?t.callSlot(o,e):[y("i",{class:d||TE().TABLE_DRAG_COLUMN})])}return RE(t)}function AE(e,t){return[IE(e),VE(e),...sp.isArray(t)?t:[t],ME(e)]}function $E(e,t){const{$table:n,column:o}=e,l=n.props,r=n.reactData,{computeTooltipOpts:a}=n.getComputeMaps(),{showHeaderOverflow:i}=l,{type:s,showHeaderOverflow:c}=o,u=a.value.showAll,d=sp.isUndefined(c)||sp.isNull(c)?i:c,p="title"===d,m=!0===d||"tooltip"===d,g={};return(p||m||u)&&(g.onMouseenter=t=>{r.isDragResize||(p?AS(t.currentTarget,o):(m||u)&&n.triggerHeaderTooltipEvent(t,e))}),(m||u)&&(g.onMouseleave=e=>{r.isDragResize||(m||u)&&n.handleTargetLeaveEvent(e)}),["html"===s&&sp.isString(t)?y("span",Object.assign({class:"vxe-cell--title",innerHTML:t},g)):y("span",Object.assign({class:"vxe-cell--title"},g),EE(t))]}function NE(e){const{$table:t,row:n,column:o}=e;return PC(t.getCellLabel(n,o),1)}function LE(e){const{column:t,row:n,$table:o}=e,l=o.props,r=o.reactData,{isRowGroupStatus:a}=r,{editConfig:i}=l,{type:s,treeNode:c,rowGroupNode:u,editRender:d}=t,{computeEditOpts:p,computeCheckboxOpts:m,computeAggregateOpts:g}=o.getComputeMaps(),f=g.value,{mode:h}=f,v=m.value,b=p.value,x=c||a&&("column"===h?t.field===n.groupField:u);switch(s){case"seq":return x?zE.renderDeepIndexCell(e):zE.renderSeqCell(e);case"radio":return x?zE.renderDeepRadioCell(e):zE.renderRadioCell(e);case"checkbox":return v.checkField?x?zE.renderDeepSelectionCellByProp(e):zE.renderCheckboxCellByProp(e):x?zE.renderDeepSelectionCell(e):zE.renderCheckboxCell(e);case"expand":return zE.renderExpandCell(e);case"html":return x?zE.renderDeepHTMLCell(e):zE.renderHTMLCell(e)}return DC(i)&&d?"cell"===b.mode?x?zE.renderDeepCellEdit(e):zE.renderCellEdit(e):x?zE.renderDeepRowEdit(e):zE.renderRowEdit(e):x?zE.renderDeepCell(e):zE.renderDefaultCell(e)}function _E(e){const{column:t,$table:n}=e,o=n.props,{editConfig:l}=o,{type:r,filters:a,sortable:i,editRender:s}=t;switch(r){case"seq":return zE.renderSeqHeader(e);case"radio":return zE.renderRadioHeader(e);case"checkbox":return zE.renderCheckboxHeader(e);case"html":if(a&&i)return zE.renderSortAndFilterHeader(e);if(i)return zE.renderSortHeader(e);if(a)return zE.renderFilterHeader(e)}return l&&s?zE.renderEditHeader(e):a&&i?zE.renderSortAndFilterHeader(e):i?zE.renderSortHeader(e):a?zE.renderFilterHeader(e):zE.renderDefaultHeader(e)}function BE(e){return zE.renderDefaultFooter(e)}const zE={createColumn(e,t){const{type:n}=t,o={renderHeader:_E,renderCell:LE,renderFooter:BE};return"expand"===n&&(o.renderData=zE.renderExpandData),function(e,t,n){return uE(t)?t:m(new fS(e,t,n))}(e,t,o)},renderHeaderTitle(e){const{$table:t,column:n}=e,{slots:o,editRender:l,cellRender:r}=n,a=l||r,i=o?o.header:null;if(i)return $E(e,t.callSlot(i,e));if(a){const t=OE.get(a.name);if(t){const n=t.renderTableHeader||t.renderHeader;if(n)return $E(e,EE(n(a,e)))}}return $E(e,PC(n.getTitle(),1))},renderDefaultHeader:e=>AE(e,zE.renderHeaderTitle(e)),renderDefaultCell(e){const{$table:t,row:n,column:o}=e,l=t.reactData,r=t.internalData,{isRowGroupStatus:a}=l,{field:i,slots:s,editRender:c,cellRender:u,rowGroupNode:d,aggFunc:p}=o,m=c||u,g=s?s.default:null;if(g)return FE(e,t.callSlot(g,e));if(m){const t=OE.get(m.name);if(t){const n=t.renderTableCell||t.renderCell,o=t.renderTableDefault||t.renderDefault,l=c?n:o;if(l)return FE(e,EE(l(m,Object.assign({$type:c?"edit":"cell"},e))))}}let f="";if(a&&i&&n.isAggregate){const l=n,{fullColumnFieldData:a}=r,{computeAggregateOpts:s}=t.getComputeMaps(),c=s.value,{mode:u,showTotal:m,totalMethod:g,countFields:h,contentMethod:v,mapChildrenField:b}=c,x=c.aggregateMethod||c.countMethod,w=l.groupField,y=l.groupContent,C=b&&l[b]||[],S=l.childCount,E=a[w]||{},D={$table:t,groupField:w,groupColumn:E?E.column:null,column:o,groupValue:y,children:C,childCount:S,aggValue:null,totalValue:S};("column"===u?i===l.groupField:d)?(f=y,v&&(f=`${v(D)}`),m&&(f=DE("vxe.table.rowGroupContentTotal",[f,g?g(D):S,S]))):t.getPivotTableAggregateCellAggValue?f=t.getPivotTableAggregateCellAggValue(e):(!0===p||h&&h.includes(i))&&x&&(D.aggValue=S,f=`${x(D)}`)}else f=t.getCellLabel(n,o);const h=c?c.placeholder:"";return FE(e,[y("span",{class:"vxe-cell--label"},[c&&FC(f)?y("span",{class:"vxe-cell--placeholder"},PC(MC(h),1)):y("span",PC(f,1))])])},renderDeepCell:e=>zE.renderDeepNodeBtn(e,zE.renderDefaultCell(e)),renderDefaultFooter:e=>function(e){const{$table:t,column:n,_columnIndex:o,items:l,row:r}=e,{slots:a,editRender:i,cellRender:s,footerFormatter:c}=n,u=i||s,d=a?a.footer:null;if(d)return t.callSlot(d,e);let p="";p=sp.isArray(l)?l[o]:sp.get(r,n.field);const m=Object.assign(e,{itemValue:p});if(c){if(sp.isFunction(c))return[y("span",{class:"vxe-cell--label"},`${c(m)}`)];const e=sp.isArray(c),t=e?kE.get(c[0]):kE.get(c),n=t?t.tableFooterCellFormatMethod:null;return n?[y("span",{class:"vxe-cell--label"},`${e?n(m,...c.slice(1)):n(m)}`)]:[y("span",{class:"vxe-cell--label"},"")]}if(u){const e=OE.get(u.name);if(e){const t=e.renderTableFooter||e.renderFooter;if(t)return EE(t(u,m))}}return[y("span",{class:"vxe-cell--label"},PC(p,1))]}(e),renderRowGroupBtn(e,t){const{$table:n}=e,o=n.reactData,l=n.internalData,{row:r,level:a}=e,{computeAggregateOpts:i}=n.getComputeMaps(),{rowGroupExpandedFlag:s}=o,{rowGroupExpandedMaps:c}=l,u=i.value,{padding:d,indent:p}=u,m=WS(n,r),g=!!s&&!!c[m];return y("div",{class:["vxe-row-group--tree-node",{"is--expanded":g}],style:d&&p?{paddingLeft:a*p+"px"}:void 0},[r.isAggregate?y("span",{class:"vxe-row-group--node-btn",onClick(t){n.triggerRowGroupExpandEvent(t,e)}},[y("i",{class:g?TE().TABLE_ROW_GROUP_OPEN:TE().TABLE_ROW_GROUP_CLOSE})]):RE(n),y("div",{class:"vxe-row-group-cell"},t)])},renderTreeNodeBtn(e,t){const{$table:n,isHidden:o}=e,l=n.reactData,r=n.internalData,{row:a,column:i,level:s}=e,{slots:c}=i,u=c?c.icon:null;if(u)return n.callSlot(u,e);const{computeTreeOpts:d}=n.getComputeMaps(),{treeExpandedFlag:p}=l,{fullAllDataRowIdData:m,treeExpandedMaps:g,treeExpandLazyLoadedMaps:f}=r,h=d.value,{padding:v,indent:b,lazy:x,trigger:w,iconLoaded:C,showIcon:S,iconOpen:E,iconClose:D}=h,T=h.children||h.childrenField,O=h.hasChild||h.hasChildField,k=a[T],R=k&&k.length;let I=!1,M=!1,P=!1,F=!1;const V={};if(!o){const e=WS(n,a);if(M=!!p&&!!g[e],x){const t=m[e];P=!!f[e],I=a[O],F=!!t.treeLoaded}}return w&&"default"!==w||(V.onClick=t=>{n.triggerTreeExpandEvent(t,e)}),y("div",{class:["vxe-cell--tree-node",{"is--active":M}],style:v&&b?{paddingLeft:s*b+"px"}:void 0},[S&&(x?F?R:R||I:R)?[y("div",Object.assign({class:"vxe-cell--tree-btn"},V),[y("i",{class:P?C||TE().TABLE_TREE_LOADED:M?E||TE().TABLE_TREE_OPEN:D||TE().TABLE_TREE_CLOSE})])]:null,y("div",{class:"vxe-tree-cell"},t)])},renderDeepNodeBtn(e,t){const{$table:n,row:o,column:l}=e,{rowGroupNode:r}=l,a=n.reactData,{rowGroupList:i}=a;if(i.length){const{computeAggregateOpts:a}=n.getComputeMaps(),i=a.value,{mode:s}=i;if("column"===s?l.field===o.groupField:r)return[zE.renderRowGroupBtn(e,t)]}return[zE.renderTreeNodeBtn(e,t)]},renderSeqHeader(e){const{$table:t,column:n}=e,{slots:o}=n,l=o?o.header:null;return AE(e,$E(e,l?t.callSlot(l,e):PC(n.getTitle(),1)))},renderSeqCell(e){const{$table:t,column:n}=e,o=t.props,{treeConfig:l}=o,{computeSeqOpts:r}=t.getComputeMaps(),a=r.value,{slots:i}=n,s=i?i.default:null;if(s)return FE(e,t.callSlot(s,e));const{seq:c}=e,u=a.seqMethod;return FE(e,[y("span",`${PC(u?u(e):l?c:(a.startIndex||0)+c,1)}`)])},renderDeepIndexCell:e=>zE.renderDeepNodeBtn(e,zE.renderSeqCell(e)),renderRadioHeader(e){const{$table:t,column:n}=e,{slots:o}=n,l=o?o.header:null,r=o?o.title:null;return AE(e,$E(e,l?t.callSlot(l,e):[y("span",{class:"vxe-radio--label"},r?t.callSlot(r,e):PC(n.getTitle(),1))]))},renderRadioCell(e){const{$table:t,column:n,isHidden:o}=e,l=t.reactData,{computeRadioOpts:r}=t.getComputeMaps(),{selectRadioRow:a}=l,i=r.value,{slots:s}=n,{labelField:c,checkMethod:u,visibleMethod:d}=i,{row:p}=e,m=s?s.default:null,g=s?s.radio:null,f=t.eqRow(p,a),h=!d||d({$table:t,row:p});let v,b=!!u;o||(v={onClick(n){!b&&h&&t.triggerRadioRowEvent(n,e)}},u&&(b=!u({$table:t,row:p})));const x=Object.assign(Object.assign({},e),{checked:f,disabled:b,visible:h});if(g)return FE(e,t.callSlot(g,x));const w=[];return h&&w.push(y("span",{class:["vxe-radio--icon",f?TE().TABLE_RADIO_CHECKED:TE().TABLE_RADIO_UNCHECKED]})),(m||c)&&w.push(y("span",{class:"vxe-radio--label"},m?t.callSlot(m,x):sp.get(p,c))),FE(e,[y("span",Object.assign({class:["vxe-cell--radio",{"is--checked":f,"is--disabled":b}]},v),w)])},renderDeepRadioCell:e=>zE.renderDeepNodeBtn(e,zE.renderRadioCell(e)),renderCheckboxHeader(e){const{$table:t,column:n,isHidden:o}=e,l=t.reactData,{computeIsAllCheckboxDisabled:r,computeCheckboxOpts:a}=t.getComputeMaps(),{isAllSelected:i,isIndeterminate:s}=l,c=r.value,{slots:u}=n,d=u?u.header:null,p=u?u.title:null,m=a.value,{checkStrictly:g,showHeader:f,headerTitle:h}=m,v=n.getTitle(),b={};o||(b.onClick=e=>{c||t.triggerCheckAllEvent(e,!i)});const x=Object.assign(Object.assign({},e),{checked:i,disabled:c,indeterminate:s});return AE(e,$E(x,d?t.callSlot(d,x):(g?f:!1!==f)?[y("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":i,"is--disabled":c,"is--indeterminate":s}],title:sp.eqNull(h)?DE("vxe.table.allTitle"):`${h||""}`},b),[y("span",{class:["vxe-checkbox--icon",s?TE().TABLE_CHECKBOX_INDETERMINATE:i?TE().TABLE_CHECKBOX_CHECKED:TE().TABLE_CHECKBOX_UNCHECKED]})].concat(p||v?[y("span",{class:"vxe-checkbox--label"},p?t.callSlot(p,x):v)]:[]))]:[y("span",{class:"vxe-checkbox--label"},p?t.callSlot(p,x):v)]))},renderCheckboxCell(e){const{$table:t,row:n,column:o,isHidden:l}=e,r=t.props,a=t.reactData,i=t.internalData,{treeConfig:s}=r,{updateCheckboxFlag:c,isRowGroupStatus:u}=a,{selectCheckboxMaps:d,treeIndeterminateRowMaps:p}=i,{computeCheckboxOpts:m}=t.getComputeMaps(),g=m.value,{labelField:f,checkMethod:h,visibleMethod:v}=g,{slots:b}=o,x=b?b.default:null,w=b?b.checkbox:null;let C=!1,S=!1;const E=!v||v({$table:t,row:n});let D=!!h;const T={};if(!l){const o=WS(t,n);S=!!c&&!!d[o],T.onClick=n=>{!D&&E&&t.triggerCheckRowEvent(n,e,!S)},h&&(D=!h({$table:t,row:n})),(s||u)&&(C=!!p[o])}const O=Object.assign(Object.assign({},e),{checked:S,disabled:D,visible:E,indeterminate:C});if(w)return FE(e,t.callSlot(w,O));const k=[];return E&&k.push(y("span",{class:["vxe-checkbox--icon",C?TE().TABLE_CHECKBOX_INDETERMINATE:S?TE().TABLE_CHECKBOX_CHECKED:TE().TABLE_CHECKBOX_UNCHECKED]})),(x||f)&&k.push(y("span",{class:"vxe-checkbox--label"},x?t.callSlot(x,O):sp.get(n,f))),FE(e,[y("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":S,"is--disabled":D,"is--indeterminate":C,"is--hidden":!E}]},T),k)])},renderDeepSelectionCell:e=>zE.renderDeepNodeBtn(e,zE.renderCheckboxCell(e)),renderCheckboxCellByProp(e){const{$table:t,row:n,column:o,isHidden:l}=e,r=t.props,a=t.reactData,i=t.internalData,{treeConfig:s}=r,{updateCheckboxFlag:c,isRowGroupStatus:u}=a,{treeIndeterminateRowMaps:d}=i,{computeCheckboxOpts:p}=t.getComputeMaps(),m=p.value,{labelField:g,checkField:f,checkMethod:h,visibleMethod:v}=m,b=m.indeterminateField||m.halfField,{slots:x}=o,w=x?x.default:null,C=x?x.checkbox:null;let S=!1,E=!1;const D=!v||v({$table:t,row:n});let T=!!h;const O={};if(!l){const o=WS(t,n);E=!!c&&sp.get(n,f),O.onClick=n=>{!T&&D&&t.triggerCheckRowEvent(n,e,!E)},h&&(T=!h({$table:t,row:n})),(s||u)&&(S=!!d[o])}const k=Object.assign(Object.assign({},e),{checked:E,disabled:T,visible:D,indeterminate:S});if(C)return FE(e,t.callSlot(C,k));const R=[];return D&&(R.push(y("span",{class:["vxe-checkbox--icon",S?TE().TABLE_CHECKBOX_INDETERMINATE:E?TE().TABLE_CHECKBOX_CHECKED:TE().TABLE_CHECKBOX_UNCHECKED]})),(w||g)&&R.push(y("span",{class:"vxe-checkbox--label"},w?t.callSlot(w,k):sp.get(n,g)))),FE(e,[y("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":E,"is--disabled":T,"is--indeterminate":b&&!E?n[b]:S,"is--hidden":!D}]},O),R)])},renderDeepSelectionCellByProp:e=>zE.renderDeepNodeBtn(e,zE.renderCheckboxCellByProp(e)),renderExpandCell(e){const{$table:t,isHidden:n,row:o,column:l}=e,r=t.reactData,a=t.internalData,{isRowGroupStatus:i}=r,{rowExpandedMaps:s,rowExpandLazyLoadedMaps:c}=a,{computeExpandOpts:u}=t.getComputeMaps(),d=u.value,{lazy:p,labelField:m,iconLoaded:g,showIcon:f,iconOpen:h,iconClose:v,visibleMethod:b}=d,{slots:x}=l,w=x?x.default:null,C=x?x.icon:null;let S=!1,E=!1;if(i&&o.isAggregate)return FE(e,[]);if(C)return FE(e,t.callSlot(C,e));if(!n){const e=WS(t,o);S=!!s[e],p&&(E=!!c[e])}return FE(e,[!f||b&&!b(e)?RE(t):y("span",{class:["vxe-table--expanded",{"is--active":S}],onMousedown(e){e.stopPropagation()},onClick(n){t.triggerRowExpandEvent(n,e)}},[y("i",{class:["vxe-table--expand-btn",E?g||TE().TABLE_EXPAND_LOADED:S?h||TE().TABLE_EXPAND_OPEN:v||TE().TABLE_EXPAND_CLOSE]})]),w||m?y("span",{class:"vxe-table--expand-label"},w?t.callSlot(w,e):sp.get(o,m)):RE(t)])},renderExpandData(e){const{$table:t,column:n}=e,{slots:o,contentRender:l}=n,r=o?o.content:null;if(r)return t.callSlot(r,e);if(l){const t=OE.get(l.name);if(t){const n=t.renderTableExpand||t.renderExpand;if(n)return EE(n(l,e))}}return[]},renderHTMLCell(e){const{$table:t,column:n}=e,{slots:o}=n,l=o?o.default:null;return FE(e,l?t.callSlot(l,e):[y("span",{class:"vxe-cell--html",innerHTML:NE(e)})])},renderDeepHTMLCell:e=>zE.renderDeepNodeBtn(e,zE.renderHTMLCell(e)),renderSortAndFilterHeader:e=>AE(e,zE.renderHeaderTitle(e).concat(zE.renderSortIcon(e).concat(zE.renderFilterIcon(e)))),renderSortHeader:e=>AE(e,zE.renderHeaderTitle(e).concat(zE.renderSortIcon(e))),renderSortIcon(e){const{$table:t,column:n}=e,{computeSortOpts:o}=t.getComputeMaps(),l=o.value,{showIcon:r,allowBtn:a,ascTitle:i,descTitle:s,iconLayout:c,iconAsc:u,iconDesc:d,iconVisibleMethod:p}=l,{order:m}=n;return!r||p&&!p(e)?[]:[y("span",{class:["vxe-cell--sort",`vxe-cell--sort-${c}-layout`]},[y("i",{class:["vxe-sort--asc-btn",u||TE().TABLE_SORT_ASC,{"sort--active":"asc"===m}],title:sp.eqNull(i)?DE("vxe.table.sortAsc"):`${i||""}`,onClick:a?e=>{e.stopPropagation(),t.triggerSortEvent(e,n,"asc")}:void 0}),y("i",{class:["vxe-sort--desc-btn",d||TE().TABLE_SORT_DESC,{"sort--active":"desc"===m}],title:sp.eqNull(s)?DE("vxe.table.sortDesc"):`${s||""}`,onClick:a?e=>{e.stopPropagation(),t.triggerSortEvent(e,n,"desc")}:void 0})])]},renderFilterHeader:e=>AE(e,zE.renderHeaderTitle(e).concat(zE.renderFilterIcon(e))),renderFilterIcon(e){const{$table:t,column:n,hasFilter:o}=e,l=t.reactData,{filterStore:r}=l,{computeFilterOpts:a}=t.getComputeMaps(),i=a.value,{showIcon:s,iconNone:c,iconMatch:u,iconVisibleMethod:d}=i;return!s||d&&!d(e)?[]:[y("span",{class:["vxe-cell--filter",{"is--active":r.visible&&r.column===n}],onClick(n){t.triggerFilterEvent&&t.triggerFilterEvent(n,e.column,e)}},[y("i",{class:["vxe-filter--btn",o?u||TE().TABLE_FILTER_MATCH:c||TE().TABLE_FILTER_NONE],title:DE("vxe.table.filter")})])]},renderEditHeader(e){const{$table:t,column:n}=e,o=t.props,{computeEditOpts:l}=t.getComputeMaps(),{editConfig:r,editRules:a}=o,i=l.value,{sortable:s,filters:c,editRender:u}=n;let d=!1;if(a){const e=sp.get(a,n.field);e&&(d=e.some((e=>e.required)))}let p=[];return DC(r)&&(p=[d&&i.showAsterisk?y("span",{class:"vxe-cell--required-icon"},[y("i")]):RE(t),DC(u)&&i.showIcon?y("span",{class:"vxe-cell--edit-icon"},[y("i",{class:i.icon||TE().TABLE_EDIT})]):RE(t)]),AE(e,p.concat(zE.renderHeaderTitle(e)).concat(s?zE.renderSortIcon(e):[]).concat(c?zE.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:t,column:n}=e,o=t.reactData,{editStore:l}=o,{actived:r}=l,{editRender:a}=n;return zE.runRenderer(e,DC(a)&&r&&r.row===e.row)},renderDeepRowEdit:e=>zE.renderDeepNodeBtn(e,zE.renderRowEdit(e)),renderCellEdit(e){const{$table:t,column:n}=e,o=t.reactData,{editStore:l}=o,{actived:r}=l,{editRender:a}=n;return zE.runRenderer(e,DC(a)&&r&&r.row===e.row&&r.column===e.column)},renderDeepCellEdit:e=>zE.renderDeepNodeBtn(e,zE.renderCellEdit(e)),runRenderer(e,t){const{$table:n,column:o}=e,{slots:l,editRender:r,formatter:a}=o,i=l?l.default:null,s=l?l.edit:null,c=OE.get(r.name),u=c?c.renderTableEdit||c.renderEdit:null,d=Object.assign({$type:"",isEdit:t},e);return t?(d.$type="edit",s?n.callSlot(s,d):u?EE(u(r,d)):[]):i?FE(e,n.callSlot(i,d)):a?FE(e,[y("span",{class:"vxe-cell--label"},NE(d))]):zE.renderDefaultCell(d)}},jE={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,rowGroupNode:Boolean,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,aggFunc:[String,Boolean],params:Object},HE=p({name:"VxeColumn",props:jE,setup(e,{slots:t}){const o=r(),l=n("$xeTable",null),a=n("$xeColgroup",null);if(!l)return()=>x();const i=zE.createColumn(l,e);i.slots=t;const s=()=>y("div",{ref:o}),c={columnConfig:i,renderVN:s};return dE(l,e,i),f((()=>{const e=o.value;e&&pE(l,e,i,a)})),h((()=>{mE(l,i)})),b("$xeColumn",c),b("$xeGrid",null),s}}),WE=Object.assign({},HE,{install(e){e.component(HE.name,HE),e.component("VxeTableColumn",HE)}});$m.dynamicApp&&($m.dynamicApp.component(HE.name,HE),$m.dynamicApp.component("VxeTableColumn",HE)),$m.component(HE);const qE=WE,UE=p({name:"VxeColgroup",props:jE,setup(e,{slots:t}){const o=r(),l=n("$xeTable",null),a=n("$xeColgroup",null);if(!l)return()=>x();const i=zE.createColumn(l,e),s={};t.header&&(s.header=t.header),i.slots=s,i.children=[],dE(l,e,i),f((()=>{const e=o.value;e&&pE(l,e,i,a)})),h((()=>{mE(l,i)}));return b("$xeColgroup",{columnConfig:i}),b("$xeGrid",null),()=>y("div",{ref:o},t.default?t.default():[])}}),GE=Object.assign({},UE,{install(e){e.component(UE.name,UE),e.component("VxeTableColgroup",UE)}});$m.dynamicApp&&($m.dynamicApp.component(UE.name,UE),$m.dynamicApp.component("VxeTableColgroup",UE)),$m.component(UE);const KE=GE,{getI18n:YE,renderer:XE,renderEmptyElement:ZE}=$m,QE="body",JE=p({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const o=n("$xeTable",{}),{xID:l,props:a,context:i,reactData:s,internalData:c}=o,{computeEditOpts:u,computeMouseOpts:d,computeCellOffsetWidth:p,computeAreaOpts:m,computeDefaultRowHeight:g,computeEmptyOpts:v,computeTooltipOpts:b,computeRadioOpts:x,computeExpandOpts:w,computeTreeOpts:C,computeCheckboxOpts:S,computeCellOpts:D,computeValidOpts:T,computeRowOpts:O,computeColumnOpts:k,computeRowDragOpts:R,computeColumnDragOpts:I,computeResizableOpts:M,computeVirtualXOpts:P,computeVirtualYOpts:F}=o.getComputeMaps(),V=r(),A=r(),$=r(),N=r(),L=r(),_=r(),B=r(),z=r(),j=()=>{const{delayHover:e}=a,{lastScrollTime:t,isDragResize:n}=s;return!!(n||t&&Date.now()<t+e)},H=(e,t,n,l,r,i,f,h,v,x,w,E,I)=>{const V=o.xeGrid,{columnKey:A,resizable:$,showOverflow:N,border:L,height:_,treeConfig:B,cellClassName:z,cellStyle:H,align:W,spanMethod:q,mouseConfig:U,editConfig:G,editRules:K,tooltipConfig:Y,padding:X}=a,{tableData:Z,dragRow:Q,overflowX:J,currentColumn:ee,scrollXLoad:te,scrollYLoad:ne,mergeBodyFlag:oe,calcCellHeightFlag:le,resizeHeightFlag:re,resizeWidthFlag:ae,editStore:ie,isAllOverflow:se,validErrorMaps:ce}=s,{fullAllDataRowIdData:ue,fullColumnIdData:de,mergeBodyCellMaps:pe,visibleColumn:me,afterFullData:ge,mergeBodyList:fe,scrollXStore:he,scrollYStore:ve}=c,be=D.value,xe=T.value,we=S.value,ye=u.value,Ce=b.value,Se=M.value,Ee=P.value,De=F.value,{isAllColumnDrag:Te,isAllRowDrag:Oe}=Se,ke=O.value,Re=R.value,Ie=g.value,Me=le?be.height||ke.height:0,{disabledMethod:Pe,isCrossDrag:Fe,isPeerDrag:Ve}=Re,Ae=k.value,$e=d.value,Ne=m.value,Le=p.value,{selectCellToRow:_e}=Ne,{type:Be,cellRender:ze,editRender:je,align:He,showOverflow:We,className:qe,treeNode:Ue,rowResize:Ge,padding:Ke,verticalAlign:Ye,slots:Xe}=x,{verticalAlign:Ze}=be,{actived:Qe}=ie,Je=ue[t]||{},et=x.id,tt=de[et]||{},nt=je||ze,ot=nt?XE.get(nt.name):null,lt=ot?ot.tableCellClassName||ot.cellClassName:null,rt=ot?ot.tableCellStyle||ot.cellStyle:"",at=Ce.showAll,it=tt.index,st=tt._index,ct=DC(je),ut=re?Je.resizeHeight:0;let dt=n?x.fixed!==n:x.fixed&&J;const pt=sp.eqNull(Ke)?null===X?be.padding:X:Ke,mt=sp.eqNull(We)?N:We,gt="ellipsis"===mt,ft="title"===mt,ht=!0===mt||"tooltip"===mt,vt=se||ft||ht||gt,bt=sp.isBoolean(x.resizable)?x.resizable:Ae.resizable||$,xt=!!Me,wt=ut>0;let yt;const Ct={},St=He||(ot?ot.tableCellAlign:"")||W,Et=sp.eqNull(Ye)?Ze:Ye,Dt=ce[`${t}:${et}`],Tt=K&&xe.showMessage&&("default"===xe.message?_||Z.length>1:"inline"===xe.message),Ot={colid:et},kt={$table:o,$grid:V,isEdit:!1,seq:e,rowid:t,row:i,rowIndex:f,$rowIndex:h,_rowIndex:v,column:x,columnIndex:it,$columnIndex:w,_columnIndex:st,fixed:n,type:QE,isHidden:!!dt,level:r,visibleData:ge,data:Z,items:I};let Rt=!1,It=!1;ke.drag&&(Rt="row"===Re.trigger||x.dragSort&&"cell"===Re.trigger),Rt&&(It=!(!Pe||!Pe(kt))),(ft||ht||at||Y)&&(Ct.onMouseenter=e=>{j()||(ft?AS(e.currentTarget,x):(ht||at)&&o.triggerBodyTooltipEvent(e,kt),o.dispatchEvent("cell-mouseenter",Object.assign({cell:e.currentTarget},kt),e))}),(ht||at||Y)&&(Ct.onMouseleave=e=>{j()||((ht||at)&&o.handleTargetLeaveEvent(e),o.dispatchEvent("cell-mouseleave",Object.assign({cell:e.currentTarget},kt),e))}),(Rt||we.range||U)&&(Ct.onMousedown=e=>{o.triggerCellMousedownEvent(e,kt)}),Rt&&(Ct.onMouseup=o.triggerCellMouseupEvent),Ct.onClick=e=>{o.triggerCellClickEvent(e,kt)},Ct.onDblclick=e=>{o.triggerCellDblclickEvent(e,kt)};let Mt=!1,Pt=1;if(oe&&fe.length){const e=pe[`${v}:${st}`];if(e){const{rowspan:t,colspan:n}=e;if(!t||!n)return null;t>1&&(Mt=!0,Pt=t,Ot.rowspan=t),n>1&&(Mt=!0,Ot.colspan=n)}}else if(q){const{rowspan:e=1,colspan:t=1}=q(kt)||{};if(!e||!t)return null;e>1&&(Mt=!0,Pt=e,Ot.rowspan=e),t>1&&(Mt=!0,Ot.colspan=t)}dt&&Mt&&(Ot.colspan>1||Ot.rowspan>1)&&(dt=!1),!dt&&G&&(je||ze)&&(ye.showStatus||ye.showUpdateStatus)&&(yt=o.isUpdateByRow(i,x.field));const Ft=ne&&!vt;let Vt=eE(Je,be,ke,Ie);const At=w===E.length-1,$t=!x.resizeWidth&&("auto"===x.minWidth||"auto"===x.width);let Nt=!1;if(Mt||Q&&WS(o,Q)===t||(ne&&!B&&!De.immediate&&(v<ve.visibleStartIndex-ve.preloadSize||v>ve.visibleEndIndex+ve.preloadSize)||te&&!Ee.immediate&&!x.fixed&&(st<he.visibleStartIndex-he.preloadSize||st>he.visibleEndIndex+he.preloadSize))&&(Nt=!0),Pt>1){const e=ge[v+Pt-1];if(e){const t=ue[WS(o,e)];t&&(Vt+=t.oTop+eE(t,be,ke,Ie)-Je.oTop-eE(Je,be,ke,Ie))}}const Lt={};if(vt&&ae){let e=Ot.colspan||0;if(e>1)for(let t=1;t<e;t++){const n=me[it+t];n&&(e+=n.renderWidth)}Lt.width=x.renderWidth-Le*e+"px"}ne||vt||xt||wt?Lt.height=`${Vt}px`:Lt.minHeight=`${Vt}px`;const _t=[];if(dt&&se)_t.push(y("div",{key:"tc",class:["vxe-cell",{"c--title":ft,"c--tooltip":ht,"c--ellipsis":gt}],style:Lt}));else if(B&&_t.push(...((e,t,n)=>{const{row:l,column:r}=t,{afterFullData:i}=c,{treeConfig:s}=a,u=C.value,{slots:d,treeNode:p}=r,{fullAllDataRowIdData:m}=c;if(d&&d.line)return o.callSlot(d.line,t);const g=m[e];let f=0,h=null;return g&&(f=g.level,h=g.items[g.treeIndex-1]),s&&p&&(u.showLine||u.line)?[y("div",{key:"tl",class:"vxe-tree--line-wrapper"},[y("div",{class:"vxe-tree--line",style:{height:`${o.eqRow(i[0],l)?1:bE(t,h)}px`,bottom:`-${Math.floor(n/2)}px`,left:f*u.indent+(f?2-vE(o):0)+16+"px"}})])]:[]})(t,kt,Vt)),_t.push(y("div",{key:"tc",class:["vxe-cell",{"c--title":ft,"c--tooltip":ht,"c--ellipsis":gt}],style:Lt,title:ft?o.getCellLabel(i,x):null},Nt?[]:[y("div",{colid:et,rowid:t,class:"vxe-cell--wrapper"},x.renderCell(kt))])),Tt&&Dt){const e=Dt.rule,t=Xe?Xe.valid:null,n=Object.assign(Object.assign(Object.assign({},kt),Dt),{rule:Dt});_t.push(y("div",{key:"tcv",class:["vxe-cell--valid-error-tip",wS(xe.className,n)],style:e&&e.maxWidth?{width:`${e.maxWidth}px`}:null},[y("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${xe.theme||"normal"}`},[t?o.callSlot(t,n):[y("span",{class:"vxe-cell--valid-error-msg"},Dt.content)]])]))}let Bt=!1;return U&&$e.area&&_e&&(!st&&!0===_e||_e===x.field)&&(Bt=!0),!dt&&bt&&Te&&_t.push(y("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!L||"none"===L}],onMousedown:e=>o.handleColResizeMousedownEvent(e,n,kt),onDblclick:e=>o.handleColResizeDblclickEvent(e,kt)})),(Ge||Oe)&&ke.resizable&&_t.push(y("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:e=>o.handleRowResizeMousedownEvent(e,kt),onDblclick:e=>o.handleRowResizeDblclickEvent(e,kt)})),y("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",et,Et?`col--vertical-${Et}`:"",St?`col--${St}`:"",Be?`col--${Be}`:"",{"col--last":At,"col--tree-node":Ue,"col--edit":ct,"col--ellipsis":vt,"col--cs-height":xt,"col--rs-height":wt,"col--to-row":Bt,"col--auto-height":Ft,"fixed--width":!$t,"fixed--hidden":dt,"is--padding":pt,"is--progress":dt&&se||Nt,"is--drag-cell":Rt&&(Fe||Ve||!r),"is--drag-disabled":It,"col--dirty":yt,"col--active":G&&ct&&Qe.row===i&&(Qe.column===x||"row"===ye.mode),"col--valid-error":!!Dt,"col--current":ee===x},wS(lt,kt),wS(qe,kt),wS(z,kt)],key:A||te||ne||Ae.useKey||ke.useKey||Ae.drag?et:w},Ot),{style:Object.assign({},sp.isFunction(rt)?rt(kt):rt,sp.isFunction(H)?H(kt):H)}),Ct),l&&dt?[]:_t)},W=(e,t,n,l)=>{const r=o.xeGrid,{stripe:i,rowKey:d,highlightHoverRow:p,rowClassName:m,rowStyle:g,editConfig:f,treeConfig:h}=a,{hasFixedColumn:v,treeExpandedFlag:b,isColLoading:D,scrollXLoad:T,scrollYLoad:R,isAllOverflow:M,rowExpandedFlag:P,expandColumn:F,selectRadioRow:V,pendingRowFlag:A,isDragColMove:$,rowExpandHeightFlag:N,isRowGroupStatus:L}=s,{fullAllDataRowIdData:_,fullColumnIdData:B,treeExpandedMaps:z,pendingRowMaps:q,rowExpandedMaps:U}=c,G=S.value,K=x.value,Y=C.value,X=u.value,Z=O.value,Q=k.value,J=I.value,{transform:ee,seqMode:te}=Y,ne=Y.children||Y.childrenField,oe=[],{handleGetRowId:le}=US(o),re=h||L;return n.forEach(((a,s)=>{const c=le(a),u=_[c]||{};let x=s,C=0,S=-1,O=-1;const k=L&&a.isAggregate,I={};(Z.isHover||p)&&(I.onMouseenter=e=>{j()||o.triggerHoverEvent(e,{row:a,rowIndex:x})},I.onMouseleave=()=>{j()||o.clearHoverRow()}),u&&(C=u.level,S=k||h&&ee&&"increasing"===te?u._index+1:u.seq,x=u.index,O=u._index);const ae={$table:o,seq:S,rowid:c,fixed:e,type:QE,level:C,row:a,rowIndex:x,$rowIndex:s,_rowIndex:O},ie=F&&!!P&&!!U[c];let se=!1,ce=[],ue=!1;f&&(ue=o.isInsertByRow(a)),!h||R||ee||(ce=a[ne],se=!!b&&ce&&ce.length>0&&!!z[c]),!Z.drag||L||h&&!ee||(I.onDragstart=o.handleRowDragDragstartEvent,I.onDragend=o.handleRowDragDragendEvent,I.onDragover=o.handleRowDragDragoverEvent);const de=["vxe-body--row",re?`row--level-${C}`:"",{"row--stripe":i&&(O+1)%2==0,"is--new":ue,"is--expand-row":ie,"is--expand-tree":se,"row--new":ue&&(X.showStatus||X.showInsertStatus),"row--radio":K.highlight&&o.eqRow(V,a),"row--checked":G.highlight&&o.isCheckedByCheckboxRow(a),"row--pending":!!A&&!!q[c],"row--group":k},wS(m,ae)],pe=l.map(((o,r)=>H(S,c,e,t,C,a,x,s,O,o,r,l,n)));if(oe.push(!D&&Q.drag&&J.animation?y(E,Object.assign({name:"vxe-header--col-list"+($?"":"-disabled"),tag:"tr",class:de,rowid:c,style:g?sp.isFunction(g)?g(ae):g:null,key:d||T||R||Z.useKey||Z.drag||Q.drag||L||h?c:s},I),{default:()=>pe}):y("tr",Object.assign({class:de,rowid:c,style:g?sp.isFunction(g)?g(ae):g:null,key:d||T||R||Z.useKey||Z.drag||Q.drag||L||h?c:s},I),pe)),ie){const t=w.value,{height:n,padding:i,mode:d}=t;if("fixed"===d)oe.push(y("tr",{class:"vxe-body--row-expanded-place",key:`expand_${c}`,rowid:c},[y("td",{class:"vxe-body--row-expanded-place-column",colspan:l.length,style:{height:`${N?u.expandHeight||n:0}px`}})]));else{const t={};n&&(t.height=`${n}px`),h&&(t.paddingLeft=C*Y.indent+30+"px");const{showOverflow:u}=F||{},d=F.id,p=B[d]||{},m=sp.isUndefined(u)||sp.isNull(u)?M:u;let g=-1,f=-1,b=-1;p&&(g=p.index,f=p.$index,b=p._index);const w={$grid:r,$table:o,seq:S,column:F,columnIndex:g,$columnIndex:f,_columnIndex:b,fixed:e,type:QE,level:C,row:a,rowid:c,rowIndex:x,$rowIndex:s,_rowIndex:O,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};oe.push(y("tr",{class:["vxe-body--expanded-row",{"is--padding":i}],key:`expand_${c}`},[y("td",{class:["vxe-body--expanded-column",{"fixed--hidden":e&&!v,"col--ellipsis":m}],colspan:l.length},[y("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":n}],style:t},[F.renderData(w)])])]))}}se&&oe.push(...W(e,t,ce,l))})),oe};f((()=>{t((()=>{const{fixedType:t}=e,{elemStore:n}=c,o=`${t||"main"}-body-`;n[`${o}wrapper`]=V,n[`${o}scroll`]=A,n[`${o}table`]=$,n[`${o}colgroup`]=N,n[`${o}list`]=L,n[`${o}xSpace`]=_,n[`${o}ySpace`]=B,n[`${o}emptyBlock`]=z}))})),h((()=>{const{fixedType:t}=e,{elemStore:n}=c,o=`${t||"main"}-body-`;n[`${o}wrapper`]=null,n[`${o}scroll`]=null,n[`${o}table`]=null,n[`${o}colgroup`]=null,n[`${o}list`]=null,n[`${o}xSpace`]=null,n[`${o}ySpace`]=null,n[`${o}emptyBlock`]=null}));return()=>{const{slots:t}=i,n=o.xeGrid,{fixedColumn:r,fixedType:u,tableColumn:p}=e,{spanMethod:m,footerSpanMethod:g,mouseConfig:f}=a,{isGroup:h,tableData:b,isRowLoading:x,isColLoading:C,overflowX:S,scrollXLoad:D,scrollYLoad:T,isAllOverflow:k,isDragRowMove:I,expandColumn:M,dragRow:P,dragCol:F}=s,{visibleColumn:j,fullAllDataRowIdData:H,fullColumnIdData:q}=c,U=O.value,G=v.value,K=d.value,Y=R.value,X=w.value;let Z,Q=b,J=p,ee=!1;if((D||T||k)&&(M&&"fixed"!==X.mode||m||g||(ee=!0)),C||!u&&S||(J=j),u&&ee&&(J=r||[]),T&&P&&Q.length>2){const e=H[WS(o,P)];if(e){const t=e._index,n=Q[0],l=Q[Q.length-1],r=H[WS(o,n)],a=H[WS(o,l)];if(r&&a){const e=r._index,n=a._index;t<e?Q=[P].concat(Q):t>n&&(Q=Q.concat([P]))}}}if(!u&&!h&&D&&F&&J.length>2){const e=q[F.id];if(e){const t=e._index,n=J[0],o=J[J.length-1],l=q[n.id],r=q[o.id];if(l&&r){const e=l._index,n=r._index;t<e?J=[F].concat(J):t>n&&(J=J.concat([F]))}}}const te=t?t.empty:null;if(te)Z=o.callSlot(te,{$table:o,$grid:n});else{const e=G.name?XE.get(G.name):null,t=e?e.renderTableEmpty||e.renderTableEmptyView||e.renderEmpty:null;Z=t?EE(t(G,{$table:o})):a.emptyText||YE("vxe.table.emptyText")}const ne={onScroll(e){o.triggerBodyScrollEvent(e,u)}};return y("div",{ref:V,class:["vxe-table--body-wrapper",u?`fixed-${u}--wrapper`:"body--wrapper"],xid:l},[y("div",Object.assign({ref:A,class:"vxe-table--body-inner-wrapper"},ne),[u?ZE(o):y("div",{ref:_,class:"vxe-body--x-space"}),y("div",{ref:B,class:"vxe-body--y-space"}),y("table",{ref:$,class:"vxe-table--body",xid:l,cellspacing:0,cellpadding:0,border:0,xvm:ee?"1":null},[y("colgroup",{ref:N},J.map(((e,t)=>y("col",{name:e.id,key:t,style:{width:`${e.renderWidth}px`}})))),!x&&!C&&U.drag&&Y.animation?y(E,{ref:L,name:"vxe-body--row-list"+(I?"":"-disabled"),tag:"tbody"},{default:()=>W(u,ee,Q,J)}):y("tbody",{ref:L},W(u,ee,Q,J))]),y("div",{class:"vxe-table--checkbox-range"}),f&&K.area?y("div",{class:"vxe-table--cell-area"},[y("span",{class:"vxe-table--cell-main-area"},K.extension?[y("span",{class:"vxe-table--cell-main-area-btn",onMousedown(e){o.triggerCellAreaExtendMousedownEvent&&o.triggerCellAreaExtendMousedownEvent(e,{$table:o,fixed:u,type:QE})}})]:[]),y("span",{class:"vxe-table--cell-copy-area"}),y("span",{class:"vxe-table--cell-extend-area"}),y("span",{class:"vxe-table--cell-multi-area"}),y("span",{class:"vxe-table--cell-active-area"}),y("span",{class:"vxe-table--cell-row-status-area"})]):ZE(o),u?ZE(o):y("div",{class:"vxe-table--empty-block",ref:z},[y("div",{class:"vxe-table--empty-content"},Z)])])])}}}),{renderer:eD,renderEmptyElement:tD}=$m,nD="header",oD=p({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const o=n("$xeTable",{}),{xID:l,props:a,reactData:s,internalData:c}=o,{computeColumnOpts:u,computeColumnDragOpts:d,computeCellOpts:p,computeMouseOpts:m,computeHeaderCellOpts:g,computeDefaultRowHeight:v,computeVirtualXOpts:b}=o.getComputeMaps(),x=r([]),w=r(),C=r(),S=r(),D=r(),T=r(),O=r(),k=r(),R=()=>{const{isGroup:t}=s;x.value=t?(e=>{let t=1;const n=(e,o)=>{if(o&&(e.level=o.level+1,t<e.level&&(t=e.level)),e.children&&e.children.length&&e.children.some((e=>e.visible))){let t=0;e.children.forEach((o=>{o.visible&&(n(o,e),t+=o.colSpan)})),e.colSpan=t}else e.colSpan=1};e.forEach((e=>{e.level=1,n(e)}));const o=[];for(let l=0;l<t;l++)o.push([]);return BS(e).forEach((e=>{e.children&&e.children.length&&e.children.some((e=>e.visible))?e.rowSpan=1:e.rowSpan=t-e.level+1,o[e.level-1].push(e)})),o})(e.tableGroupColumn):[]},I=(t,n,l,r)=>{const i=o.xeGrid,{fixedType:m}=e,{resizable:f,columnKey:h,headerCellClassName:x,headerCellStyle:w,showHeaderOverflow:C,headerAlign:S,align:E,mouseConfig:D}=a,{currentColumn:T,dragCol:O,scrollXLoad:k,scrollYLoad:R,overflowX:I}=s,{fullColumnIdData:M,scrollXStore:P}=c,F=b.value,V=u.value,A=d.value,$=p.value,N=v.value,L=g.value,_=sE(L.height)||N,{disabledMethod:B,isCrossDrag:z,isPeerDrag:j}=A;return l.map(((e,a)=>{const{type:s,showHeaderOverflow:c,headerAlign:u,align:d,filters:p,headerClassName:g,editRender:v,cellRender:b}=e,N=e.id,H=M[N]||{},W=v||b,q=W?eD.get(W.name):null,U=e.children&&e.children.length,G=m?e.fixed!==m&&!U:!!e.fixed&&I,K=sp.isBoolean(L.padding)?L.padding:$.padding,Y=sp.eqNull(c)?C:c,X=u||(q?q.tableHeaderCellAlign:"")||S||d||(q?q.tableCellAlign:"")||E,Z="ellipsis"===Y,Q="title"===Y,J=!0===Y||"tooltip"===Y,ee=Q||J||Z;let te=!1,ne=null;p&&(ne=p[0],te=p.some((e=>e.checked)));const oe=H.index,le=H._index,re={$table:o,$grid:i,$rowIndex:r,column:e,columnIndex:oe,$columnIndex:a,_columnIndex:le,firstFilterOption:ne,fixed:m,type:nD,isHidden:G,hasFilter:te},ae={colid:N,colspan:e.colSpan>1?e.colSpan:null,rowspan:e.rowSpan>1?e.rowSpan:null},ie={onClick:e=>o.triggerHeaderCellClickEvent(e,re),onDblclick:e=>o.triggerHeaderCellDblclickEvent(e,re)},se=V.drag&&"cell"===A.trigger;let ce=!1;se&&(ce=!(!B||!B(re))),(D||se)&&(ie.onMousedown=e=>o.triggerHeaderCellMousedownEvent(e,re)),V.drag&&(ie.onDragstart=o.handleHeaderCellDragDragstartEvent,ie.onDragend=o.handleHeaderCellDragDragendEvent,ie.onDragover=o.handleHeaderCellDragDragoverEvent,se&&(ie.onMouseup=o.handleHeaderCellDragMouseupEvent));const ue=a===l.length-1,de=sp.isBoolean(e.resizable)?e.resizable:V.resizable||f,pe=!e.resizeWidth&&("auto"===e.minWidth||"auto"===e.width);let me=!1;n&&!t&&(O&&O.id===N||k&&!e.fixed&&!F.immediate&&(le<P.visibleStartIndex-P.preloadSize||le>P.visibleEndIndex+P.preloadSize)&&(me=!0));const ge={};return ee?ge.height=`${_}px`:ge.minHeight=`${_}px`,y("th",Object.assign(Object.assign(Object.assign({class:["vxe-header--column",N,{[`col--${X}`]:X,[`col--${s}`]:s,"col--last":ue,"col--fixed":e.fixed,"col--group":U,"col--ellipsis":ee,"fixed--width":!pe,"fixed--hidden":G,"is--padding":K,"is--sortable":e.sortable,"col--filter":!!p,"is--filter-active":te,"is--drag-active":V.drag&&!e.fixed&&!ce&&(z||j||!e.parentId),"is--drag-disabled":V.drag&&ce,"col--current":T===e},g?sp.isFunction(g)?g(re):g:"",x?sp.isFunction(x)?x(re):x:""],style:w?sp.isFunction(w)?w(re):w:null},ae),ie),{key:h||k||R||V.useKey||V.drag||U?N:a}),[y("div",{class:["vxe-cell",{"c--title":Q,"c--tooltip":J,"c--ellipsis":Z}],style:ge},me||n&&G?[]:[y("div",{colid:N,class:"vxe-cell--wrapper"},e.renderHeader(re))]),!G&&de?y("div",{class:"vxe-cell--col-resizable",onMousedown:e=>o.handleColResizeMousedownEvent(e,m,re),onDblclick:e=>o.handleColResizeDblclickEvent(e,re)}):tD(o)])}))},M=(t,n,l)=>{const{fixedType:r}=e,{headerRowClassName:i,headerRowStyle:c}=a,{isColLoading:p,isDragColMove:m}=s,g=u.value,f=d.value;return l.map(((e,l)=>{const a={$table:o,$rowIndex:l,fixed:r,type:nD};return!p&&g.drag&&f.animation?y(E,{key:l,name:"vxe-header--col-list"+(m?"":"-disabled"),tag:"tr",class:["vxe-header--row",i?sp.isFunction(i)?i(a):i:""],style:c?sp.isFunction(c)?c(a):c:null},{default:()=>I(t,n,e,l)}):y("tr",{key:l,class:["vxe-header--row",i?sp.isFunction(i)?i(a):i:""],style:c?sp.isFunction(c)?c(a):c:null},I(t,n,e,l))}))};return i((()=>e.tableColumn),R),f((()=>{t((()=>{const{fixedType:t}=e,{internalData:n}=o,{elemStore:l}=n,r=`${t||"main"}-header-`;l[`${r}wrapper`]=w,l[`${r}scroll`]=C,l[`${r}table`]=S,l[`${r}colgroup`]=D,l[`${r}list`]=T,l[`${r}xSpace`]=O,l[`${r}repair`]=k,R()}))})),h((()=>{const{fixedType:t}=e,{internalData:n}=o,{elemStore:l}=n,r=`${t||"main"}-header-`;l[`${r}wrapper`]=null,l[`${r}scroll`]=null,l[`${r}table`]=null,l[`${r}colgroup`]=null,l[`${r}list`]=null,l[`${r}xSpace`]=null,l[`${r}repair`]=null})),()=>{const{fixedType:t,fixedColumn:n,tableColumn:r}=e,{mouseConfig:i,showHeaderOverflow:u,spanMethod:d,footerSpanMethod:p}=a,{isGroup:g,isColLoading:f,overflowX:h,scrollXLoad:v,dragCol:b}=s,{visibleColumn:E,fullColumnIdData:k}=c,R=m.value;let I=x.value,P=r,F=!1;if(g?P=E:(v&&u&&(d||p||(F=!0)),F&&(f||!t&&h)||(P=E),t&&F&&(P=n||[]),I=[P]),!t&&!g&&v&&b&&P.length>2){const e=k[b.id];if(e){const t=e._index,n=P[0],o=P[P.length-1],l=k[n.id],r=k[o.id];if(l&&r){const e=l._index,n=r._index;t<e?(P=[b].concat(P),I=[[b].concat(I[0])].concat(I.slice(1))):t>n&&(P=P.concat([b]),I=[I[0].concat([b])].concat(I.slice(1)))}}}return y("div",{ref:w,class:["vxe-table--header-wrapper",t?`fixed-${t}--wrapper`:"body--wrapper"],xid:l},[y("div",{ref:C,class:"vxe-table--header-inner-wrapper",onScroll(e){o.triggerHeaderScrollEvent(e,t)}},[t?tD(o):y("div",{ref:O,class:"vxe-body--x-space"}),y("table",{ref:S,class:"vxe-table--header",xid:l,cellspacing:0,cellpadding:0,border:0,xvm:F?"1":null},[y("colgroup",{ref:D},P.map(((e,t)=>y("col",{name:e.id,key:t,style:{width:`${e.renderWidth}px`}})))),y("thead",{ref:T},M(g,F,I))]),i&&R.area?y("div",{class:"vxe-table--cell-area"},[y("span",{class:"vxe-table--cell-main-area"}),y("span",{class:"vxe-table--cell-copy-area"}),y("span",{class:"vxe-table--cell-extend-area"}),y("span",{class:"vxe-table--cell-multi-area"}),y("span",{class:"vxe-table--cell-active-area"}),y("span",{class:"vxe-table--cell-col-status-area"})]):tD(o)])])}}}),{renderer:lD,renderEmptyElement:rD}=$m,aD="footer",iD=p({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const o=n("$xeTable",{}),{xID:l,props:a,reactData:i,internalData:s}=o,{computeTooltipOpts:c,computeColumnOpts:u,computeColumnDragOpts:d,computeCellOpts:p,computeFooterCellOpts:m,computeDefaultRowHeight:g,computeResizableOpts:v,computeVirtualXOpts:b}=o.getComputeMaps(),x=r(),w=r(),C=r(),S=r(),D=r(),T=r(),O=(t,n,l,r,d,f)=>{const h=o.xeGrid,{fixedType:x}=e,{resizable:w,border:C,footerCellClassName:S,footerCellStyle:E,footerAlign:D,footerSpanMethod:T,align:O,columnKey:k,showFooterOverflow:R}=a,{scrollXLoad:I,scrollYLoad:M,overflowX:P,currentColumn:F}=i,{fullColumnIdData:V,mergeFooterList:A,mergeFooterCellMaps:$,scrollXStore:N}=s,L=b.value,_=c.value,B=v.value,{isAllColumnDrag:z}=B,j=u.value,H=g.value,W=p.value,q=m.value,U=sE(q.height)||H;return n.map(((e,a)=>{const{type:i,showFooterOverflow:s,footerAlign:c,align:u,footerClassName:p,editRender:m,cellRender:g}=e,v=e.id,b=V[v]||{},B=m||g,H=B?lD.get(B.name):null,G=_.showAll,K=e.children&&e.children.length,Y=x?e.fixed!==x&&!K:e.fixed&&P,X=sp.isBoolean(q.padding)?q.padding:W.padding,Z=sp.eqNull(s)?R:s,Q=c||(H?H.tableFooterCellAlign:"")||D||u||(H?H.tableCellAlign:"")||O,J="ellipsis"===Z,ee="title"===Z,te=!0===Z||"tooltip"===Z,ne=ee||te||J,oe=sp.isBoolean(e.resizable)?e.resizable:j.resizable||w,le={colid:v},re={},ae=b.index,ie=b._index,se={$table:o,$grid:h,row:r,rowIndex:f,_rowIndex:f,$rowIndex:d,column:e,columnIndex:ae,$columnIndex:a,_columnIndex:ie,itemIndex:ie,items:r,fixed:x,type:aD,data:l};(ee||te||G)&&(re.onMouseenter=t=>{ee?AS(t.currentTarget,e):(te||G)&&o.triggerFooterTooltipEvent(t,se)}),(te||G)&&(re.onMouseleave=e=>{(te||G)&&o.handleTargetLeaveEvent(e)}),re.onClick=e=>{o.dispatchEvent("footer-cell-click",Object.assign({cell:e.currentTarget},se),e)},re.onDblclick=e=>{o.dispatchEvent("footer-cell-dblclick",Object.assign({cell:e.currentTarget},se),e)};let ce=!1;if(A.length){const e=$[`${f}:${ie}`];if(e){const{rowspan:t,colspan:n}=e;if(!t||!n)return null;t>1&&(ce=!0,le.rowspan=t),n>1&&(ce=!0,le.colspan=n)}}else if(T){const{rowspan:e=1,colspan:t=1}=T(se)||{};if(!e||!t)return null;e>1&&(le.rowspan=e),t>1&&(le.colspan=t)}const ue=a===n.length-1,de=!e.resizeWidth&&("auto"===e.minWidth||"auto"===e.width);let pe=!1;t&&!ce&&I&&!e.fixed&&!L.immediate&&(ie<N.visibleStartIndex-N.preloadSize||ie>N.visibleEndIndex+N.preloadSize)&&(pe=!0);const me={};return ne?me.height=`${U}px`:me.minHeight=`${U}px`,y("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",e.id,{[`col--${Q}`]:Q,[`col--${i}`]:i,"col--last":ue,"fixed--width":!de,"fixed--hidden":Y,"is--padding":X,"col--ellipsis":ne,"col--current":F===e},wS(p,se),wS(S,se)]},le),{style:E?sp.isFunction(E)?E(se):E:null}),re),{key:k||I||M||j.useKey||j.drag?e.id:a}),[y("div",{class:["vxe-cell",{"c--title":ee,"c--tooltip":te,"c--ellipsis":J}],style:me},pe?[]:[y("div",{colid:v,class:"vxe-cell--wrapper"},e.renderFooter(se))]),!Y&&oe&&z?y("div",{class:["vxe-cell--col-resizable",{"is--line":!C||"none"===C}],onMousedown:e=>o.handleColResizeMousedownEvent(e,x,se),onDblclick:e=>o.handleColResizeDblclickEvent(e,se)}):rD(o)])}))},k=(t,n)=>{const{fixedType:l,footerTableData:r}=e,{footerRowClassName:s,footerRowStyle:c}=a,{isColLoading:p,isDragColMove:m}=i,g=u.value,f=d.value;return r.map(((e,a)=>{const i=a,u={$table:o,row:e,_rowIndex:i,$rowIndex:a,fixed:l,type:aD};return!p&&g.drag&&f.animation?y(E,{key:a,name:"vxe-header--col-list"+(m?"":"-disabled"),tag:"tr",class:["vxe-footer--row",s?sp.isFunction(s)?s(u):s:""],style:c?sp.isFunction(c)?c(u):c:null},{default:()=>O(t,n,r,e,a,i)}):y("tr",{key:a,class:["vxe-footer--row",s?sp.isFunction(s)?s(u):s:""],style:c?sp.isFunction(c)?c(u):c:null},O(t,n,r,e,a,i))}))};return f((()=>{t((()=>{const{fixedType:t}=e,{elemStore:n}=s,o=`${t||"main"}-footer-`;n[`${o}wrapper`]=x,n[`${o}scroll`]=w,n[`${o}table`]=C,n[`${o}colgroup`]=S,n[`${o}list`]=D,n[`${o}xSpace`]=T}))})),h((()=>{const{fixedType:t}=e,{elemStore:n}=s,o=`${t||"main"}-footer-`;n[`${o}wrapper`]=null,n[`${o}scroll`]=null,n[`${o}table`]=null,n[`${o}colgroup`]=null,n[`${o}list`]=null,n[`${o}xSpace`]=null})),()=>{const{fixedType:t,fixedColumn:n,tableColumn:r}=e,{spanMethod:c,footerSpanMethod:u,showFooterOverflow:d}=a,{visibleColumn:p,fullColumnIdData:m}=s,{isGroup:g,isColLoading:f,overflowX:h,scrollXLoad:v,dragCol:b}=i;let E=r,O=!1;if(v&&d&&(c||u||(O=!0)),O&&(f||!t&&h)||(E=p),t&&O&&(E=n||[]),!t&&!g&&v&&b&&E.length>2){const e=m[b.id];if(e){const t=e._index,n=E[0],o=E[E.length-1],l=m[n.id],r=m[o.id];if(l&&r){const e=l._index,n=r._index;t<e?E=[b].concat(E):t>n&&(E=E.concat([b]))}}}return y("div",{ref:x,class:["vxe-table--footer-wrapper",t?`fixed-${t}--wrapper`:"body--wrapper"],xid:l},[y("div",{ref:w,class:"vxe-table--footer-inner-wrapper",onScroll(e){o.triggerFooterScrollEvent(e,t)}},[t?rD(o):y("div",{ref:T,class:"vxe-body--x-space"}),y("table",{ref:C,class:"vxe-table--footer",xid:l,cellspacing:0,cellpadding:0,border:0,xvm:O?"1":null},[y("colgroup",{ref:S},E.map(((e,t)=>y("col",{name:e.id,key:t,style:{width:`${e.renderWidth}px`}})))),y("tfoot",{ref:D},k(O,E))])])])}}}),{getConfig:sD}=$m,cD={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>sD().table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>sD().table.resizable},stripe:{type:Boolean,default:()=>sD().table.stripe},border:{type:[Boolean,String],default:()=>sD().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>sD().table.round},size:{type:String,default:()=>sD().table.size||sD().size},fit:{type:Boolean,default:()=>sD().table.fit},loading:Boolean,align:{type:String,default:()=>sD().table.align},headerAlign:{type:String,default:()=>sD().table.headerAlign},footerAlign:{type:String,default:()=>sD().table.footerAlign},showHeader:{type:Boolean,default:()=>sD().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>sD().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>sD().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>sD().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>sD().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>sD().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>sD().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>sD().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>sD().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>sD().table.emptyText},keepSource:{type:Boolean,default:()=>sD().table.keepSource},autoResize:{type:Boolean,default:()=>sD().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,aggregateConfig:Object,rowGroupConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>sD().table.animat},delayHover:{type:Number,default:()=>sD().table.delayHover},params:Object},uD=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","clear-all-sort","filter-change","filter-visible","clear-filter","clear-all-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-group-expand","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],{getI18n:dD,getIcon:pD,renderEmptyElement:mD}=$m,gD=p({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e){const o=$m.getComponent("VxeModal"),l=$m.getComponent("VxeDrawer"),a=$m.getComponent("VxeButton"),i=$m.getComponent("VxeNumberInput"),s=$m.getComponent("VxeRadioGroup"),c=n("$xeTable",{}),{props:u,reactData:d,internalData:p}=c,{computeCustomOpts:m,computeColumnDragOpts:g,computeColumnOpts:f,computeIsMaxFixedColumn:h,computeResizableOpts:v}=c.getComputeMaps(),b=r(),w=r(),C=r(),S=r(),D=r();let T,O,k=!1;const R=t=>{const{customStore:n}=e;n.activeWrapper=!0,c.customOpenEvent(t)},I=t=>{const{customStore:n}=e;n.activeWrapper=!1,setTimeout((()=>{n.activeBtn||n.activeWrapper||c.customCloseEvent(t)}),300)},M=({$event:e})=>{d.isCustomStatus=!0,c.saveCustom(),c.closeCustom(),c.emitCustomEvent("confirm",e)},P=({$event:e})=>{c.closeCustom(),c.emitCustomEvent("close",e)},F=({$event:e})=>{c.cancelCustom(),c.closeCustom(),c.emitCustomEvent("cancel",e)},V=e=>{c.resetCustom(!0),c.closeCustom(),c.emitCustomEvent("reset",e)},A=({$event:e})=>{$m.modal?$m.modal.confirm({content:dD("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then((t=>{"confirm"===t&&V(e)})):V(e)},$=e=>{const{customColumnList:t}=d,n=sp.findTree(t,(t=>t===e));if(n&&n.parent){const{parent:e}=n;e.children&&e.children.length&&(e.renderVisible=e.children.every((e=>e.renderVisible)),e.halfVisible=!e.renderVisible&&e.children.some((e=>e.renderVisible||e.halfVisible)),$(e))}},N=e=>{const t=!e.renderVisible;m.value.immediate?(sp.eachTree([e],(e=>{e.visible=t,e.renderVisible=t,e.halfVisible=!1})),d.isCustomStatus=!0,c.handleCustom(),c.saveCustomStore("update:visible")):sp.eachTree([e],(e=>{e.renderVisible=t,e.halfVisible=!1})),$(e),c.checkCustomStatus()},L=(e,t)=>{const n=h.value;m.value.immediate?(e.renderFixed===t?sp.eachTree([e],(e=>{e.fixed="",e.renderFixed=""})):n&&!e.renderFixed||sp.eachTree([e],(e=>{e.fixed=t,e.renderFixed=t})),d.isCustomStatus=!0,c.handleCustom(),c.saveCustomStore("update:fixed")):e.renderFixed===t?sp.eachTree([e],(e=>{e.renderFixed=""})):n&&!e.renderFixed||sp.eachTree([e],(e=>{e.renderFixed=t}))},_=()=>{c.toggleCustomAllCheckbox()},B=(e,t,n,o)=>{const l=w.value;if(!l)return;const r=l.getBoundingClientRect();if(t){const e=C.value;if(e)if(n){const n=t.getBoundingClientRect();e.style.display="block",e.style.top=`${Math.max(1,n.y+l.scrollTop-r.y)}px`,e.style.height=`${n.height}px`,e.style.width=`${n.width}px`,e.setAttribute("drag-pos",o),e.setAttribute("drag-to-child",k?"y":"n")}else e.style.display=""}const a=S.value;a&&(a.style.display="block",a.style.top=`${Math.min(l.clientHeight+l.scrollTop-a.clientHeight,e.clientY+l.scrollTop-r.y)}px`,a.style.left=`${Math.min(l.clientWidth+l.scrollLeft-a.clientWidth,e.clientX+l.scrollLeft-r.x)}px`,a.setAttribute("drag-status",n?k?"sub":"normal":"disabled"))},z=()=>{const e=S.value,t=C.value;e&&(e.style.display=""),t&&(t.style.display="")},j=e=>{const t=e.currentTarget.parentElement.parentElement.parentElement,n=t.getAttribute("colid"),o=c.getColumnById(n);t.draggable=!0,D.value=o,TS(t,"active--drag-origin")},H=e=>{const t=e.currentTarget.parentElement.parentElement.parentElement;z(),t.draggable=!1,D.value=null,DS(t,"active--drag-origin")},W=e=>{e.dataTransfer&&e.dataTransfer.setDragImage(xS(),0,0)},q=e=>{const{mouseConfig:t}=u,{customColumnList:n}=d,{collectColumn:o}=p,l=m.value,{immediate:r}=l,a=e.currentTarget,i=D.value,s=g.value,{isCrossDrag:f,isSelfToChildDrag:h,isToChildDrag:v,dragEndMethod:b}=s,x="bottom"===O?1:0;if(T&&i&&T!==i){const l=i,a=T;Promise.resolve(!b||b({oldColumn:l,newColumn:a,dragColumn:l,dragPos:O,dragToChild:!!k,offsetIndex:x})).then((i=>{if(!i)return;let s=-1,u=-1;const p={};sp.eachTree([l],(e=>{p[e.id]=e}));let m=!1;if(r){if(l.parentId&&a.parentId){if(!f)return;if(p[a.id]&&(m=!0,!f||!h))return void($m.modal&&$m.modal.message({status:"error",content:dD("vxe.error.treeDragChild")}))}else if(l.parentId){if(!f)return}else if(a.parentId){if(!f)return;if(p[a.id]&&(m=!0,!f||!h))return void($m.modal&&$m.modal.message({status:"error",content:dD("vxe.error.treeDragChild")}))}const e=sp.findTree(o,(e=>e.id===l.id));if(m&&f&&h){if(e){const{items:t,index:n}=e,o=l.children||[];o.forEach((e=>{e.parentId=l.parentId})),t.splice(n,1,...o),l.children=[]}}else if(e){const{items:t,index:n,parent:o}=e;t.splice(n,1),o||(s=n)}const t=sp.findTree(o,(e=>e.id===a.id));if(t){const{items:e,index:n,parent:o}=t;f&&v&&k?(l.parentId=a.id,a.children=(a.children||[]).concat([l])):(l.parentId=a.parentId,e.splice(n+x,0,l)),o||(u=n)}sp.eachTree(o,((e,t,n,o,l)=>{if(!l){const n=t+1;e.renderSortNumber=n}}))}else s=sp.findIndexOf(n,(e=>e.id===l.id)),n.splice(s,1),u=sp.findIndexOf(n,(e=>e.id===a.id)),n.splice(u+x,0,l);d.isDragColMove=!0,t&&(c.clearSelected&&c.clearSelected(),c.clearCellAreas&&(c.clearCellAreas(),c.clearCopyCellArea())),c.dispatchEvent("column-dragend",{oldColumn:l,newColumn:a,dragColumn:l,dragPos:O,offsetIndex:x,_index:{newIndex:u,oldIndex:s}},e),r&&(d.customColumnList=o.slice(0),c.handleColDragSwapColumn())})).catch((()=>{}))}z(),D.value=null,a.draggable=!1,a.removeAttribute("drag-pos"),DS(a,"active--drag-target"),DS(a,"active--drag-origin")},U=e=>{const t=m.value,{immediate:n}=t,o=g.value,{isCrossDrag:l,isToChildDrag:r}=o,a=e.currentTarget,i=OS(e),s=a.getAttribute("colid"),u=c.getColumnById(s),d=D.value;if(u&&(l||1===u.level)){e.preventDefault();const t=e.clientY-a.getBoundingClientRect().y<a.clientHeight/2?"top":"bottom";if(d&&d.id===u.id||!l&&u.level>1||!n&&u.level>1||u.renderFixed)return void B(e,a,!1,t);k=!!(l&&r&&i&&n),T=u,O=t,B(e,a,!0,t)}},G=()=>{const e=D.value,t=g.value;return y("div",{},[y("div",{ref:C,class:["vxe-table-custom-popup--drag-line",{"is--guides":t.showGuidesStatus}]}),y("div",{ref:S,class:"vxe-table-custom-popup--drag-tip"},[y("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[y("div",{class:"vxe-table-custom-popup--drag-tip-status"},[y("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",pD().TABLE_DRAG_STATUS_ROW]}),y("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",pD().TABLE_DRAG_STATUS_SUB_ROW]}),y("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",pD().TABLE_DRAG_DISABLED]})]),y("div",{class:"vxe-table-custom-popup--drag-tip-content"},dD("vxe.custom.cstmDragTarget",[e&&"html"!==e.type?e.getTitle():""]))])])])},K=()=>{const t=c.xeGrid,{customStore:n}=e,{resizable:r}=u,{isCustomStatus:p,customColumnList:b}=d,C=m.value,{immediate:S}=C,D=g.value,{mode:T,modalOptions:O,drawerOptions:k,allowVisible:R,allowSort:I,allowFixed:V,allowResizable:$,checkMethod:B,visibleMethod:z}=C,K=f.value,{maxFixedSize:Y}=K,X=v.value,{minWidth:Z,maxWidth:Q}=X,J=Object.assign({},O),ee=Object.assign({},k),te=h.value,{isCrossDrag:ne}=D,oe=C.slots||{},le=oe.header,re=oe.top,ae=oe.bottom,ie=oe.default,se=oe.footer,ce=[],ue=n.isAll,de=n.isIndeterminate,pe={$table:c,$grid:t,columns:b,isAllChecked:ue,isAllIndeterminate:de,isCustomStatus:p};sp.eachTree(b,((e,t,n,o,l)=>{if(!z||z({$table:c,column:e})){let n=0,o=0;if($){const l={$table:c,column:e,columnIndex:t,$columnIndex:t,$rowIndex:-1};Z&&(n=sp.toNumber(sp.isFunction(Z)?Z(l):Z)),Q&&(o=sp.toNumber(sp.isFunction(Q)?Q(l):Q))}const a=e.renderVisible,u=e.halfVisible,p=PC(e.getTitle(),1),g=e.children&&e.children.length,f=!!B&&!B({$table:c,column:e}),h=!a;ce.push(y("tr",{key:e.id,colid:e.id,class:[`vxe-table-custom-popup--row level--${e.level}`,{"is--group":g}],onDragstart:W,onDragend:q,onDragover:U},[R?y("td",{class:"vxe-table-custom-popup--column-item col--visible"},[y("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":a,"is--indeterminate":u,"is--disabled":f}],title:dD("vxe.custom.setting.colVisible"),onClick:()=>{f||N(e)}},[y("span",{class:["vxe-checkbox--icon",u?pD().TABLE_CHECKBOX_INDETERMINATE:a?pD().TABLE_CHECKBOX_CHECKED:pD().TABLE_CHECKBOX_UNCHECKED]})])]):x(),y("td",{class:"vxe-table-custom-popup--column-item col--name"},[y("div",{class:"vxe-table-custom-popup--name"},[I?ne&&S||1===e.level?y("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":f||h||e.renderFixed}],title:dD("vxe.custom.setting.sortHelpTip")},f||h||e.renderFixed?{}:{onMousedown:j,onMouseup:H}),[y("i",{class:pD().TABLE_CUSTOM_SORT})]):y("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):x(),"html"===e.type?y("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:p}):y("div",{key:"0",class:"vxe-table-custom-popup--title",title:p},p)])]),$?y("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[e.children&&e.children.length||!(sp.isBoolean(e.resizable)?e.resizable:K.resizable||r)?y("span","-"):i?y(i,{type:"integer",immediate:!1,disabled:f||h,modelValue:e.renderResizeWidth,min:n||void 0,max:o||void 0,"onUpdate:modelValue"(t){const n=Math.max(0,Number(t));e.renderResizeWidth=n},onChange(){(e=>{m.value.immediate&&e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth,d.isCustomStatus=!0,c.handleCustom(),c.saveCustomStore("update:width"))})(e)}}):x()]):x(),V?y("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[l?y("span","-"):s?y(s,{modelValue:e.renderFixed||"",type:"button",size:"mini",disabled:f||h,options:[{label:dD("vxe.custom.setting.fixedLeft"),value:"left",disabled:f||h||te},{label:dD("vxe.custom.setting.fixedUnset"),value:"",disabled:f||h},{label:dD("vxe.custom.setting.fixedRight"),value:"right",disabled:f||h||te}],"onUpdate:modelValue"(t){L(e,t)}}):x()]):x()]))}}));const me={default:()=>ie?c.callSlot(ie,pe):y("div",{ref:w,class:"vxe-table-custom-popup--body"},[re?y("div",{class:"vxe-table-custom-popup--table-top"},c.callSlot(re,pe)):mD(c),y("div",{class:"vxe-table-custom-popup--table-wrapper"},[y("table",{},[y("colgroup",{},[R?y("col",{class:"vxe-table-custom-popup--table-col-seq"}):x(),y("col",{class:"vxe-table-custom-popup--table-col-title"}),$?y("col",{class:"vxe-table-custom-popup--table-col-width"}):x(),V?y("col",{class:"vxe-table-custom-popup--table-col-fixed"}):x()]),y("thead",{},[y("tr",{},[R?y("th",{},[y("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":ue,"is--indeterminate":de}],title:dD("vxe.table.allTitle"),onClick:_},[y("span",{class:["vxe-checkbox--icon",de?pD().TABLE_CHECKBOX_INDETERMINATE:ue?pD().TABLE_CHECKBOX_CHECKED:pD().TABLE_CHECKBOX_UNCHECKED]}),y("span",{class:"vxe-checkbox--label"},dD("vxe.toolbar.customAll"))])]):x(),y("th",{},dD("vxe.custom.setting.colTitle")),$?y("th",{},dD("vxe.custom.setting.colResizable")):x(),V?y("th",{},dD("vxe.custom.setting."+(Y?"colFixedMax":"colFixed"),[Y])):x()])]),y(E,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>ce})])]),ae?y("div",{class:"vxe-table-custom-popup--table-bottom"},c.callSlot(ae,pe)):mD(c),G()]),footer:()=>se?c.callSlot(se,pe):y("div",{class:"vxe-table-custom-popup--footer"},[a?y(a,{content:C.resetButtonText||dD("vxe.custom.cstmRestore"),disabled:!p,onClick:A}):x(),S?a?y(a,{content:C.closeButtonText||dD("vxe.table.customClose"),onClick:P}):x():a?y(a,{content:C.cancelButtonText||dD("vxe.table.customCancel"),onClick:F}):x(),S?x():a?y(a,{status:"primary",content:C.confirmButtonText||dD("vxe.custom.cstmConfirm"),onClick:M}):x()])};return le&&(me.header=()=>c.callSlot(le,pe)),"drawer"===T?l?y(l,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",ee.className||""].join(" "),modelValue:n.visible,title:ee.title||dD("vxe.custom.cstmTitle"),width:ee.width||Math.min(880,Math.floor(.6*document.documentElement.clientWidth)),position:ee.position,resize:!!ee.resize,escClosable:!!ee.escClosable,maskClosable:!!ee.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){n.visible=e}},me):x():o?y(o,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",J.className||""].join(" "),modelValue:n.visible,title:J.title||dD("vxe.custom.cstmTitle"),width:J.width||Math.min(880,document.documentElement.clientWidth),minWidth:J.minWidth||700,height:J.height||Math.min(680,document.documentElement.clientHeight),minHeight:J.minHeight||400,showZoom:J.showZoom,showMaximize:J.showMaximize,showMinimize:J.showMinimize,mask:J.mask,lockView:J.lockView,resize:J.resize,escClosable:!!J.escClosable,maskClosable:!!J.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(e){n.visible=e}},me):x()};return t((()=>{const e=m.value,{mode:t}=e;o||"modal"!==t||pS("vxe.error.reqComp",["vxe-modal"]),l||"drawer"!==t||pS("vxe.error.reqComp",["vxe-drawer"]),a||pS("vxe.error.reqComp",["vxe-button"]),i||pS("vxe.error.reqComp",["vxe-number-input"]),s||pS("vxe.error.reqComp",["vxe-radio-group"])})),()=>{const t=m.value;return["modal","drawer","popup"].includes(`${t.mode}`)?K():(()=>{const t=c.xeGrid,{customStore:n}=e,{isCustomStatus:o,customColumnList:l}=d,r=m.value,{immediate:i}=r,s=g.value,{maxHeight:u}=n,{checkMethod:p,visibleMethod:f,allowVisible:v,allowSort:C,allowFixed:S,trigger:D,placement:T}=r,O=h.value,{isCrossDrag:k}=s,V=r.slots||{},$=V.header,B=V.top,z=V.bottom,K=V.default,Y=V.footer,X=[],Z={},Q=n.isAll,J=n.isIndeterminate;"hover"===D&&(Z.onMouseenter=R,Z.onMouseleave=I);const ee={$table:c,$grid:t,columns:l,isAllChecked:Q,isAllIndeterminate:J,isCustomStatus:o};return sp.eachTree(l,((e,t,n,o,l)=>{if(!f||f({$table:c,column:e})){const t=e.renderVisible,n=e.halfVisible,o=e.children&&e.children.length,r=PC(e.getTitle(),1),s=!!p&&!p({$table:c,column:e}),u=!t;X.push(y("li",{key:e.id,colid:e.id,class:["vxe-table-custom--option",`level--${e.level}`,{"is--hidden":s||u,"is--group":o}],onDragstart:W,onDragend:q,onDragover:U},[v?y("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":t,"is--indeterminate":n,"is--disabled":s}],title:dD("vxe.custom.setting.colVisible"),onClick:()=>{s||N(e)}},[y("span",{class:["vxe-checkbox--icon",n?pD().TABLE_CHECKBOX_INDETERMINATE:t?pD().TABLE_CHECKBOX_CHECKED:pD().TABLE_CHECKBOX_UNCHECKED]})]):x(),y("div",{class:"vxe-table-custom--name-option"},[C&&(k&&i||1===e.level)?y("div",{class:"vxe-table-custom--sort-option"},[y("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":s||u||e.renderFixed}],title:dD("vxe.custom.setting.sortHelpTip")},s||u||e.renderFixed?{}:{onMousedown:j,onMouseup:H}),[y("i",{class:pD().TABLE_CUSTOM_SORT})])]):x(),"html"===e.type?y("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:r}):y("div",{key:"0",class:"vxe-table-custom--checkbox-label"},r)]),!l&&S?y("div",{class:"vxe-table-custom--fixed-option"},[a?y(a,{mode:"text",icon:"left"===e.renderFixed?pD().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:pD().TOOLBAR_TOOLS_FIXED_LEFT,status:"left"===e.renderFixed?"primary":"",disabled:s||u||O&&!e.renderFixed,title:dD("left"===e.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{L(e,"left")}}):x(),a?y(a,{mode:"text",icon:"right"===e.renderFixed?pD().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:pD().TOOLBAR_TOOLS_FIXED_RIGHT,status:"right"===e.renderFixed?"primary":"",disabled:s||u||O&&!e.renderFixed,title:dD("right"===e.renderFixed?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{L(e,"right")}}):x()]):x()]))}})),y("div",{ref:b,key:"simple",class:["vxe-table-custom-wrapper",`placement--${T}`,{"is--active":n.visible}],style:u&&!["left","right"].includes(T)?{maxHeight:`${u}px`}:{}},n.visible?[y("div",{class:"vxe-table-custom--header"},$?c.callSlot($,ee):[y("ul",{class:"vxe-table-custom--panel-list"},[y("li",{class:"vxe-table-custom--option"},[v?y("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Q,"is--indeterminate":J}],title:dD("vxe.table.allTitle"),onClick:_},[y("span",{class:["vxe-checkbox--icon",J?pD().TABLE_CHECKBOX_INDETERMINATE:Q?pD().TABLE_CHECKBOX_CHECKED:pD().TABLE_CHECKBOX_UNCHECKED]}),y("span",{class:"vxe-checkbox--label"},dD("vxe.toolbar.customAll"))]):y("span",{class:"vxe-checkbox--label"},dD("vxe.table.customTitle"))])])]),y("div",{ref:w,class:"vxe-table-custom--body"},[B?y("div",{class:"vxe-table-custom--panel-top"},c.callSlot(B,ee)):mD(c),K?y("div",{class:"vxe-table-custom--panel-body"},c.callSlot(K,ee)):y(E,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},Z),{default:()=>X}),z?y("div",{class:"vxe-table-custom--panel-bottom"},c.callSlot(z,ee)):mD(c),G()]),r.showFooter?y("div",{class:"vxe-table-custom--footer"},Y?c.callSlot(Y,ee):[y("div",{class:"vxe-table-custom--footer-buttons"},[a?y(a,{mode:"text",content:r.resetButtonText||dD("vxe.table.customRestore"),disabled:!o,onClick:A}):x(),i?a?y(a,{mode:"text",content:r.closeButtonText||dD("vxe.table.customClose"),onClick:P}):x():a?y(a,{mode:"text",content:r.cancelButtonText||dD("vxe.table.customCancel"),onClick:F}):x(),i?x():a?y(a,{mode:"text",status:"primary",content:r.confirmButtonText||dD("vxe.table.customConfirm"),onClick:M}):x()])]):null]:[])})()}}}),{getI18n:fD,getIcon:hD,renderer:vD}=$m,bD=p({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e,t){const o=sp.uniqueId(),l=n("$xeTable",{}),{reactData:a,internalData:i,getComputeMaps:s}=l,{computeFilterOpts:c}=s(),u=r(),d={refElem:u},p={xID:o,props:e,context:t,getRefMaps:()=>d},m=g((()=>{const{filterStore:t}=e;return t&&t.options.some((e=>e.checked))})),f=e=>{l.handleFilterConfirmFilter(e)},h=e=>{l.handleFilterResetFilter(e)},v=(e,t,n)=>{l.handleFilterChangeOption(e,t,n)},b=(t,n)=>{const{filterStore:o}=e;o.multiple?((t,n)=>{const{filterStore:o}=e;o.options.forEach((e=>{e._checked=n,e.checked=n})),o.isAllSelected=n,o.isIndeterminate=!1})(0,n):h(t)},x={changeRadioOption:(e,t,n)=>{l.handleFilterChangeRadioOption(e,t,n)},changeMultipleOption:(e,t,n)=>{l.handleFilterChangeMultipleOption(e,t,n)},changeAllOption:b,changeOption:v,confirmFilter:f,resetFilter:h};Object.assign(p,x);const w=(t,n)=>{const{filterStore:o}=e,{column:r,multiple:a,maxHeight:s}=o,c=r?r.slots:null,u=c?c.filter:null,d=Object.assign({},i._currFilterParams,{$panel:p,$table:l}),m=n?n.renderTableFilter||n.renderFilter:null;if(u)return[y("div",{class:"vxe-table--filter-template",style:s?{maxHeight:`${s}px`}:{}},l.callSlot(u,d))];if(m)return[y("div",{class:"vxe-table--filter-template",style:s?{maxHeight:`${s}px`}:{}},EE(m(t,d)))];const g=a?o.isAllSelected:!o.options.some((e=>e._checked)),f=a&&o.isIndeterminate;return[y("ul",{class:"vxe-table--filter-header"},[y("li",{class:["vxe-table--filter-option",{"is--checked":g,"is--indeterminate":f}],title:fD(a?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:e=>{b(e,!o.isAllSelected)}},(a?[y("span",{class:["vxe-checkbox--icon",f?hD().TABLE_CHECKBOX_INDETERMINATE:g?hD().TABLE_CHECKBOX_CHECKED:hD().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([y("span",{class:"vxe-checkbox--label"},fD("vxe.table.allFilter"))]))]),y("ul",{class:"vxe-table--filter-body",style:s?{maxHeight:`${s}px`}:{}},o.options.map((e=>{const t=e._checked;return y("li",{class:["vxe-table--filter-option",{"is--checked":e._checked}],title:e.label,onClick:t=>{v(t,!e._checked,e)}},(a?[y("span",{class:["vxe-checkbox--icon",t?hD().TABLE_CHECKBOX_CHECKED:hD().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([y("span",{class:"vxe-checkbox--label"},PC(e.label,1))]))})))]},C=()=>{const{filterStore:t}=e,{column:n,multiple:o}=t,l=c.value,r=m.value,{filterRender:a}=n,i=DC(a)?vD.get(a.name):null,s=!r&&!t.isAllSelected&&!t.isIndeterminate;return o&&(!i||!1!==i.showTableFilterFooter&&!1!==i.showFilterFooter&&!1!==i.isFooter)?[y("div",{class:"vxe-table--filter-footer"},[y("button",{class:{"is--disabled":s},disabled:s,onClick:f},l.confirmButtonText||fD("vxe.table.confirmFilter")),y("button",{onClick:h},l.resetButtonText||fD("vxe.table.resetFilter"))])]:[]};return p.renderVN=()=>{const{filterStore:t}=e,{initStore:n}=a,{visible:o,multiple:r,column:s}=t,d=s?s.filterRender:null,m=DC(d)?vD.get(d.name):null,g=m?m.tableFilterClassName||m.filterClassName:"",f=Object.assign({},i._currFilterParams,{$panel:p,$table:l}),h=l.props,{computeSize:v}=l.getComputeMaps(),b=v.value,x=c.value,{transfer:E,destroyOnClose:D}=x;return y(S,{to:"body",disabled:!E},[y("div",{ref:u,class:["vxe-table--filter-wrapper","filter--prevent-default",wS(g,f),{[`size--${b}`]:b,"is--animat":h.animat,"is--multiple":r,"is--active":o}],style:t.style},n.filter&&(!D||o)&&s?w(d,m).concat(C()):[])])},p},render(){return this.renderVN()}}),{getI18n:xD,getIcon:wD}=$m,yD=p({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const o=$m.getComponent("VxeModal"),l=$m.getComponent("VxeButton"),a=$m.getComponent("VxeSelect"),i=n("$xeTable",{}),{computeImportOpts:s}=i.getComputeMaps(),c=m({loading:!1}),u=r(),d=g((()=>{const{storeData:t}=e;return`${t.filename}.${t.type}`})),p=g((()=>{const{storeData:t}=e;return t.file&&t.type})),f=g((()=>{const{storeData:t}=e,{type:n,typeList:o}=t;if(n){const e=sp.find(o,(e=>n===e.value));return e?e.label:"*.*"}return`*.${o.map((e=>e.value)).join(", *.")}`})),h=()=>{const{storeData:t}=e;Object.assign(t,{filename:"",sheetName:"",type:""})},v=()=>{const{storeData:t,defaultOptions:n}=e;i.readFile(n).then((e=>{const{file:n}=e;Object.assign(t,OC(n),{file:n})})).catch((e=>e))},b=()=>{t((()=>{const e=u.value;e&&e.focus()}))},w=()=>{const{storeData:t}=e;t.visible=!1},C=()=>{const{storeData:t,defaultOptions:n}=e,o=s.value;c.loading=!0,i.importByFile(t.file,Object.assign({},o,n)).then((()=>{c.loading=!1,t.visible=!1})).catch((()=>{c.loading=!1}))};return t((()=>{o||pS("vxe.error.reqComp",["vxe-modal"]),l||pS("vxe.error.reqComp",["vxe-button"]),a||pS("vxe.error.reqComp",["vxe-select"])})),()=>{const t=i.xeGrid,{defaultOptions:n,storeData:r}=e,s=d.value,m=p.value,g=f.value,S=n.slots||{},E=S.top,D=S.bottom,T=S.default,O=S.footer;return o?y(o,{id:"VXE_IMPORT_MODAL",modelValue:r.visible,title:xD("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:c.loading,"onUpdate:modelValue"(e){r.visible=e},onShow:b},{default:()=>{const e={$table:i,$grid:t,options:n,params:n.params};return y("div",{class:"vxe-table-export--panel"},[E?y("div",{class:"vxe-table-export--panel-top"},i.callSlot(E,e)):x(),y("div",{class:"vxe-table-export--panel-body"},T?i.callSlot(T,e):[y("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[y("tbody",[y("tr",[y("td",xD("vxe.import.impFile")),y("td",[m?y("div",{class:"vxe-table-export--selected--file",title:s},[y("span",s),y("i",{class:wD().INPUT_CLEAR,onClick:h})]):y("button",{ref:u,class:"vxe-table-export--select--file",onClick:v},xD("vxe.import.impSelect"))])]),y("tr",[y("td",xD("vxe.import.impType")),y("td",g)]),y("tr",[y("td",xD("vxe.import.impMode")),y("td",[a?y(a,{modelValue:n.mode,options:r.modeList,"onUpdate:modelValue"(e){n.mode=e}}):x()])])])])]),D?y("div",{class:"vxe-table-export--panel-bottom"},i.callSlot(D,e)):x()])},footer(){const e={$table:i,$grid:t,options:n,params:n.params};return y("div",{class:"vxe-table-export--panel-footer"},O?i.callSlot(O,e):[y("div",{class:"vxe-table-export--panel-btns"},[l?y(l,{content:xD("vxe.import.impCancel"),onClick:w}):x(),l?y(l,{status:"primary",disabled:!m||c.loading,content:xD("vxe.import.impConfirm"),onClick:C}):x()])])}}):x()}}}),{getI18n:CD,getIcon:SD}=$m,ED=p({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const o=$m.getComponent("VxeModal"),l=$m.getComponent("VxeButton"),a=$m.getComponent("VxeSelect"),i=$m.getComponent("VxeInput"),s=$m.getComponent("VxeCheckbox"),c=n("$xeTable",{}),{computeExportOpts:u,computePrintOpts:d}=c.getComputeMaps(),p=m({isAll:!1,isIndeterminate:!1,loading:!1}),f=r(),h=r(),v=r(),b=g((()=>{const{storeData:t}=e;return t.columns.every((e=>e.checked))})),w=g((()=>{const{defaultOptions:t}=e;return["html","xml","xlsx","pdf"].indexOf(t.type)>-1})),C=g((()=>{const{storeData:t,defaultOptions:n}=e;return!n.original&&"current"===n.mode&&(t.isPrint||["html","xlsx"].indexOf(n.type)>-1)})),S=g((()=>{const{defaultOptions:t}=e;return!t.original&&["xlsx"].indexOf(t.type)>-1})),E=t=>{const{storeData:n}=e,o=sp.findTree(n.columns,(e=>e===t));if(o&&o.parent){const{parent:e}=o;e.children&&e.children.length&&(e.checked=e.children.every((e=>e.checked)),e.halfChecked=!e.checked&&e.children.some((e=>e.checked||e.halfChecked)),E(e))}},D=()=>{const{storeData:t}=e,n=t.columns;p.isAll=n.every((e=>e.disabled||e.checked)),p.isIndeterminate=!p.isAll&&n.some((e=>!e.disabled&&(e.checked||e.halfChecked)))},T=()=>{const{storeData:t}=e,n=!p.isAll;sp.eachTree(t.columns,(e=>{e.disabled||(e.checked=n,e.halfChecked=!1)})),p.isAll=n,D()},O=()=>{t((()=>{const e=h.value,t=v.value,n=f.value,o=e||t||n;o&&o.focus()})),D()},k=()=>{const{storeData:t,defaultOptions:n}=e,{hasMerge:o,columns:l}=t,r=b.value,a=C.value,i=sp.searchTree(l,(e=>e.checked),{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},n,{columns:i,isMerge:!!(o&&a&&r)&&n.isMerge})},R=()=>{const{storeData:t}=e;t.visible=!1},I=()=>{const{storeData:t}=e;t.isPrint?(()=>{const{storeData:t}=e,n=d.value;t.visible=!1,c.print(Object.assign({},n,k()))})():(()=>{const{storeData:t}=e,n=u.value;p.loading=!0,c.exportData(Object.assign({},n,k())).then((()=>{p.loading=!1,t.visible=!1})).catch((()=>{p.loading=!1}))})()};return t((()=>{o||pS("vxe.error.reqComp",["vxe-modal"]),l||pS("vxe.error.reqComp",["vxe-button"]),a||pS("vxe.error.reqComp",["vxe-select"]),i||pS("vxe.error.reqComp",["vxe-input"]),s||pS("vxe.error.reqComp",["vxe-checkbox"])})),()=>{const t=c.xeGrid,{defaultOptions:n,storeData:r}=e,{isAll:u,isIndeterminate:d}=p,{hasTree:m,hasMerge:g,isPrint:k,hasColgroup:M,columns:P}=r,{isHeader:F}=n,V=[],A=b.value,$=w.value,N=C.value,L=S.value,_=n.slots||{},B=_.top,z=_.bottom,j=_.default,H=_.footer,W=_.parameter;return sp.eachTree(P,(e=>{const t=PC(e.getTitle(),1),n=e.children&&e.children.length,o=e.checked,l=e.halfChecked,r="html"===e.type;V.push(y("li",{key:e.id,class:["vxe-table-export--panel-column-option",`level--${e.level}`,{"is--group":n,"is--checked":o,"is--indeterminate":l,"is--disabled":e.disabled}],title:r?"":t,onClick:()=>{e.disabled||(e=>{const t=!e.checked;sp.eachTree([e],(e=>{e.checked=t,e.halfChecked=!1})),E(e),D()})(e)}},[y("span",{class:["vxe-checkbox--icon",l?SD().TABLE_CHECKBOX_INDETERMINATE:o?SD().TABLE_CHECKBOX_CHECKED:SD().TABLE_CHECKBOX_UNCHECKED]}),r?y("span",{key:"1",class:"vxe-checkbox--label",innerHTML:t}):y("span",{key:"0",class:"vxe-checkbox--label"},t)]))})),o?y(o,{id:"VXE_EXPORT_MODAL",modelValue:r.visible,title:CD(k?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:p.loading,"onUpdate:modelValue"(e){r.visible=e},onShow:O},{default:()=>{const e={$table:c,$grid:t,options:n,columns:P,params:n.params},o="empty"===n.mode;return y("div",{class:"vxe-table-export--panel"},[B?y("div",{class:"vxe-table-export--panel-top"},c.callSlot(B,e)):x(),y("div",{class:"vxe-table-export--panel-body"},j?c.callSlot(j,e):[y("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[y("tbody",[[k?x():y("tr",[y("td",CD("vxe.export.expName")),y("td",[i?y(i,{ref:h,modelValue:n.filename,type:"text",clearable:!0,placeholder:CD("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(e){n.filename=e}}):x()])]),k?x():y("tr",[y("td",CD("vxe.export.expType")),y("td",[a?y(a,{modelValue:n.type,options:r.typeList,"onUpdate:modelValue"(e){n.type=e}}):x()])]),k||$?y("tr",[y("td",CD("vxe.export.expSheetName")),y("td",[i?y(i,{ref:v,modelValue:n.sheetName,type:"text",clearable:!0,placeholder:CD("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(e){n.sheetName=e}}):x()])]):x(),y("tr",[y("td",CD("vxe.export.expMode")),y("td",[a?y(a,{modelValue:n.mode,options:r.modeList.map((e=>({value:e.value,label:CD(e.label)}))),"onUpdate:modelValue"(e){n.mode=e}}):x()])]),y("tr",[y("td",[CD("vxe.export.expColumn")]),y("td",[y("div",{class:"vxe-table-export--panel-column"},[y("ul",{class:"vxe-table-export--panel-column-header"},[y("li",{class:["vxe-table-export--panel-column-option",{"is--checked":u,"is--indeterminate":d}],title:CD("vxe.table.allTitle"),onClick:T},[y("span",{class:["vxe-checkbox--icon",d?SD().TABLE_CHECKBOX_INDETERMINATE:u?SD().TABLE_CHECKBOX_CHECKED:SD().TABLE_CHECKBOX_UNCHECKED]}),y("span",{class:"vxe-checkbox--label"},CD("vxe.export.expCurrentColumn"))])]),y("ul",{class:"vxe-table-export--panel-column-body"},V)])])]),y("tr",[y("td",CD("vxe.export.expOpts")),y("td",W?[y("div",{class:"vxe-table-export--panel-option-row"},c.callSlot(W,e))]:[y("div",{class:"vxe-table-export--panel-option-row"},[s?y(s,{modelValue:o||F,disabled:o,title:CD("vxe.export.expHeaderTitle"),content:CD("vxe.export.expOptHeader"),"onUpdate:modelValue"(e){n.isHeader=e}}):x(),s?y(s,{modelValue:!!F&&n.isTitle,disabled:!F,title:CD("vxe.export.expTitleTitle"),content:CD("vxe.export.expOptTitle"),"onUpdate:modelValue"(e){n.isTitle=e}}):x(),s?y(s,{modelValue:!!(F&&M&&N)&&n.isColgroup,title:CD("vxe.export.expColgroupTitle"),disabled:!F||!M||!N,content:CD("vxe.export.expOptColgroup"),"onUpdate:modelValue"(e){n.isColgroup=e}}):x()]),y("div",{class:"vxe-table-export--panel-option-row"},[s?y(s,{modelValue:!o&&n.original,disabled:o,title:CD("vxe.export.expOriginalTitle"),content:CD("vxe.export.expOptOriginal"),"onUpdate:modelValue"(e){n.original=e}}):x(),s?y(s,{modelValue:!!(g&&N&&A)&&n.isMerge,title:CD("vxe.export.expMergeTitle"),disabled:o||!g||!N||!A,content:CD("vxe.export.expOptMerge"),"onUpdate:modelValue"(e){n.isMerge=e}}):x(),k||!s?x():y(s,{modelValue:!!L&&n.useStyle,disabled:!L,title:CD("vxe.export.expUseStyleTitle"),content:CD("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(e){n.useStyle=e}}),s?y(s,{modelValue:!!m&&n.isAllExpand,disabled:o||!m,title:CD("vxe.export.expAllExpandTitle"),content:CD("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(e){n.isAllExpand=e}}):x()]),y("div",{class:"vxe-table-export--panel-option-row"},[s?y(s,{modelValue:n.isFooter,disabled:!r.hasFooter,title:CD("vxe.export.expFooterTitle"),content:CD("vxe.export.expOptFooter"),"onUpdate:modelValue"(e){n.isFooter=e}}):x()])])])]])])]),z?y("div",{class:"vxe-table-export--panel-bottom"},c.callSlot(z,e)):x()])},footer(){const e={$table:c,$grid:t,options:n,columns:P,params:n.params};return y("div",{class:"vxe-table-export--panel-footer"},H?c.callSlot(H,e):[y("div",{class:"vxe-table-export--panel-btns"},[l?y(l,{content:CD("vxe.export.expCancel"),onClick:R}):x(),l?y(l,{ref:f,status:"primary",content:CD(k?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:I}):x()])])}}):x()}}}),{getIcon:DD}=$m,TD=p({name:"VxeTableMenuPanel",setup(e,t){const o=sp.uniqueId(),l=n("$xeTable",{}),{reactData:a}=l,i=r(),s={refElem:i},c={xID:o,props:e,context:t,getRefMaps:()=>s};return c.renderVN=()=>{const{ctxMenuStore:e}=a,{computeMenuOpts:t}=l.getComputeMaps(),n=t.value;return y(S,{to:"body",disabled:!1},[y("div",{ref:i,class:["vxe-table--context-menu-wrapper",n.className,{"is--visible":e.visible}],style:e.style},e.list.map(((t,n)=>t.every((e=>!1===e.visible))?x():y("ul",{class:"vxe-context-menu--option-wrapper",key:n},t.map(((t,o)=>{const r=t.children&&t.children.some((e=>!1!==e.visible)),a=Object.assign({},t.prefixConfig),i=Object.assign({},t.suffixConfig),s=MC(t.name);return!1===t.visible?null:y("li",{class:[t.className,{"link--disabled":t.disabled,"link--active":t===e.selected}],key:`${n}_${o}`},[y("a",{class:"vxe-context-menu--link",onClick(e){l.ctxMenuLinkEvent(e,t)},onMouseover(e){l.ctxMenuMouseoverEvent(e,t)},onMouseout(e){l.ctxMenuMouseoutEvent(e,t)}},[y("div",{class:["vxe-context-menu--link-prefix",a.className||""]},[y("i",{class:a.icon||t.prefixIcon}),a.content?y("span",{},`${a.content}`):x()]),y("div",{class:"vxe-context-menu--link-content",title:s},s),y("div",{class:["vxe-context-menu--link-suffix",i.className||""]},[y("i",{class:i.icon||t.suffixIcon||(r?DD().TABLE_MENU_OPTIONS:"")}),i.content?y("span",`${i.content}`):x()])]),r?y("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":t===e.selected&&e.showChild}]},t.children.map(((r,a)=>{const i=Object.assign({},r.prefixConfig),s=Object.assign({},r.suffixConfig),c=MC(r.name);return!1===r.visible?null:y("li",{class:[r.className,{"link--disabled":r.disabled,"link--active":r===e.selectChild}],key:`${n}_${o}_${a}`},[y("a",{class:"vxe-context-menu--link",onClick(e){l.ctxMenuLinkEvent(e,r)},onMouseover(e){l.ctxMenuMouseoverEvent(e,t,r)},onMouseout(e){l.ctxMenuMouseoutEvent(e,t)}},[y("div",{class:["vxe-context-menu--link-prefix",i.className||""]},[y("i",{class:i.icon||r.prefixIcon}),i.content?y("span",`${i.content}`):x()]),y("div",{class:"vxe-context-menu--link-content",title:c},c),y("div",{class:["vxe-context-menu--link-suffix",s.className||""]},[y("i",{class:s.icon}),s.content?y("span",`${s.content}`):x()])])])}))):null])}))))))])},c},render(){return this.renderVN()}}),{getConfig:OD,getIcon:kD,getI18n:RD,renderer:ID,formats:MD,createEvent:PD,globalResize:FD,interceptor:VD,hooks:AD,globalEvents:$D,GLOBAL_EVENT_KEYS:ND,useFns:LD,renderEmptyElement:_D}=$m,BD=5e6,zD="VXE_CUSTOM_STORE",jD=5e6,HD=5e6,WD=p({name:"VxeTable",props:cD,emits:uD,setup(e,o){const{slots:l,emit:a}=o,d=sp.uniqueId(),p=sp.browse(),v=$m.getComponent("VxeLoading"),x=$m.getComponent("VxeTooltip"),w=n("$xeTabs",null),{computeSize:C}=LD.useSize(e),S=m({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],rowGroupColumn:null,expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},visiblwRowsFlag:1,isRowGroupStatus:!1,rowGroupList:[],rowGroupExpandedFlag:1,rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isDragRowMove:!1,dragRow:null,isDragColMove:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),E={tZindex:0,currKeyField:"",isCurrDeepKey:!1,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterGroupFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableFullGroupData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeBodyList:[],mergeBodyMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeBodyCellMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},rowGroupExpandedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},cvCacheMaps:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let D={},T={};const O=r(),k=r(),R=r(),I=r(),M=r(),P=r(),F=r(),V=r(),A=r(),$=r(),N=r(),L=r(),_=r(),B=r(),z=r(),j=r(),H=r(),W=r(),q=r(),U=r(),G=r(),K=r(),Y=r(),X=r(),Z=r(),Q=r(),J=r(),ee=r(),te=r(),ne=r(),oe=r(),le=r(),re=r(),ae=r(),ie=r(),se=r(),ce=r(),ue=r(),de=r(),pe=r(),me=n("$xeGrid",null);let ge;const fe=g((()=>{const{id:t}=e;return t?sp.isFunction(t)?`${t({$table:Rt,$grid:me})||""}`:`${t}`:""})),he=g((()=>{const t=Ve.value;return`${e.rowId||t.keyField||"_X_ROW_KEY"}`})),ve=g((()=>Object.assign({},OD().table.validConfig,e.validConfig))),be=g((()=>ye.value)),xe=g((()=>{const e=ye.value,{threshold:t}=e;return t?sp.toNumber(t):0})),we=g((()=>Ce.value)),ye=g((()=>Object.assign({},OD().table.virtualXConfig||OD().table.scrollX,e.virtualXConfig||e.scrollX))),Ce=g((()=>Object.assign({},OD().table.virtualYConfig||OD().table.scrollY,e.virtualYConfig||e.scrollY))),Se=g((()=>Object.assign({},OD().table.scrollbarConfig,e.scrollbarConfig))),Ee=g((()=>{const e=Se.value;return!(!e.x||"top"!==e.x.position)})),De=g((()=>{const e=Se.value;return!(!e.y||"left"!==e.y.position)})),Te=g((()=>{const e=Ce.value,{threshold:t}=e;return t?sp.toNumber(t):0})),Oe=g((()=>S.rowHeightStore)),ke=g((()=>{const e=C.value;return Oe.value[e||"default"]||18})),Re=g((()=>Object.assign({},OD().table.columnConfig,e.columnConfig))),Ie=g((()=>Object.assign({},OD().table.currentColumnConfig,e.currentColumnConfig))),Me=g((()=>{const t=Object.assign({},OD().table.cellConfig,e.cellConfig);return t.height&&(t.height=sp.toNumber(t.height)),t})),Pe=g((()=>{const t=Object.assign({},OD().table.headerCellConfig,e.headerCellConfig),n=Me.value;return t.height=sp.toNumber(sE(t.height||n.height)),t})),Fe=g((()=>{const t=Object.assign({},OD().table.footerCellConfig,e.footerCellConfig),n=Me.value;return t.height=sp.toNumber(sE(t.height||n.height)),t})),Ve=g((()=>Object.assign({},OD().table.rowConfig,e.rowConfig))),Ae=g((()=>Object.assign({},OD().table.aggregateConfig||OD().table.rowGroupConfig,e.aggregateConfig||e.rowGroupConfig))),$e=g((()=>Ae.value)),Ne=g((()=>Object.assign({},OD().table.currentRowConfig,e.currentRowConfig))),Le=g((()=>Object.assign({},OD().table.rowDragConfig,e.rowDragConfig))),_e=g((()=>Object.assign({},OD().table.columnDragConfig,e.columnDragConfig))),Be=g((()=>Object.assign({},OD().table.resizeConfig,e.resizeConfig))),ze=g((()=>Object.assign({},OD().table.resizableConfig,e.resizableConfig))),je=g((()=>Object.assign({startIndex:0},OD().table.seqConfig,e.seqConfig))),He=g((()=>Object.assign({},OD().table.radioConfig,e.radioConfig))),We=g((()=>Object.assign({},OD().table.checkboxConfig,e.checkboxConfig))),qe=g((()=>Object.assign({},OD().tooltip,OD().table.tooltipConfig,e.tooltipConfig))),Ue=g((()=>{const{tooltipStore:e}=S,t=qe.value;return Object.assign({},t,e.currOpts)})),Ge=g((()=>{const e=qe.value;return Object.assign({},e)})),Ke=g((()=>Object.assign({},OD().table.editConfig,e.editConfig))),Ye=g((()=>Object.assign({orders:["asc","desc",null]},OD().table.sortConfig,e.sortConfig))),Xe=g((()=>Object.assign({},OD().table.filterConfig,e.filterConfig))),Ze=g((()=>Object.assign({},OD().table.mouseConfig,e.mouseConfig))),Qe=g((()=>Object.assign({},OD().table.areaConfig,e.areaConfig))),Je=g((()=>Object.assign({},OD().table.keyboardConfig,e.keyboardConfig))),et=g((()=>Object.assign({},OD().table.clipConfig,e.clipConfig))),tt=g((()=>Object.assign({},OD().table.fnrConfig,e.fnrConfig))),nt=g((()=>Object.assign({},OD().table.menuConfig,e.menuConfig))),ot=g((()=>{const{columnStore:e}=S,{leftList:t}=e;let n=0;for(let o=0;o<t.length;o++){n+=t[o].renderWidth}return n})),lt=g((()=>{const{columnStore:e}=S,{rightList:t}=e;let n=0;for(let o=0;o<t.length;o++){n+=t[o].renderWidth}return n})),rt=g((()=>{const e=nt.value.header;return e&&e.options?e.options:[]})),at=g((()=>{const e=nt.value.body;return e&&e.options?e.options:[]})),it=g((()=>{const e=nt.value.footer;return e&&e.options?e.options:[]})),st=g((()=>{const t=nt.value,n=rt.value,o=at.value,l=it.value;return!!(e.menuConfig&&DC(t)&&(n.length||o.length||l.length))})),ct=g((()=>{const{ctxMenuStore:e}=S,t=[];return e.list.forEach((e=>{e.forEach((e=>{t.push(e)}))})),t})),ut=g((()=>Object.assign({},OD().table.exportConfig,e.exportConfig))),dt=g((()=>Object.assign({},OD().table.importConfig,e.importConfig))),pt=g((()=>Object.assign({},OD().table.printConfig,e.printConfig))),mt=g((()=>Object.assign({},OD().table.expandConfig,e.expandConfig))),gt=g((()=>Object.assign({},OD().table.treeConfig,e.treeConfig))),ft=g((()=>Object.assign({},OD().table.emptyRender,e.emptyRender))),ht=g((()=>Object.assign({},OD().table.loadingConfig,e.loadingConfig))),vt=g((()=>e.border?Math.max(2,Math.ceil(S.scrollbarWidth/S.tableColumn.length)):1)),bt=g((()=>Object.assign({},OD().table.customConfig,e.customConfig))),xt=g((()=>{const{treeConfig:t}=e,{rowExpandedFlag:n,expandColumn:o,rowGroupExpandedFlag:l,treeExpandedFlag:r,isRowGroupStatus:a}=S,{visibleDataRowIdData:i,rowExpandedMaps:s}=E,c=gt.value,{transform:u}=c,d=[];if(o&&n&&l&&r){if(!(a||t&&u))return sp.values(s);sp.each(s,((e,t)=>{i[t]&&d.push(e)}))}return d})),wt=g((()=>{const{visibleColumn:e}=E,{tableColumn:t}=S;return t.length||e.length?e.filter((e=>"auto"===e.width||"auto"===e.minWidth)):[]})),yt=g((()=>{const{tableColumn:e}=S,{collectColumn:t}=E;let n=0;return e.length&&t.length&&t.forEach((e=>{e.renderFixed&&n++})),n})),Ct=g((()=>{const e=yt.value,t=Re.value,{maxFixedSize:n}=t;return!!n&&e>=n})),St=g((()=>{const{border:t}=e;return!0===t?"full":t||"default"})),Et=g((()=>{const{treeConfig:t}=e,{tableData:n}=S,{tableFullData:o}=E,l=We.value,{strict:r,checkMethod:a}=l;return!!r&&(!n.length&&!o.length||!!a&&o.every((e=>!a({$table:Rt,row:e}))))})),Dt=g((()=>{const{overflowX:e,scrollXLoad:t,overflowY:n,scrollYLoad:o}=S;return{x:e&&t,y:n&&o}})),Tt=g((()=>$e.value.groupFields)),Ot={refElem:O,refTooltip:R,refValidTooltip:M,refTableFilter:F,refTableCustom:V,refTableMenu:P,refTableHeader:$,refTableBody:N,refTableFooter:L,refTableLeftHeader:_,refTableLeftBody:B,refTableLeftFooter:z,refTableRightHeader:j,refTableRightBody:H,refTableRightFooter:W,refLeftContainer:q,refRightContainer:U,refColResizeBar:G,refRowResizeBar:K,refScrollXVirtualElem:te,refScrollYVirtualElem:ne,refScrollXHandleElem:oe,refScrollYHandleElem:ae,refScrollXSpaceElem:de,refScrollYSpaceElem:pe},kt={computeSize:C,computeTableId:fe,computeValidOpts:ve,computeRowField:he,computeVirtualXOpts:ye,computeVirtualYOpts:Ce,computeScrollbarOpts:Se,computeScrollbarXToTop:Ee,computeScrollbarYToLeft:De,computeColumnOpts:Re,computeCurrentColumnOpts:Ie,computeScrollXThreshold:xe,computeScrollYThreshold:Te,computeRowHeightMaps:Oe,computeDefaultRowHeight:ke,computeCellOpts:Me,computeHeaderCellOpts:Pe,computeFooterCellOpts:Fe,computeRowOpts:Ve,computeAggregateOpts:Ae,computeRowGroupOpts:$e,computeCurrentRowOpts:Ne,computeRowDragOpts:Le,computeColumnDragOpts:_e,computeResizeOpts:Be,computeResizableOpts:ze,computeSeqOpts:je,computeRadioOpts:He,computeCheckboxOpts:We,computeTooltipOpts:qe,computeEditOpts:Ke,computeSortOpts:Ye,computeFilterOpts:Xe,computeMouseOpts:Ze,computeAreaOpts:Qe,computeKeyboardOpts:Je,computeClipOpts:et,computeFNROpts:tt,computeHeaderMenu:rt,computeBodyMenu:at,computeFooterMenu:it,computeIsMenu:st,computeMenuList:ct,computeMenuOpts:nt,computeExportOpts:ut,computeImportOpts:dt,computePrintOpts:pt,computeExpandOpts:mt,computeTreeOpts:gt,computeEmptyOpts:ft,computeLoadingOpts:ht,computeCellOffsetWidth:vt,computeCustomOpts:bt,computeLeftFixedWidth:ot,computeRightFixedWidth:lt,computeFixedColumnSize:yt,computeIsMaxFixedColumn:Ct,computeIsAllCheckboxDisabled:Et,computeVirtualScrollBars:Dt,computeSXOpts:be,computeSYOpts:we},Rt={xID:d,props:e,context:o,reactData:S,internalData:E,getRefMaps:()=>Ot,getComputeMaps:()=>kt,xeGrid:me,xegrid:me},It=(e,t,n)=>{const o=sp.get(e,n),l=sp.get(t,n);return!(!FC(o)||!FC(l))||(sp.isString(o)||sp.isNumber(o)?""+o==""+l:sp.isEqual(o,l))},Mt=()=>{const e=he.value;E.currKeyField=e,E.isCurrDeepKey=e.indexOf(".")>-1},Pt=e=>{const t=Ye.value,{orders:n=[]}=t,o=e.order||null,l=n.indexOf(o)+1;return n[l<n.length?l:0]},Ft=e=>{const t=OD().version,n=sp.toStringJSON(localStorage.getItem(zD)||""),o=n&&n._v===t?n:{_v:t};return(e?o[e]:o)||{}},Vt=e=>{const{fullAllDataRowIdData:t}=E,n={};return sp.each(e,((e,o)=>{t[o]&&(n[o]=e)})),n},At=e=>{const{fullDataRowIdData:t}=E,n=[];return sp.each(e,((e,o)=>{t[o]&&-1===Rt.findRowIndexOf(n,t[o].row)&&n.push(t[o].row)})),n},$t=()=>{const{isScrollXBig:e,scrollXWidth:t}=S,{elemStore:n,visibleColumn:o,fullColumnIdData:l}=E,r=ot.value,a=lt.value,i=iE(n["main-body-scroll"]);if(i){const n=i.clientWidth;let s=i.scrollLeft;e&&(s=Math.ceil((t-n)*Math.min(1,s/(HD-n))));const c=s+r,u=s+n-a;let d=0,p=o.length;for(;d<p;){const e=Math.floor((d+p)/2);(l[o[e].id]||{}).oLeft<=c?d=e+1:p=e}let m=0;const g=d===o.length?d:Math.max(0,d<o.length?d-2:0);for(let e=g,t=o.length;e<t;e++){if(m++,(l[o[e].id]||{}).oLeft>u||m>=60)break}return{toVisibleIndex:Math.max(0,g),visibleSize:Math.max(1,m)}}return{toVisibleIndex:0,visibleSize:6}},Nt=(e,t)=>{const{rowHeightStore:n}=S;t&&t.clientHeight&&(n[e]=t.clientHeight)},Lt=()=>{const{isAllOverflow:e,expandColumn:t,isScrollYBig:n,scrollYHeight:o}=S,{elemStore:l,isResizeCellHeight:r,afterFullData:a,fullAllDataRowIdData:i}=E,s=Ve.value,c=Me.value,u=ke.value,d=iE(l["main-body-scroll"]);if(d){const l=d.clientHeight;let p=d.scrollTop;n&&(p=Math.ceil((o-l)*Math.min(1,p/(jD-l))));const m=p,g=p+l;let f=-1,h=0;if(r||c.height||s.height||t||!e){const{handleGetRowId:e}=US(Rt);let t=0,n=a.length;for(;t<n;){const o=Math.floor((t+n)/2);(i[e(a[o])]||{}).oTop<=m?t=o+1:n=o}f=t===a.length?t:Math.max(0,t<a.length?t-2:0);for(let o=f,l=a.length;o<l;o++){if(h++,(i[e(a[o])]||{}).oTop>g||h>=100)break}}else f=Math.floor(m/u)-1,h=Math.ceil(l/u)+1;return{toVisibleIndex:Math.max(0,f),visibleSize:Math.max(6,h)}}return{toVisibleIndex:0,visibleSize:6}},_t=(e,t,n)=>{for(let o=0,l=e.length;o<l;o++){const l=e[o],{startIndex:r,endIndex:a}=t,i=l[n],s=i+l[n+"span"];i<r&&r<s&&(t.startIndex=i),i<a&&a<s&&(t.endIndex=s),t.startIndex===r&&t.endIndex===a||(o=-1)}};function Bt(e){const t={};if(e&&e.length)for(let n=0;n<e.length;n++){const{row:o,col:l,rowspan:r,colspan:a}=e[n];for(let e=0;e<r;e++)for(let n=0;n<a;n++)t[`${o+e}:${l+n}`]=e||n?{rowspan:0,colspan:0}:{rowspan:r,colspan:a}}return t}const zt=(e,n,o)=>{const l=Ye.value,{multiple:r,remote:a,orders:i}=l;if(sp.isArray(n)||(n=[n]),n&&n.length){r||(n=[n[0]],jt());let l=null;return n.forEach(((e,t)=>{let{field:n,order:o}=e,r=n;sp.isString(n)&&(r=Rt.getColumnByField(n)),l||(l=r),r&&r.sortable&&(i&&-1===i.indexOf(o)&&(o=Pt(r)),r.order!==o&&(r.order=o),r.sortTime=Date.now()+t)})),o&&(a||Rt.handleTableData(!0)),e&&Rt.handleColumnSortEvent(e,l),t().then((()=>(zn(),Rt.updateCellAreas(),tn())))}return t()},jt=()=>{const{tableFullColumn:e}=E;e.forEach((e=>{e.order=null}))},Ht=t=>{const{parentHeight:n}=S,o=e[t];let l=0;if(o)if("100%"===o||"auto"===o)l=n;else{const e=Rt.getExcludeHeight();l=SS(o)?Math.floor((sp.toInteger(o)||1)/100*n):sp.toNumber(o),l=Math.max(40,l-e)}return l},Wt=e=>{let{collectColumn:t}=E;const{resizableData:n,sortData:o,visibleData:l,fixedData:r}=e;let a=!1;n||o||l||r?(sp.eachTree(t,((e,t,i,s,c)=>{const u=e.getKey();c||(r&&void 0!==r[u]&&(e.fixed=r[u]),o&&sp.isNumber(o[u])&&(a=!0,e.renderSortNumber=o[u])),n&&sp.isNumber(n[u])&&(e.resizeWidth=n[u]),l&&sp.isBoolean(l[u])&&(e.visible=l[u])})),a&&(t=sp.orderBy(t,"renderSortNumber"),E.collectColumn=t,E.tableFullColumn=Dn(t)),S.isCustomStatus=!0):S.isCustomStatus=!1},qt=()=>{const{tableFullColumn:t,collectColumn:n}=E,o=E.fullColumnIdData={},l=E.fullColumnFieldData={},r=Ze.value,a=mt.value,i=Re.value,s=_e.value,c=Ce.value,{isCrossDrag:u,isSelfToChildDrag:d}=s,p=bt.value,{storage:m}=p,g=Ve.value,f=n.some(IC);let h,v,b,x,w,y,C=!!e.showOverflow;const D=(e,t,n,r,a)=>{const{id:s,field:c,fixed:p,type:g,treeNode:f,rowGroupNode:S}=e,E={$index:-1,_index:-1,column:e,colid:s,index:t,items:n,parent:a||null,width:0,oLeft:0};c?(l[c]&&pS("vxe.error.colRepet",["field",c]),l[c]=E):(m&&!g||i.drag&&(u||d))&&pS("vxe.error.reqProp",[`${e.getTitle()||g||""} -> column.field=?`]),y||"html"!==g||(y=e),f&&(b&&dS("vxe.error.colRepet",["tree-node",f]),b||(b=e)),S&&(b&&dS("vxe.error.colRepet",["row-group-node",S]),h||(h=e)),"expand"===g&&(v&&dS("vxe.error.colRepet",["type",g]),v||(v=e)),"checkbox"===g?(x&&dS("vxe.error.colRepet",["type",g]),x||(x=e)):"radio"===g&&(w&&dS("vxe.error.colRepet",["type",g]),w||(w=e)),C&&!1===e.showOverflow&&(C=!1),o[s]&&pS("vxe.error.colRepet",["colId",s]),o[s]=E};f?sp.eachTree(n,((e,t,n,o,l,r)=>{e.level=r.length,D(e,t,n,0,l)})):t.forEach(D),v&&"fixed"!==a.mode&&c.enabled&&dS("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),v&&"fixed"!==a.mode&&r.area&&pS("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),y&&(i.useKey||pS("vxe.error.reqProp",["column-config.useKey & column.type=html"]),g.useKey||pS("vxe.error.reqProp",["row-config.useKey & column.type=html"])),S.isGroup=f,S.rowGroupColumn=h,S.treeNodeColumn=b,S.expandColumn=v,S.isAllOverflow=C},Ut=()=>{E.customHeight=Ht("height"),E.customMinHeight=Ht("minHeight"),E.customMaxHeight=Ht("maxHeight"),!S.scrollYLoad||E.customHeight||E.customMinHeight||(E.customHeight=300)},Gt=(e,t)=>{const n=t.querySelectorAll(`.vxe-cell--wrapper[colid="${e.id}"]`);let o=0;const l=n[0];if(l&&l.parentElement){const e=getComputedStyle(l.parentElement);o=Math.ceil(sp.toNumber(e.paddingLeft)+sp.toNumber(e.paddingRight))}let r=e.renderAutoWidth-o;for(let a=0;a<n.length;a++){const e=n[a];r=Math.max(r,e?Math.ceil(e.scrollWidth)+4:0)}return r+o},Kt=()=>{const e=wt.value,{fullColumnIdData:t}=E,n=O.value;n&&(n.setAttribute("data-calc-col","Y"),e.forEach((e=>{const o=e.id,l=t[o],r=Gt(e,n);l&&(l.width=Math.max(r,l.width)),e.renderAutoWidth=r})),Rt.analyColumnWidth(),n.removeAttribute("data-calc-col"))},Yt=()=>{const{elemStore:t}=E,n=iE(t["main-body-wrapper"]);if(!n)return;if(!ae.value)return;if(!oe.value)return;let o=0;const l=n.clientWidth;let r=l,a=r/100;const{fit:i}=e,{columnStore:s}=S,{resizeList:c,pxMinList:u,autoMinList:d,pxList:p,scaleList:m,scaleMinList:g,autoList:f,remainList:h}=s;if(u.forEach((e=>{const t=sp.toInteger(e.minWidth);o+=t,e.renderWidth=t})),d.forEach((e=>{const t=Math.max(60,sp.toInteger(e.renderAutoWidth));o+=t,e.renderWidth=t})),g.forEach((e=>{const t=Math.floor(sp.toInteger(e.minWidth)*a);o+=t,e.renderWidth=t})),m.forEach((e=>{const t=Math.floor(sp.toInteger(e.width)*a);o+=t,e.renderWidth=t})),p.forEach((e=>{const t=sp.toInteger(e.width);o+=t,e.renderWidth=t})),f.forEach((e=>{const t=Math.max(60,sp.toInteger(e.renderAutoWidth));o+=t,e.renderWidth=t})),c.forEach((e=>{const t=sp.toInteger(e.resizeWidth);o+=t,e.renderWidth=t})),r-=o,a=r>0?Math.floor(r/(g.length+u.length+d.length+h.length)):0,i?r>0&&g.concat(u).concat(d).forEach((e=>{o+=a,e.renderWidth+=a})):a=40,h.forEach((e=>{const t=Math.max(a,40);e.renderWidth=t,o+=t})),i){const e=m.concat(g).concat(u).concat(d).concat(h);let t=e.length-1;if(t>0){let n=l-o;if(n>0){for(;n>0&&t>=0;)n--,e[t--].renderWidth++;o=l}}}S.scrollXWidth=o,S.resizeWidthFlag++,Bn(),Ut()},Xt=(e,t)=>{const n=t.querySelectorAll(`.vxe-cell--wrapper[rowid="${e.rowid}"]`);let o=e.height;for(let l=0;l<n.length;l++){const e=n[l],t=e.parentElement,r=Math.ceil(sp.toNumber(t.style.paddingTop)+sp.toNumber(t.style.paddingBottom)),a=e?e.clientHeight:0;o=Math.max(o-r,Math.ceil(a))}return o},Zt=()=>{const{tableData:e,isAllOverflow:t,scrollYLoad:n,scrollXLoad:o}=S,{fullAllDataRowIdData:l}=E,r=ke.value,a=O.value;if(!t&&n&&a){const{handleGetRowId:t}=US(Rt);a.setAttribute("data-calc-row","Y"),e.forEach((e=>{const n=t(e),i=l[n];if(i){const e=Xt(i,a);i.height=Math.max(r,o?Math.max(i.height,e):e)}a.removeAttribute("data-calc-row")})),S.calcCellHeightFlag++}},Qt=e=>{const{sortBy:t,sortType:n}=e;return o=>{let l;return l=t?sp.isFunction(t)?t({row:o,column:e}):sp.get(o,t):D.getCellLabel(o,e),n&&"auto"!==n?"number"===n?sp.toNumber(l):"string"===n?sp.toValueString(l):l:isNaN(l)?l:sp.toNumber(l)}},Jt=()=>{const{treeConfig:t}=e,{fullDataRowIdData:n,fullAllDataRowIdData:o,afterFullData:l,afterTreeFullData:r}=E,a=gt.value,{transform:i}=a,s=a.children||a.childrenField,c={};if(t){const{handleGetRowId:e}=US(Rt);sp.eachTree(r,((t,l,r,a)=>{const i=e(t),s=o[i],u=a.map(((e,t)=>t%2==0?Number(e)+1:".")).join("");if(s)s.seq=u,s.treeIndex=l;else{const e={row:t,rowid:i,seq:u,index:-1,$index:-1,_index:-1,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};o[i]=e,n[i]=e}c[i]=t}),{children:i?a.mapChildrenField:s}),i&&l.forEach(((n,l)=>{const r=e(n),a=o[r],i=l+1;a&&(t||(a.seq=i),a._index=l)})),E.afterFullRowMaps=c}else(()=>{const{treeConfig:t}=e,{afterFullData:n,fullDataRowIdData:o,fullAllDataRowIdData:l}=E,{handleGetRowId:r}=US(Rt),a={};n.forEach(((e,n)=>{const i=r(e),s=l[i],c=n+1;if(s)t||(s.seq=c),s._index=n;else{const t={row:e,rowid:i,seq:c,index:-1,$index:-1,_index:n,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};l[i]=t,o[i]=t}a[i]=e})),E.afterFullRowMaps=a})()},en=()=>{const{treeConfig:t}=e,{isRowGroupStatus:n}=S,{fullAllDataRowIdData:o,treeExpandedMaps:l,rowGroupExpandedMaps:r}=E,a=Ae.value,i=gt.value,{handleGetRowId:s}=US(Rt),c=[],u={};if(t&&i.transform){const e=i.children||i.childrenField;return sp.eachTree(E.afterTreeFullData,((e,t,n,r,a)=>{const i=s(e),d=s(a);if(!a||u[d]&&l[d]){const t=o[i];t&&(t._index=c.length),u[i]=1,c.push(e)}}),{children:e}),E.afterFullData=c,Rn(c),c}if(n){const{childrenField:e}=a;return sp.eachTree(E.afterGroupFullData,((e,t,n,l,a)=>{const i=s(e),d=s(a);if(!a||u[d]&&r[d]){const t=o[i];t&&(t._index=c.length),u[i]=1,c.push(e)}}),{children:e}),E.afterFullData=c,Rn(c),c}return E.afterFullData},tn=()=>{const{showHeaderOverflow:n,showFooterOverflow:o,mouseConfig:l,spanMethod:r,footerSpanMethod:a}=e,{isGroup:i,currentRow:s,tableColumn:c,scrollXLoad:u,scrollYLoad:d,overflowX:m,scrollbarWidth:g,overflowY:f,scrollbarHeight:h,scrollXWidth:v,columnStore:b,editStore:x,isAllOverflow:w,expandColumn:y,isColLoading:C}=S,{visibleColumn:D,tableHeight:T,headerHeight:k,footerHeight:R,elemStore:I,customHeight:M,customMinHeight:P,customMaxHeight:F}=E,V=O.value;if(!V)return;const A=f?g:0,$=m?h:0,N=Y.value,L=Ze.value,_=mt.value,B=iE(I["main-body-wrapper"]),z=iE(I["main-body-table"]);N&&(N.style.top=`${k}px`,N.style.height=B?B.offsetHeight-$+"px":"");let j=0,H=0;const W=P-k-R-$;F&&(H=Math.max(W,F-k-R-$)),M&&(j=M-k-R-$),j||z&&(j=z.clientHeight),j&&(H&&(j=Math.min(H,j)),j=Math.max(W,j));const G=Ee.value,K=le.value,X=re.value,Z=te.value;Z&&(Z.style.height=`${$}px`,Z.style.visibility=m?"visible":"hidden");const Q=se.value;Q&&(Q.style.left=G?`${A}px`:"",Q.style.width=V.clientWidth-A+"px"),K&&(K.style.width=G?`${A}px`:"",K.style.display=G&&m&&$?"block":""),X&&(X.style.width=G?"":`${A}px`,X.style.display=G?"":m&&$?"block":"");const ee=ne.value;ee&&(ee.style.width=`${A}px`,ee.style.height=`${j+k+R}px`,ee.style.visibility=f?"visible":"hidden");const oe=ie.value;oe&&(oe.style.height=`${k}px`,oe.style.display=f&&k?"block":"");const ae=ce.value;ae&&(ae.style.height=`${j}px`,ae.style.top=`${k}px`);const de=ue.value;de&&(de.style.height=`${R}px`,de.style.top=`${k+j}px`,de.style.display=f&&R?"block":"");const pe=J.value;return pe&&(pe.style.height=`${j}px`,pe.style.top=`${k}px`),["main","left","right"].forEach(((e,t)=>{const l=t>0?e:"",s="left"===l;let g,f=[];l&&(f=s?b.leftList:b.rightList,g=s?q.value:U.value),["header","body","footer"].forEach((t=>{const s=iE(I[`${e}-${t}-wrapper`]),h=iE(I[`${e}-${t}-scroll`]),b=iE(I[`${e}-${t}-table`]);if("header"===t){let e=c,t=!1;i?e=D:(u&&n&&(r||a||(t=!0)),t&&(C||!l&&m)||(e=D),l&&t&&(e=f||[]));const o=e.reduce(((e,t)=>e+t.renderWidth),0);l&&(i?s&&(s.style.width=v?`${v}px`:""):t?s&&(s.style.width=o?`${o}px`:""):s&&(s.style.width=v?`${v}px`:"")),h&&(h.style.height=`${k}px`),b&&(b.style.width=o?`${o}px`:"")}else if("body"===t){h&&(h.style.maxHeight=F?`${H}px`:"",h.style.height=M?`${j}px`:"",h.style.minHeight=`${W}px`),g&&(s&&(s.style.top=`${k}px`),g.style.height=`${M>0?M:T+k+R+$}px`,g.style.width=`${f.reduce(((e,t)=>e+t.renderWidth),0)}px`);let n=c,o=!1;(u||d||w)&&(y&&"fixed"!==_.mode||r||a||(o=!0)),l&&(n=D,o&&(n=f||[]));const i=n.reduce(((e,t)=>e+t.renderWidth),0);l&&(o?s&&(s.style.width=i?`${i}px`:""):s&&(s.style.width=v?`${v}px`:"")),b&&(b.style.width=i?`${i}px`:"",b.style.paddingRight=A&&l&&(p.firefox||p.safari)?`${A}px`:"");const m=iE(I[`${e}-${t}-emptyBlock`]);m&&(m.style.width=i?`${i}px`:"")}else if("footer"===t){let e=c,t=!1;u&&o&&(r||a||(t=!0)),t&&(C||!l&&m)||(e=D),l&&t&&(e=f||[]);const n=e.reduce(((e,t)=>e+t.renderWidth),0);l&&(t?s&&(s.style.width=n?`${n}px`:""):s&&(s.style.width=v?`${v}px`:"")),h&&(h.style.height=`${R}px`,g&&s&&(s.style.top=`${M>0?M-R-$:T+k}px`)),b&&(b.style.width=n?`${n}px`:"")}}))})),s&&Rt.setCurrentRow(s),l&&L.selected&&x.selected.row&&x.selected.column&&Rt.addCellSelectedClass(),t()},nn=e=>Rt.triggerValidate?Rt.triggerValidate(e):t(),on=(e,t)=>{nn("blur").catch((e=>e)).then((()=>{Rt.handleEdit(t,e).then((()=>nn("change"))).catch((e=>e))}))},ln=(e,t)=>{const{checkboxReserveRowMap:n}=E;if(We.value.reserve){const o=WS(Rt,e);t?n[o]=e:n[o]&&delete n[o]}},rn=(e,n)=>{const o=He.value,{checkMethod:l}=o;return e&&(n||!l||l({$table:Rt,row:e}))&&(S.selectRadioRow=e,(e=>{He.value.reserve&&(E.radioReserveRow=e)})(e)),t()},an=(e,n,o)=>(e&&!sp.isArray(e)&&(e=[e]),Rt.handleBatchSelectRows(e,!!n,o),Rt.checkSelectionStatus(),t()),sn=(n,o)=>{const{treeConfig:l}=e,{isRowGroupStatus:r}=S,{afterFullData:a,afterTreeFullData:i,afterGroupFullData:s,checkboxReserveRowMap:c,selectCheckboxMaps:u}=E,d=gt.value,p=Ae.value,m=d.children||d.childrenField,g=We.value,{checkField:f,reserve:h,checkMethod:v}=g,{handleGetRowId:b}=US(Rt),x=g.indeterminateField||g.halfField,w={};if(f){const e=e=>{(o||!v||v({$table:Rt,row:e}))&&(n&&(w[b(e)]=e),sp.set(e,f,n)),(l||r)&&x&&sp.set(e,x,!1)};l||r?sp.eachTree(a,e,{children:m}):a.forEach(e)}else r?n?sp.eachTree(s,(e=>{if(o||!v||v({$table:Rt,row:e})){const t=b(e);w[t]=e}}),{children:p.mapChildrenField}):!o&&v&&sp.eachTree(s,(e=>{const t=b(e);!v({$table:Rt,row:e})&&u[t]&&(w[t]=e)}),{children:p.mapChildrenField}):l?n?sp.eachTree(i,(e=>{if(o||!v||v({$table:Rt,row:e})){const t=b(e);w[t]=e}}),{children:m}):!o&&v&&sp.eachTree(i,(e=>{const t=b(e);!v({$table:Rt,row:e})&&u[t]&&(w[t]=e)}),{children:m}):n?!o&&v?a.forEach((e=>{const t=b(e);(u[t]||v({$table:Rt,row:e}))&&(w[t]=e)})):a.forEach((e=>{const t=b(e);w[t]=e})):!o&&v&&a.forEach((e=>{const t=b(e);!v({$table:Rt,row:e})&&u[t]&&(w[t]=e)}));return h&&(n?sp.each(w,((e,t)=>{c[t]=e})):a.forEach((e=>ln(e,!1)))),S.updateCheckboxFlag++,E.selectCheckboxMaps=f?{}:w,S.isAllSelected=n,S.isIndeterminate=!1,E.treeIndeterminateRowMaps={},Rt.checkSelectionStatus(),t()},cn=e=>{const n=gt.value,o=We.value,{transform:l,loadMethod:r}=n,{checkStrictly:a}=o;return new Promise((n=>{if(r){const{fullAllDataRowIdData:o,treeExpandLazyLoadedMaps:i}=E,s=WS(Rt,e),c=o[s];i[s]=e,Promise.resolve(r({$table:Rt,row:e})).then((n=>{if(c&&(c.treeLoaded=!0),i[s]&&delete i[s],sp.isArray(n)||(n=[]),n)return Rt.loadTreeChildren(e,n).then((n=>{const{treeExpandedMaps:o}=E;return n.length&&!o[s]&&(o[s]=e),S.treeExpandedFlag++,!a&&Rt.isCheckedByCheckboxRow(e)&&an(n,!0),t().then((()=>{if(l)return Rt.handleTableData(),Jt(),t()}))}))})).catch((()=>{const{treeExpandLazyLoadedMaps:e}=E;c&&(c.treeLoaded=!1),e[s]&&delete e[s]})).finally((()=>{S.treeExpandedFlag++,t().then((()=>Rt.recalculate())).then((()=>n()))}))}else n()}))},un=(e,t)=>{const{treeExpandedReserveRowMap:n}=E;if(gt.value.reserve){const o=WS(Rt,e);t?n[o]=e:n[o]&&delete n[o]}},dn=e=>new Promise((n=>{const o=mt.value,{loadMethod:l}=o;if(l){const{fullAllDataRowIdData:o,rowExpandLazyLoadedMaps:r}=E,a=WS(Rt,e),i=o[a];r[a]=e,l({$table:Rt,row:e,rowIndex:Rt.getRowIndex(e),$rowIndex:Rt.getVMRowIndex(e)}).then((()=>{const{rowExpandedMaps:t}=E;i&&(i.expandLoaded=!0),t[a]=e,S.rowExpandedFlag++})).catch((()=>{i&&(i.expandLoaded=!1)})).finally((()=>{const{rowExpandLazyLoadedMaps:e}=E;e[a]&&delete e[a],S.rowExpandedFlag++,t().then((()=>Rt.recalculate())).then((()=>Rt.updateCellAreas())).then((()=>n()))}))}else n()})),pn=(e,t)=>{const{rowExpandedReserveRowMap:n}=E;if(mt.value.reserve){const o=WS(Rt,e);t?n[o]=e:n[o]&&delete n[o]}},mn=()=>t().then((()=>{const{scrollXLoad:e,scrollYLoad:t}=S,{scrollXStore:n,scrollYStore:o}=E,l=Ce.value,r=ye.value;if(e){const{toVisibleIndex:e,visibleSize:t}=$t(),o=Math.max(0,r.oSize?sp.toNumber(r.oSize):0);n.preloadSize=sp.toNumber(r.preSize),n.offsetSize=o,n.visibleSize=t,n.endIndex=Math.max(n.startIndex+n.visibleSize+o,n.endIndex),n.visibleStartIndex=Math.max(n.startIndex,e),n.visibleEndIndex=Math.min(n.endIndex,e+t),Rt.updateScrollXData().then((()=>{En()}))}else Rt.updateScrollXSpace();const a=(()=>{const{isAllOverflow:e}=S,t=$.value,n=N.value,o=n?n.$el:null,l=ke.value;let r=0;if(e){if(o){const e=t?t.$el:null;let n;n=o.querySelector("tr"),!n&&e&&(n=e.querySelector("tr")),n&&(r=n.clientHeight)}r||(r=l)}else r=l;return Math.max(18,r)})();o.rowHeight=a,S.rowHeight=a;const{toVisibleIndex:i,visibleSize:s}=Lt();if(t){const e=Math.max(0,l.oSize?sp.toNumber(l.oSize):0);o.preloadSize=sp.toNumber(l.preSize),o.offsetSize=e,o.visibleSize=s,o.endIndex=Math.max(o.startIndex+s+e,o.endIndex),o.visibleStartIndex=Math.max(o.startIndex,i),o.visibleEndIndex=Math.min(o.endIndex,i+s),Rt.updateScrollYData().then((()=>{Fn()}))}else Rt.updateScrollYSpace()})),gn=()=>{const{scrollXWidth:e,scrollYHeight:t}=S,{elemStore:n}=E,o=Se.value,l=iE(n["main-body-wrapper"]),r=iE(n["main-header-table"]),a=iE(n["main-footer-table"]),i=oe.value,s=ae.value;let c=!1,u=!1;if(l){c=t>l.clientHeight,s&&(S.scrollbarWidth=o.width||s.offsetWidth-s.clientWidth||14),S.overflowY=c,u=e>l.clientWidth,i&&(S.scrollbarHeight=o.height||i.offsetHeight-i.clientHeight||14);const n=r?r.clientHeight:0,d=a?a.clientHeight:0;E.tableHeight=l.offsetHeight,E.headerHeight=n,E.footerHeight=d,S.overflowX=u,S.parentHeight=Math.max(E.headerHeight+d+20,Rt.getParentHeight())}u&&Rt.checkScrolling()},fn=e=>{const n=O.value;if(E.rceRunTime=Date.now(),!n||!n.clientWidth)return t();const o=k.value;if(o){const[e,t,n,l]=o.children;Nt("default",e),Nt("medium",t),Nt("small",n),Nt("mini",l)}return Kt(),Yt(),gn(),tn(),jn(),mn().then((()=>{if(Kt(),e&&Yt(),gn(),tn(),e&&zn(),jn(),e)return mn()}))},hn=e=>{S.rowGroupList=e?(sp.isArray(e)?e:[e]).map((e=>({field:e}))):[]},vn=e=>{const t=Ae.value,{mapChildrenField:n}=t;n&&(sp.lastEach(e,(e=>{let t=0;sp.each(e[n],(e=>{e.isAggregate?t+=e.childCount||0:t++})),e.childCount=t})),Rt.handlePivotTableAggregateData&&Rt.handlePivotTableAggregateData(e))},bn=(e,t)=>{let n=e,o=e;if(t){const l=Ae.value,{rowField:r,parentField:a,childrenField:i,mapChildrenField:s}=l,c=We.value,{checkField:u}=c,d=c.indeterminateField||c.halfField,p=t[0];if(p&&r&&a&&i&&s){n=[],o=[];const l=p.field,c=Rt.getColumnByField(l),m={},g=[],f=HS(Rt);e.forEach((e=>{const t=c?Rt.getCellLabel(e,c):sp.get(e,l),n=sp.eqNull(t)?"":t;let o=m[n];o||(o=[],m[n]=o),e.isAggregate&&(e.isAggregate=void 0),o.push(e)})),sp.objectEach(m,((e,c)=>{const{fullData:p,treeData:m}=bn(e,t.slice(1)),h={isAggregate:!0,aggData:{},groupContent:c,groupField:l,childCount:0,[r]:jS(),[a]:null,[f]:jS(),[i]:m,[s]:m};u&&(h[u]=!1),d&&(h[d]=!1),g.push(h),o.push(h),n.push(h),p.length&&n.push(...p)})),vn(g)}}return{treeData:o,fullData:n}},xn=(n,o)=>{const{keepSource:l,treeConfig:r,rowGroupConfig:a,aggregateConfig:i}=e,{rowGroupList:s,scrollYLoad:c}=S,{scrollYStore:u,scrollXStore:d,lastScrollLeft:p,lastScrollTop:g}=E,f=Ve.value,h=gt.value,v=mt.value,{transform:b}=h,x=h.children||h.childrenField;let w=[],y=m(n?n.slice(0):[]);if(y.length>BD&&pS("vxe.error.errMaxRow",[BD]),r&&s.length)return pS("vxe.error.noTree",["aggregate-config"]),t();if(f.drag&&s.length)return pS("vxe.error.errConflicts",["row-config.drag","aggregate-config"]),t();let C=!1;if(r)b?(h.rowField||pS("vxe.error.reqProp",["tree-config.rowField"]),h.parentField||pS("vxe.error.reqProp",["tree-config.parentField"]),x||pS("vxe.error.reqProp",["tree-config.childrenField"]),h.mapChildrenField||pS("vxe.error.reqProp",["tree-config.mapChildrenField"]),x===h.mapChildrenField&&pS("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),w=sp.toArrayTree(y,{key:h.rowField,parentKey:h.parentField,children:x,mapChildren:h.mapChildrenField}),y=w.slice(0)):w=y.slice(0);else if((i||a)&&s.length){const e=bn(y,s);w=e.treeData,y=e.fullData,C=!0}S.isRowGroupStatus=C,u.startIndex=0,u.endIndex=1,d.startIndex=0,d.endIndex=1,E.cvCacheMaps={},S.isRowLoading=!0,S.scrollVMLoading=!1,E.treeExpandedMaps={},S.treeExpandedFlag++,E.rowExpandedMaps={},S.rowExpandedFlag++,E.insertRowMaps={},S.insertRowFlag++,E.removeRowMaps={},S.removeRowFlag++;const D=Rn(y);return S.isDragColMove=!1,S.isDragRowMove=!1,E.tableFullData=y,E.tableFullTreeData=C?[]:w,E.tableFullGroupData=C?w:[],Rt.cacheRowMap(o),E.tableSynchData=n,o&&(E.isResizeCellHeight=!1),l&&Rt.cacheSourceMap(y),Rt.clearCellAreas&&e.mouseConfig&&(Rt.clearCellAreas(),Rt.clearCopyCellArea()),Rt.clearMergeCells(),Rt.clearMergeFooterItems(),Rt.handleTableData(!0),Rt.updateFooter(),Rt.handleUpdateBodyMerge(),t().then((()=>{Ut(),tn()})).then((()=>{mn()})).then((()=>(D&&(u.endIndex=u.visibleSize),D&&(S.expandColumn&&"fixed"!==v.mode&&pS("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),e.height||e.maxHeight||pS("vxe.error.reqProp",["height | max-height | virtual-y-config={enabled: false}"]),e.spanMethod&&pS("vxe.error.scrollErrProp",["table.span-method"])),(()=>{const{treeConfig:t}=e,{expandColumn:n,currentRow:o,selectRadioRow:l}=S,{fullDataRowIdData:r,fullAllDataRowIdData:a,radioReserveRow:i,selectCheckboxMaps:s,treeExpandedMaps:c,rowExpandedMaps:u}=E,d=mt.value,p=gt.value,m=He.value,g=We.value;if(l&&!a[WS(Rt,l)]&&(S.selectRadioRow=null),m.reserve&&i){const e=WS(Rt,i);r[e]&&rn(r[e].row,!0)}E.selectCheckboxMaps=Vt(s),S.updateCheckboxFlag++,g.reserve&&an(At(E.checkboxReserveRowMap),!0,!0),o&&!a[WS(Rt,o)]&&(S.currentRow=null),E.rowExpandedMaps=n?Vt(u):{},S.rowExpandedFlag++,n&&d.reserve&&Rt.setRowExpand(At(E.rowExpandedReserveRowMap),!0),E.treeExpandedMaps=t?Vt(c):{},S.treeExpandedFlag++,t&&p.reserve&&Rt.setTreeExpand(At(E.treeExpandedReserveRowMap),!0)})(),Rt.checkSelectionStatus(),new Promise((e=>{t().then((()=>fn(!1))).then((()=>(Zt(),zn(),fn(!1)))).then((()=>{let t=p,n=g;const o=ye.value,l=Ce.value;o.scrollToLeftOnChange&&(t=0),l.scrollToTopOnChange&&(n=0),S.isRowLoading=!1,fn(!1),c===D?zS(Rt,t,n).then((()=>{Zt(),zn(),e()})):setTimeout((()=>{zS(Rt,t,n).then((()=>{Zt(),zn(),e()}))}))}))})))))},wn=()=>{(()=>{const{checkboxConfig:t}=e;if(t){const{fullDataRowIdData:e}=E,t=We.value,{checkAll:n,checkRowKeys:o}=t;if(n)sn(!0,!0);else if(o){const t=[];o.forEach((n=>{e[n]&&t.push(e[n].row)})),an(t,!0,!0)}}})(),(()=>{const{radioConfig:t}=e;if(t){const{fullDataRowIdData:e}=E,t=He.value,{checkRowKey:n,reserve:o}=t;if(n&&(e[n]&&rn(e[n].row,!0),o)){const e=HS(Rt);E.radioReserveRow={[e]:n}}}})(),(()=>{const{expandConfig:t}=e;if(t){const{fullDataRowIdData:e}=E,t=mt.value,{expandAll:n,expandRowKeys:o}=t;if(n)Rt.setAllRowExpand(!0);else if(o){const t=[];o.forEach((n=>{e[n]&&t.push(e[n].row)})),Rt.setRowExpand(t,!0)}}})(),(()=>{const{treeConfig:t}=e;if(t){const{tableFullData:e}=E,t=gt.value,{expandAll:n,expandRowKeys:o}=t,l=t.children||t.childrenField;if(n)Rt.setAllTreeExpand(!0);else if(o){const t=[],n=HS(Rt);o.forEach((o=>{const r=sp.findTree(e,(e=>o===sp.get(e,n)),{children:l});r&&t.push(r.item)})),Rt.setTreeExpand(t,!0)}}})(),(()=>{const{mergeCells:t}=e;t&&Rt.setMergeCells(t)})(),(()=>{const{mergeFooterItems:t}=e;t&&Rt.setMergeFooterItems(t)})(),t((()=>setTimeout((()=>Rt.recalculate()))))},yn=()=>{(()=>{const{sortConfig:t}=e;if(t){const e=Ye.value;let{defaultSort:n}=e;n&&(sp.isArray(n)||(n=[n]),n.length&&((t.multiple?n:n.slice(0,1)).forEach(((e,t)=>{const{field:n,order:o}=e;if(n&&o){const e=Rt.getColumnByField(n);e&&e.sortable&&(e.order=o,e.sortTime=Date.now()+t)}})),e.remote||Rt.handleTableData(!0).then(tn)))}})()},Cn=()=>{const{scrollXLoad:e}=S,{visibleColumn:t,scrollXStore:n,fullColumnIdData:o}=E,l=e?t.slice(n.startIndex,n.endIndex):t.slice(0);l.forEach(((e,t)=>{const n=e.id,l=o[n];l&&(l.$index=t)})),S.tableColumn=l},Sn=()=>{const e=sp.orderBy(E.collectColumn,"renderSortNumber");E.collectColumn=e;const t=Dn(e);E.tableFullColumn=t,qt()},En=()=>{const{isScrollXBig:e}=S,{mergeBodyList:t,mergeFooterList:n,scrollXStore:o}=E,{preloadSize:l,startIndex:r,endIndex:a,offsetSize:i}=o,{toVisibleIndex:s,visibleSize:c}=$t(),u={startIndex:Math.max(0,e?s-1:s-1-i-l),endIndex:e?s+c:s+c+i+l};o.visibleStartIndex=s-1,o.visibleEndIndex=s+c+1,_t(t.concat(n),u,"col");const{startIndex:d,endIndex:p}=u;(s<=r||s>=a-c-1)&&(r===d&&a===p||(o.startIndex=d,o.endIndex=p,Rt.updateScrollXData())),Rt.closeTooltip()},Dn=e=>{const t=[];return e.forEach((e=>{t.push(...e.children&&e.children.length?Dn(e.children):[e])})),t},Tn=t=>{const n=[],o=[],l=[],{isGroup:r,columnStore:a}=S,{collectColumn:i,tableFullColumn:s,scrollXStore:c,fullColumnIdData:u}=E;if(r){const e=[],t=[],r=[];sp.eachTree(i,((e,t,r,a,i)=>{const s=IC(e);i&&i.fixed&&(e.fixed=i.fixed),i&&e.fixed!==i.fixed&&pS("vxe.error.groupFixed"),s?e.visible=!!sp.findTree(e.children,(e=>!IC(e)&&e.visible)):e.visible&&("left"===e.fixed?n.push(e):"right"===e.fixed?l.push(e):o.push(e))})),i.forEach((n=>{n.visible&&("left"===n.fixed?e.push(n):"right"===n.fixed?r.push(n):t.push(n))})),S.tableGroupColumn=e.concat(t).concat(r)}else s.forEach((e=>{e.visible&&("left"===e.fixed?n.push(e):"right"===e.fixed?l.push(e):o.push(e))}));const d=n.concat(o).concat(l);E.visibleColumn=d,Bn();const p=kn();if(S.hasFixedColumn=n.length>0||l.length>0,Object.assign(a,{leftList:n,centerList:o,rightList:l}),p&&(e.spanMethod&&dS("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&dS("vxe.error.scrollErrProp",["footer-span-method"]),t)){const{visibleSize:e}=$t();c.startIndex=0,c.endIndex=e,c.visibleSize=e,c.visibleStartIndex=0,c.visibleEndIndex=e}return d.length===E.visibleColumn.length&&E.visibleColumn.every(((e,t)=>e===d[t]))||(Rt.clearMergeCells(),Rt.clearMergeFooterItems()),d.forEach(((e,t)=>{const n=e.id,o=u[n];o&&(o._index=t)})),Cn(),t?(Bn(),Rt.updateFooter().then((()=>Rt.recalculate())).then((()=>(Rt.updateCellAreas(),Rt.recalculate())))):Rt.updateFooter()},On=n=>{const o=mt.value;E.collectColumn=n;const l=Dn(n);return E.tableFullColumn=l,S.isColLoading=!0,S.isDragColMove=!1,(()=>{const{collectColumn:e}=E;e.forEach(((e,t)=>{const n=t+1;e.sortNumber=n,e.renderSortNumber=n}))})(),Promise.resolve((()=>{const{customConfig:t}=e,n=fe.value,o=bt.value,{storage:l,restoreStore:r}=o,a=!0===l,i=a?{}:Object.assign({},l||{}),s=a||i.resizable,c=a||i.visible,u=a||i.fixed,d=a||i.sort;if((t?DC(o):o.enabled)&&(s||c||u||d)){if(!n)return void pS("vxe.error.reqProp",["id"]);const e=Ft(n);return r?Promise.resolve(r({$table:Rt,id:n,type:"restore",storeData:e})).then((e=>{if(e)return Wt(e)})).catch((e=>e)):Wt(e)}})()).then((()=>{const{scrollXLoad:e,scrollYLoad:n,expandColumn:l}=S;return qt(),Tn(!0).then((()=>{S.scrollXLoad&&En()})),Rt.clearMergeCells(),Rt.clearMergeFooterItems(),Rt.handleTableData(!0),Rt.handleAggregateSummaryData(),(e||n)&&l&&"fixed"!==o.mode&&dS("vxe.error.scrollErrProp",["column.type=expand"]),t().then((()=>(ge&&ge.syncUpdate({collectColumn:E.collectColumn,$table:Rt}),Rt.handleUpdateCustomColumn&&Rt.handleUpdateCustomColumn(),S.isColLoading=!1,Rt.recalculate())))}))},kn=e=>{const t=ye.value,n=E.tableFullColumn,o=!!t.enabled&&t.gt>-1&&(0===t.gt||t.gt<n.length);return S.scrollXLoad=o,o},Rn=t=>{const{treeConfig:n}=e,o=Ce.value,l=gt.value,{transform:r}=l,a=t||E.tableFullData,i=(r||!n)&&!!o.enabled&&o.gt>-1&&(0===o.gt||o.gt<a.length);return S.scrollYLoad=i,i},In=(e,t)=>{const{treeNodeColumn:n}=S,{fullAllDataRowIdData:o,tableFullTreeData:l,treeExpandedMaps:r,treeExpandLazyLoadedMaps:a}=E,i=gt.value,{reserve:s,lazy:c,accordion:u,toggleMethod:d}=i,p=i.children||i.childrenField,m=i.hasChild||i.hasChildField,g=[],f=Rt.getColumnIndex(n),h=Rt.getVMColumnIndex(n),{handleGetRowId:v}=US(Rt);let b=d?e.filter((e=>d({$table:Rt,expanded:t,column:n,columnIndex:f,$columnIndex:h,row:e}))):e;if(u){b=b.length?[b[b.length-1]]:[];const e=sp.findTree(l,(e=>e===b[0]),{children:p});e&&e.items.forEach((e=>{const t=v(e);r[t]&&delete r[t]}))}return t?b.forEach((e=>{const t=v(e);if(!r[t]){const n=o[t];if(n){c&&e[m]&&!n.treeLoaded&&!a[t]?g.push(cn(e)):e[p]&&e[p].length&&(r[t]=e)}}})):b.forEach((e=>{const t=v(e);r[t]&&delete r[t]})),s&&b.forEach((e=>un(e,t))),S.treeExpandedFlag++,Promise.all(g).then((()=>Rt.recalculate()))},Mn=(e,n)=>((e,t)=>{const{fullAllDataRowIdData:n,tableFullGroupData:o,rowGroupExpandedMaps:l}=E,r=Ae.value,{mapChildrenField:a,accordion:i}=r,{handleGetRowId:s}=US(Rt);let c=e;if(a){if(i){c=c.length?[c[c.length-1]]:[];const e=sp.findTree(o,(e=>WS(Rt,e)===WS(Rt,c[0])),{children:a});e&&e.items.forEach((e=>{const t=s(e);l[t]&&delete l[t]}))}t?c.forEach((e=>{const t=s(e);l[t]||n[t]&&e[a]&&e[a].length&&(l[t]=e)})):c.forEach((e=>{const t=s(e);l[t]&&delete l[t]}))}return S.rowGroupExpandedFlag++,Rt.recalculate()})(e,n).then((()=>(en(),Rt.handleTableData(),S.rowGroupExpandedFlag++,Jt(),t()))).then((()=>Rt.recalculate(!0))).then((()=>{setTimeout((()=>{Rt.updateCellAreas()}),30)})),Pn=(e,t)=>{sn(t),e&&$n("checkbox-all",{records:()=>Rt.getCheckboxRecords(),reserves:()=>Rt.getCheckboxReserveRecords(),indeterminates:()=>Rt.getCheckboxIndeterminateRecords(),checked:t},e)},Fn=()=>{const{isAllOverflow:e,isScrollYBig:t}=S,{mergeBodyList:n,scrollYStore:o}=E,{preloadSize:l,startIndex:r,endIndex:a,offsetSize:i}=o,s=e?i:i+1,{toVisibleIndex:c,visibleSize:u}=Lt(),d={startIndex:Math.max(0,t?c-1:c-1-i-l),endIndex:t?c+u:c+u+s+l};o.visibleStartIndex=c-1,o.visibleEndIndex=c+u+1,_t(n,d,"row");const{startIndex:p,endIndex:m}=d;(c<=r||c>=a-u-1)&&(r===p&&a===m||(o.startIndex=p,o.endIndex=m,Rt.updateScrollYData()))},Vn=e=>function(t){const{fullAllDataRowIdData:n}=E;if(t){const o=n[WS(Rt,t)];if(o)return o[e]}return-1},An=e=>function(t){const{fullColumnIdData:n}=E;if(t){const o=n[t.id];if(o)return o[e]}return-1},$n=(e,t,n)=>{a(e,PD(n,{$table:Rt,$grid:me},t))},Nn=()=>{const e=O.value;e&&e.clientWidth&&e.clientHeight&&D.recalculate()},Ln=(e,t)=>{Rt.analyColumnWidth(),Rt.recalculate().then((()=>{Rt.saveCustomStore("update:width"),Rt.updateCellAreas(),Rt.dispatchEvent("column-resizable-change",t,e),Rt.dispatchEvent("resizable-change",t,e),setTimeout((()=>Rt.recalculate(!0)),300)}))},_n=(e,t)=>{S.resizeHeightFlag++,Rt.recalculate().then((()=>{Rt.updateCellAreas(),Rt.dispatchEvent("row-resizable-change",t,e),setTimeout((()=>Rt.recalculate(!0)),300)}))},Bn=()=>{const{visibleColumn:e,fullColumnIdData:t}=E;let n=0;for(let o=0,l=e.length;o<l;o++){const l=e[o],r=t[l.id];r&&(r.oLeft=n),n+=l.renderWidth}},zn=()=>{const{expandColumn:e}=S,{afterFullData:t,fullAllDataRowIdData:n,rowExpandedMaps:o}=E,l=mt.value,r=Ve.value,a=Me.value,i=ke.value,{handleGetRowId:s}=US(Rt);let c=0;for(let u=0,d=t.length;u<d;u++){const d=s(t[u]),p=n[d]||{};p.oTop=c,c+=p.resizeHeight||a.height||r.height||p.height||i,e&&o[d]&&(c+=p.expandHeight||l.height||0)}},jn=()=>{const{expandColumn:e,scrollYLoad:n,scrollYTop:o,isScrollYBig:l}=S,r=mt.value,a=Ve.value,i=Me.value,s=ke.value,{mode:c}=r;if(e&&"fixed"===c){const{elemStore:e,fullAllDataRowIdData:r}=E,c=J.value,u=iE(e["main-body-scroll"]);if(c&&u){let e=!1;sp.arrayEach(c.children,(t=>{const c=t,d=c.getAttribute("rowid")||"",p=r[d];if(p){const t=c.offsetHeight+1,r=u.querySelector(`.vxe-body--row[rowid="${d}"]`);let m=0;n?m=l&&r?r.offsetTop+r.offsetHeight:p.oTop+(p.resizeHeight||i.height||a.height||p.height||s):r&&(m=r.offsetTop+r.offsetHeight),l&&(m+=o),c.style.top=kS(m),e||p.expandHeight!==t&&(e=!0),p.expandHeight=t}})),e&&(S.rowExpandHeightFlag++,t((()=>{zn()})))}}},Hn=()=>{const{elemStore:e}=E,t=J.value,n=iE(e["main-body-scroll"]);t&&n&&(t.scrollTop=n.scrollTop)};D={dispatchEvent:$n,getEl:()=>O.value,clearAll:()=>function(e){return e.clearFilter&&e.clearFilter(),function(e){const{props:t,internalData:n}=e;return n.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}(e)}(Rt),syncData:()=>(pS("vxe.error.delFunc",["syncData","getData"]),t().then((()=>(S.tableData=[],a("update:data",E.tableFullData),t())))),updateData(){const{scrollXLoad:e,scrollYLoad:t}=S;return T.handleTableData(!0).then((()=>{if(D.updateFooter(),e||t)return e&&T.updateScrollXSpace(),t&&T.updateScrollYSpace(),D.refreshScroll()})).then((()=>(D.updateCellAreas(),D.recalculate(!0)))).then((()=>{setTimeout((()=>Rt.recalculate()),50)}))},loadData(e){const{initStatus:t}=E;return xn(e,!1).then((()=>(E.inited=!0,E.initStatus=!0,t||wn(),D.recalculate())))},reloadData:e=>D.clearAll().then((()=>(E.inited=!0,E.initStatus=!0,xn(e,!0)))).then((()=>(wn(),D.recalculate()))),setRow(e,n){if(e&&n){let t=e;sp.isArray(e)||(t=[e]);const o=HS(Rt);t.forEach((e=>{const t=WS(Rt,e),l=sp.clone(Object.assign({},n),!0);sp.set(l,o,t),Object.assign(e,l)}))}return t()},reloadRow(n,o,l){const{keepSource:r}=e,{tableData:a}=S,{sourceDataRowIdData:i}=E;if(r){if(Rt.isAggregateRecord(n))return t();const e=i[WS(Rt,n)];if(e&&n)if(l){const t=sp.clone(sp.get(o||n,l),!0);sp.set(n,l,t),sp.set(e,l,t)}else{const t=HS(Rt),l=WS(Rt,n),r=sp.clone(Object.assign({},o),!0);sp.set(r,t,l),sp.destructuring(e,Object.assign(n,r))}S.tableData=a.slice(0)}else pS("vxe.error.reqProp",["keep-source"]);return t()},getParams:()=>e.params,loadTreeChildren(t,n){const{keepSource:o}=e,{tableSourceData:l,fullDataRowIdData:r,fullAllDataRowIdData:a,sourceDataRowIdData:i}=E,s=gt.value,{transform:c,mapChildrenField:u}=s,d=s.children||s.childrenField,p=a[WS(Rt,t)],m=p?p.level:0;return D.createData(n).then((e=>{if(o){const n=WS(Rt,t),o=sp.findTree(l,(e=>n===WS(Rt,e)),{children:d});o&&(o.item[d]=sp.clone(e,!0)),e.forEach((e=>{const t=WS(Rt,e);i[t]=sp.clone(e,!0)}))}return sp.eachTree(e,((e,t,n,o,l,i)=>{const s=WS(Rt,e),c={row:e,rowid:s,seq:-1,index:t,_index:-1,$index:-1,treeIndex:-1,items:n,parent:l||p.row,level:m+i.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};r[s]=c,a[s]=c}),{children:d}),t[d]=e,c&&(t[u]=sp.clone(e,!1)),Jt(),e}))},loadColumn(e){const{lastScrollLeft:t,lastScrollTop:n}=E,o=sp.mapTree(e,(e=>m(zE.createColumn(Rt,e))));return On(o).then((()=>{let e=t,o=n;const l=ye.value,r=Ce.value;l.scrollToLeftOnChange&&(e=0),r.scrollToTopOnChange&&(o=0),zS(Rt,e,o)}))},reloadColumn:e=>D.clearAll().then((()=>D.loadColumn(e))),getRowNode(e){if(e){const{fullAllDataRowIdData:t}=E,n=e.getAttribute("rowid");if(n){const e=t[n];if(e)return{rowid:e.rowid,item:e.row,index:e.index,items:e.items,parent:e.parent}}}return null},getColumnNode(e){if(e){const{fullColumnIdData:t}=E,n=e.getAttribute("colid");if(n){const e=t[n];if(e)return{colid:e.colid,item:e.column,index:e.index,items:e.items,parent:e.parent}}}return null},getRowSeq:Vn("seq"),getRowIndex:Vn("index"),getVTRowIndex:Vn("_index"),getVMRowIndex:Vn("$index"),getColumnIndex:An("index"),getVTColumnIndex:An("_index"),getVMColumnIndex:An("$index"),createData:e=>t().then((()=>m(T.defineField(e)))),createRow(e){const t=sp.isArray(e);return t||(e=[e||{}]),D.createData(e).then((e=>t?e:e[0]))},revertData(n,o){const{keepSource:l,treeConfig:r}=e,{fullAllDataRowIdData:a,fullDataRowIdData:i,tableSourceData:s,sourceDataRowIdData:c,tableFullData:u,afterFullData:d,removeRowMaps:p}=E,m=gt.value,{transform:g}=m,{handleGetRowId:f}=US(Rt);if(!l)return pS("vxe.error.reqProp",["keep-source"]),t();let h=n;n?sp.isArray(n)||(h=[n]):h=sp.toArray(Rt.getUpdateRecords());let v=!1;return h.length&&h.forEach((e=>{const t=f(e),n=a[t];if(n){const e=n.row;if(!Rt.isInsertByRow(e)){const n=c[t];n&&e&&(o?sp.set(e,o,sp.clone(sp.get(n,o),!0)):sp.destructuring(e,sp.clone(n,!0)),!i[t]&&Rt.isRemoveByRow(e)&&(p[t]&&delete p[t],u.unshift(e),d.unshift(e),v=!0))}}})),n?(v&&(S.removeRowFlag++,Rt.updateFooter(),Rt.cacheRowMap(!1),Rt.handleTableData(r&&g),r&&g||Rt.updateAfterDataIndex(),Rt.checkSelectionStatus(),S.scrollYLoad&&Rt.updateScrollYSpace()),t().then((()=>(Rt.updateCellAreas(),Rt.recalculate())))):Rt.reloadData(s)},clearData(e,n){const{tableFullData:o,visibleColumn:l}=E;return arguments.length?e&&!sp.isArray(e)&&(e=[e]):e=o,n?e.forEach((e=>sp.set(e,n,null))):e.forEach((e=>{l.forEach((t=>{t.field&&aE(e,t,null)}))})),t()},getCellElement(e,t){const{elemStore:n}=E,o=QS(Rt,t);if(!o)return null;const l=WS(Rt,e),r=iE(n["main-body-scroll"]),a=iE(n["left-body-scroll"]),i=iE(n["right-body-scroll"]);let s;return o&&(o.fixed&&("left"===o.fixed?a&&(s=a):i&&(s=i)),s||(s=r),s)?s.querySelector(`.vxe-body--row[rowid="${l}"] .${o.id}`):null},getCellLabel(e,t){const n=QS(Rt,t);if(!n)return null;const{formatter:o}=n,l=rE(e,n);let r=l;if(o){let t;const{fullAllDataRowIdData:a}=E,i=WS(Rt,e),s=n.id,c=a[i];if(c&&(t=c.formatData,t||(t=a[i].formatData={}),c&&t[s]&&t[s].value===l))return t[s].label;const u={cellValue:l,row:e,rowIndex:D.getRowIndex(e),column:n,columnIndex:D.getColumnIndex(n)};if(sp.isString(o)){const e=MD.get(o),t=e?e.tableCellFormatMethod||e.cellFormatMethod:null;r=t?t(u):""}else if(sp.isArray(o)){const e=MD.get(o[0]),t=e?e.tableCellFormatMethod||e.cellFormatMethod:null;r=t?t(u,...o.slice(1)):""}else r=o(u);t&&(t[s]={value:l,label:r})}return r},isInsertByRow(e){const t=WS(Rt,e);return!!S.insertRowFlag&&!!E.insertRowMaps[t]},isRemoveByRow(e){const t=WS(Rt,e);return!!S.removeRowFlag&&!!E.removeRowMaps[t]},removeInsertRow(){const{insertRowMaps:e}=E;return Rt.remove(sp.values(e))},isUpdateByRow(t,n){const{keepSource:o}=e,{tableFullColumn:l,fullDataRowIdData:r,sourceDataRowIdData:a}=E;if(o){const e=sp.isString(t)||sp.isNumber(t)?t:WS(Rt,t),o=r[e];if(!o)return!1;const i=o.row,s=a[e];if(s){if(arguments.length>1)return!It(s,i,n);for(let e=0,t=l.length;e<t;e++){const t=l[e].field;if(t&&!It(s,i,t))return!0}}}return!1},getColumns(e){const{visibleColumn:t}=E;return sp.isUndefined(e)?t.slice(0):t[e]},getColid(e){const t=QS(Rt,e);return t?t.id:null},getColumnById(e){const{fullColumnIdData:t}=E;return e&&t[e]?t[e].column:null},getColumnByField(e){const t=E.fullColumnFieldData;return e&&t[e]?t[e].column:null},getParentColumn(e){const{fullColumnIdData:t}=E,n=QS(Rt,e);return n&&n.parentId&&t[n.parentId]?t[n.parentId].column:null},getTableColumn:()=>({collectColumn:E.collectColumn.slice(0),fullColumn:E.tableFullColumn.slice(0),visibleColumn:E.visibleColumn.slice(0),tableColumn:S.tableColumn.slice(0)}),moveColumnTo(e,t,n){const{fullColumnIdData:o,visibleColumn:l}=E,{dragToChild:r,dragPos:a,isCrossDrag:i}=Object.assign({},n),s=QS(Rt,e);let c=null;const u=s?o[s.id]:null;let d="left";if(sp.isNumber(t)){if(u&&t){let e=u.items,n=u._index+t;i&&(e=l,n=u._index+t),n>0&&n<e.length-1&&(c=e[n]),t>0&&(d="right")}}else{c=QS(Rt,t);const e=c?o[c.id]:null;u&&e&&e._index>u._index&&(d="right")}return Rt.handleColDragSwapEvent(null,!0,s,c,a||d,!0===r)},moveRowTo(t,n,o){const{treeConfig:l}=e,{fullAllDataRowIdData:r,afterFullData:a}=E,{dragToChild:i,dragPos:s,isCrossDrag:c}=Object.assign({},o),u=gt.value,d=JS(Rt,t);let p=null,m="top";const g=d?r[WS(Rt,d)]:null;if(sp.isNumber(n)){if(g&&n){let e=a,t=g._index+n;l&&(e=g.items,u.transform&&(t=g.treeIndex+n,c&&(e=a,t=g._index+n))),t>=0&&t<=e.length-1&&(p=e[t]),n>0&&(m="bottom")}}else{p=JS(Rt,n);const e=p?r[WS(Rt,p)]:null;g&&e&&e._index>g._index&&(m="bottom")}return Rt.handleRowDragSwapEvent(null,!0,d,p,s||m,!0===i)},getFullColumns(){const{collectColumn:e}=E;return e.slice(0)},getData(t){const n=e.data||E.tableSynchData;return sp.isUndefined(t)?n.slice(0):n[t]},getCheckboxRecords(t){const{treeConfig:n}=e,{updateCheckboxFlag:o}=S,{tableFullData:l,afterFullData:r,tableFullTreeData:a,fullDataRowIdData:i,afterFullRowMaps:s,selectCheckboxMaps:c}=E,u=gt.value,d=We.value,{transform:p,mapChildrenField:m}=u,{checkField:g}=d,f=u.children||u.childrenField;let h=[];if(o)if(g)if(n){const e=t?p?a:l:p?a:r;h=sp.filterTree(e,(e=>sp.get(e,g)),{children:p?m:f})}else{h=(t?l:r).filter((e=>sp.get(e,g)))}else{const e=t||n&&!p?i:s;sp.each(c,((t,n)=>{e[n]&&h.push(i[n].row)}))}return h},getTreeRowChildren(t){const{treeConfig:n}=e,{fullAllDataRowIdData:o}=E,l=gt.value,{transform:r,mapChildrenField:a}=l,i=l.children||l.childrenField;if(t&&n){let e;if(e=sp.isString(t)?t:WS(Rt,t),e){const t=o[e],n=t?t.row:null;if(n)return n[r?a:i]||[]}}return[]},getTreeParentRow(t){const{treeConfig:n}=e,{fullAllDataRowIdData:o}=E;if(t&&n){let e;if(e=sp.isString(t)?t:WS(Rt,t),e){const t=o[e];return t?t.parent:null}}return null},getParentRow:e=>(dS("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),Rt.getTreeParentRow(e)),getRowById(e){const{fullAllDataRowIdData:t}=E,n=sp.eqNull(e)?"":encodeURIComponent(e||"");return t[n]?t[n].row:null},getRowid:e=>WS(Rt,e),getTableData(){const{tableData:t,footerTableData:n}=S,{tableFullData:o,afterFullData:l,tableFullTreeData:r}=E;return{fullData:e.treeConfig?r.slice(0):o.slice(0),visibleData:l.slice(0),tableData:t.slice(0),footerData:n.slice(0)}},getFullData(){const{treeConfig:t}=e,{tableFullData:n,tableFullTreeData:o}=E;if(t){const e=gt.value,{transform:t,mapChildrenField:n,rowField:l,parentField:r}=e,a=e.children||e.childrenField;return t?sp.toArrayTree(sp.toTreeArray(o,{children:n}),{key:l,parentKey:r,children:a,mapChildren:n}):o.slice(0)}return n.slice(0)},setColumnFixed(e,n){let o=!1;const l=sp.isArray(e)?e:[e],r=Re.value,a=Ct.value;for(let i=0;i<l.length;i++){const e=l[i],s=QS(Rt,e),c=gE(Rt,s);if(c&&c.fixed!==n){if(!c.fixed&&a)return $m.modal&&$m.modal.message({status:"error",content:RD("vxe.table.maxFixedCol",[r.maxFixedSize])}),t();sp.eachTree([c],(e=>{e.fixed=n,e.renderFixed=n})),T.saveCustomStore("update:fixed"),o||(o=!0)}}return o?D.refreshColumn():t()},clearColumnFixed(e){let n=!1;return(sp.isArray(e)?e:[e]).forEach((e=>{const t=QS(Rt,e),o=gE(Rt,t);o&&o.fixed&&(sp.eachTree([o],(e=>{e.fixed=null,e.renderFixed=null})),T.saveCustomStore("update:fixed"),n||(n=!0))})),n?D.refreshColumn():t()},hideColumn(e){let n=!1;return(sp.isArray(e)?e:[e]).forEach((e=>{const t=QS(Rt,e);t&&t.visible&&(t.visible=!1,n||(n=!0))})),n?T.handleCustom():t()},showColumn(e){let n=!1;return(sp.isArray(e)?e:[e]).forEach((e=>{const t=QS(Rt,e);t&&!t.visible&&(t.visible=!0,n||(n=!0))})),n?T.handleCustom():t()},setColumnWidth(e,n){const{elemStore:o}=E;let l=!1;const r=sp.isArray(e)?e:[e];let a=sp.toInteger(n);if(SS(n)){const e=iE(o["main-body-scroll"]),t=e?e.clientWidth-1:0;a=Math.floor(a*t)}return a&&(r.forEach((e=>{const t=QS(Rt,e);t&&(t.resizeWidth=a,l||(l=!0))})),l)?Rt.refreshColumn().then((()=>({status:l}))):t().then((()=>({status:l})))},getColumnWidth(e){const t=QS(Rt,e);return t?t.renderWidth:0},resetColumn:e=>(dS("vxe.error.delFunc",["resetColumn","resetCustom"]),Rt.resetCustom(e)),refreshColumn:e=>(e&&Sn(),Tn(!0).then((()=>D.refreshScroll())).then((()=>D.recalculate()))),setRowHeightConf(e){const{fullAllDataRowIdData:n}=E;let o=!1;return e&&(sp.each(e,((e,t)=>{const l=n[t];if(l){const t=sp.toInteger(e);t&&(l.resizeHeight=t,o||(o=!0))}})),o&&(E.isResizeCellHeight=!0,S.resizeHeightFlag++)),t().then((()=>(zn(),{status:o})))},getRowHeightConf(e){const{fullAllDataRowIdData:t,afterFullData:n}=E,{handleGetRowId:o}=US(Rt),l=Ve.value,r=Me.value,a=ke.value,i={};return n.forEach((n=>{const s=o(n),c=t[s];if(c){const t=c.resizeHeight;if(t||e){const e=t||r.height||l.height||c.height||a;i[s]=e}}})),i},setRowHeight(e,n){const{fullAllDataRowIdData:o}=E;let l=!1;const r=sp.isArray(e)?e:[e];let a=sp.toInteger(n);if(SS(n)){const e=N.value,t=e?e.$el:null,n=t?t.clientHeight-1:0;a=Math.floor(a*n)}if(a){const{handleGetRowId:e}=US(Rt);r.forEach((t=>{const n=sp.isString(t)||sp.isNumber(t)?t:e(t),r=o[n];r&&(r.resizeHeight=a,l||(l=!0))})),l&&(E.isResizeCellHeight=!0,S.resizeHeightFlag++)}return t().then((()=>({status:l})))},getRowHeight(e){const{fullAllDataRowIdData:t}=E,n=Ve.value,o=Me.value,l=ke.value,r=t[sp.isString(e)||sp.isNumber(e)?e:WS(Rt,e)];return r?r.resizeHeight||o.height||n.height||r.height||l:0},refreshScroll(){const{elemStore:e,lastScrollLeft:t,lastScrollTop:n}=E,o=iE(e["main-header-scroll"]),l=iE(e["main-body-scroll"]),r=iE(e["main-footer-scroll"]),a=iE(e["left-body-scroll"]),i=iE(e["right-body-scroll"]),s=oe.value,c=ae.value;return new Promise((e=>{if(t||n)return zS(Rt,t,n).then((()=>{setTimeout(e,10)}));E.intoRunScroll=!0,FS(c,n),FS(l,n),FS(a,n),FS(i,n),VS(s,t),VS(l,t),VS(o,t),VS(r,t),setTimeout((()=>{E.intoRunScroll=!1,e()}),10)}))},recalculate:e=>new Promise((n=>{const{rceTimeout:o,rceRunTime:l}=E,r=Be.value.refreshDelay||20,a=O.value;a&&a.clientWidth&&(Yt(),jn()),o?(clearTimeout(o),l&&l+(r-5)<Date.now()?n(fn(!!e)):t((()=>{n()}))):n(fn(!!e)),E.rceTimeout=setTimeout((()=>{E.rceTimeout=void 0,fn(!!e)}),r)})),openTooltip(e,n){const o=I.value;return o&&o.open?o.open(e,n):t()},closeTooltip(){const{tooltipStore:e}=S,n=R.value,o=I.value;return e.visible&&(Object.assign(e,{row:null,column:null,content:null,visible:!1,currOpts:{}}),n&&n.close&&n.close()),o&&o.close&&o.close(),t()},isAllCheckboxChecked:()=>S.isAllSelected,isAllCheckboxIndeterminate:()=>!S.isAllSelected&&S.isIndeterminate,getCheckboxIndeterminateRecords(t){const{treeConfig:n}=e,{fullDataRowIdData:o,treeIndeterminateRowMaps:l}=E;if(n){const e=[],n=[];return sp.each(l,((t,l)=>{t&&(e.push(t),o[l]&&n.push(t))})),t?e:n}return[]},setCheckboxRow:(e,t)=>(e&&!sp.isArray(e)&&(e=[e]),an(e,t,!0)),setCheckboxRowKey(e,t){const{fullAllDataRowIdData:n}=E;sp.isArray(e)||(e=[e]);const o=[];return e.forEach((e=>{const t=n[e];t&&o.push(t.row)})),an(o,t,!0)},isCheckedByCheckboxRow(e){const{updateCheckboxFlag:t}=S,{selectCheckboxMaps:n}=E,o=We.value,{checkField:l}=o;return l?sp.get(e,l):!!t&&!!n[WS(Rt,e)]},isCheckedByCheckboxRowKey(e){const{updateCheckboxFlag:t}=S,{fullAllDataRowIdData:n,selectCheckboxMaps:o}=E,l=We.value,{checkField:r}=l;if(r){const t=n[e];return!!t&&sp.get(t.row,r)}return!!t&&!!o[e]},isIndeterminateByCheckboxRow(e){const{treeIndeterminateRowMaps:t}=E;return!!t[WS(Rt,e)]&&!Rt.isCheckedByCheckboxRow(e)},isIndeterminateByCheckboxRowKey(e){const{treeIndeterminateRowMaps:t}=E;return!!t[e]&&!Rt.isCheckedByCheckboxRowKey(e)},toggleCheckboxRow(e){const{selectCheckboxMaps:n}=E,o=We.value,{checkField:l}=o,r=l?!sp.get(e,l):!n[WS(Rt,e)];return T.handleBatchSelectRows([e],r,!0),T.checkSelectionStatus(),t()},setAllCheckboxRow:e=>sn(e,!0),getRadioReserveRecord(t){const{treeConfig:n}=e,{fullDataRowIdData:o,radioReserveRow:l,afterFullData:r}=E,a=He.value,i=gt.value,s=i.children||i.childrenField;if(a.reserve&&l){const e=WS(Rt,l);if(t){if(!o[e])return l}else{const t=HS(Rt);if(n){if(sp.findTree(r,(n=>e===sp.get(n,t)),{children:s}))return l}else if(!r.some((n=>e===sp.get(n,t))))return l}}return null},clearRadioReserve:()=>(E.radioReserveRow=null,t()),getCheckboxReserveRecords(t){const{treeConfig:n}=e,{afterFullData:o,fullDataRowIdData:l,checkboxReserveRowMap:r}=E,a=We.value,i=gt.value,s=i.children||i.childrenField,c=[];if(a.reserve){const{handleGetRowId:e}=US(Rt),a={};n?sp.eachTree(o,(t=>{a[e(t)]=1}),{children:s}):o.forEach((t=>{a[e(t)]=1})),sp.each(r,((e,n)=>{e&&(t?l[n]||c.push(e):a[n]||c.push(e))}))}return c},clearCheckboxReserve:()=>(E.checkboxReserveRowMap={},t()),toggleAllCheckboxRow:()=>(Pn(null,!S.isAllSelected),t()),clearCheckboxRow(){const{treeConfig:n}=e,{tableFullData:o}=E,l=gt.value,r=l.children||l.childrenField,a=We.value,{checkField:i,reserve:s}=a,c=a.indeterminateField||a.halfField;if(i){const e=e=>{n&&c&&sp.set(e,c,!1),sp.set(e,i,!1)};n?sp.eachTree(o,e,{children:r}):o.forEach(e)}return s&&o.forEach((e=>ln(e,!1))),S.isAllSelected=!1,S.isIndeterminate=!1,E.selectCheckboxMaps={},E.treeIndeterminateRowMaps={},S.updateCheckboxFlag++,t()},setCurrentRow(n){const o=Ve.value,l=O.value;return D.clearCurrentRow(),S.currentRow=n,(o.isCurrent||e.highlightCurrentRow)&&l&&sp.arrayEach(l.querySelectorAll(`[rowid="${WS(Rt,n)}"]`),(e=>TS(e,"row--current"))),t()},isCheckedByRadioRow(e){const{selectRadioRow:t}=S;return!(!e||!t)&&Rt.eqRow(t,e)},isCheckedByRadioRowKey(e){const{selectRadioRow:t}=S;return!!t&&e===WS(Rt,t)},setRadioRow:e=>rn(e,!0),setRadioRowKey(e){const{fullAllDataRowIdData:n}=E,o=n[e];return o?rn(o.row,!0):t()},clearCurrentRow(){const e=O.value;return S.currentRow=null,E.hoverRow=null,e&&sp.arrayEach(e.querySelectorAll(".row--current"),(e=>DS(e,"row--current"))),t()},clearRadioRow:()=>(S.selectRadioRow=null,t()),getCurrentRecord:()=>Ve.value.isCurrent||e.highlightCurrentRow?S.currentRow:null,getRadioRecord(e){const{fullDataRowIdData:t,afterFullRowMaps:n}=E,{selectRadioRow:o}=S;if(o){const l=WS(Rt,o);if(e){if(t[l])return o}else if(n[l])return o}return null},getCurrentColumn:()=>Re.value.isCurrent||e.highlightCurrentColumn?S.currentColumn:null,setCurrentColumn(n){const{mouseConfig:o}=e,l=Ze.value,r=o&&l.selected,a=QS(Rt,n);return a&&(Rt.clearCurrentColumn(),S.currentColumn=a),t().then((()=>{r&&Rt.addCellSelectedClass()}))},clearCurrentColumn:()=>(S.currentColumn=null,t()),setPendingRow(e,n){const{handleGetRowId:o}=US(Rt),{pendingRowMaps:l}=E;return e&&!sp.isArray(e)&&(e=[e]),n?e.forEach((e=>{const t=o(e);t&&!l[t]&&(l[t]=e)})):e.forEach((e=>{const t=o(e);t&&l[t]&&delete l[t]})),S.pendingRowFlag++,t()},togglePendingRow(e){const{handleGetRowId:n}=US(Rt),{pendingRowMaps:o}=E;return e&&!sp.isArray(e)&&(e=[e]),e.forEach((e=>{const t=n(e);t&&(o[t]?delete o[t]:o[t]=e)})),S.pendingRowFlag++,t()},hasPendingByRow:e=>D.isPendingByRow(e),isPendingByRow(e){const{pendingRowMaps:t}=E;return!!t[WS(Rt,e)]},getPendingRecords(){const{fullAllDataRowIdData:e,pendingRowMaps:t}=E,n=[];return sp.each(t,((t,o)=>{e[o]&&n.push(t)})),n},clearPendingRow:()=>(E.pendingRowMaps={},S.pendingRowFlag++,t()),sort(e,n){const o=Ye.value,{multiple:l,remote:r,orders:a}=o;return e&&sp.isString(e)&&(e=[{field:e,order:n}]),sp.isArray(e)||(e=[e]),e.length?(l||jt(),(l?e:[e[0]]).forEach(((e,t)=>{let{field:n,order:o}=e,l=n;sp.isString(n)&&(l=D.getColumnByField(n)),l&&l.sortable&&(a&&-1===a.indexOf(o)&&(o=Pt(l)),l.order!==o&&(l.order=o),l.sortTime=Date.now()+t)})),r||T.handleTableData(!0),t().then((()=>(zn(),D.updateCellAreas(),tn())))):t()},setSort:(e,t)=>zt(new Event("click"),e,t),setSortByEvent:(e,t,n)=>zt(e,t,n),clearSort(e){const n=Ye.value;if(e){const t=QS(Rt,e);t&&(t.order=null)}else jt();return n.remote||Rt.handleTableData(!0),t().then((()=>(zn(),tn())))},clearSortByEvent(e,n){const{tableFullColumn:o}=E,l=Ye.value,r=[];let a=null;if(e)if(n?(a=QS(Rt,n),a&&(a.order=null)):o.forEach((e=>{e.order&&(e.order=null,r.push(e))})),l.remote||Rt.handleTableData(!0),r.length){$n("clear-all-sort",{$table:Rt,$event:e,cols:r,sortList:[]},e)}else a&&Rt.handleColumnSortEvent(e,a);return t().then((()=>(zn(),tn())))},isSort(e){if(e){const t=QS(Rt,e);return!!t&&(t.sortable&&!!t.order)}return D.getSortColumns().length>0},getSortColumns(){const e=Ye.value,{multiple:t,chronological:n}=e,o=[],{tableFullColumn:l}=E;return l.forEach((e=>{const{field:t,order:n}=e;e.sortable&&n&&o.push({column:e,field:t,property:t,order:n,sortTime:e.sortTime})})),t&&n&&o.length>1?sp.orderBy(o,"sortTime"):o},setFilterByEvent(e,n,o,l){const r=QS(Rt,n);return r&&r.filters&&(r.filters=oE(o||[]),l)?Rt.handleColumnConfirmFilter(r,e):t()},closeFilter(){const{filterStore:e}=S,{column:n,visible:o}=e;return e.isAllSelected=!1,e.isIndeterminate=!1,e.options=[],e.visible=!1,o&&$n("filter-visible",{column:n,property:n.field,field:n.field,filterList:()=>Rt.getCheckedFilters(),visible:!1},null),t()},isActiveFilterByColumn(e){const t=QS(Rt,e);return t?t.filters&&t.filters.some((e=>e.checked)):Rt.getCheckedFilters().length>0},isFilter:e=>D.isActiveFilterByColumn(e),clearFilterByEvent(e,n){const{filterStore:o}=S,{tableFullColumn:l}=E,r=Xe.value,a=[];let i=null;if(n?(i=QS(Rt,n),i&&Rt.handleClearFilter(i)):l.forEach((e=>{e.filters&&(a.push(e),Rt.handleClearFilter(e))})),n&&i===o.column||Object.assign(o,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),r.remote||Rt.updateData(),a.length){$n("clear-all-filter",{$table:Rt,$event:e,cols:a,filterList:[]},e)}else i&&Rt.dispatchEvent("clear-filter",{filterList:()=>Rt.getCheckedFilters()},e);return t()},isRowExpandLoaded(e){const{fullAllDataRowIdData:t}=E,n=t[WS(Rt,e)];return n&&!!n.expandLoaded},clearRowExpandLoaded(e){const{fullAllDataRowIdData:n,rowExpandLazyLoadedMaps:o}=E,l=mt.value,{lazy:r}=l,a=WS(Rt,e),i=n[a];return r&&i&&(i.expandLoaded=!1,delete o[a]),S.rowExpandedFlag++,t()},reloadRowExpand(e){const{rowExpandLazyLoadedMaps:n}=E,o=mt.value,{lazy:l}=o,r=WS(Rt,e);return l&&!n[r]&&Rt.clearRowExpandLoaded(e).then((()=>dn(e))),t()},reloadExpandContent:e=>(dS("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),Rt.reloadRowExpand(e)),toggleRowExpand:e=>Rt.setRowExpand(e,!Rt.isRowExpandByRow(e)),setAllRowExpand(t){const n=gt.value,{tableFullData:o,tableFullTreeData:l}=E,r=n.children||n.childrenField;let a=[];return e.treeConfig?sp.eachTree(l,(e=>{a.push(e)}),{children:r}):a=o,D.setRowExpand(a,t)},setRowExpand(e,n){const{expandColumn:o}=S;let{fullAllDataRowIdData:l,rowExpandedMaps:r,rowExpandLazyLoadedMaps:a}=E;const{handleGetRowId:i}=US(Rt),s=mt.value,{reserve:c,lazy:u,accordion:d,toggleMethod:p}=s,m=[],g=o?Rt.getColumnIndex(o):-1,f=o?Rt.getVMColumnIndex(o):-1;if(e){sp.isArray(e)||(e=[e]),d&&(r={},E.rowExpandedMaps=r,e=e.slice(e.length-1,e.length));const t=p?e.filter((e=>p({$table:Rt,expanded:n,column:o,columnIndex:g,$columnIndex:f,row:e,rowIndex:Rt.getRowIndex(e),$rowIndex:Rt.getVMRowIndex(e)}))):e;n?t.forEach((e=>{const t=i(e);if(!r[t]){const n=l[t];u&&!n.expandLoaded&&!a[t]?m.push(dn(e)):r[t]=e}})):t.forEach((e=>{const t=i(e);r[t]&&delete r[t]})),c&&t.forEach((e=>pn(e,n)))}return S.rowExpandedFlag++,Promise.all(m).then((()=>t())).then((()=>Rt.recalculate(!0))).then((()=>(zn(),jn(),Hn(),Rt.updateCellAreas())))},isRowExpandByRow(e){const{rowExpandedFlag:t}=S,{rowExpandedMaps:n}=E,o=WS(Rt,e);return!!t&&!!n[o]},isExpandByRow:e=>(dS("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),D.isRowExpandByRow(e)),clearRowExpand(){const{tableFullData:e}=E,n=mt.value,{reserve:o}=n,l=Rt.getRowExpandRecords();return E.rowExpandedMaps={},S.rowExpandedFlag++,o&&e.forEach((e=>pn(e,!1))),t().then((()=>{if(l.length)return Rt.recalculate(!0)})).then((()=>(zn(),jn(),Hn(),Rt.updateCellAreas())))},clearRowExpandReserve:()=>(E.rowExpandedReserveRowMap={},t()),getRowExpandRecords(){const e=[];return sp.each(E.rowExpandedMaps,(t=>{t&&e.push(t)})),e},setRowGroups(n){const{aggregateConfig:o,rowGroupConfig:l}=e;return o||l?n?(hn((sp.isArray(n)?n:[n]).map((e=>sp.isString(e)?e:e.field))),xn(E.tableSynchData,!0)):t():(pS("vxe.error.reqProp",["aggregate-config"]),t())},clearRowGroups(){const{aggregateConfig:n,rowGroupConfig:o}=e;return n||o?(hn([]),xn(E.tableSynchData,!0)):(pS("vxe.error.reqProp",["aggregate-config"]),t())},isRowGroupRecord:e=>(dS("vxe.error.delFunc",["isRowGroupRecord","isAggregateRecord"]),Rt.isAggregateRecord(e)),isRowGroupExpandByRow:e=>(dS("vxe.error.delFunc",["isRowGroupExpandByRow","isAggregateExpandByRow"]),Rt.isAggregateExpandByRow(e)),isAggregateRecord(e){const{isRowGroupStatus:t}=S;return t&&e.isAggregate},isAggregateExpandByRow(e){const{rowGroupExpandedFlag:t}=S,{rowGroupExpandedMaps:n}=E;return!!t&&!!n[WS(Rt,e)]},setRowGroupExpand:(e,n)=>e?(sp.isArray(e)||(e=[e]),Mn(e,n)):t(),setAllRowGroupExpand(e){const{tableFullGroupData:t}=E,n=Ae.value,{mapChildrenField:o}=n,l={};return e&&o&&sp.eachTree(t,(e=>{e[o]&&e[o].length&&(l[WS(Rt,e)]=e)}),{children:o}),E.rowGroupExpandedMaps=l,en(),S.rowGroupExpandedFlag++,Rt.handleTableData()},clearRowGroupExpand:()=>(E.rowGroupExpandedMaps={},en(),S.rowGroupExpandedFlag++,Rt.handleTableData()),getTreeExpandRecords(){const e=[];return sp.each(E.treeExpandedMaps,(t=>{t&&e.push(t)})),e},isTreeExpandLoaded(e){const{fullAllDataRowIdData:t}=E,n=t[WS(Rt,e)];return n&&!!n.treeLoaded},clearTreeExpandLoaded(e){const{fullAllDataRowIdData:n,treeExpandedMaps:o}=E,l=gt.value,{transform:r}=l;return e?(sp.isArray(e)||(e=[e]),e.forEach((e=>{const t=WS(Rt,e),l=n[t];l&&(l.treeLoaded=!1,o[t]&&delete o[t])}))):sp.each(n,(e=>{e.treeLoaded=!1})),E.treeExpandedMaps={},r&&(en(),Rt.handleTableData()),S.treeExpandedFlag++,t()},reloadTreeExpand(e){const{treeExpandLazyLoadedMaps:n}=E,o=gt.value,l=o.hasChild||o.hasChildField,{transform:r,lazy:a}=o,i=WS(Rt,e);return a&&e[l]&&!n[i]?Rt.clearTreeExpandLoaded(e).then((()=>cn(e))).then((()=>{r&&(en(),Rt.handleTableData()),S.treeExpandedFlag++})).then((()=>Rt.recalculate())):t()},reloadTreeChilds:e=>(dS("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),Rt.reloadTreeExpand(e)),toggleTreeExpand:e=>Rt.setTreeExpand(e,!Rt.isTreeExpandByRow(e)),setAllTreeExpand(e){const{tableFullData:t}=E,n=gt.value,{transform:o,lazy:l}=n,r=n.children||n.childrenField,a=[];return sp.eachTree(t,(e=>{const t=e[r];(l||t&&t.length)&&a.push(e)}),{children:r}),Rt.setTreeExpand(a,e).then((()=>{if(o)return en(),S.treeExpandedFlag++,Rt.recalculate()}))},setTreeExpand(e,n){const o=gt.value,{transform:l}=o;return e&&(sp.isArray(e)||(e=[e]),e.length)?l?((e,n)=>In(e,n).then((()=>(en(),Rt.handleTableData(),S.treeExpandedFlag++,Jt(),t()))).then((()=>Rt.recalculate(!0))).then((()=>{setTimeout((()=>{Rt.updateCellAreas()}),30)})))(e,n):In(e,n):t()},isTreeExpandByRow(e){const{treeExpandedFlag:t}=S,{treeExpandedMaps:n}=E;return!!t&&!!n[WS(Rt,e)]},clearTreeExpand(){const{tableFullTreeData:e}=E,t=gt.value,n=t.children||t.childrenField,{transform:o,reserve:l}=t,r=Rt.getTreeExpandRecords();return E.treeExpandedMaps={},l&&sp.eachTree(e,(e=>un(e,!1)),{children:n}),Rt.handleTableData().then((()=>{o&&(en(),Rt.handleTableData()),S.treeExpandedFlag++})).then((()=>{if(r.length)return Rt.recalculate()}))},clearTreeExpandReserve:()=>(E.treeExpandedReserveRowMap={},t()),getScroll(){const{scrollXLoad:e,scrollYLoad:t}=S,{elemStore:n}=E,o=iE(n["main-body-scroll"]);return{virtualX:e,virtualY:t,scrollTop:o?o.scrollTop:0,scrollLeft:o?o.scrollLeft:0}},scrollTo(e,n){const{elemStore:o}=E,l=iE(o["main-header-scroll"]),r=iE(o["main-body-scroll"]),a=iE(o["main-footer-scroll"]),i=iE(o["left-body-scroll"]),s=iE(o["right-body-scroll"]),c=oe.value,u=ae.value;return E.intoRunScroll=!0,sp.isNumber(e)&&(VS(c,e),VS(r,e),VS(l,e),VS(a,e),En()),sp.isNumber(n)&&(FS(u,n),FS(r,n),FS(i,n),FS(s,n),Fn()),S.scrollXLoad||S.scrollYLoad?new Promise((e=>{setTimeout((()=>{t((()=>{E.intoRunScroll=!1,e()}))}),30)})):t().then((()=>{E.intoRunScroll=!1}))},scrollToRow(n,o){const{isAllOverflow:l,scrollYLoad:r,scrollXLoad:a}=S,i=[];return n&&(e.treeConfig?i.push(Rt.scrollToTreeRow(n)):i.push(xE(Rt,n))),o&&i.push(((e,n)=>{const{fullColumnIdData:o}=E,l=QS(Rt,e);return l&&o[l.id]?wE(Rt,l,n):t()})(o,n)),Promise.all(i).then((()=>{if(n)return l||!r&&!a||(Zt(),Kt()),t()}))},scrollToColumn(e){const{fullColumnIdData:n}=E,o=QS(Rt,e);return o&&n[o.id]?wE(Rt,o):t()},clearScroll(){const{elemStore:e,scrollXStore:n,scrollYStore:o}=E,l=iE(e["main-header-scroll"]),r=iE(e["main-body-scroll"]),a=iE(e["main-footer-scroll"]),i=iE(e["left-body-scroll"]),s=iE(e["right-body-scroll"]),c=oe.value,u=ae.value;return E.intoRunScroll=!0,VS(c,0),VS(r,0),VS(l,0),VS(a,0),FS(u,0),FS(r,0),FS(i,0),FS(s,0),n.startIndex=0,n.visibleStartIndex=0,n.endIndex=n.visibleSize,n.visibleEndIndex=n.visibleSize,o.startIndex=0,o.visibleStartIndex=0,o.endIndex=o.visibleSize,o.visibleEndIndex=o.visibleSize,t().then((()=>{E.intoRunScroll=!1}))},updateFooter(){const{showFooter:n,footerData:o,footerMethod:l}=e,{visibleColumn:r,afterFullData:a}=E;let i=[];return n&&o&&o.length?i=o.slice(0):n&&l&&(i=r.length?l({columns:r,data:a,$table:Rt,$grid:me}):[]),S.footerTableData=i,Rt.handleUpdateFooterMerge(),t()},updateStatus:(n,o)=>t().then((()=>{const{editRules:t}=e;if(n&&t)return Rt.handleCellRuleUpdateStatus("change",n,o)})),setMergeCells:n=>(e.spanMethod&&pS("vxe.error.errConflicts",["merge-cells","span-method"]),(e=>{const{fullAllDataRowIdData:t,fullColumnIdData:n,visibleColumn:o,afterFullData:l,mergeBodyList:r,mergeBodyMaps:a}=E;if(e){const{handleGetRowId:i}=US(Rt);sp.isArray(e)||(e=[e]),e.forEach((e=>{let{row:s,col:c,rowspan:u,colspan:d}=e,p=-1,m=-1;if(sp.isNumber(s))p=s;else{const e=s?i(s):null,n=e?t[e]:null;n&&(p=n._index)}if(sp.isNumber(c))m=c;else{const e=c?c.id:null,t=e?n[e]:null;t&&(m=t._index)}if(p>-1&&m>-1&&(u||d)&&(u=sp.toNumber(u)||1,d=sp.toNumber(d)||1,u>1||d>1)){const e=l[p],t=o[m];let n=a[`${p}:${m}`];n?(n.rowspan=u,n.colspan=d,n._rowspan=u,n._colspan=d):(n={row:p,col:m,rowspan:u,colspan:d,_row:e,_col:t,_rowspan:u,_colspan:d},a[`${p}:${m}`]=n,r.push(n))}}))}})(n),Rt.handleUpdateBodyMerge(),t().then((()=>(Rt.updateCellAreas(),tn())))),removeMergeCells(n){e.spanMethod&&pS("vxe.error.errConflicts",["merge-cells","span-method"]);const o=(e=>{const{mergeBodyList:t,fullColumnIdData:n,fullAllDataRowIdData:o,mergeBodyMaps:l}=E,r=[];if(e){const{handleGetRowId:a}=US(Rt);sp.isArray(e)||(e=[e]),e.forEach((e=>{const{row:i,col:s}=e;let c=-1,u=-1;if(sp.isNumber(i))c=i;else{const e=i?a(i):null,t=e?o[e]:null;t&&(c=t._index)}if(sp.isNumber(s))u=s;else{const e=s?s.id:null,t=e?n[e]:null;t&&(u=t._index)}const d=sp.findIndexOf(t,(e=>e.row===c&&e.col===u));if(d>-1){const e=t.splice(d,1);e[0]&&(r.push(e[0]),l[`${c}:${u}`]&&delete l[`${c}:${u}`])}}))}return r})(n);return Rt.handleUpdateBodyMerge(),t().then((()=>(Rt.updateCellAreas(),tn(),o)))},getMergeCells:()=>E.mergeBodyList.slice(0),clearMergeCells:()=>(E.mergeBodyList=[],E.mergeBodyMaps={},E.mergeBodyCellMaps={},S.mergeBodyFlag++,t().then((()=>tn()))),setMergeFooterItems:n=>(e.footerSpanMethod&&pS("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),(e=>{const{footerTableData:t}=S,{mergeFooterList:n,mergeFooterMaps:o,fullColumnIdData:l}=E;if(e){const{visibleColumn:r}=E;sp.isArray(e)||(e=[e]),e.forEach((e=>{let{row:a,col:i,rowspan:s,colspan:c}=e;const u=sp.isNumber(a)?a:-1;let d=-1;if(sp.isNumber(i))d=i;else{const e=i?i.id:null,t=e?l[e]:null;t&&(d=t._index)}if(u>-1&&d>-1&&(s||c)&&(s=sp.toNumber(s)||1,c=sp.toNumber(c)||1,s>1||c>1)){const e=t[u],l=r[d];let a=o[`${u}:${d}`];a?(a.rowspan=s,a.colspan=c,a._rowspan=s,a._colspan=c):(a={row:u,col:d,rowspan:s,colspan:c,_row:e,_col:l,_rowspan:s,_colspan:c},o[`${u}:${d}`]=a,n.push(a))}}))}})(n),Rt.handleUpdateFooterMerge(),t().then((()=>(D.updateCellAreas(),tn())))),removeMergeFooterItems(n){e.footerSpanMethod&&pS("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const o=(e=>{const{mergeFooterList:t,fullColumnIdData:n,mergeFooterMaps:o}=E,l=[];return e&&(sp.isArray(e)||(e=[e]),e.forEach((e=>{const{row:r,col:a}=e,i=sp.isNumber(r)?r:-1;let s=-1;if(sp.isNumber(a))s=a;else{const e=a?a.id:null,t=e?n[e]:null;t&&(s=t._index)}const c=sp.findIndexOf(t,(e=>e.row===i&&e.col===s));if(c>-1){const e=t.splice(c,1)[0];e&&(l.push(e),o[`${i}:${s}`]&&delete o[`${i}:${s}`])}}))),l})(n);return Rt.handleUpdateFooterMerge(),t().then((()=>(D.updateCellAreas(),tn(),o)))},getMergeFooterItems:()=>E.mergeFooterList.slice(0),clearMergeFooterItems:()=>(E.mergeFooterList=[],E.mergeFooterMaps={},E.mergeFooterCellMaps={},S.mergeFootFlag++,t().then((()=>tn()))),updateCellAreas(){const{mouseConfig:n}=e,o=Ze.value;return n&&o.area&&Rt.handleRecalculateCellAreaEvent?Rt.handleRecalculateCellAreaEvent():t()},getCustomStoreData(){const{id:t}=e,n=bt.value,{collectColumn:o}=E,{storage:l,checkMethod:r}=n,a=!0===l,i=a?{}:Object.assign({},l||{}),s=a||i.resizable,c=a||i.visible,u=a||i.fixed,d=a||i.sort,p={},m={},g={},f={},h={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0};if(!t)return pS("vxe.error.reqProp",["id"]),h;let v=0,b=0,x=0,w=0;return sp.eachTree(o,((e,t,n,o,l)=>{const a=e.getKey();a?(l||(d&&(b=1,m[a]=e.renderSortNumber),u&&e.fixed!==e.defaultFixed&&(x=1,f[a]=e.fixed)),s&&e.resizeWidth&&(v=1,p[a]=e.renderWidth),!c||r&&!r({$table:Rt,column:e})||(!e.visible&&e.defaultVisible?(w=1,g[a]=!1):e.visible&&!e.defaultVisible&&(w=1,g[a]=!0))):pS("vxe.error.reqProp",[`${e.getTitle()||e.type||""} -> column.field=?`])})),v&&(h.resizableData=p),b&&(h.sortData=m),x&&(h.fixedData=f),w&&(h.visibleData=g),h},focus:()=>(E.isActivated=!0,t()),blur:()=>(E.isActivated=!1,t()),connect:e=>(e?(ge=e,ge.syncUpdate({collectColumn:E.collectColumn,$table:Rt})):pS("vxe.error.barUnableLink"),t())};const Wn=t=>{const{editStore:n,ctxMenuStore:o,filterStore:l,customStore:r}=S,{mouseConfig:a,editRules:i}=e,s=O.value,c=Ke.value,u=ve.value,d=Qe.value,{actived:p}=n,m=M.value,g=F.value,f=V.value,h=P.value;if(g&&($S(t,s,"vxe-cell--filter").flag||$S(t,g.getRefMaps().refElem.value).flag||$S(t,document.body,"vxe-table--ignore-clear").flag||T.preventEvent(t,"event.clearFilter",l.args,D.closeFilter)),f&&(r.btnEl===t.target||$S(t,document.body,"vxe-toolbar-custom-target").flag||$S(t,f.$el).flag||$S(t,document.body,"vxe-table--ignore-clear").flag||T.preventEvent(t,"event.clearCustom",{},(()=>{Rt.closeCustom&&Rt.closeCustom()}))),p.row){if(!1!==c.autoClear){const n=p.args.cell;n&&$S(t,n).flag||m&&$S(t,m.$el).flag||(!E._lastCallTime||E._lastCallTime+50<Date.now())&&($S(t,document.body,"vxe-table--ignore-clear").flag||T.preventEvent(t,"event.clearEdit",p.args,(()=>{let n;if("row"===c.mode){const e=$S(t,s,"vxe-body--row"),o=e.flag?D.getRowNode(e.targetElem):null;n=!!o&&!Rt.eqRow(o.item,p.args.row)}else n=!$S(t,s,"col--edit").flag;if(n||(n=$S(t,s,"vxe-header--row").flag),n||(n=$S(t,s,"vxe-footer--row").flag),!n&&e.height&&!S.overflowY){const e=t.target;ES(e,"vxe-table--body-wrapper")&&(n=t.offsetY<e.clientHeight)}!n&&$S(t,s).flag||setTimeout((()=>{Rt.handleClearEdit(t).then((()=>{!E.isActivated&&i&&u.autoClear&&(S.validErrorMaps={})}))}))})))}}else if(a&&!($S(t,s).flag||me&&$S(t,me.getRefMaps().refElem.value).flag||h&&$S(t,h.getRefMaps().refElem.value).flag||ge&&$S(t,ge.getRefMaps().refElem.value).flag)&&(Rt.clearSelected&&Rt.clearSelected(),d.autoClear&&Rt.getCellAreas)){const e=Rt.getCellAreas();e&&e.length&&!$S(t,document.body,"vxe-table--ignore-areas-clear").flag&&T.preventEvent(t,"event.clearAreas",{},(()=>{Rt.clearCellAreas(),Rt.clearCopyCellArea(),$n("clear-cell-area-selection",{cellAreas:e},t)}))}Rt.closeMenu&&o.visible&&h&&!$S(t,h.getRefMaps().refElem.value).flag&&Rt.closeMenu();const v=$S(t,me?me.getRefMaps().refElem.value:s).flag;!v&&i&&u.autoClear&&(S.validErrorMaps={}),E.isActivated=v},qn=()=>{D.closeFilter(),Rt.closeMenu&&Rt.closeMenu()},Un=()=>{D.closeTooltip(),Rt.closeMenu&&Rt.closeMenu()},Gn=n=>{const{mouseConfig:o,keyboardConfig:l}=e,{filterStore:r,ctxMenuStore:a,editStore:i}=S,s=Ze.value,c=Je.value,{actived:u}=i;$D.hasKey(n,ND.ESCAPE)&&T.preventEvent(n,"event.keydown",null,(()=>{if($n("keydown-start",{},n),l&&o&&s.area&&Rt.handleKeyboardCellAreaEvent)Rt.handleKeyboardCellAreaEvent(n);else if((u.row||r.visible||a.visible)&&(n.stopPropagation(),Rt.closeMenu&&Rt.closeMenu(),D.closeFilter(),l&&c.isEsc&&u.row)){const e=u.args;Rt.handleClearEdit(n),s.selected&&t((()=>Rt.handleSelected(e,n)))}$n("keydown",{},n),$n("keydown-end",{},n)}))},Kn=n=>{E.isActivated&&Rt.preventEvent(n,"event.keydown",null,(()=>{const{mouseConfig:o,keyboardConfig:l,treeConfig:r,editConfig:a,highlightCurrentRow:i,highlightCurrentColumn:s}=e,{ctxMenuStore:c,editStore:u,currentRow:d}=S,{afterFullData:p}=E,m=st.value,g=at.value,f=Je.value,h=Ze.value,v=Ke.value,b=gt.value,x=ct.value,w=Ve.value,y=Re.value,{selected:C,actived:O}=u,k=b.children||b.childrenField,R=n.keyCode,I=$D.hasKey(n,ND.ESCAPE),M=$D.hasKey(n,ND.BACKSPACE),P=$D.hasKey(n,ND.TAB),F=$D.hasKey(n,ND.ENTER),V=$D.hasKey(n,ND.SPACEBAR),A=$D.hasKey(n,ND.ARROW_LEFT),$=$D.hasKey(n,ND.ARROW_UP),N=$D.hasKey(n,ND.ARROW_RIGHT),L=$D.hasKey(n,ND.ARROW_DOWN),_=$D.hasKey(n,ND.DELETE),B=$D.hasKey(n,ND.F2),z=$D.hasKey(n,ND.CONTEXT_MENU),j=OS(n),H=n.shiftKey,W=n.altKey,q=A||$||N||L,U=m&&c.visible&&(F||V||q),G=DC(a)&&O.column&&O.row,K=v.beforeEditMethod||v.activeMethod;if(U)n.preventDefault(),c.showChild&&IC(c.selected)?Rt.moveCtxMenu(n,c,"selectChild",A,!1,c.selected.children):Rt.moveCtxMenu(n,c,"selected",N,!0,x);else if(l&&o&&h.area&&Rt.handleKeyboardCellAreaEvent)Rt.handleKeyboardCellAreaEvent(n);else if(I){if(Rt.closeMenu&&Rt.closeMenu(),Rt.closeFilter(),l&&f.isEsc&&O.row){const e=O.args;Rt.handleClearEdit(n),h.selected&&t((()=>Rt.handleSelected(e,n)))}}else if(V&&l&&f.isChecked&&C.row&&C.column&&("checkbox"===C.column.type||"radio"===C.column.type))n.preventDefault(),"checkbox"===C.column.type?T.handleToggleCheckRowEvent(n,C.args):T.triggerRadioRowEvent(n,C.args);else if(B&&DC(a))G||C.row&&C.column&&(n.preventDefault(),Rt.handleEdit(C.args,n));else if(z)E._keyCtx=C.row&&C.column&&g.length,clearTimeout(E.keyCtxTimeout),E.keyCtxTimeout=setTimeout((()=>{E._keyCtx=!1}),1e3);else if(F&&!W&&l&&f.isEnter&&(C.row||O.row||r&&(w.isCurrent||i)&&d)){const{isLastEnterAppendRow:e,beforeEnterMethod:o,enterMethod:l}=f;if(j){if(O.row){const e=O.args;Rt.handleClearEdit(n),h.selected&&t((()=>{Rt.handleSelected(e,n)}))}}else if(C.row||O.row){const t=C.row?C.args:O.args;if(H)f.enterToTab?Rt.moveTabSelected(t,H,n):Rt.moveEnterSelected(t,A,!0,N,!1,n);else if(f.enterToTab)Rt.moveTabSelected(t,H,n);else{const r=C.row||O.row,a=C.column||O.column,i=Rt.getVTRowIndex(r),s={row:r,rowIndex:Rt.getRowIndex(r),$rowIndex:Rt.getVMRowIndex(r),_rowIndex:i,column:a,columnIndex:Rt.getColumnIndex(a),$columnIndex:Rt.getVMColumnIndex(a),_columnIndex:Rt.getVTColumnIndex(a),$table:Rt};if(!o||!1!==o(s)){if(e&&i>=p.length-1)return Rt.insertAt({},-1).then((({row:e})=>{Rt.scrollToRow(e,a),Rt.handleSelected(Object.assign(Object.assign({},t),{row:e}),n)})),void Rt.dispatchEvent("enter-append-row",s,n);Rt.moveEnterSelected(t,A,!1,N,!0,n),l&&l(s)}}}else if(r&&(w.isCurrent||i)&&d){const e=d[k];if(e&&e.length){n.preventDefault();const t=e[0],o={$table:Rt,row:t,rowIndex:Rt.getRowIndex(t),$rowIndex:Rt.getVMRowIndex(t)};Rt.setTreeExpand(d,!0).then((()=>Rt.scrollToRow(t))).then((()=>Rt.triggerCurrentRowEvent(n,o)))}}}else if(q&&l&&f.isArrow)G||(h.selected&&C.row&&C.column?Rt.moveArrowSelected(C.args,A,$,N,L,n):(($||L)&&(w.isCurrent||i)&&Rt.moveCurrentRow($,L,n),(A||N)&&(y.isCurrent||s)&&Rt.moveCurrentColumn(A,N,n)));else if(P&&l&&f.isTab)C.row||C.column?Rt.moveTabSelected(C.args,H,n):(O.row||O.column)&&Rt.moveTabSelected(O.args,H,n);else if(l&&f.isDel&&_&&DC(a)&&(C.row||C.column)){if(!G){const{delMethod:e}=f,t={row:C.row,rowIndex:D.getRowIndex(C.row),column:C.column,columnIndex:D.getColumnIndex(C.column),$table:Rt,$grid:me};K&&!K(t)||(e?e(t):aE(C.row,C.column,null),D.updateFooter(),$n("cell-delete-value",t,n))}}else if(M&&l&&f.isBack&&DC(a)&&(C.row||C.column)){if(!G){const{backMethod:e}=f;if(f.isDel&&DC(a)&&(C.row||C.column)){const t={row:C.row,rowIndex:Rt.getRowIndex(C.row),column:C.column,columnIndex:Rt.getColumnIndex(C.column),$table:Rt,$grid:me};K&&!K(t)||(e?e(t):(aE(C.row,C.column,null),Rt.handleEdit(C.args,n)),$n("cell-backspace-value",t,n))}}}else if(M&&l&&r&&f.isBack&&(w.isCurrent||i)&&d){const{parent:e}=sp.findTree(E.afterTreeFullData,(e=>e===d),{children:k});if(e){n.preventDefault();const t={row:e,rowIndex:Rt.getRowIndex(e),$rowIndex:Rt.getVMRowIndex(e),$table:Rt,$grid:me};Rt.setTreeExpand(e,!1).then((()=>Rt.scrollToRow(e))).then((()=>Rt.triggerCurrentRowEvent(n,t)))}}else if(l&&DC(a)&&f.isEdit&&!j&&(V||R>=48&&R<=57||R>=65&&R<=90||R>=96&&R<=111||R>=186&&R<=192||R>=219&&R<=222)){const{editMode:e,editMethod:t}=f;if(C.column&&C.row&&DC(C.column.editRender)){const o=v.beforeEditMethod||v.activeMethod,l={row:C.row,rowIndex:Rt.getRowIndex(C.row),column:C.column,columnIndex:Rt.getColumnIndex(C.column),$table:Rt,$grid:me};o&&!o(Object.assign(Object.assign({},C.args),{$table:Rt,$grid:me}))||(t?t(l):("insert"!==e&&aE(C.row,C.column,null),Rt.handleEdit(C.args,n)))}}$n("keydown",{},n)}))},Yn=t=>{const{keyboardConfig:n,mouseConfig:o}=e,{editStore:l,filterStore:r}=S,{isActivated:a}=E,i=Ze.value,s=Je.value,{actived:c}=l;a&&!r.visible&&(c.row||c.column||n&&s.isClip&&o&&i.area&&Rt.handlePasteCellAreaEvent&&Rt.handlePasteCellAreaEvent(t),$n("paste",{},t))},Xn=t=>{const{keyboardConfig:n,mouseConfig:o}=e,{editStore:l,filterStore:r}=S,{isActivated:a}=E,i=Ze.value,s=Je.value,{actived:c}=l;a&&!r.visible&&(c.row||c.column||n&&s.isClip&&o&&i.area&&Rt.handleCopyCellAreaEvent&&Rt.handleCopyCellAreaEvent(t),$n("copy",{},t))},Zn=t=>{const{keyboardConfig:n,mouseConfig:o}=e,{editStore:l,filterStore:r}=S,{isActivated:a}=E,i=Ze.value,s=Je.value,{actived:c}=l;a&&!r.visible&&(c.row||c.column||n&&s.isClip&&o&&i.area&&Rt.handleCutCellAreaEvent&&Rt.handleCutCellAreaEvent(t),$n("cut",{},t))},Qn=()=>{Rt.closeMenu&&Rt.closeMenu();const e=O.value;if(!e||!e.clientWidth)return t();D.recalculate(!0),D.updateCellAreas()},Jn=e=>{const t=R.value;clearTimeout(E.tooltipTimeout),e?D.closeTooltip():t&&t.setActived&&t.setActived(!0)},eo=()=>{const{dragRow:e,dragCol:t}=S;(e||t)&&(no(),to(),lo(),S.dragRow=null,S.dragCol=null,S.isDragColMove=!1,S.isDragRowMove=!1)},to=()=>{const e=O.value;if(e){const t="row--drag-origin";sp.arrayEach(e.querySelectorAll(`.${t}`),(e=>{e.draggable=!1,DS(e,t)}))}},no=()=>{const e=O.value;if(e){const t="col--drag-origin";sp.arrayEach(e.querySelectorAll(`.${t}`),(e=>{e.draggable=!1,DS(e,t)}))}},oo=(e,t,n,o,l)=>{const r=O.value;if(!r)return;const{overflowX:a,scrollbarWidth:i,overflowY:s,scrollbarHeight:c}=S,{prevDragToChild:u}=E,d=r.getBoundingClientRect(),p=s?i:0,m=a?c:0,g=r.clientWidth,f=r.clientHeight;if(t){const e=Z.value;if(e)if(o){const n=De.value,o=t.getBoundingClientRect();let r=t.clientHeight;const a=Math.max(1,o.y-d.y);a+r>f-m&&(r=f-a-m),e.style.display="block",e.style.left=`${n?p:0}px`,e.style.top=`${a}px`,e.style.height=`${r}px`,e.style.width=g-p+"px",e.setAttribute("drag-pos",l),e.setAttribute("drag-to-child",u?"y":"n")}else e.style.display=""}else if(n){const e=Q.value;if(e)if(o){const t=Ee.value,o=q.value,r=o?o.clientWidth:0,a=U.value,i=a?a.clientWidth:0,s=n.getBoundingClientRect();let c=n.clientWidth;const h=Math.max(0,s.y-d.y),v=r;let b=s.x-d.x;b<v&&(c-=v-b,b=v);const x=g-i-(i?0:p);b+c>x&&(c=x-b),e.style.display="block",e.style.top=`${h}px`,e.style.left=`${b}px`,e.style.width=`${c}px`,e.style.height=u?`${s.height}px`:f-h-(t?0:m)+"px",e.setAttribute("drag-pos",l),e.setAttribute("drag-to-child",u?"y":"n")}else e.style.display=""}const h=X.value;h&&(h.style.display="block",h.style.top=`${Math.min(r.clientHeight-r.scrollTop-h.clientHeight,e.clientY-d.y)}px`,h.style.left=`${Math.min(r.clientWidth-r.scrollLeft-h.clientWidth-16,e.clientX-d.x)}px`,h.setAttribute("drag-status",o?u?"sub":"normal":"disabled"))},lo=()=>{const e=X.value,t=Z.value,n=Q.value;e&&(e.style.display=""),t&&(t.style.display=""),n&&(n.style.display="")},ro=(e,n,o,l,r)=>{const a=o||n;if(!a)return t();r.cell=n;const{tooltipStore:i}=S,s=qe.value,{column:c,row:u}=r,{showAll:d,contentMethod:p}=s,m=p?p(r):null,g=p&&!sp.eqNull(m),f=g?m:sp.toString("html"===c.type?a.innerText:a.textContent).trim(),h=a.scrollWidth>a.clientWidth;return f&&(d||g||h)&&(Object.assign(i,{row:u,column:c,visible:!0,currOpts:{}}),t((()=>{const e=R.value;e&&e.open&&e.open(h?a:l,PC(f))}))),t()},ao=(e,t)=>{if(e){if(me)return me.callSlot(e,t);if(sp.isFunction(e))return EE(e(t))}return[]};T={getSetupOptions:()=>OD(),updateAfterDataIndex:Jt,callSlot:ao,getParentElem(){const e=O.value;if(me){const e=me.getRefMaps().refElem.value;return e?e.parentNode:null}return e?e.parentNode:null},getParentHeight(){const{height:t}=e,n=O.value;if(n){const e=n.parentNode,o="100%"===t||"auto"===t?PS(e):0;let l=0;return e&&(l=me&&ES(e,"vxe-grid--table-wrapper")?me.getParentHeight():e.clientHeight),Math.floor(l-o)}return 0},getExcludeHeight:()=>me?me.getExcludeHeight():0,defineField(t){const{treeConfig:n}=e,o=mt.value,l=gt.value,r=He.value,a=We.value,i=l.children||l.childrenField,s=HS(Rt);return sp.isArray(t)||(t=[t]),t.map((e=>{E.tableFullColumn.forEach((t=>{const{field:n,editRender:o}=t;if(n&&!sp.has(e,n)&&!e[n]){let l=null;if(o){const{defaultValue:e}=o;sp.isFunction(e)?l=e({column:t}):sp.isUndefined(e)||(l=e)}sp.set(e,n,l)}}));return[r.labelField,a.checkField,a.labelField,o.labelField].forEach((t=>{t&&FC(sp.get(e,t))&&sp.set(e,t,null)})),n&&l.lazy&&sp.isUndefined(e[i])&&(e[i]=null),FC(sp.get(e,s))&&sp.set(e,s,jS()),e}))},handleTableData(n){const{scrollYLoad:o}=S,{scrollYStore:l,fullDataRowIdData:r}=E;let a=E.afterFullData;n&&((()=>{const{treeConfig:t}=e,{isRowGroupStatus:n}=S,{tableFullColumn:o,tableFullData:l,tableFullTreeData:r,tableFullGroupData:a}=E,i=Xe.value,s=Ye.value,c=Ae.value,u=gt.value,d=u.children||u.childrenField,{transform:p,rowField:m,parentField:g,mapChildrenField:f}=u,{isEvery:h,remote:v,filterMethod:b}=i,{remote:x,sortMethod:w,multiple:y,chronological:C}=s;let D=[],T=[];if(v&&x)n?(T=sp.searchTree(a,(()=>!0),{original:!0,isEvery:!0,children:c.mapChildrenField,mapChildren:c.childrenField}),D=T):t&&p?(T=sp.searchTree(r,(()=>!0),{original:!0,isEvery:h,children:f,mapChildren:d}),D=T):(D=t?r.slice(0):l.slice(0),T=D);else{const e=[];let i=[];if(o.forEach((t=>{const{field:n,sortable:o,order:l,filters:r}=t;if(!v&&r&&r.length){const n=[],o=[];r.forEach((e=>{e.checked&&(o.push(e),n.push(e.value))})),o.length&&e.push({column:t,valueList:n,itemList:o})}!x&&o&&l&&i.push({column:t,field:n,property:n,order:l,sortTime:t.sortTime})})),y&&C&&i.length>1&&(i=sp.orderBy(i,"sortTime")),!v&&e.length){const o=t=>e.every((({column:e,valueList:n,itemList:o})=>{const{filterMethod:l,filterRender:r}=e,a=DC(r)?ID.get(r.name):null,i=a?a.tableFilterMethod||a.filterMethod:null,s=a?a.tableFilterDefaultMethod||a.defaultTableFilterMethod||a.defaultFilterMethod:null,c=rE(t,e);return l?o.some((n=>l({value:n.value,option:n,cellValue:c,row:t,column:e,$table:Rt}))):i?o.some((n=>i({value:n.value,option:n,cellValue:c,row:t,column:e,$table:Rt}))):b?b({$table:Rt,options:o,values:n,cellValue:c,row:t,column:e}):s?o.some((n=>s({value:n.value,option:n,cellValue:c,row:t,column:e,$table:Rt}))):n.indexOf(sp.get(t,e.field))>-1}));n?(T=sp.searchTree(a,o,{original:!0,isEvery:!0,children:c.mapChildrenField,mapChildren:c.childrenField}),D=T):t&&p?(T=sp.searchTree(r,o,{original:!0,isEvery:h,children:f,mapChildren:d}),D=T):(D=t?r.filter(o):l.filter(o),T=D)}else n?(T=sp.searchTree(a,(()=>!0),{original:!0,isEvery:!0,children:c.mapChildrenField,mapChildren:c.childrenField}),D=T):t&&p?(T=sp.searchTree(r,(()=>!0),{original:!0,isEvery:h,children:f,mapChildren:d}),D=T):(D=t?r.slice(0):l.slice(0),T=D);if(!x&&i.length)if(n){if(w){const e=w({data:T,sortList:i,$table:Rt});T=sp.isArray(e)?e:T}else{const e=sp.toTreeArray(T,{key:c.rowField,parentKey:c.parentField,children:c.mapChildrenField});T=sp.toArrayTree(sp.orderBy(e,i.map((({column:e,order:t})=>[Qt(e),t]))),{key:c.rowField,parentKey:c.parentField,children:c.childrenField,mapChildren:c.mapChildrenField})}D=T}else if(t&&p){if(w){const e=w({data:T,sortList:i,$table:Rt});T=sp.isArray(e)?e:T}else{const e=sp.toTreeArray(T,{children:f});T=sp.toArrayTree(sp.orderBy(e,i.map((({column:e,order:t})=>[Qt(e),t]))),{key:m,parentKey:g,children:d,mapChildren:f})}D=T}else{if(w){const e=w({data:D,sortList:i,$table:Rt});D=sp.isArray(e)?e:D}else D=sp.orderBy(D,i.map((({column:e,order:t})=>[Qt(e),t])));T=D}}E.afterFullData=D,E.afterTreeFullData=T,E.afterGroupFullData=T,Jt()})(),a=en());const i=o?a.slice(l.startIndex,l.endIndex):a.slice(0),s={};return i.forEach(((e,t)=>{const n=WS(Rt,e),o=r[n];o&&(o.$index=t),s[n]=e})),S.tableData=i,E.visibleDataRowIdData=s,t()},cacheRowMap(t){const{treeConfig:n}=e,{isRowGroupStatus:o}=S,{fullAllDataRowIdData:l,tableFullData:r,tableFullTreeData:a,tableFullGroupData:i,treeExpandedMaps:s}=E,c=t?{}:Object.assign({},l),u={},{handleUpdateRowId:d}=qS(Rt),p=(e,t,n,o,l,r,a,i)=>{let s=c[r];s||(s={row:e,rowid:r,seq:i,index:-1,_index:-1,$index:-1,treeIndex:t,items:n,parent:l,level:a,height:0,resizeHeight:0,oTop:0,expandHeight:0},u[r]=s,c[r]=s),s.treeLoaded=!1,s.expandLoaded=!1,s.row=e,s.items=n,s.parent=l,s.level=a,s.index=o,s.treeIndex=t,u[r]=s,c[r]=s};if(n){const e=gt.value,{lazy:t}=e,o=e.children||e.childrenField,l=e.hasChild||e.hasChildField;sp.eachTree(a,((e,r,a,i,c,u)=>{const m=d(e);n&&t&&(e[l]&&void 0===e[o]&&(e[o]=null),s[m]&&(e[o]&&e[o].length||delete s[m])),p(e,r,a,c?-1:r,c,m,u.length-1,lE(i))}),{children:o})}else if(o){const e=Ae.value,{mapChildrenField:t}=e;sp.eachTree(i,((e,t,n,o,l,r)=>{const a=d(e);p(e,t,n,l?-1:t,l,a,r.length-1,lE(o))}),{children:t})}else r.forEach(((e,t,n)=>{p(e,t,n,t,null,d(e),0,t+1)}));E.fullDataRowIdData=u,E.fullAllDataRowIdData=c,S.treeExpandedFlag++},cacheSourceMap(t){const{treeConfig:n}=e,o=gt.value,l=sp.clone(t,!0),{handleUpdateRowId:r}=qS(Rt),a={},i=e=>{const t=r(e);a[t]=e};if(n){const e=o.children||o.childrenField;sp.eachTree(l,i,{children:o.transform?o.mapChildrenField:e})}else l.forEach(i);E.sourceDataRowIdData=a,E.tableSourceData=l},analyColumnWidth(){const{tableFullColumn:e}=E,t=Re.value,{width:n,minWidth:o}=t,l=[],r=[],a=[],i=[],s=[],c=[],u=[],d=[];e.forEach((e=>{n&&!e.width&&(e.width=n),o&&!e.minWidth&&(e.minWidth=o),e.visible&&(e.resizeWidth?l.push(e):"auto"===e.width?u.push(e):CS(e.width)?r.push(e):SS(e.width)?s.push(e):CS(e.minWidth)?a.push(e):"auto"===e.minWidth?i.push(e):SS(e.minWidth)?c.push(e):d.push(e))})),Object.assign(S.columnStore,{resizeList:l,pxList:r,pxMinList:a,autoMinList:i,scaleList:s,scaleMinList:c,autoList:u,remainList:d})},handleColResizeMousedownEvent(e,t,n){e.stopPropagation(),e.preventDefault();const{column:o}=n,{columnStore:l,overflowX:r,scrollbarHeight:a}=S,{elemStore:i,visibleColumn:s}=E,{leftList:c,rightList:u}=l,d=ze.value,p=r?a:0,m=O.value,g=q.value,f=U.value,h=G.value;if(!h)return;const v="left"===t,b="right"===t,x=h.firstElementChild,w=Ee.value,{clientX:y}=e,C=e.target;let D=o;o.children&&o.children.length&&sp.eachTree(o.children,(e=>{D=e}));const T=C.parentNode,k=Object.assign(n,{cell:T});let R=0;if(!iE(i["main-body-scroll"]))return;const I=m.getBoundingClientRect(),M=f?f.getBoundingClientRect():null,P=T.getBoundingClientRect(),F=C.getBoundingClientRect(),V=C.clientWidth,A=Math.floor(V/2),$=F.x-I.x+A,N=cE(k)-A,L=b?0:P.x-I.x+V+N,_=P.x-I.x+T.clientWidth-N;let B=0,z=0;if(v||b){let e=!1;const t=v?c:u;for(let n=0;n<t.length;n++){const o=t[n];e?B+=o.renderWidth:(e=o.id===D.id,e||(z+=o.renderWidth))}}const j=e=>{e.stopPropagation(),e.preventDefault();const t=m.clientHeight,n=e.clientX-y;let o=$+n;v?M&&(o=Math.min(o,M.x-I.x-B-N)):b&&(g&&(o=Math.max(o,g.clientWidth+z+N)),o=Math.min(o,_)),R=Math.max(o,L);const l=Math.max(1,R);if(h.style.left=`${l}px`,h.style.top=`${w?p:0}px`,h.style.height=`${w?t-p:t}px`,d.showDragTip&&x){x.textContent=RD("vxe.table.resizeColTip",[Math.floor(D.renderWidth+(b?$-R:R-$))]);const n=m.clientWidth,o=h.clientWidth,r=x.clientWidth,a=x.clientHeight;let i=-r;l<r+o?i=0:l>n&&(i+=n-l),x.style.left=`${i}px`,x.style.top=`${Math.min(t-a,Math.max(0,e.clientY-I.y-a/2))}px`}S.isDragResize=!0};S.isDragResize=!0,TS(m,"col-drag--resize"),h.style.display="block",document.onmousemove=j,document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null,h.style.display="none",E._lastResizeTime=Date.now(),setTimeout((()=>{S.isDragResize=!1}),50);const t=D.renderWidth+(b?$-R:R-$),o=Object.assign(Object.assign({},n),{resizeWidth:t,resizeColumn:D});"fixed"===d.dragMode&&s.forEach((e=>{e.id!==D.id&&(e.resizeWidth||(e.resizeWidth=e.renderWidth))})),Rt.handleColResizeCellAreaEvent?Rt.handleColResizeCellAreaEvent(e,o):(D.resizeWidth=t,Ln(e,o)),DS(m,"col-drag--resize")},j(e),Rt.closeMenu&&Rt.closeMenu()},handleColResizeDblclickEvent(e,t){const n=ze.value,{isDblclickAutoWidth:o}=n,l=O.value;if(o&&l){e.stopPropagation(),e.preventDefault();const{fullColumnIdData:n}=E,{column:o}=t;let r=o;o.children&&o.children.length&&sp.eachTree(o.children,(e=>{r=e}));const a=n[r.id],i=e.target.parentNode,s=cE(Object.assign(t,{cell:i}));l.setAttribute("data-calc-col","Y");let c=Gt(r,l);l.removeAttribute("data-calc-col"),a&&(c=Math.max(c,a.width)),c=Math.max(s,c);const u=Object.assign(Object.assign({},t),{resizeWidth:c,resizeColumn:r});S.isDragResize=!1,E._lastResizeTime=Date.now(),Rt.handleColResizeDblclickCellAreaEvent?Rt.handleColResizeDblclickCellAreaEvent(e,u):(r.resizeWidth=c,Ln(e,u))}},handleRowResizeMousedownEvent(e,t){e.stopPropagation(),e.preventDefault();const{row:n}=t,{overflowX:o,scrollbarWidth:l,overflowY:r,scrollbarHeight:a}=S,{elemStore:i,fullAllDataRowIdData:s}=E,c=r?l:0,u=o?a:0,d=De.value,p=ze.value,m=Ve.value,g=Me.value,f=O.value,h=K.value;if(!h)return;const{clientY:v}=e,b=h.firstElementChild,x=e.currentTarget.parentNode,w=x.parentNode;if(!iE(i["main-body-scroll"]))return;const y=s[WS(Rt,n)];if(!y)return;const C=ke.value,D=y.resizeHeight||g.height||m.height||y.height||C,T=f.getBoundingClientRect(),k=w.getBoundingClientRect(),R=v-k.y-w.clientHeight;let I=D;const M=x.querySelector(".vxe-cell");let P=0;if(M){const e=getComputedStyle(M);P=Math.max(1,Math.ceil(sp.toNumber(e.paddingTop)+sp.toNumber(e.paddingBottom)))}const F=k.y-T.y+P,V=e=>{e.stopPropagation(),e.preventDefault();const t=f.clientWidth-c,n=f.clientHeight-u;let o=e.clientY-T.y-R;if(o<F?o=F:I=Math.max(P,D+e.clientY-v),h.style.left=`${d?c:0}px`,h.style.top=`${o}px`,h.style.width=`${t}px`,p.showDragTip&&b){b.textContent=RD("vxe.table.resizeRowTip",[I]);const l=b.clientWidth,r=b.clientHeight;let a=Math.max(2,e.clientX-T.x),i=0;a+l>=t-2&&(a=t-l-2),o+r>=n&&(i=n-(o+r)),b.style.left=`${a}px`,b.style.top=`${i}px`}S.isDragResize=!0};S.isDragResize=!0,TS(f,"row-drag--resize"),h.style.display="block",document.onmousemove=V,document.onmouseup=function(e){if(document.onmousemove=null,document.onmouseup=null,h.style.display="none",E._lastResizeTime=Date.now(),setTimeout((()=>{S.isDragResize=!1}),50),I!==D){const o=Object.assign(Object.assign({},t),{resizeHeight:I,resizeRow:n});E.isResizeCellHeight=!0,Rt.handleRowResizeCellAreaEvent?Rt.handleRowResizeCellAreaEvent(e,o):(y.resizeHeight=I,_n(e,o),zn())}DS(f,"row-drag--resize")},V(e)},handleRowResizeDblclickEvent(e,t){const n=ze.value,{isDblclickAutoHeight:o}=n,l=O.value;if(o&&l){e.stopPropagation(),e.preventDefault();const{editStore:n}=S,{fullAllDataRowIdData:o}=E,{actived:r}=n,{row:a}=t,i=o[WS(Rt,a)];if(!i)return;const s=()=>{l.setAttribute("data-calc-row","Y");const n=Xt(i,l);l.removeAttribute("data-calc-row");const o=Object.assign(Object.assign({},t),{resizeHeight:n,resizeRow:a});S.isDragResize=!1,E._lastResizeTime=Date.now(),Rt.handleRowResizeDblclickCellAreaEvent?Rt.handleRowResizeDblclickCellAreaEvent(e,o):(i.resizeHeight=n,_n(e,o))};r.row||r.column?Rt.clearEdit().then(s):s()}},saveCustomStore(n){const{customConfig:o}=e,l=fe.value,r=bt.value,{updateStore:a,storage:i}=r,s=!0===i,c=s?{}:Object.assign({},i||{}),u=s||c.resizable,d=s||c.visible,p=s||c.fixed,m=s||c.sort;if("reset"!==n&&(S.isCustomStatus=!0),(o?DC(r):r.enabled)&&(u||d||p||m)){if(!l)return pS("vxe.error.reqProp",["id"]),t();const e="reset"===n?{resizableData:{},sortData:{},visibleData:{},fixedData:{}}:D.getCustomStoreData();if(a)return a({$table:Rt,id:l,type:n,storeData:e});((e,t)=>{const n=OD().version,o=Ft();o[e]=t||void 0,o._v=n,localStorage.setItem(zD,sp.toJSONString(o))})(l,"reset"===n?null:e)}return t()},handleCustom(){const{mouseConfig:t}=e;return t&&(Rt.clearSelected&&Rt.clearSelected(),Rt.clearCellAreas&&(Rt.clearCellAreas(),Rt.clearCopyCellArea())),T.analyColumnWidth(),D.refreshColumn(!0)},handleUpdateDataQueue(){S.upDataFlag++},handleRefreshColumnQueue(){S.reColumnFlag++},preventEvent(e,t,n,o,l){let r=VD.get(t);r.length||"event.clearEdit"!==t||(r=VD.get("event.clearActived"),r.length&&dS("vxe.error.delEvent",["event.clearActived","event.clearEdit"]));let a=null,i=!1;for(let s=0;s<r.length;s++){const t=(0,r[s])(Object.assign({$grid:me,$table:Rt,$event:e},n));if(!1===t){i=!0;break}if(t&&!1===t.status){a=t.result,i=!0;break}}return i||o&&(a=o()),l&&l(),a},updateCheckboxStatus(){const{treeConfig:t}=e,{isRowGroupStatus:n}=S,{afterTreeFullData:o,afterGroupFullData:l,selectCheckboxMaps:r,treeIndeterminateRowMaps:a}=E,i=Ae.value,s=gt.value,c=s.children||s.childrenField,u=We.value,{checkField:d,checkStrictly:p,checkMethod:m}=u;if(!p){if(n||t){const{handleGetRowId:e}=US(Rt),u={},p=[];if(n){const t=i.mapChildrenField;t&&sp.eachTree(l,(n=>{const o=e(n),l=n[t];l&&l.length&&!u[o]&&(u[o]=1,p.unshift([n,o,l]))}),{children:t})}else if(t){const{transform:t,mapChildrenField:n}=s;sp.eachTree(o,(o=>{const l=e(o),r=o[t?n:c];r&&r.length&&!u[l]&&(u[l]=1,p.unshift([o,l,r]))}),{children:t?n:c})}p.forEach((t=>{const n=t[0],o=t[1],l=t[2];let i=0,s=0,c=0;l.forEach(m?t=>{const n=e(t),o=d?sp.get(t,d):r[n];m({$table:Rt,row:t})?(o?i++:a[n]&&s++,c++):o?i++:a[n]&&s++}:t=>{const n=e(t);(d?sp.get(t,d):r[n])?i++:a[n]&&s++,c++});const u=i>=c,p=!u&&(i>=1||s>=1);d&&sp.set(n,d,u),u?(d||(r[o]=n),a[o]&&delete a[o]):(d||r[o]&&delete r[o],p?a[o]=n:a[o]&&delete a[o])}))}S.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:t}=e,{isRowGroupStatus:n}=S,{afterFullData:o,afterTreeFullData:l,afterGroupFullData:r,checkboxReserveRowMap:a,selectCheckboxMaps:i,treeIndeterminateRowMaps:s}=E,c=We.value,{checkField:u,checkMethod:d,showReserveStatus:p}=c,{handleGetRowId:m}=US(Rt);let g=0,f=0,h=0;const v=t?l:n?r:o;v.forEach(d?e=>{const t=m(e),n=u?sp.get(e,u):i[t];d({$table:Rt,row:e})?(n?g++:s[t]&&f++,h++):n?g++:s[t]&&f++}:e=>{const t=m(e);(u?sp.get(e,u):i[t])?g++:s[t]&&f++,h++});const b=v.length>0&&(h>0?g>=h:g>=v.length);let x=!b&&(g>=1||f>=1);b||x||!p||(x=!sp.isEmpty(a)),S.isAllSelected=b,S.isIndeterminate=x},checkSelectionStatus(){Rt.updateCheckboxStatus(),Rt.updateAllCheckboxStatus()},handleBatchSelectRows(t,n,o){const{treeConfig:l}=e,{isRowGroupStatus:r}=S,{selectCheckboxMaps:a}=E,i=Ae.value,s=gt.value,{transform:c,mapChildrenField:u}=s,d=s.children||s.childrenField,p=We.value,{checkField:m,checkStrictly:g,checkMethod:f}=p,{handleGetRowId:h}=US(Rt),v=p.indeterminateField||p.halfField;if(m)return!l&&!r||g?(t.forEach((e=>{(o||!f||f({$table:Rt,row:e}))&&(sp.set(e,m,n),ln(e,n))})),void S.updateCheckboxFlag++):(sp.eachTree(t,(e=>{(o||!f||f({$table:Rt,row:e}))&&(sp.set(e,m,n),v&&sp.set(e,v,!1),ln(e,n))}),{children:c?u:d}),void S.updateCheckboxFlag++);if(!g){if(r)return sp.eachTree(t,(e=>{const t=h(e);(o||!f||f({$table:Rt,row:e}))&&(n?a[t]=e:a[t]&&delete a[t],ln(e,n))}),{children:i.mapChildrenField}),void S.updateCheckboxFlag++;if(l)return sp.eachTree(t,(e=>{const t=h(e);(o||!f||f({$table:Rt,row:e}))&&(n?a[t]=e:a[t]&&delete a[t],ln(e,n))}),{children:c?u:d}),void S.updateCheckboxFlag++}t.forEach((e=>{const t=h(e);(o||!f||f({$table:Rt,row:e}))&&(n?a[t]||(a[t]=e):a[t]&&delete a[t],ln(e,n),S.updateCheckboxFlag++)}))},handleSelectRow({row:e},t,n){Rt.handleBatchSelectRows([e],t,n)},handleUpdateBodyMerge(){const{mergeBodyList:e}=E;E.mergeBodyCellMaps=Bt(e),S.mergeBodyFlag++},handleUpdateFooterMerge(){const{mergeFooterList:e}=E;E.mergeFooterCellMaps=Bt(e),S.mergeFootFlag++},handleAggregateSummaryData:()=>(()=>{const{aggregateConfig:t,rowGroupConfig:n}=e,{isRowGroupStatus:o}=S,{tableFullGroupData:l}=E,r=Ae.value,{mapChildrenField:a}=r;if((t||n)&&o){const e=[];sp.eachTree(l,(t=>{t.isAggregate&&e.push(t)}),{children:a}),vn(e)}})(),triggerHeaderTitleEvent(e,n,o){const l=n.content||n.message;if(l){const{tooltipStore:r}=S,{column:a}=o,i=MC(l);Jn(!0),r.row=null,r.column=a,r.visible=!0,r.currOpts=n,t((()=>{const t=R.value;t&&t.open&&t.open(e.currentTarget,i)}))}},triggerHeaderTooltipEvent(e,t){const{tooltipStore:n}=S,{column:o}=t;Jn(!0);const l=e.currentTarget;if(!l)return;const r=l.parentElement;if(!r)return;const a=r.parentElement;if(!a)return;const i=a.parentElement;if(i&&(n.column!==o||!n.visible)){const e=i.querySelector(".vxe-cell--title");ro(0,i,(ES(i,"col--ellipsis")?e:r)||r,e||a,t)}},triggerBodyTooltipEvent(t,n){const{editConfig:o}=e,{editStore:l}=S,{tooltipStore:r}=S,a=Ke.value,{actived:i}=l,{row:s,column:c}=n,u=t.currentTarget;if(Jn(r.column!==c||r.row!==s),c.editRender&&DC(o)){if("row"===a.mode&&i.row===s)return;if(i.row===s&&i.column===c)return}if(r.column!==c||r.row!==s||!r.visible){const e=u.querySelector(".vxe-cell--wrapper");let t=null,o=u.querySelector("html"===c.type?".vxe-cell--html":".vxe-cell--label");c.treeNode&&(t=u.querySelector(".vxe-tree-cell")),o||(o=e),ro(0,u,t||e,o,n)}},triggerFooterTooltipEvent(e,t){const{column:n}=t,{tooltipStore:o}=S,l=e.currentTarget;if(Jn(o.column!==n||!!o.row),o.column!==n||!o.visible){const e=l.querySelector(".vxe-cell--wrapper");let o=null,r=l.querySelector("html"===n.type?".vxe-cell--html":".vxe-cell--label");"html"===n.type&&(o=l.querySelector(".vxe-cell--html")),r||(r=e),ro(0,l,o||e,r,t)}},handleTargetLeaveEvent(){const e=qe.value;let t=R.value;t&&t.setActived&&t.setActived(!1),e.enterable?E.tooltipTimeout=setTimeout((()=>{t=R.value,t&&t.isActived&&!t.isActived()&&Rt.closeTooltip()}),e.leaveDelay):Rt.closeTooltip()},triggerHeaderCellClickEvent(t,n){const{_lastResizeTime:o}=E,l=Ye.value,r=Re.value,a=Ie.value,{column:i}=n,s=t.currentTarget,c=o&&o>Date.now()-300,u=$S(t,s,"vxe-cell--sort").flag,d=$S(t,s,"vxe-cell--filter").flag;"cell"!==l.trigger||c||u||d||Rt.triggerSortEvent(t,i,Pt(i)),$n("header-cell-click",Object.assign({triggerResizable:c,triggerSort:u,triggerFilter:d,cell:s},n),t),!r.isCurrent&&!e.highlightCurrentColumn||a.trigger&&!["header","default"].includes(a.trigger)||Rt.triggerCurrentColumnEvent(t,n)},triggerHeaderCellDblclickEvent(e,t){$n("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},triggerCellClickEvent(t,n){const{highlightCurrentRow:o,highlightCurrentColumn:l,editConfig:r}=e,{editStore:a,isDragResize:i}=S;if(i)return;const s=mt.value,c=Ke.value,u=gt.value,d=He.value,p=We.value,m=Je.value,g=Ae.value,f=Ve.value,h=Re.value,v=Ie.value,{actived:b,focused:x}=a,{row:w,column:y}=n,{type:C,treeNode:E,rowGroupNode:D}=y,T="radio"===C,O="checkbox"===C,k="expand"===C,R=t.currentTarget,I=T&&$S(t,R,"vxe-cell--radio").flag,M=O&&$S(t,R,"vxe-cell--checkbox").flag,P=E&&$S(t,R,"vxe-cell--tree-btn").flag,F=k&&$S(t,R,"vxe-table--expanded").flag,V=k&&$S(t,R,"vxe-row-group--node-btn").flag;n=Object.assign({cell:R,triggerRadio:I,triggerCheckbox:M,triggerTreeNode:P,triggerExpandNode:F},n),M||I||(!F&&("row"===s.trigger||k&&"cell"===s.trigger)&&Rt.triggerRowExpandEvent(t,n),("row"===u.trigger||E&&"cell"===u.trigger)&&Rt.triggerTreeExpandEvent(t,n),("row"===g.trigger||D&&"cell"===g.trigger)&&Rt.triggerRowGroupExpandEvent(t,n)),P||(F||V||((f.isCurrent||o)&&(M||I||Rt.triggerCurrentRowEvent(t,n)),!h.isCurrent&&!l||v.trigger&&!["cell","default"].includes(v.trigger)||M||I||Rt.triggerCurrentColumnEvent(t,n),!I&&("row"===d.trigger||T&&"cell"===d.trigger)&&Rt.triggerRadioRowEvent(t,n),!M&&("row"===p.trigger||O&&"cell"===p.trigger)&&Rt.handleToggleCheckRowEvent(t,n)),DC(r)&&(m.arrowCursorLock&&t&&"cell"===c.mode&&t.target&&/^input|textarea$/i.test(t.target.tagName)&&(x.column=y,x.row=w),"manual"===c.trigger?b.args&&b.row===w&&y!==b.column&&on(t,n):b.args&&w===b.row&&y===b.column||("click"===c.trigger||"dblclick"===c.trigger&&"row"===c.mode&&b.row===w)&&on(t,n))),DC(r)&&"dblclick"===c.trigger&&b.row&&b.column&&("row"===c.mode?Rt.eqRow(b.row,w)||Rt.handleClearEdit(t):"cell"===c.mode&&(Rt.eqRow(b.row,w)&&b.column.id===y.id||Rt.handleClearEdit(t))),$n("cell-click",n,t)},triggerCellDblclickEvent(t,n){const{editConfig:o}=e,{editStore:l,isDragResize:r}=S;if(r)return;const a=Ke.value,{actived:i}=l,s=t.currentTarget;n=Object.assign({cell:s},n),DC(o)&&"dblclick"===a.trigger&&(i.args&&t.currentTarget===i.args.cell||("row"===a.mode?nn("blur").catch((e=>e)).then((()=>{Rt.handleEdit(n,t).then((()=>nn("change"))).catch((e=>e))})):"cell"===a.mode&&Rt.handleEdit(n,t).then((()=>nn("change"))).catch((e=>e)))),$n("cell-dblclick",n,t)},handleToggleCheckRowEvent(e,t){const{selectCheckboxMaps:n}=E,o=We.value,{checkField:l,trigger:r}=o,{row:a}=t;if("manual"===r)return;let i=!1;i=l?!sp.get(a,l):!n[WS(Rt,a)],e?Rt.triggerCheckRowEvent(e,t,i):(Rt.handleBatchSelectRows([a],i),Rt.checkSelectionStatus())},triggerCheckRowEvent(n,o,l){const{treeConfig:r}=e,{row:a}=o,{isRowGroupStatus:i}=S,{afterFullData:s}=E,c=We.value,{checkMethod:u,trigger:d}=c;if("manual"!==d){if(n.stopPropagation(),c.isShiftKey&&n.shiftKey&&!r&&!i){const e=Rt.getCheckboxRecords();if(e.length){const l=e[0],r=Rt.getVTRowIndex(a),i=Rt.getVTRowIndex(l);if(r!==i){Rt.setAllCheckboxRow(!1);const e=r<i?s.slice(r,i+1):s.slice(i,r+1);return t((()=>{an(e,!0,!1)})),void $n("checkbox-range-select",Object.assign({rangeRecords:e},o),n)}}}u&&!u({$table:Rt,row:a})||(Rt.handleBatchSelectRows([a],l),Rt.checkSelectionStatus(),$n("checkbox-change",Object.assign({records:()=>Rt.getCheckboxRecords(),reserves:()=>Rt.getCheckboxReserveRecords(),indeterminates:()=>Rt.getCheckboxIndeterminateRecords(),checked:l},o),n))}},triggerCheckAllEvent(e,t){const n=We.value,{trigger:o}=n;"manual"!==o&&(e&&e.stopPropagation(),Pn(e,t))},triggerRadioRowEvent(e,t){const{selectRadioRow:n}=S,{row:o}=t,l=He.value,{trigger:r,checkMethod:a}=l;if("manual"!==r&&(e.stopPropagation(),!a||a({$table:Rt,row:o}))){let r=o,a=n!==r;a?rn(r):l.strict||(a=n===r,a&&(r=null,Rt.clearRadioRow())),a&&$n("radio-change",Object.assign({oldValue:n,newValue:r},t),e)}},triggerCurrentColumnEvent(e,t){const{currentColumn:n}=S,o=Re.value,l=Ie.value,r=l.beforeSelectMethod||o.currentMethod,{column:a}=t,{trigger:i}=l;if("manual"===i)return;const s=n!==a;!r||r({column:a,$table:Rt})?(Rt.setCurrentColumn(a),s&&$n("current-column-change",Object.assign({oldValue:n,newValue:a},t),e)):$n("current-column-disabled",t,e)},triggerCurrentRowEvent(e,t){const{currentRow:n}=S,o=Ve.value,l=Ne.value,r=l.beforeSelectMethod||o.currentMethod,{row:a}=t,{trigger:i}=l;if("manual"===i)return;const s=n!==a;!r||r({row:a,$table:Rt})?(Rt.setCurrentRow(a),s&&($n("current-row-change",Object.assign({oldValue:n,newValue:a},t),e),$n("current-change",Object.assign({oldValue:n,newValue:a},t),e))):$n("current-row-disabled",t,e)},triggerRowExpandEvent(e,t){const{expandColumn:n}=S,{rowExpandLazyLoadedMaps:o}=E,l=mt.value,{row:r}=t,{lazy:a,trigger:i}=l;if("manual"===i)return;e.stopPropagation();const s=WS(Rt,r);if(!a||!o[s]){const t=!Rt.isRowExpandByRow(r),o=n?Rt.getColumnIndex(n):-1,l=n?Rt.getVMColumnIndex(n):-1;Rt.setRowExpand(r,t),$n("toggle-row-expand",{expanded:t,column:n,columnIndex:o,$columnIndex:l,row:r,rowIndex:Rt.getRowIndex(r),$rowIndex:Rt.getVMRowIndex(r)},e)}},triggerRowGroupExpandEvent(e,t){const{rowGroupExpandedMaps:n}=E,o=Ae.value,{row:l,column:r}=t,{trigger:a}=o;if("manual"===a)return;e.stopPropagation();const i=!n[WS(Rt,l)],s=Rt.getColumnIndex(r),c=Rt.getVMColumnIndex(r);Rt.setRowGroupExpand(l,i),$n("toggle-row-group-expand",{expanded:i,column:r,columnIndex:s,$columnIndex:c,row:l},e)},triggerTreeExpandEvent(e,t){const{treeExpandLazyLoadedMaps:n,treeEATime:o}=E,l=gt.value,{row:r,column:a}=t,{lazy:i,trigger:s,accordion:c}=l;if("manual"===s)return;e.stopPropagation();const u=WS(Rt,r);if(!i||!n[u]){const t=!Rt.isTreeExpandByRow(r),n=Rt.getColumnIndex(a),l=Rt.getVMColumnIndex(a);o&&clearTimeout(o),Rt.setTreeExpand(r,t).then((()=>{c&&(E.treeEATime=setTimeout((()=>{E.treeEATime=void 0,Rt.scrollToRow(r)}),30))})),$n("toggle-tree-expand",{expanded:t,column:a,columnIndex:n,$columnIndex:l,row:r},e)}},handleColumnSortEvent(t,n){const{mouseConfig:o}=e,l=Ze.value,{field:r,sortable:a,order:i}=n;if(a){const e={$table:Rt,$event:t,column:n,field:r,property:r,order:i,sortList:D.getSortColumns(),sortTime:n.sortTime};o&&l.area&&Rt.handleSortEvent&&Rt.handleSortEvent(t,e),i||$n("clear-sort",e,t),$n("sort-change",e,t)}},triggerSortEvent(e,t,n){const o=Ye.value,{multiple:l,allowClear:r}=o,{field:a,sortable:i}=t;i&&(n&&t.order!==n?Rt.sort({field:a,order:n}):r&&Rt.clearSort(l?t:null),Rt.handleColumnSortEvent(e,t))},handleCellRuleUpdateStatus(e,n,o){const{validStore:l}=S,{row:r,column:a}=n;if(Rt.hasCellRules&&Rt.hasCellRules(e,r,a)){const t=Rt.getCellElement(r,a);if(t){const n=!sp.isUndefined(o);return Rt.validCellRules(e,r,a,o).then((()=>{n&&l.visible&&aE(r,a,o),Rt.clearValidate(r,a)})).catch((({rule:e})=>{n&&aE(r,a,o),Rt.showValidTooltip({rule:e,row:r,column:a,cell:t})}))}}return t()},triggerHeaderCellMousedownEvent(t,n){const{mouseConfig:o}=e,l=Ze.value,r=Re.value,a=_e.value,{trigger:i,isCrossDrag:s,isPeerDrag:c,disabledMethod:u}=a,d=t.currentTarget,p=d&&d.tagName&&"input"===d.tagName.toLowerCase(),m=$S(t,d,"vxe-cell--checkbox").flag,g=$S(t,d,"vxe-cell--sort").flag,f=$S(t,d,"vxe-cell--filter").flag;let h=!1;const v=r.drag&&"cell"===i;if(!(p||m||g||f)){const{column:e}=n;!v||e.fixed||!s&&!c&&e.parentId||u&&u(n)||(h=!0,Rt.handleHeaderCellDragMousedownEvent(t,n))}!h&&o&&l.area&&Rt.handleHeaderCellAreaEvent&&Rt.handleHeaderCellAreaEvent(t,Object.assign({cell:d,triggerSort:g,triggerFilter:f},n)),Rt.focus(),Rt.closeMenu&&Rt.closeMenu()},triggerCellMousedownEvent(e,t){const{column:n}=t,{type:o,treeNode:l}=n,r="radio"===o,a="checkbox"===o,i="expand"===o,s=Ve.value,c=Le.value,{trigger:u,isCrossDrag:d,isPeerDrag:p,disabledMethod:m}=c,g=e.currentTarget;t.cell=g;const f=g&&g.tagName&&"input"===g.tagName.toLowerCase(),h=r&&$S(e,g,"vxe-cell--radio").flag,v=a&&$S(e,g,"vxe-cell--checkbox").flag,b=l&&$S(e,g,"vxe-cell--tree-btn").flag,x=i&&$S(e,g,"vxe-table--expanded").flag;let w=!1;s.drag&&(w="row"===u||n.dragSort&&"cell"===u);let y=!1;f||h||v||b||x||!w||!d&&!p&&t.level||m&&m(t)||(y=!0,Rt.handleCellDragMousedownEvent(e,t)),!y&&Rt.handleCellMousedownEvent&&Rt.handleCellMousedownEvent(e,t),Rt.focus(),Rt.closeFilter(),Rt.closeMenu&&Rt.closeMenu()},triggerCellMouseupEvent(){eo()},handleRowDragDragstartEvent(e){e.dataTransfer&&e.dataTransfer.setDragImage(xS(),0,0)},handleRowDragSwapEvent(n,o,l,r,a,i){const{treeConfig:s,dragConfig:c}=e,u=Le.value,{afterFullData:d,tableFullData:p,fullAllDataRowIdData:m}=E,{isPeerDrag:g,isCrossDrag:f,isSelfToChildDrag:h,dragEndMethod:v,dragToChildMethod:b}=u,x=gt.value,{transform:w,rowField:y,mapChildrenField:C,parentField:D}=x,T=x.children||x.childrenField,O=v||(c?c.dragEndMethod:null),k="bottom"===a?1:0,R={status:!1};if(r&&l&&r!==l){const e={oldRow:l,newRow:r,dragRow:l,dragPos:a,dragToChild:!!i,offsetIndex:k},o=h&&b?b(e):i;return Promise.resolve(!O||O(e)).then((e=>{if(!e)return R;let i=-1,c=-1;if(s){if(w){const e=WS(Rt,l),t=m[e],n=WS(Rt,r),a=m[n];if(t&&a){const{level:e}=t,{level:i}=a,s={};sp.eachTree([l],(e=>{s[WS(Rt,e)]=e}),{children:C});let c=!1;if(e&&i)if(g&&!f){if(t.row[D]!==a.row[D])return R}else{if(!f)return R;if(s[n]&&(c=!0,!f||!h))return $m.modal&&$m.modal.message({status:"error",content:RD("vxe.error.treeDragChild")}),R}else if(e){if(!f)return R}else if(i){if(!f)return R;if(s[n]&&(c=!0,!f||!h))return $m.modal&&$m.modal.message({status:"error",content:RD("vxe.error.treeDragChild")}),R}const u=sp.toTreeArray(E.afterTreeFullData,{key:y,parentKey:D,children:C}),d=Rt.findRowIndexOf(u,l);u.splice(d,1);const p=Rt.findRowIndexOf(u,r)+k;u.splice(p,0,l),c&&f&&h&&sp.each(l[T],(e=>{e[D]=l[D]})),l[D]=o?r[y]:r[D],E.tableFullTreeData=sp.toArrayTree(u,{key:y,parentKey:D,children:T,mapChildren:C})}}}else{i=Rt.findRowIndexOf(d,l);const e=Rt.findRowIndexOf(p,l);d.splice(i,1),p.splice(e,1);const t=Rt.findRowIndexOf(d,r),n=Rt.findRowIndexOf(p,r);c=t+k;const o=n+k;d.splice(c,0,l),p.splice(o,0,l)}return S.isDragRowMove=!0,Rt.handleTableData(s&&w),Rt.cacheRowMap(!1),Rn(),s&&w||Rt.updateAfterDataIndex(),Rt.checkSelectionStatus(),S.scrollYLoad&&Rt.updateScrollYSpace(),n&&$n("row-dragend",{oldRow:l,newRow:r,dragRow:l,dragPos:a,dragToChild:o,offsetIndex:k,_index:{newIndex:c,oldIndex:i}},n),t().then((()=>{Rt.updateCellAreas(),Rt.recalculate()})).then((()=>({status:!0})))})).catch((()=>R))}return Promise.resolve(R)},handleRowDragDragendEvent(t){const{treeConfig:n}=e,{fullAllDataRowIdData:o,prevDragToChild:l}=E,{dragRow:r}=S,a=gt.value,{lazy:i}=a,s=a.hasChild||a.hasChildField,{prevDragRow:c,prevDragPos:u}=E;if(n&&i&&l){const e=o[WS(Rt,c)];c[s]?e&&e.treeLoaded&&Rt.handleRowDragSwapEvent(t,!0,r,c,u,l):Rt.handleRowDragSwapEvent(t,!0,r,c,u,l)}else Rt.handleRowDragSwapEvent(t,!0,r,c,u,l);lo(),to(),E.prevDragToChild=!1,S.dragRow=null,S.dragCol=null,setTimeout((()=>{S.isDragRowMove=!1}),500)},handleRowDragDragoverEvent(t){const{treeConfig:n}=e,{fullAllDataRowIdData:o}=E,{dragRow:l}=S,r=gt.value,{lazy:a,transform:i,parentField:s}=r,c=r.hasChild||r.hasChildField,u=Le.value,{isPeerDrag:d,isCrossDrag:p,isToChildDrag:m}=u;if(!l)return void t.preventDefault();const g=OS(t),f=t.currentTarget,h=o[f.getAttribute("rowid")||""];if(h){const e=h.row,l=o[WS(Rt,e)];t.preventDefault();const{dragRow:r}=S,u=t.clientY-f.getBoundingClientRect().y<f.clientHeight/2?"top":"bottom";if(E.prevDragToChild=!!(n&&i&&p&&m&&g),E.prevDragRow=e,E.prevDragPos=u,Rt.eqRow(r,e)||g&&n&&a&&e[c]&&l&&!l.treeLoaded||!p&&n&&i&&(d?r[s]!==e[s]:h.level))return void oo(t,f,null,!1,u);oo(t,f,null,!0,u),$n("row-dragover",{oldRow:r,targetRow:e,dragPos:u},t)}},handleCellDragMousedownEvent(t,n){var o;t.stopPropagation();const{dragConfig:l}=e,r=Le.value,{trigger:a,dragStartMethod:i}=r,{row:s}=n,c=t.currentTarget,u="cell"===a||"row"===a?c:null===(o=c.parentElement)||void 0===o?void 0:o.parentElement,d=u.parentElement,p=i||(l?l.dragStartMethod:null);if(to(),p&&!p(n))return d.draggable=!1,S.dragRow=null,S.dragCol=null,void lo();S.dragRow=s,S.dragCol=null,d.draggable=!0,(e=>{const t=O.value;if(t){const n="row--drag-origin",o=WS(Rt,e);sp.arrayEach(t.querySelectorAll(`[rowid="${o}"]`),(e=>{TS(e,n)}))}})(s),(t=>{const{dragConfig:n}=e,{dragRow:o}=S,l=Le.value,{tooltipMethod:r}=l,a=r||(n?n.rowTooltipMethod:null);let i="";i=a?`${a({$table:Rt,row:o})||""}`:RD("vxe.table.dragTip",[t.textContent||""]);S.dragTipText=i})(u),$n("row-dragstart",n,t)},handleCellDragMouseupEvent(){eo()},handleHeaderCellDragDragstartEvent(e){e.dataTransfer&&e.dataTransfer.setDragImage(xS(),0,0)},handleColDragSwapColumn(){Sn(),Tn(!1).then((()=>{Rt.updateCellAreas(),Rt.saveCustomStore("update:sort")}))},handleColDragSwapEvent(t,n,o,l,r,a){const{mouseConfig:i}=e,s=_e.value,{isPeerDrag:c,isCrossDrag:u,isSelfToChildDrag:d,isToChildDrag:p,dragEndMethod:m,dragToChildMethod:g}=s,{collectColumn:f}=E,h="right"===r?1:0,v={status:!1};if(l&&o&&l!==o){const e=o,s=l,b={oldColumn:e,newColumn:s,dragColumn:e,dragPos:r,dragToChild:!!a,offsetIndex:h},x=d&&g?g(b):a;return Promise.resolve(!m||m(b)).then((o=>{if(!o)return v;let l=-1,a=-1;const m={};sp.eachTree([e],(e=>{m[e.id]=e}));let g=!1;if(e.parentId&&s.parentId)if(c&&!u){if(e.parentId!==s.parentId)return v}else{if(!u)return v;if(m[s.id]&&(g=!0,!u||!d))return $m.modal&&$m.modal.message({status:"error",content:RD("vxe.error.treeDragChild")}),v}else if(e.parentId){if(!u)return v}else if(s.parentId){if(!u)return v;if(m[s.id]&&(g=!0,!u||!d))return $m.modal&&$m.modal.message({status:"error",content:RD("vxe.error.treeDragChild")}),v}const b=sp.findTree(f,(t=>t.id===e.id));if(g&&u&&d){if(b){const{items:t,index:n}=b,o=e.children||[];o.forEach((t=>{t.parentId=e.parentId})),t.splice(n,1,...o),e.children=[]}}else if(b){const{items:e,index:t,parent:n}=b;e.splice(t,1),n||(l=t)}const w=sp.findTree(f,(e=>e.id===s.id));if(w){const{items:t,index:n,parent:o}=w;u&&p&&x?(e.parentId=s.id,s.children=(s.children||[]).concat([e])):(e.parentId=s.parentId,t.splice(n+h,0,e)),o||(a=n)}return sp.eachTree(f,((e,t,n,o,l)=>{if(!l){const n=t+1;e.renderSortNumber=n}})),S.isDragColMove=!0,i&&(Rt.clearSelected&&Rt.clearSelected(),Rt.clearCellAreas&&(Rt.clearCellAreas(),Rt.clearCopyCellArea())),t&&$n("column-dragend",{oldColumn:e,newColumn:s,dragColumn:e,dragPos:r,dragToChild:x,offsetIndex:h,_index:{newIndex:a,oldIndex:l}},t),n&&Rt.handleColDragSwapColumn(),{status:!0}})).catch((()=>v))}return Promise.resolve(v)},handleHeaderCellDragDragendEvent(e){const{dragCol:t}=S,{prevDragCol:n,prevDragPos:o,prevDragToChild:l}=E;Rt.handleColDragSwapEvent(e,!0,t,n,o,l),lo(),no(),E.prevDragToChild=!1,S.dragRow=null,S.dragCol=null,setTimeout((()=>{S.isDragColMove=!1,Rt.recalculate().then((()=>{En()}))}),500)},handleHeaderCellDragDragoverEvent(e){const{dragCol:t}=S,n=_e.value,{isToChildDrag:o,isPeerDrag:l,isCrossDrag:r}=n;if(!t)return void e.preventDefault();const a=OS(e),i=e.currentTarget,s=i.getAttribute("colid"),c=Rt.getColumnById(s);if(c){e.preventDefault();const{clientX:n}=e,s=n-i.getBoundingClientRect().x<i.clientWidth/2?"left":"right";if(E.prevDragToChild=!!(r&&o&&a),E.prevDragCol=c,E.prevDragPos=s,c.fixed||t&&t.id===c.id||!r&&(l?t.parentId!==c.parentId:c.parentId))return void oo(e,null,i,!1,s);oo(e,null,i,!0,s),$n("column-dragover",{oldColumn:t,targetColumn:c,dragPos:s},e);const u=O.value;if(!u)return;const d=oe.value,p=N.value,m=p?p.$el:null,g=d||m;if(g){const e=u.getBoundingClientRect(),t=u.clientWidth,o=q.value,l=o?o.clientWidth:0,r=U.value,a=r?r.clientWidth:0,i=28,s=n-(e.x+l),c=e.x+t-a-n;if(s>0&&s<=i){const e=Math.floor(t/(s>i/2?240:120));g.scrollLeft-=e*(i-s)}else if(c>0&&c<=i){const e=Math.floor(t/(c>i/2?240:120));g.scrollLeft+=e*(i-c)}}}},handleHeaderCellDragMousedownEvent(e,t){var n;e.stopPropagation();const o=_e.value,{trigger:l,dragStartMethod:r}=o,{column:a}=t,i=e.currentTarget,s="cell"===l?i:null===(n=i.parentElement)||void 0===n?void 0:n.parentElement;if(S.isDragColMove=!1,no(),r&&!r(t))return s.draggable=!1,S.dragRow=null,S.dragCol=null,void lo();S.dragCol=a,S.dragRow=null,s.draggable=!0,(e=>{const t=O.value;if(t){const n=[];sp.eachTree([e],(e=>{n.push(`[colid="${e.id}"]`)}));const o="col--drag-origin";sp.arrayEach(t.querySelectorAll(n.join(",")),(e=>{TS(e,o)}))}})(a),(e=>{const{dragCol:t}=S,n=_e.value,{tooltipMethod:o}=n;let l="";l=o?`${o({$table:Rt,column:t})||""}`:RD("vxe.table.dragTip",[e.textContent||""]);S.dragTipText=l})(s),$n("column-dragstart",t,e)},handleHeaderCellDragMouseupEvent(){no(),lo(),S.dragRow=null,S.dragCol=null,S.isDragColMove=!1},handleScrollEvent(t,n,o,l,r,a){const{highlightHoverRow:i}=e,{lastScrollLeft:s,lastScrollTop:c}=E,u=oe.value,d=ae.value;if(!u||!d)return;const p=Ve.value,m=M.value,g=R.value,f=d.clientHeight,h=u.clientWidth,v=d.scrollHeight,b=u.scrollWidth;let x=!1,w=!1,y=!1,C=!1,D="",T=!1,O=!1,k=!1,I=!1;if(o){const e=xe.value;y=r<=0,y||(C=r+h>=b),r>s?(D="right",r+h>=b-e&&(I=!0)):(D="left",r<=e&&(k=!0)),Rt.checkScrolling(),E.lastScrollLeft=r}if(n){const e=Te.value;x=l<=0,x||(w=l+f>=v),l>c?(D="bottom",l+f>=v-e&&(O=!0)):(D="top",l<=e&&(T=!0)),E.lastScrollTop=l}S.isDragColMove=!1,S.isDragRowMove=!1,S.lastScrollTime=Date.now();const P=Object.assign({scrollTop:l,scrollLeft:r,bodyHeight:f,bodyWidth:h,scrollHeight:v,scrollWidth:b,isX:o,isY:n,isTop:x,isBottom:w,isLeft:y,isRight:C,direction:D},a);jn(),((e,t)=>{const{scrollXLoad:n,scrollYLoad:o,isAllOverflow:l}=S,{lcsTimeout:r}=E;r&&clearTimeout(r),E.lcsTimeout=setTimeout((()=>{E.lcsRunTime=Date.now(),E.lcsTimeout=void 0,E.intoRunScroll=!1,E.inVirtualScroll=!1,E.inWheelScroll=!1,E.inHeaderScroll=!1,E.inBodyScroll=!1,E.inFooterScroll=!1,E.scrollRenderType="",l||(Zt(),zn()),e&&n&&Rt.updateScrollXData(),t&&o&&Rt.updateScrollYData().then((()=>{l||(Zt(),zn()),Rt.updateScrollYSpace()})),jn(),Rt.updateCellAreas()}),200)})(o,n),o&&Rt.closeFilter(),(p.isHover||i)&&Rt.clearHoverRow(),m&&m.reactData.visible&&m.close(),g&&g.reactData.visible&&g.close(),(O||T||I||k)&&$n("scroll-boundary",P,t),$n("scroll",P,t)},triggerScrollXEvent(){ye.value.immediate?En():(()=>{const{lxTimeout:e,lxRunTime:t,scrollXStore:n}=E,{visibleSize:o}=n,l=o>26?26:o>16?14:6;e&&clearTimeout(e),(!t||t+l<Date.now())&&(E.lxRunTime=Date.now(),En()),E.lxTimeout=setTimeout((()=>{E.lxTimeout=void 0,E.lxRunTime=void 0,En()}),l)})()},triggerScrollYEvent(){Ce.value.immediate?Fn():(()=>{const{lyTimeout:e,lyRunTime:t,scrollYStore:n}=E,{visibleSize:o}=n,l=o>30?32:o>20?18:8;e&&clearTimeout(e),(!t||t+l<Date.now())&&(E.lyRunTime=Date.now(),Fn()),E.lyTimeout=setTimeout((()=>{E.lyTimeout=void 0,E.lyRunTime=void 0,Fn()}),l)})()},triggerBodyScrollEvent(e,t){const{scrollYLoad:n,scrollXLoad:o}=S,{elemStore:l,intoRunScroll:r,lastScrollTop:a,lastScrollLeft:i,inWheelScroll:s,inVirtualScroll:c,inHeaderScroll:u,inBodyScroll:d,scrollRenderType:p,inFooterScroll:m}=E;if(s||c||u||m)return;const g=oe.value,f=ae.value,h=iE(l["left-body-scroll"]),v=iE(l["main-body-scroll"]),b=iE(l["right-body-scroll"]),x=iE(l["main-header-scroll"]),w=iE(l["main-footer-scroll"]),y=J.value;if(r)return;if(!v)return;if(!g)return;if(!f)return;if(d&&p!==t)return;let C=f.scrollTop,D=g.scrollLeft;h&&"left"===t?C=h.scrollTop:b&&"right"===t?C=b.scrollTop:(C=v.scrollTop,D=v.scrollLeft);const T=D!==i,O=C!==a;E.inBodyScroll=!0,E.scrollRenderType=t,O&&("left"===t?(FS(v,C),FS(b,C)):"right"===t?(FS(v,C),FS(h,C)):(FS(h,C),FS(b,C)),FS(f,C),FS(y,C),n&&Rt.triggerScrollYEvent(e)),T&&(VS(g,D),VS(x,D),VS(w,D),o&&Rt.triggerScrollXEvent(e)),Rt.handleScrollEvent(e,O,T,C,D,{type:"body",fixed:t})},triggerHeaderScrollEvent(e,t){const{scrollXLoad:n}=S,{elemStore:o,intoRunScroll:l,inWheelScroll:r,inVirtualScroll:a,inBodyScroll:i,inFooterScroll:s}=E;if(r||a||i||s)return;const c=ae.value,u=oe.value,d=iE(o["main-body-scroll"]),p=iE(o["main-header-scroll"]),m=iE(o["main-footer-scroll"]);if(l)return;if(!p)return;if(!u)return;if(!c)return;const g=c.scrollTop,f=p.scrollLeft;E.inHeaderScroll=!0,VS(u,f),VS(m,f),VS(d,f),n&&Rt.triggerScrollXEvent(e),Rt.handleScrollEvent(e,!1,!0,g,f,{type:"header",fixed:t})},triggerFooterScrollEvent(e,t){const{scrollXLoad:n}=S,{elemStore:o,intoRunScroll:l,inWheelScroll:r,inVirtualScroll:a,inHeaderScroll:i,inBodyScroll:s}=E;if(r||a||i||s)return;const c=ae.value,u=oe.value,d=iE(o["main-body-scroll"]),p=iE(o["main-header-scroll"]),m=iE(o["main-footer-scroll"]);if(l)return;if(!m)return;if(!u)return;if(!c)return;const g=c.scrollTop,f=m.scrollLeft;E.inFooterScroll=!0,VS(u,f),VS(p,f),VS(d,f),n&&Rt.triggerScrollXEvent(e),Rt.handleScrollEvent(e,!1,!0,g,f,{type:"footer",fixed:t})},triggerBodyWheelEvent(e){const{target:t,deltaY:n,deltaX:o,shiftKey:l}=e;if(t&&/^textarea$/i.test(t.tagName))return;const{highlightHoverRow:r}=cD,{scrollXLoad:a,scrollYLoad:i,expandColumn:s}=S,c=ot.value,u=lt.value;if(!(c||u||s))return;const{elemStore:d,lastScrollTop:m,lastScrollLeft:g}=E,f=Ve.value,h=oe.value,v=ae.value,b=iE(d["left-body-scroll"]),x=iE(d["main-header-scroll"]),w=iE(d["main-body-scroll"]),y=iE(d["main-footer-scroll"]),C=iE(d["right-body-scroll"]),D=J.value;if(!h)return;if(!v)return;if(!w)return;const T=(e=>{let t=1;const n=Date.now();return e+25>n?t=1.18:e+30>n?t=1.15:e+40>n?t=1.12:e+55>n?t=1.09:e+75>n?t=1.06:e+100>n&&(t=1.03),t})(S.lastScrollTime),O=l?0:Math.ceil(n*T),k=l?Math.ceil((l&&n||o)*T):0,R=O<0,I=w.scrollTop;if(R?I<=0:I>=w.scrollHeight-w.clientHeight)return;const M=I+O,P=w.scrollLeft+k,F=P!==g,V=M!==m;if((f.isHover||r)&&Rt.clearHoverRow(),F)if(e.preventDefault(),E.inWheelScroll=!0,p.firefox||p.safari){const t=P;VS(h,t),VS(w,t),VS(x,t),VS(y,t),a&&Rt.triggerScrollXEvent(e),Rt.handleScrollEvent(e,V,F,w.scrollTop,t,{type:"table",fixed:""})}else((e,t)=>{requestAnimationFrame((()=>{t(e)}))})(P,(t=>{E.inWheelScroll=!0;const n=t;VS(h,n),VS(w,n),VS(x,n),VS(y,n),a&&Rt.triggerScrollXEvent(e),Rt.handleScrollEvent(e,V,F,w.scrollTop,n,{type:"table",fixed:""})}));if(V)if(e.preventDefault(),E.inWheelScroll=!0,p.firefox||p.safari){const t=M;FS(v,t),FS(w,t),FS(b,t),FS(C,t),FS(D,t),i&&Rt.triggerScrollYEvent(e),Rt.handleScrollEvent(e,V,F,t,w.scrollLeft,{type:"table",fixed:""})}else((e,t)=>{const n=Math.abs(e),o=performance.now();let l=0;const r=a=>{let i=(a-o)/n;i>1&&(i=1);const s=Math.pow(i,2),c=Math.floor(e*s)-l;l+=c,t(c),i<1&&requestAnimationFrame(r)};requestAnimationFrame(r)})(M-I,(t=>{E.inWheelScroll=!0;const n=w.scrollTop+t;FS(v,n),FS(w,n),FS(b,n),FS(C,n),FS(D,n),i&&Rt.triggerScrollYEvent(e),Rt.handleScrollEvent(e,V,F,n,w.scrollLeft,{type:"table",fixed:""})}))},triggerVirtualScrollXEvent(e){const{scrollXLoad:t}=S,{elemStore:n,inWheelScroll:o,lastScrollTop:l,inHeaderScroll:r,inBodyScroll:a,inFooterScroll:i}=E;if(r||a||i)return;if(o)return;const s=iE(n["main-header-scroll"]),c=iE(n["main-body-scroll"]),u=iE(n["main-footer-scroll"]),d=ae.value,p=e.currentTarget,{scrollLeft:m}=p,g=d||c;let f=0;g&&(f=g.scrollTop);const h=f!==l;E.inVirtualScroll=!0,VS(c,m),VS(s,m),VS(u,m),t&&Rt.triggerScrollXEvent(e),Rt.handleScrollEvent(e,h,!0,f,m,{type:"table",fixed:""})},triggerVirtualScrollYEvent(e){const{scrollYLoad:t}=S,{elemStore:n,inWheelScroll:o,lastScrollLeft:l,inHeaderScroll:r,inBodyScroll:a,inFooterScroll:i}=E;if(r||a||i)return;if(o)return;const s=iE(n["left-body-scroll"]),c=iE(n["main-body-scroll"]),u=iE(n["right-body-scroll"]),d=J.value,p=oe.value,m=e.currentTarget,{scrollTop:g}=m,f=p||c;let h=0;f&&(h=f.scrollLeft);const v=h!==l;E.inVirtualScroll=!0,FS(c,g),FS(s,g),FS(u,g),FS(d,g),t&&Rt.triggerScrollYEvent(e),Rt.handleScrollEvent(e,!0,v,g,h,{type:"table",fixed:""})},scrollToTreeRow(t){const{treeConfig:n}=e,{isRowGroupStatus:o}=S,{tableFullData:l}=E,r=[];if(n||o){const e=Ae.value,n=gt.value,a=n.children||n.childrenField,i=sp.findTree(l,(e=>Rt.eqRow(e,t)),{children:o?e.mapChildrenField:a});if(i){const e=i.nodes;e.forEach(((t,n)=>{n<e.length-1&&!Rt.isTreeExpandByRow(t)&&r.push(Rt.setTreeExpand(t,!0))}))}}return Promise.all(r).then((()=>xE(Rt,t)))},updateScrollYStatus:Rn,updateScrollXSpace(){const{scrollXLoad:e,overflowX:n,scrollXWidth:o}=S,{visibleColumn:l,scrollXStore:r,elemStore:a,fullColumnIdData:i}=E,s=Ze.value,c=N.value;if(c?c.$el:null){const c=iE(a["main-body-scroll"]),u=iE(a["main-body-table"]),d=iE(a["main-header-table"]),p=iE(a["main-footer-table"]);let m=0;const g=l[r.startIndex];if(g){m=(i[g.id]||{}).oLeft}let f=0;c&&(f=c.clientWidth);let h=!1,v=o;o>HD&&(m=c&&u&&c.scrollLeft+f>=HD?HD-u.clientWidth:m/(o-f)*(HD-f),v=HD,h=!0),e&&n||(m=0),d&&(d.style.transform=d.getAttribute("xvm")?`translate(${m}px, 0px)`:""),u&&(u.style.transform=`translate(${m}px, ${S.scrollYTop||0}px)`),p&&(p.style.transform=p.getAttribute("xvm")?`translate(${m}px, 0px)`:"");["main"].forEach((t=>{["header","body","footer"].forEach((n=>{const o=iE(a[`${t}-${n}-xSpace`]);o&&(o.style.width=e?`${v}px`:"")}))})),S.scrollXLeft=m,S.scrollXWidth=v,S.isScrollXBig=h;const b=de.value;return b&&(b.style.width=`${v}px`),h&&s.area&&pS("vxe.error.notProp",["mouse-config.area"]),gn(),t().then((()=>{tn()}))}},updateScrollYSpace(){const{isAllOverflow:e,overflowY:n,scrollYLoad:o,expandColumn:l}=S,{scrollYStore:r,elemStore:a,isResizeCellHeight:i,afterFullData:s,fullAllDataRowIdData:c,rowExpandedMaps:u}=E,{startIndex:d}=r,p=Ze.value,m=mt.value,g=Ve.value,f=Me.value,h=ke.value,v=iE(a["main-body-scroll"]),b=iE(a["main-body-table"]),x=iE(a["left-body-table"]),w=iE(a["right-body-table"]);let y=0,C=0,D=!1;if(o){if(i||f.height||g.height||l||!e){const e=s[d];let t=WS(Rt,e),n=c[t]||{};y=n.oTop||0;const o=s[s.length-1];t=WS(Rt,o),n=c[t]||{},C=(n.oTop||0)+(n.resizeHeight||f.height||g.height||n.height||h),l&&u[t]&&(C+=n.expandHeight||m.height||0),C>jD&&(D=!0)}else C=s.length*h,C>jD&&(D=!0),y=Math.max(0,d*h)}else b&&(C=b.clientHeight);let T=0;v&&(T=v.clientHeight);let O=C,k=y;D&&(k=v&&b&&v.scrollTop+T>=jD?jD-b.clientHeight:y/(C-T)*(jD-T),O=jD),o&&n||(k=0),x&&(x.style.transform=`translate(0px, ${k}px)`),b&&(b.style.transform=`translate(${S.scrollXLeft||0}px, ${k}px)`),w&&(w.style.transform=`translate(0px, ${k}px)`),["main","left","right"].forEach((e=>{["header","body","footer"].forEach((t=>{const n=iE(a[`${e}-${t}-ySpace`]);n&&(n.style.height=O?`${O}px`:"")}))}));const R=pe.value;R&&(R.style.height=O?`${O}px`:"");const I=ee.value;return I&&(I.style.height=O?`${O}px`:""),S.scrollYTop=k,S.scrollYHeight=C,S.isScrollYBig=D,D&&p.area&&pS("vxe.error.notProp",["mouse-config.area"]),gn(),t().then((()=>{tn()}))},updateScrollXData(){const{isAllOverflow:e}=S;return Cn(),Rt.updateScrollXSpace(),t().then((()=>{Cn(),Rt.updateScrollXSpace(),e||Rt.updateScrollYSpace()}))},updateScrollYData:()=>(Rt.handleTableData(),Rt.updateScrollYSpace(),t().then((()=>{Rt.handleTableData(),Rt.updateScrollYSpace()}))),checkScrolling(){const{elemStore:e}=E,t=iE(e["main-body-scroll"]),n=q.value,o=U.value,l=oe.value||t;l&&(n&&(l.scrollLeft>0?TS(n,"scrolling--middle"):DS(n,"scrolling--middle")),o&&(l.clientWidth<l.scrollWidth-Math.ceil(l.scrollLeft)?TS(o,"scrolling--middle"):DS(o,"scrolling--middle")))},updateZindex(){e.zIndex?E.tZindex=e.zIndex:E.tZindex<RC()&&(E.tZindex=kC())},handleCheckedCheckboxRow:an,triggerHoverEvent(e,{row:t}){T.setHoverRow(t)},setHoverRow(e){const t=WS(Rt,e),n=O.value;T.clearHoverRow(),n&&sp.arrayEach(n.querySelectorAll(`.vxe-body--row[rowid="${t}"]`),(e=>TS(e,"row--hover"))),E.hoverRow=e},clearHoverRow(){const e=O.value;e&&sp.arrayEach(e.querySelectorAll(".vxe-body--row.row--hover"),(e=>DS(e,"row--hover"))),E.hoverRow=null},getCell:(e,t)=>D.getCellElement(e,t),findRowIndexOf:(e,t)=>t?sp.findIndexOf(e,(e=>Rt.eqRow(e,t))):-1,eqRow:(e,t)=>!(!e||!t)&&(e===t||WS(Rt,e)===WS(Rt,t))},"openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print".split(",").forEach((e=>{Rt[e]=function(){pS("vxe.error.reqModule",["Export"])}})),"clearValidate,fullValidate,validate".split(",").forEach((e=>{Rt[e]=function(){pS("vxe.error.reqModule",["Validator"])}})),Object.assign(Rt,D,T);const io=t=>{const{showHeader:n,showFooter:o}=e,{tableData:l,tableColumn:r,tableGroupColumn:a,columnStore:i,footerTableData:s}=S,c="left"===t,u=c?i.leftList:i.rightList;return y("div",{ref:c?q:U,class:`vxe-table--fixed-${t}-wrapper`},[n?y(oD,{ref:c?_:j,fixedType:t,tableData:l,tableColumn:r,tableGroupColumn:a,fixedColumn:u}):_D(Rt),y(JE,{ref:c?B:H,fixedType:t,tableData:l,tableColumn:r,fixedColumn:u}),o?y(iD,{ref:c?z:W,footerTableData:s,tableColumn:r,fixedColumn:u,fixedType:t}):_D(Rt)])},so=()=>{const t=ft.value,n={$table:Rt};if(l.empty)return l.empty(n);{const e=t.name?ID.get(t.name):null,o=e?e.renderTableEmpty||e.renderTableEmptyView||e.renderEmpty:null;if(o)return EE(o(t,n))}return MC(e.emptyText)||RD("vxe.table.emptyText")},co=()=>{const{dragConfig:t}=e,{dragRow:n,dragCol:o,dragTipText:l}=S,r=_e.value,a=(Le.value.slots||{}).tip||(t&&t.slots?t.slots.rowTip:null),i=(r.slots||{}).tip;return n&&a?ao(a,{row:n}):o&&i?ao(i,{column:o}):[y("span",l)]},uo=()=>{const{dragRow:e,dragCol:t}=S,n=Ve.value,o=Re.value,l=Le.value,r=_e.value;return n.drag||o.drag?y("div",{class:"vxe-table--drag-wrapper"},[y("div",{ref:Z,class:["vxe-table--drag-row-line",{"is--guides":l.showGuidesStatus}]}),y("div",{ref:Q,class:["vxe-table--drag-col-line",{"is--guides":r.showGuidesStatus}]}),e&&l.showDragTip||t&&r.showDragTip?y("div",{ref:X,class:"vxe-table--drag-sort-tip"},[y("div",{class:"vxe-table--drag-sort-tip-wrapper"},[y("div",{class:"vxe-table--drag-sort-tip-status"},[y("span",{class:["vxe-table--drag-sort-tip-normal-status",e?kD().TABLE_DRAG_STATUS_ROW:kD().TABLE_DRAG_STATUS_COLUMN]}),y("span",{class:["vxe-table--drag-sort-tip-sub-status",kD().TABLE_DRAG_STATUS_SUB_ROW]}),y("span",{class:["vxe-table--drag-sort-tip-disabled-status",kD().TABLE_DRAG_DISABLED]})]),y("div",{class:"vxe-table--drag-sort-tip-content"},co())])]):_D(Rt)]):_D(Rt)},po=()=>{const{treeConfig:t}=e,{expandColumn:n,isRowGroupStatus:o}=S,l=xt.value,r=mt.value,{mode:a}=r;if("fixed"!==a)return _D(Rt);const i=[y("div",{key:"repY",ref:ee})];if(n){const{handleGetRowId:e}=US(Rt);l.forEach((l=>{const r=mt.value,{height:a,padding:s,indent:c}=r,{fullAllDataRowIdData:u,fullColumnIdData:d}=E,p=gt.value,{transform:m,seqMode:g}=p,f={},h=e(l),v=u[h],b=d[n.id]||{};let x=0,w=-1,C=-1,S=-1,D=-1;v&&(x=v.level,w=o||t&&m&&"increasing"===g?v._index+1:v.seq,S=v.index,D=v.$index,C=v._index),a&&(f.height=`${a}px`),(o||t)&&(f.paddingLeft=x*(sp.isNumber(c)?c:p.indent)+30+"px");let T=-1,O=-1,k=-1;b&&(T=b.index,O=b.$index,k=b._index);const R={$grid:me,$table:Rt,seq:w,column:n,columnIndex:T,$columnIndex:O,_columnIndex:k,fixed:"",type:"body",level:x,rowid:h,row:l,rowIndex:S,$rowIndex:D,_rowIndex:C,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};i.push(y("div",{key:h,class:["vxe-body--row-expanded-cell",{"is--padding":s,"is--ellipsis":a}],rowid:h,style:f},n.renderData(R)))}))}return y("div",{ref:J,class:"vxe-table--row-expanded-wrapper"},i)},mo=()=>y("div",{key:"vsx",ref:te,class:"vxe-table--scroll-x-virtual"},[y("div",{ref:le,class:"vxe-table--scroll-x-left-corner"}),y("div",{ref:se,class:"vxe-table--scroll-x-wrapper"},[y("div",{ref:oe,class:"vxe-table--scroll-x-handle",onScroll:Rt.triggerVirtualScrollXEvent},[y("div",{ref:de,class:"vxe-table--scroll-x-space"})])]),y("div",{ref:re,class:"vxe-table--scroll-x-right-corner"})]),go=()=>y("div",{ref:ne,class:"vxe-table--scroll-y-virtual"},[y("div",{ref:ie,class:"vxe-table--scroll-y-top-corner"}),y("div",{ref:ce,class:"vxe-table--scroll-y-wrapper"},[y("div",{ref:ae,class:"vxe-table--scroll-y-handle",onScroll:Rt.triggerVirtualScrollYEvent},[y("div",{ref:pe,class:"vxe-table--scroll-y-space"})])]),y("div",{ref:ue,class:"vxe-table--scroll-y-bottom-corner"})]),fo=()=>{const{showHeader:t,showFooter:n}=e,{overflowX:o,tableData:l,tableColumn:r,tableGroupColumn:a,footerTableData:i,columnStore:s}=S,{leftList:c,rightList:u}=s;return y("div",{ref:A,class:"vxe-table--viewport-wrapper"},[y("div",{class:"vxe-table--main-wrapper"},[t?y(oD,{ref:$,tableData:l,tableColumn:r,tableGroupColumn:a}):_D(Rt),y(JE,{ref:N,tableData:l,tableColumn:r}),n?y(iD,{ref:L,footerTableData:i,tableColumn:r}):_D(Rt)]),y("div",{class:"vxe-table--fixed-wrapper"},[c&&c.length&&o?io("left"):_D(Rt),u&&u.length&&o?io("right"):_D(Rt)]),po()])},ho=()=>{const e=De.value;return y("div",{class:"vxe-table--layout-wrapper"},e?[go(),fo()]:[fo(),go()])},vo=r(0);i((()=>e.data?e.data.length:-1),(()=>{vo.value++})),i((()=>e.data),(()=>{vo.value++})),i(vo,(()=>{const{initStatus:t}=E,n=e.data||[];n&&n.length>=5e4&&dS("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),xn(n,!1).then((()=>{const{scrollXLoad:e,scrollYLoad:n,expandColumn:o}=S,l=mt.value;return E.inited=!0,E.initStatus=!0,t||wn(),(e||n)&&o&&"fixed"!==l.mode&&dS("vxe.error.scrollErrProp",["column.type=expand"]),D.recalculate()}))}));const bo=r(0);i((()=>S.staticColumns.length),(()=>{bo.value++})),i((()=>S.staticColumns),(()=>{bo.value++})),i(bo,(()=>{On(sp.clone(S.staticColumns))}));const xo=r(0);i((()=>S.tableColumn.length),(()=>{xo.value++})),i((()=>S.tableColumn),(()=>{xo.value++})),i(xo,(()=>{T.analyColumnWidth()})),i((()=>S.upDataFlag),(()=>{t((()=>{D.updateData()}))})),i((()=>S.reColumnFlag),(()=>{t((()=>{D.refreshColumn()}))}));const wo=r(0);i(C,(()=>{wo.value++})),i((()=>e.showHeader),(()=>{wo.value++})),i((()=>e.showFooter),(()=>{wo.value++})),i((()=>S.overflowX),(()=>{wo.value++})),i((()=>S.overflowY),(()=>{wo.value++})),i(wo,(()=>{t((()=>{D.recalculate(!0).then((()=>D.refreshScroll()))}))}));const yo=r(0);i((()=>e.height),(()=>{yo.value++})),i((()=>e.maxHeight),(()=>{yo.value++})),i(Ee,(()=>{yo.value++})),i(De,(()=>{yo.value++})),i((()=>$m.getLanguage()),(()=>{yo.value++})),i(yo,(()=>{t((()=>D.recalculate(!0)))}));const Co=r(0);i((()=>e.footerData?e.footerData.length:-1),(()=>{Co.value++})),i((()=>e.footerData),(()=>{Co.value++})),i(Co,(()=>{D.updateFooter()})),i((()=>e.syncResize),(e=>{e&&(Nn(),t((()=>{Nn(),setTimeout((()=>Nn()))})))}));const So=r(0);i((()=>e.mergeCells?e.mergeCells.length:-1),(()=>{So.value++})),i((()=>e.mergeCells),(()=>{So.value++})),i(So,(()=>{D.clearMergeCells(),t((()=>{e.mergeCells&&D.setMergeCells(e.mergeCells)}))}));const Eo=r(0);let Do;return i((()=>e.mergeFooterItems?e.mergeFooterItems.length:-1),(()=>{Eo.value++})),i((()=>e.mergeFooterItems),(()=>{Eo.value++})),i(Eo,(()=>{D.clearMergeFooterItems(),t((()=>{e.mergeFooterItems&&D.setMergeFooterItems(e.mergeFooterItems)}))})),i(Tt,(e=>{hn(e)})),i(he,(()=>{const{inited:e,tableFullData:n}=E;e&&(Mt(),S.tableData=[],t((()=>{Rt.reloadData(n)})))})),w&&i((()=>w?w.reactData.resizeFlag:null),(()=>{Qn()})),Mt(),AD.forEach((e=>{const{setupTable:t}=e;if(t){const e=t(Rt);e&&sp.isObject(e)&&Object.assign(Rt,e)}})),T.preventEvent(null,"created",{$table:Rt}),u((()=>{D.recalculate().then((()=>D.refreshScroll())),T.preventEvent(null,"activated",{$table:Rt})})),c((()=>{E.isActivated=!1,T.preventEvent(null,"deactivated",{$table:Rt})})),f((()=>{const n=Re.value,o=Ve.value,l=bt.value,r=Ae.value,a=Ce.value,{groupFields:i}=r;if((n.drag||o.drag||l.allowSort)&&bS(),hn(i),t((()=>{const{data:t,exportConfig:o,importConfig:l,treeConfig:r,showOverflow:a,highlightCurrentRow:i,highlightCurrentColumn:s}=e,{scrollXStore:c,scrollYStore:u}=E,d=Ke.value,p=gt.value,m=He.value,g=We.value,f=mt.value,h=Ve.value,v=bt.value,b=Ze.value,x=ut.value,w=dt.value,y=Ne.value,C=Ie.value,S=Je.value,k=Ae.value;if(e.rowId&&dS("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&dS("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&dS("vxe.error.delProp",["column-id","column-config.useKey"]),e.rowId||h.keyField||!(g.reserve||g.checkRowKeys||m.reserve||m.checkRowKey||f.expandRowKeys||p.expandRowKeys)||dS("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(d.showStatus||d.showUpdateStatus||d.showInsertStatus)&&!e.keepSource&&dS("vxe.error.reqProp",["keep-source"]),r&&(p.showLine||p.line)&&!a&&dS("vxe.error.reqProp",["show-overflow"]),r&&!p.transform&&e.stripe&&dS("vxe.error.noTree",["stripe"]),!e.showFooter||e.footerMethod||e.footerData||dS("vxe.error.reqProp",["footer-data | footer-method"]),h.height&&dS("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&dS("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&dS("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&dS("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&dS("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),e.resizable&&dS("vxe.error.delProp",["resizable","column-config.resizable"]),l&&w.types&&!w.importMethod&&!sp.includeArrays(sp.keys(w._typeMaps),w.types)&&dS("vxe.error.errProp",[`export-config.types=${w.types.join(",")}`,w.types.filter((e=>sp.includes(sp.keys(w._typeMaps),e))).join(",")||sp.keys(w._typeMaps).join(",")]),o&&x.types&&!x.exportMethod&&!sp.includeArrays(sp.keys(x._typeMaps),x.types)&&dS("vxe.error.errProp",[`export-config.types=${x.types.join(",")}`,x.types.filter((e=>sp.includes(sp.keys(x._typeMaps),e))).join(",")||sp.keys(x._typeMaps).join(",")]),e.id||(e.customConfig?DC(v):v.enabled)&&v.storage&&pS("vxe.error.reqProp",["id"]),e.treeConfig&&g.range&&pS("vxe.error.noTree",["checkbox-config.range"]),h.height&&!e.showOverflow&&dS("vxe.error.notProp",["table.show-overflow"]),Rt.triggerCellAreaMousedownEvent||(e.areaConfig&&dS("vxe.error.notProp",["area-config"]),e.clipConfig&&dS("vxe.error.notProp",["clip-config"]),e.fnrConfig&&dS("vxe.error.notProp",["fnr-config"]),!b.area)){if(r&&h.drag&&!p.transform&&pS("vxe.error.notSupportProp",["column-config.drag","tree-config.transform=false","tree-config.transform=true"]),e.dragConfig&&dS("vxe.error.delProp",["drag-config","row-drag-config"]),e.rowGroupConfig&&dS("vxe.error.delProp",["row-group-config","aggregate-config"]),k.countFields&&dS("vxe.error.delProp",["row-group-config.countFields","column.agg-func"]),k.countMethod&&dS("vxe.error.delProp",["row-group-config.countMethod","aggregate-config.aggregateMethod"]),e.treeConfig&&p.children&&dS("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&p.line&&dS("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),b.area&&b.selected&&dS("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),b.area&&e.treeConfig&&!p.transform&&pS("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&d.activeMethod&&dS("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&g.isShiftKey&&pS("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),g.halfField&&dS("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),h.currentMethod&&dS("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),n.currentMethod&&dS("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),(h.isCurrent||i)&&e.keyboardConfig&&S.isArrow&&!sp.isBoolean(y.isFollowSelected)&&dS("vxe.error.notConflictProp",["row-config.isCurrent","current-row-config.isFollowSelected"]),(n.isCurrent||s)&&e.keyboardConfig&&S.isArrow&&!sp.isBoolean(C.isFollowSelected)&&dS("vxe.error.notConflictProp",["column-config.isCurrent","current-column-config.isFollowSelected"]),e.editConfig&&!Rt.insert&&pS("vxe.error.reqModule",["Edit"]),e.editRules&&!Rt.validate&&pS("vxe.error.reqModule",["Validator"]),(g.range||e.keyboardConfig||e.mouseConfig)&&!Rt.handleCellMousedownEvent&&pS("vxe.error.reqModule",["Keyboard"]),(e.printConfig||e.importConfig||e.exportConfig)&&!Rt.exportData&&pS("vxe.error.reqModule",["Export"]),Object.assign(u,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(c,{startIndex:0,endIndex:0,visibleSize:0}),xn(t||[],!0).then((()=>{t&&t.length&&(E.inited=!0,E.initStatus=!0,wn()),yn(),tn()})),e.autoResize){const t=O.value,n=T.getParentElem();Do=FD.create((()=>{e.autoResize&&D.recalculate(!0)})),t&&Do.observe(t),n&&Do.observe(n)}}else pS("vxe.error.notProp",["mouse-config.area"])})),"scroll"!==a.mode){const e=A.value;e&&e.addEventListener("wheel",Rt.triggerBodyWheelEvent,{passive:!1})}$D.on(Rt,"paste",Yn),$D.on(Rt,"copy",Xn),$D.on(Rt,"cut",Zn),$D.on(Rt,"mousedown",Wn),$D.on(Rt,"blur",qn),$D.on(Rt,"mousewheel",Un),$D.on(Rt,"keydown",Kn),$D.on(Rt,"resize",Qn),$D.on(Rt,"contextmenu",Rt.handleGlobalContextmenuEvent),T.preventEvent(null,"mounted",{$table:Rt})})),s((()=>{const e=A.value;e&&e.removeEventListener("wheel",Rt.triggerBodyWheelEvent),E.cvCacheMaps={},E.prevDragRow=null,E.prevDragCol=null,Do&&Do.disconnect(),D.closeFilter(),Rt.closeMenu&&Rt.closeMenu(),T.preventEvent(null,"beforeUnmount",{$table:Rt})})),h((()=>{$D.off(Rt,"paste"),$D.off(Rt,"copy"),$D.off(Rt,"cut"),$D.off(Rt,"mousedown"),$D.off(Rt,"blur"),$D.off(Rt,"mousewheel"),$D.off(Rt,"keydown"),$D.off(Rt,"resize"),$D.off(Rt,"contextmenu"),T.preventEvent(null,"unmounted",{$table:Rt})})),t((()=>{e.loading&&(v||l.loading||pS("vxe.error.reqComp",["vxe-loading"])),(!0===e.showOverflow||"tooltip"===e.showOverflow||!0===e.showHeaderOverflow||"tooltip"===e.showHeaderOverflow||!0===e.showFooterOverflow||"tooltip"===e.showFooterOverflow||e.tooltipConfig||e.editRules)&&(x||pS("vxe.error.reqComp",["vxe-tooltip"]))})),b("$xeColgroup",null),b("$xeTable",Rt),Rt.renderVN=()=>{const{loading:t,stripe:n,showHeader:o,height:r,treeConfig:a,mouseConfig:i,showFooter:s,highlightCell:c,highlightHoverRow:u,highlightHoverColumn:p,editConfig:m,editRules:g}=e,{isGroup:f,overflowX:h,overflowY:b,scrollXLoad:w,scrollYLoad:E,tableData:D,initStore:T,isRowGroupStatus:A,columnStore:$,filterStore:N,customStore:L}=S,{leftList:_,rightList:B}=$,z=l.loading,j=Ue.value,H=Ge.value,W=ve.value,q=We.value,U=gt.value,X=Ve.value,Z=Re.value,Q=C.value,J=St.value,ee=Ze.value,te=Qe.value,ne=ht.value,oe=st.value,le=S.isColLoading||S.isRowLoading||t,re=ze.value,ae=i&&ee.area,ie=_e.value,se=Ee.value,ce=De.value;return y("div",{ref:O,class:["vxe-table","vxe-table--render-default",`tid_${d}`,`border--${J}`,"sx-pos--"+(se?"top":"bottom"),"sy-pos--"+(ce?"left":"right"),{[`size--${Q}`]:Q,[`valid-msg--${W.msgMode}`]:!!g,"vxe-editable":!!m,"old-cell-valid":g&&"obsolete"===OD().cellVaildMode,"cell--highlight":c,"cell--selected":i&&ee.selected,"cell--area":ae,"header-cell--area":ae&&te.selectCellByHeader,"body-cell--area":ae&&te.selectCellByBody,"row--highlight":X.isHover||u,"column--highlight":Z.isHover||p,"checkbox--range":q.range,"col--drag-cell":Z.drag&&"cell"===ie.trigger,"is--header":o,"is--footer":s,"is--group":f,"is-row-group":A,"is--tree-line":a&&(U.showLine||U.line),"is--fixed-left":_.length,"is--fixed-right":B.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!a&&n,"is--loading":le,"is--empty":!le&&!D.length,"is--scroll-y":b,"is--scroll-x":h,"is--virtual-x":w,"is--virtual-y":E}],spellcheck:!1,onKeydown:Gn},[y("div",{class:"vxe-table-slots"},l.default?l.default({}):[]),y("div",{ref:k,class:"vxe-table-vars"},[y("div",{class:"vxe-table-var-default"}),y("div",{class:"vxe-table-var-medium"}),y("div",{class:"vxe-table-var-small"}),y("div",{class:"vxe-table-var-mini"})]),y("div",{key:"tw",class:"vxe-table--render-wrapper"},se?[mo(),ho()]:[ho(),mo()]),y("div",{key:"tn",ref:Y,class:"vxe-table--empty-placeholder"},[y("div",{class:"vxe-table--empty-content"},so())]),y("div",{key:"tl",class:"vxe-table--border-line"}),y("div",{key:"tcl",ref:G,class:"vxe-table--resizable-col-bar"},re.showDragTip?[y("div",{class:"vxe-table--resizable-number-tip"})]:[]),y("div",{key:"trl",ref:K,class:"vxe-table--resizable-row-bar"},re.showDragTip?[y("div",{class:"vxe-table--resizable-number-tip"})]:[]),v?y(v,{key:"lg",class:"vxe-table--loading",modelValue:le,icon:ne.icon,text:ne.text},z?{default:()=>ao(z,{$table:Rt,$grid:me,loading:le})}:{}):z?y("div",{class:["vxe-loading--custom-wrapper",{"is--visible":le}]},ao(z,{$table:Rt,$grid:me,loading:le})):_D(Rt),T.custom?y(gD,{key:"cs",ref:V,customStore:L}):_D(Rt),T.filter?y(bD,{key:"tf",ref:F,filterStore:N}):_D(Rt),T.import&&e.importConfig?y(yD,{key:"it",defaultOptions:S.importParams,storeData:S.importStore}):_D(Rt),T.export&&(e.exportConfig||e.printConfig)?y(ED,{key:"et",defaultOptions:S.exportParams,storeData:S.exportStore}):_D(Rt),oe?y(TD,{key:"tm",ref:P}):_D(Rt),uo(),x?y("div",{},[y(x,{key:"ctp",ref:I,isArrow:!1,enterable:!1}),y(x,{key:"btp",ref:R,theme:j.theme,enterable:j.enterable,enterDelay:j.enterDelay,leaveDelay:j.leaveDelay,useHTML:j.useHTML}),e.editRules&&W.showMessage&&("default"===W.message?!r:"tooltip"===W.message)?y(x,{key:"vtp",ref:M,class:[{"old-cell-valid":g&&"obsolete"===OD().cellVaildMode},"vxe-table--valid-error"],theme:H.theme,enterable:H.enterable,enterDelay:H.enterDelay,leaveDelay:H.leaveDelay}):_D(Rt)]):_D(Rt)])},Rt},render(){return this.renderVN()}}),{getConfig:qD,getIcon:UD,getI18n:GD,renderer:KD,commands:YD,createEvent:XD,useFns:ZD}=$m,QD=p({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>qD().toolbar.buttons},tools:{type:Array,default:()=>qD().toolbar.tools},perfect:{type:Boolean,default:()=>qD().toolbar.perfect},size:{type:String,default:()=>qD().toolbar.size||qD().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,o){const{slots:l,emit:a}=o,i=sp.uniqueId(),s=$m.getComponent("VxeButton"),{computeSize:c}=ZD.useSize(e),u=m({isRefresh:!1,connectFlag:0,columns:[]}),d={connectTable:null},p=r(),f={refElem:p},h={xID:i,props:e,context:o,reactData:u,internalData:d,getRefMaps:()=>f};let v={};const b=n("$xeGrid",null),w=g((()=>Object.assign({},sp.clone(qD().toolbar.refresh,!0),e.refresh))),C=g((()=>Object.assign({},sp.clone(qD().toolbar.import,!0),e.import))),S=g((()=>Object.assign({},sp.clone(qD().toolbar.export,!0),e.export))),E=g((()=>Object.assign({},sp.clone(qD().toolbar.print,!0),e.print))),D=g((()=>Object.assign({},sp.clone(qD().toolbar.zoom,!0),e.zoom))),T=g((()=>Object.assign({},sp.clone(qD().toolbar.custom,!0),e.custom))),O=g((()=>{const{connectTable:e}=d,t=e;if((u.connectFlag||t)&&t){const{computeCustomOpts:e}=t.getComputeMaps();return e.value}return{trigger:""}})),k=g((()=>O.value.trigger)),R=()=>{const{connectTable:e}=d;if(e)return!0;pS("vxe.error.barUnableLink")},I=({$event:e})=>{const{connectTable:t}=d,n=t;n&&n.triggerCustomEvent&&n.triggerCustomEvent(e)},M=({$event:e})=>{const{connectTable:t}=d;t&&t.customOpenEvent(e)},P=({$event:e})=>{const{connectTable:t}=d,n=t;if(n){const{customStore:t}=n.reactData;t.activeBtn=!1,setTimeout((()=>{t.activeBtn||t.activeWrapper||n.customCloseEvent(e)}),350)}},F=({$event:e})=>{const{isRefresh:t}=u,n=w.value;if(!t){const t=n.queryMethod||n.query;if(t){u.isRefresh=!0;try{Promise.resolve(t({})).catch((e=>e)).then((()=>{u.isRefresh=!1}))}catch(o){u.isRefresh=!1}}else b&&(u.isRefresh=!0,b.triggerToolbarCommitEvent({code:n.code||"reload"},e).catch((e=>e)).then((()=>{u.isRefresh=!1})))}},V=({$event:e})=>{b&&b.triggerZoomEvent(e)},A=(e,t)=>{const{connectTable:n}=d,o=n,{code:l}=t;if(l)if(b)b.triggerToolbarBtnEvent(t,e);else{const n=YD.get(l),r={code:l,button:t,$table:o,$grid:b,$event:e};if(n){const e=n.tableCommandMethod||n.commandMethod;e?e(r):pS("vxe.error.notCommands",[l])}h.dispatchEvent("button-click",r,e)}},$=(e,t)=>{const{connectTable:n}=d,o=n,{code:l}=t;if(l)if(b)b.triggerToolbarTolEvent(t,e);else{const n=YD.get(l),r={code:l,button:null,tool:t,$table:o,$grid:b,$event:e};if(n){const e=n.tableCommandMethod||n.commandMethod;e?e(r):pS("vxe.error.notCommands",[l])}h.dispatchEvent("tool-click",r,e)}},N=()=>{if(R()){const{connectTable:e}=d;e&&e.openImport()}},L=()=>{if(R()){const{connectTable:e}=d;e&&e.openExport()}},_=()=>{if(R()){const{connectTable:e}=d;e&&e.openPrint()}};v={dispatchEvent:(e,t,n)=>{a(e,XD(n,{$toolbar:h},t))},syncUpdate(e){d.connectTable=e.$table,u.columns=e.collectColumn,u.connectFlag++}},Object.assign(h,v);const B=(e,t)=>{const{dropdowns:n}=e;return n?n.map(((e,n)=>!1===e.visible?x():s?y(s,{key:n,disabled:e.disabled,loading:e.loading,type:e.type,mode:e.mode,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,title:e.title,routerLink:e.routerLink,permissionCode:e.permissionCode,prefixTooltip:e.prefixTooltip,suffixTooltip:e.suffixTooltip,onClick:({$event:n})=>t?A(n,e):$(n,e)}):x())):[]},z=()=>{const{buttons:t}=e,{connectTable:n}=d,o=n,r=l.buttonPrefix||l["button-prefix"],a=l.buttonSuffix||l["button-suffix"],i=[];return r&&i.push(...EE(r({buttons:t||[],$grid:b,$table:o}))),t&&t.forEach(((e,t)=>{const{dropdowns:n,buttonRender:l}=e;if(!1!==e.visible){const r=l?KD.get(l.name):null;if(l&&r&&r.renderToolbarButton){const n=r.toolbarButtonClassName,a={$grid:b,$table:o,button:e};i.push(y("span",{key:`br${e.code||t}`,class:["vxe-button--item",n?sp.isFunction(n)?n(a):n:""]},EE(r.renderToolbarButton(l,a))))}else s&&i.push(y(s,{key:`bd${e.code||t}`,disabled:e.disabled,loading:e.loading,type:e.type,mode:e.mode,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,title:e.title,routerLink:e.routerLink,permissionCode:e.permissionCode,prefixTooltip:e.prefixTooltip,suffixTooltip:e.suffixTooltip,destroyOnClose:e.destroyOnClose,placement:e.placement,transfer:e.transfer,onClick:({$event:t})=>A(t,e)},n&&n.length?{dropdowns:()=>B(e,!0)}:{}))}})),a&&i.push(...EE(a({buttons:t||[],$grid:b,$table:o}))),i},j=()=>{const{tools:t}=e,{connectTable:n}=d,o=n,r=l.toolPrefix||l["tool-prefix"],a=l.toolSuffix||l["tool-suffix"],i=[];return r&&i.push(...EE(r({tools:t||[],$grid:b,$table:o}))),t&&t.forEach(((e,t)=>{const{dropdowns:n,toolRender:l}=e;if(!1!==e.visible){const r=l?l.name:null,a=l?KD.get(r):null;if(l&&a&&a.renderToolbarTool){const t=a.toolbarToolClassName,n={$grid:b,$table:o,tool:e};i.push(y("span",{key:r,class:["vxe-tool--item",t?sp.isFunction(t)?t(n):t:""]},EE(a.renderToolbarTool(l,n))))}else s&&i.push(y(s,{key:t,disabled:e.disabled,loading:e.loading,type:e.type,mode:e.mode,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,title:e.title,routerLink:e.routerLink,permissionCode:e.permissionCode,prefixTooltip:e.prefixTooltip,suffixTooltip:e.suffixTooltip,destroyOnClose:e.destroyOnClose,placement:e.placement,transfer:e.transfer,onClick:({$event:t})=>$(t,e)},n&&n.length?{dropdowns:()=>B(e,!1)}:{}))}})),a&&i.push(...EE(a({tools:t||[],$grid:b,$table:o}))),i},H=()=>{const e=C.value;return s?y(s,{key:"import",circle:!0,icon:e.icon||UD().TOOLBAR_TOOLS_IMPORT,title:GD("vxe.toolbar.import"),onClick:N}):x()},W=()=>{const e=S.value;return s?y(s,{key:"export",circle:!0,icon:e.icon||UD().TOOLBAR_TOOLS_EXPORT,title:GD("vxe.toolbar.export"),onClick:L}):x()},q=()=>{const e=E.value;return s?y(s,{key:"print",circle:!0,icon:e.icon||UD().TOOLBAR_TOOLS_PRINT,title:GD("vxe.toolbar.print"),onClick:_}):x()},U=()=>{const e=w.value;return s?y(s,{key:"refresh",circle:!0,icon:u.isRefresh?e.iconLoading||UD().TOOLBAR_TOOLS_REFRESH_LOADING:e.icon||UD().TOOLBAR_TOOLS_REFRESH,title:GD("vxe.toolbar.refresh"),onClick:F}):x()},G=()=>{const e=D.value;return b&&s?y(s,{key:"zoom",circle:!0,icon:b.isMaximized()?e.iconOut||UD().TOOLBAR_TOOLS_MINIMIZE:e.iconIn||UD().TOOLBAR_TOOLS_FULLSCREEN,title:GD("vxe.toolbar.zoom"+(b.isMaximized()?"Out":"In")),onClick:V}):x()},K=()=>{const e=T.value,t=k.value,n={};return"manual"===t||("hover"===t?(n.onMouseenter=M,n.onMouseleave=P):n.onClick=I),s?y(s,Object.assign({key:"custom",circle:!0,icon:e.icon||UD().TOOLBAR_TOOLS_CUSTOM,title:GD("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},n)):x()};return h.renderVN=()=>{const{perfect:t,loading:n,refresh:o,zoom:r,custom:a,className:i}=e,{connectTable:s}=d,u=c.value,m=l.tools,g=l.buttons,f=s;return y("div",{ref:p,class:["vxe-toolbar",i?sp.isFunction(i)?i({$toolbar:h}):i:"",{[`size--${u}`]:u,"is--perfect":t,"is--loading":n}]},[y("div",{class:"vxe-buttons--wrapper"},g?g({$grid:b,$table:f}):z()),y("div",{class:"vxe-tools--wrapper"},m?m({$grid:b,$table:f}):j()),y("div",{class:"vxe-tools--operate"},[e.import?H():x(),e.export?W():x(),e.print?q():x(),o?U():x(),r&&b?G():x(),a?K():x()])])},t((()=>{const{refresh:t}=e,n=w.value,o=n.queryMethod||n.query;!t||b||o||dS("vxe.error.notFunc",["queryMethod"]);const l=T.value;l.isFooter&&dS("vxe.error.delProp",["toolbar.custom.isFooter","table.custom-config.showFooter"]),l.showFooter&&dS("vxe.error.delProp",["toolbar.custom.showFooter","table.custom-config.showFooter"]),l.immediate&&dS("vxe.error.delProp",["toolbar.custom.immediate","table.custom-config.immediate"]),l.trigger&&dS("vxe.error.delProp",["toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(s||pS("vxe.error.reqComp",["vxe-button"]))})),h},render(){return this.renderVN()}}),{getConfig:JD,getI18n:eT,commands:tT,hooks:nT,useFns:oT,createEvent:lT,globalEvents:rT,GLOBAL_EVENT_KEYS:aT,renderEmptyElement:iT}=$m,sT=Object.keys(cD),cT=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeRowChildren","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","sort","setSort","clearSort","clearSortByEvent","isSort","getSortColumns","closeFilter","isFilter","clearFilterByEvent","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","setRowGroupExpand","setAllRowGroupExpand","clearRowGroupExpand","isRowGroupExpandByRow","isRowGroupRecord","isAggregateRecord","isAggregateExpandByRow","setRowGroups","clearRowGroups","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect"],uT=[...uD,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],dT=p({name:"VxeGrid",props:Object.assign(Object.assign({},cD),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>JD().grid.size||JD().size}}),emits:uT,setup(e,n){var o;const{slots:l,emit:a}=n,s=sp.uniqueId(),c=$m.getComponent("VxeForm"),u=$m.getComponent("VxePager"),d=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:p}=oT.useSize(e),v=m({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:(null===(o=JD().pager)||void 0===o?void 0:o.pageSize)||10,currentPage:1}}),x=r(),w=r(),C=r(),S=r(),E=r(),D=r(),T=r(),O=r(),k=r(),R=r(),I=e=>{const t={};return e.forEach((e=>{t[e]=(...t)=>{const n=w.value;if(n&&n[e])return n[e](...t)}})),t},M=I(cT);cT.forEach((e=>{M[e]=(...t)=>{const n=w.value;if(n&&n[e])return n&&n[e](...t)}}));const P=g((()=>sp.merge({},sp.clone(JD().grid.proxyConfig,!0),e.proxyConfig))),F=g((()=>{const e=P.value;return sp.isBoolean(e.message)?e.message:e.showResponseMsg})),V=g((()=>P.value.showActiveMsg)),A=g((()=>Object.assign({},JD().grid.pagerConfig,e.pagerConfig))),$=g((()=>Object.assign({},JD().grid.formConfig,e.formConfig))),N=g((()=>Object.assign({},JD().grid.toolbarConfig,e.toolbarConfig))),L=g((()=>Object.assign({},JD().grid.zoomConfig,e.zoomConfig))),_=g((()=>{const{height:t,maxHeight:n}=e,{isZMax:o,tZindex:l}=v,r={};return o?r.zIndex=l:(t&&(r.height="auto"===t||"100%"===t?"100%":kS(t)),n&&(r.maxHeight="auto"===n||"100%"===n?"100%":kS(n))),r})),B=g((()=>{const t={},n=e;return sT.forEach((e=>{t[e]=n[e]})),t})),z=g((()=>{const{seqConfig:t,pagerConfig:n,loading:o,editConfig:l,proxyConfig:r}=e,{isZMax:a,tableLoading:i,tablePage:s}=v,c=B.value,u=P.value,d=A.value,p=Object.assign({},c);return a&&(c.maxHeight?p.maxHeight="100%":p.height="100%"),r&&DC(u)&&(p.loading=o||i,n&&u.seq&&DC(d)&&(p.seqConfig=Object.assign({},t,{startIndex:(s.currentPage-1)*s.pageSize}))),l&&(p.editConfig=Object.assign({},l)),p})),j=g((()=>{const{layouts:t}=e;let n=[];n=t&&t.length?t:JD().grid.layouts||d;let o=[],l=[],r=[];return n.length&&(sp.isArray(n[0])?(o=n[0],l=n[1]||[],r=n[2]||[]):l=n),{headKeys:o,bodyKeys:l,footKeys:r}})),H=g((()=>A.value.currentPage)),W=g((()=>A.value.pageSize)),q=g((()=>A.value.total)),U={refElem:x,refTable:w,refForm:C,refToolbar:S,refPager:E},G={computeProxyOpts:P,computePagerOpts:A,computeFormOpts:$,computeToolbarOpts:N,computeZoomOpts:L},K={xID:s,props:e,context:n,reactData:v,getRefMaps:()=>U,getComputeMaps:()=>G},Y=()=>{const n=N.value;e.toolbarConfig&&DC(n)&&t((()=>{const e=w.value,t=S.value;e&&t&&e.connect(t)}))},X=()=>{const{proxyConfig:t}=e,{formData:n}=v,o=P.value,l=$.value;return t&&DC(o)&&o.form?n:l.data},Z=t=>{const{tablePage:n}=v,{pagerConfig:o}=e,l=A.value;if(o&&DC(l))if(t)l[t]&&(n[t]=sp.toNumber(l[t]));else{const{currentPage:e,pageSize:t,total:o}=l;e&&(n.currentPage=e),t&&(n.pageSize=t),o&&(n.pageSize=o)}},Q=(e,t)=>{const n=P.value,o=(n.response||n.props||{}).message;let l;return e&&o&&(l=sp.isFunction(o)?o({data:e,$grid:K}):sp.get(e,o)),l||eT(t)},J=(e,t,n)=>{const o=V.value,l=M.getCheckboxRecords();if(o)if(l.length){if($m.modal)return $m.modal.confirm({id:`cfm_${e}`,content:eT(t),escClosable:!0}).then((e=>{if("confirm"===e)return n()}))}else $m.modal&&$m.modal.message({id:`msg_${e}`,content:eT("vxe.grid.selectOneRecord"),status:"warning"});else l.length&&n();return Promise.resolve()},ee=t=>{const{proxyConfig:n}=e,{tablePage:o}=v,{$event:l,currentPage:r,pageSize:a}=t,i=P.value;o.currentPage=r,o.pageSize=a,K.dispatchEvent("page-change",t,l),n&&DC(i)&&K.commitProxy("query").then((e=>{K.dispatchEvent("proxy-query",e,l)}))},te=t=>{const n=w.value,{proxyConfig:o}=e,{computeSortOpts:l}=n.getComputeMaps(),r=P.value;l.value.remote&&(v.sortData=t.sortList,o&&DC(r)&&(v.tablePage.currentPage=1,ve.commitProxy("query").then((e=>{ve.dispatchEvent("proxy-query",e,t.$event)})))),ve.dispatchEvent("sort-change",t,t.$event)},ne=t=>{const n=w.value,{proxyConfig:o}=e,{computeFilterOpts:l}=n.getComputeMaps(),r=P.value;l.value.remote&&(v.filterData=t.filterList,o&&DC(r)&&(v.tablePage.currentPage=1,ve.commitProxy("query").then((e=>{ve.dispatchEvent("proxy-query",e,t.$event)})))),ve.dispatchEvent("filter-change",t,t.$event)},oe=t=>{const{proxyConfig:n}=e,o=P.value;v.tableLoading||(n&&DC(o)&&ve.commitProxy("reload").then((e=>{ve.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isReload:!0}),t.$event)})),ve.dispatchEvent("form-submit",t,t.$event))},le=t=>{const{proxyConfig:n}=e,{$event:o}=t,l=P.value,r=w.value;n&&DC(l)&&(r.clearScroll(),ve.commitProxy("reload").then((e=>{ve.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isReload:!0}),o)}))),ve.dispatchEvent("form-reset",t,o)},re=e=>{ve.dispatchEvent("form-submit-invalid",e,e.$event)},ae=e=>{const{$event:t}=e;ve.dispatchEvent("form-toggle-collapse",e,t),ve.dispatchEvent("form-collapse",e,t)},ie=e=>{const{isZMax:n}=v;return(e?!n:n)&&(v.isZMax=!n,v.tZindex<RC()&&(v.tZindex=kC())),t().then((()=>M.recalculate(!0))).then((()=>(setTimeout((()=>M.recalculate(!0)),15),v.isZMax)))},se=(e,t)=>{const n=e[t];if(n){if(!sp.isString(n))return n;if(l[n])return l[n];pS("vxe.error.notSlot",[n])}return null},ce=e=>{const t={};return sp.objectMap(e,((e,n)=>{e&&(sp.isString(e)?l[e]?t[n]=l[e]:pS("vxe.error.notSlot",[e]):t[n]=e)})),t},ue=()=>{const e=l.left;return e?y("div",{class:"vxe-grid--left-wrapper"},e({$grid:K})):iT(K)},de=()=>{const e=l.right;return e?y("div",{class:"vxe-grid--right-wrapper"},e({$grid:K})):iT(K)},pe=()=>{const{proxyConfig:t}=e,n=z.value,o=P.value,r=Object.assign({},ge),a=l.empty,i=l.loading,s=l.rowDragIcon||l["row-drag-icon"],c=l.columnDragIcon||l["column-drag-icon"];t&&DC(o)&&(o.sort&&(r.onSortChange=te),o.filter&&(r.onFilterChange=ne));const u={};return a&&(u.empty=a),i&&(u.loading=i),s&&(u.rowDragIcon=s),c&&(u.columnDragIcon=c),y("div",{class:"vxe-grid--table-wrapper"},[y(WD,Object.assign(Object.assign({ref:w},n),r),u)])},me=t=>{const n=[];return t.forEach((t=>{switch(t){case"Form":n.push((()=>{const{formConfig:t,proxyConfig:n}=e,{formData:o}=v,r=P.value,a=$.value;if(t&&DC(a)||l.form){let e=[];if(l.form)e=l.form({$grid:K});else if(a.items){const t={};if(!a.inited){a.inited=!0;const e=r.beforeItem;r&&e&&a.items.forEach((t=>{e({$grid:K,item:t})}))}a.items.forEach((e=>{sp.each(e.slots,(e=>{sp.isFunction(e)||l[e]&&(t[e]=l[e])}))})),c&&e.push(y(c,Object.assign(Object.assign({ref:C},Object.assign({},a,{data:n&&DC(r)&&r.form?o:a.data})),{onSubmit:oe,onReset:le,onSubmitInvalid:re,onCollapse:ae}),t))}return y("div",{ref:D,key:"form",class:"vxe-grid--form-wrapper"},e)}return iT(K)})());break;case"Toolbar":n.push((()=>{const{toolbarConfig:t}=e,n=N.value;if(t&&DC(n)||l.toolbar){let e=[];if(l.toolbar)e=l.toolbar({$grid:K});else{const t=n.slots;let o,l;const r={};t&&(o=se(t,"buttons"),l=se(t,"tools"),o&&(r.buttons=o),l&&(r.tools=l)),e.push(y(QD,Object.assign(Object.assign({ref:S},n),{slots:void 0}),r))}return y("div",{ref:T,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},e)}return iT(K)})());break;case"Top":n.push(l.top?y("div",{ref:O,key:"top",class:"vxe-grid--top-wrapper"},l.top({$grid:K})):iT(K));break;case"Table":n.push(y("div",{key:"table",class:"vxe-grid--table-container"},[ue(),pe(),de()]));break;case"Bottom":n.push(l.bottom?y("div",{ref:k,key:"bottom",class:"vxe-grid--bottom-wrapper"},l.bottom({$grid:K})):iT(K));break;case"Pager":n.push((()=>{const{proxyConfig:t,pagerConfig:n}=e,o=P.value,r=A.value,a=l.pager;return n&&DC(r)||l.pager?y("div",{ref:R,key:"pager",class:"vxe-grid--pager-wrapper"},a?a({$grid:K}):[u?y(u,Object.assign(Object.assign(Object.assign({ref:E},r),t&&DC(o)?v.tablePage:{}),{onPageChange:ee}),ce(r.slots)):iT(K)]):iT(K)})());break;default:pS("vxe.error.notProp",[`layouts -> ${t}`])}})),n},ge={};uD.forEach((e=>{const t=sp.camelCase(`on-${e}`);ge[t]=(...t)=>a(e,...t)}));const fe=()=>{const{proxyConfig:n,formConfig:o}=e,{proxyInited:l}=v,r=P.value,a=$.value;if(n&&DC(r)){if(o&&DC(a)&&r.form&&a.items){const e={};a.items.forEach((t=>{const{field:n,itemRender:o}=t;if(n){let l=null;if(o){const{defaultValue:e}=o;sp.isFunction(e)?l=e({item:t}):sp.isUndefined(e)||(l=e)}e[n]=l}})),v.formData=e}l||(v.proxyInited=!0,!1!==r.autoLoad&&t().then((()=>ve.commitProxy("_init"))).then((e=>{ve.dispatchEvent("proxy-query",Object.assign(Object.assign({},e),{isInited:!0}),new Event("init"))})))}},he=e=>{const t=L.value;rT.hasKey(e,aT.ESCAPE)&&v.isZMax&&!1!==t.escRestore&&be.triggerZoomEvent(e)},ve={dispatchEvent:(e,t,n)=>{a(e,lT(n,{$grid:K},t))},getEl:()=>x.value,commitProxy(n,...o){const{toolbarConfig:l,pagerConfig:r,editRules:a,validConfig:i}=e,{tablePage:s}=v,c=V.value,u=F.value,d=P.value,p=A.value,m=N.value,{beforeQuery:g,afterQuery:f,beforeDelete:h,afterDelete:b,beforeSave:x,afterSave:y,ajax:C={}}=d,S=d.response||d.props||{},E=w.value,D=X();let T=null,O=null;if(sp.isString(n)){const{buttons:e}=m,t=l&&DC(m)&&e?sp.findTree(e,(e=>e.code===n),{children:"dropdowns"}):null;T=t?t.item:null,O=n}else T=n,O=T.code;const k=T?T.params:null;switch(O){case"insert":return E.insert({});case"insert_edit":case"insert_actived":return E.insert({}).then((({row:e})=>E.setEditRow(e)));case"mark_cancel":(e=>{const t=V.value,n=w.value,o=n.getCheckboxRecords();o.length?(n.togglePendingRow(o),M.clearCheckboxRow()):t&&$m.modal&&$m.modal.message({id:e,content:eT("vxe.grid.selectOneRecord"),status:"warning"})})(O);break;case"remove":return J(O,"vxe.grid.removeSelectRecord",(()=>E.removeCheckboxRow()));case"import":E.importData(k);break;case"open_import":E.openImport(k);break;case"export":E.exportData(k);break;case"open_export":E.openExport(k);break;case"reset_custom":return E.resetCustom(!0);case"_init":case"reload":case"query":{const e=C.query,n=C.querySuccess,l=C.queryError;if(e){const a="_init"===O,i="reload"===O;if(!a&&v.tableLoading)return t();let c=[],u=[],d={};if(r&&((a||i)&&(s.currentPage=1),DC(p)&&(d=Object.assign({},s))),a){let e=null;if(E){const{computeSortOpts:t}=E.getComputeMaps();e=t.value.defaultSort}e&&(sp.isArray(e)||(e=[e]),c=e.map((e=>({field:e.field,property:e.field,order:e.order})))),E&&(u=E.getCheckedFilters())}else E&&(i?E.clearAll():(c=E.getSortColumns(),u=E.getCheckedFilters()));const m={code:O,button:T,isInited:a,isReload:i,$grid:K,page:d,sort:c.length?c[0]:{},sorts:c,filters:u,form:D,options:e};return v.sortData=c,v.filterData=u,v.tableLoading=!0,Promise.resolve((g||e)(m,...o)).then((e=>{let l=[];if(v.tableLoading=!1,e)if(r&&DC(p)){const t=S.total,n=(sp.isFunction(t)?t({data:e,$grid:K}):sp.get(e,t||"page.total"))||0;s.total=sp.toNumber(n);const o=S.result;l=(sp.isFunction(o)?o({data:e,$grid:K}):sp.get(e,o||"result"))||[];const r=Math.max(Math.ceil(n/s.pageSize),1);s.currentPage>r&&(s.currentPage=r)}else{const t=S.list;l=(t?sp.isFunction(t)?t({data:e,$grid:K}):sp.get(e,t):e)||[]}return E?E.loadData(l):t((()=>{E&&E.loadData(l)})),f&&f(m,...o),n&&n(Object.assign(Object.assign({},m),{response:e})),{status:!0}})).catch((e=>(v.tableLoading=!1,l&&l(Object.assign(Object.assign({},m),{response:e})),{status:!1})))}pS("vxe.error.notFunc",["proxy-config.ajax.query"]);break}case"delete":{const e=C.delete,t=C.deleteSuccess,n=C.deleteError;if(e){const l=M.getCheckboxRecords(),r=l.filter((e=>!E.isInsertByRow(e))),a={$grid:K,code:O,button:T,body:{removeRecords:r},form:D,options:e};if(l.length)return J(O,"vxe.grid.deleteSelectRecord",(()=>r.length?(v.tableLoading=!0,Promise.resolve((h||e)(a,...o)).then((e=>(v.tableLoading=!1,E.setPendingRow(r,!1),u&&$m.modal&&$m.modal.message({content:Q(e,"vxe.grid.delSuccess"),status:"success"}),b?b(a,...o):ve.commitProxy("query"),t&&t(Object.assign(Object.assign({},a),{response:e})),{status:!0}))).catch((e=>(v.tableLoading=!1,u&&$m.modal&&$m.modal.message({id:O,content:Q(e,"vxe.grid.operError"),status:"error"}),n&&n(Object.assign(Object.assign({},a),{response:e})),{status:!1})))):E.remove(l)));c&&$m.modal&&$m.modal.message({id:O,content:eT("vxe.grid.selectOneRecord"),status:"warning"})}else pS("vxe.error.notFunc",["proxy-config.ajax.delete"]);break}case"save":{const e=C.save,t=C.saveSuccess,n=C.saveError;if(e){const l=E.getRecordset(),{insertRecords:r,removeRecords:s,updateRecords:d,pendingRecords:p}=l,m={$grid:K,code:O,button:T,body:l,form:D,options:e};r.length&&(l.pendingRecords=p.filter((e=>-1===E.findRowIndexOf(r,e)))),p.length&&(l.insertRecords=r.filter((e=>-1===E.findRowIndexOf(p,e))));let g=Promise.resolve();return a&&(g=E[i&&"full"===i.msgMode?"fullValidate":"validate"](l.insertRecords.concat(d))),g.then((r=>{if(!r)return l.insertRecords.length||s.length||d.length||l.pendingRecords.length?(v.tableLoading=!0,Promise.resolve((x||e)(m,...o)).then((e=>(v.tableLoading=!1,E.clearPendingRow(),u&&$m.modal&&$m.modal.message({content:Q(e,"vxe.grid.saveSuccess"),status:"success"}),y?y(m,...o):ve.commitProxy("query"),t&&t(Object.assign(Object.assign({},m),{response:e})),{status:!0}))).catch((e=>(v.tableLoading=!1,u&&$m.modal&&$m.modal.message({id:O,content:Q(e,"vxe.grid.operError"),status:"error"}),n&&n(Object.assign(Object.assign({},m),{response:e})),{status:!1})))):void(c&&$m.modal&&$m.modal.message({id:O,content:eT("vxe.grid.dataUnchanged"),status:"info"}))}))}pS("vxe.error.notFunc",["proxy-config.ajax.save"]);break}default:{const e=tT.get(O);if(e){const t=e.tableCommandMethod||e.commandMethod;t?t({code:O,button:T,$grid:K,$table:E},...o):pS("vxe.error.notCommands",[O])}}}return t()},zoom:()=>v.isZMax?ve.revert():ve.maximize(),isMaximized:()=>v.isZMax,maximize:()=>ie(!0),revert:()=>ie(),getFormData:X,getFormItems(t){const n=$.value,{formConfig:o}=e,{items:l}=n,r=[];return sp.eachTree(o&&DC(n)&&l?l:[],(e=>{r.push(e)}),{children:"children"}),sp.isUndefined(t)?r:r[t]},getProxyInfo(){const t=w.value;if(e.proxyConfig){const{sortData:e}=v;return{data:t?t.getFullData():[],filter:v.filterData,form:X(),sort:e.length?e[0]:{},sorts:e,pager:v.tablePage,pendingRecords:t?t.getPendingRecords():[]}}return null}},be={extendTableMethods:I,callSlot:(e,t)=>e&&(sp.isString(e)&&(e=l[e]||null),sp.isFunction(e))?EE(e(t)):[],getExcludeHeight(){const{isZMax:e}=v,t=x.value;if(t){const n=D.value,o=T.value,l=O.value,r=k.value,a=R.value,i=t.parentElement;return(e?0:i?PS(i):0)+PS(t)+MS(n)+MS(o)+MS(l)+MS(r)+MS(a)}return 0},getParentHeight(){const e=x.value;if(e){const t=e.parentElement;return(v.isZMax?IS().visibleHeight:t?sp.toNumber(getComputedStyle(t).height):0)-be.getExcludeHeight()}return 0},triggerToolbarCommitEvent(e,t){const{code:n}=e;return ve.commitProxy(e,t).then((e=>{n&&e&&e.status&&["query","reload","delete","save"].includes(n)&&ve.dispatchEvent("delete"===n||"save"===n?`proxy-${n}`:"proxy-query",Object.assign(Object.assign({},e),{isReload:"reload"===n}),t)}))},triggerToolbarBtnEvent(e,t){be.triggerToolbarCommitEvent(e,t),ve.dispatchEvent("toolbar-button-click",{code:e.code,button:e},t)},triggerToolbarTolEvent(e,t){be.triggerToolbarCommitEvent(e,t),ve.dispatchEvent("toolbar-tool-click",{code:e.code,tool:e},t)},triggerZoomEvent(e){ve.zoom(),ve.dispatchEvent("zoom",{type:v.isZMax?"max":"revert"},e)}};Object.assign(K,M,ve,be,{loadColumn(e){const n=w.value;return sp.eachTree(e,(e=>{e.slots&&sp.each(e.slots,(e=>{sp.isFunction(e)||l[e]||pS("vxe.error.notSlot",[e])}))})),n?n.loadColumn(e):t()},reloadColumn:e=>(K.clearAll(),K.loadColumn(e))});const xe=r(0);i((()=>e.columns?e.columns.length:-1),(()=>{xe.value++})),i((()=>e.columns),(()=>{xe.value++})),i(xe,(()=>{t((()=>K.loadColumn(e.columns||[])))})),i((()=>e.toolbarConfig),(()=>{Y()})),i(H,(()=>{Z("currentPage")})),i(W,(()=>{Z("pageSize")})),i(q,(()=>{Z("total")})),i((()=>e.proxyConfig),(()=>{fe()})),nT.forEach((e=>{const{setupGrid:t}=e;if(t){const e=t(K);e&&sp.isObject(e)&&Object.assign(K,e)}})),Z(),f((()=>{t((()=>{const{columns:t}=e;e.formConfig&&(c||pS("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(u||pS("vxe.error.reqComp",["vxe-pager"])),t&&t.length&&K.loadColumn(t),Y(),fe()})),rT.on(K,"keydown",he)})),h((()=>{rT.off(K,"keydown")}));return K.renderVN=()=>{const t=p.value,n=_.value;return y("div",{ref:x,class:["vxe-grid",{[`size--${t}`]:t,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":v.isZMax,"is--loading":e.loading||v.tableLoading}],style:n},(()=>{const e=j.value,{headKeys:t,bodyKeys:n,footKeys:o}=e,r=l.asideLeft||l["aside-left"],a=l.asideRight||l["aside-right"];return[y("div",{class:"vxe-grid--layout-header-wrapper"},me(t)),y("div",{class:"vxe-grid--layout-body-wrapper"},[r?y("div",{class:"vxe-grid--layout-aside-left-wrapper"},r({})):iT(K),y("div",{class:"vxe-grid--layout-body-content-wrapper"},me(n)),a?y("div",{class:"vxe-grid--layout-aside-right-wrapper"},a({})):iT(K)]),y("div",{class:"vxe-grid--layout-footer-wrapper"},me(o))]})())},b("$xeGrid",K),K},render(){return this.renderVN()}}),pT=Object.assign({},dT,{install(e){e.component(dT.name,dT)}});$m.dynamicApp&&$m.dynamicApp.component(dT.name,dT),$m.component(dT);const mT=pT;const{renderer:gT,hooks:fT}=$m,hT=["openFilter","setFilter","clearFilter","saveFilterPanel","resetFilterPanel","getCheckedFilters","updateFilterOptionStatus"];fT.add("tableFilterModule",{setupTable(e){const{props:n,reactData:o,internalData:l}=e,{refElem:r,refTableFilter:a}=e.getRefMaps(),{computeFilterOpts:i,computeMouseOpts:s}=e.getComputeMaps(),c=t=>{const{filterStore:n}=o;n.options.forEach((e=>{e.checked=e._checked})),e.confirmFilterEvent(t)},u=(t,n,l)=>{const{filterStore:r}=o;r.options.forEach((e=>{e._checked=!1})),l._checked=n,e.checkFilterOptions(),c(t)},d=(t,n,o)=>{o._checked=n,e.checkFilterOptions()},p=t=>{const{filterStore:n}=o;e.handleClearFilter(n.column),e.confirmFilterEvent(t),t&&e.dispatchEvent("clear-filter",{filterList:[]},t)},m={checkFilterOptions(){const{filterStore:e}=o;e.isAllSelected=e.options.every((e=>e._checked)),e.isIndeterminate=!e.isAllSelected&&e.options.some((e=>e._checked))},triggerFilterEvent(n,s,c){const{initStore:u,filterStore:d}=o,{elemStore:p}=l;if(d.column===s&&d.visible)d.visible=!1;else{const o=r.value,{scrollTop:m,scrollLeft:g,visibleHeight:f,visibleWidth:h}=IS(),v=i.value,{transfer:b}=v,x=o.getBoundingClientRect(),w=n.currentTarget,{filters:y,filterMultiple:C,filterRender:S}=s,E=DC(S)?gT.get(S.name):null,D=s.filterRecoverMethod||(E?E.tableFilterRecoverMethod||E.filterRecoverMethod:null);l._currFilterParams=c,Object.assign(d,{multiple:C,options:y,column:s,style:null}),d.options.forEach((t=>{const{_checked:n,checked:o}=t;t._checked=o,o||n===o||D&&D({option:t,column:s,$table:e})})),this.checkFilterOptions(),d.visible=!0,u.filter=!0,t((()=>{if(!iE(p["main-header-scroll"]))return;const e=a.value,t=e?e.getRefMaps().refElem.value:null;if(!t)return;const n=w.getBoundingClientRect(),l=t.querySelector(".vxe-table--filter-header"),r=t.querySelector(".vxe-table--filter-footer"),i=t.offsetWidth,s=i/2;let c=0,u=0,v=0;b?(c=n.left-s+g,u=n.top+w.clientHeight+m,v=Math.min(Math.max(x.height,Math.floor(f/2)),Math.max(80,f-u-(l?l.clientHeight:0)-(r?r.clientHeight:0)-28)),c<16?c=16:c>h-i-16&&(c=h-i-16)):(c=n.left-x.left-s,u=n.top-x.top+w.clientHeight,v=Math.max(40,o.clientHeight-u-(l?l.clientHeight:0)-(r?r.clientHeight:0)-14),c<1?c=1:c>o.clientWidth-i-1&&(c=o.clientWidth-i-1)),d.style={top:kS(u),left:kS(c)},d.maxHeight=v}))}e.dispatchEvent("filter-visible",{column:s,field:s.field,property:s.field,filterList:e.getCheckedFilters(),visible:d.visible},n)},handleClearFilter(t){if(t){const{filters:n,filterRender:o}=t;if(n){const l=DC(o)?gT.get(o.name):null,r=t.filterResetMethod||(l?l.tableFilterResetMethod||l.filterResetMethod:null);n.forEach((e=>{e._checked=!1,e.checked=!1,r||(e.data=sp.clone(e.resetValue,!0))})),r&&r({options:n,column:t,$table:e})}}},handleColumnConfirmFilter(t,l){const{mouseConfig:r}=n,{scrollXLoad:a,scrollYLoad:c}=o,u=i.value,d=s.value,{field:p}=t,m=[],g=[];t.filters.forEach((e=>{e.checked&&(m.push(e.value),g.push(e.data))}));const f=e.getCheckedFilters(),h={$table:e,$event:l,column:t,field:p,property:p,values:m,datas:g,filters:f,filterList:f};return u.remote||(e.handleTableData(!0),e.checkSelectionStatus()),r&&d.area&&e.handleFilterEvent&&e.handleFilterEvent(l,h),l&&e.dispatchEvent("filter-change",h,l),e.closeFilter(),e.updateFooter().then((()=>{const{scrollXLoad:t,scrollYLoad:n}=o;if(a||t||c||n)return(a||t)&&e.updateScrollXSpace(),(c||n)&&e.updateScrollYSpace(),e.refreshScroll()})).then((()=>(e.updateCellAreas(),e.recalculate(!0)))).then((()=>{setTimeout((()=>e.recalculate()),50)}))},confirmFilterEvent(t){const{filterStore:n}=o,{column:l}=n;e.handleColumnConfirmFilter(l,t)},handleFilterChangeRadioOption:u,handleFilterChangeMultipleOption:d,handleFilterChangeOption(e,t,n){const{filterStore:l}=o;l.multiple?d(0,t,n):u(e,t,n)},handleFilterConfirmFilter:c,handleFilterResetFilter:p},g={openFilter(n){const o=QS(e,n);if(o&&o.filters){const{elemStore:t}=l,{fixed:n}=o;return e.scrollToColumn(o).then((()=>{const e=iE(t[`${n||"main"}-header-wrapper`]||t["main-header-wrapper"]);if(e){const t=e.querySelector(`.vxe-header--column.${o.id} .vxe-cell--filter`);r="click",(l=t)&&l.dispatchEvent(new Event(r))}var l,r}))}return t()},setFilter(n,o,l){const r=QS(e,n);return r&&r.filters&&(r.filters=oE(o||[]),l)?e.handleColumnConfirmFilter(r,new Event("click")):t()},clearFilter(n){const{filterStore:r}=o,{tableFullColumn:a}=l,s=i.value;let c;return n?(c=QS(e,n),c&&e.handleClearFilter(c)):a.forEach(e.handleClearFilter),n&&c===r.column||Object.assign(r,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),s.remote?t():e.updateData()},saveFilterPanel:()=>(c(null),t()),saveFilterPanelByEvent:e=>(c(e),t()),resetFilterPanel:()=>(p(null),t()),resetFilterPanelByEvent:e=>(p(e),t()),getCheckedFilters(){const{tableFullColumn:e}=l,t=[];return e.forEach((e=>{const{field:n,filters:o}=e,l=[],r=[];o&&o.length&&(o.forEach((e=>{e.checked&&(l.push(e.value),r.push(e.data))})),l.length&&t.push({column:e,field:n,property:n,values:l,datas:r}))})),t},updateFilterOptionStatus:(e,n)=>(e._checked=n,e.checked=n,t())};return Object.assign(Object.assign({},g),m)},setupGrid:e=>e.extendTableMethods(hT)});const{menus:vT,hooks:bT,globalEvents:xT,GLOBAL_EVENT_KEYS:wT}=$m,yT=["closeMenu"];bT.add("tableMenuModule",{setupTable(e){const{xID:n,props:o,reactData:l,internalData:r}=e,{refElem:a,refTableFilter:i,refTableMenu:s}=e.getRefMaps(),{computeMouseOpts:c,computeIsMenu:u,computeMenuOpts:d}=e.getComputeMaps();let p={},m={};const g=(n,o,a)=>{const{ctxMenuStore:i}=l,c=u.value,m=d.value,g=m[o],f=m.visibleMethod;if(g){const{options:o,disabled:l}=g;l?n.preventDefault():c&&o&&o.length&&(a.options=o,e.preventEvent(n,"event.showMenu",a,(()=>{if(!f||f(a)){n.preventDefault(),e.updateZindex();const{scrollTop:l,scrollLeft:c,visibleHeight:u,visibleWidth:d}=IS();let p=n.clientY+l,m=n.clientX+c;const g=()=>{r._currMenuParams=a,Object.assign(i,{visible:!0,list:o,selected:null,selectChild:null,showChild:!1,style:{zIndex:r.tZindex,top:`${p}px`,left:`${m}px`}}),t((()=>{const e=s.value.getRefMaps().refElem.value,t=e.clientHeight,n=e.clientWidth,{boundingTop:o,boundingLeft:r}=NS(e),a=r+n-d;o+t-u>-10&&(i.style.top=`${Math.max(l+2,p-t-2)}px`),a>-10&&(i.style.left=`${Math.max(c+2,m-n-2)}px`)}))},{keyboard:f,row:h,column:v}=a;f&&h&&v?e.scrollToRow(h,v).then((()=>{const t=e.getCellElement(h,v);if(t){const{boundingTop:e,boundingLeft:n}=NS(t);p=e+l+Math.floor(t.offsetHeight/2),m=n+c+Math.floor(t.offsetWidth/2)}g()})):g()}else p.closeMenu()})))}e.closeFilter()};return p={closeMenu:()=>(Object.assign(l.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),t())},m={moveCtxMenu(t,n,o,l,r,a){let i;const s=sp.findIndexOf(a,(e=>n[o]===e));if(l)r&&IC(n.selected)?n.showChild=!0:(n.showChild=!1,n.selectChild=null);else if(xT.hasKey(t,wT.ARROW_UP)){for(let e=s-1;e>=0;e--)if(!1!==a[e].visible){i=a[e];break}n[o]=i||a[a.length-1]}else if(xT.hasKey(t,wT.ARROW_DOWN)){for(let e=s+1;e<a.length;e++)if(!1!==a[e].visible){i=a[e];break}n[o]=i||a[0]}else n[o]&&(xT.hasKey(t,wT.ENTER)||xT.hasKey(t,wT.SPACEBAR))&&e.ctxMenuLinkEvent(t,n[o])},handleOpenMenuEvent:g,handleGlobalContextmenuEvent(t){const{mouseConfig:u,menuConfig:m}=o,{editStore:f,ctxMenuStore:h}=l,{visibleColumn:v}=r,b=i.value,x=s.value,w=c.value,y=d.value,C=a.value,{selected:S}=f,E=["header","body","footer"];if(DC(m)){if(h.visible&&x&&$S(t,x.getRefMaps().refElem.value).flag)return void t.preventDefault();if(r._keyCtx){const n="body",o={type:n,$table:e,keyboard:!0,columns:v.slice(0),$event:t};if(u&&w.area){const l=e.getActiveCellArea();if(l&&l.row&&l.column)return o.row=l.row,o.column=l.column,void g(t,n,o)}else if(u&&w.selected&&S.row&&S.column)return o.row=S.row,o.column=S.column,void g(t,n,o)}for(let o=0;o<E.length;o++){const l=E[o],r=$S(t,C,`vxe-${l}--column`,(e=>e.parentNode.parentNode.parentNode.getAttribute("xid")===n)),a={type:l,$table:e,columns:v.slice(0),$event:t};if(r.flag){const n=r.targetElem,o=e.getColumnNode(n),i=o?o.item:null;let s=`${l}-`;if(i&&Object.assign(a,{column:i,columnIndex:e.getColumnIndex(i),cell:n}),"body"===l){const t=e.getRowNode(n.parentNode),o=t?t.item:null;s="",o&&(a.row=o,a.rowIndex=e.getRowIndex(o))}const c=`${s}cell-menu`;return g(t,l,a),void e.dispatchEvent(c,a,t)}if($S(t,C,`vxe-table--${l}-wrapper`,(e=>e.getAttribute("xid")===n)).flag)return void("cell"===y.trigger?t.preventDefault():g(t,l,a))}}b&&!$S(t,b.getRefMaps().refElem.value).flag&&e.closeFilter(),p.closeMenu()},ctxMenuMouseoverEvent(e,n,o){const r=e.currentTarget,{ctxMenuStore:a}=l;e.preventDefault(),e.stopPropagation(),a.selected=n,a.selectChild=o,o||(a.showChild=IC(n),a.showChild&&t((()=>{const e=r.nextElementSibling;if(e){const{boundingTop:t,boundingLeft:n,visibleHeight:o,visibleWidth:l}=NS(r),a=t+r.offsetHeight;let i="",s="";n+r.offsetWidth+e.offsetWidth>l-10&&(i="auto",s=`${r.offsetWidth}px`);let c="",u="";a+e.offsetHeight>o-10&&(c="auto",u="0"),e.style.left=i,e.style.right=s,e.style.top=c,e.style.bottom=u}})))},ctxMenuMouseoutEvent(e,t){const{ctxMenuStore:n}=l;t.children||(n.selected=null),n.selectChild=null},ctxMenuLinkEvent(t,n){const o=e.xeGrid;if(!n.disabled&&(n.code||!n.children||!n.children.length)){const l=vT.get(n.code),a=Object.assign({},r._currMenuParams,{menu:n,$table:e,$grid:o,$event:t}),i=l?l.tableMenuMethod||l.menuMethod:null;i&&i(a,t),e.dispatchEvent("menu-click",a,t),p.closeMenu()}}},Object.assign(Object.assign({},p),m)},setupGrid:e=>e.extendTableMethods(yT)});const{getConfig:CT,renderer:ST,hooks:ET,getI18n:DT}=$m,TT=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];ET.add("tableEditModule",{setupTable(e){const{props:n,reactData:o,internalData:l}=e,{refElem:r}=e.getRefMaps(),{computeMouseOpts:a,computeEditOpts:i,computeCheckboxOpts:s,computeTreeOpts:c,computeValidOpts:u}=e.getComputeMaps(),d=sp.browse();let p={},g={};const f=(e,t)=>{const{model:n,editRender:o}=t;o&&(n.value=rE(e,t),n.update=!1)},h=(e,t)=>{const{model:n,editRender:o}=t;o&&n.update&&(aE(e,t,n.value),n.update=!1,n.value=null)},v=()=>{const e=r.value;if(e){const t=e.querySelector(".col--selected");t&&DS(t,"col--selected")}},b=()=>{const{editStore:e,tableColumn:t}=o,n=i.value,{actived:l}=e,{row:r,column:a}=l;(r||a)&&("row"===n.mode?t.forEach((e=>h(r,e))):h(r,a))},x=(t,n)=>{const{tableFullTreeData:o,afterFullData:r,fullDataRowIdData:a,fullAllDataRowIdData:i}=l,s=c.value,{rowField:u,parentField:d,mapChildrenField:p}=s,m=s.children||s.childrenField,g=n?"push":"unshift";t.forEach((t=>{const n=t[d],l=WS(e,t),s=n?sp.findTree(o,(e=>n===e[u]),{children:p}):null;if(s){const{item:n}=s,o=i[WS(e,n)],r=o?o.level:0;let c=n[m],u=n[p];sp.isArray(c)||(c=n[m]=[]),sp.isArray(u)||(u=n[m]=[]),c[g](t),u[g](t);const d={row:t,rowid:l,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:c,parent:n,level:r+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};a[l]=d,i[l]=d}else{n&&dS("vxe.error.unableInsert"),r[g](t),o[g](t);const e={row:t,rowid:l,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:o,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};a[l]=e,i[l]=e}}))},w=(r,a,i)=>{const{treeConfig:s}=n,{tableFullTreeData:u,afterFullData:d,mergeBodyList:p,tableFullData:g,fullDataRowIdData:f,fullAllDataRowIdData:h,insertRowMaps:v}=l,b=c.value,{transform:w,rowField:y,mapChildrenField:C}=b,S=b.children||b.childrenField;sp.isArray(r)||(r=[r]);const E=m(e.defineField(r.map((e=>Object.assign(s&&w?{[C]:[],[S]:[]}:{},e)))));if(sp.eqNull(a))s&&w?x(E,!1):(E.forEach((t=>{const n=WS(e,t),o={row:t,rowid:n,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:d,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};f[n]=o,h[n]=o,d.unshift(t),g.unshift(t)})),p.forEach((e=>{const{row:t}=e;t>0&&(e.row=t+E.length)})));else if(-1===a)s&&w?x(E,!0):(E.forEach((t=>{const n=WS(e,t),o={row:t,rowid:n,seq:-1,index:-1,_index:-1,treeIndex:-1,$index:-1,items:d,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};f[n]=o,h[n]=o,d.push(t),g.push(t)})),p.forEach((e=>{const{row:t,rowspan:n}=e;t+n>d.length&&(e.rowspan=n+E.length)})));else if(s&&w){const t=sp.findTree(u,(e=>a[y]===e[y]),{children:C});if(t){const{parent:n}=t,o=n?n[C]:u,l=h[WS(e,n)],r=l?l.level:0;if(E.forEach(((l,a)=>{const s=WS(e,l);l[b.parentField]&&n&&l[b.parentField]!==n[y]&&pS("vxe.error.errProp",[`${b.parentField}=${l[b.parentField]}`,`${b.parentField}=${n[y]}`]),n&&(l[b.parentField]=n[y]);let c=t.index+a;i&&(c+=1),o.splice(c,0,l);const u={row:l,rowid:s,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:o,parent:n,level:r+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};f[s]=u,h[s]=u})),n){const e=sp.findTree(u,(e=>a[y]===e[y]),{children:S});if(e){const t=e.items;let n=e.index;i&&(n+=1),t.splice(n,0,...E)}}}else dS("vxe.error.unableInsert"),x(E,!0)}else{if(s)throw new Error(DT("vxe.error.noTree",["insert"]));let t=-1;if(sp.isNumber(a)?a<d.length&&(t=a):t=e.findRowIndexOf(d,a),i&&(t=Math.min(d.length,t+1)),-1===t)throw new Error(DT("vxe.error.unableInsert"));d.splice(t,0,...E);const n=e.findRowIndexOf(g,a);n>-1?g.splice(n+(i?1:0),0,...E):g.push(...E),p.forEach((e=>{const{row:n,rowspan:o}=e;n>t?e.row=n+E.length:n+o>t&&(e.rowspan=o+E.length)}))}return E.forEach((t=>{const n=WS(e,t);v[n]=t})),o.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData(s&&w),s&&w||e.updateAfterDataIndex(),e.updateFooter(),e.handleUpdateBodyMerge(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),t().then((()=>(e.updateCellAreas(),e.recalculate(!0)))).then((()=>({row:E.length?E[E.length-1]:null,rows:E})))},y=(e,t,o,l)=>{const{treeConfig:r}=n,a=c.value,{transform:i,rowField:s,parentField:u}=a;return r&&i?(sp.isArray(e)||(e=[e]),w(e.map((e=>Object.assign({},e,{[u]:t[s]}))),o,l)):(pS("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},C=(n,l)=>{const{editStore:r}=o,{actived:a,focused:i}=r,{row:s,column:c}=a,d=u.value;if(s||c){if(l&&WS(e,l)!==WS(e,s))return t();b(),a.args=null,a.row=null,a.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:s,rowIndex:e.getRowIndex(s),$rowIndex:e.getVMRowIndex(s),column:c,columnIndex:e.getColumnIndex(c),$columnIndex:e.getVMColumnIndex(c)},n||null)}return i.row=null,i.column=null,d.autoClear&&("full"!==d.msgMode||"obsolete"===CT().cellVaildMode)&&e.clearValidate?e.clearValidate():t().then((()=>e.updateCellAreas()))},S=(l,r,a,s)=>{const c=e.xeGrid,{editConfig:u,mouseConfig:d}=n,{editStore:p,tableColumn:m}=o,g=i.value,{mode:h}=g,{actived:v,focused:b}=p,{row:x,column:w}=l,{editRender:y}=w,S=l.cell||e.getCellElement(x,w),E=g.beforeEditMethod||g.activeMethod;if(l.cell=S,S&&DC(u)&&DC(y)&&!e.isPendingByRow(x)&&!e.isAggregateRecord(x)){if(v.row!==x||"cell"===h&&v.column!==w){let n="edit-disabled";if(!E||E(Object.assign(Object.assign({},l),{$table:e,$grid:c}))){d&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),v.column&&C(r),n="edit-activated",w.renderHeight=S.offsetHeight,v.args=l,v.row=x,v.column=w,"row"===h?m.forEach((e=>f(x,e))):f(x,w);const o=g.afterEditMethod;t((()=>{a&&e.handleFocus(l,r),o&&o(Object.assign(Object.assign({},l),{$table:e,$grid:c}))}))}e.dispatchEvent(n,{row:x,rowIndex:e.getRowIndex(x),$rowIndex:e.getVMRowIndex(x),column:w,columnIndex:e.getColumnIndex(w),$columnIndex:e.getVMColumnIndex(w)},r),"edit-activated"===n&&e.dispatchEvent("edit-actived",{row:x,rowIndex:e.getRowIndex(x),$rowIndex:e.getVMRowIndex(x),column:w,columnIndex:e.getColumnIndex(w),$columnIndex:e.getVMColumnIndex(w)},r)}else{const{column:t}=v;if(d&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),t!==w){const{model:n}=t;n.update&&aE(x,t,n.value),e.clearValidate&&e.clearValidate(x,w)}w.renderHeight=S.offsetHeight,v.args=l,v.column=w,s&&setTimeout((()=>{e.handleFocus(l,r)}))}b.column=null,b.row=null,e.focus()}return t()},E=(o,r,a)=>{const{editConfig:i}=n,s=sp.isString(r)?e.getColumnByField(r):r;return o&&s&&DC(i)&&DC(s.editRender)&&!e.isAggregateRecord(o)?Promise.resolve(a?e.scrollToRow(o,s):null).then((()=>{const n=e.getCellElement(o,s);return n&&(S({row:o,rowIndex:e.getRowIndex(o),column:s,columnIndex:e.getColumnIndex(s),cell:n,$table:e},null,a,a),l._lastCallTime=Date.now()),t()})):t()};return p={insert:e=>w(e,null),insertAt:(e,t)=>w(e,t),insertNextAt:(e,t)=>w(e,t,!0),insertChild:(e,t)=>y(e,t,null),insertChildAt:(e,t,n)=>y(e,t,n),insertChildNextAt:(e,t,n)=>y(e,t,n,!0),remove(r){const{treeConfig:a}=n,{editStore:i}=o,{tableFullTreeData:u,selectCheckboxMaps:d,afterFullData:m,mergeBodyList:g,tableFullData:f,pendingRowMaps:h,insertRowMaps:v,removeRowMaps:b}=l,x=s.value,w=c.value,{transform:y,mapChildrenField:C}=w,S=w.children||w.childrenField,{actived:E}=i,{checkField:D}=x;let T=[];return r?sp.isArray(r)||(r=[r]):r=f,r.forEach((t=>{if(!e.isInsertByRow(t)){const n=WS(e,t);b[n]=t}})),D||(r.forEach((t=>{const n=WS(e,t);d[n]&&delete d[n]})),o.updateCheckboxFlag++),f===r?(r=T=f.slice(0),l.tableFullData=[],l.afterFullData=[],e.clearMergeCells()):a&&y?r.forEach((t=>{const n=WS(e,t),o=sp.findTree(u,(t=>n===WS(e,t)),{children:C});if(o){const e=o.items.splice(o.index,1);T.push(e[0])}const l=sp.findTree(u,(t=>n===WS(e,t)),{children:S});l&&l.items.splice(l.index,1);const r=e.findRowIndexOf(m,t);r>-1&&m.splice(r,1)})):r.forEach((t=>{const n=e.findRowIndexOf(f,t);if(n>-1){const e=f.splice(n,1);T.push(e[0])}const o=e.findRowIndexOf(m,t);o>-1&&(g.forEach((e=>{const{row:t,rowspan:n}=e;t>o?e.row=t-1:t+n>o&&(e.rowspan=n-1)})),m.splice(o,1))})),E.row&&e.findRowIndexOf(r,E.row)>-1&&p.clearEdit(),r.forEach((t=>{const n=WS(e,t);v[n]&&delete v[n],h[n]&&delete h[n]})),o.removeRowFlag++,o.insertRowFlag++,o.pendingRowFlag++,e.cacheRowMap(!1),e.handleTableData(a&&y),e.updateFooter(),e.handleUpdateBodyMerge(),a&&y||e.updateAfterDataIndex(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),t().then((()=>(e.updateCellAreas(),e.recalculate(!0)))).then((()=>({row:T.length?T[T.length-1]:null,rows:T})))},removeCheckboxRow:()=>p.remove(e.getCheckboxRecords()).then((t=>(e.clearCheckboxRow(),t))),removeRadioRow(){const t=e.getRadioRecord();return p.remove(t||[]).then((t=>(e.clearRadioRow(),t)))},removeCurrentRow(){const t=e.getCurrentRecord();return p.remove(t||[]).then((t=>(e.clearCurrentRow(),t)))},getRecordset(){const t=p.getRemoveRecords(),n=e.getPendingRecords(),o=t.concat(n),l=p.getUpdateRecords().filter((t=>!o.some((n=>e.eqRow(n,t)))));return{insertRecords:p.getInsertRecords(),removeRecords:t,updateRecords:l,pendingRecords:n}},getInsertRecords(){const{fullAllDataRowIdData:e,insertRowMaps:t}=l,n=[];return sp.each(t,((t,o)=>{e[o]&&n.push(t)})),n},getRemoveRecords(){const{removeRowMaps:e}=l,t=[];return sp.each(e,(e=>{t.push(e)})),t},getUpdateRecords(){const{keepSource:t,treeConfig:o}=n,{tableFullData:r}=l,a=c.value;return t?(b(),o?sp.filterTree(r,(t=>e.isUpdateByRow(t)),a):r.filter((t=>e.isUpdateByRow(t)))):[]},getActiveRecord:()=>(dS("vxe.error.delFunc",["getActiveRecord","getEditRecord"]),e.getEditRecord()),getEditRecord(){const{editStore:t}=o,{afterFullData:n}=l,a=r.value,{args:i,row:s}=t.actived;return i&&e.findRowIndexOf(n,s)>-1&&a.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},i):null},getSelectedCell(){const{editStore:e}=o,{args:t,column:n}=e.selected;return t&&n?Object.assign({},t):null},clearActived:t=>(dS("vxe.error.delFunc",["clearActived","clearEdit"]),e.clearEdit(t)),clearEdit:e=>C(null,e),clearSelected(){const{editStore:e}=o,{selected:n}=e;return n.row=null,n.column=null,v(),t()},isActiveByRow:t=>(dS("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),e.isEditByRow(t)),isEditByRow(e){const{editStore:t}=o;return t.actived.row===e},setActiveRow:e=>(dS("vxe.error.delFunc",["setActiveRow","setEditRow"]),p.setEditRow(e)),setEditRow(t,n){const{visibleColumn:o}=l;let r=sp.find(o,(e=>DC(e.editRender))),a=!1;return n&&(a=!0,!0!==n&&(r=sp.isString(n)?e.getColumnByField(n):n)),E(t,r,a)},setActiveCell:(e,t)=>(dS("vxe.error.delFunc",["setActiveCell","setEditCell"]),p.setEditCell(e,t)),setEditCell:(e,t)=>E(e,t,!0),setSelectCell(n,l){const{tableData:r}=o,a=i.value,s=sp.isString(l)?e.getColumnByField(l):l;if(n&&s&&"manual"!==a.trigger){const t=e.findRowIndexOf(r,n);if(t>-1&&s){const o=e.getCellElement(n,s),l={row:n,rowIndex:t,column:s,columnIndex:e.getColumnIndex(s),cell:o};e.handleSelected(l,{})}}return t()}},g={handleEdit:(e,t)=>S(e,t,!0,!0),handleActived:(e,t)=>g.handleEdit(e,t),handleClearEdit:C,handleFocus(t){const{row:n,column:o,cell:l}=t,{editRender:r}=o,a=i.value;if(DC(r)){const i=ST.get(r.name);let s,c=r.autofocus||r.autoFocus,u=r.autoSelect||r.autoselect;if(a.autoFocus&&(!c&&i&&(c=i.tableAutoFocus||i.tableAutofocus||i.autofocus),!u&&i&&(u=i.tableAutoSelect||i.autoselect),sp.isFunction(c)?s=c(t):c&&(s=!0===c?l.querySelector("input,textarea"):l.querySelector(c),s&&s.focus())),s){if(u)s.select();else if(d.msie){const e=s.createTextRange();e.collapse(!1),e.select()}}else a.autoPos&&(o.fixed||e.scrollToRow(n,o))}},handleSelected(l,r){const{mouseConfig:s}=n,{editStore:c}=o,u=a.value,d=i.value,{actived:p,selected:m}=c,{row:f,column:h}=l,v=s&&u.selected;return!v||m.row===f&&m.column===h||(p.row!==f||"cell"===d.mode&&p.column!==h)&&(C(r),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),m.args=l,m.row=f,m.column=h,v&&g.addCellSelectedClass(),e.focus(),r&&e.dispatchEvent("cell-selected",l,r)),t()},addCellSelectedClass(){const{editStore:t}=o,{selected:n}=t,{row:l,column:r}=n;if(v(),l&&r){const t=e.getCellElement(l,r);t&&TS(t,"col--selected")}}},Object.assign(Object.assign({},p),g)},setupGrid:e=>e.extendTableMethods(TT)});const{getI18n:OT,hooks:kT,renderer:RT}=$m;let IT;const MT="\r\n";function PT(e){return!!e.field||-1===["seq","checkbox","radio"].indexOf(e.type||"")}const FT=e=>{const t=[];return e.forEach((e=>{e.childNodes&&e.childNodes.length?(t.push(e),t.push(...FT(e.childNodes))):t.push(e)})),t};function VT(e){return!0===e?"full":e||"default"}function AT(e){return"TRUE"===e||"true"===e||!0===e}function $T(e,t,n){const{footerFilterMethod:o}=t;return o?n.filter(((t,n)=>o({$table:e,items:t,$rowIndex:n}))):n}function NT(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function LT(e,t){return e.getElementsByTagName(t)}function _T(e){return`#${e}@${sp.uniqueId()}`}function BT(e,t){return e.replace(/#\d+@\d+/g,(e=>sp.hasOwnProp(t,e)?t[e]:e))}function zT(e,t){return BT(e,t).replace(/^"+$/g,(e=>'"'.repeat(Math.ceil(e.length/2))))}function jT(e,t){const{fieldMaps:n,titleMaps:o}=e;if(!n[t]){const e=o[t];e&&e.field&&(t=e.field)}return t}function HT(e,t,n){const o=t.split(MT),l=[];let r=[];if(o.length){const t={},a=Date.now();o.forEach((o=>{if(o){const i={},s=(o=o.replace(/("")|(\n)/g,((e,n)=>{const o=_T(a);return t[o]=n?'"':"\n",o})).replace(/"(.*?)"/g,((e,n)=>{const o=_T(a);return t[o]=BT(n,t),o}))).split(n);r.length?(s.forEach(((e,n)=>{n<r.length&&(i[r[n]]=zT(e.trim(),t))})),l.push(i)):r=s.map((n=>jT(e,zT(n.trim(),t))))}}))}return{fields:r,rows:l}}function WT(e){sp.eachTree(e,(e=>{delete e._level,delete e._colSpan,delete e._rowSpan,delete e._children,delete e.childNodes}),{children:"children"})}const qT=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];kT.add("tableExportModule",{setupTable(e){const{props:o,reactData:l,internalData:r}=e,{computeTreeOpts:a,computePrintOpts:i,computeExportOpts:s,computeImportOpts:c,computeCustomOpts:u,computeSeqOpts:d,computeRadioOpts:p,computeCheckboxOpts:m,computeColumnOpts:g}=e.getComputeMaps(),f=n("$xeGrid",null),h=(t,n,o,l,r)=>{const a=d.value.seqMethod||l.seqMethod;return a?a({$table:e,row:n,rowIndex:e.getRowIndex(n),$rowIndex:o,column:l,columnIndex:e.getColumnIndex(l),$columnIndex:r}):t};function v(t,n){const o=g.value,l=n.headerExportMethod||o.headerExportMethod;return l?l({column:n,options:t,$table:e}):(t.isTitle?n.getTitle():n.field)||""}const b=e=>sp.isBoolean(e)?e?"TRUE":"FALSE":e,x=e=>FC(e)?"":`${e}`,w=(t,n,l)=>{const{isAllExpand:r,mode:i}=t,{treeConfig:s}=o,c=p.value,u=m.value,d=a.value,f=g.value;if(IT||(IT=document.createElement("div")),s){const o=d.children||d.childrenField,s=[],p=new Map;return sp.eachTree(l,((o,l,d,m,g,v)=>{const w=o._row||o,y=g&&g._row?g._row:g;if(r||!y||p.has(y)&&e.isTreeExpandByRow(y)){const o=(e=>{const t=a.value,n=t.children||t.childrenField;return e[n]&&e[n].length})(w),r={_row:w,_level:v.length-1,_hasChild:o,_expand:o&&e.isTreeExpandByRow(w)};n.forEach(((n,o)=>{let a="";const s=n.editRender||n.cellRender;let d=n.exportMethod||f.exportMethod;if(!d&&s&&s.name){const e=RT.get(s.name);e&&(d=e.tableExportMethod||e.exportMethod)}if(d||(d=f.exportMethod),d)a=d({$table:e,row:w,column:n,options:t});else switch(n.type){case"seq":{const e=m.map(((e,t)=>t%2==0?Number(e)+1:".")).join("");a="all"===i?e:h(e,w,l,n,o);break}case"checkbox":a=b(e.isCheckedByCheckboxRow(w)),r._checkboxLabel=u.labelField?sp.get(w,u.labelField):"",r._checkboxDisabled=u.checkMethod&&!u.checkMethod({$table:e,row:w});break;case"radio":a=b(e.isCheckedByRadioRow(w)),r._radioLabel=c.labelField?sp.get(w,c.labelField):"",r._radioDisabled=c.checkMethod&&!c.checkMethod({$table:e,row:w});break;default:if(t.original)a=rE(w,n);else if(a=e.getCellLabel(w,n),"html"===n.type)IT.innerHTML=a,a=IT.innerText.trim();else{const t=e.getCellElement(w,n);t&&!ES(t,"is--progress")&&(a=t.innerText.trim())}}r[n.id]=x(a)})),p.set(w,1),s.push(Object.assign(r,w))}}),{children:o}),s}return l.map(((o,l)=>{const r={_row:o};return n.forEach(((n,a)=>{let s="";const d=n.editRender||n.cellRender;let p=n.exportMethod||f.exportMethod;if(!p&&d&&d.name){const e=RT.get(d.name);e&&(p=e.tableExportMethod||e.exportMethod)}if(p)s=p({$table:e,row:o,column:n,options:t});else switch(n.type){case"seq":{const e=l+1;s="all"===i?e:h(e,o,l,n,a);break}case"checkbox":s=b(e.isCheckedByCheckboxRow(o)),r._checkboxLabel=u.labelField?sp.get(o,u.labelField):"",r._checkboxDisabled=u.checkMethod&&!u.checkMethod({$table:e,row:o});break;case"radio":s=b(e.isCheckedByRadioRow(o)),r._radioLabel=c.labelField?sp.get(o,c.labelField):"",r._radioDisabled=c.checkMethod&&!c.checkMethod({$table:e,row:o});break;default:if(t.original)s=rE(o,n);else if(s=e.getCellLabel(o,n),"html"===n.type)IT.innerHTML=s,s=IT.innerText.trim();else{const t=e.getCellElement(o,n);t&&!ES(t,"is--progress")&&(s=t.innerText.trim())}}r[n.id]=x(s)})),r}))},y=(t,n,o)=>{const l=g.value,r=o.editRender||o.cellRender;let a=o.footerExportMethod;if(!a&&r&&r.name){const e=RT.get(r.name);e&&(a=e.tableFooterExportMethod||e.footerExportMethod)}a||(a=l.footerExportMethod);const i=e.getVTColumnIndex(o);return a?a({$table:e,items:n,itemIndex:i,row:n,_columnIndex:i,column:o,options:t}):sp.isArray(n)?sp.toValueString(n[i]):sp.get(n,o.field)},C=(e,t,n,o)=>{let r="\ufeff";if(t.isHeader&&(r+=n.map((e=>NT(v(t,e)))).join(",")+MT),o.forEach((e=>{r+=n.map((t=>NT(function(e,t){if(t){if("seq"===e.type)return`\t${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`\t${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`\t${t}`}}return t}(t,e[t.id])))).join(",")+MT})),t.isFooter){const{footerTableData:o}=l;$T(e,t,o).forEach((e=>{r+=n.map((n=>NT(y(t,e,n)))).join(",")+MT}))}return r},S=(e,t,n)=>{const o=e[t],r=sp.isUndefined(o)||sp.isNull(o)?n:o;let a="title"===r||(!0===r||"tooltip"===r)||"ellipsis"===r;const{scrollXLoad:i,scrollYLoad:s}=l;return!i&&!s||a||(a=!0),a},E=(t,n,i,s)=>{if(i.length)switch(n.type){case"csv":return C(t,n,i,s);case"txt":return((e,t,n,o)=>{let r="";if(t.isHeader&&(r+=n.map((e=>NT(v(t,e)))).join("\t")+MT),o.forEach((e=>{r+=n.map((t=>NT(e[t.id]))).join("\t")+MT})),t.isFooter){const{footerTableData:o}=l;$T(e,t,o).forEach((e=>{r+=n.map((n=>NT(y(t,e,n)))).join("\t")+MT}))}return r})(t,n,i,s);case"html":return((t,n,i)=>{const{id:s,border:c,treeConfig:u,headerAlign:d,align:p,footerAlign:m,showOverflow:g,showHeaderOverflow:f}=o,{isAllSelected:h,isIndeterminate:b}=l,{mergeBodyCellMaps:x}=r,w=a.value,{print:C,isHeader:E,isFooter:D,isColgroup:T,isMerge:O,colgroups:k,original:R}=t,I="check-all",M=[`<table class="${["vxe-table",`border--${VT(c)}`,C?"is--print":"",E?"is--header":""].filter((e=>e)).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${n.map((e=>`<col style="width:${e.renderWidth}px">`)).join("")}</colgroup>`];if(E&&(M.push("<thead>"),T&&!R?k.forEach((e=>{M.push(`<tr>${e.map((e=>{const n=e.headerAlign||e.align||d||p,o=S(e,"showHeaderOverflow",f)?["col--ellipsis"]:[],l=v(t,e);let r=0,a=0;sp.eachTree([e],(t=>{t.childNodes&&e.childNodes.length||a++,r+=t.renderWidth}),{children:"childNodes"});const i=r-a;return n&&o.push(`col--${n}`),"checkbox"===e.type?`<th class="${o.join(" ")}" colspan="${e._colSpan}" rowspan="${e._rowSpan}"><div ${C?"":`style="width: ${i}px"`}><input type="checkbox" class="${I}" ${h?"checked":""}><span>${l}</span></div></th>`:`<th class="${o.join(" ")}" colspan="${e._colSpan}" rowspan="${e._rowSpan}" title="${l}"><div ${C?"":`style="width: ${i}px"`}><span>${PC(l,!0)}</span></div></th>`})).join("")}</tr>`)})):M.push(`<tr>${n.map((e=>{const n=e.headerAlign||e.align||d||p,o=S(e,"showHeaderOverflow",f)?["col--ellipsis"]:[],l=v(t,e);return n&&o.push(`col--${n}`),"checkbox"===e.type?`<th class="${o.join(" ")}"><div ${C?"":`style="width: ${e.renderWidth}px"`}><input type="checkbox" class="${I}" ${h?"checked":""}><span>${l}</span></div></th>`:`<th class="${o.join(" ")}" title="${l}"><div ${C?"":`style="width: ${e.renderWidth}px"`}><span>${PC(l,!0)}</span></div></th>`})).join("")}</tr>`),M.push("</thead>")),i.length&&(M.push("<tbody>"),u?i.forEach((e=>{M.push("<tr>"+n.map((t=>{const n=t.id,o=t.align||p,l=S(t,"showOverflow",g)?["col--ellipsis"]:[],r=e[n];if(o&&l.push(`col--${o}`),t.treeNode){let n="";return e._hasChild&&(n=`<i class="${e._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),l.push("vxe-table--tree-node"),"radio"===t.type?`<td class="${l.join(" ")}" title="${r}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*w.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${s}" ${e._radioDisabled?"disabled ":""}${AT(r)?"checked":""}><span>${e._radioLabel}</span></div></div></div></td>`:"checkbox"===t.type?`<td class="${l.join(" ")}" title="${r}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*w.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${AT(r)?"checked":""}><span>${e._checkboxLabel}</span></div></div></div></td>`:`<td class="${l.join(" ")}" title="${r}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${e._level*w.indent}px"><div class="vxe-table--tree-icon-wrapper">${n}</div><div class="vxe-table--tree-cell">${r}</div></div></div></td>`}return"radio"===t.type?`<td class="${l.join(" ")}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><input type="radio" name="radio_${s}" ${e._radioDisabled?"disabled ":""}${AT(r)?"checked":""}><span>${e._radioLabel}</span></div></td>`:"checkbox"===t.type?`<td class="${l.join(" ")}"><div ${C?"":`style="width: ${t.renderWidth}px"`}><input type="checkbox" ${e._checkboxDisabled?"disabled ":""}${AT(r)?"checked":""}><span>${e._checkboxLabel}</span></div></td>`:`<td class="${l.join(" ")}" title="${r}"><div ${C?"":`style="width: ${t.renderWidth}px"`}>${PC(r,!0)}</div></td>`})).join("")+"</tr>")})):i.forEach((t=>{M.push("<tr>"+n.map((n=>{const o=n.align||p,l=S(n,"showOverflow",g)?["col--ellipsis"]:[],r=t[n.id];let a=1,i=1;if(O){const o=e.getVTRowIndex(t._row),l=e.getVTColumnIndex(n),r=x[`${o}:${l}`];if(r){const{rowspan:e,colspan:t}=r;if(!e||!t)return"";e>1&&(a=e),t>1&&(i=t)}}return o&&l.push(`col--${o}`),"radio"===n.type?`<td class="${l.join(" ")}" rowspan="${a}" colspan="${i}"><div ${C?"":`style="width: ${n.renderWidth}px"`}><input type="radio" name="radio_${s}" ${t._radioDisabled?"disabled ":""}${AT(r)?"checked":""}><span>${t._radioLabel}</span></div></td>`:"checkbox"===n.type?`<td class="${l.join(" ")}" rowspan="${a}" colspan="${i}"><div ${C?"":`style="width: ${n.renderWidth}px"`}><input type="checkbox" ${t._checkboxDisabled?"disabled ":""}${AT(r)?"checked":""}><span>${t._checkboxLabel}</span></div></td>`:`<td class="${l.join(" ")}" rowspan="${a}" colspan="${i}" title="${r}"><div ${C?"":`style="width: ${n.renderWidth}px"`}>${PC(r,!0)}</div></td>`})).join("")+"</tr>")})),M.push("</tbody>")),D){const{footerTableData:o}=l,r=$T(e,t,o);r.length&&(M.push("<tfoot>"),r.forEach((e=>{M.push(`<tr>${n.map((n=>{const o=n.footerAlign||n.align||m||p,l=S(n,"showOverflow",g)?["col--ellipsis"]:[],r=y(t,e,n);return o&&l.push(`col--${o}`),`<td class="${l.join(" ")}" title="${r}"><div ${C?"":`style="width: ${n.renderWidth}px"`}>${PC(r,!0)}</div></td>`})).join("")}</tr>`)})),M.push("</tfoot>"))}const P=!h&&b?`<script>(function(){var a=document.querySelector(".${I}");if(a){a.indeterminate=true}})()<\/script>`:"";return M.push("</table>",P),C?M.join(""):function(e,t){const{style:n}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>','<style>body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",,"MicrosoftJhengHei",,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}</style>',n?`<style>${n}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}(t,M.join(""))})(n,i,s);case"xml":return((t,n,o)=>{let r=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${t.sheetName}">`,"<Table>",n.map((e=>`<Column ss:Width="${e.renderWidth}"/>`)).join("")].join("");if(t.isHeader&&(r+=`<Row>${n.map((e=>`<Cell><Data ss:Type="String">${v(t,e)}</Data></Cell>`)).join("")}</Row>`),o.forEach((e=>{r+="<Row>"+n.map((t=>`<Cell><Data ss:Type="String">${e[t.id]}</Data></Cell>`)).join("")+"</Row>"})),t.isFooter){const{footerTableData:o}=l;$T(e,t,o).forEach((e=>{r+=`<Row>${n.map((n=>`<Cell><Data ss:Type="String">${y(t,e,n)}</Data></Cell>`)).join("")}</Row>`}))}return`${r}</Table></Worksheet></Workbook>`})(n,i,s)}return""},D=(e,t)=>{const{filename:n,type:o,download:l}=e;if(!l){const n=function(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}(t,e);return Promise.resolve({type:o,content:t,blob:n})}$m.saveFile&&$m.saveFile({filename:n,type:o,content:t}).then((()=>{!1!==e.message&&$m.modal&&$m.modal.message({content:OT("vxe.table.expSuccess"),status:"success"})}))},T=t=>{const{remote:n,columns:o,colgroups:l,exportMethod:r,afterExportMethod:a}=t;return new Promise((a=>{if(n){const n={options:t,$table:e,$grid:f};a(r?r(n):n)}else{const n=(t=>{const{columns:n,dataFilterMethod:o}=t;let l=t.data;return o&&(l=l.filter(((t,n)=>o({$table:e,row:t,$rowIndex:n})))),w(t,n,l)})(t);a(e.preventEvent(null,"event.export",{options:t,columns:o,colgroups:l,datas:n},(()=>D(t,E(e,t,o,n)))))}})).then((n=>(WT(o),t.print||a&&a({status:!0,options:t,$table:e,$grid:f}),Object.assign({status:!0},n)))).catch((()=>{WT(o),t.print||a&&a({status:!1,options:t,$table:e,$grid:f});return Promise.reject({status:!1})}))},O=(t,n)=>{const{tableFullColumn:o,_importResolve:l,_importReject:a}=r;let i={fields:[],rows:[]};const s={},c={};o.forEach((e=>{const t=e.field,n=e.getTitle();t&&(s[t]=e),n&&(c[e.getTitle()]=e)}));const u={fieldMaps:s,titleMaps:c};switch(n.type){case"csv":i=function(e,t){return HT(e,t,",")}(u,t);break;case"txt":i=function(e,t){return HT(e,t,"\t")}(u,t);break;case"html":i=function(e,t){const n=LT((new DOMParser).parseFromString(t,"text/html"),"body"),o=[],l=[];if(n.length){const t=LT(n[0],"table");if(t.length){const n=LT(t[0],"thead");if(n.length){sp.arrayEach(LT(n[0],"tr"),(t=>{sp.arrayEach(LT(t,"th"),(t=>{l.push(jT(e,t.textContent||""))}))}));const r=LT(t[0],"tbody");r.length&&sp.arrayEach(LT(r[0],"tr"),(e=>{const t={};sp.arrayEach(LT(e,"td"),((e,n)=>{l[n]&&(t[l[n]]=e.textContent||"")})),o.push(t)}))}}}return{fields:l,rows:o}}(u,t);break;case"xml":i=function(e,t){const n=LT((new DOMParser).parseFromString(t,"application/xml"),"Worksheet"),o=[],l=[];if(n.length){const t=LT(n[0],"Table");if(t.length){const n=LT(t[0],"Row");n.length&&(sp.arrayEach(LT(n[0],"Cell"),(t=>{l.push(jT(e,t.textContent||""))})),sp.arrayEach(n,((e,t)=>{if(t){const t={},n=LT(e,"Cell");sp.arrayEach(n,((e,n)=>{l[n]&&(t[l[n]]=e.textContent)})),o.push(t)}})))}}return{fields:l,rows:o}}(u,t)}const{fields:d,rows:p}=i;d.some((e=>s[e]||c[e]))?e.createData(p).then((t=>{let o;return"insert"!==n.mode&&"insertBottom"!==n.mode||(o=e.insertAt(t,-1)),o="insertTop"===n.mode?e.insert(t):e.reloadData(t),!1!==n.message&&$m.modal&&$m.modal.message({content:OT("vxe.table.impSuccess",[p.length]),status:"success"}),o.then((()=>{l&&l({status:!0})}))})):!1!==n.message&&($m.modal&&$m.modal.message({content:OT("vxe.error.impFields"),status:"error"}),a&&a({status:!1}))},k=(t,n)=>{const{importMethod:o,afterImportMethod:l}=n,{type:a,filename:i}=OC(t),s=c.value;if(!o&&!sp.includes(sp.keys(s._typeMaps),a)){!1!==n.message&&$m.modal&&$m.modal.message({content:OT("vxe.error.notType",[a]),status:"error"});const e={status:!1};return Promise.reject(e)}return new Promise(((l,s)=>{const c=e=>{l(e),r._importResolve=null,r._importReject=null},u=e=>{s(e),r._importResolve=null,r._importReject=null};if(r._importResolve=c,r._importReject=u,window.FileReader){const l=Object.assign({mode:"insertTop"},n,{type:a,filename:i});if(l.remote)o?Promise.resolve(o({file:t,options:l,$table:e})).then((()=>{c({status:!0})})).catch((()=>{c({status:!0})})):c({status:!0});else{const{tableFullColumn:n}=r;e.preventEvent(null,"event.import",{file:t,options:l,columns:n},(()=>{const e=new FileReader;e.onerror=()=>{pS("vxe.error.notType",[a]),u({status:!1})},e.onload=e=>{O(e.target.result,l)},e.readAsText(t,l.encoding||"UTF-8")}))}}else pS("vxe.error.notExp"),c({status:!0})})).then((()=>{l&&l({status:!0,options:n,$table:e})})).catch((t=>(l&&l({status:!1,options:n,$table:e}),Promise.reject(t))))},R=(e,t,n)=>n.some((e=>{if(uE(e))return t.id===e.id;if(sp.isString(e))return t.field===e;{const n=e.id||e.colId,o=e.type,l=e.field;if(n)return t.id===n;if(l&&o)return t.field===l&&t.type===o;if(l)return t.field===l;if(o)return t.type===o}return!1})),I=(e,t,n,o)=>(!o||!sp.includes(o,t.field))&&(n?!!sp.includes(n,t.field):e.original?!!t.field:PT(t)),M=(n,a)=>{const{treeConfig:i,showHeader:c,showFooter:d}=o,{initStore:p,isGroup:m,footerTableData:g,exportStore:h,exportParams:v}=l,{collectColumn:b,mergeBodyList:x,mergeFooterList:w}=r,y=s.value,C=i,S=u.value,E=e.getCheckboxRecords(),D=f?f.getComputeMaps().computeProxyOpts.value:{},T=!!g.length,O=!(!x.length&&!w.length),k=Object.assign({message:!0,isHeader:c,isTitle:c,isFooter:d,isColgroup:m,isMerge:O,useStyle:!0,current:"current",modes:(D.ajax&&D.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},n),M=k.types||sp.keys(y._typeMaps),P=k.modes||[],F=S.checkMethod,V=b.slice(0),{columns:A,excludeFields:$,includeFields:N}=k,L=M.map((e=>({value:e,label:OT(`vxe.export.types.${e}`)}))),_=P.map((e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:OT(`vxe.export.modes.${e}`)}));sp.eachTree(V,((t,n,o,l,r)=>{const a=t.children&&t.children.length>0;let i=!1;i=A&&A.length?R(0,t,A):$||N?I(k,t,N,$):t.visible&&(a||PT(t)),t.checked=i,t.halfChecked=!1,t.disabled=r&&r.disabled||!!F&&!F({$table:e,column:t})})),Object.assign(h,{columns:V,typeList:L,modeList:_,hasFooter:T,hasMerge:O,hasTree:C,isPrint:a,hasColgroup:m,visible:!0}),Object.assign(v,{mode:E.length?"selected":"current"},k);const{filename:B,sheetName:z,mode:j,type:H}=v;return B&&(sp.isFunction(B)?v.filename=B({options:k,$table:e,$grid:f}):v.filename=`${B}`),z&&(sp.isFunction(z)?v.sheetName=z({options:k,$table:e,$grid:f}):v.sheetName=`${z}`),_.some((e=>e.value===j))||(v.mode=_[0].value),L.some((e=>e.value===H))||(v.type=L[0].value),p.export=!0,t()},P=()=>$m.modal?$m.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),F={exportData(t){const{treeConfig:n,showHeader:i,showFooter:c}=o,{isGroup:u}=l,{tableFullColumn:d,afterFullData:p,collectColumn:m,mergeBodyList:g,mergeFooterList:h}=r,v=s.value,b=a.value,x=f?f.getComputeMaps().computeProxyOpts.value:{},w=!(!g.length&&!h.length),y=Object.assign({message:!0,isHeader:i,isTitle:i,isFooter:c,isColgroup:u,isMerge:w,useStyle:!0,current:"current",modes:(x.ajax&&x.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},v,t);let{filename:C,sheetName:S,type:E,mode:D,columns:O,original:k,columnFilterMethod:M,beforeExportMethod:P,includeFields:F,excludeFields:V}=y,A=[];const $=e.getCheckboxRecords();D||(D=$.length?"selected":"current");let N=!1,L=[];O&&O.length?(N=!0,L=O):L=sp.searchTree(m,(e=>{const t=e.children&&e.children.length>0;let n=!1;return n=O&&O.length?R(0,e,O):V||F?I(y,e,F,V):e.visible&&(t||PT(e)),n}),{children:"children",mapChildren:"childNodes",original:!0});const _=Object.assign({},y,{filename:"",sheetName:""});N||M||(M=({column:e})=>(!V||!sp.includes(V,e.field))&&(F?!!sp.includes(F,e.field):k?!!e.field:PT(e)),_.columnFilterMethod=M),L?(_._isCustomColumn=!0,A=sp.searchTree(sp.mapTree(L,(t=>{let n;if(t){if(uE(t))n=t;else if(sp.isString(t))n=e.getColumnByField(t);else{const o=t.id||t.colId,l=t.type,r=t.field;o?n=e.getColumnById(o):r&&l?n=d.find((e=>e.field===r&&e.type===l)):r?n=e.getColumnByField(r):l&&(n=d.find((e=>e.type===l)))}return n||{}}}),{children:"childNodes",mapChildren:"_children"}),((t,n)=>uE(t)&&(!M||M({$table:e,column:t,$columnIndex:n}))),{children:"_children",mapChildren:"childNodes",original:!0})):A=sp.searchTree(u?m:d,((t,n)=>t.visible&&(!M||M({$table:e,column:t,$columnIndex:n}))),{children:"children",mapChildren:"childNodes",original:!0});const B=[];if(sp.eachTree(A,(e=>{e.children&&e.children.length||B.push(e)}),{children:"childNodes"}),_.columns=B,_.colgroups=(e=>{let t=1;const n=(e,o)=>{if(o&&(e._level=o._level+1,t<e._level&&(t=e._level)),e.childNodes&&e.childNodes.length){let t=0;e.childNodes.forEach((o=>{n(o,e),t+=o._colSpan})),e._colSpan=t}else e._colSpan=1};e.forEach((e=>{e._level=1,n(e)}));const o=[];for(let l=0;l<t;l++)o.push([]);return FT(e).forEach((e=>{e.childNodes&&e.childNodes.length?e._rowSpan=1:e._rowSpan=t-e._level+1,o[e._level-1].push(e)})),o})(A),C&&(sp.isFunction(C)?_.filename=C({options:y,$table:e,$grid:f}):_.filename=`${C}`),_.filename||(_.filename=OT(_.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[sp.toDateString(Date.now(),"yyyyMMddHHmmss")])),S&&(sp.isFunction(S)?_.sheetName=S({options:y,$table:e,$grid:f}):_.sheetName=`${S}`),_.sheetName||(_.sheetName=document.title||""),!_.exportMethod&&!sp.includes(sp.keys(v._typeMaps),E)){pS("vxe.error.notType",[E]),["xlsx","pdf"].includes(E)&&dS("vxe.error.reqPlugin",[4,"plugin-export-xlsx"]);const e={status:!1};return Promise.reject(e)}if(_.print||P&&P({options:_,$table:e,$grid:f}),!_.data){if(_.data=[],"selected"===D)["html","pdf"].indexOf(E)>-1&&n?_.data=sp.searchTree(e.getTableData().fullData,(t=>e.findRowIndexOf($,t)>-1),Object.assign({},b,{data:"_row"})):_.data=$;else if("all"===D&&(f||pS("vxe.error.errProp",["all","mode=current,selected"]),f&&!_.remote)){const t=f.reactData,{computeProxyOpts:n}=f.getComputeMaps(),o=n.value,{sortData:l}=t,{beforeQueryAll:r,afterQueryAll:a,ajax:i={}}=o,s=o.response||o.props||{},c=i.queryAll,u=i.queryAllSuccess,d=i.queryAllError;if(c||pS("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),c){const n={$table:e,$grid:f,sort:l.length?l[0]:{},sorts:l,filters:t.filterData,form:t.formData,options:_};return Promise.resolve((r||c)(n)).then((e=>{const t=s.list;return _.data=(t?sp.isFunction(t)?t({data:e,$grid:f}):sp.get(e,t):e)||[],a&&a(n),u&&u(Object.assign(Object.assign({},n),{response:e})),T(_)})).catch((e=>{d&&d(Object.assign(Object.assign({},n),{response:e}))}))}}"current"===D&&(_.data=p)}return T(_)},importByFile(t,n){const o=Object.assign({},n),{beforeImportMethod:l}=o;return l&&l({options:o,$table:e}),k(t,o)},importData(t){const n=c.value,o=Object.assign({types:sp.keys(n._typeMaps)},n,t),{beforeImportMethod:l,afterImportMethod:r}=o;return l&&l({options:o,$table:e}),$m.readFile(o).catch((t=>(r&&r({status:!1,options:o,$table:e}),Promise.reject(t)))).then((e=>{const{file:t}=e;return k(t,o)}))},saveFile:e=>$m.saveFile(e),readFile:e=>$m.readFile(e),print(t){const n=i.value,o=Object.assign({original:!1},n,t,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:l}=o;let r="";l&&(r=sp.isFunction(l)?l({options:o,$table:e,$grid:f}):`${l}`),r||(r=document.title||"");const a=o.beforePrintMethod,s=o.html||o.content;return new Promise(((t,n)=>{if($m.print)t(s?$m.print({title:r,html:s,customStyle:o.style,beforeMethod:a?({html:t})=>a({html:t,content:t,options:o,$table:e}):void 0}):F.exportData(o).then((({content:t})=>$m.print({title:r,html:t,customStyle:o.style,beforeMethod:a?({html:t})=>a({html:t,content:t,options:o,$table:e}):void 0}))));else{n({status:!1})}}))},getPrintHtml(t){const n=i.value,o=Object.assign({original:!1},n,t,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(o).then((({content:e})=>({html:e})))},closeImport:()=>$m.modal?$m.modal.close("VXE_IMPORT_MODAL"):Promise.resolve(),openImport(e){const{treeConfig:t,importConfig:n}=o,{initStore:r,importStore:a,importParams:i}=l,s=c.value,u=Object.assign({mode:"insertTop",message:!0,types:sp.keys(s._typeMaps),modes:["insertTop","covering"]},s,e),d=u.types||[],p=u.modes||[];if(!!t)return void(u.message&&$m.modal&&$m.modal.message({content:OT("vxe.error.treeNotImp"),status:"error"}));n||pS("vxe.error.reqProp",["import-config"]);const m=d.map((e=>({value:e,label:OT(`vxe.export.types.${e}`)}))),g=p.map((e=>e&&e.value?{value:e.value,label:e.label||e.value}:{value:e,label:OT(`vxe.import.modes.${e}`)}));Object.assign(a,{file:null,type:"",filename:"",modeList:g,typeList:m,visible:!0}),Object.assign(i,u),g.some((e=>e.value===i.mode))||(i.mode=g[0].value),r.import=!0},closeExport:P,openExport(e){const t=s.value,n=Object.assign({message:!0,types:sp.keys(t._typeMaps)},t,e);return o.exportConfig||pS("vxe.error.reqProp",["export-config"]),M(n)},closePrint:P,openPrint(e){const t=i.value,n=Object.assign({message:!0},t,e);return o.printConfig||pS("vxe.error.reqProp",["print-config"]),M(n,!0)}};return F},setupGrid:e=>e.extendTableMethods(qT)});const{hooks:UT}=$m,GT=sp.browse();UT.add("tableKeyboardModule",{setupTable(e){const{props:t,reactData:n,internalData:o}=e,{refElem:l}=e.getRefMaps(),{computeEditOpts:r,computeCheckboxOpts:a,computeMouseOpts:i,computeTreeOpts:s,computeRowOpts:c,computeColumnOpts:u,computeCellOpts:d,computeDefaultRowHeight:p,computeCurrentRowOpts:m,computeCurrentColumnOpts:g}=e.getComputeMaps();const f=(r,a)=>{const{elemStore:i}=o,s=iE(i["main-body-scroll"]),u=iE(i["left-body-scroll"]),m=iE(i["right-body-scroll"]),{column:g,cell:f}=a;if("checkbox"===g.type){let i=s;if(u&&"left"===g.fixed?i=u:m&&"right"===g.fixed&&(i=m),!i)return;const h=l.value,v=r.clientX,b=r.clientY,x=i.querySelector(".vxe-table--checkbox-range"),w=f.parentElement,y=e.getCheckboxRecords();let C=[];const S=1,E=function(e,t){let n=0,o=0;const l=!GT.firefox&&ES(e,"vxe-checkbox--label");if(l){const t=getComputedStyle(e);n-=sp.toNumber(t.paddingTop),o-=sp.toNumber(t.paddingLeft)}for(;e&&e!==t;)if(n+=e.offsetTop,o+=e.offsetLeft,e=e.offsetParent,l){const t=getComputedStyle(e);n-=sp.toNumber(t.paddingTop),o-=sp.toNumber(t.paddingLeft)}return{offsetTop:n,offsetLeft:o}}(r.target,i),D=E.offsetTop+r.offsetY,T=E.offsetLeft+r.offsetX,O=i.scrollTop,k=w.offsetHeight,R=w.getBoundingClientRect(),I=b-R.y;let M=null,P=!1,F=1;const V=(t,n)=>{e.dispatchEvent(`checkbox-range-${t}`,{records:()=>e.getCheckboxRecords(),reserves:()=>e.getCheckboxReserveRecords()},n)},A=l=>{const{clientX:r,clientY:s}=l,u=r-v,m=s-b+(i.scrollTop-O);let g=Math.abs(m),f=Math.abs(u),h=D,E=T;m<S?(h+=m,h<S&&(h=S,g=D)):g=Math.min(g,i.scrollHeight-D-S),u<S?(E+=u,f>T&&(E=S,f=T)):f=Math.min(f,i.clientWidth-T-S),x.style.height=`${g}px`,x.style.width=`${f}px`,x.style.left=`${E}px`,x.style.top=`${h}px`,x.style.display="block";const k=function(l,r,a,i,s,u){const{showOverflow:m}=t,{fullAllDataRowIdData:g,isResizeCellHeight:f}=o,h=c.value,v=d.value,b=p.value,{row:x}=r;let w=0,y=[],C=0;const S=u>0,{scrollYLoad:E}=n,{afterFullData:D}=o;if(C=S?s+u:i.height-s+Math.abs(u),E){const t=e.getVTRowIndex(x);if(f||v.height||h.height||!m)if(S)for(let n=t;n<D.length;n++){const t=D[n],o=g[e.getRowid(t)]||{};if(w+=o.resizeHeight||v.height||h.height||o.height||b,y.push(t),w>C)return y}else for(let n=t;n>=0;n--){const t=D[n],o=g[e.getRowid(t)]||{};if(w+=o.resizeHeight||v.height||h.height||o.height||b,y.push(t),w>C)return y}else y=S?D.slice(t,t+Math.ceil(C/b)):D.slice(t-Math.floor(C/b),t+1)}else{const t=S?"next":"previous";for(;a&&w<C;){const n=e.getRowNode(a);n&&(y.push(n.item),w+=a.offsetHeight,a=a[`${t}ElementSibling`])}}return y}(0,a,w,R,I,m<S?-g:g);if(g>10&&k.length!==C.length){const t=OS(l);C=k,t?k.forEach((t=>{e.handleBatchSelectRows([t],-1===y.indexOf(t))})):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(k,!0,!1)),V("change",l)}},$=()=>{clearTimeout(M),M=null},N=t=>{$(),M=setTimeout((()=>{if(M){const{scrollLeft:n,scrollTop:o,clientHeight:l,scrollHeight:r}=i,a=Math.ceil(50*F/k);P?o+l<r?(e.scrollTo(n,o+a),N(t),A(t)):$():o?(e.scrollTo(n,o-a),N(t),A(t)):$()}}),50)};TS(h,"drag--range"),document.onmousemove=e=>{e.preventDefault(),e.stopPropagation();const{clientY:t}=e,{boundingTop:n}=NS(i);t<n?(P=!1,F=n-t,M||N(e)):t>n+i.clientHeight?(P=!0,F=t-n-i.clientHeight,M||N(e)):M&&$(),A(e)},document.onmouseup=e=>{$(),DS(h,"drag--range"),x.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,V("end",e)},V("start",r)}},h=(t,n,l,r,a,i)=>{const{afterFullData:s,visibleColumn:c}=o,u=Object.assign({},n),d=e.getVTRowIndex(u.row),p=e.getVTColumnIndex(u.column);return t.preventDefault(),r&&d>0?(u.rowIndex=d-1,u.row=s[u.rowIndex]):i&&d<s.length-1?(u.rowIndex=d+1,u.row=s[u.rowIndex]):l&&p?(u.columnIndex=p-1,u.column=c[u.columnIndex]):a&&p<c.length-1&&(u.columnIndex=p+1,u.column=c[u.columnIndex]),e.scrollToRow(u.row,u.column).then((()=>{u.cell=e.getCellElement(u.row,u.column),e.handleSelected(u,t)})),u};return{moveTabSelected(n,l,a){const{editConfig:i}=t,{afterFullData:s,visibleColumn:d}=o,p=r.value,f=c.value,h=m.value,v=u.value,b=g.value;let x,w,y;const C=Object.assign({},n),S=e.getVTRowIndex(C.row),E=e.getVTColumnIndex(C.column);a.preventDefault(),l?E<=0?S>0&&(w=S-1,x=s[w],y=d.length-1):y=E-1:E>=d.length-1?S<s.length-1&&(w=S+1,x=s[w],y=0):y=E+1;const D=d[y];D&&(x?(C.rowIndex=w,C.row=x):C.rowIndex=S,C.columnIndex=y,C.column=D,C.cell=e.getCellElement(C.row,C.column),f.isCurrent&&h.isFollowSelected&&e.triggerCurrentRowEvent(a,C),v.isCurrent&&b.isFollowSelected&&e.triggerCurrentColumnEvent(a,C),i?"click"!==p.trigger&&"dblclick"!==p.trigger||("row"===p.mode?e.handleEdit(C,a):e.scrollToRow(C.row,C.column).then((()=>{e.handleSelected(C,a)}))):e.scrollToRow(C.row,C.column).then((()=>{e.handleSelected(C,a)})))},moveCurrentRow(l,r,a){const{treeConfig:i}=t,{currentRow:c}=n,{afterFullData:u}=o,d=s.value,p=d.children||d.childrenField;let m;if(c)if(i){const{index:e,items:t}=sp.findTree(u,(e=>e===c),{children:p});l&&e>0?m=t[e-1]:r&&e<t.length-1&&(m=t[e+1])}else{const t=e.getVTRowIndex(c);l&&t>0?m=u[t-1]:r&&t<u.length-1&&(m=u[t+1])}else m=u[0];if(m){a.preventDefault();const t={$table:e,row:m,rowIndex:e.getRowIndex(m),$rowIndex:e.getVMRowIndex(m)};e.scrollToRow(m).then((()=>e.triggerCurrentRowEvent(a,t)))}},moveCurrentColumn(t,l,r){const{currentColumn:a}=n,{visibleColumn:i}=o;let s=null;if(a){const n=e.getVTColumnIndex(a);t&&n>0?s=i[n-1]:l&&n<i.length-1&&(s=i[n+1])}else s=i[0];if(s){r.preventDefault();const t={$table:e,column:s,columnIndex:e.getColumnIndex(s),$columnIndex:e.getVMColumnIndex(s)};e.scrollToColumn(s).then((()=>e.triggerCurrentColumnEvent(r,t)))}},moveArrowSelected(n,o,l,r,a,i){const{highlightCurrentRow:s,highlightCurrentColumn:d}=t,p=c.value,f=m.value,v=u.value,b=g.value,x=h(i,n,o,l,r,a);(p.isCurrent||s)&&(f.isFollowSelected?e.triggerCurrentRowEvent(i,x):(l||a)&&(p.isCurrent||s)&&e.moveCurrentRow(l,a,i)),(v.isCurrent||d)&&(b.isFollowSelected?e.triggerCurrentColumnEvent(i,x):(o||r)&&(v.isCurrent||d)&&e.moveCurrentColumn(o,r,i))},moveEnterSelected(n,o,l,r,a,i){const{highlightCurrentRow:s,highlightCurrentColumn:d}=t,p=c.value,f=m.value,v=u.value,b=g.value,x=h(i,n,o,l,r,a);(p.isCurrent||s)&&f.isFollowSelected&&e.triggerCurrentRowEvent(i,x),(v.isCurrent||d)&&b.isFollowSelected&&e.triggerCurrentColumnEvent(i,x)},moveSelected(e,t,n,o,l,r){h(r,e,t,n,o,l)},handleCellMousedownEvent:(n,o)=>{const{editConfig:l,checkboxConfig:s,mouseConfig:c}=t,u=a.value,d=i.value,p=r.value;if(c&&d.area&&e.triggerCellAreaMousedownEvent)return e.triggerCellAreaMousedownEvent(n,o);s&&u.range&&f(n,o),c&&d.selected&&(l&&"cell"!==p.mode||e.handleSelected(o,n))}}}});const{getConfig:KT,validators:YT,hooks:XT}=$m;class ZT{constructor(e){Object.assign(this,{$options:e,required:e.required,min:e.min,max:e.max,type:e.type,pattern:e.pattern,validator:e.validator,trigger:e.trigger,maxWidth:e.maxWidth})}get content(){return MC(this.$options.content||this.$options.message)}get message(){return this.content}}function QT(e,t){return!(!sp.eqNull(e)&&t>sp.toNumber(e))}function JT(e,t){return!(!sp.eqNull(e)&&t<sp.toNumber(e))}function eO(e,t,n){const{type:o,min:l,max:r,pattern:a}=e,i="array"===o,s="number"===o,c="string"===o,u=`${t}`;if(!function(e,t){return!(e&&!(sp.isRegExp(e)?e:new RegExp(e)).test(t))}(a,u))return!1;if(i){if(!sp.isArray(t))return!1;if(n&&!t.length)return!1;if(!JT(l,t.length))return!1;if(!QT(r,t.length))return!1}else if(s){const e=Number(t);if(isNaN(e))return!1;if(!JT(l,e))return!1;if(!QT(r,e))return!1}else{if(c&&!sp.isString(t))return!1;if(n&&!u)return!1;if(!JT(l,u.length))return!1;if(!QT(r,u.length))return!1}return!0}const tO=["fullValidate","validate","fullValidateField","validateField","clearValidate"];XT.add("tableValidatorModule",{setupTable(e){const{props:n,reactData:o,internalData:l}=e,{refValidTooltip:r}=e.getRefMaps(),{computeValidOpts:a,computeTreeOpts:i,computeEditOpts:s,computeAggregateOpts:c}=e.getComputeMaps();let u,d={},p={};const m=(r,s,m,g)=>{const f={},{editRules:h,treeConfig:v}=n,{isRowGroupStatus:b}=o,{afterFullData:x,pendingRowMaps:w,removeRowMaps:y}=l,C=i.value,S=c.value,E=a.value;let D;!0===r?D=x:r&&(sp.isFunction(r)?m=r:D=sp.isArray(r)?r:[r]),D||(D=e.getInsertRecords?e.getInsertRecords().concat(e.getUpdateRecords()):[]);const T=[];l._lastCallTime=Date.now(),u=!1,d.clearValidate();const O={};if(h){const n=s&&s.length?s:e.getColumns(),l=t=>{const o=WS(e,t);if(!y[o]&&!w[o]&&!e.isAggregateRecord(t)&&(g||!u)){const o=[];n.forEach((n=>{const l=sp.isString(n)?n:n.field;!g&&u||!sp.has(h,l)||o.push(p.validCellRules("all",t,n).catch((({rule:o,rules:r})=>{const a={rule:o,rules:r,rowIndex:e.getRowIndex(t),row:t,columnIndex:e.getColumnIndex(n),column:n,field:l,$table:e};if(f[l]||(f[l]=[]),O[`${WS(e,t)}:${n.id}`]={column:n,row:t,rule:o,content:o.content},f[l].push(a),!g)return u=!0,Promise.reject(a)})))})),T.push(Promise.all(o))}};if(b)sp.eachTree(D,l,{children:S.mapChildrenField});else if(v){const e=C.children||C.childrenField;sp.eachTree(D,l,{children:e})}else D.forEach(l);return Promise.all(T).then((()=>{const e=Object.keys(f);return o.validErrorMaps=(e=>{if("single"===a.value.msgMode){const t=Object.keys(e),n={};if(t.length){const o=t[0];n[o]=e[o]}return n}return e})(O),t().then((()=>{if(e.length)return Promise.reject(f[e[0]][0]);m&&m()}))})).catch((n=>new Promise(((o,l)=>{const r=()=>{t((()=>{m?(m(f),o()):"obsolete"===KT().validToReject?l(f):o(f)}))},i=()=>{var t,o;n.cell=e.getCellElement(n.row,n.column),(t=n.cell)&&(t[LS]?t[LS]():t[_S]&&t[_S]()),(o=n,new Promise((t=>{!1===a.value.autoPos?(e.dispatchEvent("valid-error",o,null),t()):e.handleEdit(o,{type:"valid-error",trigger:"call"}).then((()=>{t(p.showValidTooltip(o))}))}))).then(r)};if(!1===E.autoPos)r();else{const t=n.row,o=n.column;e.scrollToRow(t,o).then(i)}}))))}return o.validErrorMaps={},t().then((()=>{m&&m()}))};return d={fullValidate:(e,t)=>(sp.isFunction(t)&&dS("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),m(e,null,t,!0)),validate:(e,t)=>m(e,null,t),fullValidateField(n,o){const l=(sp.isArray(o)?o:o?[o]:[]).map((t=>QS(e,t)));return l.length?m(n,l,null,!0):t()},validateField(n,o){const l=(sp.isArray(o)?o:o?[o]:[]).map((t=>QS(e,t)));return l.length?m(n,l,null):t()},clearValidate(n,l){const{validErrorMaps:i}=o,s=r.value,c=a.value,u=sp.isArray(n)?n:n?[n]:[],d=(sp.isArray(l)?l:l?[l]:[]).map((t=>QS(e,t)));let p={};if(s&&s.reactData.visible&&s.close(),"single"===c.msgMode)return o.validErrorMaps={},t();if(u.length&&d.length)p=Object.assign({},i),u.forEach((t=>{d.forEach((n=>{const o=`${WS(e,t)}:${n.id}`;p[o]&&delete p[o]}))}));else if(u.length){const t=u.map((t=>`${WS(e,t)}`));sp.each(i,((e,n)=>{t.indexOf(n.split(":")[0])>-1&&(p[n]=e)}))}else if(d.length){const e=d.map((e=>`${e.id}`));sp.each(i,((t,n)=>{e.indexOf(n.split(":")[1])>-1&&(p[n]=t)}))}return o.validErrorMaps=p,t()}},p={validCellRules(t,o,l,r){const a=e.xeGrid,{editRules:i}=n,{field:s}=l,c=[],d=[];if(s&&i){const n=sp.get(i,s);if(n){const i=sp.isUndefined(r)?sp.get(o,s):r;n.forEach((r=>{const{trigger:s,validator:p}=r;if("all"===t||!s||t===s)if(p){const t={cellValue:i,rule:r,rules:n,row:o,rowIndex:e.getRowIndex(o),column:l,columnIndex:e.getColumnIndex(l),field:l.field,$table:e,$grid:a};let m;if(sp.isString(p)){const e=YT.get(p);if(e){const n=e.tableCellValidatorMethod||e.cellValidatorMethod;n?m=n(t):pS("vxe.error.notValidators",[p])}else pS("vxe.error.notValidators",[p])}else m=p(t);m&&(sp.isError(m)?(u=!0,c.push(new ZT({type:"custom",trigger:s,content:m.message,rule:new ZT(r)}))):m.catch&&d.push(m.catch((e=>{u=!0,c.push(new ZT({type:"custom",trigger:s,content:e&&e.message?e.message:r.content||r.message,rule:new ZT(r)}))}))))}else(function(e,t){const{required:n}=e,o=sp.isArray(t)?!t.length:FC(t);if(n){if(o)return!1;if(!eO(e,t,n))return!1}else if(!o&&!eO(e,t,n))return!1;return!0})(r,i)||(u=!0,c.push(new ZT(r)))}))}}return Promise.all(d).then((()=>{if(c.length){const e={rules:c,rule:c[0]};return Promise.reject(e)}}))},hasCellRules(e,t,o){const{editRules:l}=n,{field:r}=o;if(r&&l){const t=sp.get(l,r);return t&&!!sp.find(t,(t=>"all"===e||!t.trigger||e===t.trigger))}return!1},triggerValidate(e){const{editConfig:t,editRules:l}=n,{editStore:r}=o,{actived:i}=r,c=s.value,u=a.value;if(l&&"single"===u.msgMode&&(o.validErrorMaps={}),t&&l&&i.row){const{row:t,column:n,cell:o}=i.args;if(p.hasCellRules(e,t,n))return p.validCellRules(e,t,n).then((()=>{"row"===c.mode&&d.clearValidate(t,n)})).catch((({rule:l})=>{if(!l.trigger||e===l.trigger){const e={rule:l,row:t,column:n,cell:o};return p.showValidTooltip(e),Promise.reject(e)}return Promise.resolve()}))}return Promise.resolve()},showValidTooltip(l){const{height:i}=n,{tableData:s,validStore:c,validErrorMaps:u}=o,{rule:d,row:p,column:m,cell:g}=l,f=a.value,h=r.value,v=d.content;return c.visible=!0,"single"===f.msgMode?o.validErrorMaps={[`${WS(e,p)}:${m.id}`]:{column:m,row:p,rule:d,content:v}}:o.validErrorMaps=Object.assign({},u,{[`${WS(e,p)}:${m.id}`]:{column:m,row:p,rule:d,content:v}}),e.dispatchEvent("valid-error",l,null),h&&h&&("tooltip"===f.message||"default"===f.message&&!i&&s.length<2)?h.open(g,v):t()}},Object.assign(Object.assign({},d),p)},setupGrid:e=>e.extendTableMethods(tO)});const nO=["openCustom","closeCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];$m.hooks.add("tableCustomModule",{setupTable(e){const{reactData:n,internalData:o}=e,{computeCustomOpts:l}=e.getComputeMaps(),{refElem:r}=e.getRefMaps(),a=e.xeGrid,i=()=>{const{customStore:e}=n,t=r.value;let o=0;t&&(o=t.clientHeight-28),e.maxHeight=Math.max(88,o)},s=()=>{const{initStore:e,customStore:o}=n;return o.visible=!0,e.custom=!0,c(),m(),i(),t().then((()=>i()))},c=()=>{const{customStore:e}=n,{collectColumn:t}=o;if(e.visible){const o={},l={},r={};sp.eachTree(t,(e=>{const t=e.getKey();e.renderFixed=e.fixed,e.renderVisible=e.visible,e.renderResizeWidth=e.renderWidth,o[t]=e.renderSortNumber,l[t]=e.fixed,r[t]=e.visible})),e.oldSortMaps=o,e.oldFixedMaps=l,e.oldVisibleMaps=r,n.customColumnList=t.slice(0)}},u=()=>{const{customStore:o}=n,r=l.value;return o.visible&&(o.visible=!1,r.immediate||e.handleCustom()),t()},d=o=>{const{customStore:r}=n,{customColumnList:a}=n,i=l.value,{checkMethod:s,visibleMethod:c}=i,u=!!o;return i.immediate?(sp.eachTree(a,(t=>{c&&!c({$table:e,column:t})||s&&!s({$table:e,column:t})||(t.visible=u,t.renderVisible=u,t.halfVisible=!1)})),r.isAll=u,n.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(sp.eachTree(a,(t=>{c&&!c({$table:e,column:t})||s&&!s({$table:e,column:t})||(t.renderVisible=u,t.halfVisible=!1)})),r.isAll=u),e.checkCustomStatus(),t()},p={openCustom:s,closeCustom:u,saveCustom:()=>{const{customColumnList:t}=n,o=l.value,{allowVisible:r,allowSort:a,allowFixed:i,allowResizable:s}=o;return sp.eachTree(t,((e,t,n,o,l)=>{if(l)e.fixed=l.fixed;else{if(a){const n=t+1;e.renderSortNumber=n}i&&(e.fixed=e.renderFixed)}s&&(!e.renderVisible||e.children&&!e.children.length||e.renderResizeWidth!==e.renderWidth&&(e.resizeWidth=e.renderResizeWidth,e.renderWidth=e.renderResizeWidth)),r&&(e.visible=e.renderVisible)})),n.isCustomStatus=!0,n.isDragColMove=!0,setTimeout((()=>{n.isDragColMove=!1}),1e3),e.saveCustomStore("confirm")},cancelCustom:()=>{const{customColumnList:e,customStore:o}=n,{oldSortMaps:r,oldFixedMaps:a,oldVisibleMaps:i}=o,s=l.value,{allowVisible:c,allowSort:u,allowFixed:d,allowResizable:p}=s;return sp.eachTree(e,(e=>{const t=e.getKey(),n=!!i[t],o=a[t]||"";c&&(e.renderVisible=n,e.visible=n),d&&(e.renderFixed=o,e.fixed=o),u&&(e.renderSortNumber=r[t]||0),p&&(e.renderResizeWidth=e.renderWidth)}),{children:"children"}),t()},resetCustom(t){const{collectColumn:r}=o,a=l.value,{checkMethod:i}=a,s=Object.assign({visible:!0,resizable:!0===t,fixed:!0===t,sort:!0===t},t);return sp.eachTree(r,(t=>{s.resizable&&(t.resizeWidth=0),s.fixed&&(t.fixed=t.defaultFixed),s.sort&&(t.renderSortNumber=t.sortNumber),i&&!i({$table:e,column:t})||(t.visible=t.defaultVisible),t.renderResizeWidth=t.renderWidth})),n.isCustomStatus=!1,e.saveCustomStore("reset"),e.handleCustom()},toggleCustomAllCheckbox(){const{customStore:e}=n,t=!e.isAll;return d(t)},setCustomAllCheckbox:d},m=()=>{const{customStore:t}=n,{collectColumn:r}=o,a=l.value,{checkMethod:i}=a;t.isAll=r.every((t=>!!i&&!i({$table:e,column:t})||t.renderVisible)),t.isIndeterminate=!t.isAll&&r.some((t=>(!i||i({$table:e,column:t}))&&(t.renderVisible||t.halfVisible)))},g=(t,n)=>{(a||e).dispatchEvent("custom",{type:t},n)},f={checkCustomStatus:m,emitCustomEvent:g,triggerCustomEvent(t){const n=e.reactData,{customStore:o}=n;o.visible?(u(),g("close",t)):(o.btnEl=t.target,s(),g("open",t))},customOpenEvent(t){const n=e.reactData,{customStore:o}=n;o.visible||(o.activeBtn=!0,o.btnEl=t.target,e.openCustom(),e.emitCustomEvent("open",t))},customCloseEvent(t){const n=e.reactData,{customStore:o}=n;o.visible&&(o.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",t))},handleUpdateCustomColumn:c};return Object.assign(Object.assign({},p),f)},setupGrid:e=>e.extendTableMethods(nO)});const{getConfig:oO,renderer:lO,getI18n:rO,getComponent:aO}=$m,iO="modelValue",sO={};function cO(e,t,n){return sp.eqNull(e)?sp.eqNull(t)?n:t:e}function uO(e,t,n){const{dateConfig:o={}}=t;return sp.toDateString(function(e,t){return e&&t.valueFormat?sp.toStringDate(e,t.valueFormat):e}(e,t),o.labelFormat||n)}function dO(e,t){return uO(e,t,rO(`vxe.input.date.labelFormat.${t.type||"date"}`))}function pO({name:e}){return aO(e)}function mO({name:e}){return C(function(e){return`vxe-${e.replace("$","")}`}(e))}function gO(e,t,n){const{$panel:o}=e;o.changeOption({},t,n)}function fO(e){let{name:t,attrs:n}=e;return"input"===t&&(n=Object.assign({type:"text"},n)),n}function hO(e){const{name:t,immediate:n,props:o}=e;if(!n){if("VxeInput"===t||"$input"===t){const{type:e}=o||{};return!(!e||"text"===e||"number"===e||"integer"===e||"float"===e)}return"input"!==t&&"textarea"!==t&&"$textarea"!==t}return n}function vO(e,t,n,o){return sp.assign({immediate:hO(e)},sO,o,e.props,{[iO]:n})}function bO(e,t,n,o){return sp.assign({},sO,o,e.props,{[iO]:n})}function xO(e,t){return"cell"===t.$type||hO(e)}function wO(e,t,n,o){const{placeholder:l}=e;return[y("span",{class:["vxe-cell--label",o?o.class:""]},l&&TC(n)?[y("span",{class:"vxe-cell--placeholder"},PC(MC(l),1))]:PC(n,1))]}function yO(e,t,n){const{events:o}=e,l=CE(e),r=SE(e),{model:a,change:i,blur:s}=n||{},c=r===l,u={};return o&&sp.objectEach(o,((e,n)=>{u[yE(n)]=function(...n){e(t,...n)}})),a&&(u[yE(l)]=function(e){a(e),c&&i&&i(e),o&&o[l]&&o[l](t,e)}),!c&&i&&(u[yE(r)]=function(e){i(e),o&&o[r]&&o[r](t,e)}),s&&(u[yE(CO)]=function(e){s(e),o&&o[CO]&&o[CO](t,e)}),u}const CO="blur";function SO(e,t,n,o){const{events:l}=e,r=CE(e),a=SE(e),{model:i,change:s,blur:c}=n||{},u={};return sp.objectEach(l,((e,n)=>{u[yE(n)]=function(...n){sp.isFunction(e)||pS("vxe.error.errFunc",[e]),e(t,...n)}})),i&&(u[yE(r)]=function(e){i(e),l&&l[r]&&l[r](t,e)}),s&&(u[yE(a)]=function(...e){s(...e),l&&l[a]&&l[a](t,...e)}),c&&(u[yE(CO)]=function(...e){c(...e),l&&l[CO]&&l[CO](t,...e)}),o?Object.assign(u,o):u}function EO(e,t){const{$table:n,row:o,column:l}=t,{name:r}=e,{model:a}=l,i=xO(e,t);return SO(e,t,{model(e){a.update=!0,a.value=e,i&&aE(o,l,e)},change(e){if(!i&&r&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(r)){const o=e.value;a.update=!0,a.value=o,n.updateStatus(t,o)}else n.updateStatus(t)},blur(){i?n.handleCellRuleUpdateStatus("blur",t):n.handleCellRuleUpdateStatus("blur",t,a.value)}})}function DO(e,t,n){return SO(e,t,{model(e){n.data=e},change(){gO(t,!sp.eqNull(n.data),n)},blur(){gO(t,!sp.eqNull(n.data),n)}})}function TO(e,t){const{$table:n,row:o,column:l}=t,{model:r}=l;return yO(e,t,{model(n){const a=n.target;if(a){const n=a.value;xO(e,t)?aE(o,l,n):(r.update=!0,r.value=n)}},change(e){const o=e.target;if(o){const e=o.value;n.updateStatus(t,e)}},blur(e){const o=e.target;if(o){const e=o.value;n.updateStatus(t,e)}}})}function OO(e,t,n){return yO(e,t,{model(e){const t=e.target;t&&(n.data=t.value)},change(){gO(t,!sp.eqNull(n.data),n)},blur(){gO(t,!sp.eqNull(n.data),n)}})}function kO(e,t){const{row:n,column:o}=t,{name:l}=e,r=xO(e,t)?rE(n,o):o.model.value;return[y(l,Object.assign(Object.assign(Object.assign({class:`vxe-default-${l}`},fO(e)),{value:r}),TO(e,t)))]}function RO(e,t){const{row:n,column:o}=t,l=rE(n,o);return[y(pO(e),Object.assign(Object.assign({},vO(e,0,l)),EO(e,t)))]}function IO(e,t){const{options:n}=e,{row:o,column:l}=t,r=rE(o,l);return[y(pO(e),Object.assign(Object.assign({options:n},vO(e,0,r)),EO(e,t)))]}function MO(e,t){const{row:n,column:o}=t,l=rE(n,o);return[y(mO(e),Object.assign(Object.assign({},vO(e,0,l)),EO(e,t)))]}function PO(e,t){return[y(aO("vxe-button"),Object.assign(Object.assign({},vO(e,0,null)),SO(e,t)))]}function FO(e,t,n){const{optionGroups:o,optionGroupProps:l={}}=e,r=l.options||"options",a=l.label||"label";return o?o.map(((o,l)=>y("optgroup",{key:l,label:o[a]},n(o[r],e,t)))):[]}function VO(e,t,n){const{optionProps:o={}}=t,{row:l,column:r}=n,a=o.label||"label",i=o.value||"value",s=o.disabled||"disabled",c=xO(t,n)?rE(l,r):r.model.value;return e?e.map(((e,t)=>y("option",{key:t,value:e[i],disabled:e[s],selected:e[i]==c},e[a]))):[]}function AO(e,t){const{column:n}=t;return n.filters.map(((n,o)=>{const l=n.data;return y(pO(e),Object.assign(Object.assign({key:o},bO(e,0,l)),DO(e,t,n)))}))}function $O({option:e,row:t,column:n}){const{data:o}=e;return sp.get(t,n.field)==o}function NO({option:e,row:t,column:n}){const{data:o}=e,l=sp.get(t,n.field);return sp.toValueString(l).indexOf(o)>-1}function LO(e,t){return[y("select",Object.assign(Object.assign({class:"vxe-default-select"},fO(e)),TO(e,t)),e.optionGroups?FO(e,t,VO):VO(e.options,e,t))]}function _O(e,t){const{row:n,column:o}=t,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i}=e,s=rE(n,o);return[y(pO(e),Object.assign(Object.assign({},vO(e,0,s,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i})),EO(e,t)))]}function BO(e,t){const{row:n,column:o}=t,{options:l,optionProps:r}=e,a=rE(n,o);return[y(pO(e),Object.assign(Object.assign({},vO(e,0,a,{options:l,optionProps:r})),EO(e,t)))]}function zO(e,t){const{row:n,column:o}=t,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i}=e,s=rE(n,o);return[y(mO(e),Object.assign(Object.assign({},vO(e,0,s,{options:l,optionProps:r,optionGroups:a,optionGroupProps:i})),EO(e,t)))]}function jO(e,{row:t,column:n}){const{options:o,optionGroups:l,optionProps:r={},optionGroupProps:a={}}=e,i=sp.get(t,n.field);let s;const c=r.label||"label",u=r.value||"value";return null!=i?sp.map(sp.isArray(i)?i:[i],l?e=>{const t=a.options||"options";for(let n=0;n<l.length&&(s=sp.find(l[n][t],(t=>t[u]==e)),!s);n++);return s?s[c]:e}:e=>(s=sp.find(o,(t=>t[u]==e)),s?s[c]:e)).join(", "):""}function HO(e){const{row:t,column:n,options:o}=e;return o.original?rE(t,n):jO(n.editRender||n.cellRender,e)}function WO(e,{row:t,column:n}){const{options:o,optionProps:l={}}=e,r=sp.get(t,n.field),a=l.label||"label",i=l.value||"value",s=l.children||"children";if(null!=r){const e={};return sp.eachTree(o,(t=>{e[sp.get(t,i)]=t}),{children:s}),sp.map(sp.isArray(r)?r:[r],(t=>{const n=e[t];return n?sp.get(n,a):n})).join(", ")}return""}function qO(e){const{row:t,column:n,options:o}=e;return o.original?rE(t,n):WO(n.editRender||n.cellRender,e)}function UO(e,t){const{props:n={},showNegativeStatus:o}=e,{row:l,column:r}=t,{type:a}=n;let i=sp.get(l,r.field),s=!1;if(!TC(i)){const e=oO().numberInput||{};if("float"===a){const t=cO(n.autoFill,e.autoFill,!0),l=cO(n.digits,e.digits,1);i=sp.toFixed(sp.floor(i,l),l),t||(i=sp.toNumber(i)),o&&i<0&&(s=!0)}else if("amount"===a){const t=cO(n.autoFill,e.autoFill,!0),l=cO(n.digits,e.digits,2),r=cO(n.showCurrency,e.showCurrency,!1);if(i=sp.toNumber(i),o&&i<0&&(s=!0),i=sp.commafy(i,{digits:l}),!t){const[e,t]=i.split(".");if(t){const n=t.replace(/0+$/,"");i=n?[e,".",n].join(""):e}}r&&(i=`${n.currencySymbol||e.currencySymbol||rO("vxe.numberInput.currencySymbol")||""}${i}`)}else o&&sp.toNumber(i)<0&&(s=!0)}return wO(e,0,i,s?{class:"is--negative"}:{})}lO.mixin({input:{tableAutoFocus:"input",renderTableEdit:kO,renderTableDefault:kO,renderTableFilter:function(e,t){const{column:n}=t,{name:o}=e,l=fO(e);return n.filters.map(((n,r)=>y(o,Object.assign(Object.assign(Object.assign({key:r,class:`vxe-default-${o}`},l),{value:n.data}),OO(e,t,n)))))},tableFilterDefaultMethod:NO},textarea:{tableAutoFocus:"textarea",renderTableEdit:kO},select:{renderTableEdit:LO,renderTableDefault:LO,renderTableCell:(e,t)=>wO(e,0,jO(e,t)),renderTableFilter(e,t){const{column:n}=t;return n.filters.map(((n,o)=>y("select",Object.assign(Object.assign({key:o,class:"vxe-default-select"},fO(e)),OO(e,t,n)),e.optionGroups?FO(e,t,VO):VO(e.options,e,t))))},tableFilterDefaultMethod:$O,tableExportMethod:HO},VxeInput:{tableAutoFocus:"input",renderTableEdit:RO,renderTableCell(e,t){const{props:n={}}=e,{row:o,column:l}=t,r=oO().input||{},a=n.digits||r.digits||2;let i=sp.get(o,l.field);if(i)switch(n.type){case"date":case"week":case"month":case"quarter":case"year":i=dO(i,n);break;case"float":i=sp.toFixed(sp.floor(i,a),a)}return wO(e,0,i)},renderTableDefault:RO,renderTableFilter:AO,tableFilterDefaultMethod:NO},FormatNumberInput:{renderTableDefault:UO,tableFilterDefaultMethod:NO,tableExportMethod(e){const{row:t,column:n}=e;return sp.get(t,n.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:RO,renderTableCell:UO,renderTableFooter(e,t){const{props:n={}}=e,{row:o,column:l,_columnIndex:r}=t,{type:a}=n,i=sp.isArray(o)?o[r]:sp.get(o,l.field);if(sp.isNumber(i)){const e=oO().numberInput||{};if("float"===a){const t=cO(n.autoFill,e.autoFill,!0),o=cO(n.digits,e.digits,1);let l=sp.toFixed(sp.floor(i,o),o);return t||(l=sp.toNumber(l)),l}if("amount"===a){const t=cO(n.autoFill,e.autoFill,!0),o=cO(n.digits,e.digits,2),l=cO(n.showCurrency,e.showCurrency,!1);let r=sp.commafy(sp.toNumber(i),{digits:o});if(!t){const[e,t]=r.split(".");if(t){const n=t.replace(/0+$/,"");r=n?[e,".",n].join(""):e}}return l&&(r=`${n.currencySymbol||e.currencySymbol||rO("vxe.numberInput.currencySymbol")||""}${r}`),r}}return MC(i,1)},renderTableDefault:RO,renderTableFilter:AO,tableFilterDefaultMethod:NO,tableExportMethod(e){const{row:t,column:n}=e;return sp.get(t,n.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:RO,renderTableCell(e,t){const{props:n={}}=e,{row:o,column:l}=t;let r=sp.get(o,l.field);return r&&"time"!==n.type&&(r=dO(r,n)),wO(e,0,r)},renderTableDefault:RO,renderTableFilter:AO,tableFilterDefaultMethod:$O},VxeDateRangePicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{startField:n,endField:o}=e,{$table:l,row:r,column:a}=t,{model:i}=a,s=rE(r,a),c={},u={};return n&&o&&(c.startValue=sp.get(r,n),c.endValue=sp.get(r,o),u["onUpdate:startValue"]=e=>{n&&sp.set(r,n,e)},u["onUpdate:endValue"]=e=>{o&&sp.set(r,o,e)}),[y(pO(e),Object.assign(Object.assign({},vO(e,0,s,c)),SO(e,t,{model(e){i.update=!0,i.value=e,aE(r,a,e)},change(){l.updateStatus(t)},blur(){l.handleCellRuleUpdateStatus("blur",t)}},u)))]},renderTableCell(e,t){const{startField:n,endField:o}=e,{row:l,column:r}=t;let a="",i="";if(n&&o)a=sp.get(l,n),i=sp.get(l,o);else{const e=sp.get(l,r.field);if(e)if(sp.isArray(e))a=e[0],i=e[1];else{const t=`${e}`.split(",");a=t[0],i=t[1]}}let s="";return a&&i&&(s=`${a} ~ ${i}`),wO(e,0,s)}},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:RO,renderTableCell(e,t){const{row:n,column:o}=t;return wO(e,0,sp.get(n,o.field))}},VxeButton:{renderTableDefault:function(e,t){return[y(pO(e),Object.assign(Object.assign({},vO(e,0,null)),SO(e,t)))]}},VxeButtonGroup:{renderTableDefault(e,t){const{options:n}=e;return[y(pO(e),Object.assign(Object.assign({options:n},vO(e,0,null)),SO(e,t)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:_O,renderTableDefault:_O,renderTableCell:(e,t)=>wO(e,0,jO(e,t)),renderTableFilter(e,t){const{column:n}=t,{options:o,optionProps:l,optionGroups:r,optionGroupProps:a}=e;return n.filters.map(((n,i)=>{const s=n.data;return y(pO(e),Object.assign(Object.assign({key:i},bO(e,0,s,{options:o,optionProps:l,optionGroups:r,optionGroupProps:a})),DO(e,t,n)))}))},tableFilterDefaultMethod:$O,tableExportMethod:HO},formatOption:{renderTableDefault:(e,t)=>wO(e,0,jO(e,t))},FormatSelect:{renderTableDefault:(e,t)=>wO(e,0,jO(e,t)),tableFilterDefaultMethod:$O,tableExportMethod:HO},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:BO,renderTableCell:(e,t)=>wO(e,0,WO(e,t)),tableExportMethod:qO},formatTree:{renderTableDefault:(e,t)=>wO(e,0,WO(e,t))},FormatTreeSelect:{renderTableDefault:(e,t)=>wO(e,0,WO(e,t)),tableExportMethod:qO},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:BO,renderTableCell:(e,t)=>wO(e,0,WO(e,t)),tableExportMethod:qO},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:n,column:o}=t,{options:l}=e,r=rE(n,o);return[y(pO(e),Object.assign(Object.assign({},vO(e,0,r,{colors:l})),EO(e,t)))]},renderTableCell(e,t){const{row:n,column:o}=t,l=sp.get(n,o.field);return y("span",{class:"vxe-color-picker--readonly"},[y("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:l}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:n,column:o}=t,{options:l}=e,r=rE(n,o);return[y(pO(e),Object.assign(Object.assign({},vO(e,0,r,{icons:l})),EO(e,t)))]},renderTableCell(e,t){const{row:n,column:o}=t,l=sp.get(n,o.field);return y("i",{class:l})}},VxeRadioGroup:{renderTableDefault:IO},VxeCheckbox:{renderTableDefault:function(e,t){const{row:n,column:o}=t,l=rE(n,o);return[y(pO(e),Object.assign(Object.assign({},vO(e,0,l)),EO(e,t)))]}},VxeCheckboxGroup:{renderTableDefault:IO},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:RO,renderTableDefault:RO},VxeUpload:{renderTableEdit:RO,renderTableCell:RO,renderTableDefault:RO},VxeImage:{renderTableDefault(e,t){const{row:n,column:o}=t,{props:l}=e,r=rE(n,o);return[y(pO(e),Object.assign(Object.assign(Object.assign({},l),{src:r}),EO(e,t)))]}},VxeImageGroup:{renderTableDefault(e,t){const{row:n,column:o}=t,{props:l}=e,r=rE(n,o);return[y(pO(e),Object.assign(Object.assign(Object.assign({},l),{urlList:r}),EO(e,t)))]}},VxeTextEllipsis:{renderTableDefault(e,t){const{row:n,column:o}=t,{props:l}=e,r=rE(n,o);return[y(pO(e),Object.assign(Object.assign(Object.assign({},l),{content:r}),EO(e,t)))]}},VxeRate:{renderTableDefault:RO},VxeSlider:{renderTableDefault:RO},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:MO,renderTableCell(e,t){var n;const{props:o={}}=e,{row:l,column:r}=t,a=o.digits||(null===(n=oO().input)||void 0===n?void 0:n.digits)||2;let i=sp.get(l,r.field);if(i)switch(o.type){case"date":case"week":case"month":case"year":i=dO(i,o);break;case"float":i=sp.toFixed(sp.floor(i,a),a)}return wO(e,0,i)},renderTableDefault:MO,renderTableFilter:function(e,t){const{column:n}=t;return n.filters.map(((n,o)=>{const l=n.data;return y(mO(e),Object.assign(Object.assign({key:o},bO(e,0,l)),DO(e,t,n)))}))},tableFilterDefaultMethod:NO},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:PO},$buttons:{renderTableDefault:function(e,t){return e.children.map((e=>PO(e,t)[0]))}},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:zO,renderTableDefault:zO,renderTableCell:(e,t)=>wO(e,0,jO(e,t)),renderTableFilter(e,t){const{column:n}=t,{options:o,optionProps:l,optionGroups:r,optionGroupProps:a}=e;return n.filters.map(((n,i)=>{const s=n.data;return y(mO(e),Object.assign(Object.assign({key:i},bO(e,0,s,{options:o,optionProps:l,optionGroups:r,optionGroupProps:a})),DO(e,t,n)))}))},tableFilterDefaultMethod:$O,tableExportMethod:HO},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:MO,renderTableDefault:MO}});const GO=Object.assign({},WD,{install(e){e.component(WD.name,WD)}}),KO={useCellView:function(e){const t=g((()=>{const{renderParams:t}=e;return t.column})),n=g((()=>{const{renderParams:t}=e;return t.row})),o=g((()=>{const{renderOpts:t}=e;return t.props||{}}));return{currColumn:t,currRow:n,cellModel:g({get(){const{renderParams:t}=e,{row:n,column:o}=t;return sp.get(n,o.field)},set(t){const{renderParams:n}=e,{row:o,column:l}=n;return sp.set(o,l.field,t)}}),cellOptions:o}}};$m.dynamicApp&&$m.dynamicApp.component(WD.name,WD),$m.component(WD),$m.tableHandle=KO;const YO=GO,XO=Object.assign({},QD,{install(e){e.component(QD.name,QD)}});$m.dynamicApp&&$m.dynamicApp.component(QD.name,QD),$m.component(QD);const ZO=XO,QO={vxe:{base:{pleaseInput:"",pleaseSelect:"",comma:"",fullStop:""},loading:{text:"..."},error:{downErr:"",errLargeData:" {0}",groupFixed:"",groupMouseRange:' "{0}" ',groupTag:' "{0}"  "{1}"',scrollErrProp:' "{0}"',errConflicts:' "{0}"  "{1}" ',notSupportProp:' "{0}"  "{1}" "{2}"',notConflictProp:' "{0}"  "{1}"',unableInsert:"",useErr:' "{0}"  Table ',barUnableLink:"",expandContent:' "content"',reqComp:' "{0}"  https://vxeui.com/#/start/useGlobal',reqModule:' "{0}" ',reqProp:' "{0}" ',emptyProp:' "{0}" ',errProp:' "{0}" "{1}"',colRepet:'column.{0}="{1}" ',notFunc:' "{0}" ',errFunc:' "{0}" ',notValidators:' "{0}" ',notFormats:' "{0}" ',notCommands:' "{0}" ',notSlot:' "{0}" ',noTree:' "{0}"',notProp:' "{0}"',checkProp:' "{0}" ',coverProp:'"{0}"  "{1}" ',uniField:' "{0}" ',repeatKey:' {0}="{1}"',delFunc:' "{0}"  "{1}"',delProp:' "{0}"  "{1}"',delEvent:' "{0}"  "{1}"',removeProp:' "{0}" ',errFormat:' "VXETable.formats"  "formatter={0}" ',notType:' "{0}"',notExp:"/",impFields:"",treeNotImp:"",treeCrossDrag:"",treeDragChild:"",reqPlugin:' "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:" {0} "},table:{emptyText:"",allTitle:"/",seqTitle:"",actionTitle:"",confirmFilter:"",resetFilter:"",allFilter:"",sortAsc:"",sortDesc:"",filter:"",impSuccess:" {0} ",expLoading:"",expSuccess:"",expError:"",expFilename:"_{0}",expOriginFilename:"__{0}",customTitle:"",customAll:"",customConfirm:"",customClose:"",customCancel:"",customRestore:"",maxFixedCol:" {0} ",dragTip:"{0}",resizeColTip:"{0} ",resizeRowTip:"{0} ",rowGroupContentTotal:"{0}{1}"},grid:{selectOneRecord:"",deleteSelectRecord:"",removeSelectRecord:"",dataUnchanged:"",delSuccess:"",saveSuccess:"",operError:""},select:{search:"",loadingText:"",emptyText:""},pager:{goto:"",gotoTitle:"",pagesize:"{0}/",total:" {0} ",pageClassifier:"",homePage:"",homePageTitle:"",prevPage:"",prevPageTitle:"",nextPage:"",nextPageTitle:"",prevJump:"",prevJumpTitle:"",nextJump:"",nextJumpTitle:"",endPage:"",endPageTitle:""},alert:{title:""},button:{confirm:"",cancel:"",clear:""},filter:{search:""},custom:{cstmTitle:"",cstmRestore:"",cstmCancel:"",cstmConfirm:"",cstmConfirmRestore:"",cstmDragTarget:"{0}",setting:{colSort:"",sortHelpTip:"",colTitle:"",colResizable:"",colVisible:"",colFixed:"",colFixedMax:" {0} ",fixedLeft:"",fixedUnset:"",fixedRight:""}},import:{modes:{covering:"",insert:"",insertTop:"",insertBottom:""},impTitle:"",impFile:"",impSelect:"",impType:"",impOpts:"",impMode:"",impConfirm:"",impCancel:""},export:{types:{csv:"CSV ()(*.csv)",html:"(*.html)",xml:"XML (*.xml)",txt:"()(*.txt)",xls:"Excel 97-2003 (*.xls)",xlsx:"Excel (*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"",current:"",selected:"",all:""},printTitle:"",expTitle:"",expName:"",expNamePlaceholder:"",expSheetName:"",expSheetNamePlaceholder:"",expType:"",expMode:"",expCurrentColumn:"",expColumn:"",expOpts:"",expOptHeader:"",expHeaderTitle:"",expOptFooter:"",expFooterTitle:"",expOptColgroup:"",expOptTitle:"",expTitleTitle:"",expColgroupTitle:"",expOptMerge:"",expMergeTitle:"",expOptAllExpand:"",expAllExpandTitle:"",expOptUseStyle:"",expUseStyleTitle:"",expOptOriginal:"",expOriginalTitle:"",expPrint:"",expConfirm:"",expCancel:""},modal:{errTitle:"",zoomMin:"",zoomIn:"",zoomOut:"",close:"",miniMaxSize:" {0} ",footPropErr:"show-footer  show-confirm-button | show-cancel-button | "},drawer:{close:""},form:{folding:"",unfolding:""},toolbar:{import:"",export:"",print:"",refresh:"",zoomIn:"",zoomOut:"",custom:"",customAll:"",customConfirm:"",customRestore:"",fixedLeft:"",fixedRight:"",cancelFixed:""},datePicker:{yearTitle:"{0} "},dateRangePicker:{pleaseRange:""},input:{date:{m1:"01 ",m2:"02 ",m3:"03 ",m4:"04 ",m5:"05 ",m6:"06 ",m7:"07 ",m8:"08 ",m9:"09 ",m10:"10 ",m11:"11 ",m12:"12 ",quarterLabel:"{0} ",monthLabel:"{0} ",dayLabel:"{0}  {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy  WW ",month:"yyyy-MM",quarter:"yyyy  q ",year:"yyyy"},weeks:{w:"",w0:"",w1:"",w2:"",w3:"",w4:"",w5:"",w6:""},months:{m0:"",m1:"",m2:"",m3:"",m4:"",m5:"",m6:"",m7:"",m8:"",m9:"",m10:"",m11:""},quarters:{q1:"",q2:"",q3:"",q4:""}}},numberInput:{currencySymbol:""},imagePreview:{popupTitle:"",operBtn:{zoomOut:"",zoomIn:"",pctFull:"",pct11:"",rotateLeft:"",rotateRight:"",print:"",download:""}},upload:{fileBtnText:"",imgBtnText:"",dragPlaceholder:"",imgSizeHint:"{0}",imgCountHint:"{0}",fileTypeHint:" {0} ",fileSizeHint:"{0}",fileCountHint:"{0}",uploadTypeErr:"",overCountErr:"{0}",overCountExtraErr:"{0}{1}",overSizeErr:"{0}",reUpload:"",uploadProgress:" {0}%",uploadErr:"",uploadSuccess:"",moreBtnText:"{0}",viewItemTitle:"",morePopup:{readTitle:"",imageTitle:"",fileTitle:""}},empty:{defText:""},colorPicker:{clear:"",confirm:"",copySuccess:"{0}"},formDesign:{formName:"",defFormTitle:"",widgetPropTab:"",widgetFormTab:"",error:{wdFormUni:"",wdSubUni:""},styleSetting:{btn:"",title:"",layoutTitle:"",verticalLayout:"",horizontalLayout:"",styleTitle:"",boldTitle:"",fontBold:"",fontNormal:"",colonTitle:"",colonVisible:"",colonHidden:"",alignTitle:"",widthTitle:"",alignLeft:"",alignRight:"",unitPx:"",unitPct:""},widget:{group:{base:"",layout:"",system:"",module:"",chart:"",advanced:""},copyTitle:"_{0}",component:{input:"",textarea:"",select:"",row:"",title:"",text:"",subtable:"",VxeSwitch:"/",VxeInput:"",VxeNumberInput:"",VxeDatePicker:"",VxeTextarea:"",VxeSelect:"",VxeTreeSelect:"",VxeRadioGroup:"",VxeCheckboxGroup:"",VxeUploadFile:"",VxeUploadImage:"",VxeRate:"",VxeSlider:""}},widgetProp:{name:"",placeholder:"",required:"",multiple:"",displaySetting:{name:"",pc:"",mobile:"",visible:"",hidden:""},dataSource:{name:"",defValue:"{0}",addOption:"",batchEditOption:"",batchEditTip:"ExcelWPS ",batchEditSubTip:"ExcelWPS ",buildOption:""},rowProp:{colSize:"",col2:"",col3:"",col4:"",col6:"",layout:""},textProp:{name:"",alignTitle:"",alignLeft:"",alignCenter:"",alignRight:"",colorTitle:"",sizeTitle:"",boldTitle:"",fontNormal:"",fontBold:""},subtableProp:{seqTitle:"",showSeq:"",showCheckbox:"",errSubDrag:"",colPlace:""},uploadProp:{limitFileCount:"",limitFileSize:"",multiFile:"",limitImgCount:"",limitImgSize:"",multiImg:""}}},listDesign:{fieldSettingTab:"",listSettingTab:"",searchTitle:"",listTitle:"",searchField:"",listField:"",activeBtn:{ActionButtonUpdate:"",ActionButtonDelete:""},search:{addBtn:"",emptyText:"",editPopupTitle:""},searchPopup:{colTitle:"",saveBtn:""}},text:{copySuccess:"",copyError:""},countdown:{formats:{yyyy:"",MM:"",dd:"",HH:"",mm:"",ss:""}},plugins:{extendCellArea:{area:{mergeErr:"",multiErr:"",selectErr:"",extendErr:"",pasteMultiErr:"",cpInvalidErr:"{0}"},fnr:{title:"",findLabel:"",replaceLabel:"",findTitle:"",replaceTitle:"",tabs:{find:"",replace:""},filter:{re:"",whole:"",sensitive:""},btns:{findNext:"",findAll:"",replace:"",replaceAll:"",cancel:""},header:{seq:"#",cell:"",value:""},body:{row:"{0}",col:"{0}"},empty:"()",reError:"",recordCount:" {0} ",notCell:"",replaceSuccess:" {0} "}},filterComplexInput:{menus:{fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:""},cases:{equal:"",gt:"",lt:"",begin:"",endin:"",include:"",isSensitive:""}},filterCombination:{menus:{sort:"",clearSort:"",sortAsc:"",sortDesc:"",fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:"",clearFilter:"",textOption:"",numberOption:""},popup:{title:"",currColumnTitle:"",and:"",or:"",describeHtml:" ? <br/> * "},cases:{equal:"",unequal:"",gt:"",ge:"",lt:"",le:"",begin:"",notbegin:"",endin:"",notendin:"",include:"",exclude:"",between:"",custom:"",insensitive:"",isSensitive:""},empty:"()",notData:""}},pro:{area:{mergeErr:"",multiErr:"",extendErr:"",pasteMultiErr:""},fnr:{title:"",findLabel:"",replaceLabel:"",findTitle:"",replaceTitle:"",tabs:{find:"",replace:""},filter:{re:"",whole:"",sensitive:""},btns:{findNext:"",findAll:"",replace:"",replaceAll:"",cancel:""},header:{seq:"#",cell:"",value:""},empty:"()",reError:"",recordCount:" {0} ",notCell:"",replaceSuccess:" {0} "}},renderer:{search:"",cases:{equal:"",unequal:"",gt:"",ge:"",lt:"",le:"",begin:"",notbegin:"",endin:"",notendin:"",include:"",exclude:"",between:"",custom:"",insensitive:"",isSensitive:""},combination:{menus:{sort:"",clearSort:"",sortAsc:"",sortDesc:"",fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:"",clearFilter:"",textOption:"",numberOption:""},popup:{title:"",currColumnTitle:"",and:"",or:"",describeHtml:" ? <br/> * "},empty:"()",notData:""}}}},JO=[WE,GE,pT,GO,XO];if(!$m.hasLanguage("zh-CN")){const e="zh-CN";$m.setI18n(e,QO),$m.setLanguage(e)}$m.setTheme("light");const ek=Object.freeze(Object.defineProperty({__proto__:null,Colgroup:KE,Column:qE,Grid:mT,Table:YO,Toolbar:ZO,VXETable:iS,VxeColgroup:GE,VxeColumn:WE,VxeGrid:pT,VxeTable:GO,VxeToolbar:XO,VxeUI:$m,_t:aS,clipboard:JC,commands:ZC,config:lS,formats:XC,getConfig:_C,getI18n:WC,getIcon:zC,getTheme:NC,globalEvents:qC,globalResize:UC,hooks:tS,install:function(e,t){$m.setConfig(t),JO.forEach((t=>t.install(e)))},interceptor:QC,log:eS,menus:YC,modal:sS,print:e=>$m.print(e),readFile:e=>$m.readFile(e),renderer:GC,saveFile:e=>$m.saveFile(e),setConfig:LC,setI18n:HC,setIcon:BC,setLanguage:jC,setTheme:$C,setup:oS,t:rS,use:nS,validators:KC,version:VC},Symbol.toStringTag,{value:"Module"}));var tk={name:"zh-cn",el:{breadcrumb:{label:""},colorpicker:{confirm:"",clear:"",defaultLabel:"",description:" {color} Enter ",alphaLabel:""},datepicker:{now:"",today:"",cancel:"",clear:"",confirm:"",dateTablePrompt:" Enter ",monthTablePrompt:" Enter ",yearTablePrompt:" Enter ",selectedDate:"",selectDate:"",selectTime:"",startDate:"",startTime:"",endDate:"",endTime:"",prevYear:"",nextYear:"",prevMonth:"",nextMonth:"",year:"",month1:"1 ",month2:"2 ",month3:"3 ",month4:"4 ",month5:"5 ",month6:"6 ",month7:"7 ",month8:"8 ",month9:"9 ",month10:"10 ",month11:"11 ",month12:"12 ",weeks:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},weeksFull:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},months:{jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""}},inputNumber:{decrease:"",increase:""},select:{loading:"",noMatch:"",noData:"",placeholder:""},dropdown:{toggleDropdown:""},mention:{loading:""},cascader:{noMatch:"",loading:"",placeholder:"",noData:""},pagination:{goto:"",pagesize:"/",total:" {total} ",pageClassifier:"",page:"",prev:"",next:"",currentPage:" {pager} ",prevPages:" {pager} ",nextPages:" {pager} ",deprecationWarning:" el-pagination "},dialog:{close:""},drawer:{close:""},messagebox:{title:"",confirm:"",cancel:"",error:"!",close:""},upload:{deleteTip:" Delete ",delete:"",preview:"",continue:""},slider:{defaultLabel:" {min}  {max}",defaultRangeStartLabel:"",defaultRangeEndLabel:""},table:{emptyText:"",confirmFilter:"",resetFilter:"",clearFilter:"",sumText:""},tour:{next:"",previous:"",finish:""},tree:{emptyText:""},transfer:{noMatch:"",noData:"",titles:[" 1"," 2"],filterPlaceholder:"",noCheckedFormat:" {total} ",hasCheckedFormat:" {checked}/{total} "},image:{error:""},pageHeader:{title:""},popconfirm:{confirmButtonText:"",cancelButtonText:""},carousel:{leftArrow:"",rightArrow:"",indicator:" {index}"}}};const nk=p({__name:"App",setup:e=>(e,t)=>{const n=C("router-view"),o=V;return T(),D(o,{locale:l(tk)},{default:O((()=>[v(n)])),_:1},8,["locale"])}}),ok={Connecting:"Connecting...",overlayTutorial:"Add this page as a data statistics overlay in ACT.",obsTutorial:"Open OBS  Tools  WebSocket Server Settings  Enable WebSocket Server  Show Connection Info  Obtain Port and Password",inputTutorial:"Can't type? First click on ACT, then click on this floating window to enter normally.",hideTutorial:"After completing all settings, in OverlayPlugin, uncheck [Show Overlay] to hide this page.",CombatStart:"Combat Start",CombatEnd:"Combat End","ACT Not Ready":"ACT Not Ready",Connect:"Connect","Connect to OBS":"Connect to OBS",Connected:"Connected","Connection Status":"Connection Status",CountDown:"CountDown",DeepDungeons:"Deep Dungeons",DisciplesOfTheLand:"Disciples Of The Land",Disconnect:"Disconnect",Dungeons:"Dungeons","End When":"End When","Enter Zone":"Enter Zone",Eureka:"Eureka","Extra Rule":"Extra Rule",GrandCompany:"GrandCompany",Guildhests:"Guildhests",Instructions:"Instructions",No:"No",None:"None","OBS Auto Record V2":"OBS Auto Record V2","OBS Connection":"OBS Connection","OBS Connection Closed":"OBS Connection Closed","OBS Connection Error":"OBS Connection Error","OBS Connection Opened":"OBS Connection Opened","Output Active":"Output Active","Output Path":"Output Path",Password:"Password",Port:"Port",Pvp:"Pvp",QuestBattles:"QuestBattles",Raids:"Raids",Recording:"Recording","Recording Controls":"Recording Controls","Split Record":"Split Record","Start Record":"Start Record","Start When":"Start When","Stop Record":"Stop Record",TreasureHunt:"TreasureHunt",Trials:"Trials",Type:"Type","User Content Settings":"User Content Settings",VCDungeonFinder:"VCD",Wipe:"Wipe",Yes:"Yes",passwordPlaceholder:"WebSocket Server Password",portPlaceholder:"WebSocket Server Port","Leave Zone":"Leave Zone",Savage:"Savage",Extreme:"Extreme",Ultimate:"Ultimate",fileNameExplanation:"%CCYY: Year, %MM: Month, %DD: Day, %hh: Hour, %mm: Minute, %ss: Second","Recording Profile":"Recording Profile","Record Path":"Path","Record File Name":"File Name",recordPathPlaceholder:"Please enter the path to save the recording file",recordFileNamePlaceholder:"Please enter the file name of the recording file",filePathExplanation:"Make sure the path exists",Default:"Default",Chaotic:"Chaotic",firewallTutorial:"If the password is correct, please check if Windows Defender Firewall is blocking the connection",OccultCrescent:"Occult Crescent",SocietyQuests:"Society Quests"},lk={portPlaceholder:"WebSocket",passwordPlaceholder:"WebSocket",Connect:"",Raids:"",Dungeons:"",Trials:"",VCDungeonFinder:"",DeepDungeons:"",Guildhests:"",DisciplesOfTheLand:"/",Eureka:"",GrandCompany:"",QuestBattles:"",TreasureHunt:"",Pvp:"PVP","OBS Connection":"OBS","OBS Connection Closed":"OBS","OBS Connection Error":"OBS","OBS Connection Opened":"OBS","Connection Status":"",Disconnect:"",Connected:"",Recording:"","Output Active":"","Output Path":"","Recording Controls":"","Start Record":"","Stop Record":"","Split Record":"","User Content Settings":"",Type:"","Start When":"","Enter Zone":"","End When":"",Wipe:"","OBS Auto Record V2":"OBS 2",Port:"",Password:"",None:"",hideTutorial:"OverlayPlugin",obsTutorial:"OBS    WebSocket  WebSocket    ",Connecting:"...",No:"",Yes:"",Instructions:"",inputTutorial:"ACT","Connect to OBS":"OBS",overlayTutorial:"ACT",CombatEnd:"",CountDown:"",CombatStart:"","ACT Not Ready":"ACT","Extra Rule":"","Leave Zone":"",Savage:"",Extreme:"",Ultimate:"",fileNameExplanation:"%CCYY: %MM: %DD: %hh: %mm: %ss: ","Recording Profile":"","Record Path":"","Record File Name":"",recordPathPlaceholder:"",recordFileNamePlaceholder:"",filePathExplanation:"",Default:"Default",Chaotic:"",firewallTutorial:"Windows Defender ",SocietyQuests:"",OccultCrescent:" "},rk={portPlaceholder:"WebSocket ",passwordPlaceholder:"WebSocket ",Raids:"",Dungeons:"",Trials:"",VCDungeonFinder:"",DeepDungeons:"",Guildhests:"",DisciplesOfTheLand:" / ",Eureka:"",GrandCompany:"",QuestBattles:"",TreasureHunt:"",Pvp:"PVP","OBS Connection":"OBS ","OBS Connection Closed":"OBS ","OBS Connection Error":"OBS ","OBS Connection Opened":"OBS ","Connection Status":"",Disconnect:"",Connected:"",Recording:"","Output Active":"","Output Path":"","Recording Controls":"","Start Record":"","Stop Record":"","Split Record":"","User Content Settings":"",Type:"","Start When":"","Enter Zone":"","End When":"",Wipe:"","OBS Auto Record V2":"OBS  2",inputTutorial:" ACT",Port:"",Password:"",None:"",Yes:"",No:"",obsTutorial:" OBS    WebSocket    WebSocket     ",Connecting:"...",Connect:"",Instructions:"","Connect to OBS":" OBS",hideTutorial:" OverlayPlugin  [] ",overlayTutorial:" ACT ","ACT Not Ready":"ACT ",CombatEnd:"",CountDown:"",CombatStart:"","Extra Rule":"","Leave Zone":"",Savage:"",Extreme:"",Ultimate:"",Rules:"",FoldersByCategory:"",FolderByContent:"",FileName:"","Record Path":"","Record File Name":"",recordPathPlaceholder:"",recordFileNamePlaceholder:"",fileNameExplanation:"%CCYY: , %MM: , %DD: , %hh: , %mm: , %ss: ","Recording Profile":"",filePathExplanation:"","Set Recording Name":"",Default:"",Chaotic:"",firewallTutorial:" Windows Defender ",SocietyQuests:"",OccultCrescent:" ","When Party":">="},ak={},ik=function(e,t,n){let o=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e}))))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),l=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));o=e(t.map((e=>{if((e=function(e){return"/ff14-overlay-vue/"+e}(e))in ak)return;ak[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,l&&o.setAttribute("nonce",l),document.head.appendChild(o),t?new Promise(((t,n)=>{o.addEventListener("load",t),o.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function l(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then((t=>{for(const e of t||[])"rejected"===e.status&&l(e.reason);return e().catch(l)}))},sk=[{name:"jobs-dnc",path:"/jobs/dnc",component:()=>ik((()=>import("./dnc-DAwFNmyJ.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])),props:!0},{name:"zoneMacro",path:"/zonemacro",component:()=>ik((()=>import("./zoneMacro-DQgLxwKW.js")),__vite__mapDeps([14,1,15,16,2,17,18,3,4,19,20,21,22,23,24,25,26,27,8,28,12,13,11,10,29])),props:!0},{name:"timelineSettings",path:"/timelinesettings",component:()=>ik((()=>import("./timelineSettings-BUQK3SwV.js")),__vite__mapDeps([30,31,1,32,4,33,5,34,35,36,37,38,19,2,20,15,16,39,18,40,23,24,26,27,8,28,25,12,13,41,11,10,42])),props:!0},{name:"timelineHelp",path:"/timelinehelp",component:()=>ik((()=>import("./timelineHelp-DK8esmS3.js")),__vite__mapDeps([43,1,29])),props:!0},{name:"timeline",path:"/timeline",component:()=>ik((()=>import("./timeline-h46gTHw7.js")),__vite__mapDeps([44,31,1,32,4,33,5,34,35,2,3,45])),props:!0},{name:"time",path:"/time",component:()=>ik((()=>import("./time-B_GOhAZO.js")),__vite__mapDeps([46,1,39,2,3,5,47])),props:!0},{name:"statusCompare",path:"/statuscompare",component:()=>ik((()=>import("./statusCompare-BIrF-hFR.js")),__vite__mapDeps([48,49,3,1,4,5,50,26,27,8,28])),props:!0},{name:"startPages",path:"/startpages",component:()=>ik((()=>import("./startPages-DlEVXL8v.js")),__vite__mapDeps([51,4,1,5,52,23,24,25])),props:!0},{name:"showBarrier",path:"/showbarrier",component:()=>ik((()=>import("./showBarrier-KlDsrjqP.js")),__vite__mapDeps([53,54,1,32,3,5,55,56,2,57])),props:!0},{name:"okVpr2",path:"/okvpr2",component:()=>ik((()=>import("./okVpr2-Qd-RnHlH.js")),__vite__mapDeps([58,56,2,3,1,4,41,11,8,9,12,28])),props:!0},{name:"okVpr",path:"/okvpr",component:()=>ik((()=>import("./okVpr-CE5SCSKD.js")),__vite__mapDeps([59,56,2,3,1,4,41,8,9,12,28])),props:!0},{name:"okDncDance",path:"/okdncdance",component:()=>ik((()=>import("./okDncDance-DUXJXuEp.js")),__vite__mapDeps([60,17,2,56,3,1,4,41,11,8,9,12,28])),props:!0},{name:"obs2",path:"/obs2",component:()=>ik((()=>import("./obs2-B44C8oSf.js")),__vite__mapDeps([61,1,3,5,4,62,18,21,56,2,63,26,27,8,28,11,12,13,41,10,25])),props:!0},{name:"obs",path:"/obs",component:()=>ik((()=>import("./obs-CQI05yn-.js")),__vite__mapDeps([64,1,62,4,65,21,56,2,66,18,3,67])),props:!0},{name:"keigennRecord2",path:"/keigennrecord2",component:()=>ik((()=>import("./keigennRecord2-D8-Nme_8.js")),__vite__mapDeps([68,1,5,49,3,33,4,65,38,32,56,2,69,8,9])),props:!0},{name:"instancedAreaInfo",path:"/instancedareainfo",component:()=>ik((()=>import("./instancedAreaInfo-BP7EVFx4.js")),__vite__mapDeps([70,2,1,5,71])),props:!0},{name:"index",path:"/",component:p({__name:"index",setup:e=>(f((()=>{ik((()=>Promise.resolve().then((()=>dk))),void 0).then((e=>{e.default.push("/startPages")}))})),(e,t)=>(T(),k("div")))}),props:!0},{name:"hunt",path:"/hunt",component:()=>ik((()=>import("./hunt-CZbJwTrj.js")),__vite__mapDeps([72,36,4,1,37,19,2,20,18,66,3,5,73,27,8,12,13,10,41,28])),props:!0},{name:"hexcode",path:"/hexcode",component:()=>ik((()=>import("./hexcode-BzP8Diiq.js")),__vite__mapDeps([74,1,3,5,75])),props:!0},{name:"ffxivAxisWebFont",path:"/ffxivaxiswebfont",component:()=>ik((()=>import("./ffxivAxisWebFont-Dha9iTRS.js")),__vite__mapDeps([76,5,1,77])),props:!0},{name:"fflogsUploaderDownload",path:"/fflogsuploaderdownload",component:()=>ik((()=>import("./fflogsUploaderDownload-BRlZuPan.js")),__vite__mapDeps([78,1,4,5,79,23,24,35])),props:!0},{name:"dsrp6",path:"/dsrp6",component:()=>ik((()=>import("./dsrp6-CjBqcfa9.js")),__vite__mapDeps([80,33,2,1,5,81])),props:!0},{name:"castingToChinese",path:"/castingtochinese",component:()=>ik((()=>import("./castingToChinese-C91sodTd.js")),__vite__mapDeps([82,1,38,2,3,4,5,83,24,7,8,9,10,28,12,11,13])),props:!0},{name:"castingMonitor",path:"/castingmonitor",component:()=>ik((()=>import("./castingMonitor-BAX8V1N3.js")),__vite__mapDeps([84,1,32,33,2,5,4,85,10,23,24])),props:!0},{name:"cactbotRuntime",path:"/cactbotruntime",component:()=>ik((()=>import("./cactbotRuntime-B3JIRnAd.js")),__vite__mapDeps([86,54,1,32,3,5,55,65,2,4,87,42])),props:!0},{name:"blubook",path:"/blubook",component:()=>ik((()=>import("./blubook-B7v07wzH.js")),__vite__mapDeps([88,1,49,3,4,5,89,27,8,10,12])),props:!0},{name:"aether",path:"/aether",component:()=>ik((()=>import("./aether-CtrSS4bY.js")),__vite__mapDeps([90,4,1,5,91,28,8])),props:!0}],ck=R({history:I(),routes:sk}),uk=new Map(Object.entries({aether:"",blubook:"",cactbotRuntime:"",castingMonitor:"",castingToChinese:"",dsrp6:" P6 ",fflogsUploaderDownload:" FFLogsUploader ",ffxivAxisWebFont:"FFXIV Axis ",hexcode:"hexcode ",hunt:"",instancedAreaInfo:" TM ",keigennRecord2:" 2",obs:"OBS ",obs2:"OBS  2",showBarrier:"",startPages:"",statusCompare:"",time:"",timeline:"",timelineHelp:"",timelineSettings:"",zoneMacro:""}));for(const yk of ck.getRoutes())yk.meta.title=uk.get((null==(e=yk.name)?void 0:e.toString())??"")??yk.name;ck.afterEach(((e,t)=>{var n;document.title=(null==(n=e.meta.title)?void 0:n.toString())??"","startPages"===t.name&&"zoneMacro"===e.name&&window.location.reload(),"startPages"===e.name&&void 0!==t.name&&e.name!==t.name&&window.location.reload()}));const dk=Object.freeze(Object.defineProperty({__proto__:null,default:ck},Symbol.toStringTag,{value:"Module"})),pk=w(nk),mk=function(e){const t=e;return t.headTags=e.resolveTags,t.addEntry=e.push,t.addHeadObjs=e.push,t.addReactiveEntry=(e,t)=>{const n=Be(e,t);return void 0!==n?n.dispose:()=>{}},t.removeHeadObjs=()=>{},t.updateDOM=()=>{e.hooks.callHook("entries:updated",e)},t.unhead=e,t}($e({})),gk=M(),fk=P({legacy:!1,locale:"zhCn",fallbackLocale:"en",messages:{en:ok,zhCn:rk,ja:lk}});function hk(e){A.error({dangerouslyUseHTMLString:!0,message:`<pre style="white-space: pre-wrap;">${e.stack||e.message}</pre>`,duration:0,showClose:!0})}pk.config.errorHandler=e=>{hk(e instanceof Error?e:new Error(String(e)))},window.addEventListener("unhandledrejection",(e=>{hk(e.reason instanceof Error?e.reason:new Error(String(e.reason)))})),pk.use(ck),pk.use(mk),pk.use(gk),pk.use(EC),pk.use(ek),pk.use(vt),pk.use(fk),pk.mount("#app");const{protocol:vk,hostname:bk,href:xk}=window.location,wk=["localhost","127.0.0.1","::1"].includes(bk);"http:"!==vk||wk||(window.location.href=xk.replace("http:","https:"));export{$m as V,ck as r};

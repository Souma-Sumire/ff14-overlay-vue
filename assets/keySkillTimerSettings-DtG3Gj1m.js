import{bg as e,bh as a,bi as l,bj as t,bk as s,P as o,aB as n,Q as i,_ as r,d as u,x as d,s as c,r as p,V as m,X as v,a9 as b,i as f,c as h,o as g,p as y,q as w,u as k,M as j,bl as x,bm as _,aI as V,g as E,bn as C,h as T,au as A,bo as S,b as $,E as P,aL as B,G as z,ar as N,Z as R,$ as U,ay as D,aq as I,J as L,I as M,bp as O,U as F,T as q,bq as J,f as K,W as H,k as Q,z as W,v as X,a0 as G,as as Y,aC as Z,j as ee,w as ae,a as le,e as te,F as se,l as oe,ah as ne}from"./index-l1E8K3Or.js";import{i as ie,a as re,E as ue}from"./el-table-column-dpEa1sBG.js";import"./el-checkbox-BuzFBj1p.js";/* empty css                   */import"./el-popper-EM4JLVtD.js";import"./el-scrollbar-CP1_Wryf.js";/* empty css                 */import{E as de}from"./el-input-number-Bm7rB69z.js";/* empty css               */import{c as ce,E as pe,a as me}from"./el-select-7QTQxWQM.js";import{a as ve,E as be}from"./el-form-Czc2g0I5.js";import{E as fe}from"./el-switch-COaHapVW.js";import{E as he}from"./el-popconfirm-C-WkXyrQ.js";/* empty css                   *//* empty css                  */import{u as ge,i as ye,s as we,a as ke}from"./keySkills-BCzSYZfP.js";import{U as je}from"./util-BOtaAWHW.js";import{E as xe,a as _e}from"./index-BZ-rnhTy.js";import{E as Ve}from"./validator-ChgkSUYb.js";import{_ as Ee}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{a as Ce}from"./el-header-OssO2sqW.js";import{_ as Te}from"./ThemeToggle-DTdCr-Jo.js";/* empty css                        */import{E as Ae}from"./el-card-DXVmGoPe.js";import{l as Se}from"./lz-string-Bhlr6y1U.js";import{a as $e}from"./actionChinese-CezHnvf8.js";import{c as Pe}from"./clipboard-BKuKuDeo.js";import{V as Be,H as ze}from"./defaults-htyzS7rC.js";import{c as Ne,r as Re}from"./raf-GzfqKIqn.js";import{f as Ue,t as De,U as Ie}from"./index-VgkDmEOj.js";import{t as Le}from"./debounce-DxDkv_kZ.js";import{u as Me}from"./index-BQZQ3ieo.js";import{c as Oe,g as Fe,b as qe}from"./_baseClone-DXcbdlg3.js";import{E as Je}from"./index-KJpy5pEB.js";import"./use-form-common-props-Co115vSc.js";import"./index-5AzRbaSm.js";import"./index-vnUxd9Py.js";import"./index-D-ziUHTG.js";import"./focus-trap-hrvQOWf8.js";import"./index-BAr7Vexf.js";import"./index-C0cJZiFV.js";import"./scroll-vl4bHyTU.js";import"./vnode-DSqGmbXa.js";import"./index-e4OGYOCy.js";import"./useDemo-clAJeeFw.js";import"./useDev-Bj7FhB__.js";import"./demoParty-tlbP8u8B.js";import"./chineseToIcon-xFdmTerz.js";import"./status-Cjdq15lm.js";import"./tts-BkZGqxam.js";import"./overlay_plugin_api-DHbPkDtN.js";import"./index-BLB_p95m.js";import"./_commonjsHelpers-CLPN-Npl.js";import"./index-Ts0U8SER.js";function Ke(a,l){return l.length<2?a:e(a,function(e,a,l){var t=-1,s=e.length;a<0&&(a=-a>s?0:s+a),(l=l>s?s:l)<0&&(l+=s),s=a>l?0:l-a>>>0,a>>>=0;for(var o=Array(s);++t<s;)o[t]=e[t+a];return o}(l,0,-1))}function He(e,t){return null==(e=Ke(e,t=a(t,e)))||delete e[l((s=t,o=null==s?0:s.length,o?s[o-1]:void 0))];var s,o}function Qe(e){return ie(e)?void 0:e}var We=Ue(function(e,l){var s={};if(null==e)return s;var o=!1;l=t(l,function(l){return l=a(l,e),o||(o=l.length>1),l}),Oe(e,Fe(e),s),o&&(s=qe(s,7,Qe));for(var n=l.length;n--;)He(s,l[n]);return s});const Xe={[ze]:"deltaX",[Be]:"deltaY"},Ge=Symbol("tabsRootContextKey"),Ye=o({tabs:{type:i(Array),default:()=>n([])},tabRefs:{type:i(Object),default:()=>n({})}}),Ze="ElTabBar",ea=u({name:Ze});var aa=r(u({...ea,props:Ye,setup(e,{expose:a}){const l=e,t=d(Ge);t||De(Ze,"<el-tabs><el-tab-bar /></el-tabs>");const s=c("tabs"),o=p(),n=p(),i=()=>n.value=(()=>{let e=0,a=0;const s=["top","bottom"].includes(t.props.tabPosition)?"width":"height",o="width"===s?"x":"y",n="x"===o?"left":"top";return l.tabs.every(t=>{if(j(t.paneName))return!1;const o=l.tabRefs[t.paneName];if(!o)return!1;if(!t.active)return!0;e=o[`offset${ce(n)}`],a=o[`client${ce(s)}`];const i=window.getComputedStyle(o);return"width"===s&&(a-=Number.parseFloat(i.paddingLeft)+Number.parseFloat(i.paddingRight),e+=Number.parseFloat(i.paddingLeft)),!1}),{[s]:`${a}px`,transform:`translate${ce(o)}(${e}px)`}})(),r=[];m(()=>l.tabs,async()=>{await v(),i(),r.forEach(e=>e.stop()),r.length=0,Object.values(l.tabRefs).forEach(e=>{r.push(b(e,i))})},{immediate:!0});const u=b(o,()=>i());return f(()=>{r.forEach(e=>e.stop()),r.length=0,u.stop()}),a({ref:o,update:i}),(e,a)=>(g(),h("div",{ref_key:"barRef",ref:o,class:w([k(s).e("active-bar"),k(s).is(k(t).props.tabPosition)]),style:y(n.value)},null,6))}}),[["__file","tab-bar.vue"]]);const la=o({panes:{type:i(Array),default:()=>n([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ta="ElTabNav",sa=u({name:ta,props:la,emits:{tabClick:(e,a,l)=>l instanceof Event,tabRemove:(e,a)=>a instanceof Event},setup(e,{expose:a,emit:l}){const t=d(Ge);t||De(ta,"<el-tabs><tab-nav /></el-tabs>");const o=c("tabs"),n=x(),i=_(),r=p(),u=p(),f=p(),h=p({}),g=p(),y=p(!1),w=p(0),k=p(!1),j=p(!0),D=V(),I=E(()=>["top","bottom"].includes(t.props.tabPosition)),L=E(()=>I.value?"width":"height"),M=E(()=>({transform:`translate${"width"===L.value?"X":"Y"}(-${w.value}px)`})),{width:O,height:F}=C(r),{width:q,height:J}=C(u,{width:0,height:0},{box:"border-box"}),K=E(()=>I.value?O.value:F.value),H=E(()=>I.value?q.value:J.value),{onWheel:Q}=(({atEndEdge:e,atStartEdge:a,layout:l},t)=>{let o,n=0;const i=l=>l<0&&a.value||l>0&&e.value;return{hasReachedEdge:i,onWheel:e=>{Ne(o);const a=e[Xe[l.value]];i(n)&&i(n+a)||(n+=a,s()||e.preventDefault(),o=Re(()=>{t(n),n=0}))}}})({atStartEdge:E(()=>w.value<=0),atEndEdge:E(()=>H.value-w.value<=K.value),layout:E(()=>I.value?"horizontal":"vertical")},e=>{var a,l,t;w.value=(a=w.value+e,l=0,void 0===(t=H.value-K.value)&&(t=l,l=void 0),void 0!==t&&(t=(t=Le(t))==t?t:0),void 0!==l&&(l=(l=Le(l))==l?l:0),function(e,a,l){return e==e&&(void 0!==l&&(e=e<=l?e:l),void 0!==a&&(e=e>=a?e:a)),e}(Le(a),l,t))}),W=()=>{if(!r.value)return;const e=r.value[`offset${ce(L.value)}`],a=w.value;if(!a)return;const l=a>e?a-e:0;w.value=l},X=()=>{if(!r.value||!u.value)return;const e=u.value[`offset${ce(L.value)}`],a=r.value[`offset${ce(L.value)}`],l=w.value;if(e-l<=a)return;const t=e-l>2*a?l+a:e-a;w.value=t},G=async()=>{const a=u.value;if(!(y.value&&f.value&&r.value&&a))return;await v();const l=h.value[e.currentName];if(!l)return;const t=r.value,s=l.getBoundingClientRect(),o=t.getBoundingClientRect(),n=I.value?a.offsetWidth-o.width:a.offsetHeight-o.height,i=w.value;let d=i;I.value?(s.left<o.left&&(d=i-(o.left-s.left)),s.right>o.right&&(d=i+s.right-o.right)):(s.top<o.top&&(d=i-(o.top-s.top)),s.bottom>o.bottom&&(d=i+(s.bottom-o.bottom))),d=Math.max(d,0),w.value=Math.min(d,n)},Y=()=>{var a;if(!u.value||!r.value)return;e.stretch&&(null==(a=g.value)||a.update());const l=u.value[`offset${ce(L.value)}`],t=r.value[`offset${ce(L.value)}`],s=w.value;t<l?(y.value=y.value||{},y.value.prev=s,y.value.next=s+t<l,l-s<t&&(w.value=l-t)):(y.value=!1,s>0&&(w.value=0))},Z=e=>{let a=0;switch(R(e)){case U.left:case U.up:a=-1;break;case U.right:case U.down:a=1;break;default:return}const l=Array.from(e.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let t=l.indexOf(e.target)+a;t<0?t=l.length-1:t>=l.length&&(t=0),l[t].focus({preventScroll:!0}),l[t].click(),ee()},ee=()=>{j.value&&(k.value=!0)},ae=()=>k.value=!1;return m(n,e=>{"hidden"===e?j.value=!1:"visible"===e&&setTimeout(()=>j.value=!0,50)}),m(i,e=>{e?setTimeout(()=>j.value=!0,50):j.value=!1}),b(f,Y),T(()=>setTimeout(()=>G(),0)),A(()=>Y()),a({scrollToActiveTab:G,removeFocus:ae,focusActiveTab:async()=>{await v();const a=h.value[e.currentName];null==a||a.focus({preventScroll:!0})},tabListRef:u,tabBarRef:g,scheduleRender:()=>S(D)}),()=>{const a=y.value?[$("span",{class:[o.e("nav-prev"),o.is("disabled",!y.value.prev)],onClick:W},[$(P,null,{default:()=>[$(B,null,null)]})]),$("span",{class:[o.e("nav-next"),o.is("disabled",!y.value.next)],onClick:X},[$(P,null,{default:()=>[$(z,null,null)]})])]:null,s=e.panes.map((a,s)=>{var n,i,r,u;const d=a.uid,c=a.props.disabled,p=null!=(i=null!=(n=a.props.name)?n:a.index)?i:`${s}`,m=!c&&(a.isClosable||!1!==a.props.closable&&e.editable);a.index=`${s}`;const v=m?$(P,{class:"is-icon-close",onClick:e=>l("tabRemove",a,e)},{default:()=>[$(N,null,null)]}):null,b=(null==(u=(r=a.slots).label)?void 0:u.call(r))||a.props.label,f=!c&&a.active?0:-1;return $("div",{ref:e=>((e,a)=>{h.value[a]=e})(e,p),class:[o.e("item"),o.is(t.props.tabPosition),o.is("active",a.active),o.is("disabled",c),o.is("closable",m),o.is("focus",k.value)],id:`tab-${p}`,key:`tab-${d}`,"aria-controls":`pane-${p}`,role:"tab","aria-selected":a.active,tabindex:f,onFocus:()=>ee(),onBlur:()=>ae(),onClick:e=>{ae(),l("tabClick",a,p,e)},onKeydown:e=>{const t=R(e);!m||t!==U.delete&&t!==U.backspace||l("tabRemove",a,e)}},[b,v])});return D.value,$("div",{ref:f,class:[o.e("nav-wrap"),o.is("scrollable",!!y.value),o.is(t.props.tabPosition)]},[a,$("div",{class:o.e("nav-scroll"),ref:r},[e.panes.length>0?$("div",{class:[o.e("nav"),o.is(t.props.tabPosition),o.is("stretch",e.stretch&&["top","bottom"].includes(t.props.tabPosition))],ref:u,style:M.value,role:"tablist",onKeydown:Z,onWheel:Q},[e.type?null:$(aa,{ref:g,tabs:[...e.panes],tabRefs:h.value},null),s]):null])])}}}),oa=o({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:i(Function),default:()=>!0},stretch:Boolean}),na=e=>D(e)||I(e);var ia=u({name:"ElTabs",props:oa,emits:{[Ie]:e=>na(e),tabClick:(e,a)=>a instanceof Event,tabChange:e=>na(e),edit:(e,a)=>["remove","add"].includes(a),tabRemove:e=>na(e),tabAdd:()=>!0},setup(e,{emit:a,slots:l,expose:t}){var s;const o=c("tabs"),n=E(()=>["left","right"].includes(e.tabPosition)),{children:i,addChild:r,removeChild:u,ChildrenSorter:d}=Me(L(),"ElTabPane"),b=p(),f=p(null!=(s=e.modelValue)?s:"0"),h=async(l,t=!1)=>{var s,o,n,r;if(f.value!==l&&!j(l))try{let u;if(e.beforeLeave){const a=e.beforeLeave(l,f.value);u=a instanceof Promise?await a:a}else u=!0;if(!1!==u){const e=null==(s=i.value.find(e=>e.paneName===f.value))?void 0:s.isFocusInsidePane();f.value=l,t&&(a(Ie,l),a("tabChange",l)),null==(n=null==(o=b.value)?void 0:o.removeFocus)||n.call(o),e&&(null==(r=b.value)||r.focusActiveTab())}}catch(u){}},g=(e,l,t)=>{e.props.disabled||(a("tabClick",e,t),h(l,!0))},y=(e,l)=>{e.props.disabled||j(e.props.name)||(l.stopPropagation(),a("edit",e.props.name,"remove"),a("tabRemove",e.props.name))},w=()=>{a("edit",void 0,"add"),a("tabAdd")},k=e=>{const a=R(e);[U.enter,U.numpadEnter].includes(a)&&w()},x=a=>{const l=a.el.firstChild,t=["bottom","right"].includes(e.tabPosition)?a.children[0].el:a.children[1].el;l!==t&&l.before(t)};return m(()=>e.modelValue,e=>h(e)),m(f,async()=>{var e;await v(),null==(e=b.value)||e.scrollToActiveTab()}),F(Ge,{props:e,currentName:f,registerPane:r,unregisterPane:u,nav$:b}),t({currentName:f,get tabNavRef(){return We(b.value,["scheduleRender"])}}),()=>{const a=l["add-icon"],t=e.editable||e.addable?$("div",{class:[o.e("new-tab"),n.value&&o.e("new-tab-vertical")],tabindex:"0",onClick:w,onKeydown:k},[a?M(l,"add-icon"):$(P,{class:o.is("icon-plus")},{default:()=>[$(O,null,null)]})]):null,s=$("div",{class:[o.e("header"),n.value&&o.e("header-vertical"),o.is(e.tabPosition)]},[$(d,null,{default:()=>$(sa,{ref:b,currentName:f.value,editable:e.editable,type:e.type,panes:i.value,stretch:e.stretch,onTabClick:g,onTabRemove:y},null),$stable:!0}),t]),r=$("div",{class:o.e("content")},[M(l,"default")]);return $("div",{class:[o.b(),o.m(e.tabPosition),{[o.m("card")]:"card"===e.type,[o.m("border-card")]:"border-card"===e.type}],onVnodeMounted:x,onVnodeUpdated:x},[r,s])}}});const ra=o({label:{type:String,default:""},name:{type:[String,Number]},closable:{type:Boolean,default:void 0},disabled:Boolean,lazy:Boolean}),ua="ElTabPane",da=u({name:ua});var ca=r(u({...da,props:ra,setup(e){const a=e,l=L(),t=q(),s=d(Ge);s||De(ua,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=c("tab-pane"),n=p(),i=p(),r=E(()=>{var e;return null!=(e=a.closable)?e:s.props.closable}),u=J(()=>{var e;return s.currentName.value===(null!=(e=a.name)?e:i.value)}),v=p(u.value),b=E(()=>{var e;return null!=(e=a.name)?e:i.value}),y=J(()=>!a.lazy||v.value||u.value);m(u,e=>{e&&(v.value=!0)});const j=K({uid:l.uid,getVnode:()=>l.vnode,slots:t,props:a,paneName:b,active:u,index:i,isClosable:r,isFocusInsidePane:()=>{var e;return null==(e=n.value)?void 0:e.contains(document.activeElement)}});return s.registerPane(j),f(()=>{s.unregisterPane(j)}),H(()=>{var e;t.label&&(null==(e=s.nav$.value)||e.scheduleRender())}),(e,a)=>k(y)?Q((g(),h("div",{key:0,id:`pane-${k(b)}`,ref_key:"paneRef",ref:n,class:w(k(o).b()),role:"tabpanel","aria-hidden":!k(u),"aria-labelledby":`tab-${k(b)}`},[M(e.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[X,k(u)]]):W("v-if",!0)}}),[["__file","tab-pane.vue"]]);const pa=G(ia,{TabPane:ca}),ma=Y(ca),va={style:{display:"flex","justify-content":"center",gap:"0px"},class:"actions"},ba=["src"],fa=Ee(u({__name:"SettingsTable",props:{lang:{}},emits:["delete","move"],setup(e,{emit:a}){const l=e,t=a,s=ge(),o=E(()=>s.keySkillsData[l.lang]),n=Object.freeze(je.getBattleJobs()),i=Z(n.map(e=>({value:je.jobToJobEnum(e),label:je.jobToFullName(e)?.cn??e}))),r=p(new Map),u={};return m(()=>o.value.map(e=>({key:e.key,id:e.id})),e=>{e.forEach(({key:e,id:a})=>{u[e]&&clearTimeout(u[e]),u[e]=window.setTimeout(()=>{r.value.set(e,ye(a)),r.value=new Map(r.value)},1e3)})},{immediate:!0,deep:!0}),(a,l)=>{const n=xe,u=he,d=re,c=Ve,p=fe,m=ve,v=me,b=pe,f=de,y=ue;return g(),ee(y,{data:k(o),border:"",size:"small","row-key":e=>e.key,height:620},{default:ae(()=>[$(d,{label:"操作",width:"80",align:"center"},{default:ae(({row:e,$index:a})=>[le("div",va,[$(n,{link:"",size:"small",type:"primary",disabled:0===a,class:"arrow",onClick:e=>t("move",a,a-1)},{default:ae(()=>[...l[1]||(l[1]=[te(" ↑ ",-1)])]),_:1},8,["disabled","onClick"]),$(n,{link:"",size:"small",type:"primary",disabled:a===k(o).length-1,class:"arrow",onClick:e=>t("move",a,a+1)},{default:ae(()=>[...l[2]||(l[2]=[te(" ↓ ",-1)])]),_:1},8,["disabled","onClick"]),$(u,{title:"确定删除吗？此操作无法撤销",placement:"top-start",onConfirm:a=>t("delete",e.key)},{reference:ae(()=>[$(n,{link:"",type:"danger",size:"small"},{default:ae(()=>[...l[3]||(l[3]=[te(" 删除 ",-1)])]),_:1})]),_:1},8,["onConfirm"])])]),_:1}),$(d,{label:"预览",width:"50",align:"center"},{default:ae(({row:e})=>[le("img",{src:k(r).get(e.key)??k(ye)(e.id),class:"icon"},null,8,ba)]),_:1}),$(d,{label:"ID(十进制)",width:"200"},{default:ae(({row:e})=>[$(c,{modelValue:e.id,"onUpdate:modelValue":a=>e.id=a,size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),$(d,{label:"TTS",width:"100"},{header:ae(()=>[$(m,null,{default:ae(()=>[l[4]||(l[4]=te(" TTS ",-1)),$(p,{modelValue:k(s).enableTts[e.lang],"onUpdate:modelValue":l[0]||(l[0]=a=>k(s).enableTts[e.lang]=a),size:"small"},null,8,["modelValue"])]),_:1})]),default:ae(({row:a})=>[$(c,{modelValue:a.tts,"onUpdate:modelValue":e=>a.tts=e,size:"small",disabled:!k(s).enableTts[e.lang]},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:1}),$(d,{label:"持续时间(秒)",width:"180"},{default:ae(({row:e})=>[$(c,{modelValue:e.duration,"onUpdate:modelValue":a=>e.duration=a,size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),$(d,{label:"冷却时间 (秒)",width:"180"},{default:ae(({row:e})=>[$(c,{modelValue:e.recast1000ms,"onUpdate:modelValue":a=>e.recast1000ms=a,size:"small"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),$(d,{label:"适用职业","min-width":"100"},{default:ae(({row:e})=>[$(b,{modelValue:e.job,"onUpdate:modelValue":a=>e.job=a,size:"small",multiple:""},{default:ae(()=>[(g(!0),h(se,null,oe(k(i),e=>(g(),ee(v,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1}),$(d,{label:"最小习得等级",width:"90",align:"center"},{default:ae(({row:e})=>[$(f,{modelValue:e.minLevel,"onUpdate:modelValue":a=>e.minLevel=a,min:1,max:100,size:"small","controls-position":"right",style:{width:"70px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),$(d,{label:"显示到第n行",width:"100",align:"center"},{default:ae(({row:e})=>[$(f,{modelValue:e.line,"onUpdate:modelValue":a=>e.line=a,min:1,size:"small","controls-position":"right",style:{width:"60px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data","row-key"])}}}),[["__scopeId","data-v-0f3ef005"]]),ha=new Map(Object.entries({9:"1",15:"4",16:"10",17:"38",20:"2",21:"26",22:"52",23:"50",24:"15",27:"45",28:"10",29:"30",30:"50",31:"1",37:"4",38:"6",40:"30",41:"10",42:"26",43:"42",44:"38",45:"50",46:"15",48:"10",49:"35",51:"45",52:"50",53:"1",54:"4",56:"6",61:"18",62:"26",65:"42",66:"30",69:"50",70:"30",74:"50",75:"1",78:"4",83:"6",84:"26",85:"30",86:"40",87:"18",88:"50",90:"15",92:"30",94:"35",96:"50",97:"1",98:"2",100:"6",101:"4",106:"18",107:"38",110:"12",112:"15",113:"30",114:"30",116:"40",117:"45",118:"50",119:"1",121:"4",124:"10",125:"12",127:"18",131:"40",132:"46",133:"50",134:"15",135:"30",136:"30",137:"35",139:"45",140:"50",141:"2",142:"1",144:"6",147:"18",149:"4",152:"35",153:"45",154:"35",155:"50",156:"15",157:"30",158:"30",159:"40",162:"50",163:"1",166:"45",167:"45",172:"30",173:"12",181:"10",184:"50",185:"30",186:"35",188:"50",189:"45",190:"4",210:"1",211:"3",215:"25",218:"4",220:"5",221:"46",222:"30",224:"40",227:"1",228:"3",232:"25",235:"4",237:"5",238:"46",239:"30",240:"50",241:"40",260:"21",261:"21",262:"21",263:"21",264:"21",265:"21",266:"21",267:"21",268:"63",269:"65",272:"68",273:"68",280:"20",282:"20",288:"1",289:"1",290:"5",291:"5",294:"10",295:"10",296:"1",297:"25",299:"1",300:"22",303:"8",304:"8",305:"8",635:"20",636:"40",638:"1",640:"40",789:"20",790:"40",793:"1",795:"40",799:"20",802:"1",803:"20",804:"20",805:"40",806:"1",807:"1",808:"20",809:"40",810:"20",811:"40",815:"50",2135:"1",2240:"1",2241:"2",2242:"4",2245:"10",2246:"40",2247:"15",2248:"15",2254:"38",2255:"26",2257:"30",2258:"18",2259:"30",2260:"30",2261:"35",2262:"40",2263:"45",2264:"50",2265:"30",2266:"35",2267:"35",2268:"45",2269:"45",2270:"45",2271:"45",2272:"30",2864:"40",2866:"1",2868:"2",2870:"18",2872:"4",2873:"26",2874:"15",2876:"10",2878:"45",2887:"62",2890:"50",3538:"54",3539:"60",3540:"56",3541:"58",3542:"35",3543:"60",3545:"60",3547:"54",3549:"54",3550:"60",3551:"56",3552:"58",3554:"56",3555:"60",3556:"58",3557:"52",3558:"54",3559:"52",3560:"56",3561:"35",3562:"60",3563:"54",3566:"56",3568:"54",3569:"52",3570:"60",3571:"56",3573:"52",3576:"58",3577:"60",3578:"40",3579:"54",3581:"58",3582:"60",3583:"52",3584:"54",3585:"56",3586:"58",3587:"60",3594:"2",3595:"34",3596:"1",3598:"54",3599:"4",3600:"10",3601:"40",3603:"12",3604:"30",3605:"50",3606:"6",3608:"46",3610:"26",3612:"50",3613:"58",3614:"15",3615:"45",3617:"1",3621:"6",3623:"2",3624:"15",3625:"35",3629:"10",3631:"35",3632:"26",3634:"45",3636:"38",3638:"50",3639:"52",3641:"56",3643:"60",4072:"23",4073:"24",4081:"55",4086:"23",4087:"24",4095:"55",4100:"36",4101:"50",4102:"15",4103:"15",4104:"5",4105:"57",4106:"60",4179:"15",4262:"52",4401:"30",4402:"30",4403:"30",4404:"30",4405:"30",4406:"30",4407:"30",4408:"30",4409:"30",4410:"30",4411:"30",4412:"30",4413:"30",4414:"30",4415:"30",4416:"30",4417:"30",4418:"30",4419:"30",4420:"30",4421:"30",4422:"30",4423:"30",4424:"30",4574:"65",4575:"65",4576:"65",4577:"65",4578:"65",4579:"65",4580:"65",4581:"65",4589:"74",4590:"74",4595:"71",4596:"79",4631:"15",4632:"15",4633:"15",4634:"15",4635:"15",4636:"15",4637:"15",4638:"15",4639:"47",4640:"47",4641:"47",4642:"47",4643:"47",4644:"47",7381:"6",7382:"62",7383:"68",7384:"64",7385:"70",7386:"62",7387:"64",7388:"68",7389:"70",7390:"68",7391:"64",7392:"62",7393:"70",7394:"64",7395:"68",7396:"70",7397:"62",7399:"68",7400:"70",7401:"62",7402:"68",7403:"70",7404:"52",7405:"62",7406:"64",7407:"64",7408:"66",7409:"70",7410:"35",7411:"54",7412:"60",7413:"64",7414:"66",7415:"40",7416:"40",7418:"70",7419:"62",7420:"64",7421:"66",7422:"70",7426:"62",7427:"70",7428:"70",7429:"70",7430:"58",7431:"64",7432:"66",7433:"70",7434:"62",7435:"64",7436:"66",7437:"70",7438:"70",7439:"62",7442:"64",7444:"70",7445:"70",7447:"26",7448:"70",7449:"70",7477:"1",7478:"4",7479:"18",7480:"50",7481:"30",7482:"40",7483:"26",7484:"35",7485:"45",7486:"15",7487:"50",7488:"40",7489:"30",7490:"52",7491:"62",7492:"54",7493:"56",7494:"52",7495:"68",7496:"70",7497:"60",7498:"6",7499:"50",7503:"2",7504:"1",7505:"4",7506:"6",7507:"10",7509:"15",7510:"26",7511:"30",7512:"35",7513:"52",7514:"54",7515:"40",7516:"50",7517:"45",7518:"50",7519:"56",7520:"58",7521:"60",7523:"64",7524:"62",7525:"68",7526:"70",7527:"1",7528:"35",7529:"50",7530:"52",7531:"8",7533:"15",7535:"22",7537:"48",7538:"18",7540:"12",7541:"8",7542:"12",7546:"50",7548:"32",7549:"22",7551:"24",7553:"10",7554:"6",7557:"20",7559:"44",7560:"8",7561:"18",7562:"14",7568:"10",7571:"48",7632:"61",7782:"1",7783:"1",7784:"1",7785:"1",7786:"1",7787:"1",7788:"1",7789:"1",7790:"1",7791:"1",7792:"1",7793:"1",7795:"1",7796:"1",7797:"1",7798:"1",7799:"1",7800:"1",7801:"1",7802:"1",7804:"1",7805:"1",7806:"1",7807:"1",7863:"10",7867:"30",7869:"70",7903:"61",7904:"61",7905:"65",7906:"63",7909:"69",7910:"67",7911:"65",8324:"62",11383:"1",11384:"1",11385:"1",11386:"1",11387:"1",11388:"1",11389:"1",11390:"1",11391:"1",11392:"1",11393:"1",11394:"1",11395:"1",11396:"1",11397:"1",11398:"1",11399:"1",11400:"1",11401:"1",11402:"1",11403:"1",11404:"1",11405:"1",11406:"1",11407:"1",11408:"1",11409:"1",11410:"1",11411:"1",11412:"1",11413:"1",11414:"1",11415:"1",11416:"1",11417:"1",11418:"1",11419:"1",11420:"1",11421:"1",11422:"1",11423:"1",11424:"1",11425:"1",11426:"1",11427:"1",11428:"1",11429:"1",11430:"1",11431:"1",15989:"1",15990:"2",15991:"20",15992:"40",15993:"15",15994:"25",15995:"35",15996:"45",15997:"15",15998:"70",15999:"15",16e3:"15",16001:"15",16002:"15",16003:"15",16004:"70",16005:"76",16006:"60",16007:"30",16008:"50",16009:"66",16010:"50",16011:"62",16012:"56",16013:"72",16014:"80",16015:"52",16137:"1",16138:"2",16139:"4",16140:"6",16141:"10",16142:"10",16143:"15",16144:"18",16145:"26",16146:"60",16147:"60",16148:"38",16149:"40",16150:"60",16151:"45",16152:"50",16153:"54",16155:"70",16156:"70",16157:"70",16158:"70",16159:"62",16160:"64",16161:"68",16162:"30",16163:"72",16164:"76",16165:"80",16191:"15",16192:"15",16193:"70",16194:"70",16195:"70",16196:"70",16230:"4",16457:"40",16458:"72",16459:"80",16460:"76",16461:"66",16462:"40",16463:"72",16464:"76",16465:"80",16466:"30",16467:"40",16468:"40",16469:"74",16470:"74",16471:"66",16472:"80",16473:"45",16474:"74",16476:"80",16477:"72",16478:"74",16479:"76",16480:"80",16481:"72",16482:"68",16483:"74",16485:"74",16486:"74",16487:"80",16488:"52",16489:"72",16491:"76",16492:"76",16493:"80",16494:"72",16495:"76",16496:"80",16497:"52",16498:"58",16499:"72",16500:"76",16501:"80",16502:"80",16503:"80",16504:"80",16505:"72",16506:"35",16507:"80",16508:"10",16510:"52",16511:"26",16514:"80",16515:"80",16516:"80",16517:"80",16518:"80",16519:"80",16524:"18",16525:"22",16526:"66",16527:"40",16528:"76",16529:"76",16530:"80",16531:"52",16532:"72",16533:"72",16534:"76",16535:"74",16536:"80",16537:"20",16538:"40",16539:"46",16540:"72",16541:"72",16542:"74",16543:"76",16544:"76",16545:"80",16546:"80",16547:"80",16548:"80",16549:"72",16550:"80",16551:"80",16552:"50",16553:"60",16554:"72",16555:"72",16556:"74",16557:"76",16558:"76",16559:"80",16560:"8",16766:"45",16889:"56",17151:"34",17152:"42",17206:"80",17209:"30",17215:"4",17864:"2",17865:"26",17869:"1",17870:"38",18073:"60",18295:"1",18296:"1",18297:"1",18298:"1",18299:"1",18300:"1",18301:"1",18302:"1",18303:"1",18304:"1",18305:"1",18306:"1",18307:"1",18308:"1",18309:"1",18310:"1",18311:"1",18312:"1",18313:"1",18314:"1",18315:"1",18316:"1",18317:"1",18318:"1",18319:"1",18320:"1",18321:"1",18322:"1",18323:"1",18324:"1",18325:"1",18805:"30",18806:"35",18807:"45",18873:"30",18874:"30",18875:"30",18876:"35",18877:"35",18878:"45",18879:"45",18880:"45",18881:"45",19002:"47",19003:"47",19004:"26",19005:"26",19006:"26",19007:"26",19008:"26",19009:"26",19010:"26",19011:"26",19012:"42",19013:"42",19014:"42",19015:"42",19016:"42",19017:"42",19018:"42",19019:"42",19238:"1",19239:"1",19240:"1",19264:"22",19297:"15",19298:"15",19299:"15",19300:"15",19301:"15",19302:"15",19303:"15",19304:"15",21177:"15",21178:"15",21203:"81",21204:"81",21205:"85",21206:"85",22182:"50",22183:"50",22184:"50",22185:"50",22186:"50",22187:"50",22188:"50",22189:"50",23264:"1",23265:"1",23266:"1",23267:"1",23268:"1",23269:"1",23270:"1",23271:"1",23272:"1",23273:"1",23274:"1",23275:"1",23276:"1",23277:"1",23278:"1",23279:"1",23280:"1",23281:"1",23282:"1",23283:"1",23284:"1",23285:"1",23286:"1",23287:"1",23288:"1",23289:"1",23290:"1",23416:"1",24283:"1",24284:"2",24285:"4",24286:"10",24287:"12",24288:"20",24289:"26",24290:"30",24291:"30",24292:"30",24293:"30",24294:"35",24295:"40",24296:"45",24297:"46",24298:"50",24299:"52",24300:"56",24301:"58",24302:"60",24303:"62",24304:"66",24305:"70",24306:"72",24307:"72",24308:"72",24309:"74",24310:"76",24311:"80",24312:"82",24313:"82",24314:"82",24315:"82",24316:"82",24317:"86",24318:"90",24373:"1",24374:"5",24375:"30",24376:"25",24377:"45",24378:"10",24379:"35",24380:"60",24381:"65",24382:"70",24383:"70",24384:"70",24385:"88",24386:"15",24387:"82",24388:"82",24389:"50",24390:"70",24391:"70",24392:"55",24393:"76",24394:"80",24395:"80",24396:"80",24397:"80",24398:"90",24399:"86",24400:"86",24401:"20",24402:"20",24403:"74",24404:"40",24405:"72",25589:"50",25590:"50",25746:"82",25747:"86",25748:"90",25749:"90",25750:"90",25751:"82",25752:"86",25753:"90",25754:"82",25755:"86",25757:"90",25758:"82",25759:"86",25760:"90",25761:"15",25762:"35",25763:"40",25764:"60",25765:"60",25766:"72",25767:"82",25768:"86",25769:"90",25770:"82",25771:"86",25772:"86",25773:"90",25774:"82",25776:"86",25777:"90",25778:"90",25780:"86",25781:"90",25782:"90",25783:"82",25784:"86",25785:"90",25786:"82",25787:"86",25788:"90",25789:"80",25790:"82",25791:"86",25792:"90",25793:"12",25794:"82",25795:"82",25796:"86",25797:"90",25798:"2",25799:"2",25800:"6",25801:"66",25802:"6",25803:"15",25804:"22",25805:"30",25806:"35",25807:"45",25808:"6",25809:"15",25810:"22",25811:"30",25812:"30",25813:"30",25814:"26",25815:"26",25816:"26",25817:"54",25818:"54",25819:"54",25820:"58",25821:"58",25822:"60",25823:"72",25824:"72",25825:"72",25826:"74",25827:"74",25828:"74",25829:"74",25830:"80",25831:"80",25832:"82",25833:"82",25834:"82",25835:"86",25836:"86",25837:"86",25838:"90",25839:"90",25840:"90",25841:"2",25855:"82",25856:"82",25857:"86",25858:"90",25859:"82",25860:"82",25861:"86",25862:"90",25865:"82",25866:"82",25867:"86",25868:"90",25871:"82",25872:"82",25873:"86",25874:"90",25875:"90",25880:"10",25882:"60",25883:"6",25884:"26",25885:"86",26521:"90",26522:"90",26804:"15",26805:"48",26806:"81",26870:"64",26871:"75",26872:"85",27523:"90",28509:"90",32065:"10",32066:"10",32067:"10",32068:"10",33987:"1",33988:"1",33989:"1",33990:"1",33997:"1",34515:"1",34563:"1",34564:"1",34565:"1",34566:"1",34567:"1",34568:"1",34569:"1",34570:"1",34571:"1",34572:"1",34573:"1",34574:"1",34575:"1",34576:"1",34577:"1",34578:"1",34579:"1",34580:"1",34581:"1",34582:"1",34606:"1",34607:"10",34608:"5",34609:"20",34610:"30",34611:"30",34612:"30",34613:"30",34614:"25",34615:"35",34616:"40",34617:"45",34618:"50",34619:"50",34620:"65",34621:"65",34622:"65",34623:"70",34624:"70",34625:"70",34626:"90",34627:"90",34628:"90",34629:"90",34630:"90",34631:"96",34632:"15",34633:"82",34634:"55",34635:"60",34636:"75",34637:"75",34638:"80",34639:"80",34640:"100",34641:"100",34642:"100",34643:"100",34644:"92",34645:"92",34646:"40",34647:"86",34650:"1",34651:"5",34652:"15",34653:"60",34654:"60",34655:"60",34656:"25",34657:"35",34658:"45",34659:"60",34660:"60",34661:"60",34662:"80",34663:"90",34664:"30",34665:"30",34666:"96",34667:"96",34668:"50",34669:"70",34670:"30",34671:"30",34672:"96",34673:"96",34674:"50",34675:"70",34676:"30",34677:"96",34678:"50",34679:"86",34680:"86",34681:"100",34683:"60",34684:"20",34685:"10",34686:"88",34688:"92",34689:"30",34690:"50",34691:"70",34790:"1",34871:"95",34872:"95",35347:"30",35348:"50",35349:"70",35920:"55",35921:"75",35922:"75",36918:"76",36919:"76",36920:"92",36921:"96",36922:"100",36923:"92",36924:"96",36925:"100",36926:"54",36927:"92",36928:"96",36929:"96",36930:"96",36931:"96",36932:"100",36934:"56",36935:"92",36936:"96",36937:"100",36938:"100",36939:"100",36940:"15",36941:"40",36942:"54",36943:"74",36944:"64",36945:"92",36946:"92",36947:"92",36948:"92",36949:"96",36950:"100",36951:"45",36952:"64",36953:"92",36954:"96",36955:"96",36956:"100",36957:"66",36958:"92",36959:"96",36960:"96",36961:"100",36962:"82",36963:"92",36964:"96",36965:"100",36966:"100",36967:"100",36968:"100",36969:"92",36970:"96",36971:"96",36972:"96",36973:"100",36974:"25",36975:"92",36976:"96",36977:"100",36978:"68",36979:"92",36980:"92",36981:"96",36982:"100",36983:"92",36984:"96",36985:"100",36986:"92",36987:"92",36988:"96",36989:"100",36990:"92",36991:"96",36992:"100",36993:"100",36994:"100",36995:"100",36996:"100",36997:"100",36998:"100",36999:"100",37002:"52",37003:"52",37004:"84",37005:"92",37006:"96",37007:"100",37008:"40",37009:"92",37010:"96",37011:"100",37012:"92",37013:"96",37014:"100",37015:"100",37016:"100",37017:"30",37018:"30",37019:"30",37020:"30",37021:"30",37022:"70",37023:"30",37024:"30",37025:"30",37026:"30",37027:"30",37028:"30",37029:"92",37030:"96",37031:"100",37032:"82",37033:"92",37034:"96",37035:"100",37037:"100",37045:"91",37046:"95",37047:"1",37594:"100",37595:"100"}));function ga(e){return ha.get(e.toString())}const ya={class:"page-container"},wa={class:"search-dialog-header",style:{display:"flex","justify-content":"space-between","align-items":"center"}},ka={style:{height:"300px","overflow-y":"auto"}},ja=["data-src"],xa=Ee(u({__name:"keySkillTimerSettings",setup(e){const a=ge(),l=p("chinese"),t={chinese:"国服技能数据",global:"国际服技能数据"};function s(){Je.confirm(`是否重置「${t[l.value]}」为默认技能数据？这将覆盖当前编辑的内容。`,"确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{"chinese"===l.value?a.keySkillsData.chinese=[...we]:a.keySkillsData.global=[...ke],ne.success(`已重置${t[l.value]}`)}).catch(()=>{})}function o(){const e=JSON.stringify(a.keySkillsData),l=Se.compressToBase64(e);Pe(l).then(()=>ne.success("已复制到剪贴板")).catch(()=>ne.error("复制失败"))}function n(){Je.prompt("请输入导入的技能数据，导入的数据将覆盖当前内容。","导入",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"textarea",inputValidator:e=>{try{const a=Se.decompressFromBase64(e),l=JSON.parse(a);return"object"==typeof l&&null!==l||"数据格式错误"}catch(a){return`数据格式错误: ${a instanceof Error?a.message:String(a)}`}}}).then(({value:e})=>{if(e){const l=Se.decompressFromBase64(e),t=JSON.parse(l);"object"==typeof t&&null!==t?(a.keySkillsData.chinese=t.chinese,a.keySkillsData.global=t.global,ne.success("已导入数据")):ne.error("导入数据格式错误")}}).catch(()=>{})}const i=p(!1),r=p(""),u=p([]);m(r,e=>{if(e){const a=[];for(const[l,t]of Object.entries($e))if(t.includes(e)){const e=Number(l);ga(e)&&a.push({id:e,name:t})}u.value=a}});const d=new Map;function c(e){e&&e instanceof HTMLImageElement&&function(e){const a=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const l=e.target;l.src=l.dataset.src,a.unobserve(l)}})});a.observe(e),d.set(e,()=>a.unobserve(e))}(e)}f(()=>{d.forEach(e=>e()),d.clear()});const v=p({position:"fixed",top:"50px",left:"50px",width:"400px",height:"400px",zIndex:"1000"});let b=0,w=0,j=0,x=0,_=!1,V=null;function E(e){e.preventDefault();const a=document.querySelector(".search-dialog");if(!a)return;V=a;const l=a.getBoundingClientRect();b=e.clientX,w=e.clientY,j=l.left,x=l.top,_=!0,window.addEventListener("mousemove",C),window.addEventListener("mouseup",T,{once:!0})}function C(e){if(!_||!V)return;const a=e.clientX-b,l=e.clientY-w,t=Math.max(0,j+a),s=Math.max(0,x+l);var o,n;o=t,n=s,V&&(V.style.left=`${o}px`,V.style.top=`${n}px`),v.value.left=`${o}px`,v.value.top=`${n}px`}function T(){_=!1,V=null,window.removeEventListener("mousemove",C)}return(e,d)=>{const p=xe,m=Ve,b=be,f=ve,w=re,j=ue,x=Ae,_=_e,V=Te,C=Ce,T=fa,A=ma,S=pa;return g(),h("div",ya,[i.value?(g(),ee(x,{key:0,class:"search-dialog",style:y(v.value),"body-style":"padding: 0.5em 1em"},{default:ae(()=>[le("div",wa,[le("h4",{class:"dialog-drag-handle",onMousedown:E}," 拖动这里可以移动 ",32),$(p,{size:"small",onClick:d[0]||(d[0]=e=>i.value=!1)},{default:ae(()=>[...d[5]||(d[5]=[te(" 关闭 ",-1)])]),_:1})]),$(f,{"label-width":"5em"},{default:ae(()=>[$(b,{label:"技能名称"},{default:ae(()=>[$(m,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=e=>r.value=e),clearable:"",placeholder:"请输入技能名称"},null,8,["modelValue"])]),_:1})]),_:1}),le("div",ka,[$(j,{data:u.value,style:{width:"100%"}},{default:ae(()=>[$(w,{label:"预览",width:"60",align:"center"},{default:ae(({row:e})=>[le("img",{ref:c,"data-src":k(ye)(e.id),src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwgAAACH5BAEAAAIALAAAAAAQABAAAAM6CLrc/jDKSau9OOvNu/9gKI5kaZ5oqub5bSqVefrb7r3rtf1B7n8fqw7GZ0cL+o8P8fAQA7",loading:"lazy",style:{width:"24px",height:"24px"},alt:""},null,8,ja)]),_:1}),$(w,{prop:"id",label:"技能ID（十进制）"}),$(w,{prop:"name",label:"技能名称"})]),_:1},8,["data"])])]),_:1},8,["style"])):W("",!0),$(C,{class:"header"},{default:ae(()=>[$(p,{size:"small",type:"success",onClick:d[2]||(d[2]=e=>{return t=l.value,void a.keySkillsData[t].unshift({key:crypto.randomUUID(),id:0,tts:"",duration:0,recast1000ms:0,job:[],line:1,minLevel:1});var t})},{default:ae(()=>[...d[6]||(d[6]=[te(" 新增技能 ",-1)])]),_:1}),$(p,{size:"small",type:"info",onClick:d[3]||(d[3]=e=>i.value=!0)},{default:ae(()=>[...d[7]||(d[7]=[te(" 搜索技能ID ",-1)])]),_:1}),$(_,null,{default:ae(()=>[$(p,{size:"small",onClick:o},{default:ae(()=>[...d[8]||(d[8]=[te(" 导出 ",-1)])]),_:1}),$(p,{size:"small",onClick:n},{default:ae(()=>[...d[9]||(d[9]=[te(" 导入 ",-1)])]),_:1})]),_:1}),$(p,{size:"small",type:"danger",onClick:s},{default:ae(()=>[...d[10]||(d[10]=[te(" 恢复默认 ",-1)])]),_:1}),$(V,{"storage-key":"key-skill-timer-2"})]),_:1}),$(S,{modelValue:l.value,"onUpdate:modelValue":d[4]||(d[4]=e=>l.value=e),"tab-position":"top",type:"border-card",class:"tabs"},{default:ae(()=>[(g(!0),h(se,null,oe(Object.keys(t),e=>(g(),ee(A,{key:e,label:t[e],name:e},{default:ae(()=>[$(T,{lang:e,onDelete:l=>function(e,l){const t=a.keySkillsData[e],s=t.findIndex(e=>e.key===l);-1!==s&&t.splice(s,1)}(e,l),onMove:(l,t)=>function(e,l,t){const s=a.keySkillsData[e];if(t<0||t>=s.length||l===t)return;const o=s[l];o&&(s.splice(l,1),s.splice(t,0,o))}(e,l,t)},null,8,["lang","onDelete","onMove"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-b058eeb7"]]);export{xa as default};

import{b as e,E as t}from"./index-DZW9etFq.js";import{P as o,ck as s,a4 as a,d as n,H as l,s as r,r as p,g as c,u as i,b8 as f,j as u,o as d,w as m,I as y,z as x,b as v,a as B,q as T,e as g,E as h,p as b,m as E,t as _,aS as k,_ as S,a0 as j}from"./index-3qLTngOb.js";import{a as C,b as R}from"./el-popper-cZe3Gjzh.js";import{E as $}from"./focus-trap--WRqlBzD.js";const w=o({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:e,default:"primary"},cancelButtonType:{type:String,values:e,default:"text"},icon:{type:a,default:()=>s},iconColor:{type:String,default:"#f90"},hideIcon:Boolean,hideAfter:{type:Number,default:200},effect:{...C.effect,default:"light"},teleported:C.teleported,persistent:C.persistent,width:{type:[String,Number],default:150},closeOnPressEscape:{type:Boolean,default:!0}}),P={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent||e instanceof KeyboardEvent},z=n({name:"ElPopconfirm"});const I=j(S(n({...z,props:w,emits:P,setup(e,{expose:o,emit:s}){const a=e,{t:n}=l(),S=r("popconfirm"),j=p(),C=c(()=>{var e;return null==(e=i(j))?void 0:e.popperRef}),w=()=>{var e,t;null==(t=null==(e=j.value)?void 0:e.onClose)||t.call(e)},P=c(()=>({width:f(a.width)})),z=e=>{s("confirm",e),w()},I=e=>{s("cancel",e),w()},M=e=>{a.closeOnPressEscape&&I(e)},q=c(()=>a.confirmButtonText||n("el.popconfirm.confirmButtonText")),A=c(()=>a.cancelButtonText||n("el.popconfirm.cancelButtonText"));return o({popperRef:C,hide:w}),(e,o)=>(d(),u(i(R),k({ref_key:"tooltipRef",ref:j,trigger:"click",effect:e.effect},e.$attrs,{"popper-class":`${i(S).namespace.value}-popover`,"popper-style":i(P),teleported:e.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":e.hideAfter,persistent:e.persistent}),{content:m(()=>[v(i($),{loop:"",trapped:"",onReleaseRequested:M},{default:m(()=>[B("div",{class:T(i(S).b())},[B("div",{class:T(i(S).e("main"))},[!e.hideIcon&&e.icon?(d(),u(i(h),{key:0,class:T(i(S).e("icon")),style:b({color:e.iconColor})},{default:m(()=>[(d(),u(E(e.icon)))]),_:1},8,["class","style"])):x("v-if",!0),g(" "+_(e.title),1)],2),B("div",{class:T(i(S).e("action"))},[y(e.$slots,"actions",{confirm:z,cancel:I},()=>[v(i(t),{size:"small",type:"text"===e.cancelButtonType?"":e.cancelButtonType,text:"text"===e.cancelButtonType,onClick:I},{default:m(()=>[g(_(i(A)),1)]),_:1},8,["type","text"]),v(i(t),{size:"small",type:"text"===e.confirmButtonType?"":e.confirmButtonType,text:"text"===e.confirmButtonType,onClick:z},{default:m(()=>[g(_(i(q)),1)]),_:1},8,["type","text"])])],2)],2)]),_:3})]),default:m(()=>[e.$slots.reference?y(e.$slots,"reference",{key:0}):x("v-if",!0)]),_:3},16,["effect","popper-class","popper-style","teleported","hide-after","persistent"]))}}),[["__file","popconfirm.vue"]]));export{I as E};

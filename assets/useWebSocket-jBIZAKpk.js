import{P as e,d as t,S as s,h as o,k as a,o as n,w as l,T as r,q as i,s as c,u,n as w,_ as d,V as f,a0 as g,b_ as p,r as m,i as v,A as y}from"./index-DTEsN3P3.js";import{c as h}from"./overlay_plugin_api-DHbPkDtN.js";import{E as b}from"./index-Pot5vf8S.js";const S=Symbol("rowContextKey"),C=e({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:["start","center","end","space-around","space-between","space-evenly"],default:"start"},align:{type:String,values:["top","middle","bottom"]}}),E=t({name:"ElRow"});const T=g(d(t({...E,props:C,setup(e){const t=e,d=s("row"),g=o(()=>t.gutter);f(S,{gutter:g});const p=o(()=>{const e={};return t.gutter?(e.marginRight=e.marginLeft=`-${t.gutter/2}px`,e):e}),m=o(()=>[d.b(),d.is(`justify-${t.justify}`,"start"!==t.justify),d.is(`align-${t.align}`,!!t.align)]);return(e,t)=>(n(),a(w(e.tag),{class:c(u(m)),style:i(u(p))},{default:l(()=>[r(e.$slots,"default")]),_:3},8,["class","style"]))}}),[["__file","row.vue"]]));function _(e={allowClose:!1,addWsParam:!0}){const{t:t}=p(),s=m(void 0),o=m(!1),a=m("overlay");let n=null;function l(){Promise.race([h({call:"getLanguage"}),new Promise((e,t)=>{setTimeout(()=>{t(new Error("Timeout"))},1e3)})]).then(()=>{n&&clearTimeout(n),window.location.href.includes("OVERLAY_WS")&&(s.value=!0,a.value="websocket")}).catch(()=>{s.value=!1,a.value="overlay"})}return window.location.href.includes("OVERLAY_WS")&&(n=window.setInterval(()=>{l()},3e3)),v(()=>{!function(){const e=window.navigator.userAgent,t=e.includes("MSIE "),s=e.includes("Trident/");return t||s}()?(y(s,s=>{s?b.close():function(){if(!o.value){b.close();const s=t("websocket.disconnectMsg",{actWS:"/ff14-overlay-vue/assets/actWS-Dxp7wU0T.webp"}),a=e.allowClose?t("websocket.disconnectTitleCloseable"):t("websocket.disconnectTitleRequired");b.alert(s,a,{dangerouslyUseHTMLString:!0,closeOnClickModal:!1,showClose:!1,closeOnPressEscape:!1,closeOnHashChange:!1,showCancelButton:e.allowClose,showConfirmButton:!1,cancelButtonText:t("websocket.ignoreWarningBtn"),buttonSize:"small"}).catch(()=>{o.value=!0,n&&clearInterval(n)})}}()}),!window.location.href.includes("OVERLAY_WS")&&e.addWsParam&&function(){const e=window.location.href,[t,s=""]=e.split("#"),[o,a=""]=s.split("?"),n=new URLSearchParams(a);let l="";n.forEach((e,t)=>{"OVERLAY_WS"!==t&&(l+=`${t}=${encodeURIComponent(e)}&`)}),l+="OVERLAY_WS=ws://127.0.0.1:10501/ws";let r=t;o&&(r+=`#${o}`,l&&(r+=`?${l}`)),window.location.href=r,location.reload()}(),l()):b.alert(t("websocket.ieBrowserWarning"),t("websocket.ieBrowserTitle"),{type:"error",showConfirmButton:!1,showClose:!1})}),{wsConnected:s,useType:a}}export{T as E,S as r,_ as u};

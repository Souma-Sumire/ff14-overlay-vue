import{h as a,x as e,m as s,dt as t,c as o,n,p as l,f as i,v as m,a as r}from"./vendor-vue-i6lpFrx4.js";import{a as d}from"./cactbot-CO6bDcKj.js";import{h as u}from"./shared-core-DW4-bD-R.js";import{_ as c}from"./shared-common-D0LVCzpB.js";import"./vendor-element-plus-DxZgBX3C.js";const v=["innerHTML"],p=["innerHTML"],f=c(a({__name:"time",setup(a){u({allowClose:!0,addWsParam:!0});const c=e(!1),f=e(-1),b=e(""),h=e(""),$=s("hash").mode||"combat";if("combat"===$||"both"===$){d("CombatData",a=>{"true"===a.isActive&&!1===c.value?f.value=Date.now():"false"===a.isActive&&(f.value=-1,b.value=""),c.value="true"===a.isActive}),requestAnimationFrame(function a(){if(f.value>0){const a=Date.now()-f.value,e=t.duration(a),s=e.minutes(),o=e.seconds(),n=e.milliseconds().toString().padStart(3,"0");b.value=`${s<10?"0":""}${s}:${o<10?"0":""}${o}<small>.${n}</small>`}requestAnimationFrame(a)})}if("logline"===$||"both"===$){d("LogLine",a=>{if("00"!==a.line[0]){const e=a.line[1].match(new RegExp("(?<=T)(\\d\\d:\\d\\d:\\d\\d)\\.(\\d\\d\\d)"));h.value=`${e[1]}<small>.${e[2]}</small>`}})}return(a,e)=>(r(),o("div",null,["logline"===i($)||"both"===i($)?(r(),o("span",{key:0,innerHTML:i(h)},null,8,v)):n("",!0),"combat"===i($)||"both"===i($)?l((r(),o("span",{key:1,innerHTML:i(b)},null,8,p)),[[m,i(f)>=0]]):n("",!0)]))}}),[["__scopeId","data-v-db8aab4d"]]);export{f as default};

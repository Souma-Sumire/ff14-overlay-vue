import{d as e,S as l,X as a,b as t,ab as s,ac as n,_ as o,h as i,c as r,o as d,D as c,k as u,u as p,ad as v,w as h,a as f,J as m,s as y,Y as g,F as b,a6 as k,ae as C,af as x,r as S,m as N,e as w,t as T,T as z,U as $,ag as E,ah as L,a2 as _,ai as V,aj as D,P as j,ak as R,al as B,am as A,V as F,f as P,A as O,an as M,i as q,ao as I,ap as U,aq as H,ar as W,a0 as Z,as as K,at as Y,au as G,W as Q,av as X,a4 as J,aw as ee,ax as le,l as ae,a5 as te,v as se,q as ne,ay as oe,n as ie,az as re,aA as de,aB as ce,aC as ue,aD as pe,aE as ve,z as he,a7 as fe,Q as me,O as ye,a1 as ge,aF as be}from"./index-DvQb4x_q.js";import{s as ke,P as Ce,i as xe,a as Se}from"./vnode-DpzG41Mk.js";/* empty css                 */import{i as Ne,u as we,c as Te,f as ze,g as $e,a as Ee,b as Le,E as _e}from"./el-popper-C4PvXcc5.js";import{E as Ve,C as De}from"./el-tag-B7RDwkUV.js";import{E as je}from"./el-checkbox-BOF0cwd2.js";import{E as Re}from"./el-radio-BjwkSiD_.js";import{u as Be,a as Ae}from"./useLang-Bh_cS3hF.js";import{d as Fe}from"./content_type-uhloenTS.js";import{Z as Pe}from"./zoneInfo-BU1Nx5Ma.js";import{a as Oe,b as Me,c as qe,u as Ie}from"./use-form-common-props-DcHEVCEu.js";import{b as Ue,C as He,U as We,d as Ze}from"./index-Bcta5x-5.js";import{c as Ke}from"./cloneDeep-Brx4Zscn.js";import{E as Ye}from"./validator-CfhwCmhx.js";import{t as Ge,b as Qe}from"./el-select-BfJdErAR.js";import{u as Xe,a as Je}from"./index-D93Vz6jN.js";var el=1/0;const ll=Symbol();var al=e({name:"NodeContent",props:{node:{type:Object,required:!0}},setup(e){const o=l("cascader-node"),{renderLabelFn:i}=a(ll),{node:r}=e,{data:d,label:c}=r,u=()=>{const e=null==i?void 0:i({node:r,data:d});return(s(l=e)?l.every(({type:e})=>e===n):(null==l?void 0:l.type)===n)?c:null!=e?e:c;var l};return()=>t("span",{class:o.e("label")},[u()])}});const tl=e({name:"ElCascaderNode"});var sl=o(e({...tl,props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:s}){const n=e,o=a(ll),x=l("cascader-node"),S=i(()=>o.isHoverMenu),N=i(()=>o.config.multiple),w=i(()=>o.config.checkStrictly),T=i(()=>o.config.showPrefix),z=i(()=>{var e;return null==(e=o.checkedNodes[0])?void 0:e.uid}),$=i(()=>n.node.isDisabled),E=i(()=>n.node.isLeaf),L=i(()=>w.value&&!E.value||!$.value),_=i(()=>D(o.expandingNode)),V=i(()=>w.value&&o.checkedNodes.some(D)),D=e=>{var l;const{level:a,uid:t}=n.node;return(null==(l=null==e?void 0:e.pathNodes[a-1])?void 0:l.uid)===t},j=()=>{_.value||o.expandNode(n.node)},R=e=>{const{node:l}=n;e!==l.checked&&o.handleCheckChange(l,e)},B=()=>{o.lazyLoad(n.node,()=>{E.value||j()})},A=e=>{S.value&&(F(),!E.value&&s("expand",e))},F=()=>{const{node:e}=n;L.value&&!e.loading&&(e.loaded?j():B())},P=()=>{!E.value||$.value||w.value||N.value?(o.config.checkOnClickNode&&(N.value||w.value)||E.value&&o.config.checkOnClickLeaf)&&!$.value?O(!n.node.checked):S.value||F():M(!0)},O=e=>{w.value?(R(e),n.node.loaded&&j()):M(e)},M=e=>{n.node.loaded?(R(e),!w.value&&j()):B()};return(l,a)=>(d(),r("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!p(E),"aria-owns":p(E)?void 0:e.menuId,"aria-expanded":p(_),tabindex:p(L)?-1:void 0,class:y([p(x).b(),p(x).is("selectable",p(w)),p(x).is("active",e.node.checked),p(x).is("disabled",!p(L)),p(_)&&"in-active-path",p(V)&&"in-checked-path"]),onMouseenter:A,onFocus:A,onClick:P},[c(" prefix "),p(N)&&p(T)?(d(),u(p(je),{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:p($),onClick:v(()=>{},["stop"]),"onUpdate:modelValue":O},null,8,["model-value","indeterminate","disabled","onClick"])):p(w)&&p(T)?(d(),u(p(Re),{key:1,"model-value":p(z),label:e.node.uid,disabled:p($),"onUpdate:modelValue":O,onClick:v(()=>{},["stop"])},{default:h(()=>[c("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),f("span")]),_:1},8,["model-value","label","disabled","onClick"])):p(E)&&e.node.checked?(d(),u(p(g),{key:2,class:y(p(x).e("prefix"))},{default:h(()=>[t(p(m))]),_:1},8,["class"])):c("v-if",!0),c(" content "),t(p(al),{node:e.node},null,8,["node"]),c(" postfix "),p(E)?c("v-if",!0):(d(),r(b,{key:3},[e.node.loading?(d(),u(p(g),{key:0,class:y([p(x).is("loading"),p(x).e("postfix")])},{default:h(()=>[t(p(k))]),_:1},8,["class"])):(d(),u(p(g),{key:1,class:y(["arrow-right",p(x).e("postfix")])},{default:h(()=>[t(p(C))]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex"]))}}),[["__file","node.vue"]]);const nl=e({name:"ElCascaderMenu"});var ol=o(e({...nl,props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const s=e,n=$(),o=l("cascader-menu"),{t:v}=x(),f=Oe();let m,C;const E=a(ll),L=S(),_=i(()=>!s.nodes.length),V=i(()=>!E.initialLoaded),D=i(()=>`${f.value}-${s.index}`),j=e=>{m=e.target},R=e=>{if(E.isHoverMenu&&m&&L.value)if(m.contains(e.target)){B();const l=n.vnode.el,{left:a}=l.getBoundingClientRect(),{offsetWidth:t,offsetHeight:s}=l,o=e.clientX-a,i=m.offsetTop,r=i+m.offsetHeight;L.value.innerHTML=`\n          <path style="pointer-events: auto;" fill="transparent" d="M${o} ${i} L${t} 0 V${i} Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M${o} ${r} L${t} ${s} V${r} Z" />\n        `}else C||(C=window.setTimeout(A,E.config.hoverThreshold))},B=()=>{C&&(clearTimeout(C),C=void 0)},A=()=>{L.value&&(L.value.innerHTML="",B())};return(l,a)=>(d(),u(p(Ve),{key:p(D),tag:"ul",role:"menu",class:y(p(o).b()),"wrap-class":p(o).e("wrap"),"view-class":[p(o).e("list"),p(o).is("empty",p(_))],onMousemove:R,onMouseleave:A},{default:h(()=>{var a;return[(d(!0),r(b,null,N(e.nodes,e=>(d(),u(sl,{key:e.uid,node:e,"menu-id":p(D),onExpand:j},null,8,["node","menu-id"]))),128)),p(V)?(d(),r("div",{key:0,class:y(p(o).e("empty-text"))},[t(p(g),{size:"14",class:y(p(o).is("loading"))},{default:h(()=>[t(p(k))]),_:1},8,["class"]),w(" "+T(p(v)("el.cascader.loading")),1)],2)):p(_)?(d(),r("div",{key:1,class:y(p(o).e("empty-text"))},[z(l.$slots,"empty",{},()=>[w(T(p(v)("el.cascader.noData")),1)])],2)):(null==(a=p(E))?void 0:a.isHoverMenu)?(d(),r(b,{key:2},[c(" eslint-disable-next-line vue/html-self-closing "),(d(),r("svg",{ref_key:"hoverZone",ref:L,class:y(p(o).e("hover-zone"))},null,2))],2112)):c("v-if",!0)]}),_:3},8,["class","wrap-class","view-class"]))}}),[["__file","menu.vue"]]);let il=0;class rl{constructor(e,l,a,t=!1){this.data=e,this.config=l,this.parent=a,this.root=t,this.uid=il++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:s,label:n,children:o}=l,i=e[o],r=(e=>{const l=[e];let{parent:a}=e;for(;a;)l.unshift(a),a=a.parent;return l})(this);this.level=t?0:a?a.level+1:1,this.value=e[s],this.label=e[n],this.pathNodes=r,this.pathValues=r.map(e=>e.value),this.pathLabels=r.map(e=>e.label),this.childrenData=i,this.children=(i||[]).map(e=>new rl(e,l,this)),this.loaded=!l.lazy||this.isLeaf||!E(i),this.text=""}get isDisabled(){const{data:e,parent:l,config:a}=this,{disabled:t,checkStrictly:s}=a;return(L(t)?t(e,this):!!e[t])||!s&&!!(null==l?void 0:l.isDisabled)}get isLeaf(){const{data:e,config:l,childrenData:a,loaded:t}=this,{lazy:n,leaf:o}=l,i=L(o)?o(e,this):e[o];return _(i)?!(n&&!t)&&!(s(a)&&a.length):!!i}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:l,children:a}=this,t=new rl(e,this.config,this);return s(l)?l.push(e):this.childrenData=[e],a.push(t),t}calcText(e,l){const a=e?this.pathLabels.join(l):this.label;return this.text=a,a}broadcast(e){this.children.forEach(l=>{var a;l&&(l.broadcast(e),null==(a=l.onParentCheck)||a.call(l,e))})}emit(){var e;const{parent:l}=this;l&&(null==(e=l.onChildCheck)||e.call(l),l.emit())}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,l=e.filter(e=>!e.isDisabled),a=!!l.length&&l.every(e=>e.checked);this.setCheckState(a)}setCheckState(e){const l=this.children.length,a=this.children.reduce((e,l)=>e+(l.checked?1:l.indeterminate?.5:0),0);this.checked=this.loaded&&this.children.filter(e=>!e.isDisabled).every(e=>e.loaded&&e.checked)&&e,this.indeterminate=this.loaded&&a!==l&&a>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:l,multiple:a}=this.config;l||!a?this.checked=e:(this.broadcast(e),this.setCheckState(e),this.emit())}}const dl=(e,l)=>e.reduce((e,a)=>(a.isLeaf?e.push(a):(!l&&e.push(a),e=e.concat(dl(a.children,l))),e),[]);class cl{constructor(e,l){this.config=l;const a=(e||[]).map(e=>new rl(e,this.config));this.nodes=a,this.allNodes=dl(a,!1),this.leafNodes=dl(a,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,l){const a=l?l.appendChild(e):new rl(e,this.config);l||this.nodes.push(a),this.appendAllNodesAndLeafNodes(a)}appendNodes(e,l){e.length>0?e.forEach(e=>this.appendNode(e,l)):l&&l.isLeaf&&this.leafNodes.push(l)}appendAllNodesAndLeafNodes(e){this.allNodes.push(e),e.isLeaf&&this.leafNodes.push(e),e.children&&e.children.forEach(e=>{this.appendAllNodesAndLeafNodes(e)})}getNodeByValue(e,l=!1){if(V(e))return null;return this.getFlattedNodes(l).find(l=>D(l.value,e)||D(l.pathValues,e))||null}getSameNode(e){if(!e)return null;return this.getFlattedNodes(!1).find(({value:l,level:a})=>D(e.value,l)&&e.level===a)||null}}const ul=j({modelValue:{type:R([Number,String,Array,Object])},options:{type:R(Array),default:()=>[]},props:{type:R(Object),default:()=>({})}}),pl={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:B,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500,checkOnClickNode:!1,checkOnClickLeaf:!0,showPrefix:!0},vl=j({...ul,border:{type:Boolean,default:!0},renderLabel:{type:Function}}),hl=e=>!0,fl={[We]:hl,[He]:hl,close:()=>!0,"expand-change":e=>e},ml=e=>{if(!e)return 0;const l=e.id.split("-");return Number(l[l.length-2])},yl=e({name:"ElCascaderPanel",inheritAttrs:!1});const gl=Z(o(e({...yl,props:vl,emits:fl,setup(e,{expose:a,emit:t}){const s=e;let n=!1;const o=l("cascader"),c=(e=>i(()=>({...pl,...e.props})))(s),v=A();let f;const m=S(!0),g=S(!1),k=S([]),C=S(),x=S([]),w=S(),T=S([]),$=i(()=>"hover"===c.value.expandTrigger),L=i(()=>s.renderLabel||v.default),_=()=>{const{options:e}=s,l=c.value;n=!1,f=new cl(e,l),x.value=[f.getNodes()],l.lazy&&E(s.options)?(m.value=!1,V(void 0,e=>{e&&(f=new cl(e,l),x.value=[f.getNodes()]),m.value=!0,G(!1,!0)})):G(!1,!0)},V=(e,l)=>{const a=c.value;(e=e||new rl({},a,void 0,!0)).loading=!0;a.lazyLoad(e,a=>{const t=e,s=t.root?null:t;t.loading=!1,t.loaded=!0,t.childrenData=t.childrenData||[],a&&(null==f||f.appendNodes(a,s)),a&&(null==l||l(a)),0===e.level&&(g.value=!0)},()=>{e.loading=!1,e.loaded=!1,0===e.level&&(m.value=!0)})},j=(e,l)=>{var a;const{level:s}=e,n=x.value.slice(0,s);let o;e.isLeaf?o=e.pathNodes[s-2]:(o=e,n.push(e.children)),(null==(a=w.value)?void 0:a.uid)!==(null==o?void 0:o.uid)&&(w.value=e,x.value=n,!l&&t("expand-change",(null==e?void 0:e.pathValues)||[]))},R=(e,l,a=!0)=>{const{checkStrictly:s,multiple:o}=c.value,i=T.value[0];n=!0,!o&&(null==i||i.doCheck(!1)),e.doCheck(l),Y(),a&&!o&&!s&&t("close"),!a&&!o&&B(e)},B=e=>{e&&(e=e.parent,B(e),e&&j(e))},Z=e=>null==f?void 0:f.getFlattedNodes(e),K=e=>{var l;return null==(l=Z(e))?void 0:l.filter(({checked:e})=>!1!==e)},Y=()=>{var e;const{checkStrictly:l,multiple:a}=c.value,t=((e,l)=>{const a=l.slice(0),t=a.map(e=>e.uid),s=e.reduce((e,l)=>{const s=t.indexOf(l.uid);return s>-1&&(e.push(l),a.splice(s,1),t.splice(s,1)),e},[]);return s.push(...a),s})(T.value,K(!l)),s=t.map(e=>e.valueByOption);T.value=t,C.value=a?s:null!=(e=s[0])?e:null},G=(e=!1,l=!1)=>{const{modelValue:a}=s,{lazy:t,multiple:o,checkStrictly:i}=c.value,r=!i;var d;if(m.value&&!n&&(l||!D(a,C.value)))if(t&&!e){const e=we(null!=(d=Te(a))&&d.length?Ue(d,el):[]).map(e=>null==f?void 0:f.getNodeByValue(e)).filter(e=>!!e&&!e.loaded&&!e.loading);e.length?e.forEach(e=>{V(e,()=>G(!1,l))}):G(!0,l)}else{const e=o?Te(a):[a],t=we(e.map(e=>null==f?void 0:f.getNodeByValue(e,r)));Q(t,l),C.value=Ke(null!=a?a:void 0)}},Q=(e,l=!0)=>{const{checkStrictly:a}=c.value,t=T.value,s=e.filter(e=>!!e&&(a||e.isLeaf)),n=null==f?void 0:f.getSameNode(w.value),o=l&&n||s[0];o?o.pathNodes.forEach(e=>j(e,!0)):w.value=void 0,t.forEach(e=>e.doCheck(!1)),P(s).forEach(e=>e.doCheck(!0)),T.value=s,I(X)},X=()=>{U&&k.value.forEach(e=>{const l=null==e?void 0:e.$el;if(l){const e=l.querySelector(`.${o.namespace.value}-scrollbar__wrap`),a=l.querySelector(`.${o.b("node")}.${o.is("active")}:last-child`)||l.querySelector(`.${o.b("node")}.in-active-path`);ke(e,a)}})},J=e=>{const l=e.target,a=H(e);switch(a){case W.up:case W.down:{e.preventDefault();const t=a===W.up?-1:1;ze($e(l,t,`.${o.b("node")}[tabindex="-1"]`));break}case W.left:{e.preventDefault();const a=k.value[ml(l)-1],t=null==a?void 0:a.$el.querySelector(`.${o.b("node")}[aria-expanded="true"]`);ze(t);break}case W.right:{e.preventDefault();const a=k.value[ml(l)+1],t=null==a?void 0:a.$el.querySelector(`.${o.b("node")}[tabindex="-1"]`);ze(t);break}case W.enter:case W.numpadEnter:(e=>{if(!e)return;const l=e.querySelector("input");l?l.click():Ne(e)&&e.click()})(l)}};F(ll,P({config:c,expandingNode:w,checkedNodes:T,isHoverMenu:$,initialLoaded:m,renderLabelFn:L,lazyLoad:V,expandNode:j,handleCheckChange:R})),O(c,(e,l)=>{D(e,l)||_()},{immediate:!0}),O(()=>s.options,_,{deep:!0}),O(()=>s.modelValue,()=>{n=!1,G()},{deep:!0}),O(()=>C.value,e=>{D(e,s.modelValue)||(t(We,e),t(He,e))});return M(()=>k.value=[]),q(()=>!E(s.modelValue)&&G()),a({menuList:k,menus:x,checkedNodes:T,handleKeyDown:J,handleCheckChange:R,getFlattedNodes:Z,getCheckedNodes:K,clearCheckedNodes:()=>{T.value.forEach(e=>e.doCheck(!1)),Y(),x.value=x.value.slice(0,1),w.value=void 0,t("expand-change",[])},calculateCheckedValue:Y,scrollToExpandingNode:X,loadLazyRootNodes:()=>{g.value||_()}}),(e,l)=>(d(),r("div",{class:y([p(o).b("panel"),p(o).is("bordered",e.border)]),onKeydown:J},[(d(!0),r(b,null,N(x.value,(l,a)=>(d(),u(ol,{key:a,ref_for:!0,ref:e=>k.value[a]=e,index:a,nodes:[...l]},{empty:h(()=>[z(e.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],34))}}),[["__file","index.vue"]])),bl=j({...ul,size:X,placeholder:String,disabled:Boolean,clearable:Boolean,clearIcon:{type:Q,default:G},filterable:Boolean,filterMethod:{type:R(Function),default:(e,l)=>e.text.includes(l)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:Boolean,maxCollapseTagsTooltipHeight:{type:[String,Number]},debounce:{type:Number,default:300},beforeFilter:{type:R(Function),default:()=>!0},placement:{type:R(String),values:Le,default:"bottom-start"},fallbackPlacements:{type:R(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:Ee.popperClass,popperStyle:Ee.popperStyle,teleported:Ee.teleported,effect:{type:R(String),default:"light"},tagType:{...Ge.type,default:"info"},tagEffect:{...Ge.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},showCheckedStrategy:{type:String,values:["parent","child"],default:"child"},checkOnClickNode:Boolean,showPrefix:{type:Boolean,default:!0},...Y}),kl=e=>!0,Cl={[We]:kl,[He]:kl,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>K(e),expandChange:e=>!!e,removeTag:e=>!!e},xl=e({name:"ElCascader"});const Sl=Z(o(e({...xl,props:bl,emits:Cl,setup(e,{expose:a,emit:s}){const n=e,o={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:l,placement:a}=e;["right","left","bottom","top"].includes(a)||l.arrow&&(l.arrow.x=35)},requires:["arrow"]}]},k=J();let C=0,w=0;const $=l("cascader"),E=l("input"),{t:L}=x(),{formItem:_}=Me(),V=qe(),{valueOnClear:D}=ee(n),{isComposing:j,handleComposition:R}=Xe({afterComposition(e){var l;const a=null==(l=e.target)?void 0:l.value;yl(a)}}),B=S(),A=S(),F=S(),P=S(),M=S(),Z=S(),K=S(!1),Y=S(!1),G=S(!1),Q=S(""),X=S(""),he=S([]),fe=S([]),me=i(()=>n.props.multiple?n.collapseTags?he.value.slice(0,n.maxCollapseTags):he.value:[]),ye=i(()=>n.props.multiple&&n.collapseTags?he.value.slice(n.maxCollapseTags):[]),ge=i(()=>k.style),be=i(()=>{var e;return null!=(e=n.placeholder)?e:L("el.cascader.placeholder")}),ke=i(()=>X.value||he.value.length>0||j.value?"":be.value),Ce=Ie(),xe=i(()=>"small"===Ce.value?"small":"default"),Se=i(()=>!!n.props.multiple),Ne=i(()=>!n.filterable||Se.value),we=i(()=>Se.value?X.value:Q.value),Te=i(()=>{var e;return(null==(e=M.value)?void 0:e.checkedNodes)||[]}),{wrapperRef:Ee,isFocused:Le,handleBlur:je}=Je(F,{disabled:V,beforeBlur(e){var l,a;return(null==(l=B.value)?void 0:l.isFocusInsideContent(e))||(null==(a=A.value)?void 0:a.isFocusInsideContent(e))},afterBlur(){var e;n.validateEvent&&(null==(e=null==_?void 0:_.validate)||e.call(_,"blur").catch(e=>Ze()))}}),Re=i(()=>!(!n.clearable||V.value||G.value||!Y.value&&!Le.value)&&!!Te.value.length),Be=i(()=>{const{showAllLevels:e,separator:l}=n,a=Te.value;return a.length?Se.value?"":a[0].calcText(e,l):""}),Ae=i(()=>(null==_?void 0:_.validateState)||""),Fe=i({get:()=>Ke(n.modelValue),set(e){const l=null!=e?e:D.value;s(We,l),s(He,l),n.validateEvent&&(null==_||_.validate("change").catch(e=>Ze()))}}),Pe=i(()=>[$.b(),$.m(Ce.value),$.is("disabled",V.value),k.class]),Oe=i(()=>[E.e("icon"),"icon-arrow-down",$.is("reverse",K.value)]),Ue=i(()=>$.is("focus",Le.value)),Ge=i(()=>{var e,l;return null==(l=null==(e=B.value)?void 0:e.popperRef)?void 0:l.contentRef}),el=e=>{if(Le.value){const l=new FocusEvent("blur",e);je(l)}ll(!1)},ll=e=>{var l,a,t;V.value||(e=null!=e?e:!K.value)!==K.value&&(K.value=e,null==(a=null==(l=F.value)?void 0:l.input)||a.setAttribute("aria-expanded",`${e}`),e?(al(),I(null==(t=M.value)?void 0:t.scrollToExpandingNode)):n.filterable&&pl(),s("visibleChange",e))},al=()=>{I(()=>{var e;null==(e=B.value)||e.updatePopper()})},tl=()=>{G.value=!1},sl=e=>{var l;const a=e.node;a.doCheck(!1),null==(l=M.value)||l.calculateCheckedValue(),s("removeTag",a.valueByOption)},nl=()=>{var e,l;const{filterMethod:a,showAllLevels:t,separator:s}=n,o=null==(l=null==(e=M.value)?void 0:e.getFlattedNodes(!n.props.checkStrictly))?void 0:l.filter(e=>!e.isDisabled&&(e.calcText(t,s),a(e,we.value)));Se.value&&he.value.forEach(e=>{e.hitState=!1}),G.value=!0,fe.value=o,al()},ol=()=>{var e;let l;l=G.value&&Z.value?Z.value.$el.querySelector(`.${$.e("suggestion-item")}`):null==(e=M.value)?void 0:e.$el.querySelector(`.${$.b("node")}[tabindex="-1"]`),l&&(l.focus(),!G.value&&l.click())},il=()=>{var e,l;const a=null==(e=F.value)?void 0:e.input,t=P.value,s=null==(l=Z.value)?void 0:l.$el;if(U&&a){if(s){s.querySelector(`.${$.e("suggestion-list")}`).style.minWidth=`${a.offsetWidth}px`}if(t){const{offsetHeight:e}=t,l=he.value.length>0?Math.max(e,C)-2+"px":`${C}px`;a.style.height=l,al()}}},rl=e=>{var l;return null==(l=M.value)?void 0:l.getCheckedNodes(e)},dl=e=>{al(),s("expandChange",e)},cl=e=>{if(j.value)return;switch(H(e)){case W.enter:case W.numpadEnter:ll();break;case W.down:ll(!0),I(ol),e.preventDefault();break;case W.esc:!0===K.value&&(e.preventDefault(),e.stopPropagation(),ll(!1));break;case W.tab:ll(!1)}},ul=()=>{var e;null==(e=M.value)||e.clearCheckedNodes(),!K.value&&n.filterable&&pl(),ll(!1),s("clear")},pl=()=>{const{value:e}=Be;Q.value=e,X.value=e},vl=e=>{const l=e.target,a=H(e);switch(a){case W.up:case W.down:{e.preventDefault();const t=a===W.up?-1:1;ze($e(l,t,`.${$.e("suggestion-item")}[tabindex="-1"]`));break}case W.enter:case W.numpadEnter:l.click()}},hl=()=>{const e=he.value[he.value.length-1];w=X.value?0:w+1,!e||!w||n.collapseTags&&he.value.length>1||(e.hitState?sl(e):e.hitState=!0)},fl=i(()=>n.debounce),ml=ue(()=>{const{value:e}=we;if(!e)return;const l=n.beforeFilter(e);ve(l)?l.then(nl).catch(()=>{}):!1!==l?nl():tl()},fl),yl=(e,l)=>{!K.value&&ll(!0),(null==l?void 0:l.isComposing)||(e?ml():tl())},bl=e=>Number.parseFloat(pe(E.cssVarName("input-height"),e).value)-2;return O(G,al),O([Te,V,()=>n.collapseTags,()=>n.maxCollapseTags],()=>{if(!Se.value)return;const e=(()=>{switch(n.showCheckedStrategy){case"child":return Te.value;case"parent":{const e=rl(!1),l=e.map(e=>e.value);return e.filter(e=>!e.parent||!l.includes(e.parent.value))}default:return[]}})(),l=[];e.forEach(e=>l.push((e=>{const{showAllLevels:l,separator:a}=n;return{node:e,key:e.uid,text:e.calcText(l,a),hitState:!1,closable:!V.value&&!e.isDisabled}})(e))),he.value=l}),O(he,()=>{I(()=>il())}),O(Ce,async()=>{await I();const e=F.value.input;C=bl(e)||C,il()}),O(Be,pl,{immediate:!0}),O(()=>K.value,e=>{var l;e&&n.props.lazy&&n.props.lazyLoad&&(null==(l=M.value)||l.loadLazyRootNodes())}),q(()=>{const e=F.value.input,l=bl(e);C=e.offsetHeight||l,le(e,il)}),a({getCheckedNodes:rl,cascaderPanelRef:M,togglePopperVisible:ll,contentRef:Ge,presentText:Be}),(e,l)=>(d(),u(p(_e),{ref_key:"tooltipRef",ref:B,visible:K.value,teleported:e.teleported,"popper-class":[p($).e("dropdown"),e.popperClass],"popper-style":e.popperStyle,"popper-options":o,"fallback-placements":e.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:e.placement,transition:`${p($).namespace.value}-zoom-in-top`,effect:e.effect,pure:"",persistent:e.persistent,onHide:tl},{default:h(()=>[ae((d(),r("div",{ref_key:"wrapperRef",ref:Ee,class:y(p(Pe)),style:ne(p(ge)),onClick:()=>ll(!p(Ne)||void 0),onKeydown:cl,onMouseenter:e=>Y.value=!0,onMouseleave:e=>Y.value=!1},[t(p(Ye),{ref_key:"inputRef",ref:F,modelValue:Q.value,"onUpdate:modelValue":e=>Q.value=e,placeholder:p(ke),readonly:p(Ne),disabled:p(V),"validate-event":!1,size:p(Ce),class:y(p(Ue)),tabindex:p(Se)&&e.filterable&&!p(V)?-1:void 0,onCompositionstart:p(R),onCompositionupdate:p(R),onCompositionend:p(R),onInput:yl},oe({suffix:h(()=>[p(Re)?(d(),u(p(g),{key:"clear",class:y([p(E).e("icon"),"icon-circle-close"]),onClick:v(ul,["stop"])},{default:h(()=>[(d(),u(ie(e.clearIcon)))]),_:1},8,["class","onClick"])):(d(),u(p(g),{key:"arrow-down",class:y(p(Oe)),onClick:v(e=>ll(),["stop"])},{default:h(()=>[t(p(re))]),_:1},8,["class","onClick"]))]),_:2},[e.$slots.prefix?{name:"prefix",fn:h(()=>[z(e.$slots,"prefix")])}:void 0]),1032,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),p(Se)?(d(),r("div",{key:0,ref_key:"tagWrapper",ref:P,class:y([p($).e("tags"),p($).is("validate",Boolean(p(Ae)))])},[z(e.$slots,"tag",{data:he.value,deleteTag:sl},()=>[(d(!0),r(b,null,N(p(me),l=>(d(),u(p(Qe),{key:l.key,type:e.tagType,size:p(xe),effect:e.tagEffect,hit:l.hitState,closable:l.closable,"disable-transitions":"",onClose:e=>sl(l)},{default:h(()=>[f("span",null,T(l.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128))]),e.collapseTags&&he.value.length>e.maxCollapseTags?(d(),u(p(_e),{key:0,ref_key:"tagTooltipRef",ref:A,disabled:K.value||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,effect:e.effect,persistent:e.persistent},{default:h(()=>[t(p(Qe),{closable:!1,size:p(xe),type:e.tagType,effect:e.tagEffect,"disable-transitions":""},{default:h(()=>[f("span",{class:y(p($).e("tags-text"))}," + "+T(he.value.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect"])]),content:h(()=>[t(p(Ve),{"max-height":e.maxCollapseTagsTooltipHeight},{default:h(()=>[f("div",{class:y(p($).e("collapse-tags"))},[(d(!0),r(b,null,N(p(ye),(l,a)=>(d(),r("div",{key:a,class:y(p($).e("collapse-tag"))},[(d(),u(p(Qe),{key:l.key,class:"in-tooltip",type:e.tagType,size:p(xe),effect:e.tagEffect,hit:l.hitState,closable:l.closable,"disable-transitions":"",onClose:e=>sl(l)},{default:h(()=>[f("span",null,T(l.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:1},8,["max-height"])]),_:1},8,["disabled","popper-class","popper-style","effect","persistent"])):c("v-if",!0),e.filterable&&!p(V)?ae((d(),r("input",{key:1,"onUpdate:modelValue":e=>X.value=e,type:"text",class:y(p($).e("search-input")),placeholder:p(Be)?"":p(be),onInput:e=>yl(X.value,e),onClick:v(e=>ll(!0),["stop"]),onKeydown:de(hl,["delete"]),onCompositionstart:p(R),onCompositionupdate:p(R),onCompositionend:p(R)},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[ce,X.value]]):c("v-if",!0)],2)):c("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[p(De),el,p(Ge)]])]),content:h(()=>[e.$slots.header?(d(),r("div",{key:0,class:y(p($).e("header")),onClick:v(()=>{},["stop"])},[z(e.$slots,"header")],10,["onClick"])):c("v-if",!0),ae(t(p(gl),{ref_key:"cascaderPanelRef",ref:M,modelValue:p(Fe),"onUpdate:modelValue":e=>te(Fe)?Fe.value=e:null,options:e.options,props:n.props,border:!1,"render-label":e.$slots.default,onExpandChange:dl,onClose:l=>e.$nextTick(()=>ll(!1))},{empty:h(()=>[z(e.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[se,!G.value]]),e.filterable?ae((d(),u(p(Ve),{key:1,ref_key:"suggestionPanel",ref:Z,tag:"ul",class:y(p($).e("suggestion-panel")),"view-class":p($).e("suggestion-list"),onKeydown:vl},{default:h(()=>[fe.value.length?(d(!0),r(b,{key:0},N(fe.value,l=>(d(),r("li",{key:l.uid,class:y([p($).e("suggestion-item"),p($).is("checked",l.checked)]),tabindex:-1,onClick:e=>(e=>{var l,a;const{checked:t}=e;Se.value?null==(l=M.value)||l.handleCheckChange(e,!t,!1):(!t&&(null==(a=M.value)||a.handleCheckChange(e,!0,!1)),ll(!1))})(l)},[z(e.$slots,"suggestion-item",{item:l},()=>[f("span",null,T(l.text),1),l.checked?(d(),u(p(g),{key:0},{default:h(()=>[t(p(m))]),_:1})):c("v-if",!0)])],10,["onClick"]))),128)):z(e.$slots,"empty",{key:1},()=>[f("li",{class:y(p($).e("empty-text"))},T(p(L)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[se,G.value]]):c("v-if",!0),e.$slots.footer?(d(),r("div",{key:2,class:y(p($).e("footer")),onClick:v(()=>{},["stop"])},[z(e.$slots,"footer")],10,["onClick"])):c("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-style","fallback-placements","placement","transition","effect","persistent"]))}}),[["__file","cascader.vue"]])),Nl=e({name:"ElSpaceItem",props:j({prefixCls:{type:String}}),setup(e,{slots:a}){const t=l("space"),s=i(()=>`${e.prefixCls||t.b()}__item`);return()=>he("div",{class:s.value},z(a,"default"))}}),wl={small:8,default:12,large:16};const Tl=Z(e({name:"ElSpace",props:j({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:R([String,Object,Array]),default:""},style:{type:R([String,Array,Object]),default:""},alignment:{type:R(String),default:"center"},prefixCls:{type:String},spacer:{type:R([Object,String,Number,Array]),default:null,validator:e=>ye(e)||me(e)||be(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:ge,validator:e=>me(e)||s(e)&&2===e.length&&e.every(me)}}),setup(e,{slots:a}){const{classes:o,containerStyle:r,itemStyle:d}=function(e){const a=l("space"),t=i(()=>[a.b(),a.m(e.direction),e.class]),n=S(0),o=S(0),r=i(()=>[e.wrap||e.fill?{flexWrap:"wrap"}:{},{alignItems:e.alignment},{rowGap:`${o.value}px`,columnGap:`${n.value}px`},e.style]),d=i(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return fe(()=>{const{size:l="small",wrap:a,direction:t,fill:i}=e;if(s(l)){const[e=0,a=0]=l;n.value=e,o.value=a}else{let e;e=me(l)?l:wl[l||"small"]||wl.small,(a||i)&&"horizontal"===t?n.value=o.value=e:"horizontal"===t?(n.value=e,o.value=0):(o.value=e,n.value=0)}}),{classes:t,containerStyle:r,itemStyle:d}}(e);function c(l,a="",o=[]){const{prefixCls:i}=e;return l.forEach((e,l)=>{xe(e)?s(e.children)&&e.children.forEach((e,l)=>{xe(e)&&s(e.children)?c(e.children,`${a+l}-`,o):ye(e)&&(null==e?void 0:e.type)===n?o.push(e):o.push(t(Nl,{style:d.value,prefixCls:i,key:`nested-${a+l}`},{default:()=>[e]},Ce.PROPS|Ce.STYLE,["style","prefixCls"]))}):Se(e)&&o.push(t(Nl,{style:d.value,prefixCls:i,key:`LoopKey${a+l}`},{default:()=>[e]},Ce.PROPS|Ce.STYLE,["style","prefixCls"]))}),o}return()=>{var l;const{spacer:n,direction:i}=e,u=z(a,"default",{key:0},()=>[]);if(0===(null!=(l=u.children)?l:[]).length)return null;if(s(u.children)){let e=c(u.children);if(n){const l=e.length-1;e=e.reduce((e,a,s)=>{const o=[...e,a];return s!==l&&o.push(t("span",{style:[d.value,"vertical"===i?"width: 100%":null],key:s},[ye(n)?n:w(n,Ce.TEXT)],Ce.STYLE)),o},[])}return t("div",{class:o.value,style:r.value},e,Ce.STYLE|Ce.CLASS)}return u.children}}})),zl=e({__name:"zoneSelecter",props:{selectZone:{type:String,default:"",required:!0},width:{type:String,default:"30em"},size:{type:String,default:"small"},clearable:{type:Boolean,default:!1},placeholder:{type:String,default:"选择区域"}},emits:["update:selectZone"],setup(e,{emit:l}){const{t:a}=Be(),t=i(()=>{const e=[{type:Fe.Dungeons,label:a("zoneSelect.dungeons")},{type:Fe.Trials,label:a("zoneSelect.trials")},{type:Fe.Raids,label:a("zoneSelect.raids")},{type:Fe.ChaoticAllianceRaid,label:a("zoneSelect.chaoticAllianceRaid")},{type:Fe.UltimateRaids,label:a("zoneSelect.ultimateRaids")},{type:Fe.VCDungeonFinder,label:a("zoneSelect.vcDungeonFinder")},{type:Fe.DeepDungeonExtras,label:a("zoneSelect.deepDungeonExtras")},{type:Fe.DeepDungeons,label:a("zoneSelect.deepDungeons")},{type:Fe.DisciplesOfTheLand,label:a("zoneSelect.disciplesOfTheLand")},{type:Fe.Eureka,label:a("zoneSelect.eureka")},{type:Fe.SaveTheQueen,label:a("zoneSelect.saveTheQueen")},{type:Fe.OccultCrescent,label:a("zoneSelect.occultCrescent")}],l=[];return e.forEach(e=>{e.type===Fe.Trials?l.push({label:e.label,value:Fe.Trials,children:[{label:a("zoneSelect.trialExtreme"),value:"歼殛战",children:[]},{label:a("zoneSelect.trialUnreal"),value:"幻巧战",children:[]},{label:a("zoneSelect.trialNormal"),value:"歼灭战",children:[]}]}):e.type===Fe.Raids?l.push({label:e.label,value:Fe.Raids,children:[{label:a("zoneSelect.raidSavage"),value:"零式",children:[]},{label:a("zoneSelect.raidNormal"),value:"普通",children:[]}]}):l.push({label:e.label,value:e.type,children:[]})}),Object.entries(Pe).map(([e,l])=>({id:e,...l})).sort((e,l)=>e.exVersion!==l.exVersion?l.exVersion-e.exVersion:e.contentType===Fe.Raids&&l.contentType===Fe.Raids&&l.name.ja&&e.name.ja?e.name.ja.localeCompare(l.name.ja):Number(e.id)-Number(l.id)).filter(l=>!l.name.en.startsWith("(")&&l.contentType&&e.some(e=>e.type===l.contentType)).forEach(e=>{const a=e.id,t=`[${+e.exVersion+2}.0] `+Ae(e.name);if(e.contentType===Fe.Trials){const s=l.find(e=>e.value===Fe.Trials);if(!s)return;let n="歼灭战";e.name.en.includes("(Extreme)")||e.name.ja?.startsWith("極")||e.name.fr?.includes("(extrême)")?n="歼殛战":e.name.en.includes("(Unreal)")&&(n="幻巧战");const o=s.children.find(e=>e.value===n);o&&o.children.push({value:a,label:t})}else if(e.contentType===Fe.Raids){const s=l.find(e=>e.value===Fe.Raids);if(!s)return;const n=e.name.en.includes("(Savage)")?"零式":"普通",o=s.children.find(e=>e.value===n);o&&o.children.push({value:a,label:t})}else{const s=l.find(l=>l.value===e.contentType);s&&s.children.push({value:a,label:t})}}),l.push({label:a("zoneSelect.uncategorized"),value:"0"}),l.sort((l,a)=>{const t=e.findIndex(e=>e.label===l.label),s=e.findIndex(e=>e.label===a.label);return(-1===t?999:t)-(-1===s?999:s)})}),s=e,n=l,o=S(s.selectZone);return O(o,e=>n("update:selectZone",e)),O(()=>s.selectZone,e=>o.value=e),(e,l)=>{const a=Sl;return d(),u(a,{placeholder:s.placeholder,modelValue:p(o),"onUpdate:modelValue":l[0]||(l[0]=e=>te(o)?o.value=e:null),options:p(t),"show-all-levels":!0,props:{emitPath:!1},style:ne({width:s.width}),size:s.size,filterable:"",clearable:s.clearable},null,8,["placeholder","modelValue","options","style","size","clearable"])}}});export{Tl as E,zl as _};

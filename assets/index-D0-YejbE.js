import{f as e}from"./vnode-CuaFMkfV.js";import{aF as t,d as n,af as r,bh as a,h as o,av as s}from"./index-B-PvB7wX.js";const d=(d,l)=>{const i=t({}),u=t([]),p=new WeakMap,f=()=>{u.value=((t,n,r)=>e(t.subTree).filter(e=>{var t;return s(e)&&(null==(t=e.type)?void 0:t.name)===n&&!!e.component}).map(e=>e.component.uid).map(e=>r[e]).filter(e=>!!e))(d,l,i.value)},m=e=>e.render(),c=n({setup:(e,{slots:t})=>()=>(f(),t.default?r(m,{render:t.default}):null)});return{children:u,addChild:e=>{i.value[e.uid]=e,a(i),o(()=>{const t=e.getVnode().el,n=t.parentNode;if(!p.has(n)){p.set(n,[]);const e=n.insertBefore.bind(n);n.insertBefore=(t,r)=>(p.get(n).some(e=>t===e||r===e)&&a(i),e(t,r))}p.get(n).push(t)})},removeChild:e=>{delete i.value[e.uid],a(i);const t=e.getVnode().el,n=t.parentNode,r=p.get(n),o=r.indexOf(t);r.splice(o,1)},ChildrenSorter:c}};export{d as u};
